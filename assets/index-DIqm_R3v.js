function WB(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var sm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lb={exports:{}},Xf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZC;function YB(){if(ZC)return Xf;ZC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return Xf.Fragment=e,Xf.jsx=n,Xf.jsxs=n,Xf}var eI;function XB(){return eI||(eI=1,lb.exports=YB()),lb.exports}var x=XB(),ub={exports:{}},Qf={},cb={exports:{}},fb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tI;function QB(){return tI||(tI=1,(function(t){function e(H,Y){var ee=H.length;H.push(Y);e:for(;0<ee;){var ue=ee-1>>>1,ve=H[ue];if(0<i(ve,Y))H[ue]=Y,H[ee]=ve,ee=ue;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var Y=H[0],ee=H.pop();if(ee!==Y){H[0]=ee;e:for(var ue=0,ve=H.length,F=ve>>>1;ue<F;){var W=2*(ue+1)-1,oe=H[W],me=W+1,we=H[me];if(0>i(oe,ee))me<ve&&0>i(we,oe)?(H[ue]=we,H[me]=ee,ue=me):(H[ue]=oe,H[W]=ee,ue=W);else if(me<ve&&0>i(we,ee))H[ue]=we,H[me]=ee,ue=me;else break e}}return Y}function i(H,Y){var ee=H.sortIndex-Y.sortIndex;return ee!==0?ee:H.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],h=[],p=1,m=null,v=3,_=!1,E=!1,S=!1,w=!1,O=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function L(H){for(var Y=n(h);Y!==null;){if(Y.callback===null)r(h);else if(Y.startTime<=H)r(h),Y.sortIndex=Y.expirationTime,e(f,Y);else break;Y=n(h)}}function C(H){if(S=!1,L(H),!E)if(n(f)!==null)E=!0,M||(M=!0,B());else{var Y=n(h);Y!==null&&J(C,Y.startTime-H)}}var M=!1,A=-1,P=5,k=-1;function U(){return w?!0:!(t.unstable_now()-k<P)}function D(){if(w=!1,M){var H=t.unstable_now();k=H;var Y=!0;try{e:{E=!1,S&&(S=!1,I(A),A=-1),_=!0;var ee=v;try{t:{for(L(H),m=n(f);m!==null&&!(m.expirationTime>H&&U());){var ue=m.callback;if(typeof ue=="function"){m.callback=null,v=m.priorityLevel;var ve=ue(m.expirationTime<=H);if(H=t.unstable_now(),typeof ve=="function"){m.callback=ve,L(H),Y=!0;break t}m===n(f)&&r(f),L(H)}else r(f);m=n(f)}if(m!==null)Y=!0;else{var F=n(h);F!==null&&J(C,F.startTime-H),Y=!1}}break e}finally{m=null,v=ee,_=!1}Y=void 0}}finally{Y?B():M=!1}}}var B;if(typeof N=="function")B=function(){N(D)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Q=V.port2;V.port1.onmessage=D,B=function(){Q.postMessage(null)}}else B=function(){O(D,0)};function J(H,Y){A=O(function(){H(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(H){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var ee=v;v=Y;try{return H()}finally{v=ee}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(H,Y){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ee=v;v=H;try{return Y()}finally{v=ee}},t.unstable_scheduleCallback=function(H,Y,ee){var ue=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ue+ee:ue):ee=ue,H){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=ee+ve,H={id:p++,callback:Y,priorityLevel:H,startTime:ee,expirationTime:ve,sortIndex:-1},ee>ue?(H.sortIndex=ee,e(h,H),n(f)===null&&H===n(h)&&(S?(I(A),A=-1):S=!0,J(C,ee-ue))):(H.sortIndex=ve,e(f,H),E||_||(E=!0,M||(M=!0,B()))),H},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(H){var Y=v;return function(){var ee=v;v=Y;try{return H.apply(this,arguments)}finally{v=ee}}}})(fb)),fb}var nI;function JB(){return nI||(nI=1,cb.exports=QB()),cb.exports}var hb={exports:{}},ut={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rI;function ZB(){if(rI)return ut;rI=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),v=Symbol.iterator;function _(F){return F===null||typeof F!="object"?null:(F=v&&F[v]||F["@@iterator"],typeof F=="function"?F:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function O(F,W,oe){this.props=F,this.context=W,this.refs=w,this.updater=oe||E}O.prototype.isReactComponent={},O.prototype.setState=function(F,W){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,W,"setState")},O.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function I(){}I.prototype=O.prototype;function N(F,W,oe){this.props=F,this.context=W,this.refs=w,this.updater=oe||E}var L=N.prototype=new I;L.constructor=N,S(L,O.prototype),L.isPureReactComponent=!0;var C=Array.isArray;function M(){}var A={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function k(F,W,oe){var me=oe.ref;return{$$typeof:t,type:F,key:W,ref:me!==void 0?me:null,props:oe}}function U(F,W){return k(F.type,W,F.props)}function D(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function B(F){var W={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(oe){return W[oe]})}var V=/\/+/g;function Q(F,W){return typeof F=="object"&&F!==null&&F.key!=null?B(""+F.key):W.toString(36)}function J(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(M,M):(F.status="pending",F.then(function(W){F.status==="pending"&&(F.status="fulfilled",F.value=W)},function(W){F.status==="pending"&&(F.status="rejected",F.reason=W)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function H(F,W,oe,me,we){var Se=typeof F;(Se==="undefined"||Se==="boolean")&&(F=null);var ke=!1;if(F===null)ke=!0;else switch(Se){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(F.$$typeof){case t:case e:ke=!0;break;case p:return ke=F._init,H(ke(F._payload),W,oe,me,we)}}if(ke)return we=we(F),ke=me===""?"."+Q(F,0):me,C(we)?(oe="",ke!=null&&(oe=ke.replace(V,"$&/")+"/"),H(we,W,oe,"",function(Ee){return Ee})):we!=null&&(D(we)&&(we=U(we,oe+(we.key==null||F&&F.key===we.key?"":(""+we.key).replace(V,"$&/")+"/")+ke)),W.push(we)),1;ke=0;var $e=me===""?".":me+":";if(C(F))for(var ye=0;ye<F.length;ye++)me=F[ye],Se=$e+Q(me,ye),ke+=H(me,W,oe,Se,we);else if(ye=_(F),typeof ye=="function")for(F=ye.call(F),ye=0;!(me=F.next()).done;)me=me.value,Se=$e+Q(me,ye++),ke+=H(me,W,oe,Se,we);else if(Se==="object"){if(typeof F.then=="function")return H(J(F),W,oe,me,we);throw W=String(F),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return ke}function Y(F,W,oe){if(F==null)return F;var me=[],we=0;return H(F,me,"","",function(Se){return W.call(oe,Se,we++)}),me}function ee(F){if(F._status===-1){var W=F._result;W=W(),W.then(function(oe){(F._status===0||F._status===-1)&&(F._status=1,F._result=oe)},function(oe){(F._status===0||F._status===-1)&&(F._status=2,F._result=oe)}),F._status===-1&&(F._status=0,F._result=W)}if(F._status===1)return F._result.default;throw F._result}var ue=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},ve={map:Y,forEach:function(F,W,oe){Y(F,function(){W.apply(this,arguments)},oe)},count:function(F){var W=0;return Y(F,function(){W++}),W},toArray:function(F){return Y(F,function(W){return W})||[]},only:function(F){if(!D(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return ut.Activity=m,ut.Children=ve,ut.Component=O,ut.Fragment=n,ut.Profiler=i,ut.PureComponent=N,ut.StrictMode=r,ut.Suspense=f,ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,ut.__COMPILER_RUNTIME={__proto__:null,c:function(F){return A.H.useMemoCache(F)}},ut.cache=function(F){return function(){return F.apply(null,arguments)}},ut.cacheSignal=function(){return null},ut.cloneElement=function(F,W,oe){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var me=S({},F.props),we=F.key;if(W!=null)for(Se in W.key!==void 0&&(we=""+W.key),W)!P.call(W,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&W.ref===void 0||(me[Se]=W[Se]);var Se=arguments.length-2;if(Se===1)me.children=oe;else if(1<Se){for(var ke=Array(Se),$e=0;$e<Se;$e++)ke[$e]=arguments[$e+2];me.children=ke}return k(F.type,we,me)},ut.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:s,_context:F},F},ut.createElement=function(F,W,oe){var me,we={},Se=null;if(W!=null)for(me in W.key!==void 0&&(Se=""+W.key),W)P.call(W,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(we[me]=W[me]);var ke=arguments.length-2;if(ke===1)we.children=oe;else if(1<ke){for(var $e=Array(ke),ye=0;ye<ke;ye++)$e[ye]=arguments[ye+2];we.children=$e}if(F&&F.defaultProps)for(me in ke=F.defaultProps,ke)we[me]===void 0&&(we[me]=ke[me]);return k(F,Se,we)},ut.createRef=function(){return{current:null}},ut.forwardRef=function(F){return{$$typeof:c,render:F}},ut.isValidElement=D,ut.lazy=function(F){return{$$typeof:p,_payload:{_status:-1,_result:F},_init:ee}},ut.memo=function(F,W){return{$$typeof:h,type:F,compare:W===void 0?null:W}},ut.startTransition=function(F){var W=A.T,oe={};A.T=oe;try{var me=F(),we=A.S;we!==null&&we(oe,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(M,ue)}catch(Se){ue(Se)}finally{W!==null&&oe.types!==null&&(W.types=oe.types),A.T=W}},ut.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},ut.use=function(F){return A.H.use(F)},ut.useActionState=function(F,W,oe){return A.H.useActionState(F,W,oe)},ut.useCallback=function(F,W){return A.H.useCallback(F,W)},ut.useContext=function(F){return A.H.useContext(F)},ut.useDebugValue=function(){},ut.useDeferredValue=function(F,W){return A.H.useDeferredValue(F,W)},ut.useEffect=function(F,W){return A.H.useEffect(F,W)},ut.useEffectEvent=function(F){return A.H.useEffectEvent(F)},ut.useId=function(){return A.H.useId()},ut.useImperativeHandle=function(F,W,oe){return A.H.useImperativeHandle(F,W,oe)},ut.useInsertionEffect=function(F,W){return A.H.useInsertionEffect(F,W)},ut.useLayoutEffect=function(F,W){return A.H.useLayoutEffect(F,W)},ut.useMemo=function(F,W){return A.H.useMemo(F,W)},ut.useOptimistic=function(F,W){return A.H.useOptimistic(F,W)},ut.useReducer=function(F,W,oe){return A.H.useReducer(F,W,oe)},ut.useRef=function(F){return A.H.useRef(F)},ut.useState=function(F){return A.H.useState(F)},ut.useSyncExternalStore=function(F,W,oe){return A.H.useSyncExternalStore(F,W,oe)},ut.useTransition=function(){return A.H.useTransition()},ut.version="19.2.0",ut}var iI;function ME(){return iI||(iI=1,hb.exports=ZB()),hb.exports}var db={exports:{}},Sr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aI;function e9(){if(aI)return Sr;aI=1;var t=ME();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,h,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:f,containerInfo:h,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Sr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Sr.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(f,h,null,p)},Sr.flushSync=function(f){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=h,r.p=p,r.d.f()}},Sr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},Sr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Sr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,m=c(p,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:_}):p==="script"&&r.d.X(f,{crossOrigin:m,integrity:v,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Sr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=c(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},Sr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,m=c(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Sr.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=c(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},Sr.requestFormReset=function(f){r.d.r(f)},Sr.unstable_batchedUpdates=function(f,h){return f(h)},Sr.useFormState=function(f,h,p){return l.H.useFormState(f,h,p)},Sr.useFormStatus=function(){return l.H.useHostTransitionStatus()},Sr.version="19.2.0",Sr}var sI;function s4(){if(sI)return db.exports;sI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),db.exports=e9(),db.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oI;function t9(){if(oI)return Qf;oI=1;var t=JB(),e=ME(),n=s4();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function f(a){if(s(a)!==a)throw Error(r(188))}function h(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var u=a,d=o;;){var y=u.return;if(y===null)break;var b=y.alternate;if(b===null){if(d=y.return,d!==null){u=d;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===u)return f(y),a;if(b===d)return f(y),o;b=b.sibling}throw Error(r(188))}if(u.return!==d.return)u=y,d=b;else{for(var R=!1,q=y.child;q;){if(q===u){R=!0,u=y,d=b;break}if(q===d){R=!0,d=y,u=b;break}q=q.sibling}if(!R){for(q=b.child;q;){if(q===u){R=!0,u=b,d=y;break}if(q===d){R=!0,d=b,u=y;break}q=q.sibling}if(!R)throw Error(r(189))}}if(u.alternate!==d)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:o}function p(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=p(a),o!==null)return o;a=a.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),N=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function B(a){return a===null||typeof a!="object"?null:(a=D&&a[D]||a["@@iterator"],typeof a=="function"?a:null)}var V=Symbol.for("react.client.reference");function Q(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===V?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case O:return"Profiler";case w:return"StrictMode";case C:return"Suspense";case M:return"SuspenseList";case k:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case E:return"Portal";case N:return a.displayName||"Context";case I:return(a._context.displayName||"Context")+".Consumer";case L:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case A:return o=a.displayName||null,o!==null?o:Q(a.type)||"Memo";case P:o=a._payload,a=a._init;try{return Q(a(o))}catch{}}return null}var J=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ue=[],ve=-1;function F(a){return{current:a}}function W(a){0>ve||(a.current=ue[ve],ue[ve]=null,ve--)}function oe(a,o){ve++,ue[ve]=a.current,a.current=o}var me=F(null),we=F(null),Se=F(null),ke=F(null);function $e(a,o){switch(oe(Se,o),oe(we,a),oe(me,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?wC(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=wC(o),a=SC(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}W(me),oe(me,a)}function ye(){W(me),W(we),W(Se)}function Ee(a){a.memoizedState!==null&&oe(ke,a);var o=me.current,u=SC(o,a.type);o!==u&&(oe(we,a),oe(me,u))}function Ne(a){we.current===a&&(W(me),W(we)),ke.current===a&&(W(ke),Gf._currentValue=ee)}var ne,He;function _e(a){if(ne===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);ne=o&&o[1]||"",He=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ne+a+He}var Te=!1;function Be(a,o){if(!a||Te)return"";Te=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(ce){var se=ce}Reflect.construct(a,[],ge)}else{try{ge.call()}catch(ce){se=ce}a.call(ge.prototype)}}else{try{throw Error()}catch(ce){se=ce}(ge=a())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(ce){if(ce&&se&&typeof ce.stack=="string")return[ce.stack,se.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),R=b[0],q=b[1];if(R&&q){var K=R.split(`
`),ae=q.split(`
`);for(y=d=0;d<K.length&&!K[d].includes("DetermineComponentFrameRoot");)d++;for(;y<ae.length&&!ae[y].includes("DetermineComponentFrameRoot");)y++;if(d===K.length||y===ae.length)for(d=K.length-1,y=ae.length-1;1<=d&&0<=y&&K[d]!==ae[y];)y--;for(;1<=d&&0<=y;d--,y--)if(K[d]!==ae[y]){if(d!==1||y!==1)do if(d--,y--,0>y||K[d]!==ae[y]){var fe=`
`+K[d].replace(" at new "," at ");return a.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",a.displayName)),fe}while(1<=d&&0<=y);break}}}finally{Te=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?_e(u):""}function Ke(a,o){switch(a.tag){case 26:case 27:case 5:return _e(a.type);case 16:return _e("Lazy");case 13:return a.child!==o&&o!==null?_e("Suspense Fallback"):_e("Suspense");case 19:return _e("SuspenseList");case 0:case 15:return Be(a.type,!1);case 11:return Be(a.type.render,!1);case 1:return Be(a.type,!0);case 31:return _e("Activity");default:return""}}function st(a){try{var o="",u=null;do o+=Ke(a,u),u=a,a=a.return;while(a);return o}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var We=Object.prototype.hasOwnProperty,qe=t.unstable_scheduleCallback,xt=t.unstable_cancelCallback,Dt=t.unstable_shouldYield,En=t.unstable_requestPaint,Ie=t.unstable_now,ht=t.unstable_getCurrentPriorityLevel,_t=t.unstable_ImmediatePriority,Vt=t.unstable_UserBlockingPriority,Zt=t.unstable_NormalPriority,en=t.unstable_LowPriority,_n=t.unstable_IdlePriority,Pt=t.log,he=t.unstable_setDisableYieldValue,Ae=null,Ge=null;function Rt(a){if(typeof Pt=="function"&&he(a),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(Ae,a)}catch{}}var ot=Math.clz32?Math.clz32:dt,Kt=Math.log,Nt=Math.LN2;function dt(a){return a>>>=0,a===0?32:31-(Kt(a)/Nt|0)|0}var $t=256,Ue=262144,Oe=4194304;function Me(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function pt(a,o,u){var d=a.pendingLanes;if(d===0)return 0;var y=0,b=a.suspendedLanes,R=a.pingedLanes;a=a.warmLanes;var q=d&134217727;return q!==0?(d=q&~b,d!==0?y=Me(d):(R&=q,R!==0?y=Me(R):u||(u=q&~a,u!==0&&(y=Me(u))))):(q=d&~b,q!==0?y=Me(q):R!==0?y=Me(R):u||(u=d&~a,u!==0&&(y=Me(u)))),y===0?0:o!==0&&o!==y&&(o&b)===0&&(b=y&-y,u=o&-o,b>=u||b===32&&(u&4194048)!==0)?o:y}function Mt(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function or(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vr(){var a=Oe;return Oe<<=1,(Oe&62914560)===0&&(Oe=4194304),a}function Dn(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function Xr(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function af(a,o,u,d,y,b){var R=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var q=a.entanglements,K=a.expirationTimes,ae=a.hiddenUpdates;for(u=R&~u;0<u;){var fe=31-ot(u),ge=1<<fe;q[fe]=0,K[fe]=-1;var se=ae[fe];if(se!==null)for(ae[fe]=null,fe=0;fe<se.length;fe++){var ce=se[fe];ce!==null&&(ce.lane&=-536870913)}u&=~ge}d!==0&&ja(a,d,0),b!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=b&~(R&~o))}function ja(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var d=31-ot(o);a.entangledLanes|=o,a.entanglements[d]=a.entanglements[d]|1073741824|u&261930}function No(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var d=31-ot(u),y=1<<d;y&o|a[d]&o&&(a[d]|=o),u&=~y}}function ko(a,o){var u=o&-o;return u=(u&42)!==0?1:Da(u),(u&(a.suspendedLanes|o))!==0?0:u}function Da(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Li(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Xl(){var a=Y.p;return a!==0?a:(a=window.event,a===void 0?32:GC(a.type))}function Qr(a,o){var u=Y.p;try{return Y.p=a,o()}finally{Y.p=u}}var Jr=Math.random().toString(36).slice(2),Pn="__reactFiber$"+Jr,Rn="__reactProps$"+Jr,$r="__reactContainer$"+Jr,Vi="__reactEvents$"+Jr,As="__reactListeners$"+Jr,Ql="__reactHandles$"+Jr,Jl="__reactResources$"+Jr,mi="__reactMarker$"+Jr;function $i(a){delete a[Pn],delete a[Rn],delete a[Vi],delete a[As],delete a[Ql]}function _r(a){var o=a[Pn];if(o)return o;for(var u=a.parentNode;u;){if(o=u[$r]||u[Pn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=PC(a);a!==null;){if(u=a[Pn])return u;a=PC(a)}return o}a=u,u=a.parentNode}return null}function xr(a){if(a=a[Pn]||a[$r]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function Rr(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function gi(a){var o=a[Jl];return o||(o=a[Jl]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function xn(a){a[mi]=!0}var Mo=new Set,La={};function Zr(a,o){yi(a,o),yi(a+"Capture",o)}function yi(a,o){for(La[a]=o,a=0;a<o.length;a++)Mo.add(o[a])}var jo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Do={},Lo={};function Zl(a){return We.call(Lo,a)?!0:We.call(Do,a)?!1:jo.test(a)?Lo[a]=!0:(Do[a]=!0,!1)}function Os(a,o,u){if(Zl(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function Nr(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function Tn(a,o,u,d){if(d===null)a.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+d)}}function Ln(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function aa(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Vo(a,o,u){var d=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,b=d.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return y.call(this)},set:function(R){u=""+R,b.call(this,R)}}),Object.defineProperty(a,o,{enumerable:d.enumerable}),{getValue:function(){return u},setValue:function(R){u=""+R},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function ie(a){if(!a._valueTracker){var o=aa(a)?"checked":"value";a._valueTracker=Vo(a,o,""+a[o])}}function Re(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return a&&(d=aa(a)?a.checked?"true":"false":a.value),a=d,a!==u?(o.setValue(a),!0):!1}function je(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Qe=/[\n"\\]/g;function lt(a){return a.replace(Qe,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function mt(a,o,u,d,y,b,R,q){a.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?a.type=R:a.removeAttribute("type"),o!=null?R==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Ln(o)):a.value!==""+Ln(o)&&(a.value=""+Ln(o)):R!=="submit"&&R!=="reset"||a.removeAttribute("value"),o!=null?wr(a,R,Ln(o)):u!=null?wr(a,R,Ln(u)):d!=null&&a.removeAttribute("value"),y==null&&b!=null&&(a.defaultChecked=!!b),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?a.name=""+Ln(q):a.removeAttribute("name")}function Lt(a,o,u,d,y,b,R,q){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),o!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||o!=null)){ie(a);return}u=u!=null?""+Ln(u):"",o=o!=null?""+Ln(o):u,q||o===a.value||(a.value=o),a.defaultValue=o}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=q?a.checked:!!d,a.defaultChecked=!!d,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(a.name=R),ie(a)}function wr(a,o,u){o==="number"&&je(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function sa(a,o,u,d){if(a=a.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<a.length;u++)y=o.hasOwnProperty("$"+a[u].value),a[u].selected!==y&&(a[u].selected=y),y&&d&&(a[u].defaultSelected=!0)}else{for(u=""+Ln(u),o=null,y=0;y<a.length;y++){if(a[y].value===u){a[y].selected=!0,d&&(a[y].defaultSelected=!0);return}o!==null||a[y].disabled||(o=a[y])}o!==null&&(o.selected=!0)}}function eu(a,o,u){if(o!=null&&(o=""+Ln(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+Ln(u):""}function oa(a,o,u,d){if(o==null){if(d!=null){if(u!=null)throw Error(r(92));if(J(d)){if(1<d.length)throw Error(r(93));d=d[0]}u=d}u==null&&(u=""),o=u}u=Ln(o),a.defaultValue=u,d=a.textContent,d===u&&d!==""&&d!==null&&(a.value=d),ie(a)}function lr(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var Fd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sf(a,o,u){var d=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":d?a.setProperty(o,u):typeof u!="number"||u===0||Fd.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function of(a,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var y in o)d=o[y],o.hasOwnProperty(y)&&u[y]!==d&&sf(a,y,d)}else for(var b in o)o.hasOwnProperty(b)&&sf(a,b,o[b])}function tu(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function nu(a){return Cs.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Ui(){}var lf=null;function vi(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Is=null,la=null;function $o(a){var o=xr(a);if(o&&(a=o.stateNode)){var u=a[Rn]||null;e:switch(a=o.stateNode,o.type){case"input":if(mt(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+lt(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==a&&d.form===a.form){var y=d[Rn]||null;if(!y)throw Error(r(90));mt(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)d=u[o],d.form===a.form&&Re(d)}break e;case"textarea":eu(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&sa(a,!!u.multiple,o,!1)}}}var ru=!1;function Ps(a,o,u){if(ru)return a(o,u);ru=!0;try{var d=a(o);return d}finally{if(ru=!1,(Is!==null||la!==null)&&(Vp(),Is&&(o=Is,a=la,la=Is=null,$o(o),a)))for(o=0;o<a.length;o++)$o(a[o])}}function Bi(a,o){var u=a.stateNode;if(u===null)return null;var d=u[Rn]||null;if(d===null)return null;u=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uo=!1;if(bi)try{var tn={};Object.defineProperty(tn,"passive",{get:function(){Uo=!0}}),window.addEventListener("test",tn,tn),window.removeEventListener("test",tn,tn)}catch{Uo=!1}var ua=null,uf=null,Bo=null;function cf(){if(Bo)return Bo;var a,o=uf,u=o.length,d,y="value"in ua?ua.value:ua.textContent,b=y.length;for(a=0;a<u&&o[a]===y[a];a++);var R=u-a;for(d=1;d<=R&&o[u-d]===y[b-d];d++);return Bo=y.slice(a,1<d?1-d:void 0)}function qo(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Va(){return!0}function qi(){return!1}function ur(a){function o(u,d,y,b,R){this._reactName=u,this._targetInst=y,this.type=d,this.nativeEvent=b,this.target=R,this.currentTarget=null;for(var q in a)a.hasOwnProperty(q)&&(u=a[q],this[q]=u?u(b):b[q]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Va:qi,this.isPropagationStopped=qi,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Va)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Va)},persist:function(){},isPersistent:Va}),o}var $a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ca=ur($a),Rs=m({},$a,{view:0,detail:0}),ff=ur(Rs),Ns,iu,fa,au=m({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==fa&&(fa&&a.type==="mousemove"?(Ns=a.screenX-fa.screenX,iu=a.screenY-fa.screenY):iu=Ns=0,fa=a),Ns)},movementY:function(a){return"movementY"in a?a.movementY:iu}}),hf=ur(au),zo=m({},au,{dataTransfer:0}),Gd=ur(zo),Kd=m({},Rs,{relatedTarget:0}),Fo=ur(Kd),df=m({},$a,{animationName:0,elapsedTime:0,pseudoElement:0}),Wd=ur(df),su=m({},$a,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Yd=ur(su),Xd=m({},$a,{data:0}),ha=ur(Xd),Qd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ep(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=Zd[a])?!!o[a]:!1}function ks(){return ep}var kr=m({},Rs,{key:function(a){if(a.key){var o=Qd[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=qo(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Jd[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(a){return a.type==="keypress"?qo(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?qo(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),tp=ur(kr),np=m({},au,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ua=ur(np),g=m({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),T=ur(g),j=m({},$a,{propertyName:0,elapsedTime:0,pseudoElement:0}),z=ur(j),te=m({},au,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),le=ur(te),Pe=m({},$a,{newState:0,oldState:0}),gt=ur(Pe),Nn=[9,13,27,32],Ft=bi&&"CompositionEvent"in window,gn=null;bi&&"documentMode"in document&&(gn=document.documentMode);var _i=bi&&"TextEvent"in window&&!gn,da=bi&&(!Ft||gn&&8<gn&&11>=gn),zi=" ",Fi=!1;function Ho(a,o){switch(a){case"keyup":return Nn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ou(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var lu=!1;function vU(a,o){switch(a){case"compositionend":return ou(o);case"keypress":return o.which!==32?null:(Fi=!0,zi);case"textInput":return a=o.data,a===zi&&Fi?null:a;default:return null}}function bU(a,o){if(lu)return a==="compositionend"||!Ft&&Ho(a,o)?(a=cf(),Bo=uf=ua=null,lu=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return da&&o.locale!=="ko"?null:o.data;default:return null}}var _U={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kA(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!_U[a.type]:o==="textarea"}function MA(a,o,u,d){Is?la?la.push(d):la=[d]:Is=d,o=Hp(o,"onChange"),0<o.length&&(u=new ca("onChange","change",null,u,d),a.push({event:u,listeners:o}))}var pf=null,mf=null;function xU(a){gC(a,0)}function rp(a){var o=Rr(a);if(Re(o))return a}function jA(a,o){if(a==="change")return o}var DA=!1;if(bi){var mv;if(bi){var gv="oninput"in document;if(!gv){var LA=document.createElement("div");LA.setAttribute("oninput","return;"),gv=typeof LA.oninput=="function"}mv=gv}else mv=!1;DA=mv&&(!document.documentMode||9<document.documentMode)}function VA(){pf&&(pf.detachEvent("onpropertychange",$A),mf=pf=null)}function $A(a){if(a.propertyName==="value"&&rp(mf)){var o=[];MA(o,mf,a,vi(a)),Ps(xU,o)}}function wU(a,o,u){a==="focusin"?(VA(),pf=o,mf=u,pf.attachEvent("onpropertychange",$A)):a==="focusout"&&VA()}function SU(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return rp(mf)}function EU(a,o){if(a==="click")return rp(o)}function TU(a,o){if(a==="input"||a==="change")return rp(o)}function AU(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var ei=typeof Object.is=="function"?Object.is:AU;function gf(a,o){if(ei(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var y=u[d];if(!We.call(o,y)||!ei(a[y],o[y]))return!1}return!0}function UA(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function BA(a,o){var u=UA(a);a=0;for(var d;u;){if(u.nodeType===3){if(d=a+u.textContent.length,a<=o&&d>=o)return{node:u,offset:o-a};a=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=UA(u)}}function qA(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?qA(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function zA(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=je(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=je(a.document)}return o}function yv(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var OU=bi&&"documentMode"in document&&11>=document.documentMode,uu=null,vv=null,yf=null,bv=!1;function FA(a,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;bv||uu==null||uu!==je(d)||(d=uu,"selectionStart"in d&&yv(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),yf&&gf(yf,d)||(yf=d,d=Hp(vv,"onSelect"),0<d.length&&(o=new ca("onSelect","select",null,o,u),a.push({event:o,listeners:d}),o.target=uu)))}function Go(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var cu={animationend:Go("Animation","AnimationEnd"),animationiteration:Go("Animation","AnimationIteration"),animationstart:Go("Animation","AnimationStart"),transitionrun:Go("Transition","TransitionRun"),transitionstart:Go("Transition","TransitionStart"),transitioncancel:Go("Transition","TransitionCancel"),transitionend:Go("Transition","TransitionEnd")},_v={},HA={};bi&&(HA=document.createElement("div").style,"AnimationEvent"in window||(delete cu.animationend.animation,delete cu.animationiteration.animation,delete cu.animationstart.animation),"TransitionEvent"in window||delete cu.transitionend.transition);function Ko(a){if(_v[a])return _v[a];if(!cu[a])return a;var o=cu[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in HA)return _v[a]=o[u];return a}var GA=Ko("animationend"),KA=Ko("animationiteration"),WA=Ko("animationstart"),CU=Ko("transitionrun"),IU=Ko("transitionstart"),PU=Ko("transitioncancel"),YA=Ko("transitionend"),XA=new Map,xv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xv.push("scrollEnd");function Hi(a,o){XA.set(a,o),Zr(o,[a])}var ip=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},xi=[],fu=0,wv=0;function ap(){for(var a=fu,o=wv=fu=0;o<a;){var u=xi[o];xi[o++]=null;var d=xi[o];xi[o++]=null;var y=xi[o];xi[o++]=null;var b=xi[o];if(xi[o++]=null,d!==null&&y!==null){var R=d.pending;R===null?y.next=y:(y.next=R.next,R.next=y),d.pending=y}b!==0&&QA(u,y,b)}}function sp(a,o,u,d){xi[fu++]=a,xi[fu++]=o,xi[fu++]=u,xi[fu++]=d,wv|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function Sv(a,o,u,d){return sp(a,o,u,d),op(a)}function Wo(a,o){return sp(a,null,null,o),op(a)}function QA(a,o,u){a.lanes|=u;var d=a.alternate;d!==null&&(d.lanes|=u);for(var y=!1,b=a.return;b!==null;)b.childLanes|=u,d=b.alternate,d!==null&&(d.childLanes|=u),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(y=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,y&&o!==null&&(y=31-ot(u),a=b.hiddenUpdates,d=a[y],d===null?a[y]=[o]:d.push(o),o.lane=u|536870912),b):null}function op(a){if(50<$f)throw $f=0,N0=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var hu={};function RU(a,o,u,d){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(a,o,u,d){return new RU(a,o,u,d)}function Ev(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ba(a,o){var u=a.alternate;return u===null?(u=ti(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function JA(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function lp(a,o,u,d,y,b){var R=0;if(d=a,typeof a=="function")Ev(a)&&(R=1);else if(typeof a=="string")R=DB(a,u,me.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case k:return a=ti(31,u,o,y),a.elementType=k,a.lanes=b,a;case S:return Yo(u.children,y,b,o);case w:R=8,y|=24;break;case O:return a=ti(12,u,o,y|2),a.elementType=O,a.lanes=b,a;case C:return a=ti(13,u,o,y),a.elementType=C,a.lanes=b,a;case M:return a=ti(19,u,o,y),a.elementType=M,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case N:R=10;break e;case I:R=9;break e;case L:R=11;break e;case A:R=14;break e;case P:R=16,d=null;break e}R=29,u=Error(r(130,a===null?"null":typeof a,"")),d=null}return o=ti(R,u,o,y),o.elementType=a,o.type=d,o.lanes=b,o}function Yo(a,o,u,d){return a=ti(7,a,d,o),a.lanes=u,a}function Tv(a,o,u){return a=ti(6,a,null,o),a.lanes=u,a}function ZA(a){var o=ti(18,null,null,0);return o.stateNode=a,o}function Av(a,o,u){return o=ti(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var eO=new WeakMap;function wi(a,o){if(typeof a=="object"&&a!==null){var u=eO.get(a);return u!==void 0?u:(o={value:a,source:o,stack:st(o)},eO.set(a,o),o)}return{value:a,source:o,stack:st(o)}}var du=[],pu=0,up=null,vf=0,Si=[],Ei=0,Ms=null,pa=1,ma="";function qa(a,o){du[pu++]=vf,du[pu++]=up,up=a,vf=o}function tO(a,o,u){Si[Ei++]=pa,Si[Ei++]=ma,Si[Ei++]=Ms,Ms=a;var d=pa;a=ma;var y=32-ot(d)-1;d&=~(1<<y),u+=1;var b=32-ot(o)+y;if(30<b){var R=y-y%5;b=(d&(1<<R)-1).toString(32),d>>=R,y-=R,pa=1<<32-ot(o)+y|u<<y|d,ma=b+a}else pa=1<<b|u<<y|d,ma=a}function Ov(a){a.return!==null&&(qa(a,1),tO(a,1,0))}function Cv(a){for(;a===up;)up=du[--pu],du[pu]=null,vf=du[--pu],du[pu]=null;for(;a===Ms;)Ms=Si[--Ei],Si[Ei]=null,ma=Si[--Ei],Si[Ei]=null,pa=Si[--Ei],Si[Ei]=null}function nO(a,o){Si[Ei++]=pa,Si[Ei++]=ma,Si[Ei++]=Ms,pa=o.id,ma=o.overflow,Ms=a}var cr=null,hn=null,kt=!1,js=null,Ti=!1,Iv=Error(r(519));function Ds(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bf(wi(o,a)),Iv}function rO(a){var o=a.stateNode,u=a.type,d=a.memoizedProps;switch(o[Pn]=a,o[Rn]=d,u){case"dialog":St("cancel",o),St("close",o);break;case"iframe":case"object":case"embed":St("load",o);break;case"video":case"audio":for(u=0;u<Bf.length;u++)St(Bf[u],o);break;case"source":St("error",o);break;case"img":case"image":case"link":St("error",o),St("load",o);break;case"details":St("toggle",o);break;case"input":St("invalid",o),Lt(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":St("invalid",o);break;case"textarea":St("invalid",o),oa(o,d.value,d.defaultValue,d.children)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||d.suppressHydrationWarning===!0||_C(o.textContent,u)?(d.popover!=null&&(St("beforetoggle",o),St("toggle",o)),d.onScroll!=null&&St("scroll",o),d.onScrollEnd!=null&&St("scrollend",o),d.onClick!=null&&(o.onclick=Ui),o=!0):o=!1,o||Ds(a,!0)}function iO(a){for(cr=a.return;cr;)switch(cr.tag){case 5:case 31:case 13:Ti=!1;return;case 27:case 3:Ti=!0;return;default:cr=cr.return}}function mu(a){if(a!==cr)return!1;if(!kt)return iO(a),kt=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||K0(a.type,a.memoizedProps)),u=!u),u&&hn&&Ds(a),iO(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));hn=IC(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));hn=IC(a)}else o===27?(o=hn,Xs(a.type)?(a=J0,J0=null,hn=a):hn=o):hn=cr?Oi(a.stateNode.nextSibling):null;return!0}function Xo(){hn=cr=null,kt=!1}function Pv(){var a=js;return a!==null&&(zr===null?zr=a:zr.push.apply(zr,a),js=null),a}function bf(a){js===null?js=[a]:js.push(a)}var Rv=F(null),Qo=null,za=null;function Ls(a,o,u){oe(Rv,o._currentValue),o._currentValue=u}function Fa(a){a._currentValue=Rv.current,W(Rv)}function Nv(a,o,u){for(;a!==null;){var d=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),a===u)break;a=a.return}}function kv(a,o,u,d){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var b=y.dependencies;if(b!==null){var R=y.child;b=b.firstContext;e:for(;b!==null;){var q=b;b=y;for(var K=0;K<o.length;K++)if(q.context===o[K]){b.lanes|=u,q=b.alternate,q!==null&&(q.lanes|=u),Nv(b.return,u,a),d||(R=null);break e}b=q.next}}else if(y.tag===18){if(R=y.return,R===null)throw Error(r(341));R.lanes|=u,b=R.alternate,b!==null&&(b.lanes|=u),Nv(R,u,a),R=null}else R=y.child;if(R!==null)R.return=y;else for(R=y;R!==null;){if(R===a){R=null;break}if(y=R.sibling,y!==null){y.return=R.return,R=y;break}R=R.return}y=R}}function gu(a,o,u,d){a=null;for(var y=o,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var R=y.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var q=y.type;ei(y.pendingProps.value,R.value)||(a!==null?a.push(q):a=[q])}}else if(y===ke.current){if(R=y.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(Gf):a=[Gf])}y=y.return}a!==null&&kv(o,a,u,d),o.flags|=262144}function cp(a){for(a=a.firstContext;a!==null;){if(!ei(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Jo(a){Qo=a,za=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function fr(a){return aO(Qo,a)}function fp(a,o){return Qo===null&&Jo(a),aO(a,o)}function aO(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},za===null){if(a===null)throw Error(r(308));za=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else za=za.next=o;return u}var NU=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,d){a.push(d)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},kU=t.unstable_scheduleCallback,MU=t.unstable_NormalPriority,Vn={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mv(){return{controller:new NU,data:new Map,refCount:0}}function _f(a){a.refCount--,a.refCount===0&&kU(MU,function(){a.controller.abort()})}var xf=null,jv=0,yu=0,vu=null;function jU(a,o){if(xf===null){var u=xf=[];jv=0,yu=V0(),vu={status:"pending",value:void 0,then:function(d){u.push(d)}}}return jv++,o.then(sO,sO),o}function sO(){if(--jv===0&&xf!==null){vu!==null&&(vu.status="fulfilled");var a=xf;xf=null,yu=0,vu=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function DU(a,o){var u=[],d={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return a.then(function(){d.status="fulfilled",d.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(d.status="rejected",d.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),d}var oO=H.S;H.S=function(a,o){F2=Ie(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&jU(a,o),oO!==null&&oO(a,o)};var Zo=F(null);function Dv(){var a=Zo.current;return a!==null?a:on.pooledCache}function hp(a,o){o===null?oe(Zo,Zo.current):oe(Zo,o.pool)}function lO(){var a=Dv();return a===null?null:{parent:Vn._currentValue,pool:a}}var bu=Error(r(460)),Lv=Error(r(474)),dp=Error(r(542)),pp={then:function(){}};function uO(a){return a=a.status,a==="fulfilled"||a==="rejected"}function cO(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(Ui,Ui),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,hO(a),a;default:if(typeof o.status=="string")o.then(Ui,Ui);else{if(a=on,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(d){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=d}},function(d){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,hO(a),a}throw tl=o,bu}}function el(a){try{var o=a._init;return o(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(tl=u,bu):u}}var tl=null;function fO(){if(tl===null)throw Error(r(459));var a=tl;return tl=null,a}function hO(a){if(a===bu||a===dp)throw Error(r(483))}var _u=null,wf=0;function mp(a){var o=wf;return wf+=1,_u===null&&(_u=[]),cO(_u,a,o)}function Sf(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function gp(a,o){throw o.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function dO(a){function o(Z,X){if(a){var re=Z.deletions;re===null?(Z.deletions=[X],Z.flags|=16):re.push(X)}}function u(Z,X){if(!a)return null;for(;X!==null;)o(Z,X),X=X.sibling;return null}function d(Z){for(var X=new Map;Z!==null;)Z.key!==null?X.set(Z.key,Z):X.set(Z.index,Z),Z=Z.sibling;return X}function y(Z,X){return Z=Ba(Z,X),Z.index=0,Z.sibling=null,Z}function b(Z,X,re){return Z.index=re,a?(re=Z.alternate,re!==null?(re=re.index,re<X?(Z.flags|=67108866,X):re):(Z.flags|=67108866,X)):(Z.flags|=1048576,X)}function R(Z){return a&&Z.alternate===null&&(Z.flags|=67108866),Z}function q(Z,X,re,pe){return X===null||X.tag!==6?(X=Tv(re,Z.mode,pe),X.return=Z,X):(X=y(X,re),X.return=Z,X)}function K(Z,X,re,pe){var Xe=re.type;return Xe===S?fe(Z,X,re.props.children,pe,re.key):X!==null&&(X.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===P&&el(Xe)===X.type)?(X=y(X,re.props),Sf(X,re),X.return=Z,X):(X=lp(re.type,re.key,re.props,null,Z.mode,pe),Sf(X,re),X.return=Z,X)}function ae(Z,X,re,pe){return X===null||X.tag!==4||X.stateNode.containerInfo!==re.containerInfo||X.stateNode.implementation!==re.implementation?(X=Av(re,Z.mode,pe),X.return=Z,X):(X=y(X,re.children||[]),X.return=Z,X)}function fe(Z,X,re,pe,Xe){return X===null||X.tag!==7?(X=Yo(re,Z.mode,pe,Xe),X.return=Z,X):(X=y(X,re),X.return=Z,X)}function ge(Z,X,re){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=Tv(""+X,Z.mode,re),X.return=Z,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case _:return re=lp(X.type,X.key,X.props,null,Z.mode,re),Sf(re,X),re.return=Z,re;case E:return X=Av(X,Z.mode,re),X.return=Z,X;case P:return X=el(X),ge(Z,X,re)}if(J(X)||B(X))return X=Yo(X,Z.mode,re,null),X.return=Z,X;if(typeof X.then=="function")return ge(Z,mp(X),re);if(X.$$typeof===N)return ge(Z,fp(Z,X),re);gp(Z,X)}return null}function se(Z,X,re,pe){var Xe=X!==null?X.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Xe!==null?null:q(Z,X,""+re,pe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case _:return re.key===Xe?K(Z,X,re,pe):null;case E:return re.key===Xe?ae(Z,X,re,pe):null;case P:return re=el(re),se(Z,X,re,pe)}if(J(re)||B(re))return Xe!==null?null:fe(Z,X,re,pe,null);if(typeof re.then=="function")return se(Z,X,mp(re),pe);if(re.$$typeof===N)return se(Z,X,fp(Z,re),pe);gp(Z,re)}return null}function ce(Z,X,re,pe,Xe){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return Z=Z.get(re)||null,q(X,Z,""+pe,Xe);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case _:return Z=Z.get(pe.key===null?re:pe.key)||null,K(X,Z,pe,Xe);case E:return Z=Z.get(pe.key===null?re:pe.key)||null,ae(X,Z,pe,Xe);case P:return pe=el(pe),ce(Z,X,re,pe,Xe)}if(J(pe)||B(pe))return Z=Z.get(re)||null,fe(X,Z,pe,Xe,null);if(typeof pe.then=="function")return ce(Z,X,re,mp(pe),Xe);if(pe.$$typeof===N)return ce(Z,X,re,fp(X,pe),Xe);gp(X,pe)}return null}function Ve(Z,X,re,pe){for(var Xe=null,Ut=null,ze=X,vt=X=0,At=null;ze!==null&&vt<re.length;vt++){ze.index>vt?(At=ze,ze=null):At=ze.sibling;var Bt=se(Z,ze,re[vt],pe);if(Bt===null){ze===null&&(ze=At);break}a&&ze&&Bt.alternate===null&&o(Z,ze),X=b(Bt,X,vt),Ut===null?Xe=Bt:Ut.sibling=Bt,Ut=Bt,ze=At}if(vt===re.length)return u(Z,ze),kt&&qa(Z,vt),Xe;if(ze===null){for(;vt<re.length;vt++)ze=ge(Z,re[vt],pe),ze!==null&&(X=b(ze,X,vt),Ut===null?Xe=ze:Ut.sibling=ze,Ut=ze);return kt&&qa(Z,vt),Xe}for(ze=d(ze);vt<re.length;vt++)At=ce(ze,Z,vt,re[vt],pe),At!==null&&(a&&At.alternate!==null&&ze.delete(At.key===null?vt:At.key),X=b(At,X,vt),Ut===null?Xe=At:Ut.sibling=At,Ut=At);return a&&ze.forEach(function(to){return o(Z,to)}),kt&&qa(Z,vt),Xe}function et(Z,X,re,pe){if(re==null)throw Error(r(151));for(var Xe=null,Ut=null,ze=X,vt=X=0,At=null,Bt=re.next();ze!==null&&!Bt.done;vt++,Bt=re.next()){ze.index>vt?(At=ze,ze=null):At=ze.sibling;var to=se(Z,ze,Bt.value,pe);if(to===null){ze===null&&(ze=At);break}a&&ze&&to.alternate===null&&o(Z,ze),X=b(to,X,vt),Ut===null?Xe=to:Ut.sibling=to,Ut=to,ze=At}if(Bt.done)return u(Z,ze),kt&&qa(Z,vt),Xe;if(ze===null){for(;!Bt.done;vt++,Bt=re.next())Bt=ge(Z,Bt.value,pe),Bt!==null&&(X=b(Bt,X,vt),Ut===null?Xe=Bt:Ut.sibling=Bt,Ut=Bt);return kt&&qa(Z,vt),Xe}for(ze=d(ze);!Bt.done;vt++,Bt=re.next())Bt=ce(ze,Z,vt,Bt.value,pe),Bt!==null&&(a&&Bt.alternate!==null&&ze.delete(Bt.key===null?vt:Bt.key),X=b(Bt,X,vt),Ut===null?Xe=Bt:Ut.sibling=Bt,Ut=Bt);return a&&ze.forEach(function(KB){return o(Z,KB)}),kt&&qa(Z,vt),Xe}function an(Z,X,re,pe){if(typeof re=="object"&&re!==null&&re.type===S&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case _:e:{for(var Xe=re.key;X!==null;){if(X.key===Xe){if(Xe=re.type,Xe===S){if(X.tag===7){u(Z,X.sibling),pe=y(X,re.props.children),pe.return=Z,Z=pe;break e}}else if(X.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===P&&el(Xe)===X.type){u(Z,X.sibling),pe=y(X,re.props),Sf(pe,re),pe.return=Z,Z=pe;break e}u(Z,X);break}else o(Z,X);X=X.sibling}re.type===S?(pe=Yo(re.props.children,Z.mode,pe,re.key),pe.return=Z,Z=pe):(pe=lp(re.type,re.key,re.props,null,Z.mode,pe),Sf(pe,re),pe.return=Z,Z=pe)}return R(Z);case E:e:{for(Xe=re.key;X!==null;){if(X.key===Xe)if(X.tag===4&&X.stateNode.containerInfo===re.containerInfo&&X.stateNode.implementation===re.implementation){u(Z,X.sibling),pe=y(X,re.children||[]),pe.return=Z,Z=pe;break e}else{u(Z,X);break}else o(Z,X);X=X.sibling}pe=Av(re,Z.mode,pe),pe.return=Z,Z=pe}return R(Z);case P:return re=el(re),an(Z,X,re,pe)}if(J(re))return Ve(Z,X,re,pe);if(B(re)){if(Xe=B(re),typeof Xe!="function")throw Error(r(150));return re=Xe.call(re),et(Z,X,re,pe)}if(typeof re.then=="function")return an(Z,X,mp(re),pe);if(re.$$typeof===N)return an(Z,X,fp(Z,re),pe);gp(Z,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,X!==null&&X.tag===6?(u(Z,X.sibling),pe=y(X,re),pe.return=Z,Z=pe):(u(Z,X),pe=Tv(re,Z.mode,pe),pe.return=Z,Z=pe),R(Z)):u(Z,X)}return function(Z,X,re,pe){try{wf=0;var Xe=an(Z,X,re,pe);return _u=null,Xe}catch(ze){if(ze===bu||ze===dp)throw ze;var Ut=ti(29,ze,null,Z.mode);return Ut.lanes=pe,Ut.return=Z,Ut}finally{}}}var nl=dO(!0),pO=dO(!1),Vs=!1;function Vv(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $v(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function $s(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Us(a,o,u){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(Ht&2)!==0){var y=d.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),d.pending=o,o=op(a),QA(a,null,u),o}return sp(a,d,o,u),op(a)}function Ef(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var d=o.lanes;d&=a.pendingLanes,u|=d,o.lanes=u,No(a,u)}}function Uv(a,o){var u=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var y=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var R={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?y=b=R:b=b.next=R,u=u.next}while(u!==null);b===null?y=b=o:b=b.next=o}else y=b=o;u={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var Bv=!1;function Tf(){if(Bv){var a=vu;if(a!==null)throw a}}function Af(a,o,u,d){Bv=!1;var y=a.updateQueue;Vs=!1;var b=y.firstBaseUpdate,R=y.lastBaseUpdate,q=y.shared.pending;if(q!==null){y.shared.pending=null;var K=q,ae=K.next;K.next=null,R===null?b=ae:R.next=ae,R=K;var fe=a.alternate;fe!==null&&(fe=fe.updateQueue,q=fe.lastBaseUpdate,q!==R&&(q===null?fe.firstBaseUpdate=ae:q.next=ae,fe.lastBaseUpdate=K))}if(b!==null){var ge=y.baseState;R=0,fe=ae=K=null,q=b;do{var se=q.lane&-536870913,ce=se!==q.lane;if(ce?(Tt&se)===se:(d&se)===se){se!==0&&se===yu&&(Bv=!0),fe!==null&&(fe=fe.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var Ve=a,et=q;se=o;var an=u;switch(et.tag){case 1:if(Ve=et.payload,typeof Ve=="function"){ge=Ve.call(an,ge,se);break e}ge=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=et.payload,se=typeof Ve=="function"?Ve.call(an,ge,se):Ve,se==null)break e;ge=m({},ge,se);break e;case 2:Vs=!0}}se=q.callback,se!==null&&(a.flags|=64,ce&&(a.flags|=8192),ce=y.callbacks,ce===null?y.callbacks=[se]:ce.push(se))}else ce={lane:se,tag:q.tag,payload:q.payload,callback:q.callback,next:null},fe===null?(ae=fe=ce,K=ge):fe=fe.next=ce,R|=se;if(q=q.next,q===null){if(q=y.shared.pending,q===null)break;ce=q,q=ce.next,ce.next=null,y.lastBaseUpdate=ce,y.shared.pending=null}}while(!0);fe===null&&(K=ge),y.baseState=K,y.firstBaseUpdate=ae,y.lastBaseUpdate=fe,b===null&&(y.shared.lanes=0),Hs|=R,a.lanes=R,a.memoizedState=ge}}function mO(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function gO(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)mO(u[a],o)}var xu=F(null),yp=F(0);function yO(a,o){a=Za,oe(yp,a),oe(xu,o),Za=a|o.baseLanes}function qv(){oe(yp,Za),oe(xu,xu.current)}function zv(){Za=yp.current,W(xu),W(yp)}var ni=F(null),Ai=null;function Bs(a){var o=a.alternate;oe(kn,kn.current&1),oe(ni,a),Ai===null&&(o===null||xu.current!==null||o.memoizedState!==null)&&(Ai=a)}function Fv(a){oe(kn,kn.current),oe(ni,a),Ai===null&&(Ai=a)}function vO(a){a.tag===22?(oe(kn,kn.current),oe(ni,a),Ai===null&&(Ai=a)):qs()}function qs(){oe(kn,kn.current),oe(ni,ni.current)}function ri(a){W(ni),Ai===a&&(Ai=null),W(kn)}var kn=F(0);function vp(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||X0(u)||Q0(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ha=0,yt=null,nn=null,$n=null,bp=!1,wu=!1,rl=!1,_p=0,Of=0,Su=null,LU=0;function An(){throw Error(r(321))}function Hv(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!ei(a[u],o[u]))return!1;return!0}function Gv(a,o,u,d,y,b){return Ha=b,yt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,H.H=a===null||a.memoizedState===null?t2:o0,rl=!1,b=u(d,y),rl=!1,wu&&(b=_O(o,u,d,y)),bO(a),b}function bO(a){H.H=Pf;var o=nn!==null&&nn.next!==null;if(Ha=0,$n=nn=yt=null,bp=!1,Of=0,Su=null,o)throw Error(r(300));a===null||Un||(a=a.dependencies,a!==null&&cp(a)&&(Un=!0))}function _O(a,o,u,d){yt=a;var y=0;do{if(wu&&(Su=null),Of=0,wu=!1,25<=y)throw Error(r(301));if(y+=1,$n=nn=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}H.H=n2,b=o(u,d)}while(wu);return b}function VU(){var a=H.H,o=a.useState()[0];return o=typeof o.then=="function"?Cf(o):o,a=a.useState()[0],(nn!==null?nn.memoizedState:null)!==a&&(yt.flags|=1024),o}function Kv(){var a=_p!==0;return _p=0,a}function Wv(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function Yv(a){if(bp){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}bp=!1}Ha=0,$n=nn=yt=null,wu=!1,Of=_p=0,Su=null}function Mr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $n===null?yt.memoizedState=$n=a:$n=$n.next=a,$n}function Mn(){if(nn===null){var a=yt.alternate;a=a!==null?a.memoizedState:null}else a=nn.next;var o=$n===null?yt.memoizedState:$n.next;if(o!==null)$n=o,nn=a;else{if(a===null)throw yt.alternate===null?Error(r(467)):Error(r(310));nn=a,a={memoizedState:nn.memoizedState,baseState:nn.baseState,baseQueue:nn.baseQueue,queue:nn.queue,next:null},$n===null?yt.memoizedState=$n=a:$n=$n.next=a}return $n}function xp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cf(a){var o=Of;return Of+=1,Su===null&&(Su=[]),a=cO(Su,a,o),o=yt,($n===null?o.memoizedState:$n.next)===null&&(o=o.alternate,H.H=o===null||o.memoizedState===null?t2:o0),a}function wp(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Cf(a);if(a.$$typeof===N)return fr(a)}throw Error(r(438,String(a)))}function Xv(a){var o=null,u=yt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var d=yt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=xp(),yt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),d=0;d<a;d++)u[d]=U;return o.index++,u}function Ga(a,o){return typeof o=="function"?o(a):o}function Sp(a){var o=Mn();return Qv(o,nn,a)}function Qv(a,o,u){var d=a.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=u;var y=a.baseQueue,b=d.pending;if(b!==null){if(y!==null){var R=y.next;y.next=b.next,b.next=R}o.baseQueue=y=b,d.pending=null}if(b=a.baseState,y===null)a.memoizedState=b;else{o=y.next;var q=R=null,K=null,ae=o,fe=!1;do{var ge=ae.lane&-536870913;if(ge!==ae.lane?(Tt&ge)===ge:(Ha&ge)===ge){var se=ae.revertLane;if(se===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),ge===yu&&(fe=!0);else if((Ha&se)===se){ae=ae.next,se===yu&&(fe=!0);continue}else ge={lane:0,revertLane:ae.revertLane,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},K===null?(q=K=ge,R=b):K=K.next=ge,yt.lanes|=se,Hs|=se;ge=ae.action,rl&&u(b,ge),b=ae.hasEagerState?ae.eagerState:u(b,ge)}else se={lane:ge,revertLane:ae.revertLane,gesture:ae.gesture,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},K===null?(q=K=se,R=b):K=K.next=se,yt.lanes|=ge,Hs|=ge;ae=ae.next}while(ae!==null&&ae!==o);if(K===null?R=b:K.next=q,!ei(b,a.memoizedState)&&(Un=!0,fe&&(u=vu,u!==null)))throw u;a.memoizedState=b,a.baseState=R,a.baseQueue=K,d.lastRenderedState=b}return y===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function Jv(a){var o=Mn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var d=u.dispatch,y=u.pending,b=o.memoizedState;if(y!==null){u.pending=null;var R=y=y.next;do b=a(b,R.action),R=R.next;while(R!==y);ei(b,o.memoizedState)||(Un=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),u.lastRenderedState=b}return[b,d]}function xO(a,o,u){var d=yt,y=Mn(),b=kt;if(b){if(u===void 0)throw Error(r(407));u=u()}else u=o();var R=!ei((nn||y).memoizedState,u);if(R&&(y.memoizedState=u,Un=!0),y=y.queue,t0(EO.bind(null,d,y,a),[a]),y.getSnapshot!==o||R||$n!==null&&$n.memoizedState.tag&1){if(d.flags|=2048,Eu(9,{destroy:void 0},SO.bind(null,d,y,u,o),null),on===null)throw Error(r(349));b||(Ha&127)!==0||wO(d,o,u)}return u}function wO(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=yt.updateQueue,o===null?(o=xp(),yt.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function SO(a,o,u,d){o.value=u,o.getSnapshot=d,TO(o)&&AO(a)}function EO(a,o,u){return u(function(){TO(o)&&AO(a)})}function TO(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!ei(a,u)}catch{return!0}}function AO(a){var o=Wo(a,2);o!==null&&Fr(o,a,2)}function Zv(a){var o=Mr();if(typeof a=="function"){var u=a;if(a=u(),rl){Rt(!0);try{u()}finally{Rt(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:a},o}function OO(a,o,u,d){return a.baseState=u,Qv(a,nn,typeof d=="function"?d:Ga)}function $U(a,o,u,d,y){if(Ap(a))throw Error(r(485));if(a=o.action,a!==null){var b={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){b.listeners.push(R)}};H.T!==null?u(!0):b.isTransition=!1,d(b),u=o.pending,u===null?(b.next=o.pending=b,CO(o,b)):(b.next=u.next,o.pending=u.next=b)}}function CO(a,o){var u=o.action,d=o.payload,y=a.state;if(o.isTransition){var b=H.T,R={};H.T=R;try{var q=u(y,d),K=H.S;K!==null&&K(R,q),IO(a,o,q)}catch(ae){e0(a,o,ae)}finally{b!==null&&R.types!==null&&(b.types=R.types),H.T=b}}else try{b=u(y,d),IO(a,o,b)}catch(ae){e0(a,o,ae)}}function IO(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){PO(a,o,d)},function(d){return e0(a,o,d)}):PO(a,o,u)}function PO(a,o,u){o.status="fulfilled",o.value=u,RO(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,CO(a,u)))}function e0(a,o,u){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=u,RO(o),o=o.next;while(o!==d)}a.action=null}function RO(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function NO(a,o){return o}function kO(a,o){if(kt){var u=on.formState;if(u!==null){e:{var d=yt;if(kt){if(hn){t:{for(var y=hn,b=Ti;y.nodeType!==8;){if(!b){y=null;break t}if(y=Oi(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){hn=Oi(y.nextSibling),d=y.data==="F!";break e}}Ds(d)}d=!1}d&&(o=u[0])}}return u=Mr(),u.memoizedState=u.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:NO,lastRenderedState:o},u.queue=d,u=JO.bind(null,yt,d),d.dispatch=u,d=Zv(!1),b=s0.bind(null,yt,!1,d.queue),d=Mr(),y={state:o,dispatch:null,action:a,pending:null},d.queue=y,u=$U.bind(null,yt,y,b,u),y.dispatch=u,d.memoizedState=a,[o,u,!1]}function MO(a){var o=Mn();return jO(o,nn,a)}function jO(a,o,u){if(o=Qv(a,o,NO)[0],a=Sp(Ga)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=Cf(o)}catch(R){throw R===bu?dp:R}else d=o;o=Mn();var y=o.queue,b=y.dispatch;return u!==o.memoizedState&&(yt.flags|=2048,Eu(9,{destroy:void 0},UU.bind(null,y,u),null)),[d,b,a]}function UU(a,o){a.action=o}function DO(a){var o=Mn(),u=nn;if(u!==null)return jO(o,u,a);Mn(),o=o.memoizedState,u=Mn();var d=u.queue.dispatch;return u.memoizedState=a,[o,d,!1]}function Eu(a,o,u,d){return a={tag:a,create:u,deps:d,inst:o,next:null},o=yt.updateQueue,o===null&&(o=xp(),yt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(d=u.next,u.next=a,a.next=d,o.lastEffect=a),a}function LO(){return Mn().memoizedState}function Ep(a,o,u,d){var y=Mr();yt.flags|=a,y.memoizedState=Eu(1|o,{destroy:void 0},u,d===void 0?null:d)}function Tp(a,o,u,d){var y=Mn();d=d===void 0?null:d;var b=y.memoizedState.inst;nn!==null&&d!==null&&Hv(d,nn.memoizedState.deps)?y.memoizedState=Eu(o,b,u,d):(yt.flags|=a,y.memoizedState=Eu(1|o,b,u,d))}function VO(a,o){Ep(8390656,8,a,o)}function t0(a,o){Tp(2048,8,a,o)}function BU(a){yt.flags|=4;var o=yt.updateQueue;if(o===null)o=xp(),yt.updateQueue=o,o.events=[a];else{var u=o.events;u===null?o.events=[a]:u.push(a)}}function $O(a){var o=Mn().memoizedState;return BU({ref:o,nextImpl:a}),function(){if((Ht&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function UO(a,o){return Tp(4,2,a,o)}function BO(a,o){return Tp(4,4,a,o)}function qO(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function zO(a,o,u){u=u!=null?u.concat([a]):null,Tp(4,4,qO.bind(null,o,a),u)}function n0(){}function FO(a,o){var u=Mn();o=o===void 0?null:o;var d=u.memoizedState;return o!==null&&Hv(o,d[1])?d[0]:(u.memoizedState=[a,o],a)}function HO(a,o){var u=Mn();o=o===void 0?null:o;var d=u.memoizedState;if(o!==null&&Hv(o,d[1]))return d[0];if(d=a(),rl){Rt(!0);try{a()}finally{Rt(!1)}}return u.memoizedState=[d,o],d}function r0(a,o,u){return u===void 0||(Ha&1073741824)!==0&&(Tt&261930)===0?a.memoizedState=o:(a.memoizedState=u,a=G2(),yt.lanes|=a,Hs|=a,u)}function GO(a,o,u,d){return ei(u,o)?u:xu.current!==null?(a=r0(a,u,d),ei(a,o)||(Un=!0),a):(Ha&42)===0||(Ha&1073741824)!==0&&(Tt&261930)===0?(Un=!0,a.memoizedState=u):(a=G2(),yt.lanes|=a,Hs|=a,o)}function KO(a,o,u,d,y){var b=Y.p;Y.p=b!==0&&8>b?b:8;var R=H.T,q={};H.T=q,s0(a,!1,o,u);try{var K=y(),ae=H.S;if(ae!==null&&ae(q,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var fe=DU(K,d);If(a,o,fe,si(a))}else If(a,o,d,si(a))}catch(ge){If(a,o,{then:function(){},status:"rejected",reason:ge},si())}finally{Y.p=b,R!==null&&q.types!==null&&(R.types=q.types),H.T=R}}function qU(){}function i0(a,o,u,d){if(a.tag!==5)throw Error(r(476));var y=WO(a).queue;KO(a,y,o,ee,u===null?qU:function(){return YO(a),u(d)})}function WO(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:ee},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function YO(a){var o=WO(a);o.next===null&&(o=a.alternate.memoizedState),If(a,o.next.queue,{},si())}function a0(){return fr(Gf)}function XO(){return Mn().memoizedState}function QO(){return Mn().memoizedState}function zU(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=si();a=$s(u);var d=Us(o,a,u);d!==null&&(Fr(d,o,u),Ef(d,o,u)),o={cache:Mv()},a.payload=o;return}o=o.return}}function FU(a,o,u){var d=si();u={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ap(a)?ZO(o,u):(u=Sv(a,o,u,d),u!==null&&(Fr(u,a,d),e2(u,o,d)))}function JO(a,o,u){var d=si();If(a,o,u,d)}function If(a,o,u,d){var y={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Ap(a))ZO(o,y);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var R=o.lastRenderedState,q=b(R,u);if(y.hasEagerState=!0,y.eagerState=q,ei(q,R))return sp(a,o,y,0),on===null&&ap(),!1}catch{}finally{}if(u=Sv(a,o,y,d),u!==null)return Fr(u,a,d),e2(u,o,d),!0}return!1}function s0(a,o,u,d){if(d={lane:2,revertLane:V0(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Ap(a)){if(o)throw Error(r(479))}else o=Sv(a,u,d,2),o!==null&&Fr(o,a,2)}function Ap(a){var o=a.alternate;return a===yt||o!==null&&o===yt}function ZO(a,o){wu=bp=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function e2(a,o,u){if((u&4194048)!==0){var d=o.lanes;d&=a.pendingLanes,u|=d,o.lanes=u,No(a,u)}}var Pf={readContext:fr,use:wp,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useLayoutEffect:An,useInsertionEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useSyncExternalStore:An,useId:An,useHostTransitionStatus:An,useFormState:An,useActionState:An,useOptimistic:An,useMemoCache:An,useCacheRefresh:An};Pf.useEffectEvent=An;var t2={readContext:fr,use:wp,useCallback:function(a,o){return Mr().memoizedState=[a,o===void 0?null:o],a},useContext:fr,useEffect:VO,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,Ep(4194308,4,qO.bind(null,o,a),u)},useLayoutEffect:function(a,o){return Ep(4194308,4,a,o)},useInsertionEffect:function(a,o){Ep(4,2,a,o)},useMemo:function(a,o){var u=Mr();o=o===void 0?null:o;var d=a();if(rl){Rt(!0);try{a()}finally{Rt(!1)}}return u.memoizedState=[d,o],d},useReducer:function(a,o,u){var d=Mr();if(u!==void 0){var y=u(o);if(rl){Rt(!0);try{u(o)}finally{Rt(!1)}}}else y=o;return d.memoizedState=d.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},d.queue=a,a=a.dispatch=FU.bind(null,yt,a),[d.memoizedState,a]},useRef:function(a){var o=Mr();return a={current:a},o.memoizedState=a},useState:function(a){a=Zv(a);var o=a.queue,u=JO.bind(null,yt,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:n0,useDeferredValue:function(a,o){var u=Mr();return r0(u,a,o)},useTransition:function(){var a=Zv(!1);return a=KO.bind(null,yt,a.queue,!0,!1),Mr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var d=yt,y=Mr();if(kt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),on===null)throw Error(r(349));(Tt&127)!==0||wO(d,o,u)}y.memoizedState=u;var b={value:u,getSnapshot:o};return y.queue=b,VO(EO.bind(null,d,b,a),[a]),d.flags|=2048,Eu(9,{destroy:void 0},SO.bind(null,d,b,u,o),null),u},useId:function(){var a=Mr(),o=on.identifierPrefix;if(kt){var u=ma,d=pa;u=(d&~(1<<32-ot(d)-1)).toString(32)+u,o="_"+o+"R_"+u,u=_p++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=LU++,o="_"+o+"r_"+u.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:a0,useFormState:kO,useActionState:kO,useOptimistic:function(a){var o=Mr();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=s0.bind(null,yt,!0,u),u.dispatch=o,[a,o]},useMemoCache:Xv,useCacheRefresh:function(){return Mr().memoizedState=zU.bind(null,yt)},useEffectEvent:function(a){var o=Mr(),u={impl:a};return o.memoizedState=u,function(){if((Ht&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},o0={readContext:fr,use:wp,useCallback:FO,useContext:fr,useEffect:t0,useImperativeHandle:zO,useInsertionEffect:UO,useLayoutEffect:BO,useMemo:HO,useReducer:Sp,useRef:LO,useState:function(){return Sp(Ga)},useDebugValue:n0,useDeferredValue:function(a,o){var u=Mn();return GO(u,nn.memoizedState,a,o)},useTransition:function(){var a=Sp(Ga)[0],o=Mn().memoizedState;return[typeof a=="boolean"?a:Cf(a),o]},useSyncExternalStore:xO,useId:XO,useHostTransitionStatus:a0,useFormState:MO,useActionState:MO,useOptimistic:function(a,o){var u=Mn();return OO(u,nn,a,o)},useMemoCache:Xv,useCacheRefresh:QO};o0.useEffectEvent=$O;var n2={readContext:fr,use:wp,useCallback:FO,useContext:fr,useEffect:t0,useImperativeHandle:zO,useInsertionEffect:UO,useLayoutEffect:BO,useMemo:HO,useReducer:Jv,useRef:LO,useState:function(){return Jv(Ga)},useDebugValue:n0,useDeferredValue:function(a,o){var u=Mn();return nn===null?r0(u,a,o):GO(u,nn.memoizedState,a,o)},useTransition:function(){var a=Jv(Ga)[0],o=Mn().memoizedState;return[typeof a=="boolean"?a:Cf(a),o]},useSyncExternalStore:xO,useId:XO,useHostTransitionStatus:a0,useFormState:DO,useActionState:DO,useOptimistic:function(a,o){var u=Mn();return nn!==null?OO(u,nn,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:Xv,useCacheRefresh:QO};n2.useEffectEvent=$O;function l0(a,o,u,d){o=a.memoizedState,u=u(d,o),u=u==null?o:m({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var u0={enqueueSetState:function(a,o,u){a=a._reactInternals;var d=si(),y=$s(d);y.payload=o,u!=null&&(y.callback=u),o=Us(a,y,d),o!==null&&(Fr(o,a,d),Ef(o,a,d))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var d=si(),y=$s(d);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=Us(a,y,d),o!==null&&(Fr(o,a,d),Ef(o,a,d))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=si(),d=$s(u);d.tag=2,o!=null&&(d.callback=o),o=Us(a,d,u),o!==null&&(Fr(o,a,u),Ef(o,a,u))}};function r2(a,o,u,d,y,b,R){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,b,R):o.prototype&&o.prototype.isPureReactComponent?!gf(u,d)||!gf(y,b):!0}function i2(a,o,u,d){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==a&&u0.enqueueReplaceState(o,o.state,null)}function il(a,o){var u=o;if("ref"in o){u={};for(var d in o)d!=="ref"&&(u[d]=o[d])}if(a=a.defaultProps){u===o&&(u=m({},u));for(var y in a)u[y]===void 0&&(u[y]=a[y])}return u}function a2(a){ip(a)}function s2(a){console.error(a)}function o2(a){ip(a)}function Op(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function l2(a,o,u){try{var d=a.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function c0(a,o,u){return u=$s(u),u.tag=3,u.payload={element:null},u.callback=function(){Op(a,o)},u}function u2(a){return a=$s(a),a.tag=3,a}function c2(a,o,u,d){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var b=d.value;a.payload=function(){return y(b)},a.callback=function(){l2(o,u,d)}}var R=u.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(a.callback=function(){l2(o,u,d),typeof y!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var q=d.stack;this.componentDidCatch(d.value,{componentStack:q!==null?q:""})})}function HU(a,o,u,d,y){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=u.alternate,o!==null&&gu(o,u,y,!0),u=ni.current,u!==null){switch(u.tag){case 31:case 13:return Ai===null?$p():u.alternate===null&&On===0&&(On=3),u.flags&=-257,u.flags|=65536,u.lanes=y,d===pp?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([d]):o.add(d),j0(a,d,y)),!1;case 22:return u.flags|=65536,d===pp?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([d]):u.add(d)),j0(a,d,y)),!1}throw Error(r(435,u.tag))}return j0(a,d,y),$p(),!1}if(kt)return o=ni.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,d!==Iv&&(a=Error(r(422),{cause:d}),bf(wi(a,u)))):(d!==Iv&&(o=Error(r(423),{cause:d}),bf(wi(o,u))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,d=wi(d,u),y=c0(a.stateNode,d,y),Uv(a,y),On!==4&&(On=2)),!1;var b=Error(r(520),{cause:d});if(b=wi(b,u),Vf===null?Vf=[b]:Vf.push(b),On!==4&&(On=2),o===null)return!0;d=wi(d,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=y&-y,u.lanes|=a,a=c0(u.stateNode,d,a),Uv(u,a),!1;case 1:if(o=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Gs===null||!Gs.has(b))))return u.flags|=65536,y&=-y,u.lanes|=y,y=u2(y),c2(y,a,u,d),Uv(u,y),!1}u=u.return}while(u!==null);return!1}var f0=Error(r(461)),Un=!1;function hr(a,o,u,d){o.child=a===null?pO(o,null,u,d):nl(o,a.child,u,d)}function f2(a,o,u,d,y){u=u.render;var b=o.ref;if("ref"in d){var R={};for(var q in d)q!=="ref"&&(R[q]=d[q])}else R=d;return Jo(o),d=Gv(a,o,u,R,b,y),q=Kv(),a!==null&&!Un?(Wv(a,o,y),Ka(a,o,y)):(kt&&q&&Ov(o),o.flags|=1,hr(a,o,d,y),o.child)}function h2(a,o,u,d,y){if(a===null){var b=u.type;return typeof b=="function"&&!Ev(b)&&b.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=b,d2(a,o,b,d,y)):(a=lp(u.type,null,d,o,o.mode,y),a.ref=o.ref,a.return=o,o.child=a)}if(b=a.child,!b0(a,y)){var R=b.memoizedProps;if(u=u.compare,u=u!==null?u:gf,u(R,d)&&a.ref===o.ref)return Ka(a,o,y)}return o.flags|=1,a=Ba(b,d),a.ref=o.ref,a.return=o,o.child=a}function d2(a,o,u,d,y){if(a!==null){var b=a.memoizedProps;if(gf(b,d)&&a.ref===o.ref)if(Un=!1,o.pendingProps=d=b,b0(a,y))(a.flags&131072)!==0&&(Un=!0);else return o.lanes=a.lanes,Ka(a,o,y)}return h0(a,o,u,d,y)}function p2(a,o,u,d){var y=d.children,b=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((o.flags&128)!==0){if(b=b!==null?b.baseLanes|u:u,a!==null){for(d=o.child=a.child,y=0;d!==null;)y=y|d.lanes|d.childLanes,d=d.sibling;d=y&~b}else d=0,o.child=null;return m2(a,o,b,u,d)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&hp(o,b!==null?b.cachePool:null),b!==null?yO(o,b):qv(),vO(o);else return d=o.lanes=536870912,m2(a,o,b!==null?b.baseLanes|u:u,u,d)}else b!==null?(hp(o,b.cachePool),yO(o,b),qs(),o.memoizedState=null):(a!==null&&hp(o,null),qv(),qs());return hr(a,o,y,u),o.child}function Rf(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function m2(a,o,u,d,y){var b=Dv();return b=b===null?null:{parent:Vn._currentValue,pool:b},o.memoizedState={baseLanes:u,cachePool:b},a!==null&&hp(o,null),qv(),vO(o),a!==null&&gu(a,o,d,!0),o.childLanes=y,null}function Cp(a,o){return o=Pp({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function g2(a,o,u){return nl(o,a.child,null,u),a=Cp(o,o.pendingProps),a.flags|=2,ri(o),o.memoizedState=null,a}function GU(a,o,u){var d=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(kt){if(d.mode==="hidden")return a=Cp(o,d),o.lanes=536870912,Rf(null,a);if(Fv(o),(a=hn)?(a=CC(a,Ti),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Ms!==null?{id:pa,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},u=ZA(a),u.return=o,o.child=u,cr=o,hn=null)):a=null,a===null)throw Ds(o);return o.lanes=536870912,null}return Cp(o,d)}var b=a.memoizedState;if(b!==null){var R=b.dehydrated;if(Fv(o),y)if(o.flags&256)o.flags&=-257,o=g2(a,o,u);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(Un||gu(a,o,u,!1),y=(u&a.childLanes)!==0,Un||y){if(d=on,d!==null&&(R=ko(d,u),R!==0&&R!==b.retryLane))throw b.retryLane=R,Wo(a,R),Fr(d,a,R),f0;$p(),o=g2(a,o,u)}else a=b.treeContext,hn=Oi(R.nextSibling),cr=o,kt=!0,js=null,Ti=!1,a!==null&&nO(o,a),o=Cp(o,d),o.flags|=4096;return o}return a=Ba(a.child,{mode:d.mode,children:d.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Ip(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function h0(a,o,u,d,y){return Jo(o),u=Gv(a,o,u,d,void 0,y),d=Kv(),a!==null&&!Un?(Wv(a,o,y),Ka(a,o,y)):(kt&&d&&Ov(o),o.flags|=1,hr(a,o,u,y),o.child)}function y2(a,o,u,d,y,b){return Jo(o),o.updateQueue=null,u=_O(o,d,u,y),bO(a),d=Kv(),a!==null&&!Un?(Wv(a,o,b),Ka(a,o,b)):(kt&&d&&Ov(o),o.flags|=1,hr(a,o,u,b),o.child)}function v2(a,o,u,d,y){if(Jo(o),o.stateNode===null){var b=hu,R=u.contextType;typeof R=="object"&&R!==null&&(b=fr(R)),b=new u(d,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=u0,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=d,b.state=o.memoizedState,b.refs={},Vv(o),R=u.contextType,b.context=typeof R=="object"&&R!==null?fr(R):hu,b.state=o.memoizedState,R=u.getDerivedStateFromProps,typeof R=="function"&&(l0(o,u,R,d),b.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(R=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),R!==b.state&&u0.enqueueReplaceState(b,b.state,null),Af(o,d,b,y),Tf(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(a===null){b=o.stateNode;var q=o.memoizedProps,K=il(u,q);b.props=K;var ae=b.context,fe=u.contextType;R=hu,typeof fe=="object"&&fe!==null&&(R=fr(fe));var ge=u.getDerivedStateFromProps;fe=typeof ge=="function"||typeof b.getSnapshotBeforeUpdate=="function",q=o.pendingProps!==q,fe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(q||ae!==R)&&i2(o,b,d,R),Vs=!1;var se=o.memoizedState;b.state=se,Af(o,d,b,y),Tf(),ae=o.memoizedState,q||se!==ae||Vs?(typeof ge=="function"&&(l0(o,u,ge,d),ae=o.memoizedState),(K=Vs||r2(o,u,K,d,se,ae,R))?(fe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=ae),b.props=d,b.state=ae,b.context=R,d=K):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{b=o.stateNode,$v(a,o),R=o.memoizedProps,fe=il(u,R),b.props=fe,ge=o.pendingProps,se=b.context,ae=u.contextType,K=hu,typeof ae=="object"&&ae!==null&&(K=fr(ae)),q=u.getDerivedStateFromProps,(ae=typeof q=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(R!==ge||se!==K)&&i2(o,b,d,K),Vs=!1,se=o.memoizedState,b.state=se,Af(o,d,b,y),Tf();var ce=o.memoizedState;R!==ge||se!==ce||Vs||a!==null&&a.dependencies!==null&&cp(a.dependencies)?(typeof q=="function"&&(l0(o,u,q,d),ce=o.memoizedState),(fe=Vs||r2(o,u,fe,d,se,ce,K)||a!==null&&a.dependencies!==null&&cp(a.dependencies))?(ae||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,ce,K),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,ce,K)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||R===a.memoizedProps&&se===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||R===a.memoizedProps&&se===a.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=ce),b.props=d,b.state=ce,b.context=K,d=fe):(typeof b.componentDidUpdate!="function"||R===a.memoizedProps&&se===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||R===a.memoizedProps&&se===a.memoizedState||(o.flags|=1024),d=!1)}return b=d,Ip(a,o),d=(o.flags&128)!==0,b||d?(b=o.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,a!==null&&d?(o.child=nl(o,a.child,null,y),o.child=nl(o,null,u,y)):hr(a,o,u,y),o.memoizedState=b.state,a=o.child):a=Ka(a,o,y),a}function b2(a,o,u,d){return Xo(),o.flags|=256,hr(a,o,u,d),o.child}var d0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function p0(a){return{baseLanes:a,cachePool:lO()}}function m0(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=ai),a}function _2(a,o,u){var d=o.pendingProps,y=!1,b=(o.flags&128)!==0,R;if((R=b)||(R=a!==null&&a.memoizedState===null?!1:(kn.current&2)!==0),R&&(y=!0,o.flags&=-129),R=(o.flags&32)!==0,o.flags&=-33,a===null){if(kt){if(y?Bs(o):qs(),(a=hn)?(a=CC(a,Ti),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:Ms!==null?{id:pa,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},u=ZA(a),u.return=o,o.child=u,cr=o,hn=null)):a=null,a===null)throw Ds(o);return Q0(a)?o.lanes=32:o.lanes=536870912,null}var q=d.children;return d=d.fallback,y?(qs(),y=o.mode,q=Pp({mode:"hidden",children:q},y),d=Yo(d,y,u,null),q.return=o,d.return=o,q.sibling=d,o.child=q,d=o.child,d.memoizedState=p0(u),d.childLanes=m0(a,R,u),o.memoizedState=d0,Rf(null,d)):(Bs(o),g0(o,q))}var K=a.memoizedState;if(K!==null&&(q=K.dehydrated,q!==null)){if(b)o.flags&256?(Bs(o),o.flags&=-257,o=y0(a,o,u)):o.memoizedState!==null?(qs(),o.child=a.child,o.flags|=128,o=null):(qs(),q=d.fallback,y=o.mode,d=Pp({mode:"visible",children:d.children},y),q=Yo(q,y,u,null),q.flags|=2,d.return=o,q.return=o,d.sibling=q,o.child=d,nl(o,a.child,null,u),d=o.child,d.memoizedState=p0(u),d.childLanes=m0(a,R,u),o.memoizedState=d0,o=Rf(null,d));else if(Bs(o),Q0(q)){if(R=q.nextSibling&&q.nextSibling.dataset,R)var ae=R.dgst;R=ae,d=Error(r(419)),d.stack="",d.digest=R,bf({value:d,source:null,stack:null}),o=y0(a,o,u)}else if(Un||gu(a,o,u,!1),R=(u&a.childLanes)!==0,Un||R){if(R=on,R!==null&&(d=ko(R,u),d!==0&&d!==K.retryLane))throw K.retryLane=d,Wo(a,d),Fr(R,a,d),f0;X0(q)||$p(),o=y0(a,o,u)}else X0(q)?(o.flags|=192,o.child=a.child,o=null):(a=K.treeContext,hn=Oi(q.nextSibling),cr=o,kt=!0,js=null,Ti=!1,a!==null&&nO(o,a),o=g0(o,d.children),o.flags|=4096);return o}return y?(qs(),q=d.fallback,y=o.mode,K=a.child,ae=K.sibling,d=Ba(K,{mode:"hidden",children:d.children}),d.subtreeFlags=K.subtreeFlags&65011712,ae!==null?q=Ba(ae,q):(q=Yo(q,y,u,null),q.flags|=2),q.return=o,d.return=o,d.sibling=q,o.child=d,Rf(null,d),d=o.child,q=a.child.memoizedState,q===null?q=p0(u):(y=q.cachePool,y!==null?(K=Vn._currentValue,y=y.parent!==K?{parent:K,pool:K}:y):y=lO(),q={baseLanes:q.baseLanes|u,cachePool:y}),d.memoizedState=q,d.childLanes=m0(a,R,u),o.memoizedState=d0,Rf(a.child,d)):(Bs(o),u=a.child,a=u.sibling,u=Ba(u,{mode:"visible",children:d.children}),u.return=o,u.sibling=null,a!==null&&(R=o.deletions,R===null?(o.deletions=[a],o.flags|=16):R.push(a)),o.child=u,o.memoizedState=null,u)}function g0(a,o){return o=Pp({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Pp(a,o){return a=ti(22,a,null,o),a.lanes=0,a}function y0(a,o,u){return nl(o,a.child,null,u),a=g0(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function x2(a,o,u){a.lanes|=o;var d=a.alternate;d!==null&&(d.lanes|=o),Nv(a.return,o,u)}function v0(a,o,u,d,y,b){var R=a.memoizedState;R===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:y,treeForkCount:b}:(R.isBackwards=o,R.rendering=null,R.renderingStartTime=0,R.last=d,R.tail=u,R.tailMode=y,R.treeForkCount=b)}function w2(a,o,u){var d=o.pendingProps,y=d.revealOrder,b=d.tail;d=d.children;var R=kn.current,q=(R&2)!==0;if(q?(R=R&1|2,o.flags|=128):R&=1,oe(kn,R),hr(a,o,d,u),d=kt?vf:0,!q&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&x2(a,u,o);else if(a.tag===19)x2(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(u=o.child,y=null;u!==null;)a=u.alternate,a!==null&&vp(a)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),v0(o,!1,y,u,b,d);break;case"backwards":case"unstable_legacy-backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(a=y.alternate,a!==null&&vp(a)===null){o.child=y;break}a=y.sibling,y.sibling=u,u=y,y=a}v0(o,!0,u,null,b,d);break;case"together":v0(o,!1,null,null,void 0,d);break;default:o.memoizedState=null}return o.child}function Ka(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),Hs|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(gu(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,u=Ba(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=Ba(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function b0(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&cp(a)))}function KU(a,o,u){switch(o.tag){case 3:$e(o,o.stateNode.containerInfo),Ls(o,Vn,a.memoizedState.cache),Xo();break;case 27:case 5:Ee(o);break;case 4:$e(o,o.stateNode.containerInfo);break;case 10:Ls(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Fv(o),null;break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(Bs(o),o.flags|=128,null):(u&o.child.childLanes)!==0?_2(a,o,u):(Bs(o),a=Ka(a,o,u),a!==null?a.sibling:null);Bs(o);break;case 19:var y=(a.flags&128)!==0;if(d=(u&o.childLanes)!==0,d||(gu(a,o,u,!1),d=(u&o.childLanes)!==0),y){if(d)return w2(a,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),oe(kn,kn.current),d)break;return null;case 22:return o.lanes=0,p2(a,o,u,o.pendingProps);case 24:Ls(o,Vn,a.memoizedState.cache)}return Ka(a,o,u)}function S2(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)Un=!0;else{if(!b0(a,u)&&(o.flags&128)===0)return Un=!1,KU(a,o,u);Un=(a.flags&131072)!==0}else Un=!1,kt&&(o.flags&1048576)!==0&&tO(o,vf,o.index);switch(o.lanes=0,o.tag){case 16:e:{var d=o.pendingProps;if(a=el(o.elementType),o.type=a,typeof a=="function")Ev(a)?(d=il(a,d),o.tag=1,o=v2(null,o,a,d,u)):(o.tag=0,o=h0(null,o,a,d,u));else{if(a!=null){var y=a.$$typeof;if(y===L){o.tag=11,o=f2(null,o,a,d,u);break e}else if(y===A){o.tag=14,o=h2(null,o,a,d,u);break e}}throw o=Q(a)||a,Error(r(306,o,""))}}return o;case 0:return h0(a,o,o.type,o.pendingProps,u);case 1:return d=o.type,y=il(d,o.pendingProps),v2(a,o,d,y,u);case 3:e:{if($e(o,o.stateNode.containerInfo),a===null)throw Error(r(387));d=o.pendingProps;var b=o.memoizedState;y=b.element,$v(a,o),Af(o,d,null,u);var R=o.memoizedState;if(d=R.cache,Ls(o,Vn,d),d!==b.cache&&kv(o,[Vn],u,!0),Tf(),d=R.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:R.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=b2(a,o,d,u);break e}else if(d!==y){y=wi(Error(r(424)),o),bf(y),o=b2(a,o,d,u);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(hn=Oi(a.firstChild),cr=o,kt=!0,js=null,Ti=!0,u=pO(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Xo(),d===y){o=Ka(a,o,u);break e}hr(a,o,d,u)}o=o.child}return o;case 26:return Ip(a,o),a===null?(u=MC(o.type,null,o.pendingProps,null))?o.memoizedState=u:kt||(u=o.type,a=o.pendingProps,d=Gp(Se.current).createElement(u),d[Pn]=o,d[Rn]=a,dr(d,u,a),xn(d),o.stateNode=d):o.memoizedState=MC(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Ee(o),a===null&&kt&&(d=o.stateNode=RC(o.type,o.pendingProps,Se.current),cr=o,Ti=!0,y=hn,Xs(o.type)?(J0=y,hn=Oi(d.firstChild)):hn=y),hr(a,o,o.pendingProps.children,u),Ip(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&kt&&((y=d=hn)&&(d=SB(d,o.type,o.pendingProps,Ti),d!==null?(o.stateNode=d,cr=o,hn=Oi(d.firstChild),Ti=!1,y=!0):y=!1),y||Ds(o)),Ee(o),y=o.type,b=o.pendingProps,R=a!==null?a.memoizedProps:null,d=b.children,K0(y,b)?d=null:R!==null&&K0(y,R)&&(o.flags|=32),o.memoizedState!==null&&(y=Gv(a,o,VU,null,null,u),Gf._currentValue=y),Ip(a,o),hr(a,o,d,u),o.child;case 6:return a===null&&kt&&((a=u=hn)&&(u=EB(u,o.pendingProps,Ti),u!==null?(o.stateNode=u,cr=o,hn=null,a=!0):a=!1),a||Ds(o)),null;case 13:return _2(a,o,u);case 4:return $e(o,o.stateNode.containerInfo),d=o.pendingProps,a===null?o.child=nl(o,null,d,u):hr(a,o,d,u),o.child;case 11:return f2(a,o,o.type,o.pendingProps,u);case 7:return hr(a,o,o.pendingProps,u),o.child;case 8:return hr(a,o,o.pendingProps.children,u),o.child;case 12:return hr(a,o,o.pendingProps.children,u),o.child;case 10:return d=o.pendingProps,Ls(o,o.type,d.value),hr(a,o,d.children,u),o.child;case 9:return y=o.type._context,d=o.pendingProps.children,Jo(o),y=fr(y),d=d(y),o.flags|=1,hr(a,o,d,u),o.child;case 14:return h2(a,o,o.type,o.pendingProps,u);case 15:return d2(a,o,o.type,o.pendingProps,u);case 19:return w2(a,o,u);case 31:return GU(a,o,u);case 22:return p2(a,o,u,o.pendingProps);case 24:return Jo(o),d=fr(Vn),a===null?(y=Dv(),y===null&&(y=on,b=Mv(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=u),y=b),o.memoizedState={parent:d,cache:y},Vv(o),Ls(o,Vn,y)):((a.lanes&u)!==0&&($v(a,o),Af(o,null,null,u),Tf()),y=a.memoizedState,b=o.memoizedState,y.parent!==d?(y={parent:d,cache:d},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),Ls(o,Vn,d)):(d=b.cache,Ls(o,Vn,d),d!==y.cache&&kv(o,[Vn],u,!0))),hr(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Wa(a){a.flags|=4}function _0(a,o,u,d,y){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(X2())a.flags|=8192;else throw tl=pp,Lv}else a.flags&=-16777217}function E2(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!$C(o))if(X2())a.flags|=8192;else throw tl=pp,Lv}function Rp(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Vr():536870912,a.lanes|=o,Cu|=o)}function Nf(a,o){if(!kt)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function dn(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,d=0;if(o)for(var y=a.child;y!==null;)u|=y.lanes|y.childLanes,d|=y.subtreeFlags&65011712,d|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)u|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=d,a.childLanes=u,o}function WU(a,o,u){var d=o.pendingProps;switch(Cv(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(o),null;case 1:return dn(o),null;case 3:return u=o.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Fa(Vn),ye(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(mu(o)?Wa(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Pv())),dn(o),null;case 26:var y=o.type,b=o.memoizedState;return a===null?(Wa(o),b!==null?(dn(o),E2(o,b)):(dn(o),_0(o,y,null,d,u))):b?b!==a.memoizedState?(Wa(o),dn(o),E2(o,b)):(dn(o),o.flags&=-16777217):(a=a.memoizedProps,a!==d&&Wa(o),dn(o),_0(o,y,a,d,u)),null;case 27:if(Ne(o),u=Se.current,y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==d&&Wa(o);else{if(!d){if(o.stateNode===null)throw Error(r(166));return dn(o),null}a=me.current,mu(o)?rO(o):(a=RC(y,d,u),o.stateNode=a,Wa(o))}return dn(o),null;case 5:if(Ne(o),y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==d&&Wa(o);else{if(!d){if(o.stateNode===null)throw Error(r(166));return dn(o),null}if(b=me.current,mu(o))rO(o);else{var R=Gp(Se.current);switch(b){case 1:b=R.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:b=R.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":b=R.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":b=R.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":b=R.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof d.is=="string"?R.createElement("select",{is:d.is}):R.createElement("select"),d.multiple?b.multiple=!0:d.size&&(b.size=d.size);break;default:b=typeof d.is=="string"?R.createElement(y,{is:d.is}):R.createElement(y)}}b[Pn]=o,b[Rn]=d;e:for(R=o.child;R!==null;){if(R.tag===5||R.tag===6)b.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===o)break e;for(;R.sibling===null;){if(R.return===null||R.return===o)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}o.stateNode=b;e:switch(dr(b,y,d),y){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Wa(o)}}return dn(o),_0(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,u),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==d&&Wa(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(r(166));if(a=Se.current,mu(o)){if(a=o.stateNode,u=o.memoizedProps,d=null,y=cr,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}a[Pn]=o,a=!!(a.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||_C(a.nodeValue,u)),a||Ds(o,!0)}else a=Gp(a).createTextNode(d),a[Pn]=o,o.stateNode=a}return dn(o),null;case 31:if(u=o.memoizedState,a===null||a.memoizedState!==null){if(d=mu(o),u!==null){if(a===null){if(!d)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[Pn]=o}else Xo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;dn(o),a=!1}else u=Pv(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return o.flags&256?(ri(o),o):(ri(o),null);if((o.flags&128)!==0)throw Error(r(558))}return dn(o),null;case 13:if(d=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=mu(o),d!==null&&d.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[Pn]=o}else Xo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;dn(o),y=!1}else y=Pv(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(ri(o),o):(ri(o),null)}return ri(o),(o.flags&128)!==0?(o.lanes=u,o):(u=d!==null,a=a!==null&&a.memoizedState!==null,u&&(d=o.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool),b=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==y&&(d.flags|=2048)),u!==a&&u&&(o.child.flags|=8192),Rp(o,o.updateQueue),dn(o),null);case 4:return ye(),a===null&&q0(o.stateNode.containerInfo),dn(o),null;case 10:return Fa(o.type),dn(o),null;case 19:if(W(kn),d=o.memoizedState,d===null)return dn(o),null;if(y=(o.flags&128)!==0,b=d.rendering,b===null)if(y)Nf(d,!1);else{if(On!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(b=vp(a),b!==null){for(o.flags|=128,Nf(d,!1),a=b.updateQueue,o.updateQueue=a,Rp(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)JA(u,a),u=u.sibling;return oe(kn,kn.current&1|2),kt&&qa(o,d.treeForkCount),o.child}a=a.sibling}d.tail!==null&&Ie()>Dp&&(o.flags|=128,y=!0,Nf(d,!1),o.lanes=4194304)}else{if(!y)if(a=vp(b),a!==null){if(o.flags|=128,y=!0,a=a.updateQueue,o.updateQueue=a,Rp(o,a),Nf(d,!0),d.tail===null&&d.tailMode==="hidden"&&!b.alternate&&!kt)return dn(o),null}else 2*Ie()-d.renderingStartTime>Dp&&u!==536870912&&(o.flags|=128,y=!0,Nf(d,!1),o.lanes=4194304);d.isBackwards?(b.sibling=o.child,o.child=b):(a=d.last,a!==null?a.sibling=b:o.child=b,d.last=b)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=Ie(),a.sibling=null,u=kn.current,oe(kn,y?u&1|2:u&1),kt&&qa(o,d.treeForkCount),a):(dn(o),null);case 22:case 23:return ri(o),zv(),d=o.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(u&536870912)!==0&&(o.flags&128)===0&&(dn(o),o.subtreeFlags&6&&(o.flags|=8192)):dn(o),u=o.updateQueue,u!==null&&Rp(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==u&&(o.flags|=2048),a!==null&&W(Zo),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Fa(Vn),dn(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function YU(a,o){switch(Cv(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Fa(Vn),ye(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Ne(o),null;case 31:if(o.memoizedState!==null){if(ri(o),o.alternate===null)throw Error(r(340));Xo()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(ri(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Xo()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return W(kn),null;case 4:return ye(),null;case 10:return Fa(o.type),null;case 22:case 23:return ri(o),zv(),a!==null&&W(Zo),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Fa(Vn),null;case 25:return null;default:return null}}function T2(a,o){switch(Cv(o),o.tag){case 3:Fa(Vn),ye();break;case 26:case 27:case 5:Ne(o);break;case 4:ye();break;case 31:o.memoizedState!==null&&ri(o);break;case 13:ri(o);break;case 19:W(kn);break;case 10:Fa(o.type);break;case 22:case 23:ri(o),zv(),a!==null&&W(Zo);break;case 24:Fa(Vn)}}function kf(a,o){try{var u=o.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var y=d.next;u=y;do{if((u.tag&a)===a){d=void 0;var b=u.create,R=u.inst;d=b(),R.destroy=d}u=u.next}while(u!==y)}}catch(q){Jt(o,o.return,q)}}function zs(a,o,u){try{var d=o.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var b=y.next;d=b;do{if((d.tag&a)===a){var R=d.inst,q=R.destroy;if(q!==void 0){R.destroy=void 0,y=o;var K=u,ae=q;try{ae()}catch(fe){Jt(y,K,fe)}}}d=d.next}while(d!==b)}}catch(fe){Jt(o,o.return,fe)}}function A2(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{gO(o,u)}catch(d){Jt(a,a.return,d)}}}function O2(a,o,u){u.props=il(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(d){Jt(a,o,d)}}function Mf(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:d=a.stateNode;break;default:d=a.stateNode}typeof u=="function"?a.refCleanup=u(d):u.current=d}}catch(y){Jt(a,o,y)}}function ga(a,o){var u=a.ref,d=a.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(y){Jt(a,o,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){Jt(a,o,y)}else u.current=null}function C2(a){var o=a.type,u=a.memoizedProps,d=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break e;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(y){Jt(a,a.return,y)}}function x0(a,o,u){try{var d=a.stateNode;yB(d,a.type,u,o),d[Rn]=o}catch(y){Jt(a,a.return,y)}}function I2(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Xs(a.type)||a.tag===4}function w0(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||I2(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Xs(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function S0(a,o,u){var d=a.tag;if(d===5||d===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Ui));else if(d!==4&&(d===27&&Xs(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(S0(a,o,u),a=a.sibling;a!==null;)S0(a,o,u),a=a.sibling}function Np(a,o,u){var d=a.tag;if(d===5||d===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(d!==4&&(d===27&&Xs(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(Np(a,o,u),a=a.sibling;a!==null;)Np(a,o,u),a=a.sibling}function P2(a){var o=a.stateNode,u=a.memoizedProps;try{for(var d=a.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);dr(o,d,u),o[Pn]=a,o[Rn]=u}catch(b){Jt(a,a.return,b)}}var Ya=!1,Bn=!1,E0=!1,R2=typeof WeakSet=="function"?WeakSet:Set,tr=null;function XU(a,o){if(a=a.containerInfo,H0=Zp,a=zA(a),yv(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var y=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var R=0,q=-1,K=-1,ae=0,fe=0,ge=a,se=null;t:for(;;){for(var ce;ge!==u||y!==0&&ge.nodeType!==3||(q=R+y),ge!==b||d!==0&&ge.nodeType!==3||(K=R+d),ge.nodeType===3&&(R+=ge.nodeValue.length),(ce=ge.firstChild)!==null;)se=ge,ge=ce;for(;;){if(ge===a)break t;if(se===u&&++ae===y&&(q=R),se===b&&++fe===d&&(K=R),(ce=ge.nextSibling)!==null)break;ge=se,se=ge.parentNode}ge=ce}u=q===-1||K===-1?null:{start:q,end:K}}else u=null}u=u||{start:0,end:0}}else u=null;for(G0={focusedElem:a,selectionRange:u},Zp=!1,tr=o;tr!==null;)if(o=tr,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,tr=a;else for(;tr!==null;){switch(o=tr,b=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)y=a[u],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,u=o,y=b.memoizedProps,b=b.memoizedState,d=u.stateNode;try{var Ve=il(u.type,y);a=d.getSnapshotBeforeUpdate(Ve,b),d.__reactInternalSnapshotBeforeUpdate=a}catch(et){Jt(u,u.return,et)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)Y0(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Y0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,tr=a;break}tr=o.return}}function N2(a,o,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:Qa(a,u),d&4&&kf(5,u);break;case 1:if(Qa(a,u),d&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(R){Jt(u,u.return,R)}else{var y=il(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(y,o,a.__reactInternalSnapshotBeforeUpdate)}catch(R){Jt(u,u.return,R)}}d&64&&A2(u),d&512&&Mf(u,u.return);break;case 3:if(Qa(a,u),d&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{gO(a,o)}catch(R){Jt(u,u.return,R)}}break;case 27:o===null&&d&4&&P2(u);case 26:case 5:Qa(a,u),o===null&&d&4&&C2(u),d&512&&Mf(u,u.return);break;case 12:Qa(a,u);break;case 31:Qa(a,u),d&4&&j2(a,u);break;case 13:Qa(a,u),d&4&&D2(a,u),d&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=aB.bind(null,u),TB(a,u))));break;case 22:if(d=u.memoizedState!==null||Ya,!d){o=o!==null&&o.memoizedState!==null||Bn,y=Ya;var b=Bn;Ya=d,(Bn=o)&&!b?Ja(a,u,(u.subtreeFlags&8772)!==0):Qa(a,u),Ya=y,Bn=b}break;case 30:break;default:Qa(a,u)}}function k2(a){var o=a.alternate;o!==null&&(a.alternate=null,k2(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&$i(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var yn=null,Ur=!1;function Xa(a,o,u){for(u=u.child;u!==null;)M2(a,o,u),u=u.sibling}function M2(a,o,u){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Ae,u)}catch{}switch(u.tag){case 26:Bn||ga(u,o),Xa(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Bn||ga(u,o);var d=yn,y=Ur;Xs(u.type)&&(yn=u.stateNode,Ur=!1),Xa(a,o,u),zf(u.stateNode),yn=d,Ur=y;break;case 5:Bn||ga(u,o);case 6:if(d=yn,y=Ur,yn=null,Xa(a,o,u),yn=d,Ur=y,yn!==null)if(Ur)try{(yn.nodeType===9?yn.body:yn.nodeName==="HTML"?yn.ownerDocument.body:yn).removeChild(u.stateNode)}catch(b){Jt(u,o,b)}else try{yn.removeChild(u.stateNode)}catch(b){Jt(u,o,b)}break;case 18:yn!==null&&(Ur?(a=yn,AC(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),Du(a)):AC(yn,u.stateNode));break;case 4:d=yn,y=Ur,yn=u.stateNode.containerInfo,Ur=!0,Xa(a,o,u),yn=d,Ur=y;break;case 0:case 11:case 14:case 15:zs(2,u,o),Bn||zs(4,u,o),Xa(a,o,u);break;case 1:Bn||(ga(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"&&O2(u,o,d)),Xa(a,o,u);break;case 21:Xa(a,o,u);break;case 22:Bn=(d=Bn)||u.memoizedState!==null,Xa(a,o,u),Bn=d;break;default:Xa(a,o,u)}}function j2(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Du(a)}catch(u){Jt(o,o.return,u)}}}function D2(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Du(a)}catch(u){Jt(o,o.return,u)}}function QU(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new R2),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new R2),o;default:throw Error(r(435,a.tag))}}function kp(a,o){var u=QU(a);o.forEach(function(d){if(!u.has(d)){u.add(d);var y=sB.bind(null,a,d);d.then(y,y)}})}function Br(a,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var y=u[d],b=a,R=o,q=R;e:for(;q!==null;){switch(q.tag){case 27:if(Xs(q.type)){yn=q.stateNode,Ur=!1;break e}break;case 5:yn=q.stateNode,Ur=!1;break e;case 3:case 4:yn=q.stateNode.containerInfo,Ur=!0;break e}q=q.return}if(yn===null)throw Error(r(160));M2(b,R,y),yn=null,Ur=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)L2(o,a),o=o.sibling}var Gi=null;function L2(a,o){var u=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Br(o,a),qr(a),d&4&&(zs(3,a,a.return),kf(3,a),zs(5,a,a.return));break;case 1:Br(o,a),qr(a),d&512&&(Bn||u===null||ga(u,u.return)),d&64&&Ya&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var y=Gi;if(Br(o,a),qr(a),d&512&&(Bn||u===null||ga(u,u.return)),d&4){var b=u!==null?u.memoizedState:null;if(d=a.memoizedState,u===null)if(d===null)if(a.stateNode===null){e:{d=a.type,u=a.memoizedProps,y=y.ownerDocument||y;t:switch(d){case"title":b=y.getElementsByTagName("title")[0],(!b||b[mi]||b[Pn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(d),y.head.insertBefore(b,y.querySelector("head > title"))),dr(b,d,u),b[Pn]=a,xn(b),d=b;break e;case"link":var R=LC("link","href",y).get(d+(u.href||""));if(R){for(var q=0;q<R.length;q++)if(b=R[q],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){R.splice(q,1);break t}}b=y.createElement(d),dr(b,d,u),y.head.appendChild(b);break;case"meta":if(R=LC("meta","content",y).get(d+(u.content||""))){for(q=0;q<R.length;q++)if(b=R[q],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){R.splice(q,1);break t}}b=y.createElement(d),dr(b,d,u),y.head.appendChild(b);break;default:throw Error(r(468,d))}b[Pn]=a,xn(b),d=b}a.stateNode=d}else VC(y,a.type,a.stateNode);else a.stateNode=DC(y,d,a.memoizedProps);else b!==d?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,d===null?VC(y,a.type,a.stateNode):DC(y,d,a.memoizedProps)):d===null&&a.stateNode!==null&&x0(a,a.memoizedProps,u.memoizedProps)}break;case 27:Br(o,a),qr(a),d&512&&(Bn||u===null||ga(u,u.return)),u!==null&&d&4&&x0(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Br(o,a),qr(a),d&512&&(Bn||u===null||ga(u,u.return)),a.flags&32){y=a.stateNode;try{lr(y,"")}catch(Ve){Jt(a,a.return,Ve)}}d&4&&a.stateNode!=null&&(y=a.memoizedProps,x0(a,y,u!==null?u.memoizedProps:y)),d&1024&&(E0=!0);break;case 6:if(Br(o,a),qr(a),d&4){if(a.stateNode===null)throw Error(r(162));d=a.memoizedProps,u=a.stateNode;try{u.nodeValue=d}catch(Ve){Jt(a,a.return,Ve)}}break;case 3:if(Yp=null,y=Gi,Gi=Kp(o.containerInfo),Br(o,a),Gi=y,qr(a),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Du(o.containerInfo)}catch(Ve){Jt(a,a.return,Ve)}E0&&(E0=!1,V2(a));break;case 4:d=Gi,Gi=Kp(a.stateNode.containerInfo),Br(o,a),qr(a),Gi=d;break;case 12:Br(o,a),qr(a);break;case 31:Br(o,a),qr(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,kp(a,d)));break;case 13:Br(o,a),qr(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(jp=Ie()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,kp(a,d)));break;case 22:y=a.memoizedState!==null;var K=u!==null&&u.memoizedState!==null,ae=Ya,fe=Bn;if(Ya=ae||y,Bn=fe||K,Br(o,a),Bn=fe,Ya=ae,qr(a),d&8192)e:for(o=a.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(u===null||K||Ya||Bn||al(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){K=u=o;try{if(b=K.stateNode,y)R=b.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{q=K.stateNode;var ge=K.memoizedProps.style,se=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;q.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(Ve){Jt(K,K.return,Ve)}}}else if(o.tag===6){if(u===null){K=o;try{K.stateNode.nodeValue=y?"":K.memoizedProps}catch(Ve){Jt(K,K.return,Ve)}}}else if(o.tag===18){if(u===null){K=o;try{var ce=K.stateNode;y?OC(ce,!0):OC(K.stateNode,!1)}catch(Ve){Jt(K,K.return,Ve)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=a.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,kp(a,u))));break;case 19:Br(o,a),qr(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,kp(a,d)));break;case 30:break;case 21:break;default:Br(o,a),qr(a)}}function qr(a){var o=a.flags;if(o&2){try{for(var u,d=a.return;d!==null;){if(I2(d)){u=d;break}d=d.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var y=u.stateNode,b=w0(a);Np(a,b,y);break;case 5:var R=u.stateNode;u.flags&32&&(lr(R,""),u.flags&=-33);var q=w0(a);Np(a,q,R);break;case 3:case 4:var K=u.stateNode.containerInfo,ae=w0(a);S0(a,ae,K);break;default:throw Error(r(161))}}catch(fe){Jt(a,a.return,fe)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function V2(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;V2(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Qa(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)N2(a,o.alternate,o),o=o.sibling}function al(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:zs(4,o,o.return),al(o);break;case 1:ga(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&O2(o,o.return,u),al(o);break;case 27:zf(o.stateNode);case 26:case 5:ga(o,o.return),al(o);break;case 22:o.memoizedState===null&&al(o);break;case 30:al(o);break;default:al(o)}a=a.sibling}}function Ja(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,y=a,b=o,R=b.flags;switch(b.tag){case 0:case 11:case 15:Ja(y,b,u),kf(4,b);break;case 1:if(Ja(y,b,u),d=b,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ae){Jt(d,d.return,ae)}if(d=b,y=d.updateQueue,y!==null){var q=d.stateNode;try{var K=y.shared.hiddenCallbacks;if(K!==null)for(y.shared.hiddenCallbacks=null,y=0;y<K.length;y++)mO(K[y],q)}catch(ae){Jt(d,d.return,ae)}}u&&R&64&&A2(b),Mf(b,b.return);break;case 27:P2(b);case 26:case 5:Ja(y,b,u),u&&d===null&&R&4&&C2(b),Mf(b,b.return);break;case 12:Ja(y,b,u);break;case 31:Ja(y,b,u),u&&R&4&&j2(y,b);break;case 13:Ja(y,b,u),u&&R&4&&D2(y,b);break;case 22:b.memoizedState===null&&Ja(y,b,u),Mf(b,b.return);break;case 30:break;default:Ja(y,b,u)}o=o.sibling}}function T0(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&_f(u))}function A0(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&_f(a))}function Ki(a,o,u,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)$2(a,o,u,d),o=o.sibling}function $2(a,o,u,d){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Ki(a,o,u,d),y&2048&&kf(9,o);break;case 1:Ki(a,o,u,d);break;case 3:Ki(a,o,u,d),y&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&_f(a)));break;case 12:if(y&2048){Ki(a,o,u,d),a=o.stateNode;try{var b=o.memoizedProps,R=b.id,q=b.onPostCommit;typeof q=="function"&&q(R,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(K){Jt(o,o.return,K)}}else Ki(a,o,u,d);break;case 31:Ki(a,o,u,d);break;case 13:Ki(a,o,u,d);break;case 23:break;case 22:b=o.stateNode,R=o.alternate,o.memoizedState!==null?b._visibility&2?Ki(a,o,u,d):jf(a,o):b._visibility&2?Ki(a,o,u,d):(b._visibility|=2,Tu(a,o,u,d,(o.subtreeFlags&10256)!==0||!1)),y&2048&&T0(R,o);break;case 24:Ki(a,o,u,d),y&2048&&A0(o.alternate,o);break;default:Ki(a,o,u,d)}}function Tu(a,o,u,d,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var b=a,R=o,q=u,K=d,ae=R.flags;switch(R.tag){case 0:case 11:case 15:Tu(b,R,q,K,y),kf(8,R);break;case 23:break;case 22:var fe=R.stateNode;R.memoizedState!==null?fe._visibility&2?Tu(b,R,q,K,y):jf(b,R):(fe._visibility|=2,Tu(b,R,q,K,y)),y&&ae&2048&&T0(R.alternate,R);break;case 24:Tu(b,R,q,K,y),y&&ae&2048&&A0(R.alternate,R);break;default:Tu(b,R,q,K,y)}o=o.sibling}}function jf(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,d=o,y=d.flags;switch(d.tag){case 22:jf(u,d),y&2048&&T0(d.alternate,d);break;case 24:jf(u,d),y&2048&&A0(d.alternate,d);break;default:jf(u,d)}o=o.sibling}}var Df=8192;function Au(a,o,u){if(a.subtreeFlags&Df)for(a=a.child;a!==null;)U2(a,o,u),a=a.sibling}function U2(a,o,u){switch(a.tag){case 26:Au(a,o,u),a.flags&Df&&a.memoizedState!==null&&LB(u,Gi,a.memoizedState,a.memoizedProps);break;case 5:Au(a,o,u);break;case 3:case 4:var d=Gi;Gi=Kp(a.stateNode.containerInfo),Au(a,o,u),Gi=d;break;case 22:a.memoizedState===null&&(d=a.alternate,d!==null&&d.memoizedState!==null?(d=Df,Df=16777216,Au(a,o,u),Df=d):Au(a,o,u));break;default:Au(a,o,u)}}function B2(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Lf(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];tr=d,z2(d,a)}B2(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)q2(a),a=a.sibling}function q2(a){switch(a.tag){case 0:case 11:case 15:Lf(a),a.flags&2048&&zs(9,a,a.return);break;case 3:Lf(a);break;case 12:Lf(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Mp(a)):Lf(a);break;default:Lf(a)}}function Mp(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];tr=d,z2(d,a)}B2(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:zs(8,o,o.return),Mp(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Mp(o));break;default:Mp(o)}a=a.sibling}}function z2(a,o){for(;tr!==null;){var u=tr;switch(u.tag){case 0:case 11:case 15:zs(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:_f(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,tr=d;else e:for(u=a;tr!==null;){d=tr;var y=d.sibling,b=d.return;if(k2(d),d===u){tr=null;break e}if(y!==null){y.return=b,tr=y;break e}tr=b}}}var JU={getCacheForType:function(a){var o=fr(Vn),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u},cacheSignal:function(){return fr(Vn).controller.signal}},ZU=typeof WeakMap=="function"?WeakMap:Map,Ht=0,on=null,wt=null,Tt=0,Qt=0,ii=null,Fs=!1,Ou=!1,O0=!1,Za=0,On=0,Hs=0,sl=0,C0=0,ai=0,Cu=0,Vf=null,zr=null,I0=!1,jp=0,F2=0,Dp=1/0,Lp=null,Gs=null,Gn=0,Ks=null,Iu=null,es=0,P0=0,R0=null,H2=null,$f=0,N0=null;function si(){return(Ht&2)!==0&&Tt!==0?Tt&-Tt:H.T!==null?V0():Xl()}function G2(){if(ai===0)if((Tt&536870912)===0||kt){var a=Ue;Ue<<=1,(Ue&3932160)===0&&(Ue=262144),ai=a}else ai=536870912;return a=ni.current,a!==null&&(a.flags|=32),ai}function Fr(a,o,u){(a===on&&(Qt===2||Qt===9)||a.cancelPendingCommit!==null)&&(Pu(a,0),Ws(a,Tt,ai,!1)),Xr(a,u),((Ht&2)===0||a!==on)&&(a===on&&((Ht&2)===0&&(sl|=u),On===4&&Ws(a,Tt,ai,!1)),ya(a))}function K2(a,o,u){if((Ht&6)!==0)throw Error(r(327));var d=!u&&(o&127)===0&&(o&a.expiredLanes)===0||Mt(a,o),y=d?nB(a,o):M0(a,o,!0),b=d;do{if(y===0){Ou&&!d&&Ws(a,o,0,!1);break}else{if(u=a.current.alternate,b&&!eB(u)){y=M0(a,o,!1),b=!1;continue}if(y===2){if(b=o,a.errorRecoveryDisabledLanes&b)var R=0;else R=a.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){o=R;e:{var q=a;y=Vf;var K=q.current.memoizedState.isDehydrated;if(K&&(Pu(q,R).flags|=256),R=M0(q,R,!1),R!==2){if(O0&&!K){q.errorRecoveryDisabledLanes|=b,sl|=b,y=4;break e}b=zr,zr=y,b!==null&&(zr===null?zr=b:zr.push.apply(zr,b))}y=R}if(b=!1,y!==2)continue}}if(y===1){Pu(a,0),Ws(a,o,0,!0);break}e:{switch(d=a,b=y,b){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Ws(d,o,ai,!Fs);break e;case 2:zr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=jp+300-Ie(),10<y)){if(Ws(d,o,ai,!Fs),pt(d,0,!0)!==0)break e;es=o,d.timeoutHandle=EC(W2.bind(null,d,u,zr,Lp,I0,o,ai,sl,Cu,Fs,b,"Throttled",-0,0),y);break e}W2(d,u,zr,Lp,I0,o,ai,sl,Cu,Fs,b,null,-0,0)}}break}while(!0);ya(a)}function W2(a,o,u,d,y,b,R,q,K,ae,fe,ge,se,ce){if(a.timeoutHandle=-1,ge=o.subtreeFlags,ge&8192||(ge&16785408)===16785408){ge={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ui},U2(o,b,ge);var Ve=(b&62914560)===b?jp-Ie():(b&4194048)===b?F2-Ie():0;if(Ve=VB(ge,Ve),Ve!==null){es=b,a.cancelPendingCommit=Ve(nC.bind(null,a,o,b,u,d,y,R,q,K,fe,ge,null,se,ce)),Ws(a,b,R,!ae);return}}nC(a,o,b,u,d,y,R,q,K)}function eB(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var y=u[d],b=y.getSnapshot;y=y.value;try{if(!ei(b(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ws(a,o,u,d){o&=~C0,o&=~sl,a.suspendedLanes|=o,a.pingedLanes&=~o,d&&(a.warmLanes|=o),d=a.expirationTimes;for(var y=o;0<y;){var b=31-ot(y),R=1<<b;d[b]=-1,y&=~R}u!==0&&ja(a,u,o)}function Vp(){return(Ht&6)===0?(Uf(0),!1):!0}function k0(){if(wt!==null){if(Qt===0)var a=wt.return;else a=wt,za=Qo=null,Yv(a),_u=null,wf=0,a=wt;for(;a!==null;)T2(a.alternate,a),a=a.return;wt=null}}function Pu(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,_B(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),es=0,k0(),on=a,wt=u=Ba(a.current,null),Tt=o,Qt=0,ii=null,Fs=!1,Ou=Mt(a,o),O0=!1,Cu=ai=C0=sl=Hs=On=0,zr=Vf=null,I0=!1,(o&8)!==0&&(o|=o&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=o;0<d;){var y=31-ot(d),b=1<<y;o|=a[y],d&=~b}return Za=o,ap(),u}function Y2(a,o){yt=null,H.H=Pf,o===bu||o===dp?(o=fO(),Qt=3):o===Lv?(o=fO(),Qt=4):Qt=o===f0?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ii=o,wt===null&&(On=1,Op(a,wi(o,a.current)))}function X2(){var a=ni.current;return a===null?!0:(Tt&4194048)===Tt?Ai===null:(Tt&62914560)===Tt||(Tt&536870912)!==0?a===Ai:!1}function Q2(){var a=H.H;return H.H=Pf,a===null?Pf:a}function J2(){var a=H.A;return H.A=JU,a}function $p(){On=4,Fs||(Tt&4194048)!==Tt&&ni.current!==null||(Ou=!0),(Hs&134217727)===0&&(sl&134217727)===0||on===null||Ws(on,Tt,ai,!1)}function M0(a,o,u){var d=Ht;Ht|=2;var y=Q2(),b=J2();(on!==a||Tt!==o)&&(Lp=null,Pu(a,o)),o=!1;var R=On;e:do try{if(Qt!==0&&wt!==null){var q=wt,K=ii;switch(Qt){case 8:k0(),R=6;break e;case 3:case 2:case 9:case 6:ni.current===null&&(o=!0);var ae=Qt;if(Qt=0,ii=null,Ru(a,q,K,ae),u&&Ou){R=0;break e}break;default:ae=Qt,Qt=0,ii=null,Ru(a,q,K,ae)}}tB(),R=On;break}catch(fe){Y2(a,fe)}while(!0);return o&&a.shellSuspendCounter++,za=Qo=null,Ht=d,H.H=y,H.A=b,wt===null&&(on=null,Tt=0,ap()),R}function tB(){for(;wt!==null;)Z2(wt)}function nB(a,o){var u=Ht;Ht|=2;var d=Q2(),y=J2();on!==a||Tt!==o?(Lp=null,Dp=Ie()+500,Pu(a,o)):Ou=Mt(a,o);e:do try{if(Qt!==0&&wt!==null){o=wt;var b=ii;t:switch(Qt){case 1:Qt=0,ii=null,Ru(a,o,b,1);break;case 2:case 9:if(uO(b)){Qt=0,ii=null,eC(o);break}o=function(){Qt!==2&&Qt!==9||on!==a||(Qt=7),ya(a)},b.then(o,o);break e;case 3:Qt=7;break e;case 4:Qt=5;break e;case 7:uO(b)?(Qt=0,ii=null,eC(o)):(Qt=0,ii=null,Ru(a,o,b,7));break;case 5:var R=null;switch(wt.tag){case 26:R=wt.memoizedState;case 5:case 27:var q=wt;if(R?$C(R):q.stateNode.complete){Qt=0,ii=null;var K=q.sibling;if(K!==null)wt=K;else{var ae=q.return;ae!==null?(wt=ae,Up(ae)):wt=null}break t}}Qt=0,ii=null,Ru(a,o,b,5);break;case 6:Qt=0,ii=null,Ru(a,o,b,6);break;case 8:k0(),On=6;break e;default:throw Error(r(462))}}rB();break}catch(fe){Y2(a,fe)}while(!0);return za=Qo=null,H.H=d,H.A=y,Ht=u,wt!==null?0:(on=null,Tt=0,ap(),On)}function rB(){for(;wt!==null&&!Dt();)Z2(wt)}function Z2(a){var o=S2(a.alternate,a,Za);a.memoizedProps=a.pendingProps,o===null?Up(a):wt=o}function eC(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=y2(u,o,o.pendingProps,o.type,void 0,Tt);break;case 11:o=y2(u,o,o.pendingProps,o.type.render,o.ref,Tt);break;case 5:Yv(o);default:T2(u,o),o=wt=JA(o,Za),o=S2(u,o,Za)}a.memoizedProps=a.pendingProps,o===null?Up(a):wt=o}function Ru(a,o,u,d){za=Qo=null,Yv(o),_u=null,wf=0;var y=o.return;try{if(HU(a,y,o,u,Tt)){On=1,Op(a,wi(u,a.current)),wt=null;return}}catch(b){if(y!==null)throw wt=y,b;On=1,Op(a,wi(u,a.current)),wt=null;return}o.flags&32768?(kt||d===1?a=!0:Ou||(Tt&536870912)!==0?a=!1:(Fs=a=!0,(d===2||d===9||d===3||d===6)&&(d=ni.current,d!==null&&d.tag===13&&(d.flags|=16384))),tC(o,a)):Up(o)}function Up(a){var o=a;do{if((o.flags&32768)!==0){tC(o,Fs);return}a=o.return;var u=WU(o.alternate,o,Za);if(u!==null){wt=u;return}if(o=o.sibling,o!==null){wt=o;return}wt=o=a}while(o!==null);On===0&&(On=5)}function tC(a,o){do{var u=YU(a.alternate,a);if(u!==null){u.flags&=32767,wt=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){wt=a;return}wt=a=u}while(a!==null);On=6,wt=null}function nC(a,o,u,d,y,b,R,q,K){a.cancelPendingCommit=null;do Bp();while(Gn!==0);if((Ht&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(b=o.lanes|o.childLanes,b|=wv,af(a,u,b,R,q,K),a===on&&(wt=on=null,Tt=0),Iu=o,Ks=a,es=u,P0=b,R0=y,H2=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,oB(Zt,function(){return oC(),null})):(a.callbackNode=null,a.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=H.T,H.T=null,y=Y.p,Y.p=2,R=Ht,Ht|=4;try{XU(a,o,u)}finally{Ht=R,Y.p=y,H.T=d}}Gn=1,rC(),iC(),aC()}}function rC(){if(Gn===1){Gn=0;var a=Ks,o=Iu,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=H.T,H.T=null;var d=Y.p;Y.p=2;var y=Ht;Ht|=4;try{L2(o,a);var b=G0,R=zA(a.containerInfo),q=b.focusedElem,K=b.selectionRange;if(R!==q&&q&&q.ownerDocument&&qA(q.ownerDocument.documentElement,q)){if(K!==null&&yv(q)){var ae=K.start,fe=K.end;if(fe===void 0&&(fe=ae),"selectionStart"in q)q.selectionStart=ae,q.selectionEnd=Math.min(fe,q.value.length);else{var ge=q.ownerDocument||document,se=ge&&ge.defaultView||window;if(se.getSelection){var ce=se.getSelection(),Ve=q.textContent.length,et=Math.min(K.start,Ve),an=K.end===void 0?et:Math.min(K.end,Ve);!ce.extend&&et>an&&(R=an,an=et,et=R);var Z=BA(q,et),X=BA(q,an);if(Z&&X&&(ce.rangeCount!==1||ce.anchorNode!==Z.node||ce.anchorOffset!==Z.offset||ce.focusNode!==X.node||ce.focusOffset!==X.offset)){var re=ge.createRange();re.setStart(Z.node,Z.offset),ce.removeAllRanges(),et>an?(ce.addRange(re),ce.extend(X.node,X.offset)):(re.setEnd(X.node,X.offset),ce.addRange(re))}}}}for(ge=[],ce=q;ce=ce.parentNode;)ce.nodeType===1&&ge.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<ge.length;q++){var pe=ge[q];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}Zp=!!H0,G0=H0=null}finally{Ht=y,Y.p=d,H.T=u}}a.current=o,Gn=2}}function iC(){if(Gn===2){Gn=0;var a=Ks,o=Iu,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=H.T,H.T=null;var d=Y.p;Y.p=2;var y=Ht;Ht|=4;try{N2(a,o.alternate,o)}finally{Ht=y,Y.p=d,H.T=u}}Gn=3}}function aC(){if(Gn===4||Gn===3){Gn=0,En();var a=Ks,o=Iu,u=es,d=H2;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Gn=5:(Gn=0,Iu=Ks=null,sC(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(Gs=null),Li(u),o=o.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Ae,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=H.T,y=Y.p,Y.p=2,H.T=null;try{for(var b=a.onRecoverableError,R=0;R<d.length;R++){var q=d[R];b(q.value,{componentStack:q.stack})}}finally{H.T=o,Y.p=y}}(es&3)!==0&&Bp(),ya(a),y=a.pendingLanes,(u&261930)!==0&&(y&42)!==0?a===N0?$f++:($f=0,N0=a):$f=0,Uf(0)}}function sC(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,_f(o)))}function Bp(){return rC(),iC(),aC(),oC()}function oC(){if(Gn!==5)return!1;var a=Ks,o=P0;P0=0;var u=Li(es),d=H.T,y=Y.p;try{Y.p=32>u?32:u,H.T=null,u=R0,R0=null;var b=Ks,R=es;if(Gn=0,Iu=Ks=null,es=0,(Ht&6)!==0)throw Error(r(331));var q=Ht;if(Ht|=4,q2(b.current),$2(b,b.current,R,u),Ht=q,Uf(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Ae,b)}catch{}return!0}finally{Y.p=y,H.T=d,sC(a,o)}}function lC(a,o,u){o=wi(u,o),o=c0(a.stateNode,o,2),a=Us(a,o,2),a!==null&&(Xr(a,2),ya(a))}function Jt(a,o,u){if(a.tag===3)lC(a,a,u);else for(;o!==null;){if(o.tag===3){lC(o,a,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Gs===null||!Gs.has(d))){a=wi(u,a),u=u2(2),d=Us(o,u,2),d!==null&&(c2(u,d,o,a),Xr(d,2),ya(d));break}}o=o.return}}function j0(a,o,u){var d=a.pingCache;if(d===null){d=a.pingCache=new ZU;var y=new Set;d.set(o,y)}else y=d.get(o),y===void 0&&(y=new Set,d.set(o,y));y.has(u)||(O0=!0,y.add(u),a=iB.bind(null,a,o,u),o.then(a,a))}function iB(a,o,u){var d=a.pingCache;d!==null&&d.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,on===a&&(Tt&u)===u&&(On===4||On===3&&(Tt&62914560)===Tt&&300>Ie()-jp?(Ht&2)===0&&Pu(a,0):C0|=u,Cu===Tt&&(Cu=0)),ya(a)}function uC(a,o){o===0&&(o=Vr()),a=Wo(a,o),a!==null&&(Xr(a,o),ya(a))}function aB(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),uC(a,u)}function sB(a,o){var u=0;switch(a.tag){case 31:case 13:var d=a.stateNode,y=a.memoizedState;y!==null&&(u=y.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(o),uC(a,u)}function oB(a,o){return qe(a,o)}var qp=null,Nu=null,D0=!1,zp=!1,L0=!1,Ys=0;function ya(a){a!==Nu&&a.next===null&&(Nu===null?qp=Nu=a:Nu=Nu.next=a),zp=!0,D0||(D0=!0,uB())}function Uf(a,o){if(!L0&&zp){L0=!0;do for(var u=!1,d=qp;d!==null;){if(a!==0){var y=d.pendingLanes;if(y===0)var b=0;else{var R=d.suspendedLanes,q=d.pingedLanes;b=(1<<31-ot(42|a)+1)-1,b&=y&~(R&~q),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,dC(d,b))}else b=Tt,b=pt(d,d===on?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||Mt(d,b)||(u=!0,dC(d,b));d=d.next}while(u);L0=!1}}function lB(){cC()}function cC(){zp=D0=!1;var a=0;Ys!==0&&bB()&&(a=Ys);for(var o=Ie(),u=null,d=qp;d!==null;){var y=d.next,b=fC(d,o);b===0?(d.next=null,u===null?qp=y:u.next=y,y===null&&(Nu=u)):(u=d,(a!==0||(b&3)!==0)&&(zp=!0)),d=y}Gn!==0&&Gn!==5||Uf(a),Ys!==0&&(Ys=0)}function fC(a,o){for(var u=a.suspendedLanes,d=a.pingedLanes,y=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var R=31-ot(b),q=1<<R,K=y[R];K===-1?((q&u)===0||(q&d)!==0)&&(y[R]=or(q,o)):K<=o&&(a.expiredLanes|=q),b&=~q}if(o=on,u=Tt,u=pt(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d=a.callbackNode,u===0||a===o&&(Qt===2||Qt===9)||a.cancelPendingCommit!==null)return d!==null&&d!==null&&xt(d),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||Mt(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(d!==null&&xt(d),Li(u)){case 2:case 8:u=Vt;break;case 32:u=Zt;break;case 268435456:u=_n;break;default:u=Zt}return d=hC.bind(null,a),u=qe(u,d),a.callbackPriority=o,a.callbackNode=u,o}return d!==null&&d!==null&&xt(d),a.callbackPriority=2,a.callbackNode=null,2}function hC(a,o){if(Gn!==0&&Gn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(Bp()&&a.callbackNode!==u)return null;var d=Tt;return d=pt(a,a===on?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d===0?null:(K2(a,d,o),fC(a,Ie()),a.callbackNode!=null&&a.callbackNode===u?hC.bind(null,a):null)}function dC(a,o){if(Bp())return null;K2(a,o,!0)}function uB(){xB(function(){(Ht&6)!==0?qe(_t,lB):cC()})}function V0(){if(Ys===0){var a=yu;a===0&&(a=$t,$t<<=1,($t&261888)===0&&($t=256)),Ys=a}return Ys}function pC(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:nu(""+a)}function mC(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function cB(a,o,u,d,y){if(o==="submit"&&u&&u.stateNode===y){var b=pC((y[Rn]||null).action),R=d.submitter;R&&(o=(o=R[Rn]||null)?pC(o.formAction):R.getAttribute("formAction"),o!==null&&(b=o,R=null));var q=new ca("action","action",null,d,y);a.push({event:q,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ys!==0){var K=R?mC(y,R):new FormData(y);i0(u,{pending:!0,data:K,method:y.method,action:b},null,K)}}else typeof b=="function"&&(q.preventDefault(),K=R?mC(y,R):new FormData(y),i0(u,{pending:!0,data:K,method:y.method,action:b},b,K))},currentTarget:y}]})}}for(var $0=0;$0<xv.length;$0++){var U0=xv[$0],fB=U0.toLowerCase(),hB=U0[0].toUpperCase()+U0.slice(1);Hi(fB,"on"+hB)}Hi(GA,"onAnimationEnd"),Hi(KA,"onAnimationIteration"),Hi(WA,"onAnimationStart"),Hi("dblclick","onDoubleClick"),Hi("focusin","onFocus"),Hi("focusout","onBlur"),Hi(CU,"onTransitionRun"),Hi(IU,"onTransitionStart"),Hi(PU,"onTransitionCancel"),Hi(YA,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),Zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bf));function gC(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var d=a[u],y=d.event;d=d.listeners;e:{var b=void 0;if(o)for(var R=d.length-1;0<=R;R--){var q=d[R],K=q.instance,ae=q.currentTarget;if(q=q.listener,K!==b&&y.isPropagationStopped())break e;b=q,y.currentTarget=ae;try{b(y)}catch(fe){ip(fe)}y.currentTarget=null,b=K}else for(R=0;R<d.length;R++){if(q=d[R],K=q.instance,ae=q.currentTarget,q=q.listener,K!==b&&y.isPropagationStopped())break e;b=q,y.currentTarget=ae;try{b(y)}catch(fe){ip(fe)}y.currentTarget=null,b=K}}}}function St(a,o){var u=o[Vi];u===void 0&&(u=o[Vi]=new Set);var d=a+"__bubble";u.has(d)||(yC(o,a,2,!1),u.add(d))}function B0(a,o,u){var d=0;o&&(d|=4),yC(u,a,d,o)}var Fp="_reactListening"+Math.random().toString(36).slice(2);function q0(a){if(!a[Fp]){a[Fp]=!0,Mo.forEach(function(u){u!=="selectionchange"&&(dB.has(u)||B0(u,!1,a),B0(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Fp]||(o[Fp]=!0,B0("selectionchange",!1,o))}}function yC(a,o,u,d){switch(GC(o)){case 2:var y=BB;break;case 8:y=qB;break;default:y=rb}u=y.bind(null,o,u,a),y=void 0,!Uo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),d?y!==void 0?a.addEventListener(o,u,{capture:!0,passive:y}):a.addEventListener(o,u,!0):y!==void 0?a.addEventListener(o,u,{passive:y}):a.addEventListener(o,u,!1)}function z0(a,o,u,d,y){var b=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var R=d.tag;if(R===3||R===4){var q=d.stateNode.containerInfo;if(q===y)break;if(R===4)for(R=d.return;R!==null;){var K=R.tag;if((K===3||K===4)&&R.stateNode.containerInfo===y)return;R=R.return}for(;q!==null;){if(R=_r(q),R===null)return;if(K=R.tag,K===5||K===6||K===26||K===27){d=b=R;continue e}q=q.parentNode}}d=d.return}Ps(function(){var ae=b,fe=vi(u),ge=[];e:{var se=XA.get(a);if(se!==void 0){var ce=ca,Ve=a;switch(a){case"keypress":if(qo(u)===0)break e;case"keydown":case"keyup":ce=tp;break;case"focusin":Ve="focus",ce=Fo;break;case"focusout":Ve="blur",ce=Fo;break;case"beforeblur":case"afterblur":ce=Fo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=hf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Gd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=T;break;case GA:case KA:case WA:ce=Wd;break;case YA:ce=z;break;case"scroll":case"scrollend":ce=ff;break;case"wheel":ce=le;break;case"copy":case"cut":case"paste":ce=Yd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=Ua;break;case"toggle":case"beforetoggle":ce=gt}var et=(o&4)!==0,an=!et&&(a==="scroll"||a==="scrollend"),Z=et?se!==null?se+"Capture":null:se;et=[];for(var X=ae,re;X!==null;){var pe=X;if(re=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||re===null||Z===null||(pe=Bi(X,Z),pe!=null&&et.push(qf(X,pe,re))),an)break;X=X.return}0<et.length&&(se=new ce(se,Ve,null,u,fe),ge.push({event:se,listeners:et}))}}if((o&7)===0){e:{if(se=a==="mouseover"||a==="pointerover",ce=a==="mouseout"||a==="pointerout",se&&u!==lf&&(Ve=u.relatedTarget||u.fromElement)&&(_r(Ve)||Ve[$r]))break e;if((ce||se)&&(se=fe.window===fe?fe:(se=fe.ownerDocument)?se.defaultView||se.parentWindow:window,ce?(Ve=u.relatedTarget||u.toElement,ce=ae,Ve=Ve?_r(Ve):null,Ve!==null&&(an=s(Ve),et=Ve.tag,Ve!==an||et!==5&&et!==27&&et!==6)&&(Ve=null)):(ce=null,Ve=ae),ce!==Ve)){if(et=hf,pe="onMouseLeave",Z="onMouseEnter",X="mouse",(a==="pointerout"||a==="pointerover")&&(et=Ua,pe="onPointerLeave",Z="onPointerEnter",X="pointer"),an=ce==null?se:Rr(ce),re=Ve==null?se:Rr(Ve),se=new et(pe,X+"leave",ce,u,fe),se.target=an,se.relatedTarget=re,pe=null,_r(fe)===ae&&(et=new et(Z,X+"enter",Ve,u,fe),et.target=re,et.relatedTarget=an,pe=et),an=pe,ce&&Ve)t:{for(et=pB,Z=ce,X=Ve,re=0,pe=Z;pe;pe=et(pe))re++;pe=0;for(var Xe=X;Xe;Xe=et(Xe))pe++;for(;0<re-pe;)Z=et(Z),re--;for(;0<pe-re;)X=et(X),pe--;for(;re--;){if(Z===X||X!==null&&Z===X.alternate){et=Z;break t}Z=et(Z),X=et(X)}et=null}else et=null;ce!==null&&vC(ge,se,ce,et,!1),Ve!==null&&an!==null&&vC(ge,an,Ve,et,!0)}}e:{if(se=ae?Rr(ae):window,ce=se.nodeName&&se.nodeName.toLowerCase(),ce==="select"||ce==="input"&&se.type==="file")var Ut=jA;else if(kA(se))if(DA)Ut=TU;else{Ut=SU;var ze=wU}else ce=se.nodeName,!ce||ce.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?ae&&tu(ae.elementType)&&(Ut=jA):Ut=EU;if(Ut&&(Ut=Ut(a,ae))){MA(ge,Ut,u,fe);break e}ze&&ze(a,se,ae),a==="focusout"&&ae&&se.type==="number"&&ae.memoizedProps.value!=null&&wr(se,"number",se.value)}switch(ze=ae?Rr(ae):window,a){case"focusin":(kA(ze)||ze.contentEditable==="true")&&(uu=ze,vv=ae,yf=null);break;case"focusout":yf=vv=uu=null;break;case"mousedown":bv=!0;break;case"contextmenu":case"mouseup":case"dragend":bv=!1,FA(ge,u,fe);break;case"selectionchange":if(OU)break;case"keydown":case"keyup":FA(ge,u,fe)}var vt;if(Ft)e:{switch(a){case"compositionstart":var At="onCompositionStart";break e;case"compositionend":At="onCompositionEnd";break e;case"compositionupdate":At="onCompositionUpdate";break e}At=void 0}else lu?Ho(a,u)&&(At="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(At="onCompositionStart");At&&(da&&u.locale!=="ko"&&(lu||At!=="onCompositionStart"?At==="onCompositionEnd"&&lu&&(vt=cf()):(ua=fe,uf="value"in ua?ua.value:ua.textContent,lu=!0)),ze=Hp(ae,At),0<ze.length&&(At=new ha(At,a,null,u,fe),ge.push({event:At,listeners:ze}),vt?At.data=vt:(vt=ou(u),vt!==null&&(At.data=vt)))),(vt=_i?vU(a,u):bU(a,u))&&(At=Hp(ae,"onBeforeInput"),0<At.length&&(ze=new ha("onBeforeInput","beforeinput",null,u,fe),ge.push({event:ze,listeners:At}),ze.data=vt)),cB(ge,a,ae,u,fe)}gC(ge,o)})}function qf(a,o,u){return{instance:a,listener:o,currentTarget:u}}function Hp(a,o){for(var u=o+"Capture",d=[];a!==null;){var y=a,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=Bi(a,u),y!=null&&d.unshift(qf(a,y,b)),y=Bi(a,o),y!=null&&d.push(qf(a,y,b))),a.tag===3)return d;a=a.return}return[]}function pB(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function vC(a,o,u,d,y){for(var b=o._reactName,R=[];u!==null&&u!==d;){var q=u,K=q.alternate,ae=q.stateNode;if(q=q.tag,K!==null&&K===d)break;q!==5&&q!==26&&q!==27||ae===null||(K=ae,y?(ae=Bi(u,b),ae!=null&&R.unshift(qf(u,ae,K))):y||(ae=Bi(u,b),ae!=null&&R.push(qf(u,ae,K)))),u=u.return}R.length!==0&&a.push({event:o,listeners:R})}var mB=/\r\n?/g,gB=/\u0000|\uFFFD/g;function bC(a){return(typeof a=="string"?a:""+a).replace(mB,`
`).replace(gB,"")}function _C(a,o){return o=bC(o),bC(a)===o}function rn(a,o,u,d,y,b){switch(u){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||lr(a,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&lr(a,""+d);break;case"className":Nr(a,"class",d);break;case"tabIndex":Nr(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Nr(a,u,d);break;case"style":of(a,d,b);break;case"data":if(o!=="object"){Nr(a,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(u);break}d=nu(""+d),a.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(o!=="input"&&rn(a,o,"name",y.name,y,null),rn(a,o,"formEncType",y.formEncType,y,null),rn(a,o,"formMethod",y.formMethod,y,null),rn(a,o,"formTarget",y.formTarget,y,null)):(rn(a,o,"encType",y.encType,y,null),rn(a,o,"method",y.method,y,null),rn(a,o,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(u);break}d=nu(""+d),a.setAttribute(u,d);break;case"onClick":d!=null&&(a.onclick=Ui);break;case"onScroll":d!=null&&St("scroll",a);break;case"onScrollEnd":d!=null&&St("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}u=nu(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,""+d):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":d===!0?a.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,d):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(u,d):a.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(u):a.setAttribute(u,d);break;case"popover":St("beforetoggle",a),St("toggle",a),Os(a,"popover",d);break;case"xlinkActuate":Tn(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Tn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Tn(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Tn(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Tn(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Tn(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Tn(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Tn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Tn(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Os(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Hd.get(u)||u,Os(a,u,d))}}function F0(a,o,u,d,y,b){switch(u){case"style":of(a,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof d=="string"?lr(a,d):(typeof d=="number"||typeof d=="bigint")&&lr(a,""+d);break;case"onScroll":d!=null&&St("scroll",a);break;case"onScrollEnd":d!=null&&St("scrollend",a);break;case"onClick":d!=null&&(a.onclick=Ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!La.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),b=a[Rn]||null,b=b!=null?b[u]:null,typeof b=="function"&&a.removeEventListener(o,b,y),typeof d=="function")){typeof b!="function"&&b!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,d,y);break e}u in a?a[u]=d:d===!0?a.setAttribute(u,""):Os(a,u,d)}}}function dr(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":St("error",a),St("load",a);var d=!1,y=!1,b;for(b in u)if(u.hasOwnProperty(b)){var R=u[b];if(R!=null)switch(b){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:rn(a,o,b,R,u,null)}}y&&rn(a,o,"srcSet",u.srcSet,u,null),d&&rn(a,o,"src",u.src,u,null);return;case"input":St("invalid",a);var q=b=R=y=null,K=null,ae=null;for(d in u)if(u.hasOwnProperty(d)){var fe=u[d];if(fe!=null)switch(d){case"name":y=fe;break;case"type":R=fe;break;case"checked":K=fe;break;case"defaultChecked":ae=fe;break;case"value":b=fe;break;case"defaultValue":q=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,o));break;default:rn(a,o,d,fe,u,null)}}Lt(a,b,q,K,ae,R,y,!1);return;case"select":St("invalid",a),d=R=b=null;for(y in u)if(u.hasOwnProperty(y)&&(q=u[y],q!=null))switch(y){case"value":b=q;break;case"defaultValue":R=q;break;case"multiple":d=q;default:rn(a,o,y,q,u,null)}o=b,u=R,a.multiple=!!d,o!=null?sa(a,!!d,o,!1):u!=null&&sa(a,!!d,u,!0);return;case"textarea":St("invalid",a),b=y=d=null;for(R in u)if(u.hasOwnProperty(R)&&(q=u[R],q!=null))switch(R){case"value":d=q;break;case"defaultValue":y=q;break;case"children":b=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(91));break;default:rn(a,o,R,q,u,null)}oa(a,d,y,b);return;case"option":for(K in u)if(u.hasOwnProperty(K)&&(d=u[K],d!=null))switch(K){case"selected":a.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:rn(a,o,K,d,u,null)}return;case"dialog":St("beforetoggle",a),St("toggle",a),St("cancel",a),St("close",a);break;case"iframe":case"object":St("load",a);break;case"video":case"audio":for(d=0;d<Bf.length;d++)St(Bf[d],a);break;case"image":St("error",a),St("load",a);break;case"details":St("toggle",a);break;case"embed":case"source":case"link":St("error",a),St("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in u)if(u.hasOwnProperty(ae)&&(d=u[ae],d!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:rn(a,o,ae,d,u,null)}return;default:if(tu(o)){for(fe in u)u.hasOwnProperty(fe)&&(d=u[fe],d!==void 0&&F0(a,o,fe,d,u,void 0));return}}for(q in u)u.hasOwnProperty(q)&&(d=u[q],d!=null&&rn(a,o,q,d,u,null))}function yB(a,o,u,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,R=null,q=null,K=null,ae=null,fe=null;for(ce in u){var ge=u[ce];if(u.hasOwnProperty(ce)&&ge!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":K=ge;default:d.hasOwnProperty(ce)||rn(a,o,ce,null,d,ge)}}for(var se in d){var ce=d[se];if(ge=u[se],d.hasOwnProperty(se)&&(ce!=null||ge!=null))switch(se){case"type":b=ce;break;case"name":y=ce;break;case"checked":ae=ce;break;case"defaultChecked":fe=ce;break;case"value":R=ce;break;case"defaultValue":q=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,o));break;default:ce!==ge&&rn(a,o,se,ce,d,ge)}}mt(a,R,q,K,ae,fe,b,y);return;case"select":ce=R=q=se=null;for(b in u)if(K=u[b],u.hasOwnProperty(b)&&K!=null)switch(b){case"value":break;case"multiple":ce=K;default:d.hasOwnProperty(b)||rn(a,o,b,null,d,K)}for(y in d)if(b=d[y],K=u[y],d.hasOwnProperty(y)&&(b!=null||K!=null))switch(y){case"value":se=b;break;case"defaultValue":q=b;break;case"multiple":R=b;default:b!==K&&rn(a,o,y,b,d,K)}o=q,u=R,d=ce,se!=null?sa(a,!!u,se,!1):!!d!=!!u&&(o!=null?sa(a,!!u,o,!0):sa(a,!!u,u?[]:"",!1));return;case"textarea":ce=se=null;for(q in u)if(y=u[q],u.hasOwnProperty(q)&&y!=null&&!d.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:rn(a,o,q,null,d,y)}for(R in d)if(y=d[R],b=u[R],d.hasOwnProperty(R)&&(y!=null||b!=null))switch(R){case"value":se=y;break;case"defaultValue":ce=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==b&&rn(a,o,R,y,d,b)}eu(a,se,ce);return;case"option":for(var Ve in u)if(se=u[Ve],u.hasOwnProperty(Ve)&&se!=null&&!d.hasOwnProperty(Ve))switch(Ve){case"selected":a.selected=!1;break;default:rn(a,o,Ve,null,d,se)}for(K in d)if(se=d[K],ce=u[K],d.hasOwnProperty(K)&&se!==ce&&(se!=null||ce!=null))switch(K){case"selected":a.selected=se&&typeof se!="function"&&typeof se!="symbol";break;default:rn(a,o,K,se,d,ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var et in u)se=u[et],u.hasOwnProperty(et)&&se!=null&&!d.hasOwnProperty(et)&&rn(a,o,et,null,d,se);for(ae in d)if(se=d[ae],ce=u[ae],d.hasOwnProperty(ae)&&se!==ce&&(se!=null||ce!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,o));break;default:rn(a,o,ae,se,d,ce)}return;default:if(tu(o)){for(var an in u)se=u[an],u.hasOwnProperty(an)&&se!==void 0&&!d.hasOwnProperty(an)&&F0(a,o,an,void 0,d,se);for(fe in d)se=d[fe],ce=u[fe],!d.hasOwnProperty(fe)||se===ce||se===void 0&&ce===void 0||F0(a,o,fe,se,d,ce);return}}for(var Z in u)se=u[Z],u.hasOwnProperty(Z)&&se!=null&&!d.hasOwnProperty(Z)&&rn(a,o,Z,null,d,se);for(ge in d)se=d[ge],ce=u[ge],!d.hasOwnProperty(ge)||se===ce||se==null&&ce==null||rn(a,o,ge,se,d,ce)}function xC(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function vB(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,u=performance.getEntriesByType("resource"),d=0;d<u.length;d++){var y=u[d],b=y.transferSize,R=y.initiatorType,q=y.duration;if(b&&q&&xC(R)){for(R=0,q=y.responseEnd,d+=1;d<u.length;d++){var K=u[d],ae=K.startTime;if(ae>q)break;var fe=K.transferSize,ge=K.initiatorType;fe&&xC(ge)&&(K=K.responseEnd,R+=fe*(K<q?1:(q-ae)/(K-ae)))}if(--d,o+=8*(b+R)/(y.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var H0=null,G0=null;function Gp(a){return a.nodeType===9?a:a.ownerDocument}function wC(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function SC(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function K0(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var W0=null;function bB(){var a=window.event;return a&&a.type==="popstate"?a===W0?!1:(W0=a,!0):(W0=null,!1)}var EC=typeof setTimeout=="function"?setTimeout:void 0,_B=typeof clearTimeout=="function"?clearTimeout:void 0,TC=typeof Promise=="function"?Promise:void 0,xB=typeof queueMicrotask=="function"?queueMicrotask:typeof TC<"u"?function(a){return TC.resolve(null).then(a).catch(wB)}:EC;function wB(a){setTimeout(function(){throw a})}function Xs(a){return a==="head"}function AC(a,o){var u=o,d=0;do{var y=u.nextSibling;if(a.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"||u==="/&"){if(d===0){a.removeChild(y),Du(o);return}d--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")d++;else if(u==="html")zf(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,zf(u);for(var b=u.firstChild;b;){var R=b.nextSibling,q=b.nodeName;b[mi]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=R}}else u==="body"&&zf(a.ownerDocument.body);u=y}while(u);Du(o)}function OC(a,o){var u=a;a=0;do{var d=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),d&&d.nodeType===8)if(u=d.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=d}while(u)}function Y0(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Y0(u),$i(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function SB(a,o,u,d){for(;a.nodeType===1;){var y=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[mi])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=Oi(a.nextSibling),a===null)break}return null}function EB(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Oi(a.nextSibling),a===null))return null;return a}function CC(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Oi(a.nextSibling),a===null))return null;return a}function X0(a){return a.data==="$?"||a.data==="$~"}function Q0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function TB(a,o){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||u.readyState!=="loading")o();else{var d=function(){o(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}function Oi(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var J0=null;function IC(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(o===0)return Oi(a.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}a=a.nextSibling}return null}function PC(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return a;o--}else u!=="/$"&&u!=="/&"||o++}a=a.previousSibling}return null}function RC(a,o,u){switch(o=Gp(u),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function zf(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);$i(a)}var Ci=new Map,NC=new Set;function Kp(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ts=Y.d;Y.d={f:AB,r:OB,D:CB,C:IB,L:PB,m:RB,X:kB,S:NB,M:MB};function AB(){var a=ts.f(),o=Vp();return a||o}function OB(a){var o=xr(a);o!==null&&o.tag===5&&o.type==="form"?YO(o):ts.r(a)}var ku=typeof document>"u"?null:document;function kC(a,o,u){var d=ku;if(d&&typeof o=="string"&&o){var y=lt(o);y='link[rel="'+a+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),NC.has(y)||(NC.add(y),a={rel:a,crossOrigin:u,href:o},d.querySelector(y)===null&&(o=d.createElement("link"),dr(o,"link",a),xn(o),d.head.appendChild(o)))}}function CB(a){ts.D(a),kC("dns-prefetch",a,null)}function IB(a,o){ts.C(a,o),kC("preconnect",a,o)}function PB(a,o,u){ts.L(a,o,u);var d=ku;if(d&&a&&o){var y='link[rel="preload"][as="'+lt(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+lt(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+lt(u.imageSizes)+'"]')):y+='[href="'+lt(a)+'"]';var b=y;switch(o){case"style":b=Mu(a);break;case"script":b=ju(a)}Ci.has(b)||(a=m({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),Ci.set(b,a),d.querySelector(y)!==null||o==="style"&&d.querySelector(Ff(b))||o==="script"&&d.querySelector(Hf(b))||(o=d.createElement("link"),dr(o,"link",a),xn(o),d.head.appendChild(o)))}}function RB(a,o){ts.m(a,o);var u=ku;if(u&&a){var d=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+lt(d)+'"][href="'+lt(a)+'"]',b=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=ju(a)}if(!Ci.has(b)&&(a=m({rel:"modulepreload",href:a},o),Ci.set(b,a),u.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Hf(b)))return}d=u.createElement("link"),dr(d,"link",a),xn(d),u.head.appendChild(d)}}}function NB(a,o,u){ts.S(a,o,u);var d=ku;if(d&&a){var y=gi(d).hoistableStyles,b=Mu(a);o=o||"default";var R=y.get(b);if(!R){var q={loading:0,preload:null};if(R=d.querySelector(Ff(b)))q.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":o},u),(u=Ci.get(b))&&Z0(a,u);var K=R=d.createElement("link");xn(K),dr(K,"link",a),K._p=new Promise(function(ae,fe){K.onload=ae,K.onerror=fe}),K.addEventListener("load",function(){q.loading|=1}),K.addEventListener("error",function(){q.loading|=2}),q.loading|=4,Wp(R,o,d)}R={type:"stylesheet",instance:R,count:1,state:q},y.set(b,R)}}}function kB(a,o){ts.X(a,o);var u=ku;if(u&&a){var d=gi(u).hoistableScripts,y=ju(a),b=d.get(y);b||(b=u.querySelector(Hf(y)),b||(a=m({src:a,async:!0},o),(o=Ci.get(y))&&eb(a,o),b=u.createElement("script"),xn(b),dr(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(y,b))}}function MB(a,o){ts.M(a,o);var u=ku;if(u&&a){var d=gi(u).hoistableScripts,y=ju(a),b=d.get(y);b||(b=u.querySelector(Hf(y)),b||(a=m({src:a,async:!0,type:"module"},o),(o=Ci.get(y))&&eb(a,o),b=u.createElement("script"),xn(b),dr(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(y,b))}}function MC(a,o,u,d){var y=(y=Se.current)?Kp(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Mu(u.href),u=gi(y).hoistableStyles,d=u.get(o),d||(d={type:"style",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Mu(u.href);var b=gi(y).hoistableStyles,R=b.get(a);if(R||(y=y.ownerDocument||y,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,R),(b=y.querySelector(Ff(a)))&&!b._p&&(R.instance=b,R.state.loading=5),Ci.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ci.set(a,u),b||jB(y,a,u,R.state))),o&&d===null)throw Error(r(528,""));return R}if(o&&d!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=ju(u),u=gi(y).hoistableScripts,d=u.get(o),d||(d={type:"script",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Mu(a){return'href="'+lt(a)+'"'}function Ff(a){return'link[rel="stylesheet"]['+a+"]"}function jC(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function jB(a,o,u,d){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=a.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),dr(o,"link",u),xn(o),a.head.appendChild(o))}function ju(a){return'[src="'+lt(a)+'"]'}function Hf(a){return"script[async]"+a}function DC(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var d=a.querySelector('style[data-href~="'+lt(u.href)+'"]');if(d)return o.instance=d,xn(d),d;var y=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),xn(d),dr(d,"style",y),Wp(d,u.precedence,a),o.instance=d;case"stylesheet":y=Mu(u.href);var b=a.querySelector(Ff(y));if(b)return o.state.loading|=4,o.instance=b,xn(b),b;d=jC(u),(y=Ci.get(y))&&Z0(d,y),b=(a.ownerDocument||a).createElement("link"),xn(b);var R=b;return R._p=new Promise(function(q,K){R.onload=q,R.onerror=K}),dr(b,"link",d),o.state.loading|=4,Wp(b,u.precedence,a),o.instance=b;case"script":return b=ju(u.src),(y=a.querySelector(Hf(b)))?(o.instance=y,xn(y),y):(d=u,(y=Ci.get(b))&&(d=m({},u),eb(d,y)),a=a.ownerDocument||a,y=a.createElement("script"),xn(y),dr(y,"link",d),a.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,Wp(d,u.precedence,a));return o.instance}function Wp(a,o,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,b=y,R=0;R<d.length;R++){var q=d[R];if(q.dataset.precedence===o)b=q;else if(b!==y)break}b?b.parentNode.insertBefore(a,b.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function Z0(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function eb(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var Yp=null;function LC(a,o,u){if(Yp===null){var d=new Map,y=Yp=new Map;y.set(u,d)}else y=Yp,d=y.get(u),d||(d=new Map,y.set(u,d));if(d.has(a))return d;for(d.set(a,null),u=u.getElementsByTagName(a),y=0;y<u.length;y++){var b=u[y];if(!(b[mi]||b[Pn]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var R=b.getAttribute(o)||"";R=a+R;var q=d.get(R);q?q.push(b):d.set(R,[b])}}return d}function VC(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function DB(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function $C(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function LB(a,o,u,d){if(u.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var y=Mu(d.href),b=o.querySelector(Ff(y));if(b){o=b._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=Xp.bind(a),o.then(a,a)),u.state.loading|=4,u.instance=b,xn(b);return}b=o.ownerDocument||o,d=jC(d),(y=Ci.get(y))&&Z0(d,y),b=b.createElement("link"),xn(b);var R=b;R._p=new Promise(function(q,K){R.onload=q,R.onerror=K}),dr(b,"link",d),u.instance=b}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=Xp.bind(a),o.addEventListener("load",u),o.addEventListener("error",u))}}var tb=0;function VB(a,o){return a.stylesheets&&a.count===0&&Jp(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var d=setTimeout(function(){if(a.stylesheets&&Jp(a,a.stylesheets),a.unsuspend){var b=a.unsuspend;a.unsuspend=null,b()}},6e4+o);0<a.imgBytes&&tb===0&&(tb=62500*vB());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Jp(a,a.stylesheets),a.unsuspend)){var b=a.unsuspend;a.unsuspend=null,b()}},(a.imgBytes>tb?50:800)+o);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(d),clearTimeout(y)}}:null}function Xp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jp(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Qp=null;function Jp(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Qp=new Map,o.forEach($B,a),Qp=null,Xp.call(a))}function $B(a,o){if(!(o.state.loading&4)){var u=Qp.get(a);if(u)var d=u.get(null);else{u=new Map,Qp.set(a,u);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var R=y[b];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(u.set(R.dataset.precedence,R),d=R)}d&&u.set(null,d)}y=o.instance,R=y.getAttribute("data-precedence"),b=u.get(R)||d,b===d&&u.set(null,y),u.set(R,y),this.count++,d=Xp.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),b?b.parentNode.insertBefore(y,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),o.state.loading|=4}}var Gf={$$typeof:N,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function UB(a,o,u,d,y,b,R,q,K){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dn(0),this.hiddenUpdates=Dn(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function UC(a,o,u,d,y,b,R,q,K,ae,fe,ge){return a=new UB(a,o,u,R,K,ae,fe,ge,q),o=1,b===!0&&(o|=24),b=ti(3,null,null,o),a.current=b,b.stateNode=a,o=Mv(),o.refCount++,a.pooledCache=o,o.refCount++,b.memoizedState={element:d,isDehydrated:u,cache:o},Vv(b),a}function BC(a){return a?(a=hu,a):hu}function qC(a,o,u,d,y,b){y=BC(y),d.context===null?d.context=y:d.pendingContext=y,d=$s(o),d.payload={element:u},b=b===void 0?null:b,b!==null&&(d.callback=b),u=Us(a,d,o),u!==null&&(Fr(u,a,o),Ef(u,a,o))}function zC(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function nb(a,o){zC(a,o),(a=a.alternate)&&zC(a,o)}function FC(a){if(a.tag===13||a.tag===31){var o=Wo(a,67108864);o!==null&&Fr(o,a,67108864),nb(a,67108864)}}function HC(a){if(a.tag===13||a.tag===31){var o=si();o=Da(o);var u=Wo(a,o);u!==null&&Fr(u,a,o),nb(a,o)}}var Zp=!0;function BB(a,o,u,d){var y=H.T;H.T=null;var b=Y.p;try{Y.p=2,rb(a,o,u,d)}finally{Y.p=b,H.T=y}}function qB(a,o,u,d){var y=H.T;H.T=null;var b=Y.p;try{Y.p=8,rb(a,o,u,d)}finally{Y.p=b,H.T=y}}function rb(a,o,u,d){if(Zp){var y=ib(d);if(y===null)z0(a,o,d,em,u),KC(a,d);else if(FB(y,a,o,u,d))d.stopPropagation();else if(KC(a,d),o&4&&-1<zB.indexOf(a)){for(;y!==null;){var b=xr(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var R=Me(b.pendingLanes);if(R!==0){var q=b;for(q.pendingLanes|=2,q.entangledLanes|=2;R;){var K=1<<31-ot(R);q.entanglements[1]|=K,R&=~K}ya(b),(Ht&6)===0&&(Dp=Ie()+500,Uf(0))}}break;case 31:case 13:q=Wo(b,2),q!==null&&Fr(q,b,2),Vp(),nb(b,2)}if(b=ib(d),b===null&&z0(a,o,d,em,u),b===y)break;y=b}y!==null&&d.stopPropagation()}else z0(a,o,d,null,u)}}function ib(a){return a=vi(a),ab(a)}var em=null;function ab(a){if(em=null,a=_r(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=l(o),a!==null)return a;a=null}else if(u===31){if(a=c(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return em=a,null}function GC(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ht()){case _t:return 2;case Vt:return 8;case Zt:case en:return 32;case _n:return 268435456;default:return 32}default:return 32}}var sb=!1,Qs=null,Js=null,Zs=null,Kf=new Map,Wf=new Map,eo=[],zB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function KC(a,o){switch(a){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":Kf.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wf.delete(o.pointerId)}}function Yf(a,o,u,d,y,b){return a===null||a.nativeEvent!==b?(a={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:b,targetContainers:[y]},o!==null&&(o=xr(o),o!==null&&FC(o)),a):(a.eventSystemFlags|=d,o=a.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),a)}function FB(a,o,u,d,y){switch(o){case"focusin":return Qs=Yf(Qs,a,o,u,d,y),!0;case"dragenter":return Js=Yf(Js,a,o,u,d,y),!0;case"mouseover":return Zs=Yf(Zs,a,o,u,d,y),!0;case"pointerover":var b=y.pointerId;return Kf.set(b,Yf(Kf.get(b)||null,a,o,u,d,y)),!0;case"gotpointercapture":return b=y.pointerId,Wf.set(b,Yf(Wf.get(b)||null,a,o,u,d,y)),!0}return!1}function WC(a){var o=_r(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){a.blockedOn=o,Qr(a.priority,function(){HC(u)});return}}else if(o===31){if(o=c(u),o!==null){a.blockedOn=o,Qr(a.priority,function(){HC(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function tm(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=ib(a.nativeEvent);if(u===null){u=a.nativeEvent;var d=new u.constructor(u.type,u);lf=d,u.target.dispatchEvent(d),lf=null}else return o=xr(u),o!==null&&FC(o),a.blockedOn=u,!1;o.shift()}return!0}function YC(a,o,u){tm(a)&&u.delete(o)}function HB(){sb=!1,Qs!==null&&tm(Qs)&&(Qs=null),Js!==null&&tm(Js)&&(Js=null),Zs!==null&&tm(Zs)&&(Zs=null),Kf.forEach(YC),Wf.forEach(YC)}function nm(a,o){a.blockedOn===o&&(a.blockedOn=null,sb||(sb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,HB)))}var rm=null;function XC(a){rm!==a&&(rm=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){rm===a&&(rm=null);for(var o=0;o<a.length;o+=3){var u=a[o],d=a[o+1],y=a[o+2];if(typeof d!="function"){if(ab(d||u)===null)continue;break}var b=xr(u);b!==null&&(a.splice(o,3),o-=3,i0(b,{pending:!0,data:y,method:u.method,action:d},d,y))}}))}function Du(a){function o(K){return nm(K,a)}Qs!==null&&nm(Qs,a),Js!==null&&nm(Js,a),Zs!==null&&nm(Zs,a),Kf.forEach(o),Wf.forEach(o);for(var u=0;u<eo.length;u++){var d=eo[u];d.blockedOn===a&&(d.blockedOn=null)}for(;0<eo.length&&(u=eo[0],u.blockedOn===null);)WC(u),u.blockedOn===null&&eo.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var y=u[d],b=u[d+1],R=y[Rn]||null;if(typeof b=="function")R||XC(u);else if(R){var q=null;if(b&&b.hasAttribute("formAction")){if(y=b,R=b[Rn]||null)q=R.formAction;else if(ab(y)!==null)continue}else q=R.action;typeof q=="function"?u[d+1]=q:(u.splice(d,3),d-=3),XC(u)}}}function QC(){function a(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(R){return y=R})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),d||setTimeout(u,20)}function u(){if(!d&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){d=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function ob(a){this._internalRoot=a}im.prototype.render=ob.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,d=si();qC(u,d,a,o,null,null)},im.prototype.unmount=ob.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;qC(a.current,2,null,a,null,null),Vp(),o[$r]=null}};function im(a){this._internalRoot=a}im.prototype.unstable_scheduleHydration=function(a){if(a){var o=Xl();a={blockedOn:null,target:a,priority:o};for(var u=0;u<eo.length&&o!==0&&o<eo[u].priority;u++);eo.splice(u,0,a),u===0&&WC(a)}};var JC=e.version;if(JC!=="19.2.0")throw Error(r(527,JC,"19.2.0"));Y.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(o),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var GB={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var am=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!am.isDisabled&&am.supportsFiber)try{Ae=am.inject(GB),Ge=am}catch{}}return Qf.createRoot=function(a,o){if(!i(a))throw Error(r(299));var u=!1,d="",y=a2,b=s2,R=o2;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError)),o=UC(a,1,!1,null,null,u,d,null,y,b,R,QC),a[$r]=o.current,q0(a),new ob(o)},Qf.hydrateRoot=function(a,o,u){if(!i(a))throw Error(r(299));var d=!1,y="",b=a2,R=s2,q=o2,K=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(R=u.onCaughtError),u.onRecoverableError!==void 0&&(q=u.onRecoverableError),u.formState!==void 0&&(K=u.formState)),o=UC(a,1,!0,o,u??null,d,y,K,b,R,q,QC),o.context=BC(null),u=o.current,d=si(),d=Da(d),y=$s(d),y.callback=null,Us(u,y,d),u=d,o.current.lanes=u,Xr(o,u),ya(o),a[$r]=o.current,q0(a),new im(o)},Qf.version="19.2.0",Qf}var lI;function n9(){if(lI)return ub.exports;lI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ub.exports=t9(),ub.exports}var r9=n9();const i9=Gt(r9);var $=ME();const G=Gt($),ede=WB({__proto__:null,default:G},[$]),a9=()=>{};var uI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},s9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],c=t[n++],f=((i&7)<<18|(s&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},l4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,c=l?t[i+1]:0,f=i+2<t.length,h=f?t[i+2]:0,p=s>>2,m=(s&3)<<4|c>>4;let v=(c&15)<<2|h>>6,_=h&63;f||(_=64,l||(v=64)),r.push(n[p],n[m],n[v],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):s9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||h==null||m==null)throw new o9;const v=s<<2|c>>4;if(r.push(v),h!==64){const _=c<<4&240|h>>2;if(r.push(_),m!==64){const E=h<<6&192|m;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class o9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l9=function(t){const e=o4(t);return l4.encodeByteArray(e,!0)},Vm=function(t){return l9(t).replace(/\./g,"")},u4=function(t){try{return l4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9=()=>u9().__FIREBASE_DEFAULTS__,f9=()=>{if(typeof process>"u"||typeof uI>"u")return;const t=uI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},h9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&u4(t[1]);return e&&JSON.parse(e)},oy=()=>{try{return a9()||c9()||f9()||h9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},c4=t=>{var e,n;return(n=(e=oy())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},d9=t=>{const e=c4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},f4=()=>{var t;return(t=oy())==null?void 0:t.config},h4=t=>{var e;return(e=oy())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function d4(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Vm(JSON.stringify(n)),Vm(JSON.stringify(l)),""].join(".")}const bh={};function g9(){const t={prod:[],emulator:[]};for(const e of Object.keys(bh))bh[e]?t.emulator.push(e):t.prod.push(e);return t}function y9(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let cI=!1;function p4(t,e){if(typeof window>"u"||typeof document>"u"||!Fc(window.location.host)||bh[t]===e||bh[t]||cI)return;bh[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",s=g9().prod.length>0;function l(){const v=document.getElementById(r);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,_){v.setAttribute("width","24"),v.setAttribute("id",_),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function h(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{cI=!0,l()},v}function p(v,_){v.setAttribute("id",_),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function m(){const v=y9(r),_=n("text"),E=document.getElementById(_)||document.createElement("span"),S=n("learnmore"),w=document.getElementById(S)||document.createElement("a"),O=n("preprendIcon"),I=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const N=v.element;c(N),p(w,S);const L=h();f(I,O),N.append(I,E,w,L),document.body.appendChild(N)}s?(E.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function v9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ir())}function b9(){var e;const t=(e=oy())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function x9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function w9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function S9(){const t=Ir();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function E9(){return!b9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function T9(){try{return typeof indexedDB=="object"}catch{return!1}}function A9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9="FirebaseError";class xs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=O9,Object.setPrototypeOf(this,xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ed.prototype.create)}}class Ed{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?C9(s,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new xs(i,c,r)}}function C9(t,e){return t.replace(I9,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const I9=/\{\$([^}]+)}/g;function P9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Il(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(fI(s)&&fI(l)){if(!Il(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function fI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function R9(t,e){const n=new N9(t,e);return n.subscribe.bind(n)}class N9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");k9(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=pb),i.error===void 0&&(i.error=pb),i.complete===void 0&&(i.complete=pb);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function k9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(t){return t&&t._delegate?t._delegate:t}class Pl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new p9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(D9(e))try{this.getOrInitializeService({instanceIdentifier:hl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=hl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hl){return this.instances.has(e)}getOptions(e=hl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:j9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hl){return this.component?this.component.multipleInstances?e:hl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function j9(t){return t===hl?void 0:t}function D9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new M9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ot||(Ot={}));const V9={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},$9=Ot.INFO,U9={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},B9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=U9[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jE{constructor(e){this.name=e,this._logLevel=$9,this._logHandler=B9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?V9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...e),this._logHandler(this,Ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...e),this._logHandler(this,Ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...e),this._logHandler(this,Ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...e),this._logHandler(this,Ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...e),this._logHandler(this,Ot.ERROR,...e)}}const q9=(t,e)=>e.some(n=>t instanceof n);let hI,dI;function z9(){return hI||(hI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function F9(){return dI||(dI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const m4=new WeakMap,k1=new WeakMap,g4=new WeakMap,mb=new WeakMap,DE=new WeakMap;function H9(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(ho(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&m4.set(n,t)}).catch(()=>{}),DE.set(e,t),e}function G9(t){if(k1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});k1.set(t,e)}let M1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return k1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||g4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ho(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function K9(t){M1=t(M1)}function W9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gb(this),e,...n);return g4.set(r,e.sort?e.sort():[e]),ho(r)}:F9().includes(t)?function(...e){return t.apply(gb(this),e),ho(m4.get(this))}:function(...e){return ho(t.apply(gb(this),e))}}function Y9(t){return typeof t=="function"?W9(t):(t instanceof IDBTransaction&&G9(t),q9(t,z9())?new Proxy(t,M1):t)}function ho(t){if(t instanceof IDBRequest)return H9(t);if(mb.has(t))return mb.get(t);const e=Y9(t);return e!==t&&(mb.set(t,e),DE.set(e,t)),e}const gb=t=>DE.get(t);function X9(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),c=ho(l);return r&&l.addEventListener("upgradeneeded",f=>{r(ho(l.result),f.oldVersion,f.newVersion,ho(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{s&&f.addEventListener("close",()=>s()),i&&f.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const Q9=["get","getKey","getAll","getAllKeys","count"],J9=["put","add","delete","clear"],yb=new Map;function pI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yb.get(e))return yb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=J9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Q9.includes(n)))return;const s=async function(l,...c){const f=this.transaction(l,i?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),i&&f.done]))[0]};return yb.set(e,s),s}K9(t=>({...t,get:(e,n,r)=>pI(e,n)||t.get(e,n,r),has:(e,n)=>!!pI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eq(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function eq(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const j1="@firebase/app",mI="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new jE("@firebase/app"),tq="@firebase/app-compat",nq="@firebase/analytics-compat",rq="@firebase/analytics",iq="@firebase/app-check-compat",aq="@firebase/app-check",sq="@firebase/auth",oq="@firebase/auth-compat",lq="@firebase/database",uq="@firebase/data-connect",cq="@firebase/database-compat",fq="@firebase/functions",hq="@firebase/functions-compat",dq="@firebase/installations",pq="@firebase/installations-compat",mq="@firebase/messaging",gq="@firebase/messaging-compat",yq="@firebase/performance",vq="@firebase/performance-compat",bq="@firebase/remote-config",_q="@firebase/remote-config-compat",xq="@firebase/storage",wq="@firebase/storage-compat",Sq="@firebase/firestore",Eq="@firebase/ai",Tq="@firebase/firestore-compat",Aq="firebase",Oq="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="[DEFAULT]",Cq={[j1]:"fire-core",[tq]:"fire-core-compat",[rq]:"fire-analytics",[nq]:"fire-analytics-compat",[aq]:"fire-app-check",[iq]:"fire-app-check-compat",[sq]:"fire-auth",[oq]:"fire-auth-compat",[lq]:"fire-rtdb",[uq]:"fire-data-connect",[cq]:"fire-rtdb-compat",[fq]:"fire-fn",[hq]:"fire-fn-compat",[dq]:"fire-iid",[pq]:"fire-iid-compat",[mq]:"fire-fcm",[gq]:"fire-fcm-compat",[yq]:"fire-perf",[vq]:"fire-perf-compat",[bq]:"fire-rc",[_q]:"fire-rc-compat",[xq]:"fire-gcs",[wq]:"fire-gcs-compat",[Sq]:"fire-fst",[Tq]:"fire-fst-compat",[Eq]:"fire-vertex","fire-js":"fire-js",[Aq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m=new Map,Iq=new Map,L1=new Map;function gI(t,e){try{t.container.addComponent(e)}catch(n){ps.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function lc(t){const e=t.name;if(L1.has(e))return ps.debug(`There were multiple attempts to register component ${e}.`),!1;L1.set(e,t);for(const n of $m.values())gI(n,t);for(const n of Iq.values())gI(n,t);return!0}function LE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ji(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},po=new Ed("app","Firebase",Pq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rq{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw po.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=Oq;function y4(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:D1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw po.create("bad-app-name",{appName:String(i)});if(n||(n=f4()),!n)throw po.create("no-options");const s=$m.get(i);if(s){if(Il(n,s.options)&&Il(r,s.config))return s;throw po.create("duplicate-app",{appName:i})}const l=new L9(i);for(const f of L1.values())l.addComponent(f);const c=new Rq(n,r,l);return $m.set(i,c),c}function v4(t=D1){const e=$m.get(t);if(!e&&t===D1&&f4())return y4();if(!e)throw po.create("no-app",{appName:t});return e}function mo(t,e,n){let r=Cq[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ps.warn(l.join(" "));return}lc(new Pl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nq="firebase-heartbeat-database",kq=1,kh="firebase-heartbeat-store";let vb=null;function b4(){return vb||(vb=X9(Nq,kq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(kh)}catch(n){console.warn(n)}}}}).catch(t=>{throw po.create("idb-open",{originalErrorMessage:t.message})})),vb}async function Mq(t){try{const n=(await b4()).transaction(kh),r=await n.objectStore(kh).get(_4(t));return await n.done,r}catch(e){if(e instanceof xs)ps.warn(e.message);else{const n=po.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ps.warn(n.message)}}}async function yI(t,e){try{const r=(await b4()).transaction(kh,"readwrite");await r.objectStore(kh).put(e,_4(t)),await r.done}catch(n){if(n instanceof xs)ps.warn(n.message);else{const r=po.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ps.warn(r.message)}}}function _4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jq=1024,Dq=30;class Lq{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $q(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=vI();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Dq){const l=Uq(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ps.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=vI(),{heartbeatsToSend:r,unsentEntries:i}=Vq(this._heartbeatsCache.heartbeats),s=Vm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ps.warn(n),""}}}function vI(){return new Date().toISOString().substring(0,10)}function Vq(t,e=jq){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),bI(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),bI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $q{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return T9()?A9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Mq(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return yI(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return yI(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function bI(t){return Vm(JSON.stringify({version:2,heartbeats:t})).length}function Uq(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bq(t){lc(new Pl("platform-logger",e=>new Z9(e),"PRIVATE")),lc(new Pl("heartbeat",e=>new Lq(e),"PRIVATE")),mo(j1,mI,t),mo(j1,mI,"esm2020"),mo("fire-js","")}Bq("");function x4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qq=x4,w4=new Ed("auth","Firebase",x4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um=new jE("@firebase/auth");function zq(t,...e){Um.logLevel<=Ot.WARN&&Um.warn(`Auth (${Hc}): ${t}`,...e)}function Om(t,...e){Um.logLevel<=Ot.ERROR&&Um.error(`Auth (${Hc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(t,...e){throw $E(t,...e)}function ta(t,...e){return $E(t,...e)}function VE(t,e,n){const r={...qq(),[e]:n};return new Ed("auth","Firebase",r).create(e,{appName:t.name})}function Tl(t){return VE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fq(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ca(t,"argument-error"),VE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $E(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return w4.create(t,...e)}function it(t,e,...n){if(!t)throw $E(e,...n)}function ss(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Om(e),new Error(e)}function ms(t,e){t||ss(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Hq(){return _I()==="http:"||_I()==="https:"}function _I(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Hq()||x9()||"connection"in navigator)?navigator.onLine:!0}function Kq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n){this.shortDelay=e,this.longDelay=n,ms(n>e,"Short delay should be less than long delay!"),this.isMobile=v9()||w9()}get(){return Gq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(t,e){ms(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yq=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Xq=new Ad(3e4,6e4);function BE(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Bl(t,e,n,r,i={}){return E4(t,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const c=Td({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:f,...s};return _9()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Fc(t.emulatorConfig.host)&&(h.credentials="include"),S4.fetch()(await T4(t,t.config.apiHost,n,c),h)})}async function E4(t,e,n){t._canInitEmulator=!1;const r={...Wq,...e};try{const i=new Jq(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw om(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const c=s.ok?l.errorMessage:l.error.message,[f,h]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw om(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw om(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw om(t,"user-disabled",l);const p=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw VE(t,p,h);Ca(t,p)}}catch(i){if(i instanceof xs)throw i;Ca(t,"network-request-failed",{message:String(i)})}}async function Qq(t,e,n,r,i={}){const s=await Bl(t,e,n,r,i);return"mfaPendingCredential"in s&&Ca(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function T4(t,e,n,r){const i=`${e}${n}?${r}`,s=t,l=s.config.emulator?UE(t.config,i):`${t.config.apiScheme}://${i}`;return Yq.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}class Jq{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ta(this.auth,"network-request-failed")),Xq.get())})}}function om(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ta(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zq(t,e){return Bl(t,"POST","/v1/accounts:delete",e)}async function Bm(t,e){return Bl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ez(t,e=!1){const n=Pr(t),r=await n.getIdToken(e),i=qE(r);it(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:_h(bb(i.auth_time)),issuedAtTime:_h(bb(i.iat)),expirationTime:_h(bb(i.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function bb(t){return Number(t)*1e3}function qE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Om("JWT malformed, contained fewer than 3 sections"),null;try{const i=u4(n);return i?JSON.parse(i):(Om("Failed to decode base64 JWT payload"),null)}catch(i){return Om("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function xI(t){const e=qE(t);return it(e,"internal-error"),it(typeof e.exp<"u","internal-error"),it(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof xs&&tz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function tz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_h(this.lastLoginAt),this.creationTime=_h(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qm(t){var m;const e=t.auth,n=await t.getIdToken(),r=await uc(t,Bm(e,{idToken:n}));it(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(m=i.providerUserInfo)!=null&&m.length?A4(i.providerUserInfo):[],l=iz(t.providerData,s),c=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),h=c?f:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new $1(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function rz(t){const e=Pr(t);await qm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function iz(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function A4(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function az(t,e){const n=await E4(t,{},async()=>{const r=Td({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,l=await T4(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:r};return t.emulatorConfig&&Fc(t.emulatorConfig.host)&&(f.credentials="include"),S4.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sz(t,e){return Bl(t,"POST","/v2/accounts:revokeToken",BE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){it(e.idToken,"internal-error"),it(typeof e.idToken<"u","internal-error"),it(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){it(e.length!==0,"internal-error");const n=xI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(it(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await az(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,l=new ec;return r&&(it(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(it(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(it(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ec,this.toJSON())}_performRefresh(){return ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(t,e){it(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ea{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new nz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new $1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await uc(this,this.stsTokenManager.getToken(this.auth,e));return it(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ez(this,e)}reload(){return rz(this)}_assign(e){this!==e&&(it(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ea({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){it(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await qm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ji(this.auth.app))return Promise.reject(Tl(this.auth));const e=await this.getIdToken();return await uc(this,Zq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,f=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:m,emailVerified:v,isAnonymous:_,providerData:E,stsTokenManager:S}=n;it(m&&S,e,"internal-error");const w=ec.fromJSON(this.name,S);it(typeof m=="string",e,"internal-error"),no(r,e.name),no(i,e.name),it(typeof v=="boolean",e,"internal-error"),it(typeof _=="boolean",e,"internal-error"),no(s,e.name),no(l,e.name),no(c,e.name),no(f,e.name),no(h,e.name),no(p,e.name);const O=new ea({uid:m,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:_,photoURL:l,phoneNumber:s,tenantId:c,stsTokenManager:w,createdAt:h,lastLoginAt:p});return E&&Array.isArray(E)&&(O.providerData=E.map(I=>({...I}))),f&&(O._redirectEventId=f),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new ec;i.updateFromServerResponse(n);const s=new ea({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await qm(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];it(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?A4(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),c=new ec;c.updateFromIdToken(r);const f=new ea({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new $1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(f,h),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=new Map;function os(t){ms(t instanceof Function,"Expected a class definition");let e=wI.get(t);return e?(ms(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,wI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}O4.type="NONE";const SI=O4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(t,e,n){return`firebase:${t}:${e}:${n}`}class tc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Cm(this.userKey,i.apiKey,s),this.fullPersistenceKey=Cm("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Bm(this.auth,{idToken:e}).catch(()=>{});return n?ea._fromGetAccountInfoResponse(this.auth,n,e):null}return ea._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new tc(os(SI),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||os(SI);const l=Cm(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const p=await h._get(l);if(p){let m;if(typeof p=="string"){const v=await Bm(e,{idToken:p}).catch(()=>{});if(!v)break;m=await ea._fromGetAccountInfoResponse(e,v,p)}else m=ea._fromJSON(e,p);h!==s&&(c=m),s=h;break}}catch{}const f=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new tc(s,e,r):(s=f[0],c&&await s._set(l,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(l)}catch{}})),new tc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(R4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(C4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(k4(e))return"Blackberry";if(M4(e))return"Webos";if(I4(e))return"Safari";if((e.includes("chrome/")||P4(e))&&!e.includes("edge/"))return"Chrome";if(N4(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function C4(t=Ir()){return/firefox\//i.test(t)}function I4(t=Ir()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function P4(t=Ir()){return/crios\//i.test(t)}function R4(t=Ir()){return/iemobile/i.test(t)}function N4(t=Ir()){return/android/i.test(t)}function k4(t=Ir()){return/blackberry/i.test(t)}function M4(t=Ir()){return/webos/i.test(t)}function zE(t=Ir()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function oz(t=Ir()){var e;return zE(t)&&!!((e=window.navigator)!=null&&e.standalone)}function lz(){return S9()&&document.documentMode===10}function j4(t=Ir()){return zE(t)||N4(t)||M4(t)||k4(t)||/windows phone/i.test(t)||R4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(t,e=[]){let n;switch(t){case"Browser":n=EI(Ir());break;case"Worker":n=`${EI(Ir())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Hc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,c)=>{try{const f=e(s);l(f)}catch(f){c(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cz(t,e={}){return Bl(t,"GET","/v2/passwordPolicy",BE(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fz=6;class hz{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??fz,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TI(this),this.idTokenSubscription=new TI(this),this.beforeStateQueue=new uz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=w4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=os(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await tc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Bm(this,{idToken:e}),r=await ea._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Ji(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(s=this.redirectUser)==null?void 0:s._redirectEventId,c=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&(f!=null&&f.user)&&(r=f.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return it(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Kq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ji(this.app))return Promise.reject(Tl(this));const n=e?Pr(e):null;return n&&it(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&it(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ji(this.app)?Promise.reject(Tl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ji(this.app)?Promise.reject(Tl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(os(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cz(this),n=new hz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ed("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await sz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&os(e)||this._popupRedirectResolver;it(n,this,"argument-error"),this.redirectPersistenceManager=await tc.create(this,[os(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(it(c,this,"internal-error"),c.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return it(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=D4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Ji(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&zq(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ly(t){return Pr(t)}class TI{constructor(e){this.auth=e,this.observer=null,this.addObserver=R9(n=>this.observer=n)}get next(){return it(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pz(t){FE=t}function mz(t){return FE.loadJS(t)}function gz(){return FE.gapiScript}function yz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vz(t,e){const n=LE(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Il(s,e??{}))return i;Ca(i,"already-initialized")}return n.initialize({options:e})}function bz(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(os);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function _z(t,e,n){const r=ly(t);it(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=L4(e),{host:l,port:c}=xz(e),f=c===null?"":`:${c}`,h={url:`${s}//${l}${f}/`},p=Object.freeze({host:l,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){it(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),it(Il(h,r.config.emulator)&&Il(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Fc(l)?(d4(`${s}//${l}${f}`),p4("Auth",!0)):wz()}function L4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xz(t){const e=L4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:AI(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:AI(l)}}}function AI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function wz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ss("not implemented")}_getIdTokenResponse(e){return ss("not implemented")}_linkToIdToken(e,n){return ss("not implemented")}_getReauthenticationResolver(e){return ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nc(t,e){return Qq(t,"POST","/v1/accounts:signInWithIdp",BE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sz="http://localhost";class Rl extends V4{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Rl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ca("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const l=new Rl(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return nc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,nc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,nc(e,n)}buildRequest(){const e={requestUri:Sz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Td(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od extends HE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends Od{constructor(){super("facebook.com")}static credential(e){return Rl._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return so.credential(e.oauthAccessToken)}catch{return null}}}so.FACEBOOK_SIGN_IN_METHOD="facebook.com";so.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Od{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Rl._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return as.credential(n,r)}catch{return null}}}as.GOOGLE_SIGN_IN_METHOD="google.com";as.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends Od{constructor(){super("github.com")}static credential(e){return Rl._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oo.credential(e.oauthAccessToken)}catch{return null}}}oo.GITHUB_SIGN_IN_METHOD="github.com";oo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo extends Od{constructor(){super("twitter.com")}static credential(e,n){return Rl._fromParams({providerId:lo.PROVIDER_ID,signInMethod:lo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return lo.credentialFromTaggedObject(e)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return lo.credential(n,r)}catch{return null}}}lo.TWITTER_SIGN_IN_METHOD="twitter.com";lo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ea._fromIdTokenResponse(e,r,i),l=OI(r);return new cc({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=OI(r);return new cc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function OI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm extends xs{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,zm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new zm(e,n,r,i)}}function $4(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?zm._fromErrorAndOperation(t,s,e,r):s})}async function Ez(t,e,n=!1){const r=await uc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return cc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tz(t,e,n=!1){const{auth:r}=t;if(Ji(r.app))return Promise.reject(Tl(r));const i="reauthenticate";try{const s=await uc(t,$4(r,i,e,t),n);it(s.idToken,r,"internal-error");const l=qE(s.idToken);it(l,r,"internal-error");const{sub:c}=l;return it(t.uid===c,r,"user-mismatch"),cc._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ca(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Az(t,e,n=!1){if(Ji(t.app))return Promise.reject(Tl(t));const r="signIn",i=await $4(t,r,e),s=await cc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oz(t,e){return Bl(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cz(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Pr(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await uc(r,Oz(r.auth,s));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:f})=>f==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function Iz(t,e,n,r){return Pr(t).onIdTokenChanged(e,n,r)}function Pz(t,e,n){return Pr(t).beforeAuthStateChanged(e,n)}function Rz(t,e,n,r){return Pr(t).onAuthStateChanged(e,n,r)}function Nz(t){return Pr(t).signOut()}const Fm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fm,"1"),this.storage.removeItem(Fm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kz=1e3,Mz=10;class B4 extends U4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=j4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);lz()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Mz):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},kz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}B4.type="LOCAL";const jz=B4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4 extends U4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}q4.type="SESSION";const z4=q4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new uy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async h=>h(n.origin,s)),f=await Dz(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((c,f)=>{const h=GE("",20);i.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(m){const v=m;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(v.data.response);break;default:clearTimeout(p),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(){return window}function Vz(t){_a().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(){return typeof _a().WorkerGlobalScope<"u"&&typeof _a().importScripts=="function"}async function $z(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Uz(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Bz(){return F4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4="firebaseLocalStorageDb",qz=1,Hm="firebaseLocalStorage",G4="fbase_key";class Cd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cy(t,e){return t.transaction([Hm],e?"readwrite":"readonly").objectStore(Hm)}function zz(){const t=indexedDB.deleteDatabase(H4);return new Cd(t).toPromise()}function U1(){const t=indexedDB.open(H4,qz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Hm,{keyPath:G4})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Hm)?e(r):(r.close(),await zz(),e(await U1()))})})}async function CI(t,e,n){const r=cy(t,!0).put({[G4]:e,value:n});return new Cd(r).toPromise()}async function Fz(t,e){const n=cy(t,!1).get(e),r=await new Cd(n).toPromise();return r===void 0?null:r.value}function II(t,e){const n=cy(t,!0).delete(e);return new Cd(n).toPromise()}const Hz=800,Gz=3;class K4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await U1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Gz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return F4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uy._getInstance(Bz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await $z(),!this.activeServiceWorker)return;this.sender=new Lz(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Uz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await U1();return await CI(e,Fm,"1"),await II(e,Fm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>CI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Fz(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>II(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=cy(i,!1).getAll();return new Cd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Hz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}K4.type="LOCAL";const Kz=K4;new Ad(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(t,e){return e?os(e):(it(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE extends V4{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return nc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return nc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Wz(t){return Az(t.auth,new KE(t),t.bypassAuthState)}function Yz(t){const{auth:e,user:n}=t;return it(n,e,"internal-error"),Tz(n,new KE(t),t.bypassAuthState)}async function Xz(t){const{auth:e,user:n}=t;return it(n,e,"internal-error"),Ez(n,new KE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:l,type:c}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Wz;case"linkViaPopup":case"linkViaRedirect":return Xz;case"reauthViaPopup":case"reauthViaRedirect":return Yz;default:Ca(this.auth,"internal-error")}}resolve(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz=new Ad(2e3,1e4);async function Jz(t,e,n){if(Ji(t.app))return Promise.reject(ta(t,"operation-not-supported-in-this-environment"));const r=ly(t);Fq(t,e,HE);const i=W4(r,n);return new bl(r,"signInViaPopup",e,i).executeNotNull()}class bl extends Y4{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,bl.currentPopupAction&&bl.currentPopupAction.cancel(),bl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return it(e,this.auth,"internal-error"),e}async onExecution(){ms(this.filter.length===1,"Popup operations only handle one event");const e=GE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ta(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ta(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ta(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Qz.get())};e()}}bl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zz="pendingRedirect",Im=new Map;class e8 extends Y4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Im.get(this.auth._key());if(!e){try{const r=await t8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Im.set(this.auth._key(),e)}return this.bypassAuthState||Im.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function t8(t,e){const n=i8(e),r=r8(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function n8(t,e){Im.set(t._key(),e)}function r8(t){return os(t._redirectPersistence)}function i8(t){return Cm(Zz,t.config.apiKey,t.name)}async function a8(t,e,n=!1){if(Ji(t.app))return Promise.reject(Tl(t));const r=ly(t),i=W4(r,e),l=await new e8(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s8=600*1e3;class o8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!l8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!X4(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(ta(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=s8&&this.cachedEventUids.clear(),this.cachedEventUids.has(PI(e))}saveEventToCache(e){this.cachedEventUids.add(PI(e)),this.lastProcessedEventTime=Date.now()}}function PI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function X4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function l8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return X4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u8(t,e={}){return Bl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,f8=/^https?/;async function h8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await u8(t);for(const n of e)try{if(d8(n))return}catch{}Ca(t,"unauthorized-domain")}function d8(t){const e=V1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!f8.test(n))return!1;if(c8.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8=new Ad(3e4,6e4);function RI(){const t=_a().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function m8(t){return new Promise((e,n)=>{var i,s,l;function r(){RI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{RI(),n(ta(t,"network-request-failed"))},timeout:p8.get()})}if((s=(i=_a().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((l=_a().gapi)!=null&&l.load)r();else{const c=yz("iframefcb");return _a()[c]=()=>{gapi.load?r():n(ta(t,"network-request-failed"))},mz(`${gz()}?onload=${c}`).catch(f=>n(f))}}).catch(e=>{throw Pm=null,e})}let Pm=null;function g8(t){return Pm=Pm||m8(t),Pm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8=new Ad(5e3,15e3),v8="__/auth/iframe",b8="emulator/auth/iframe",_8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},x8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function w8(t){const e=t.config;it(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?UE(e,b8):`https://${t.config.authDomain}/${v8}`,r={apiKey:e.apiKey,appName:t.name,v:Hc},i=x8.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Td(r).slice(1)}`}async function S8(t){const e=await g8(t),n=_a().gapi;return it(n,t,"internal-error"),e.open({where:document.body,url:w8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_8,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=ta(t,"network-request-failed"),c=_a().setTimeout(()=>{s(l)},y8.get());function f(){_a().clearTimeout(c),i(r)}r.ping(f).then(f,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},T8=500,A8=600,O8="_blank",C8="http://localhost";class NI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function I8(t,e,n,r=T8,i=A8){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f={...E8,width:r.toString(),height:i.toString(),top:s,left:l},h=Ir().toLowerCase();n&&(c=P4(h)?O8:n),C4(h)&&(e=e||C8,f.scrollbars="yes");const p=Object.entries(f).reduce((v,[_,E])=>`${v}${_}=${E},`,"");if(oz(h)&&c!=="_self")return P8(e||"",c),new NI(null);const m=window.open(e||"",c,p);it(m,t,"popup-blocked");try{m.focus()}catch{}return new NI(m)}function P8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R8="__/auth/handler",N8="emulator/auth/handler",k8=encodeURIComponent("fac");async function kI(t,e,n,r,i,s){it(t.config.authDomain,t,"auth-domain-config-required"),it(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Hc,eventId:i};if(e instanceof HE){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",P9(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))l[p]=m}if(e instanceof Od){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const f=await t._getAppCheckToken(),h=f?`#${k8}=${encodeURIComponent(f)}`:"";return`${M8(t)}?${Td(c).slice(1)}${h}`}function M8({config:t}){return t.emulator?UE(t,N8):`https://${t.authDomain}/${R8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="webStorageSupport";class j8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=z4,this._completeRedirectFn=a8,this._overrideRedirectResult=n8}async _openPopup(e,n,r,i){var l;ms((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const s=await kI(e,n,r,V1(),i);return I8(e,s,GE())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await kI(e,n,r,V1(),i);return Vz(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ms(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await S8(e),r=new o8(e);return n.register("authEvent",i=>(it(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_b,{type:_b},i=>{var l;const s=(l=i==null?void 0:i[0])==null?void 0:l[_b];s!==void 0&&n(!!s),Ca(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=h8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return j4()||I4()||zE()}}const D8=j8;var MI="@firebase/auth",jI="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){it(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $8(t){lc(new Pl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;it(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:D4(t)},h=new dz(r,i,s,f);return bz(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),lc(new Pl("auth-internal",e=>{const n=ly(e.getProvider("auth").getImmediate());return(r=>new L8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mo(MI,jI,V8(t)),mo(MI,jI,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8=300,B8=h4("authIdTokenMaxAge")||U8;let DI=null;const q8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>B8)return;const i=n==null?void 0:n.token;DI!==i&&(DI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function z8(t=v4()){const e=LE(t,"auth");if(e.isInitialized())return e.getImmediate();const n=vz(t,{popupRedirectResolver:D8,persistence:[Kz,jz,z4]}),r=h4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=q8(s.toString());Pz(n,l,()=>l(n.currentUser)),Iz(n,c=>l(c))}}const i=c4("auth");return i&&_z(n,`http://${i}`),n}function F8(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}pz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ta("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",F8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$8("Browser");var LI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var go,Q4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,P){function k(){}k.prototype=P.prototype,A.F=P.prototype,A.prototype=new k,A.prototype.constructor=A,A.D=function(U,D,B){for(var V=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)V[Q-2]=arguments[Q];return P.prototype[D].apply(U,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,P,k){k||(k=0);const U=Array(16);if(typeof P=="string")for(var D=0;D<16;++D)U[D]=P.charCodeAt(k++)|P.charCodeAt(k++)<<8|P.charCodeAt(k++)<<16|P.charCodeAt(k++)<<24;else for(D=0;D<16;++D)U[D]=P[k++]|P[k++]<<8|P[k++]<<16|P[k++]<<24;P=A.g[0],k=A.g[1],D=A.g[2];let B=A.g[3],V;V=P+(B^k&(D^B))+U[0]+3614090360&4294967295,P=k+(V<<7&4294967295|V>>>25),V=B+(D^P&(k^D))+U[1]+3905402710&4294967295,B=P+(V<<12&4294967295|V>>>20),V=D+(k^B&(P^k))+U[2]+606105819&4294967295,D=B+(V<<17&4294967295|V>>>15),V=k+(P^D&(B^P))+U[3]+3250441966&4294967295,k=D+(V<<22&4294967295|V>>>10),V=P+(B^k&(D^B))+U[4]+4118548399&4294967295,P=k+(V<<7&4294967295|V>>>25),V=B+(D^P&(k^D))+U[5]+1200080426&4294967295,B=P+(V<<12&4294967295|V>>>20),V=D+(k^B&(P^k))+U[6]+2821735955&4294967295,D=B+(V<<17&4294967295|V>>>15),V=k+(P^D&(B^P))+U[7]+4249261313&4294967295,k=D+(V<<22&4294967295|V>>>10),V=P+(B^k&(D^B))+U[8]+1770035416&4294967295,P=k+(V<<7&4294967295|V>>>25),V=B+(D^P&(k^D))+U[9]+2336552879&4294967295,B=P+(V<<12&4294967295|V>>>20),V=D+(k^B&(P^k))+U[10]+4294925233&4294967295,D=B+(V<<17&4294967295|V>>>15),V=k+(P^D&(B^P))+U[11]+2304563134&4294967295,k=D+(V<<22&4294967295|V>>>10),V=P+(B^k&(D^B))+U[12]+1804603682&4294967295,P=k+(V<<7&4294967295|V>>>25),V=B+(D^P&(k^D))+U[13]+4254626195&4294967295,B=P+(V<<12&4294967295|V>>>20),V=D+(k^B&(P^k))+U[14]+2792965006&4294967295,D=B+(V<<17&4294967295|V>>>15),V=k+(P^D&(B^P))+U[15]+1236535329&4294967295,k=D+(V<<22&4294967295|V>>>10),V=P+(D^B&(k^D))+U[1]+4129170786&4294967295,P=k+(V<<5&4294967295|V>>>27),V=B+(k^D&(P^k))+U[6]+3225465664&4294967295,B=P+(V<<9&4294967295|V>>>23),V=D+(P^k&(B^P))+U[11]+643717713&4294967295,D=B+(V<<14&4294967295|V>>>18),V=k+(B^P&(D^B))+U[0]+3921069994&4294967295,k=D+(V<<20&4294967295|V>>>12),V=P+(D^B&(k^D))+U[5]+3593408605&4294967295,P=k+(V<<5&4294967295|V>>>27),V=B+(k^D&(P^k))+U[10]+38016083&4294967295,B=P+(V<<9&4294967295|V>>>23),V=D+(P^k&(B^P))+U[15]+3634488961&4294967295,D=B+(V<<14&4294967295|V>>>18),V=k+(B^P&(D^B))+U[4]+3889429448&4294967295,k=D+(V<<20&4294967295|V>>>12),V=P+(D^B&(k^D))+U[9]+568446438&4294967295,P=k+(V<<5&4294967295|V>>>27),V=B+(k^D&(P^k))+U[14]+3275163606&4294967295,B=P+(V<<9&4294967295|V>>>23),V=D+(P^k&(B^P))+U[3]+4107603335&4294967295,D=B+(V<<14&4294967295|V>>>18),V=k+(B^P&(D^B))+U[8]+1163531501&4294967295,k=D+(V<<20&4294967295|V>>>12),V=P+(D^B&(k^D))+U[13]+2850285829&4294967295,P=k+(V<<5&4294967295|V>>>27),V=B+(k^D&(P^k))+U[2]+4243563512&4294967295,B=P+(V<<9&4294967295|V>>>23),V=D+(P^k&(B^P))+U[7]+1735328473&4294967295,D=B+(V<<14&4294967295|V>>>18),V=k+(B^P&(D^B))+U[12]+2368359562&4294967295,k=D+(V<<20&4294967295|V>>>12),V=P+(k^D^B)+U[5]+4294588738&4294967295,P=k+(V<<4&4294967295|V>>>28),V=B+(P^k^D)+U[8]+2272392833&4294967295,B=P+(V<<11&4294967295|V>>>21),V=D+(B^P^k)+U[11]+1839030562&4294967295,D=B+(V<<16&4294967295|V>>>16),V=k+(D^B^P)+U[14]+4259657740&4294967295,k=D+(V<<23&4294967295|V>>>9),V=P+(k^D^B)+U[1]+2763975236&4294967295,P=k+(V<<4&4294967295|V>>>28),V=B+(P^k^D)+U[4]+1272893353&4294967295,B=P+(V<<11&4294967295|V>>>21),V=D+(B^P^k)+U[7]+4139469664&4294967295,D=B+(V<<16&4294967295|V>>>16),V=k+(D^B^P)+U[10]+3200236656&4294967295,k=D+(V<<23&4294967295|V>>>9),V=P+(k^D^B)+U[13]+681279174&4294967295,P=k+(V<<4&4294967295|V>>>28),V=B+(P^k^D)+U[0]+3936430074&4294967295,B=P+(V<<11&4294967295|V>>>21),V=D+(B^P^k)+U[3]+3572445317&4294967295,D=B+(V<<16&4294967295|V>>>16),V=k+(D^B^P)+U[6]+76029189&4294967295,k=D+(V<<23&4294967295|V>>>9),V=P+(k^D^B)+U[9]+3654602809&4294967295,P=k+(V<<4&4294967295|V>>>28),V=B+(P^k^D)+U[12]+3873151461&4294967295,B=P+(V<<11&4294967295|V>>>21),V=D+(B^P^k)+U[15]+530742520&4294967295,D=B+(V<<16&4294967295|V>>>16),V=k+(D^B^P)+U[2]+3299628645&4294967295,k=D+(V<<23&4294967295|V>>>9),V=P+(D^(k|~B))+U[0]+4096336452&4294967295,P=k+(V<<6&4294967295|V>>>26),V=B+(k^(P|~D))+U[7]+1126891415&4294967295,B=P+(V<<10&4294967295|V>>>22),V=D+(P^(B|~k))+U[14]+2878612391&4294967295,D=B+(V<<15&4294967295|V>>>17),V=k+(B^(D|~P))+U[5]+4237533241&4294967295,k=D+(V<<21&4294967295|V>>>11),V=P+(D^(k|~B))+U[12]+1700485571&4294967295,P=k+(V<<6&4294967295|V>>>26),V=B+(k^(P|~D))+U[3]+2399980690&4294967295,B=P+(V<<10&4294967295|V>>>22),V=D+(P^(B|~k))+U[10]+4293915773&4294967295,D=B+(V<<15&4294967295|V>>>17),V=k+(B^(D|~P))+U[1]+2240044497&4294967295,k=D+(V<<21&4294967295|V>>>11),V=P+(D^(k|~B))+U[8]+1873313359&4294967295,P=k+(V<<6&4294967295|V>>>26),V=B+(k^(P|~D))+U[15]+4264355552&4294967295,B=P+(V<<10&4294967295|V>>>22),V=D+(P^(B|~k))+U[6]+2734768916&4294967295,D=B+(V<<15&4294967295|V>>>17),V=k+(B^(D|~P))+U[13]+1309151649&4294967295,k=D+(V<<21&4294967295|V>>>11),V=P+(D^(k|~B))+U[4]+4149444226&4294967295,P=k+(V<<6&4294967295|V>>>26),V=B+(k^(P|~D))+U[11]+3174756917&4294967295,B=P+(V<<10&4294967295|V>>>22),V=D+(P^(B|~k))+U[2]+718787259&4294967295,D=B+(V<<15&4294967295|V>>>17),V=k+(B^(D|~P))+U[9]+3951481745&4294967295,A.g[0]=A.g[0]+P&4294967295,A.g[1]=A.g[1]+(D+(V<<21&4294967295|V>>>11))&4294967295,A.g[2]=A.g[2]+D&4294967295,A.g[3]=A.g[3]+B&4294967295}r.prototype.v=function(A,P){P===void 0&&(P=A.length);const k=P-this.blockSize,U=this.C;let D=this.h,B=0;for(;B<P;){if(D==0)for(;B<=k;)i(this,A,B),B+=this.blockSize;if(typeof A=="string"){for(;B<P;)if(U[D++]=A.charCodeAt(B++),D==this.blockSize){i(this,U),D=0;break}}else for(;B<P;)if(U[D++]=A[B++],D==this.blockSize){i(this,U),D=0;break}}this.h=D,this.o+=P},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var P=1;P<A.length-8;++P)A[P]=0;P=this.o*8;for(var k=A.length-8;k<A.length;++k)A[k]=P&255,P/=256;for(this.v(A),A=Array(16),P=0,k=0;k<4;++k)for(let U=0;U<32;U+=8)A[P++]=this.g[k]>>>U&255;return A};function s(A,P){var k=c;return Object.prototype.hasOwnProperty.call(k,A)?k[A]:k[A]=P(A)}function l(A,P){this.h=P;const k=[];let U=!0;for(let D=A.length-1;D>=0;D--){const B=A[D]|0;U&&B==P||(k[D]=B,U=!1)}this.g=k}var c={};function f(A){return-128<=A&&A<128?s(A,function(P){return new l([P|0],P<0?-1:0)}):new l([A|0],A<0?-1:0)}function h(A){if(isNaN(A)||!isFinite(A))return m;if(A<0)return w(h(-A));const P=[];let k=1;for(let U=0;A>=k;U++)P[U]=A/k|0,k*=4294967296;return new l(P,0)}function p(A,P){if(A.length==0)throw Error("number format error: empty string");if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(A.charAt(0)=="-")return w(p(A.substring(1),P));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=h(Math.pow(P,8));let U=m;for(let B=0;B<A.length;B+=8){var D=Math.min(8,A.length-B);const V=parseInt(A.substring(B,B+D),P);D<8?(D=h(Math.pow(P,D)),U=U.j(D).add(h(V))):(U=U.j(k),U=U.add(h(V)))}return U}var m=f(0),v=f(1),_=f(16777216);t=l.prototype,t.m=function(){if(S(this))return-w(this).m();let A=0,P=1;for(let k=0;k<this.g.length;k++){const U=this.i(k);A+=(U>=0?U:4294967296+U)*P,P*=4294967296}return A},t.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(E(this))return"0";if(S(this))return"-"+w(this).toString(A);const P=h(Math.pow(A,6));var k=this;let U="";for(;;){const D=L(k,P).g;k=O(k,D.j(P));let B=((k.g.length>0?k.g[0]:k.h)>>>0).toString(A);if(k=D,E(k))return B+U;for(;B.length<6;)B="0"+B;U=B+U}},t.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function E(A){if(A.h!=0)return!1;for(let P=0;P<A.g.length;P++)if(A.g[P]!=0)return!1;return!0}function S(A){return A.h==-1}t.l=function(A){return A=O(this,A),S(A)?-1:E(A)?0:1};function w(A){const P=A.g.length,k=[];for(let U=0;U<P;U++)k[U]=~A.g[U];return new l(k,~A.h).add(v)}t.abs=function(){return S(this)?w(this):this},t.add=function(A){const P=Math.max(this.g.length,A.g.length),k=[];let U=0;for(let D=0;D<=P;D++){let B=U+(this.i(D)&65535)+(A.i(D)&65535),V=(B>>>16)+(this.i(D)>>>16)+(A.i(D)>>>16);U=V>>>16,B&=65535,V&=65535,k[D]=V<<16|B}return new l(k,k[k.length-1]&-2147483648?-1:0)};function O(A,P){return A.add(w(P))}t.j=function(A){if(E(this)||E(A))return m;if(S(this))return S(A)?w(this).j(w(A)):w(w(this).j(A));if(S(A))return w(this.j(w(A)));if(this.l(_)<0&&A.l(_)<0)return h(this.m()*A.m());const P=this.g.length+A.g.length,k=[];for(var U=0;U<2*P;U++)k[U]=0;for(U=0;U<this.g.length;U++)for(let D=0;D<A.g.length;D++){const B=this.i(U)>>>16,V=this.i(U)&65535,Q=A.i(D)>>>16,J=A.i(D)&65535;k[2*U+2*D]+=V*J,I(k,2*U+2*D),k[2*U+2*D+1]+=B*J,I(k,2*U+2*D+1),k[2*U+2*D+1]+=V*Q,I(k,2*U+2*D+1),k[2*U+2*D+2]+=B*Q,I(k,2*U+2*D+2)}for(A=0;A<P;A++)k[A]=k[2*A+1]<<16|k[2*A];for(A=P;A<2*P;A++)k[A]=0;return new l(k,0)};function I(A,P){for(;(A[P]&65535)!=A[P];)A[P+1]+=A[P]>>>16,A[P]&=65535,P++}function N(A,P){this.g=A,this.h=P}function L(A,P){if(E(P))throw Error("division by zero");if(E(A))return new N(m,m);if(S(A))return P=L(w(A),P),new N(w(P.g),w(P.h));if(S(P))return P=L(A,w(P)),new N(w(P.g),P.h);if(A.g.length>30){if(S(A)||S(P))throw Error("slowDivide_ only works with positive integers.");for(var k=v,U=P;U.l(A)<=0;)k=C(k),U=C(U);var D=M(k,1),B=M(U,1);for(U=M(U,2),k=M(k,2);!E(U);){var V=B.add(U);V.l(A)<=0&&(D=D.add(k),B=V),U=M(U,1),k=M(k,1)}return P=O(A,D.j(P)),new N(D,P)}for(D=m;A.l(P)>=0;){for(k=Math.max(1,Math.floor(A.m()/P.m())),U=Math.ceil(Math.log(k)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),B=h(k),V=B.j(P);S(V)||V.l(A)>0;)k-=U,B=h(k),V=B.j(P);E(B)&&(B=v),D=D.add(B),A=O(A,V)}return new N(D,A)}t.B=function(A){return L(this,A).h},t.and=function(A){const P=Math.max(this.g.length,A.g.length),k=[];for(let U=0;U<P;U++)k[U]=this.i(U)&A.i(U);return new l(k,this.h&A.h)},t.or=function(A){const P=Math.max(this.g.length,A.g.length),k=[];for(let U=0;U<P;U++)k[U]=this.i(U)|A.i(U);return new l(k,this.h|A.h)},t.xor=function(A){const P=Math.max(this.g.length,A.g.length),k=[];for(let U=0;U<P;U++)k[U]=this.i(U)^A.i(U);return new l(k,this.h^A.h)};function C(A){const P=A.g.length+1,k=[];for(let U=0;U<P;U++)k[U]=A.i(U)<<1|A.i(U-1)>>>31;return new l(k,A.h)}function M(A,P){const k=P>>5;P%=32;const U=A.g.length-k,D=[];for(let B=0;B<U;B++)D[B]=P>0?A.i(B+k)>>>P|A.i(B+k+1)<<32-P:A.i(B+k);return new l(D,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Q4=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,go=l}).apply(typeof LI<"u"?LI:typeof self<"u"?self:typeof window<"u"?window:{});var lm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var J4,fh,Z4,Rm,B1,e3,t3,n3;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof lm=="object"&&lm];for(var T=0;T<g.length;++T){var j=g[T];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var r=n(this);function i(g,T){if(T)e:{var j=r;g=g.split(".");for(var z=0;z<g.length-1;z++){var te=g[z];if(!(te in j))break e;j=j[te]}g=g[g.length-1],z=j[g],T=T(z),T!=z&&T!=null&&e(j,g,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(g){return g||function(T){var j=[],z;for(z in T)Object.prototype.hasOwnProperty.call(T,z)&&j.push([z,T[z]]);return j}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function c(g){var T=typeof g;return T=="object"&&g!=null||T=="function"}function f(g,T,j){return g.call.apply(g.bind,arguments)}function h(g,T,j){return h=f,h.apply(null,arguments)}function p(g,T){var j=Array.prototype.slice.call(arguments,1);return function(){var z=j.slice();return z.push.apply(z,arguments),g.apply(this,z)}}function m(g,T){function j(){}j.prototype=T.prototype,g.Z=T.prototype,g.prototype=new j,g.prototype.constructor=g,g.Ob=function(z,te,le){for(var Pe=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)Pe[gt-2]=arguments[gt];return T.prototype[te].apply(z,Pe)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function _(g){const T=g.length;if(T>0){const j=Array(T);for(let z=0;z<T;z++)j[z]=g[z];return j}return[]}function E(g,T){for(let z=1;z<arguments.length;z++){const te=arguments[z];var j=typeof te;if(j=j!="object"?j:te?Array.isArray(te)?"array":j:"null",j=="array"||j=="object"&&typeof te.length=="number"){j=g.length||0;const le=te.length||0;g.length=j+le;for(let Pe=0;Pe<le;Pe++)g[j+Pe]=te[Pe]}else g.push(te)}}class S{constructor(T,j){this.i=T,this.j=j,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function w(g){l.setTimeout(()=>{throw g},0)}function O(){var g=A;let T=null;return g.g&&(T=g.g,g.g=g.g.next,g.g||(g.h=null),T.next=null),T}class I{constructor(){this.h=this.g=null}add(T,j){const z=N.get();z.set(T,j),this.h?this.h.next=z:this.g=z,this.h=z}}var N=new S(()=>new L,g=>g.reset());class L{constructor(){this.next=this.g=this.h=null}set(T,j){this.h=T,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let C,M=!1,A=new I,P=()=>{const g=Promise.resolve(void 0);C=()=>{g.then(k)}};function k(){for(var g;g=O();){try{g.h.call(g.g)}catch(j){w(j)}var T=N;T.j(g),T.h<100&&(T.h++,g.next=T.g,T.g=g)}M=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(g,T){this.type=g,this.g=this.target=T,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,T=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const j=()=>{};l.addEventListener("test",j,T),l.removeEventListener("test",j,T)}catch{}return g})();function V(g){return/^[\s\xa0]*$/.test(g)}function Q(g,T){D.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,T)}m(Q,D),Q.prototype.init=function(g,T){const j=this.type=g.type,z=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=T,T=g.relatedTarget,T||(j=="mouseover"?T=g.fromElement:j=="mouseout"&&(T=g.toElement)),this.relatedTarget=T,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&Q.Z.h.call(this)},Q.prototype.h=function(){Q.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var J="closure_listenable_"+(Math.random()*1e6|0),H=0;function Y(g,T,j,z,te){this.listener=g,this.proxy=null,this.src=T,this.type=j,this.capture=!!z,this.ha=te,this.key=++H,this.da=this.fa=!1}function ee(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function ue(g,T,j){for(const z in g)T.call(j,g[z],z,g)}function ve(g,T){for(const j in g)T.call(void 0,g[j],j,g)}function F(g){const T={};for(const j in g)T[j]=g[j];return T}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(g,T){let j,z;for(let te=1;te<arguments.length;te++){z=arguments[te];for(j in z)g[j]=z[j];for(let le=0;le<W.length;le++)j=W[le],Object.prototype.hasOwnProperty.call(z,j)&&(g[j]=z[j])}}function me(g){this.src=g,this.g={},this.h=0}me.prototype.add=function(g,T,j,z,te){const le=g.toString();g=this.g[le],g||(g=this.g[le]=[],this.h++);const Pe=Se(g,T,z,te);return Pe>-1?(T=g[Pe],j||(T.fa=!1)):(T=new Y(T,this.src,le,!!z,te),T.fa=j,g.push(T)),T};function we(g,T){const j=T.type;if(j in g.g){var z=g.g[j],te=Array.prototype.indexOf.call(z,T,void 0),le;(le=te>=0)&&Array.prototype.splice.call(z,te,1),le&&(ee(T),g.g[j].length==0&&(delete g.g[j],g.h--))}}function Se(g,T,j,z){for(let te=0;te<g.length;++te){const le=g[te];if(!le.da&&le.listener==T&&le.capture==!!j&&le.ha==z)return te}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),$e={};function ye(g,T,j,z,te){if(Array.isArray(T)){for(let le=0;le<T.length;le++)ye(g,T[le],j,z,te);return null}return j=st(j),g&&g[J]?g.J(T,j,c(z)?!!z.capture:!1,te):Ee(g,T,j,!1,z,te)}function Ee(g,T,j,z,te,le){if(!T)throw Error("Invalid event type");const Pe=c(te)?!!te.capture:!!te;let gt=Be(g);if(gt||(g[ke]=gt=new me(g)),j=gt.add(T,j,z,Pe,le),j.proxy)return j;if(z=Ne(),j.proxy=z,z.src=g,z.listener=j,g.addEventListener)B||(te=Pe),te===void 0&&(te=!1),g.addEventListener(T.toString(),z,te);else if(g.attachEvent)g.attachEvent(_e(T.toString()),z);else if(g.addListener&&g.removeListener)g.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return j}function Ne(){function g(j){return T.call(g.src,g.listener,j)}const T=Te;return g}function ne(g,T,j,z,te){if(Array.isArray(T))for(var le=0;le<T.length;le++)ne(g,T[le],j,z,te);else z=c(z)?!!z.capture:!!z,j=st(j),g&&g[J]?(g=g.i,le=String(T).toString(),le in g.g&&(T=g.g[le],j=Se(T,j,z,te),j>-1&&(ee(T[j]),Array.prototype.splice.call(T,j,1),T.length==0&&(delete g.g[le],g.h--)))):g&&(g=Be(g))&&(T=g.g[T.toString()],g=-1,T&&(g=Se(T,j,z,te)),(j=g>-1?T[g]:null)&&He(j))}function He(g){if(typeof g!="number"&&g&&!g.da){var T=g.src;if(T&&T[J])we(T.i,g);else{var j=g.type,z=g.proxy;T.removeEventListener?T.removeEventListener(j,z,g.capture):T.detachEvent?T.detachEvent(_e(j),z):T.addListener&&T.removeListener&&T.removeListener(z),(j=Be(T))?(we(j,g),j.h==0&&(j.src=null,T[ke]=null)):ee(g)}}}function _e(g){return g in $e?$e[g]:$e[g]="on"+g}function Te(g,T){if(g.da)g=!0;else{T=new Q(T,this);const j=g.listener,z=g.ha||g.src;g.fa&&He(g),g=j.call(z,T)}return g}function Be(g){return g=g[ke],g instanceof me?g:null}var Ke="__closure_events_fn_"+(Math.random()*1e9>>>0);function st(g){return typeof g=="function"?g:(g[Ke]||(g[Ke]=function(T){return g.handleEvent(T)}),g[Ke])}function We(){U.call(this),this.i=new me(this),this.M=this,this.G=null}m(We,U),We.prototype[J]=!0,We.prototype.removeEventListener=function(g,T,j,z){ne(this,g,T,j,z)};function qe(g,T){var j,z=g.G;if(z)for(j=[];z;z=z.G)j.push(z);if(g=g.M,z=T.type||T,typeof T=="string")T=new D(T,g);else if(T instanceof D)T.target=T.target||g;else{var te=T;T=new D(z,g),oe(T,te)}te=!0;let le,Pe;if(j)for(Pe=j.length-1;Pe>=0;Pe--)le=T.g=j[Pe],te=xt(le,z,!0,T)&&te;if(le=T.g=g,te=xt(le,z,!0,T)&&te,te=xt(le,z,!1,T)&&te,j)for(Pe=0;Pe<j.length;Pe++)le=T.g=j[Pe],te=xt(le,z,!1,T)&&te}We.prototype.N=function(){if(We.Z.N.call(this),this.i){var g=this.i;for(const T in g.g){const j=g.g[T];for(let z=0;z<j.length;z++)ee(j[z]);delete g.g[T],g.h--}}this.G=null},We.prototype.J=function(g,T,j,z){return this.i.add(String(g),T,!1,j,z)},We.prototype.K=function(g,T,j,z){return this.i.add(String(g),T,!0,j,z)};function xt(g,T,j,z){if(T=g.i.g[String(T)],!T)return!0;T=T.concat();let te=!0;for(let le=0;le<T.length;++le){const Pe=T[le];if(Pe&&!Pe.da&&Pe.capture==j){const gt=Pe.listener,Nn=Pe.ha||Pe.src;Pe.fa&&we(g.i,Pe),te=gt.call(Nn,z)!==!1&&te}}return te&&!z.defaultPrevented}function Dt(g,T){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=h(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:l.setTimeout(g,T||0)}function En(g){g.g=Dt(()=>{g.g=null,g.i&&(g.i=!1,En(g))},g.l);const T=g.h;g.h=null,g.m.apply(null,T)}class Ie extends U{constructor(T,j){super(),this.m=T,this.l=j,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:En(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ht(g){U.call(this),this.h=g,this.g={}}m(ht,U);var _t=[];function Vt(g){ue(g.g,function(T,j){this.g.hasOwnProperty(j)&&He(T)},g),g.g={}}ht.prototype.N=function(){ht.Z.N.call(this),Vt(this)},ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zt=l.JSON.stringify,en=l.JSON.parse,_n=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function Pt(){}function he(){}var Ae={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ge(){D.call(this,"d")}m(Ge,D);function Rt(){D.call(this,"c")}m(Rt,D);var ot={},Kt=null;function Nt(){return Kt=Kt||new We}ot.Ia="serverreachability";function dt(g){D.call(this,ot.Ia,g)}m(dt,D);function $t(g){const T=Nt();qe(T,new dt(T))}ot.STAT_EVENT="statevent";function Ue(g,T){D.call(this,ot.STAT_EVENT,g),this.stat=T}m(Ue,D);function Oe(g){const T=Nt();qe(T,new Ue(T,g))}ot.Ja="timingevent";function Me(g,T){D.call(this,ot.Ja,g),this.size=T}m(Me,D);function pt(g,T){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},T)}function Mt(){this.g=!0}Mt.prototype.ua=function(){this.g=!1};function or(g,T,j,z,te,le){g.info(function(){if(g.g)if(le){var Pe="",gt=le.split("&");for(let Ft=0;Ft<gt.length;Ft++){var Nn=gt[Ft].split("=");if(Nn.length>1){const gn=Nn[0];Nn=Nn[1];const _i=gn.split("_");Pe=_i.length>=2&&_i[1]=="type"?Pe+(gn+"="+Nn+"&"):Pe+(gn+"=redacted&")}}}else Pe=null;else Pe=le;return"XMLHTTP REQ ("+z+") [attempt "+te+"]: "+T+`
`+j+`
`+Pe})}function Vr(g,T,j,z,te,le,Pe){g.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+te+"]: "+T+`
`+j+`
`+le+" "+Pe})}function Dn(g,T,j,z){g.info(function(){return"XMLHTTP TEXT ("+T+"): "+af(g,j)+(z?" "+z:"")})}function Xr(g,T){g.info(function(){return"TIMEOUT: "+T})}Mt.prototype.info=function(){};function af(g,T){if(!g.g)return T;if(!T)return null;try{const le=JSON.parse(T);if(le){for(g=0;g<le.length;g++)if(Array.isArray(le[g])){var j=le[g];if(!(j.length<2)){var z=j[1];if(Array.isArray(z)&&!(z.length<1)){var te=z[0];if(te!="noop"&&te!="stop"&&te!="close")for(let Pe=1;Pe<z.length;Pe++)z[Pe]=""}}}}return Zt(le)}catch{return T}}var ja={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},No={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ko;function Da(){}m(Da,Pt),Da.prototype.g=function(){return new XMLHttpRequest},ko=new Da;function Li(g){return encodeURIComponent(String(g))}function Xl(g){var T=1;g=g.split(":");const j=[];for(;T>0&&g.length;)j.push(g.shift()),T--;return g.length&&j.push(g.join(":")),j}function Qr(g,T,j,z){this.j=g,this.i=T,this.l=j,this.S=z||1,this.V=new ht(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jr}function Jr(){this.i=null,this.g="",this.h=!1}var Pn={},Rn={};function $r(g,T,j){g.M=1,g.A=Re(Tn(T)),g.u=j,g.R=!0,Vi(g,null)}function Vi(g,T){g.F=Date.now(),mi(g),g.B=Tn(g.A);var j=g.B,z=g.S;Array.isArray(z)||(z=[String(z)]),tu(j.i,"t",z),g.C=0,j=g.j.L,g.h=new Jr,g.g=Zd(g.j,j?T:null,!g.u),g.P>0&&(g.O=new Ie(h(g.Y,g,g.g),g.P)),T=g.V,j=g.g,z=g.ba;var te="readystatechange";Array.isArray(te)||(te&&(_t[0]=te.toString()),te=_t);for(let le=0;le<te.length;le++){const Pe=ye(j,te[le],z||T.handleEvent,!1,T.h||T);if(!Pe)break;T.g[Pe.key]=Pe}T=g.J?F(g.J):{},g.u?(g.v||(g.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,T)):(g.v="GET",g.g.ea(g.B,g.v,null,T)),$t(),or(g.i,g.v,g.B,g.l,g.S,g.u)}Qr.prototype.ba=function(g){g=g.target;const T=this.O;T&&qi(g)==3?T.j():this.Y(g)},Qr.prototype.Y=function(g){try{if(g==this.g)e:{const gt=qi(this.g),Nn=this.g.ya(),Ft=this.g.ca();if(!(gt<3)&&(gt!=3||this.g&&(this.h.h||this.g.la()||ur(this.g)))){this.K||gt!=4||Nn==7||(Nn==8||Ft<=0?$t(3):$t(2)),_r(this);var T=this.g.ca();this.X=T;var j=As(this);if(this.o=T==200,Vr(this.i,this.v,this.B,this.l,this.S,gt,T),this.o){if(this.U&&!this.L){t:{if(this.g){var z,te=this.g;if((z=te.g?te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(z)){var le=z;break t}}le=null}if(g=le)Dn(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gi(this,g);else{this.o=!1,this.m=3,Oe(12),Rr(this),xr(this);break e}}if(this.R){g=!0;let gn;for(;!this.K&&this.C<j.length;)if(gn=Jl(this,j),gn==Rn){gt==4&&(this.m=4,Oe(14),g=!1),Dn(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==Pn){this.m=4,Oe(15),Dn(this.i,this.l,j,"[Invalid Chunk]"),g=!1;break}else Dn(this.i,this.l,gn,null),gi(this,gn);if(Ql(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||j.length!=0||this.h.h||(this.m=1,Oe(16),g=!1),this.o=this.o&&g,!g)Dn(this.i,this.l,j,"[Invalid Chunked Response]"),Rr(this),xr(this);else if(j.length>0&&!this.W){this.W=!0;var Pe=this.j;Pe.g==this&&Pe.aa&&!Pe.P&&(Pe.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),df(Pe),Pe.P=!0,Oe(11))}}else Dn(this.i,this.l,j,null),gi(this,j);gt==4&&Rr(this),this.o&&!this.K&&(gt==4?Yd(this.j,this):(this.o=!1,mi(this)))}else $a(this.g),T==400&&j.indexOf("Unknown SID")>0?(this.m=3,Oe(12)):(this.m=0,Oe(13)),Rr(this),xr(this)}}}catch{}finally{}};function As(g){if(!Ql(g))return g.g.la();const T=ur(g.g);if(T==="")return"";let j="";const z=T.length,te=qi(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return Rr(g),xr(g),"";g.h.i=new l.TextDecoder}for(let le=0;le<z;le++)g.h.h=!0,j+=g.h.i.decode(T[le],{stream:!(te&&le==z-1)});return T.length=0,g.h.g+=j,g.C=0,g.h.g}function Ql(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function Jl(g,T){var j=g.C,z=T.indexOf(`
`,j);return z==-1?Rn:(j=Number(T.substring(j,z)),isNaN(j)?Pn:(z+=1,z+j>T.length?Rn:(T=T.slice(z,z+j),g.C=z+j,T)))}Qr.prototype.cancel=function(){this.K=!0,Rr(this)};function mi(g){g.T=Date.now()+g.H,$i(g,g.H)}function $i(g,T){if(g.D!=null)throw Error("WatchDog timer not null");g.D=pt(h(g.aa,g),T)}function _r(g){g.D&&(l.clearTimeout(g.D),g.D=null)}Qr.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(Xr(this.i,this.B),this.M!=2&&($t(),Oe(17)),Rr(this),this.m=2,xr(this)):$i(this,this.T-g)};function xr(g){g.j.I==0||g.K||Yd(g.j,g)}function Rr(g){_r(g);var T=g.O;T&&typeof T.dispose=="function"&&T.dispose(),g.O=null,Vt(g.V),g.g&&(T=g.g,g.g=null,T.abort(),T.dispose())}function gi(g,T){try{var j=g.j;if(j.I!=0&&(j.g==g||yi(j.h,g))){if(!g.L&&yi(j.h,g)&&j.I==3){try{var z=j.Ba.g.parse(T)}catch{z=null}if(Array.isArray(z)&&z.length==3){var te=z;if(te[0]==0){e:if(!j.v){if(j.g)if(j.g.F+3e3<g.F)su(j),Ns(j);else break e;Fo(j),Oe(18)}}else j.xa=te[1],0<j.xa-j.K&&te[2]<37500&&j.F&&j.A==0&&!j.C&&(j.C=pt(h(j.Va,j),6e3));Zr(j.h)<=1&&j.ta&&(j.ta=void 0)}else ha(j,11)}else if((g.L||j.g==g)&&su(j),!V(T))for(te=j.Ba.g.parse(T),T=0;T<te.length;T++){let Ft=te[T];const gn=Ft[0];if(!(gn<=j.K))if(j.K=gn,Ft=Ft[1],j.I==2)if(Ft[0]=="c"){j.M=Ft[1],j.ba=Ft[2];const _i=Ft[3];_i!=null&&(j.ka=_i,j.j.info("VER="+j.ka));const da=Ft[4];da!=null&&(j.za=da,j.j.info("SVER="+j.za));const zi=Ft[5];zi!=null&&typeof zi=="number"&&zi>0&&(z=1.5*zi,j.O=z,j.j.info("backChannelRequestTimeoutMs_="+z)),z=j;const Fi=g.g;if(Fi){const Ho=Fi.g?Fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ho){var le=z.h;le.g||Ho.indexOf("spdy")==-1&&Ho.indexOf("quic")==-1&&Ho.indexOf("h2")==-1||(le.j=le.l,le.g=new Set,le.h&&(jo(le,le.h),le.h=null))}if(z.G){const ou=Fi.g?Fi.g.getResponseHeader("X-HTTP-Session-Id"):null;ou&&(z.wa=ou,ie(z.J,z.G,ou))}}j.I=3,j.l&&j.l.ra(),j.aa&&(j.T=Date.now()-g.F,j.j.info("Handshake RTT: "+j.T+"ms")),z=j;var Pe=g;if(z.na=Jd(z,z.L?z.ba:null,z.W),Pe.L){Do(z.h,Pe);var gt=Pe,Nn=z.O;Nn&&(gt.H=Nn),gt.D&&(_r(gt),mi(gt)),z.g=Pe}else Kd(z);j.i.length>0&&fa(j)}else Ft[0]!="stop"&&Ft[0]!="close"||ha(j,7);else j.I==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?ha(j,7):ff(j):Ft[0]!="noop"&&j.l&&j.l.qa(Ft),j.A=0)}}$t(4)}catch{}}var xn=class{constructor(g,T){this.g=g,this.map=T}};function Mo(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function La(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Zr(g){return g.h?1:g.g?g.g.size:0}function yi(g,T){return g.h?g.h==T:g.g?g.g.has(T):!1}function jo(g,T){g.g?g.g.add(T):g.h=T}function Do(g,T){g.h&&g.h==T?g.h=null:g.g&&g.g.has(T)&&g.g.delete(T)}Mo.prototype.cancel=function(){if(this.i=Lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Lo(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let T=g.i;for(const j of g.g.values())T=T.concat(j.G);return T}return _(g.i)}var Zl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Os(g,T){if(g){g=g.split("&");for(let j=0;j<g.length;j++){const z=g[j].indexOf("=");let te,le=null;z>=0?(te=g[j].substring(0,z),le=g[j].substring(z+1)):te=g[j],T(te,le?decodeURIComponent(le.replace(/\+/g," ")):"")}}}function Nr(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;g instanceof Nr?(this.l=g.l,Ln(this,g.j),this.o=g.o,this.g=g.g,aa(this,g.u),this.h=g.h,Vo(this,Hd(g.i)),this.m=g.m):g&&(T=String(g).match(Zl))?(this.l=!1,Ln(this,T[1]||"",!0),this.o=je(T[2]||""),this.g=je(T[3]||"",!0),aa(this,T[4]),this.h=je(T[5]||"",!0),Vo(this,T[6]||"",!0),this.m=je(T[7]||"")):(this.l=!1,this.i=new oa(null,this.l))}Nr.prototype.toString=function(){const g=[];var T=this.j;T&&g.push(Qe(T,mt,!0),":");var j=this.g;return(j||T=="file")&&(g.push("//"),(T=this.o)&&g.push(Qe(T,mt,!0),"@"),g.push(Li(j).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.u,j!=null&&g.push(":",String(j))),(j=this.h)&&(this.g&&j.charAt(0)!="/"&&g.push("/"),g.push(Qe(j,j.charAt(0)=="/"?wr:Lt,!0))),(j=this.i.toString())&&g.push("?",j),(j=this.m)&&g.push("#",Qe(j,eu)),g.join("")},Nr.prototype.resolve=function(g){const T=Tn(this);let j=!!g.j;j?Ln(T,g.j):j=!!g.o,j?T.o=g.o:j=!!g.g,j?T.g=g.g:j=g.u!=null;var z=g.h;if(j)aa(T,g.u);else if(j=!!g.h){if(z.charAt(0)!="/")if(this.g&&!this.h)z="/"+z;else{var te=T.h.lastIndexOf("/");te!=-1&&(z=T.h.slice(0,te+1)+z)}if(te=z,te==".."||te==".")z="";else if(te.indexOf("./")!=-1||te.indexOf("/.")!=-1){z=te.lastIndexOf("/",0)==0,te=te.split("/");const le=[];for(let Pe=0;Pe<te.length;){const gt=te[Pe++];gt=="."?z&&Pe==te.length&&le.push(""):gt==".."?((le.length>1||le.length==1&&le[0]!="")&&le.pop(),z&&Pe==te.length&&le.push("")):(le.push(gt),z=!0)}z=le.join("/")}else z=te}return j?T.h=z:j=g.i.toString()!=="",j?Vo(T,Hd(g.i)):j=!!g.m,j&&(T.m=g.m),T};function Tn(g){return new Nr(g)}function Ln(g,T,j){g.j=j?je(T,!0):T,g.j&&(g.j=g.j.replace(/:$/,""))}function aa(g,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);g.u=T}else g.u=null}function Vo(g,T,j){T instanceof oa?(g.i=T,nu(g.i,g.l)):(j||(T=Qe(T,sa)),g.i=new oa(T,g.l))}function ie(g,T,j){g.i.set(T,j)}function Re(g){return ie(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function je(g,T){return g?T?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Qe(g,T,j){return typeof g=="string"?(g=encodeURI(g).replace(T,lt),j&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function lt(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var mt=/[#\/\?@]/g,Lt=/[#\?:]/g,wr=/[#\?]/g,sa=/[#\?@]/g,eu=/#/g;function oa(g,T){this.h=this.g=null,this.i=g||null,this.j=!!T}function lr(g){g.g||(g.g=new Map,g.h=0,g.i&&Os(g.i,function(T,j){g.add(decodeURIComponent(T.replace(/\+/g," ")),j)}))}t=oa.prototype,t.add=function(g,T){lr(this),this.i=null,g=Cs(this,g);let j=this.g.get(g);return j||this.g.set(g,j=[]),j.push(T),this.h+=1,this};function Fd(g,T){lr(g),T=Cs(g,T),g.g.has(T)&&(g.i=null,g.h-=g.g.get(T).length,g.g.delete(T))}function sf(g,T){return lr(g),T=Cs(g,T),g.g.has(T)}t.forEach=function(g,T){lr(this),this.g.forEach(function(j,z){j.forEach(function(te){g.call(T,te,z,this)},this)},this)};function of(g,T){lr(g);let j=[];if(typeof T=="string")sf(g,T)&&(j=j.concat(g.g.get(Cs(g,T))));else for(g=Array.from(g.g.values()),T=0;T<g.length;T++)j=j.concat(g[T]);return j}t.set=function(g,T){return lr(this),this.i=null,g=Cs(this,g),sf(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[T]),this.h+=1,this},t.get=function(g,T){return g?(g=of(this,g),g.length>0?String(g[0]):T):T};function tu(g,T,j){Fd(g,T),j.length>0&&(g.i=null,g.g.set(Cs(g,T),_(j)),g.h+=j.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],T=Array.from(this.g.keys());for(let z=0;z<T.length;z++){var j=T[z];const te=Li(j);j=of(this,j);for(let le=0;le<j.length;le++){let Pe=te;j[le]!==""&&(Pe+="="+Li(j[le])),g.push(Pe)}}return this.i=g.join("&")};function Hd(g){const T=new oa;return T.i=g.i,g.g&&(T.g=new Map(g.g),T.h=g.h),T}function Cs(g,T){return T=String(T),g.j&&(T=T.toLowerCase()),T}function nu(g,T){T&&!g.j&&(lr(g),g.i=null,g.g.forEach(function(j,z){const te=z.toLowerCase();z!=te&&(Fd(this,z),tu(this,te,j))},g)),g.j=T}function Ui(g,T){const j=new Mt;if(l.Image){const z=new Image;z.onload=p(vi,j,"TestLoadImage: loaded",!0,T,z),z.onerror=p(vi,j,"TestLoadImage: error",!1,T,z),z.onabort=p(vi,j,"TestLoadImage: abort",!1,T,z),z.ontimeout=p(vi,j,"TestLoadImage: timeout",!1,T,z),l.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=g}else T(!1)}function lf(g,T){const j=new Mt,z=new AbortController,te=setTimeout(()=>{z.abort(),vi(j,"TestPingServer: timeout",!1,T)},1e4);fetch(g,{signal:z.signal}).then(le=>{clearTimeout(te),le.ok?vi(j,"TestPingServer: ok",!0,T):vi(j,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(te),vi(j,"TestPingServer: error",!1,T)})}function vi(g,T,j,z,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),z(j)}catch{}}function Is(){this.g=new _n}function la(g){this.i=g.Sb||null,this.h=g.ab||!1}m(la,Pt),la.prototype.g=function(){return new $o(this.i,this.h)};function $o(g,T){We.call(this),this.H=g,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m($o,We),t=$o.prototype,t.open=function(g,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=T,this.readyState=1,Bi(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(T.body=g),(this.H||l).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ps(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Bi(this)),this.g&&(this.readyState=3,Bi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ru(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function ru(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var T=g.value?g.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!g.done}))&&(this.response=this.responseText+=T)}g.done?Ps(this):Bi(this),this.readyState==3&&ru(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,Ps(this))},t.Na=function(g){this.g&&(this.response=g,Ps(this))},t.ga=function(){this.g&&Ps(this)};function Ps(g){g.readyState=4,g.l=null,g.j=null,g.B=null,Bi(g)}t.setRequestHeader=function(g,T){this.A.append(g,T)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],T=this.h.entries();for(var j=T.next();!j.done;)j=j.value,g.push(j[0]+": "+j[1]),j=T.next();return g.join(`\r
`)};function Bi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty($o.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function bi(g){let T="";return ue(g,function(j,z){T+=z,T+=":",T+=j,T+=`\r
`}),T}function Uo(g,T,j){e:{for(z in j){var z=!1;break e}z=!0}z||(j=bi(j),typeof g=="string"?j!=null&&Li(j):ie(g,T,j))}function tn(g){We.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(tn,We);var ua=/^https?$/i,uf=["POST","PUT"];t=tn.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,T,j,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);T=T?T.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ko.g(),this.g.onreadystatechange=v(h(this.Ca,this));try{this.B=!0,this.g.open(T,String(g),!0),this.B=!1}catch(le){Bo(this,le);return}if(g=j||"",j=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var te in z)j.set(te,z[te]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const le of z.keys())j.set(le,z.get(le));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(j.keys()).find(le=>le.toLowerCase()=="content-type"),te=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(uf,T,void 0)>=0)||z||te||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[le,Pe]of j)this.g.setRequestHeader(le,Pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(le){Bo(this,le)}};function Bo(g,T){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=T,g.o=5,cf(g),Va(g)}function cf(g){g.A||(g.A=!0,qe(g,"complete"),qe(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,qe(this,"complete"),qe(this,"abort"),Va(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Va(this,!0)),tn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?qo(this):this.Xa())},t.Xa=function(){qo(this)};function qo(g){if(g.h&&typeof s<"u"){if(g.v&&qi(g)==4)setTimeout(g.Ca.bind(g),0);else if(qe(g,"readystatechange"),qi(g)==4){g.h=!1;try{const le=g.ca();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var j;if(!(j=T)){var z;if(z=le===0){let Pe=String(g.D).match(Zl)[1]||null;!Pe&&l.self&&l.self.location&&(Pe=l.self.location.protocol.slice(0,-1)),z=!ua.test(Pe?Pe.toLowerCase():"")}j=z}if(j)qe(g,"complete"),qe(g,"success");else{g.o=6;try{var te=qi(g)>2?g.g.statusText:""}catch{te=""}g.l=te+" ["+g.ca()+"]",cf(g)}}finally{Va(g)}}}}function Va(g,T){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const j=g.g;g.g=null,T||qe(g,"ready");try{j.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function qi(g){return g.g?g.g.readyState:0}t.ca=function(){try{return qi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var T=this.g.responseText;return g&&T.indexOf(g)==0&&(T=T.substring(g.length)),en(T)}};function ur(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function $a(g){const T={};g=(g.g&&qi(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<g.length;z++){if(V(g[z]))continue;var j=Xl(g[z]);const te=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const le=T[te]||[];T[te]=le,le.push(j)}ve(T,function(z){return z.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ca(g,T,j){return j&&j.internalChannelParams&&j.internalChannelParams[g]||T}function Rs(g){this.za=0,this.i=[],this.j=new Mt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ca("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ca("baseRetryDelayMs",5e3,g),this.Za=ca("retryDelaySeedMs",1e4,g),this.Ta=ca("forwardChannelMaxRetries",2,g),this.va=ca("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new Mo(g&&g.concurrentRequestLimit),this.Ba=new Is,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Rs.prototype,t.ka=8,t.I=1,t.connect=function(g,T,j,z){Oe(0),this.W=g,this.H=T||{},j&&z!==void 0&&(this.H.OSID=j,this.H.OAID=z),this.F=this.X,this.J=Jd(this,null,this.W),fa(this)};function ff(g){if(iu(g),g.I==3){var T=g.V++,j=Tn(g.J);if(ie(j,"SID",g.M),ie(j,"RID",T),ie(j,"TYPE","terminate"),zo(g,j),T=new Qr(g,g.j,T),T.M=2,T.A=Re(Tn(j)),j=!1,l.navigator&&l.navigator.sendBeacon)try{j=l.navigator.sendBeacon(T.A.toString(),"")}catch{}!j&&l.Image&&(new Image().src=T.A,j=!0),j||(T.g=Zd(T.j,null),T.g.ea(T.A)),T.F=Date.now(),mi(T)}Qd(g)}function Ns(g){g.g&&(df(g),g.g.cancel(),g.g=null)}function iu(g){Ns(g),g.v&&(l.clearTimeout(g.v),g.v=null),su(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function fa(g){if(!La(g.h)&&!g.m){g.m=!0;var T=g.Ea;C||P(),M||(C(),M=!0),A.add(T,g),g.D=0}}function au(g,T){return Zr(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=T.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=pt(h(g.Ea,g,T),Xd(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const te=new Qr(this,this.j,g);let le=this.o;if(this.U&&(le?(le=F(le),oe(le,this.U)):le=this.U),this.u!==null||this.R||(te.J=le,le=null),this.S)e:{for(var T=0,j=0;j<this.i.length;j++){t:{var z=this.i[j];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(T+=z,T>4096){T=j;break e}if(T===4096||j===this.i.length-1){T=j+1;break e}}T=1e3}else T=1e3;T=Gd(this,te,T),j=Tn(this.J),ie(j,"RID",g),ie(j,"CVER",22),this.G&&ie(j,"X-HTTP-Session-Id",this.G),zo(this,j),le&&(this.R?T="headers="+Li(bi(le))+"&"+T:this.u&&Uo(j,this.u,le)),jo(this.h,te),this.Ra&&ie(j,"TYPE","init"),this.S?(ie(j,"$req",T),ie(j,"SID","null"),te.U=!0,$r(te,j,null)):$r(te,j,T),this.I=2}}else this.I==3&&(g?hf(this,g):this.i.length==0||La(this.h)||hf(this))};function hf(g,T){var j;T?j=T.l:j=g.V++;const z=Tn(g.J);ie(z,"SID",g.M),ie(z,"RID",j),ie(z,"AID",g.K),zo(g,z),g.u&&g.o&&Uo(z,g.u,g.o),j=new Qr(g,g.j,j,g.D+1),g.u===null&&(j.J=g.o),T&&(g.i=T.G.concat(g.i)),T=Gd(g,j,1e3),j.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),jo(g.h,j),$r(j,z,T)}function zo(g,T){g.H&&ue(g.H,function(j,z){ie(T,z,j)}),g.l&&ue({},function(j,z){ie(T,z,j)})}function Gd(g,T,j){j=Math.min(g.i.length,j);const z=g.l?h(g.l.Ka,g.l,g):null;e:{var te=g.i;let gt=-1;for(;;){const Nn=["count="+j];gt==-1?j>0?(gt=te[0].g,Nn.push("ofs="+gt)):gt=0:Nn.push("ofs="+gt);let Ft=!0;for(let gn=0;gn<j;gn++){var le=te[gn].g;const _i=te[gn].map;if(le-=gt,le<0)gt=Math.max(0,te[gn].g-100),Ft=!1;else try{le="req"+le+"_"||"";try{var Pe=_i instanceof Map?_i:Object.entries(_i);for(const[da,zi]of Pe){let Fi=zi;c(zi)&&(Fi=Zt(zi)),Nn.push(le+da+"="+encodeURIComponent(Fi))}}catch(da){throw Nn.push(le+"type="+encodeURIComponent("_badmap")),da}}catch{z&&z(_i)}}if(Ft){Pe=Nn.join("&");break e}}Pe=void 0}return g=g.i.splice(0,j),T.G=g,Pe}function Kd(g){if(!g.g&&!g.v){g.Y=1;var T=g.Da;C||P(),M||(C(),M=!0),A.add(T,g),g.A=0}}function Fo(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=pt(h(g.Da,g),Xd(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,Wd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=pt(h(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Oe(10),Ns(this),Wd(this))};function df(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function Wd(g){g.g=new Qr(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var T=Tn(g.na);ie(T,"RID","rpc"),ie(T,"SID",g.M),ie(T,"AID",g.K),ie(T,"CI",g.F?"0":"1"),!g.F&&g.ia&&ie(T,"TO",g.ia),ie(T,"TYPE","xmlhttp"),zo(g,T),g.u&&g.o&&Uo(T,g.u,g.o),g.O&&(g.g.H=g.O);var j=g.g;g=g.ba,j.M=1,j.A=Re(Tn(T)),j.u=null,j.R=!0,Vi(j,g)}t.Va=function(){this.C!=null&&(this.C=null,Ns(this),Fo(this),Oe(19))};function su(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function Yd(g,T){var j=null;if(g.g==T){su(g),df(g),g.g=null;var z=2}else if(yi(g.h,T))j=T.G,Do(g.h,T),z=1;else return;if(g.I!=0){if(T.o)if(z==1){j=T.u?T.u.length:0,T=Date.now()-T.F;var te=g.D;z=Nt(),qe(z,new Me(z,j)),fa(g)}else Kd(g);else if(te=T.m,te==3||te==0&&T.X>0||!(z==1&&au(g,T)||z==2&&Fo(g)))switch(j&&j.length>0&&(T=g.h,T.i=T.i.concat(j)),te){case 1:ha(g,5);break;case 4:ha(g,10);break;case 3:ha(g,6);break;default:ha(g,2)}}}function Xd(g,T){let j=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(j*=2),j*T}function ha(g,T){if(g.j.info("Error code "+T),T==2){var j=h(g.bb,g),z=g.Ua;const te=!z;z=new Nr(z||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ln(z,"https"),Re(z),te?Ui(z.toString(),j):lf(z.toString(),j)}else Oe(2);g.I=0,g.l&&g.l.pa(T),Qd(g),iu(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),Oe(2)):(this.j.info("Failed to ping google.com"),Oe(1))};function Qd(g){if(g.I=0,g.ja=[],g.l){const T=Lo(g.h);(T.length!=0||g.i.length!=0)&&(E(g.ja,T),E(g.ja,g.i),g.h.i.length=0,_(g.i),g.i.length=0),g.l.oa()}}function Jd(g,T,j){var z=j instanceof Nr?Tn(j):new Nr(j);if(z.g!="")T&&(z.g=T+"."+z.g),aa(z,z.u);else{var te=l.location;z=te.protocol,T=T?T+"."+te.hostname:te.hostname,te=+te.port;const le=new Nr(null);z&&Ln(le,z),T&&(le.g=T),te&&aa(le,te),j&&(le.h=j),z=le}return j=g.G,T=g.wa,j&&T&&ie(z,j,T),ie(z,"VER",g.ka),zo(g,z),z}function Zd(g,T,j){if(T&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=g.Aa&&!g.ma?new tn(new la({ab:j})):new tn(g.ma),T.Fa(g.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ep(){}t=ep.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ks(){}ks.prototype.g=function(g,T){return new kr(g,T)};function kr(g,T){We.call(this),this.g=new Rs(T),this.l=g,this.h=T&&T.messageUrlParams||null,g=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(g?g["X-WebChannel-Content-Type"]=T.messageContentType:g={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(g?g["X-WebChannel-Client-Profile"]=T.sa:g={"X-WebChannel-Client-Profile":T.sa}),this.g.U=g,(g=T&&T.Qb)&&!V(g)&&(this.g.u=g),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!V(T)&&(this.g.G=T,g=this.h,g!==null&&T in g&&(g=this.h,T in g&&delete g[T])),this.j=new Ua(this)}m(kr,We),kr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},kr.prototype.close=function(){ff(this.g)},kr.prototype.o=function(g){var T=this.g;if(typeof g=="string"){var j={};j.__data__=g,g=j}else this.v&&(j={},j.__data__=Zt(g),g=j);T.i.push(new xn(T.Ya++,g)),T.I==3&&fa(T)},kr.prototype.N=function(){this.g.l=null,delete this.j,ff(this.g),delete this.g,kr.Z.N.call(this)};function tp(g){Ge.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var T=g.__sm__;if(T){e:{for(const j in T){g=j;break e}g=void 0}(this.i=g)&&(g=this.i,T=T!==null&&g in T?T[g]:void 0),this.data=T}else this.data=g}m(tp,Ge);function np(){Rt.call(this),this.status=1}m(np,Rt);function Ua(g){this.g=g}m(Ua,ep),Ua.prototype.ra=function(){qe(this.g,"a")},Ua.prototype.qa=function(g){qe(this.g,new tp(g))},Ua.prototype.pa=function(g){qe(this.g,new np)},Ua.prototype.oa=function(){qe(this.g,"b")},ks.prototype.createWebChannel=ks.prototype.g,kr.prototype.send=kr.prototype.o,kr.prototype.open=kr.prototype.m,kr.prototype.close=kr.prototype.close,n3=function(){return new ks},t3=function(){return Nt()},e3=ot,B1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ja.NO_ERROR=0,ja.TIMEOUT=8,ja.HTTP_ERROR=6,Rm=ja,No.COMPLETE="complete",Z4=No,he.EventType=Ae,Ae.OPEN="a",Ae.CLOSE="b",Ae.ERROR="c",Ae.MESSAGE="d",We.prototype.listen=We.prototype.J,fh=he,tn.prototype.listenOnce=tn.prototype.K,tn.prototype.getLastError=tn.prototype.Ha,tn.prototype.getLastErrorCode=tn.prototype.ya,tn.prototype.getStatus=tn.prototype.ca,tn.prototype.getResponseJson=tn.prototype.La,tn.prototype.getResponseText=tn.prototype.la,tn.prototype.send=tn.prototype.ea,tn.prototype.setWithCredentials=tn.prototype.Fa,J4=tn}).apply(typeof lm<"u"?lm:typeof self<"u"?self:typeof window<"u"?window:{});const VI="@firebase/firestore",$I="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ar.UNAUTHENTICATED=new Ar(null),Ar.GOOGLE_CREDENTIALS=new Ar("google-credentials-uid"),Ar.FIRST_PARTY=new Ar("first-party-uid"),Ar.MOCK_USER=new Ar("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl=new jE("@firebase/firestore");function Fu(){return Nl.logLevel}function De(t,...e){if(Nl.logLevel<=Ot.DEBUG){const n=e.map(WE);Nl.debug(`Firestore (${Gc}): ${t}`,...n)}}function gs(t,...e){if(Nl.logLevel<=Ot.ERROR){const n=e.map(WE);Nl.error(`Firestore (${Gc}): ${t}`,...n)}}function fc(t,...e){if(Nl.logLevel<=Ot.WARN){const n=e.map(WE);Nl.warn(`Firestore (${Gc}): ${t}`,...n)}}function WE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,r3(t,r,n)}function r3(t,e,n){let r=`FIRESTORE (${Gc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw gs(r),new Error(r)}function Xt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||r3(e,i,r)}function ft(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends xs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class H8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Ar.UNAUTHENTICATED)))}shutdown(){}}class G8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class K8{constructor(e){this.t=e,this.currentUser=Ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xt(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let s=new yo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new yo,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},c=f=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>c(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new yo)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xt(typeof r.accessToken=="string",31837,{l:r}),new i3(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xt(e===null||typeof e=="string",2055,{h:e}),new Ar(e)}}class W8{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ar.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Y8{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new W8(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Ar.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class UI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class X8{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ji(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xt(this.o===void 0,3512);const r=s=>{s.error!=null&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,De("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new UI(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Xt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new UI(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Q8(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Ct(t,e){return t<e?-1:t>e?1:0}function q1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return xb(i)===xb(s)?Ct(i,s):xb(i)?1:-1}return Ct(t.length,e.length)}const J8=55296,Z8=57343;function xb(t){const e=t.charCodeAt(0);return e>=J8&&e<=Z8}function hc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="__name__";class va{constructor(e,n,r){n===void 0?n=0:n>e.length&&nt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&nt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return va.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof va?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=va.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Ct(e.length,n.length)}static compareSegments(e,n){const r=va.isNumericId(e),i=va.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?va.extractNumericId(e).compare(va.extractNumericId(n)):q1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return go.fromString(e.substring(4,e.length-2))}}class wn extends va{construct(e,n,r){return new wn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Fe(xe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new wn(n)}static emptyPath(){return new wn([])}}const e7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vr extends va{construct(e,n,r){return new vr(e,n,r)}static isValidIdentifier(e){return e7.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===BI}static keyField(){return new vr([BI])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Fe(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Fe(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Fe(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(s(),i++)}if(s(),l)throw new Fe(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vr(n)}static emptyPath(){return new vr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.path=e}static fromPath(e){return new Ze(wn.fromString(e))}static fromName(e){return new Ze(wn.fromString(e).popFirst(5))}static empty(){return new Ze(wn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ze(new wn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t7(t,e,n){if(!n)throw new Fe(xe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function n7(t,e,n,r){if(e===!0&&r===!0)throw new Fe(xe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function qI(t){if(!Ze.isDocumentKey(t))throw new Fe(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function a3(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function XE(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":nt(12329,{type:typeof t})}function kl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Fe(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=XE(t);throw new Fe(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Id(t,e){if(!a3(t))throw new Fe(xe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Fe(xe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=-62135596800,FI=1e6;class mn{static now(){return mn.fromMillis(Date.now())}static fromDate(e){return mn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*FI);return new mn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Fe(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Fe(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<zI)throw new Fe(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/FI}_compareTo(e){return this.seconds===e.seconds?Ct(this.nanoseconds,e.nanoseconds):Ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Id(e,mn._jsonSchema))return new mn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-zI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mn._jsonSchemaVersion="firestore/timestamp/1.0",mn._jsonSchema={type:Fn("string",mn._jsonSchemaVersion),seconds:Fn("number"),nanoseconds:Fn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{static fromTimestamp(e){return new at(e)}static min(){return new at(new mn(0,0))}static max(){return new at(new mn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=-1;function r7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=at.fromTimestamp(r===1e9?new mn(n+1,0):new mn(n,r));return new _o(i,Ze.empty(),e)}function i7(t){return new _o(t.readTime,t.key,Mh)}class _o{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new _o(at.min(),Ze.empty(),Mh)}static max(){return new _o(at.max(),Ze.empty(),Mh)}}function a7(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ze.comparator(t.documentKey,e.documentKey),n!==0?n:Ct(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class o7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kc(t){if(t.code!==xe.FAILED_PRECONDITION||t.message!==s7)throw t;De("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&nt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new be(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof be?n:be.resolve(n)}catch(n){return be.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):be.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):be.reject(n)}static resolve(e){return new be(((n,r)=>{n(e)}))}static reject(e){return new be(((n,r)=>{r(e)}))}static waitFor(e){return new be(((n,r)=>{let i=0,s=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++s,l&&s===i&&n()}),(f=>r(f)))})),l=!0,s===i&&n()}))}static or(e){let n=be.resolve(!1);for(const r of e)n=n.next((i=>i?be.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new be(((r,i)=>{const s=e.length,l=new Array(s);let c=0;for(let f=0;f<s;f++){const h=f;n(e[h]).next((p=>{l[h]=p,++c,c===s&&r(l)}),(p=>i(p)))}}))}static doWhile(e,n){return new be(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function l7(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}fy.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=-1;function hy(t){return t==null}function Gm(t){return t===0&&1/t==-1/0}function u7(t){return typeof t=="number"&&Number.isInteger(t)&&!Gm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3="";function c7(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=HI(e)),e=f7(t.get(n),e);return HI(e)}function f7(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case s3:n+="";break;default:n+=s}}return n}function HI(t){return t+s3+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ao(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function o3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n){this.comparator=e,this.root=n||mr.EMPTY}insert(e,n){return new Sn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mr.BLACK,null,null))}remove(e){return new Sn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new um(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new um(this.root,e,this.comparator,!1)}getReverseIterator(){return new um(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new um(this.root,e,this.comparator,!0)}}class um{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??mr.RED,this.left=i??mr.EMPTY,this.right=s??mr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new mr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return mr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return mr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw nt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw nt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw nt(27949);return e+(this.isRed()?0:1)}}mr.EMPTY=null,mr.RED=!0,mr.BLACK=!1;mr.EMPTY=new class{constructor(){this.size=0}get key(){throw nt(57766)}get value(){throw nt(16141)}get color(){throw nt(16727)}get left(){throw nt(29726)}get right(){throw nt(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new mr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.comparator=e,this.data=new Sn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new KI(this.data.getIterator())}getIteratorFrom(e){return new KI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Zn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Zn(this.comparator);return n.data=e,n}}class KI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this.fields=e,e.sort(vr.comparator)}static empty(){return new hi([])}unionWith(e){let n=new Zn(vr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new hi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return hc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new l3("Invalid base64 string: "+s):s}})(e);return new br(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new br(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}br.EMPTY_BYTE_STRING=new br("");const h7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xo(t){if(Xt(!!t,39018),typeof t=="string"){let e=0;const n=h7.exec(t);if(Xt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:jn(t.seconds),nanos:jn(t.nanos)}}function jn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function wo(t){return typeof t=="string"?br.fromBase64String(t):br.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3="server_timestamp",c3="__type__",f3="__previous_value__",h3="__local_write_time__";function JE(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[c3])==null?void 0:r.stringValue)===u3}function dy(t){const e=t.mapValue.fields[f3];return JE(e)?dy(e):e}function jh(t){const e=xo(t.mapValue.fields[h3].timestampValue);return new mn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(e,n,r,i,s,l,c,f,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=p}}const Km="(default)";class Dh{constructor(e,n){this.projectId=e,this.database=n||Km}static empty(){return new Dh("","")}get isDefaultDatabase(){return this.database===Km}isEqual(e){return e instanceof Dh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3="__type__",p7="__max__",cm={mapValue:{}},p3="__vector__",Wm="value";function So(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?JE(t)?4:g7(t)?9007199254740991:m7(t)?10:11:nt(28295,{value:t})}function Ia(t,e){if(t===e)return!0;const n=So(t);if(n!==So(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return jh(t).isEqual(jh(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=xo(i.timestampValue),c=xo(s.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return wo(i.bytesValue).isEqual(wo(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return jn(i.geoPointValue.latitude)===jn(s.geoPointValue.latitude)&&jn(i.geoPointValue.longitude)===jn(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return jn(i.integerValue)===jn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=jn(i.doubleValue),c=jn(s.doubleValue);return l===c?Gm(l)===Gm(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return hc(t.arrayValue.values||[],e.arrayValue.values||[],Ia);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},c=s.mapValue.fields||{};if(GI(l)!==GI(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!Ia(l[f],c[f])))return!1;return!0})(t,e);default:return nt(52216,{left:t})}}function Lh(t,e){return(t.values||[]).find((n=>Ia(n,e)))!==void 0}function dc(t,e){if(t===e)return 0;const n=So(t),r=So(e);if(n!==r)return Ct(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ct(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const c=jn(s.integerValue||s.doubleValue),f=jn(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1})(t,e);case 3:return WI(t.timestampValue,e.timestampValue);case 4:return WI(jh(t),jh(e));case 5:return q1(t.stringValue,e.stringValue);case 6:return(function(s,l){const c=wo(s),f=wo(l);return c.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const c=s.split("/"),f=l.split("/");for(let h=0;h<c.length&&h<f.length;h++){const p=Ct(c[h],f[h]);if(p!==0)return p}return Ct(c.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const c=Ct(jn(s.latitude),jn(l.latitude));return c!==0?c:Ct(jn(s.longitude),jn(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return YI(t.arrayValue,e.arrayValue);case 10:return(function(s,l){var v,_,E,S;const c=s.fields||{},f=l.fields||{},h=(v=c[Wm])==null?void 0:v.arrayValue,p=(_=f[Wm])==null?void 0:_.arrayValue,m=Ct(((E=h==null?void 0:h.values)==null?void 0:E.length)||0,((S=p==null?void 0:p.values)==null?void 0:S.length)||0);return m!==0?m:YI(h,p)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===cm.mapValue&&l===cm.mapValue)return 0;if(s===cm.mapValue)return 1;if(l===cm.mapValue)return-1;const c=s.fields||{},f=Object.keys(c),h=l.fields||{},p=Object.keys(h);f.sort(),p.sort();for(let m=0;m<f.length&&m<p.length;++m){const v=q1(f[m],p[m]);if(v!==0)return v;const _=dc(c[f[m]],h[p[m]]);if(_!==0)return _}return Ct(f.length,p.length)})(t.mapValue,e.mapValue);default:throw nt(23264,{he:n})}}function WI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ct(t,e);const n=xo(t),r=xo(e),i=Ct(n.seconds,r.seconds);return i!==0?i:Ct(n.nanos,r.nanos)}function YI(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=dc(n[i],r[i]);if(s)return s}return Ct(n.length,r.length)}function pc(t){return z1(t)}function z1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=xo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return wo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ze.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=z1(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${z1(n.fields[l])}`;return i+"}"})(t.mapValue):nt(61005,{value:t})}function Nm(t){switch(So(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dy(t);return e?16+Nm(e):16;case 5:return 2*t.stringValue.length;case 6:return wo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Nm(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Ao(r.fields,((s,l)=>{i+=s.length+Nm(l)})),i})(t.mapValue);default:throw nt(13486,{value:t})}}function F1(t){return!!t&&"integerValue"in t}function ZE(t){return!!t&&"arrayValue"in t}function XI(t){return!!t&&"nullValue"in t}function QI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function km(t){return!!t&&"mapValue"in t}function m7(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[d3])==null?void 0:r.stringValue)===p3}function xh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ao(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=xh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xh(t.arrayValue.values[n]);return e}return{...t}}function g7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===p7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.value=e}static empty(){return new Kr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!km(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xh(n)}setAll(e){let n=vr.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=xh(l):i.push(c.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());km(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ia(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];km(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ao(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Kr(xh(this.value))}}function m3(t){const e=[];return Ao(t.fields,((n,r)=>{const i=new vr([n]);if(km(r)){const s=m3(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new hi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,n,r,i,s,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Or(e,0,at.min(),at.min(),at.min(),Kr.empty(),0)}static newFoundDocument(e,n,r,i){return new Or(e,1,n,at.min(),r,i,0)}static newNoDocument(e,n){return new Or(e,2,n,at.min(),at.min(),Kr.empty(),0)}static newUnknownDocument(e,n){return new Or(e,3,n,at.min(),at.min(),Kr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(at.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=at.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Or&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Or(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n){this.position=e,this.inclusive=n}}function JI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=Ze.comparator(Ze.fromName(l.referenceValue),n.key):r=dc(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function ZI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ia(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n="asc"){this.field=e,this.dir=n}}function y7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{}class Yn extends g3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new b7(e,n,r):n==="array-contains"?new w7(e,r):n==="in"?new S7(e,r):n==="not-in"?new E7(e,r):n==="array-contains-any"?new T7(e,r):new Yn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new _7(e,r):new x7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(dc(n,this.value)):n!==null&&So(this.value)===So(n)&&this.matchesComparison(dc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return nt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pa extends g3{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Pa(e,n)}matches(e){return y3(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function y3(t){return t.op==="and"}function v3(t){return v7(t)&&y3(t)}function v7(t){for(const e of t.filters)if(e instanceof Pa)return!1;return!0}function H1(t){if(t instanceof Yn)return t.field.canonicalString()+t.op.toString()+pc(t.value);if(v3(t))return t.filters.map((e=>H1(e))).join(",");{const e=t.filters.map((n=>H1(n))).join(",");return`${t.op}(${e})`}}function b3(t,e){return t instanceof Yn?(function(r,i){return i instanceof Yn&&r.op===i.op&&r.field.isEqual(i.field)&&Ia(r.value,i.value)})(t,e):t instanceof Pa?(function(r,i){return i instanceof Pa&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,l,c)=>s&&b3(l,i.filters[c])),!0):!1})(t,e):void nt(19439)}function _3(t){return t instanceof Yn?(function(n){return`${n.field.canonicalString()} ${n.op} ${pc(n.value)}`})(t):t instanceof Pa?(function(n){return n.op.toString()+" {"+n.getFilters().map(_3).join(" ,")+"}"})(t):"Filter"}class b7 extends Yn{constructor(e,n,r){super(e,n,r),this.key=Ze.fromName(r.referenceValue)}matches(e){const n=Ze.comparator(e.key,this.key);return this.matchesComparison(n)}}class _7 extends Yn{constructor(e,n){super(e,"in",n),this.keys=x3("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class x7 extends Yn{constructor(e,n){super(e,"not-in",n),this.keys=x3("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function x3(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Ze.fromName(r.referenceValue)))}class w7 extends Yn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ZE(n)&&Lh(n.arrayValue,this.value)}}class S7 extends Yn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Lh(this.value.arrayValue,n)}}class E7 extends Yn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Lh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Lh(this.value.arrayValue,n)}}class T7 extends Yn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ZE(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Lh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(e,n=null,r=[],i=[],s=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=c,this.Te=null}}function eP(t,e=null,n=[],r=[],i=null,s=null,l=null){return new A7(t,e,n,r,i,s,l)}function eT(t){const e=ft(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>H1(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),hy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>pc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>pc(r))).join(",")),e.Te=n}return e.Te}function tT(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!y7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!b3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ZI(t.startAt,e.startAt)&&ZI(t.endAt,e.endAt)}function G1(t){return Ze.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n=null,r=[],i=[],s=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=c,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function O7(t,e,n,r,i,s,l,c){return new py(t,e,n,r,i,s,l,c)}function nT(t){return new py(t)}function tP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function C7(t){return t.collectionGroup!==null}function wh(t){const e=ft(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Zn(vr.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Xm(s,r))})),n.has(vr.keyField().canonicalString())||e.Ie.push(new Xm(vr.keyField(),r))}return e.Ie}function xa(t){const e=ft(t);return e.Ee||(e.Ee=I7(e,wh(t))),e.Ee}function I7(t,e){if(t.limitType==="F")return eP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Xm(i.field,s)}));const n=t.endAt?new Ym(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ym(t.startAt.position,t.startAt.inclusive):null;return eP(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function K1(t,e,n){return new py(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function my(t,e){return tT(xa(t),xa(e))&&t.limitType===e.limitType}function w3(t){return`${eT(xa(t))}|lt:${t.limitType}`}function Hu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>_3(i))).join(", ")}]`),hy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>pc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>pc(i))).join(",")),`Target(${r})`})(xa(t))}; limitType=${t.limitType})`}function gy(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ze.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of wh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,f){const h=JI(l,c,f);return l.inclusive?h<=0:h<0})(r.startAt,wh(r),i)||r.endAt&&!(function(l,c,f){const h=JI(l,c,f);return l.inclusive?h>=0:h>0})(r.endAt,wh(r),i))})(t,e)}function P7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function S3(t){return(e,n)=>{let r=!1;for(const i of wh(t)){const s=R7(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function R7(t,e,n){const r=t.field.isKeyField()?Ze.comparator(e.key,n.key):(function(s,l,c){const f=l.data.field(s),h=c.data.field(s);return f!==null&&h!==null?dc(f,h):nt(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return nt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ao(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return o3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N7=new Sn(Ze.comparator);function ys(){return N7}const E3=new Sn(Ze.comparator);function hh(...t){let e=E3;for(const n of t)e=e.insert(n.key,n);return e}function T3(t){let e=E3;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function _l(){return Sh()}function A3(){return Sh()}function Sh(){return new ql((t=>t.toString()),((t,e)=>t.isEqual(e)))}const k7=new Sn(Ze.comparator),M7=new Zn(Ze.comparator);function It(...t){let e=M7;for(const n of t)e=e.add(n);return e}const j7=new Zn(Ct);function D7(){return j7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gm(e)?"-0":e}}function O3(t){return{integerValue:""+t}}function L7(t,e){return u7(e)?O3(e):rT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(){this._=void 0}}function V7(t,e,n){return t instanceof Qm?(function(i,s){const l={fields:{[c3]:{stringValue:u3},[h3]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&JE(s)&&(s=dy(s)),s&&(l.fields[f3]=s),{mapValue:l}})(n,e):t instanceof Vh?I3(t,e):t instanceof $h?P3(t,e):(function(i,s){const l=C3(i,s),c=nP(l)+nP(i.Ae);return F1(l)&&F1(i.Ae)?O3(c):rT(i.serializer,c)})(t,e)}function $7(t,e,n){return t instanceof Vh?I3(t,e):t instanceof $h?P3(t,e):n}function C3(t,e){return t instanceof Jm?(function(r){return F1(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class Qm extends yy{}class Vh extends yy{constructor(e){super(),this.elements=e}}function I3(t,e){const n=R3(e);for(const r of t.elements)n.some((i=>Ia(i,r)))||n.push(r);return{arrayValue:{values:n}}}class $h extends yy{constructor(e){super(),this.elements=e}}function P3(t,e){let n=R3(e);for(const r of t.elements)n=n.filter((i=>!Ia(i,r)));return{arrayValue:{values:n}}}class Jm extends yy{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function nP(t){return jn(t.integerValue||t.doubleValue)}function R3(t){return ZE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function U7(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Vh&&i instanceof Vh||r instanceof $h&&i instanceof $h?hc(r.elements,i.elements,Ia):r instanceof Jm&&i instanceof Jm?Ia(r.Ae,i.Ae):r instanceof Qm&&i instanceof Qm})(t.transform,e.transform)}class B7{constructor(e,n){this.version=e,this.transformResults=n}}class wa{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wa}static exists(e){return new wa(void 0,e)}static updateTime(e){return new wa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vy{}function N3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new M3(t.key,wa.none()):new Pd(t.key,t.data,wa.none());{const n=t.data,r=Kr.empty();let i=new Zn(vr.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new Oo(t.key,r,new hi(i.toArray()),wa.none())}}function q7(t,e,n){t instanceof Pd?(function(i,s,l){const c=i.value.clone(),f=iP(i.fieldTransforms,s,l.transformResults);c.setAll(f),s.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Oo?(function(i,s,l){if(!Mm(i.precondition,s))return void s.convertToUnknownDocument(l.version);const c=iP(i.fieldTransforms,s,l.transformResults),f=s.data;f.setAll(k3(i)),f.setAll(c),s.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Eh(t,e,n,r){return t instanceof Pd?(function(s,l,c,f){if(!Mm(s.precondition,l))return c;const h=s.value.clone(),p=aP(s.fieldTransforms,f,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof Oo?(function(s,l,c,f){if(!Mm(s.precondition,l))return c;const h=aP(s.fieldTransforms,f,l),p=l.data;return p.setAll(k3(s)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(s,l,c){return Mm(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function z7(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=C3(r.transform,i||null);s!=null&&(n===null&&(n=Kr.empty()),n.set(r.field,s))}return n||null}function rP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&hc(r,i,((s,l)=>U7(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Pd extends vy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Oo extends vy{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function k3(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function iP(t,e,n){const r=new Map;Xt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,c=e.data.field(s.field);r.set(s.field,$7(l,c,n[i]))}return r}function aP(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,V7(s,l,e))}return r}class M3 extends vy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class F7 extends vy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&q7(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Eh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Eh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=A3();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let c=this.applyToLocalView(l,s.mutatedFields);c=n.has(i.key)?null:c;const f=N3(l,c);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(at.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),It())}isEqual(e){return this.batchId===e.batchId&&hc(this.mutations,e.mutations,((n,r)=>rP(n,r)))&&hc(this.baseMutations,e.baseMutations,((n,r)=>rP(n,r)))}}class iT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Xt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return k7})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new iT(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qn,jt;function W7(t){switch(t){case xe.OK:return nt(64938);case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0;default:return nt(15467,{code:t})}}function j3(t){if(t===void 0)return gs("GRPC error has no .code"),xe.UNKNOWN;switch(t){case qn.OK:return xe.OK;case qn.CANCELLED:return xe.CANCELLED;case qn.UNKNOWN:return xe.UNKNOWN;case qn.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case qn.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case qn.INTERNAL:return xe.INTERNAL;case qn.UNAVAILABLE:return xe.UNAVAILABLE;case qn.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case qn.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case qn.NOT_FOUND:return xe.NOT_FOUND;case qn.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case qn.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case qn.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case qn.ABORTED:return xe.ABORTED;case qn.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case qn.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case qn.DATA_LOSS:return xe.DATA_LOSS;default:return nt(39323,{code:t})}}(jt=qn||(qn={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y7(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X7=new go([4294967295,4294967295],0);function sP(t){const e=Y7().encode(t),n=new Q4;return n.update(e),new Uint8Array(n.digest())}function oP(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new go([n,r],0),new go([i,s],0)]}class aT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new dh(`Invalid padding: ${n}`);if(r<0)throw new dh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new dh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new dh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=go.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(go.fromNumber(r)));return i.compare(X7)===1&&(i=new go([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=sP(e),[r,i]=oP(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new aT(s,i,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=sP(e),[r,i]=oP(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class dh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Rd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new by(at.min(),i,new Sn(Ct),ys(),It())}}class Rd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Rd(r,n,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class D3{constructor(e,n){this.targetId=e,this.Ce=n}}class L3{constructor(e,n,r=br.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class lP{constructor(){this.ve=0,this.Fe=uP(),this.Me=br.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=It(),n=It(),r=It();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:nt(38017,{changeType:s})}})),new Rd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=uP()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Q7{constructor(e){this.Ge=e,this.ze=new Map,this.je=ys(),this.Je=fm(),this.He=fm(),this.Ye=new Sn(Ct)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:nt(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(G1(s))if(r===0){const l=new Ze(s.path);this.et(n,l,Or.newNoDocument(l,at.min()))}else Xt(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),f=c?this.ct(c,e,l):1;if(f!==0){this.it(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let l,c;try{l=wo(r).toUint8Array()}catch(f){if(f instanceof l3)return fc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new aT(l,i,s)}catch(f){return fc(f instanceof dh?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const c=this.ot(l);if(c){if(s.current&&G1(c.target)){const f=new Ze(c.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,Or.newNoDocument(f,e))}s.Be&&(n.set(l,s.ke()),s.qe())}}));let r=It();this.He.forEach(((s,l)=>{let c=!0;l.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const i=new by(e,n,this.Ye,this.je,r);return this.je=ys(),this.Je=fm(),this.He=fm(),this.Ye=new Sn(Ct),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new lP,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Zn(Ct),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Zn(Ct),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||De("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new lP),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function fm(){return new Sn(Ze.comparator)}function uP(){return new Sn(Ze.comparator)}const J7={asc:"ASCENDING",desc:"DESCENDING"},Z7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eF={and:"AND",or:"OR"};class tF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function W1(t,e){return t.useProto3Json||hy(e)?e:{value:e}}function Zm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function V3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function nF(t,e){return Zm(t,e.toTimestamp())}function Sa(t){return Xt(!!t,49232),at.fromTimestamp((function(n){const r=xo(n);return new mn(r.seconds,r.nanos)})(t))}function sT(t,e){return Y1(t,e).canonicalString()}function Y1(t,e){const n=(function(i){return new wn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function $3(t){const e=wn.fromString(t);return Xt(F3(e),10190,{key:e.toString()}),e}function X1(t,e){return sT(t.databaseId,e.path)}function wb(t,e){const n=$3(e);if(n.get(1)!==t.databaseId.projectId)throw new Fe(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Fe(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ze(B3(n))}function U3(t,e){return sT(t.databaseId,e)}function rF(t){const e=$3(t);return e.length===4?wn.emptyPath():B3(e)}function Q1(t){return new wn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function B3(t){return Xt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function cP(t,e,n){return{name:X1(t,e),fields:n.value.mapValue.fields}}function iF(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:nt(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(h,p){return h.useProto3Json?(Xt(p===void 0||typeof p=="string",58123),br.fromBase64String(p||"")):(Xt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),br.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(h){const p=h.code===void 0?xe.UNKNOWN:j3(h.code);return new Fe(p,h.message||"")})(l);n=new L3(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=wb(t,r.document.name),s=Sa(r.document.updateTime),l=r.document.createTime?Sa(r.document.createTime):at.min(),c=new Kr({mapValue:{fields:r.document.fields}}),f=Or.newFoundDocument(i,s,l,c),h=r.targetIds||[],p=r.removedTargetIds||[];n=new jm(h,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=wb(t,r.document),s=r.readTime?Sa(r.readTime):at.min(),l=Or.newNoDocument(i,s),c=r.removedTargetIds||[];n=new jm([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=wb(t,r.document),s=r.removedTargetIds||[];n=new jm([],s,i,null)}else{if(!("filter"in e))return nt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new K7(i,s),c=r.targetId;n=new D3(c,l)}}return n}function aF(t,e){let n;if(e instanceof Pd)n={update:cP(t,e.key,e.value)};else if(e instanceof M3)n={delete:X1(t,e.key)};else if(e instanceof Oo)n={update:cP(t,e.key,e.data),updateMask:pF(e.fieldMask)};else{if(!(e instanceof F7))return nt(16599,{Vt:e.type});n={verify:X1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const c=l.transform;if(c instanceof Qm)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Vh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof $h)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Jm)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw nt(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:nF(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:nt(27497)})(t,e.precondition)),n}function sF(t,e){return t&&t.length>0?(Xt(e!==void 0,14353),t.map((n=>(function(i,s){let l=i.updateTime?Sa(i.updateTime):Sa(s);return l.isEqual(at.min())&&(l=Sa(s)),new B7(l,i.transformResults||[])})(n,e)))):[]}function oF(t,e){return{documents:[U3(t,e.path)]}}function lF(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=U3(t,i);const s=(function(h){if(h.length!==0)return z3(Pa.create(h,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(h){if(h.length!==0)return h.map((p=>(function(v){return{field:Gu(v.field),direction:fF(v.dir)}})(p)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=W1(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function uF(t){let e=rF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Xt(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=(function(m){const v=q3(m);return v instanceof Pa&&v3(v)?v.getFilters():[v]})(n.where));let l=[];n.orderBy&&(l=(function(m){return m.map((v=>(function(E){return new Xm(Ku(E.field),(function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(v)))})(n.orderBy));let c=null;n.limit&&(c=(function(m){let v;return v=typeof m=="object"?m.value:m,hy(v)?null:v})(n.limit));let f=null;n.startAt&&(f=(function(m){const v=!!m.before,_=m.values||[];return new Ym(_,v)})(n.startAt));let h=null;return n.endAt&&(h=(function(m){const v=!m.before,_=m.values||[];return new Ym(_,v)})(n.endAt)),O7(e,i,l,s,c,"F",f,h)}function cF(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return nt(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function q3(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ku(n.unaryFilter.field);return Yn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ku(n.unaryFilter.field);return Yn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ku(n.unaryFilter.field);return Yn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ku(n.unaryFilter.field);return Yn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return nt(61313);default:return nt(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Yn.create(Ku(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return nt(58110);default:return nt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Pa.create(n.compositeFilter.filters.map((r=>q3(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return nt(1026)}})(n.compositeFilter.op))})(t):nt(30097,{filter:t})}function fF(t){return J7[t]}function hF(t){return Z7[t]}function dF(t){return eF[t]}function Gu(t){return{fieldPath:t.canonicalString()}}function Ku(t){return vr.fromServerFormat(t.fieldPath)}function z3(t){return t instanceof Yn?(function(n){if(n.op==="=="){if(QI(n.value))return{unaryFilter:{field:Gu(n.field),op:"IS_NAN"}};if(XI(n.value))return{unaryFilter:{field:Gu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(QI(n.value))return{unaryFilter:{field:Gu(n.field),op:"IS_NOT_NAN"}};if(XI(n.value))return{unaryFilter:{field:Gu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gu(n.field),op:hF(n.op),value:n.value}}})(t):t instanceof Pa?(function(n){const r=n.getFilters().map((i=>z3(i)));return r.length===1?r[0]:{compositeFilter:{op:dF(n.op),filters:r}}})(t):nt(54877,{filter:t})}function pF(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function F3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n,r,i,s=at.min(),l=at.min(),c=br.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new co(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(e){this.yt=e}}function gF(t){const e=uF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?K1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(){this.Cn=new vF}addToCollectionParentIndex(e,n){return this.Cn.add(n),be.resolve()}getCollectionParents(e,n){return be.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return be.resolve()}deleteFieldIndex(e,n){return be.resolve()}deleteAllFieldIndexes(e){return be.resolve()}createTargetIndexes(e,n){return be.resolve()}getDocumentsMatchingTarget(e,n){return be.resolve(null)}getIndexType(e,n){return be.resolve(0)}getFieldIndexes(e,n){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}getMinOffset(e,n){return be.resolve(_o.min())}getMinOffsetFromCollectionGroup(e,n){return be.resolve(_o.min())}updateCollectionGroup(e,n,r){return be.resolve()}updateIndexEntries(e,n){return be.resolve()}}class vF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Zn(wn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Zn(wn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},H3=41943040;class Hr{static withCacheSize(e){return new Hr(e,Hr.DEFAULT_COLLECTION_PERCENTILE,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hr.DEFAULT_COLLECTION_PERCENTILE=10,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hr.DEFAULT=new Hr(H3,Hr.DEFAULT_COLLECTION_PERCENTILE,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hr.DISABLED=new Hr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new mc(0)}static cr(){return new mc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP="LruGarbageCollector",bF=1048576;function dP([t,e],[n,r]){const i=Ct(t,n);return i===0?Ct(e,r):i}class _F{constructor(e){this.Ir=e,this.buffer=new Zn(dP),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();dP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){De(hP,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wc(n)?De(hP,"Ignoring IndexedDB error during garbage collection: ",n):await Kc(n)}await this.Vr(3e5)}))}}class wF{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return be.resolve(fy.ce);const r=new _F(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(De("LruGarbageCollector","Garbage collection skipped; disabled"),be.resolve(fP)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fP):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,l,c,f,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(De("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,l=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(r=m,c=Date.now(),this.removeTargets(e,r,n)))).next((m=>(s=m,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(h=Date.now(),Fu()<=Ot.DEBUG&&De("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${s} targets in `+(f-c)+`ms
	Removed ${m} documents in `+(h-f)+`ms
Total Duration: ${h-p}ms`),be.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m}))))}}function SF(t,e){return new wF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(){this.changes=new ql((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Or.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?be.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Eh(r.mutation,i,hi.empty(),mn.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,It()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=It()){const i=_l();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let l=hh();return s.forEach(((c,f)=>{l=l.insert(c,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=_l();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,It())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,i){let s=ys();const l=Sh(),c=(function(){return Sh()})();return n.forEach(((f,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof Oo)?s=s.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),Eh(p.mutation,h,p.mutation.getFieldMask(),mn.now())):l.set(h.key,hi.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((h,p)=>l.set(h,p))),n.forEach(((h,p)=>c.set(h,new TF(p,l.get(h)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Sh();let i=new Sn(((l,c)=>l-c)),s=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((f=>{const h=n.get(f);if(h===null)return;let p=r.get(f)||hi.empty();p=c.applyToLocalView(h,p),r.set(f,p);const m=(i.get(c.batchId)||It()).add(f);i=i.insert(c.batchId,m)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),h=f.key,p=f.value,m=A3();p.forEach((v=>{if(!s.has(v)){const _=N3(n.get(v),r.get(v));_!==null&&m.set(v,_),s=s.add(v)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,m))}return be.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Ze.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):C7(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):be.resolve(_l());let c=Mh,f=s;return l.next((h=>be.forEach(h,((p,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),s.get(p)?be.resolve():this.remoteDocumentCache.getEntry(e,p).next((v=>{f=f.insert(p,v)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,f,h,It()))).next((p=>({batchId:c,changes:T3(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ze(n)).next((r=>{let i=hh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=hh();return this.indexManager.getCollectionParents(e,s).next((c=>be.forEach(c,(f=>{const h=(function(m,v){return new py(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((p=>{p.forEach(((m,v)=>{l=l.insert(m,v)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((l=>{s.forEach(((f,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,Or.newInvalidDocument(p)))}));let c=hh();return l.forEach(((f,h)=>{const p=s.get(f);p!==void 0&&Eh(p.mutation,h,hi.empty(),mn.now()),gy(n,h)&&(c=c.insert(f,h))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return be.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Sa(i.createTime)}})(n)),be.resolve()}getNamedQuery(e,n){return be.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:gF(i.bundledQuery),readTime:Sa(i.readTime)}})(n)),be.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(){this.overlays=new Sn(Ze.comparator),this.qr=new Map}getOverlay(e,n){return be.resolve(this.overlays.get(n))}getOverlays(e,n){const r=_l();return be.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),be.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),be.resolve()}getOverlaysForCollection(e,n,r){const i=_l(),s=n.length+1,l=new Ze(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&f.largestBatchId>r&&i.set(f.getKey(),f)}return be.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Sn(((h,p)=>h-p));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=_l(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const c=_l(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,p)=>c.set(h,p))),!(c.size()>=i)););return be.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new G7(n,r));let s=this.qr.get(n);s===void 0&&(s=It(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(){this.sessionToken=br.EMPTY_BYTE_STRING}getSessionToken(e){return be.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,be.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(){this.Qr=new Zn(nr.$r),this.Ur=new Zn(nr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new nr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new nr(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ze(new wn([])),r=new nr(n,e),i=new nr(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ze(new wn([])),r=new nr(n,e),i=new nr(n,e+1);let s=It();return this.Ur.forEachInRange([r,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new nr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class nr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ze.comparator(e.key,n.key)||Ct(e.Yr,n.Yr)}static Kr(e,n){return Ct(e.Yr,n.Yr)||Ze.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Zn(nr.$r)}checkEmpty(e){return be.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new H7(s,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Zr=this.Zr.add(new nr(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return be.resolve(l)}lookupMutationBatch(e,n){return be.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return be.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(this.mutationQueue.length===0?QE:this.tr-1)}getAllMutationBatches(e){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new nr(n,0),i=new nr(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(l=>{const c=this.Xr(l.Yr);s.push(c)})),be.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Zn(Ct);return n.forEach((i=>{const s=new nr(i,0),l=new nr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(c=>{r=r.add(c.Yr)}))})),be.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ze.isDocumentKey(s)||(s=s.child(""));const l=new nr(new Ze(s),0);let c=new Zn(Ct);return this.Zr.forEachWhile((f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(f.Yr)),!0)}),l),be.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Xt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return be.forEach(n.mutations,(i=>{const s=new nr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new nr(n,0),i=this.Zr.firstAfterOrEqual(r);return be.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,be.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e){this.ri=e,this.docs=(function(){return new Sn(Ze.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return be.resolve(r?r.document.mutableCopy():Or.newInvalidDocument(n))}getEntries(e,n){let r=ys();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Or.newInvalidDocument(i))})),be.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ys();const l=n.path,c=new Ze(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:h,value:{document:p}}=f.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||a7(i7(p),r)<=0||(i.has(p.key)||gy(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return be.resolve(s)}getAllFromCollectionGroup(e,n,r,i){nt(9500)}ii(e,n){return be.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new NF(this)}getSize(e){return be.resolve(this.size)}}class NF extends EF{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),be.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e){this.persistence=e,this.si=new ql((n=>eT(n)),tT),this.lastRemoteSnapshotVersion=at.min(),this.highestTargetId=0,this.oi=0,this._i=new oT,this.targetCount=0,this.ai=mc.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),be.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new mc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,be.resolve()}updateTargetData(e,n){return this.Pr(n),be.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),be.waitFor(s).next((()=>i))}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return be.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),be.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),be.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),be.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return be.resolve(r)}containsKey(e,n){return be.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e,n){this.ui={},this.overlays={},this.ci=new fy(0),this.li=!1,this.li=!0,this.hi=new IF,this.referenceDelegate=e(this),this.Pi=new kF(this),this.indexManager=new yF,this.remoteDocumentCache=(function(i){return new RF(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new mF(n),this.Ii=new OF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new CF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new PF(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){De("MemoryPersistence","Starting transaction:",e);const i=new MF(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return be.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class MF extends o7{constructor(e){super(),this.currentSequenceNumber=e}}class lT{constructor(e){this.persistence=e,this.Ri=new oT,this.Vi=null}static mi(e){return new lT(e)}get fi(){if(this.Vi)return this.Vi;throw nt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),be.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),be.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),be.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.fi,(r=>{const i=Ze.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,at.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return be.or([()=>be.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class eg{constructor(e,n){this.persistence=e,this.pi=new ql((r=>c7(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=SF(this,n)}static mi(e,n){return new eg(e,n)}Ei(){}di(e){return be.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return be.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?be.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,s.removeEntry(l,at.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),be.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),be.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),be.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),be.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Nm(e.data.value)),n}br(e,n,r){return be.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return be.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=It(),i=It();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new uT(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return E9()?8:l7(Ir())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new jF;return this.Ss(e,n,l).next((c=>{if(s.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Fu()<=Ot.DEBUG&&De("QueryEngine","SDK will not create cache indexes for query:",Hu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),be.resolve()):(Fu()<=Ot.DEBUG&&De("QueryEngine","Query:",Hu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Fu()<=Ot.DEBUG&&De("QueryEngine","The SDK decides to create cache indexes for query:",Hu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xa(n))):be.resolve())}ys(e,n){if(tP(n))return be.resolve(null);let r=xa(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=K1(n,null,"F"),r=xa(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=It(...s);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((f=>{const h=this.Ds(n,c);return this.Cs(n,h,l,f.readTime)?this.ys(e,K1(n,null,"F")):this.vs(e,h,n,f)}))))})))))}ws(e,n,r,i){return tP(n)||i.isEqual(at.min())?be.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(n,s);return this.Cs(n,l,r,i)?be.resolve(null):(Fu()<=Ot.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hu(n)),this.vs(e,l,n,r7(i,Mh)).next((c=>c)))}))}Ds(e,n){let r=new Zn(S3(e));return n.forEach(((i,s)=>{gy(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Fu()<=Ot.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",Hu(n)),this.ps.getDocumentsMatchingQuery(e,n,_o.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="LocalStore",LF=3e8;class VF{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Sn(Ct),this.xs=new ql((s=>eT(s)),tT),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function $F(t,e,n,r){return new VF(t,e,n,r)}async function K3(t,e){const n=ft(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],c=[];let f=It();for(const h of i){l.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}for(const h of s){c.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}return n.localDocuments.getDocuments(r,f).next((h=>({Ls:h,removedBatchIds:l,addedBatchIds:c})))}))}))}function UF(t,e){const n=ft(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,f,h,p){const m=h.batch,v=m.keys();let _=be.resolve();return v.forEach((E=>{_=_.next((()=>p.getEntry(f,E))).next((S=>{const w=h.docVersions.get(E);Xt(w!==null,48541),S.version.compareTo(w)<0&&(m.applyToRemoteDocument(S,h),S.isValidDocument()&&(S.setReadTime(h.commitVersion),p.addEntry(S)))}))})),_.next((()=>c.mutationQueue.removeMutationBatch(f,m)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let f=It();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(f=f.add(c.batch.mutations[h].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function W3(t){const e=ft(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function BF(t,e){const n=ft(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((p,m)=>{const v=i.get(m);if(!v)return;c.push(n.Pi.removeMatchingKeys(s,p.removedDocuments,m).next((()=>n.Pi.addMatchingKeys(s,p.addedDocuments,m))));let _=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?_=_.withResumeToken(br.EMPTY_BYTE_STRING,at.min()).withLastLimboFreeSnapshotVersion(at.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,r)),i=i.insert(m,_),(function(S,w,O){return S.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=LF?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(v,_,p)&&c.push(n.Pi.updateTargetData(s,_))}));let f=ys(),h=It();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))})),c.push(qF(s,l,e.documentUpdates).next((p=>{f=p.ks,h=p.qs}))),!r.isEqual(at.min())){const p=n.Pi.getLastRemoteSnapshotVersion(s).next((m=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));c.push(p)}return be.waitFor(c).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,f,h))).next((()=>f))})).then((s=>(n.Ms=i,s)))}function qF(t,e,n){let r=It(),i=It();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=ys();return n.forEach(((c,f)=>{const h=s.get(c);f.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),f.isNoDocument()&&f.version.isEqual(at.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):De(cT,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",f.version)})),{ks:l,qs:i}}))}function zF(t,e){const n=ft(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=QE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function FF(t,e){const n=ft(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,be.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new co(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function J1(t,e,n){const r=ft(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Wc(l))throw l;De(cT,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function pP(t,e,n){const r=ft(t);let i=at.min(),s=It();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,h,p){const m=ft(f),v=m.xs.get(p);return v!==void 0?be.resolve(m.Ms.get(v)):m.Pi.getTargetData(h,p)})(r,l,xa(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((f=>{s=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:at.min(),n?s:It()))).next((c=>(HF(r,P7(e),c),{documents:c,Qs:s})))))}function HF(t,e,n){let r=t.Os.get(e)||at.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class mP{constructor(){this.activeTargetIds=D7()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GF{constructor(){this.Mo=new mP,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new mP,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP="ConnectivityMonitor";class yP{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){De(gP,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){De(gP,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hm=null;function Z1(){return hm===null?hm=(function(){return 268435456+Math.round(2147483648*Math.random())})():hm++,"0x"+hm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="RestConnection",WF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class YF{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Km?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const l=Z1(),c=this.zo(e,n.toUriEncodedString());De(Sb,`Sending RPC '${e}' ${l}:`,c,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,s);const{host:h}=new URL(c),p=Fc(h);return this.Jo(e,c,f,r,p).then((m=>(De(Sb,`Received RPC '${e}' ${l}: `,m),m)),(m=>{throw fc(Sb,`RPC '${e}' ${l} failed with error: `,m,"url: ",c,"request:",r),m}))}Ho(e,n,r,i,s,l){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Gc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=WF[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er="WebChannelConnection";class QF extends YF{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const l=Z1();return new Promise(((c,f)=>{const h=new J4;h.setWithCredentials(!0),h.listenOnce(Z4.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Rm.NO_ERROR:const m=h.getResponseJson();De(Er,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(m)),c(m);break;case Rm.TIMEOUT:De(Er,`RPC '${e}' ${l} timed out`),f(new Fe(xe.DEADLINE_EXCEEDED,"Request time out"));break;case Rm.HTTP_ERROR:const v=h.getStatus();if(De(Er,`RPC '${e}' ${l} failed with status:`,v,"response text:",h.getResponseText()),v>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const E=_==null?void 0:_.error;if(E&&E.status&&E.message){const S=(function(O){const I=O.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(I)>=0?I:xe.UNKNOWN})(E.status);f(new Fe(S,E.message))}else f(new Fe(xe.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new Fe(xe.UNAVAILABLE,"Connection failed."));break;default:nt(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{De(Er,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(i);De(Er,`RPC '${e}' ${l} sending request:`,i),h.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=Z1(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=n3(),c=t3(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const p=s.join("");De(Er,`Creating RPC '${e}' stream ${i}: ${p}`,f);const m=l.createWebChannel(p,f);this.I_(m);let v=!1,_=!1;const E=new XF({Yo:w=>{_?De(Er,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(v||(De(Er,`Opening RPC '${e}' stream ${i} transport.`),m.open(),v=!0),De(Er,`RPC '${e}' stream ${i} sending:`,w),m.send(w))},Zo:()=>m.close()}),S=(w,O,I)=>{w.listen(O,(N=>{try{I(N)}catch(L){setTimeout((()=>{throw L}),0)}}))};return S(m,fh.EventType.OPEN,(()=>{_||(De(Er,`RPC '${e}' stream ${i} transport opened.`),E.o_())})),S(m,fh.EventType.CLOSE,(()=>{_||(_=!0,De(Er,`RPC '${e}' stream ${i} transport closed`),E.a_(),this.E_(m))})),S(m,fh.EventType.ERROR,(w=>{_||(_=!0,fc(Er,`RPC '${e}' stream ${i} transport errored. Name:`,w.name,"Message:",w.message),E.a_(new Fe(xe.UNAVAILABLE,"The operation could not be completed")))})),S(m,fh.EventType.MESSAGE,(w=>{var O;if(!_){const I=w.data[0];Xt(!!I,16349);const N=I,L=(N==null?void 0:N.error)||((O=N[0])==null?void 0:O.error);if(L){De(Er,`RPC '${e}' stream ${i} received error:`,L);const C=L.status;let M=(function(k){const U=qn[k];if(U!==void 0)return j3(U)})(C),A=L.message;M===void 0&&(M=xe.INTERNAL,A="Unknown error status: "+C+" with message "+L.message),_=!0,E.a_(new Fe(M,A)),m.close()}else De(Er,`RPC '${e}' stream ${i} received:`,I),E.u_(I)}})),S(c,e3.STAT_EVENT,(w=>{w.stat===B1.PROXY?De(Er,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===B1.NOPROXY&&De(Er,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Eb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(t){return new tF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&De("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP="PersistentStream";class X3{constructor(e,n,r,i,s,l,c,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Y3(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===xe.RESOURCE_EXHAUSTED?(gs(n.toString()),gs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===xe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Fe(xe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return De(vP,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(De(vP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class JF extends X3{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=iF(this.serializer,e),r=(function(s){if(!("targetChange"in s))return at.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?at.min():l.readTime?Sa(l.readTime):at.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Q1(this.serializer),n.addTarget=(function(s,l){let c;const f=l.target;if(c=G1(f)?{documents:oF(s,f)}:{query:lF(s,f).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=V3(s,l.resumeToken);const h=W1(s,l.expectedCount);h!==null&&(c.expectedCount=h)}else if(l.snapshotVersion.compareTo(at.min())>0){c.readTime=Zm(s,l.snapshotVersion.toTimestamp());const h=W1(s,l.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const r=cF(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Q1(this.serializer),n.removeTarget=e,this.q_(n)}}class ZF extends X3{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Xt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=sF(e.writeResults,e.commitTime),r=Sa(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Q1(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>aF(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eH{}class tH extends eH{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Fe(xe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,Y1(n,r),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Fe(xe.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,Y1(n,r),i,l,c,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Fe(xe.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class nH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gs(n),this.aa=!1):De("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml="RemoteStore";class rH{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{zl(this)&&(De(Ml,"Restarting streams for network reachability change."),await(async function(f){const h=ft(f);h.Ea.add(4),await Nd(h),h.Ra.set("Unknown"),h.Ea.delete(4),await xy(h)})(this))}))})),this.Ra=new nH(r,i)}}async function xy(t){if(zl(t))for(const e of t.da)await e(!0)}async function Nd(t){for(const e of t.da)await e(!1)}function Q3(t,e){const n=ft(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),pT(n)?dT(n):Yc(n).O_()&&hT(n,e))}function fT(t,e){const n=ft(t),r=Yc(n);n.Ia.delete(e),r.O_()&&J3(n,e),n.Ia.size===0&&(r.O_()?r.L_():zl(n)&&n.Ra.set("Unknown"))}function hT(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(at.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Yc(t).Y_(e)}function J3(t,e){t.Va.Ue(e),Yc(t).Z_(e)}function dT(t){t.Va=new Q7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Yc(t).start(),t.Ra.ua()}function pT(t){return zl(t)&&!Yc(t).x_()&&t.Ia.size>0}function zl(t){return ft(t).Ea.size===0}function Z3(t){t.Va=void 0}async function iH(t){t.Ra.set("Online")}async function aH(t){t.Ia.forEach(((e,n)=>{hT(t,e)}))}async function sH(t,e){Z3(t),pT(t)?(t.Ra.ha(e),dT(t)):t.Ra.set("Unknown")}async function oH(t,e,n){if(t.Ra.set("Online"),e instanceof L3&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const c of s.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){De(Ml,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await tg(t,r)}else if(e instanceof jm?t.Va.Ze(e):e instanceof D3?t.Va.st(e):t.Va.tt(e),!n.isEqual(at.min()))try{const r=await W3(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const c=s.Va.Tt(l);return c.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const p=s.Ia.get(h);p&&s.Ia.set(h,p.withResumeToken(f.resumeToken,l))}})),c.targetMismatches.forEach(((f,h)=>{const p=s.Ia.get(f);if(!p)return;s.Ia.set(f,p.withResumeToken(br.EMPTY_BYTE_STRING,p.snapshotVersion)),J3(s,f);const m=new co(p.target,f,h,p.sequenceNumber);hT(s,m)})),s.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){De(Ml,"Failed to raise snapshot:",r),await tg(t,r)}}async function tg(t,e,n){if(!Wc(e))throw e;t.Ea.add(1),await Nd(t),t.Ra.set("Offline"),n||(n=()=>W3(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{De(Ml,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await xy(t)}))}function e6(t,e){return e().catch((n=>tg(t,n,e)))}async function wy(t){const e=ft(t),n=Eo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:QE;for(;lH(e);)try{const i=await zF(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,uH(e,i)}catch(i){await tg(e,i)}t6(e)&&n6(e)}function lH(t){return zl(t)&&t.Ta.length<10}function uH(t,e){t.Ta.push(e);const n=Eo(t);n.O_()&&n.X_&&n.ea(e.mutations)}function t6(t){return zl(t)&&!Eo(t).x_()&&t.Ta.length>0}function n6(t){Eo(t).start()}async function cH(t){Eo(t).ra()}async function fH(t){const e=Eo(t);for(const n of t.Ta)e.ea(n.mutations)}async function hH(t,e,n){const r=t.Ta.shift(),i=iT.from(r,e,n);await e6(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await wy(t)}async function dH(t,e){e&&Eo(t).X_&&await(async function(r,i){if((function(l){return W7(l)&&l!==xe.ABORTED})(i.code)){const s=r.Ta.shift();Eo(r).B_(),await e6(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await wy(r)}})(t,e),t6(t)&&n6(t)}async function bP(t,e){const n=ft(t);n.asyncQueue.verifyOperationInProgress(),De(Ml,"RemoteStore received new credentials");const r=zl(n);n.Ea.add(3),await Nd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await xy(n)}async function pH(t,e){const n=ft(t);e?(n.Ea.delete(2),await xy(n)):e||(n.Ea.add(2),await Nd(n),n.Ra.set("Unknown"))}function Yc(t){return t.ma||(t.ma=(function(n,r,i){const s=ft(n);return s.sa(),new JF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:iH.bind(null,t),t_:aH.bind(null,t),r_:sH.bind(null,t),H_:oH.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),pT(t)?dT(t):t.Ra.set("Unknown")):(await t.ma.stop(),Z3(t))}))),t.ma}function Eo(t){return t.fa||(t.fa=(function(n,r,i){const s=ft(n);return s.sa(),new ZF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:cH.bind(null,t),r_:dH.bind(null,t),ta:fH.bind(null,t),na:hH.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await wy(t)):(await t.fa.stop(),t.Ta.length>0&&(De(Ml,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new yo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,c=new mT(e,n,l,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Fe(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gT(t,e){if(gs("AsyncQueue",`${e}: ${t}`),Wc(t))return new Fe(xe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{static emptySet(e){return new rc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ze.comparator(n.key,r.key):(n,r)=>Ze.comparator(n.key,r.key),this.keyedMap=hh(),this.sortedSet=new Sn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof rc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new rc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(){this.ga=new Sn(Ze.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):nt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class gc{constructor(e,n,r,i,s,l,c,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new gc(e,n,rc.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&my(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mH{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class gH{constructor(){this.queries=xP(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ft(n),s=i.queries;i.queries=xP(),s.forEach(((l,c)=>{for(const f of c.Sa)f.onError(r)}))})(this,new Fe(xe.ABORTED,"Firestore shutting down"))}}function xP(){return new ql((t=>w3(t)),my)}async function yH(t,e){const n=ft(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new mH,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=gT(l,`Initialization of query '${Hu(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&yT(n)}async function vH(t,e){const n=ft(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function bH(t,e){const n=ft(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const c of l.Sa)c.Fa(i)&&(r=!0);l.wa=i}}r&&yT(n)}function _H(t,e,n){const r=ft(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function yT(t){t.Ca.forEach((e=>{e.next()}))}var eS,wP;(wP=eS||(eS={})).Ma="default",wP.Cache="cache";class xH{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new gc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=gc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==eS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e){this.key=e}}class i6{constructor(e){this.key=e}}class wH{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=It(),this.mutatedKeys=It(),this.eu=S3(e),this.tu=new rc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new _P,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,m)=>{const v=i.get(p),_=gy(this.query,m)?m:null,E=!!v&&this.mutatedKeys.has(v.key),S=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let w=!1;v&&_?v.data.isEqual(_.data)?E!==S&&(r.track({type:3,doc:_}),w=!0):this.su(v,_)||(r.track({type:2,doc:_}),w=!0,(f&&this.eu(_,f)>0||h&&this.eu(_,h)<0)&&(c=!0)):!v&&_?(r.track({type:0,doc:_}),w=!0):v&&!_&&(r.track({type:1,doc:v}),w=!0,(f||h)&&(c=!0)),w&&(_?(l=l.add(_),s=S?s.add(p):s.delete(p)):(l=l.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{tu:l,iu:r,Cs:c,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,m)=>(function(_,E){const S=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nt(20277,{Rt:w})}};return S(_)-S(E)})(p.type,m.type)||this.eu(p.doc,m.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,h=f!==this.Za;return this.Za=f,l.length!==0||h?{snapshot:new gc(this.query,e.tu,s,l,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _P,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=It(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new i6(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new r6(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=It();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return gc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const vT="SyncEngine";class SH{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class EH{constructor(e){this.key=e,this.hu=!1}}class TH{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new ql((c=>w3(c)),my),this.Iu=new Map,this.Eu=new Set,this.du=new Sn(Ze.comparator),this.Au=new Map,this.Ru=new oT,this.Vu={},this.mu=new Map,this.fu=mc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function AH(t,e,n=!0){const r=c6(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await a6(r,e,n,!0),i}async function OH(t,e){const n=c6(t);await a6(n,e,!0,!1)}async function a6(t,e,n,r){const i=await FF(t.localStore,xa(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let c;return r&&(c=await CH(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&Q3(t.remoteStore,i),c}async function CH(t,e,n,r,i){t.pu=(m,v,_)=>(async function(S,w,O,I){let N=w.view.ru(O);N.Cs&&(N=await pP(S.localStore,w.query,!1).then((({documents:A})=>w.view.ru(A,N))));const L=I&&I.targetChanges.get(w.targetId),C=I&&I.targetMismatches.get(w.targetId)!=null,M=w.view.applyChanges(N,S.isPrimaryClient,L,C);return EP(S,w.targetId,M.au),M.snapshot})(t,m,v,_);const s=await pP(t.localStore,e,!0),l=new wH(e,s.Qs),c=l.ru(s.documents),f=Rd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=l.applyChanges(c,t.isPrimaryClient,f);EP(t,n,h.au);const p=new SH(e,n,l);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function IH(t,e,n){const r=ft(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((l=>!my(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await J1(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&fT(r.remoteStore,i.targetId),tS(r,i.targetId)})).catch(Kc)):(tS(r,i.targetId),await J1(r.localStore,i.targetId,!0))}async function PH(t,e){const n=ft(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),fT(n.remoteStore,r.targetId))}async function RH(t,e,n){const r=VH(t);try{const i=await(function(l,c){const f=ft(l),h=mn.now(),p=c.reduce(((_,E)=>_.add(E.key)),It());let m,v;return f.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let E=ys(),S=It();return f.Ns.getEntries(_,p).next((w=>{E=w,E.forEach(((O,I)=>{I.isValidDocument()||(S=S.add(O))}))})).next((()=>f.localDocuments.getOverlayedDocuments(_,E))).next((w=>{m=w;const O=[];for(const I of c){const N=z7(I,m.get(I.key).overlayedDocument);N!=null&&O.push(new Oo(I.key,N,m3(N.value.mapValue),wa.exists(!0)))}return f.mutationQueue.addMutationBatch(_,h,O,c)})).next((w=>{v=w;const O=w.applyToLocalDocumentSet(m,S);return f.documentOverlayCache.saveOverlays(_,w.batchId,O)}))})).then((()=>({batchId:v.batchId,changes:T3(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,f){let h=l.Vu[l.currentUser.toKey()];h||(h=new Sn(Ct)),h=h.insert(c,f),l.Vu[l.currentUser.toKey()]=h})(r,i.batchId,n),await kd(r,i.changes),await wy(r.remoteStore)}catch(i){const s=gT(i,"Failed to persist write");n.reject(s)}}async function s6(t,e){const n=ft(t);try{const r=await BF(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=n.Au.get(s);l&&(Xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Xt(l.hu,14607):i.removedDocuments.size>0&&(Xt(l.hu,42227),l.hu=!1))})),await kd(n,r,e)}catch(r){await Kc(r)}}function SP(t,e,n){const r=ft(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const f=ft(l);f.onlineState=c;let h=!1;f.queries.forEach(((p,m)=>{for(const v of m.Sa)v.va(c)&&(h=!0)})),h&&yT(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function NH(t,e,n){const r=ft(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let l=new Sn(Ze.comparator);l=l.insert(s,Or.newNoDocument(s,at.min()));const c=It().add(s),f=new by(at.min(),new Map,new Sn(Ct),l,c);await s6(r,f),r.du=r.du.remove(s),r.Au.delete(e),bT(r)}else await J1(r.localStore,e,!1).then((()=>tS(r,e,n))).catch(Kc)}async function kH(t,e){const n=ft(t),r=e.batch.batchId;try{const i=await UF(n.localStore,e);l6(n,r,null),o6(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await kd(n,i)}catch(i){await Kc(i)}}async function MH(t,e,n){const r=ft(t);try{const i=await(function(l,c){const f=ft(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return f.mutationQueue.lookupMutationBatch(h,c).next((m=>(Xt(m!==null,37113),p=m.keys(),f.mutationQueue.removeMutationBatch(h,m)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,p,c))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>f.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);l6(r,e,n),o6(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await kd(r,i)}catch(i){await Kc(i)}}function o6(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function l6(t,e,n){const r=ft(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function tS(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||u6(t,r)}))}function u6(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(fT(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),bT(t))}function EP(t,e,n){for(const r of n)r instanceof r6?(t.Ru.addReference(r.key,e),jH(t,r)):r instanceof i6?(De(vT,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||u6(t,r.key)):nt(19791,{wu:r})}function jH(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(De(vT,"New document in limbo: "+n),t.Eu.add(r),bT(t))}function bT(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ze(wn.fromString(e)),r=t.fu.next();t.Au.set(r,new EH(n)),t.du=t.du.insert(n,r),Q3(t.remoteStore,new co(xa(nT(n.path)),r,"TargetPurposeLimboResolution",fy.ce))}}async function kd(t,e,n){const r=ft(t),i=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,f)=>{l.push(r.pu(f,e,n).then((h=>{var p;if((h||n)&&r.isPrimaryClient){const m=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(f.targetId,m?"current":"not-current")}if(h){i.push(h);const m=uT.As(f.targetId,h);s.push(m)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(f,h){const p=ft(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>be.forEach(h,(v=>be.forEach(v.Es,(_=>p.persistence.referenceDelegate.addReference(m,v.targetId,_))).next((()=>be.forEach(v.ds,(_=>p.persistence.referenceDelegate.removeReference(m,v.targetId,_)))))))))}catch(m){if(!Wc(m))throw m;De(cT,"Failed to update sequence numbers: "+m)}for(const m of h){const v=m.targetId;if(!m.fromCache){const _=p.Ms.get(v),E=_.snapshotVersion,S=_.withLastLimboFreeSnapshotVersion(E);p.Ms=p.Ms.insert(v,S)}}})(r.localStore,s))}async function DH(t,e){const n=ft(t);if(!n.currentUser.isEqual(e)){De(vT,"User change. New user:",e.toKey());const r=await K3(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((c=>{c.forEach((f=>{f.reject(new Fe(xe.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await kd(n,r.Ls)}}function LH(t,e){const n=ft(t),r=n.Au.get(e);if(r&&r.hu)return It().add(r.key);{let i=It();const s=n.Iu.get(e);if(!s)return i;for(const l of s){const c=n.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}function c6(t){const e=ft(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=s6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NH.bind(null,e),e.Pu.H_=bH.bind(null,e.eventManager),e.Pu.yu=_H.bind(null,e.eventManager),e}function VH(t){const e=ft(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MH.bind(null,e),e}class ng{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_y(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return $F(this.persistence,new DF,e.initialUser,this.serializer)}Cu(e){return new G3(lT.mi,this.serializer)}Du(e){return new GF}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ng.provider={build:()=>new ng};class $H extends ng{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xt(this.persistence.referenceDelegate instanceof eg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new xF(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Hr.withCacheSize(this.cacheSizeBytes):Hr.DEFAULT;return new G3((r=>eg.mi(r,n)),this.serializer)}}class nS{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>SP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=DH.bind(null,this.syncEngine),await pH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new gH})()}createDatastore(e){const n=_y(e.databaseInfo.databaseId),r=(function(s){return new QF(s)})(e.databaseInfo);return(function(s,l,c,f){return new tH(s,l,c,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,l,c){return new rH(r,i,s,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>SP(this.syncEngine,n,0)),(function(){return yP.v()?new yP:new KF})())}createSyncEngine(e,n){return(function(i,s,l,c,f,h,p){const m=new TH(i,s,l,c,f,h);return p&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const s=ft(i);De(Ml,"RemoteStore shutting down."),s.Ea.add(5),await Nd(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}nS.provider={build:()=>new nS};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To="FirestoreClient";class BH{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ar.UNAUTHENTICATED,this.clientId=YE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{De(To,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(De(To,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=gT(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Tb(t,e){t.asyncQueue.verifyOperationInProgress(),De(To,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await K3(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function TP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await qH(t);De(To,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>bP(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>bP(e.remoteStore,i))),t._onlineComponents=e}async function qH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){De(To,"Using user provided OfflineComponentProvider");try{await Tb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===xe.FAILED_PRECONDITION||i.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;fc("Error using user provided cache. Falling back to memory cache: "+n),await Tb(t,new ng)}}else De(To,"Using default OfflineComponentProvider"),await Tb(t,new $H(void 0));return t._offlineComponents}async function f6(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(De(To,"Using user provided OnlineComponentProvider"),await TP(t,t._uninitializedComponentsProvider._online)):(De(To,"Using default OnlineComponentProvider"),await TP(t,new nS))),t._onlineComponents}function zH(t){return f6(t).then((e=>e.syncEngine))}async function FH(t){const e=await f6(t),n=e.eventManager;return n.onListen=AH.bind(null,e.syncEngine),n.onUnlisten=IH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=OH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=PH.bind(null,e.syncEngine),n}function HH(t,e,n={}){const r=new yo;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,c,f,h){const p=new UH({next:v=>{p.Nu(),l.enqueueAndForget((()=>vH(s,m)));const _=v.docs.has(c);!_&&v.fromCache?h.reject(new Fe(xe.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&v.fromCache&&f&&f.source==="server"?h.reject(new Fe(xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(v)},error:v=>h.reject(v)}),m=new xH(nT(c.path),p,{includeMetadataChanges:!0,qa:!0});return yH(s,m)})(await FH(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6="firestore.googleapis.com",OP=!0;class CP{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Fe(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=d6,this.ssl=OP}else this.host=e.host,this.ssl=e.ssl??OP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=H3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bF)throw new Fe(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}n7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=h6(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Fe(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Fe(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Fe(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _T{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Fe(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Fe(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new H8;switch(r.type){case"firstParty":return new Y8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Fe(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=AP.get(n);r&&(De("ComponentProvider","Removing Datastore"),AP.delete(n),r.terminate())})(this),Promise.resolve()}}function GH(t,e,n,r={}){var h;t=kl(t,_T);const i=Fc(e),s=t._getSettings(),l={...s,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(d4(`https://${c}`),p4("Firestore",!0)),s.host!==d6&&s.host!==c&&fc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...s,host:c,ssl:i,emulatorOptions:r};if(!Il(f,l)&&(t._setSettings(f),r.mockUserToken)){let p,m;if(typeof r.mockUserToken=="string")p=r.mockUserToken,m=Ar.MOCK_USER;else{p=m9(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Fe(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Ar(v)}t._authCredentials=new G8(new i3(p,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xT(this.firestore,e,this._query)}}class Qn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Uh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qn(this.firestore,e,this._key)}toJSON(){return{type:Qn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Id(n,Qn._jsonSchema))return new Qn(e,r||null,new Ze(wn.fromString(n.referencePath)))}}Qn._jsonSchemaVersion="firestore/documentReference/1.0",Qn._jsonSchema={type:Fn("string",Qn._jsonSchemaVersion),referencePath:Fn("string")};class Uh extends xT{constructor(e,n,r){super(e,n,nT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qn(this.firestore,null,new Ze(e))}withConverter(e){return new Uh(this.firestore,e,this._path)}}function rS(t,e,...n){if(t=Pr(t),arguments.length===1&&(e=YE.newId()),t7("doc","path",e),t instanceof _T){const r=wn.fromString(e,...n);return qI(r),new Qn(t,null,new Ze(r))}{if(!(t instanceof Qn||t instanceof Uh))throw new Fe(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wn.fromString(e,...n));return qI(r),new Qn(t.firestore,t instanceof Uh?t.converter:null,new Ze(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP="AsyncQueue";class PP{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Y3(this,"async_queue_retry"),this._c=()=>{const r=Eb();r&&De(IP,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Eb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Eb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new yo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Wc(e))throw e;De(IP,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,gs("INTERNAL UNHANDLED ERROR: ",RP(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=mT.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&nt(47125,{Pc:RP(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function RP(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Sy extends _T{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new PP,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new PP(e),this._firestoreClient=void 0,await e}}}function KH(t,e){const n=typeof t=="object"?t:v4(),r=typeof t=="string"?t:Km,i=LE(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=d9("firestore");s&&GH(i,...s)}return i}function p6(t){if(t._terminated)throw new Fe(xe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||WH(t),t._firestoreClient}function WH(t){var r,i,s;const e=t._freezeSettings(),n=(function(c,f,h,p){return new d7(c,f,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,h6(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new BH(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ni(br.fromBase64String(e))}catch(n){throw new Fe(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ni(br.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ni._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Id(e,Ni._jsonSchema))return Ni.fromBase64String(e.bytes)}}Ni._jsonSchemaVersion="firestore/bytes/1.0",Ni._jsonSchema={type:Fn("string",Ni._jsonSchemaVersion),bytes:Fn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Fe(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Fe(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Fe(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ct(this._lat,e._lat)||Ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ea._jsonSchemaVersion}}static fromJSON(e){if(Id(e,Ea._jsonSchema))return new Ea(e.latitude,e.longitude)}}Ea._jsonSchemaVersion="firestore/geoPoint/1.0",Ea._jsonSchema={type:Fn("string",Ea._jsonSchemaVersion),latitude:Fn("number"),longitude:Fn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ta._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Id(e,Ta._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ta(e.vectorValues);throw new Fe(xe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ta._jsonSchemaVersion="firestore/vectorValue/1.0",Ta._jsonSchema={type:Fn("string",Ta._jsonSchemaVersion),vectorValues:Fn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YH=/^__.*__$/;class XH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Oo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pd(e,this.data,n,this.fieldTransforms)}}class m6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Oo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function g6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nt(40011,{Ac:t})}}class ST{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ST({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(g6(this.Ac)&&YH.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class QH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_y(e)}Cc(e,n,r,i=!1){return new ST({Ac:e,methodName:n,Dc:r,path:vr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function y6(t){const e=t._freezeSettings(),n=_y(t._databaseId);return new QH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function JH(t,e,n,r,i,s={}){const l=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);ET("Data must be an object, but it was:",l,r);const c=v6(r,l);let f,h;if(s.merge)f=new hi(l.fieldMask),h=l.fieldTransforms;else if(s.mergeFields){const p=[];for(const m of s.mergeFields){const v=iS(e,m,n);if(!l.contains(v))throw new Fe(xe.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);_6(p,v)||p.push(v)}f=new hi(p),h=l.fieldTransforms.filter((m=>f.covers(m.field)))}else f=null,h=l.fieldTransforms;return new XH(new Kr(c),f,h)}class Ty extends wT{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ty}}function ZH(t,e,n,r){const i=t.Cc(1,e,n);ET("Data must be an object, but it was:",i,r);const s=[],l=Kr.empty();Ao(r,((f,h)=>{const p=TT(e,f,n);h=Pr(h);const m=i.yc(p);if(h instanceof Ty)s.push(p);else{const v=Ay(h,m);v!=null&&(s.push(p),l.set(p,v))}}));const c=new hi(s);return new m6(l,c,i.fieldTransforms)}function eG(t,e,n,r,i,s){const l=t.Cc(1,e,n),c=[iS(e,r,n)],f=[i];if(s.length%2!=0)throw new Fe(xe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)c.push(iS(e,s[v])),f.push(s[v+1]);const h=[],p=Kr.empty();for(let v=c.length-1;v>=0;--v)if(!_6(h,c[v])){const _=c[v];let E=f[v];E=Pr(E);const S=l.yc(_);if(E instanceof Ty)h.push(_);else{const w=Ay(E,S);w!=null&&(h.push(_),p.set(_,w))}}const m=new hi(h);return new m6(p,m,l.fieldTransforms)}function Ay(t,e){if(b6(t=Pr(t)))return ET("Unsupported field value:",e,t),v6(t,e);if(t instanceof wT)return(function(r,i){if(!g6(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let l=0;for(const c of r){let f=Ay(c,i.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Pr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return L7(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=mn.fromDate(r);return{timestampValue:Zm(i.serializer,s)}}if(r instanceof mn){const s=new mn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zm(i.serializer,s)}}if(r instanceof Ea)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ni)return{bytesValue:V3(i.serializer,r._byteString)};if(r instanceof Qn){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:sT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ta)return(function(l,c){return{mapValue:{fields:{[d3]:{stringValue:p3},[Wm]:{arrayValue:{values:l.toArray().map((h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return rT(c.serializer,h)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${XE(r)}`)})(t,e)}function v6(t,e){const n={};return o3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ao(t,((r,i)=>{const s=Ay(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function b6(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mn||t instanceof Ea||t instanceof Ni||t instanceof Qn||t instanceof wT||t instanceof Ta)}function ET(t,e,n){if(!b6(n)||!a3(n)){const r=XE(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function iS(t,e,n){if((e=Pr(e))instanceof Ey)return e._internalPath;if(typeof e=="string")return TT(t,e);throw rg("Field path arguments must be of type string or ",t,!1,void 0,n)}const tG=new RegExp("[~\\*/\\[\\]]");function TT(t,e,n){if(e.search(tG)>=0)throw rg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ey(...e.split("."))._internalPath}catch{throw rg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rg(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(s||l)&&(f+=" (found",s&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new Fe(xe.INVALID_ARGUMENT,c+t+f)}function _6(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(w6("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nG extends x6{data(){return super.data()}}function w6(t,e){return typeof e=="string"?TT(t,e):e instanceof Ey?e._internalPath:e._delegate._internalPath}class rG{convertValue(e,n="none"){switch(So(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw nt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ao(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[Wm].arrayValue)==null?void 0:i.values)==null?void 0:s.map((l=>jn(l.doubleValue)));return new Ta(n)}convertGeoPoint(e){return new Ea(jn(e.latitude),jn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=dy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(jh(e));default:return null}}convertTimestamp(e){const n=xo(e);return new mn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=wn.fromString(e);Xt(F3(r),9688,{name:e});const i=new Dh(r.get(1),r.get(3)),s=new Ze(r.popFirst(5));return i.isEqual(n)||gs(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iG(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class ph{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Al extends x6{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(w6("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Fe(xe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Al._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Al._jsonSchemaVersion="firestore/documentSnapshot/1.0",Al._jsonSchema={type:Fn("string",Al._jsonSchemaVersion),bundleSource:Fn("string","DocumentSnapshot"),bundleName:Fn("string"),bundle:Fn("string")};class Dm extends Al{data(e={}){return super.data(e)}}class Th{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ph(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Dm(this._firestore,this._userDataWriter,r.key,r,new ph(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Fe(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const f=new Dm(i._firestore,i._userDataWriter,c.doc.key,c.doc,new ph(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>s||c.type!==3)).map((c=>{const f=new Dm(i._firestore,i._userDataWriter,c.doc.key,c.doc,new ph(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:aG(c.type),doc:f,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Fe(xe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Th._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=YE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function aG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sG(t){t=kl(t,Qn);const e=kl(t.firestore,Sy);return HH(p6(e),t._key).then((n=>uG(e,t,n)))}Th._jsonSchemaVersion="firestore/querySnapshot/1.0",Th._jsonSchema={type:Fn("string",Th._jsonSchemaVersion),bundleSource:Fn("string","QuerySnapshot"),bundleName:Fn("string"),bundle:Fn("string")};class oG extends rG{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ni(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qn(this.firestore,null,n)}}function aS(t,e,n){t=kl(t,Qn);const r=kl(t.firestore,Sy),i=iG(t.converter,e,n);return S6(r,[JH(y6(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,wa.none())])}function lG(t,e,n,...r){t=kl(t,Qn);const i=kl(t.firestore,Sy),s=y6(i);let l;return l=typeof(e=Pr(e))=="string"||e instanceof Ey?eG(s,"updateDoc",t._key,e,n,r):ZH(s,"updateDoc",t._key,e),S6(i,[l.toMutation(t._key,wa.exists(!0))])}function S6(t,e){return(function(r,i){const s=new yo;return r.asyncQueue.enqueueAndForget((async()=>RH(await zH(r),i,s))),s.promise})(p6(t),e)}function uG(t,e,n){const r=n.docs.get(e._key),i=new oG(t);return new Al(t,i,e._key,r,new ph(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Gc=i})(Hc),lc(new Pl("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),c=new Sy(new K8(r.getProvider("auth-internal")),new X8(l,r.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Fe(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dh(h.options.projectId,p)})(l,i),l);return s={useFetchStreams:n,...s},c._setSettings(s),c}),"PUBLIC").setMultipleInstances(!0)),mo(VI,$I,e),mo(VI,$I,"esm2020")})();var cG="firebase",fG="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mo(cG,fG,"app");const hG={apiKey:"AIzaSyDkU88zoYfO7URAqi19qtIDGs25zkgJ4_g",authDomain:"ai-code-typer-db.firebaseapp.com",projectId:"ai-code-typer-db",storageBucket:"ai-code-typer-db.firebasestorage.app",messagingSenderId:"713662672910",appId:"1:713662672910:web:990f2412b177a3e5fd8c5f",measurementId:"G-N1NK71JBG7"},E6=y4(hG),Lu=z8(E6),dG=new as,sS=KH(E6),T6=$.createContext(null),Oy=()=>{const t=$.useContext(T6);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},pG=()=>{function t(e,n){const r=localStorage.getItem(e);if(!r)return n;try{return JSON.parse(r)}catch{return n}}return{theme:localStorage.getItem("theme")||"light",languageId:localStorage.getItem("selectedLanguage")||"python",snippetLength:localStorage.getItem("snippetLength")||"medium",snippetLevel:localStorage.getItem("snippetLevel")||"medium",blockOnErrorThreshold:Number(localStorage.getItem("blockOnErrorThreshold"))||2,fontSize:localStorage.getItem("fontSize")||"md",showKeyboard:localStorage.getItem("showKeyboard")?localStorage.getItem("showKeyboard")==="true":window.innerWidth>=768,showHandGuide:localStorage.getItem("showHandGuide")!=="false",wpmGoal:Number(localStorage.getItem("wpmGoal"))||20,accuracyGoal:Number(localStorage.getItem("accuracyGoal"))||95,timeGoal:Number(localStorage.getItem("timeGoal"))||15,lastSetupTab:localStorage.getItem("setupTab")||"generate",lastPracticeMode:localStorage.getItem("practiceMode")||"code",generalContentTypes:t("generalContentTypes",["characters"])}},mG=({children:t})=>{const[e,n]=$.useState(null),[r,i]=$.useState(null),[s,l]=$.useState(!0),[c,f]=$.useState("idle"),h=async _=>{try{f("syncing");const E=localStorage.getItem("practiceHistory"),S=E?JSON.parse(E):[],w=pG(),O=rS(sS,"users",_),I=await sG(O);let N=[],L,C=!1;if(I.exists()){const P=I.data();N=P.history||[],L=P.preferences,C=!0}let M=N,A=!1;if(S.length>0){const P=new Set(N.map(U=>U.id)),k=S.filter(U=>!P.has(U.id));k.length>0&&(M=[...N,...k],A=!0),localStorage.removeItem("practiceHistory"),localStorage.removeItem("keyErrorStats"),localStorage.removeItem("keyAttemptStats")}return(A||!C)&&(C?A&&await lG(O,{history:M}):await aS(O,{history:M})),f("synced"),{history:M,preferences:w}}catch(E){return console.error("Sync failed:",E),f("error"),null}};$.useEffect(()=>{const _=Rz(Lu,async E=>{if(E){n(E);const S=await h(E.uid);S&&i(S)}else n(null),i(null);l(!1)});return()=>{_()}},[]);const p=async()=>{try{await Jz(Lu,dG)}catch(_){throw console.error("Login failed:",_),_}},m=async()=>{try{await Nz(Lu)}catch(_){console.error("Logout failed:",_)}},v=async _=>{if(Lu.currentUser)try{await Cz(Lu.currentUser,_),n({...Lu.currentUser,..._})}catch(E){throw console.error("Failed to update profile",E),E}};return x.jsx(T6.Provider,{value:{user:e,userData:r,loading:s,loginWithGoogle:p,logout:m,syncStatus:c,updateUserProfile:v},children:t})},vn=[{id:"python",name:"Python",prismAlias:"python"},{id:"javascript",name:"JavaScript",prismAlias:"javascript"},{id:"typescript",name:"TypeScript",prismAlias:"typescript"},{id:"cpp",name:"C++",prismAlias:"cpp"},{id:"java",name:"Java",prismAlias:"java"},{id:"csharp",name:"C#",prismAlias:"csharp"},{id:"c",name:"C",prismAlias:"c"},{id:"go",name:"Go",prismAlias:"go"},{id:"rust",name:"Rust",prismAlias:"rust"},{id:"php",name:"PHP",prismAlias:"php"},{id:"ruby",name:"Ruby",prismAlias:"ruby"},{id:"swift",name:"Swift",prismAlias:"swift"},{id:"kotlin",name:"Kotlin",prismAlias:"kotlin"},{id:"html",name:"HTML",prismAlias:"html"},{id:"css",name:"CSS",prismAlias:"css"},{id:"sql",name:"SQL",prismAlias:"sql"}],gG="https://ai-code-typer-proxy.khannaseem1704.workers.dev",yG={easy:"basic syntax and concepts, like variable declaration and simple loops",medium:"intermediate concepts, like functions, classes, or common library usage",hard:"advanced or complex topics, like asynchronous programming, data structures, or algorithms"},Cy={short:"5-10 lines",medium:"15-20 lines",long:"25-30 lines"},Iy=async(t,e)=>{var i,s,l,c,f,h;let r=null;for(let p=0;p<=3;p++)try{const v=await fetch(gG,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:t,systemInstruction:e||`You are a code generation engine for a typing practice app.
Your task is to provide a code snippet based on the user's request.
The snippet MUST be clean, raw code.
ABSOLUTELY NO explanations, comments, markdown backticks(\`\`\`), or any text other than the code itself.
The code must be syntactically correct for the requested language.`})});if(v.status===429)throw new Error("429: Too Many Requests");if(!v.ok){let w=v.statusText,O=!1;try{const I=await v.json();I!=null&&I.error&&(w=JSON.stringify(I.error),(I.error.code===429||I.error.status==="RESOURCE_EXHAUSTED"||(i=I.error.message)!=null&&i.toLowerCase().includes("quota"))&&(O=!0))}catch{try{const N=await v.text();N&&(w=`${v.status} - ${N}`,N.toLowerCase().includes("quota")&&(O=!0))}catch{}}throw O?new Error("Quota Exceeded: The AI service daily limit has been reached."):v.status===503||w.includes('"status":"UNAVAILABLE"')||w.includes("overloaded")?new Error('AI Service Overloaded: The model is currently overloaded. Please try again in a few moments or use the "Upload Text" option instead.'):new Error(`Worker Error: ${w}`)}const _=await v.json(),E=(h=(f=(c=(l=(s=_==null?void 0:_.candidates)==null?void 0:s[0])==null?void 0:l.content)==null?void 0:c.parts)==null?void 0:f[0])==null?void 0:h.text;if(!E)throw new Error(_.error||"The AI returned an empty snippet. Please try again.");return E.replace(/^```(?:\w+\n)?/,"").replace(/```$/,"").trim()}catch(m){r=m;const v=m instanceof Error&&m.message.includes("429"),_=m instanceof Error&&m.message.includes("AI Service Overloaded"),E=m instanceof Error&&m.message.includes("Quota Exceeded");if((v||_)&&!E&&p<3){const S=Math.pow(2,p)*1e3;await new Promise(w=>setTimeout(w,S));continue}break}throw console.error("Error generating snippet:",r),r?r.message.includes("Quota Exceeded")?r:r.message.includes("AI Service Overloaded")?new Error("AI model is overloaded. Try Upload Text option or wait a moment and retry."):r.message.includes("429")?new Error("AI service is busy. Please try again shortly."):r:new Error("Unknown error generating snippet.")},NP=async(t,e,n)=>{const r=`Generate a code snippet in ${t.name}. 
The snippet should be ${Cy[e]} long.
The difficulty level should be ${yG[n]}.`,i=`You are a strict code generation engine.
  RULES:
  1. Generate ONLY valid, clean, compilable code in ${t.name}.
  2. NO comments. NO explanation. NO markdown. NO backticks.
  3. CODE MUST BE REAL, FUNCTIONAL, AND GRAMMATICALLY CORRECT for the language.
  4. DO NOT write pseudo-code or fake logic.
  5. CRITICAL: INDENTATION MUST USE TAB CHARACTERS (	). NEVER USE SPACES FOR INDENTATION.
  6. Do not convert tabs to spaces. Use actual tab characters.`;return Iy(r,i)},kP=async(t,e,n,r)=>{const s=`Generate a TARGETED PRACTICE snippet.
  
  Target Keys: [${e.map(l=>l===" "?"space":l===`
`?"newline":l==="	"?"tab":l).join(", ")}]
  Language Style: ${t.name} (but NOT functional code)
  Length: ${Cy[n]}
  
  CRITICAL RULES:
  1. The snippet must be MEANINGLESS but READABLE (pseudo-code sentences, fake logic).
  2. The Target Keys must appear 5x MORE FREQUENTLY than normal.
  3. Do NOT generate real working code. It should feel like muscle memory training.
  4. Use structure (brackets, indentation) if the language uses them.
  5. NO explanations, NO comments, ONLY the raw snippet.
  
  Examples of style:
  - "while w wraps words { ww }"
  - "Tab shifts w into wider waves { }"
  - "x = (x + x) * x; // x marks the spot"
  
  Generate the snippet now.`;return Iy(s)},vG=async(t,e,n=["characters"])=>{const r=n.includes("characters"),i=n.includes("numbers"),s=n.includes("symbols");let l="";r&&i&&s?l=`Generate a text that heavily mixes words, numbers, and symbols.
    - CRITICAL REQUIREMENT: Every single sentence or line MUST contain at least one number AND one symbol.
    - Style: Technical data logs, complex passwords, inventory lists, or code-like pseudo text.
    - Example format: "User_ID: #4928 @ 10:45PM (Status: 99% Verified!)"`:r&&i?l=`Generate a text containing words and numbers. 
    - Style: Addresses, historical dates, scientific facts with measurements, or financial summaries.
    - CRITICAL REQUIREMENT: Frequent use of digits mixed with sentences. Do NOT use complex symbols like @#$%^ (only basic punctuation like . , is allowed).
    - Example format: "On July 4th, 1776, approximately 2.5 million people lived there."`:r&&s?l=`Generate a text containing words and symbols.
    - Style: Dialogues with heavy punctuation, code comments, or expressive writing.
    - CRITICAL REQUIREMENT: Frequent use of brackets (), [], {}, punctuation !?.,:; and symbols @#&. Do NOT use numbers 0-9.
    - Example format: "Hello (world)! Waiting for response... [OK] -> {verified}."`:i&&s?l=`Generate a sequence of Numbers and Symbols ONLY.
    - ABSOLUTELY FORBIDDEN: DO NOT INCLUDE ANY ALPHABET CHARACTERS (A-Z, a-z).
    - Style: Math equations, currency calculations, or abstract data strings.
    - Example format: "123+456=$579; (80% * 10) = #800 // 99.9"`:i?l=`Generate a sequence of Numbers ONLY.
    - ABSOLUTELY FORBIDDEN: DO NOT INCLUDE LETTERS OR SYMBOLS (except decimal points).
    - Style: Phone numbers, years, zip codes, or raw data streams.
    - Example format: "1990 2023 8837 1.45 00392 998 112"`:s?l=`Generate a sequence of Symbols ONLY.
    - ABSOLUTELY FORBIDDEN: DO NOT INCLUDE LETTERS OR NUMBERS.
    - Style: Random symbol patterns for pinky finger practice.
    - Example format: "!@# $ %^ &*() _+ {} [] : ; < > ?"`:l=`Generate standard English paragraphs.
    - Style: Informative, story-telling, or essays.
    - Requirement: Standard grammar and punctuation. Minimize numbers and complex symbols.`;let c="";e==="easy"&&(c="Use simple, repetitive patterns and lower density of complex items."),e==="medium"&&(c="Use varied patterns and moderate density of selected elements."),e==="hard"&&(c="Maximize the density, randomness, and complexity of the selected elements. Make it challenging.");const f=`Generate a random typing practice snippet.
The length should be roughly ${Cy[t]}.
${l}
${c}`;return Iy(f,`You are a text generation engine for a general typing practice app. 
  RULES:
  1. Generate ONLY normal English text or mixed content based on instructions.
  2. ABSOLUTELY NO PROGRAMMING CODE.
  3. NO function-like patterns, NO classes, NO loops, NO braces like {}, [], () used in a code style.
  4. NO variable-like words (temp1, obj2, xValue).
  5. Format naturally with line breaks every 8-12 words.
  6. NO markdown, headers, or backticks.`)},bG=async(t,e="medium")=>{const n=Object.entries(t).map(([h,p])=>({key:h,errorRate:p.attempts>0?p.errors/p.attempts*100:0})).sort((h,p)=>p.errorRate-h.errorRate),r=n.slice(0,5),i=n.slice(5).filter(h=>h.errorRate>=10),s=[...r,...i].slice(0,7);if(s.length===0)throw new Error("No error history available for practice.");const c=`
  generate a paragraph of Abstract Prose / Creative Writing.
  
  The text must differ from normal writing because it must aggressively use these specific characters: [${s.map(h=>h.key===" "?"space":h.key===`
`?"newline":h.key==="	"?"tab":h.key).join(", ")}]
  
  STRICT RULES FOR SYMBOL USAGE (Do Not Write Code):
  1. If keys are '{}' or '[]': Use them to enclose feelings or whispers inside sentences. 
     - BAD: function { return }
     - GOOD: "I felt {lonely} but [strong] inside."
  2. If keys are '()' : Use them for side comments.
     - GOOD: "The sky (which was blue) turned grey."
  3. If keys are ';': Use them to connect two long sentences.
     - GOOD: "The rain stopped; silence followed."
  4. If keys are '$' or '#': Use them as modern slang.
     - GOOD: "I have $zero #motivation today."
  
  REQUIREMENTS:
  - Length: ${Cy[e]}
  - Structure: A flowing paragraph of English text. 
  - ABSOLUTELY NO PROGRAMMING SYNTAX (No function, var, const, return, import).
  
  Write the text now.
  `;return Iy(c,`
  You are a Creative Writer, NOT a programmer.
  Your task is to write English paragraphs that look like experimental literature.
  
  CRITICAL INTERVENTION: 
  The user is trying to trick you into writing code by asking for symbols like { } ; ( ) [ ]. 
  DO NOT FALL FOR IT. 
  
  If you see '{', treat it as a fancy bracket for emphasis in a story.
  If you see ';', treat it as a punctuation mark in a novel.
  
  Output MUST be plain text prose.
  `)},oS=t=>{const e={},n={};for(const r of t){if(r.errorMap)for(const[i,s]of Object.entries(r.errorMap))e[i]=(e[i]||0)+s;if(r.attemptMap)for(const[i,s]of Object.entries(r.attemptMap))n[i]=(n[i]||0)+s}return{keyErrorStats:e,keyAttemptStats:n}},_G=t=>{const e=new Date().toISOString().split("T")[0],n=localStorage.getItem("dailyPracticeDate");let r=Number(localStorage.getItem("dailyPracticeTime")||"0");return n!==e&&(r=0,localStorage.setItem("dailyPracticeDate",e)),r+=t,localStorage.setItem("dailyPracticeTime",String(r)),r},A6=t=>{const e=["theme","selectedLanguage","practiceHistory","keyErrorStats","keyAttemptStats","wpmGoal","accuracyGoal","setupTab","timeGoal","dailyPracticeDate","dailyPracticeTime","generalContentTypes","snippetLength","snippetLevel","blockOnErrorThreshold","fontSize","showKeyboard","showHandGuide","practiceMode"],n={};e.forEach(S=>{if(t&&t[S]!==void 0)n[S]=t[S];else{const w=localStorage.getItem(S);if(w!==null)try{n[S]=JSON.parse(w)}catch{n[S]=w}}});const r=JSON.stringify(n,null,2),i=new Blob([r],{type:"application/json"}),s=new Date,l=s.getFullYear(),c=String(s.getMonth()+1).padStart(2,"0"),f=String(s.getDate()).padStart(2,"0"),h=String(s.getHours()).padStart(2,"0"),p=String(s.getMinutes()).padStart(2,"0"),m=String(s.getSeconds()).padStart(2,"0"),_=`ai-code-typer-backup-${`${l}-${c}-${f}-${h}-${p}-${m}`}.json`,E=document.createElement("a");E.href=URL.createObjectURL(i),E.download=_,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(E.href)},xG=(t,e)=>{let n;try{n=JSON.parse(t)}catch{throw new Error("Invalid JSON file. Could not parse data.")}if(typeof n!="object"||n===null||Array.isArray(n))throw new Error("Invalid backup file format: not a JSON object.");if(!["theme","selectedLanguage","practiceHistory","keyErrorStats","wpmGoal"].some(h=>h in n))throw new Error("File does not appear to be a valid AI Code Typer backup.");Object.keys(n).forEach(h=>{if(h!=="practiceHistory"&&h!=="keyErrorStats"&&h!=="keyAttemptStats"){const p=n[h],m=typeof p=="string"?p:JSON.stringify(p);localStorage.setItem(h,m)}});let s=[];const l=Array.isArray(n.practiceHistory)?n.practiceHistory:[];if(e==="merge"){const h=localStorage.getItem("practiceHistory"),p=h?JSON.parse(h):[],m=new Set(p.map(_=>_.timestamp)),v=l.filter(_=>!m.has(_.timestamp));s=[...p,...v],s.sort((_,E)=>_.timestamp-E.timestamp)}else s=l;let{keyErrorStats:c,keyAttemptStats:f}=oS(s);Object.keys(c).length===0&&n.keyErrorStats&&Object.keys(n.keyErrorStats).length>0&&e==="replace"&&(c=n.keyErrorStats),Object.keys(f).length===0&&n.keyAttemptStats&&Object.keys(n.keyAttemptStats).length>0&&e==="replace"&&(f=n.keyAttemptStats),localStorage.setItem("practiceHistory",JSON.stringify(s)),localStorage.setItem("keyErrorStats",JSON.stringify(c)),localStorage.setItem("keyAttemptStats",JSON.stringify(f))},MP={id:"custom",name:"Custom",prismAlias:"clike"},Vu=["sm","md","lg","xl"],wG=t=>{const e=t.lastIndexOf(".");if(e<0)return MP;const n=t.substring(e).toLowerCase();return{".py":vn.find(i=>i.id==="python"),".js":vn.find(i=>i.id==="javascript"),".jsx":vn.find(i=>i.id==="javascript"),".ts":vn.find(i=>i.id==="typescript"),".tsx":vn.find(i=>i.id==="typescript"),".java":vn.find(i=>i.id==="java"),".cpp":vn.find(i=>i.id==="cpp"),".cc":vn.find(i=>i.id==="cpp"),".cxx":vn.find(i=>i.id==="cpp"),".h":vn.find(i=>i.id==="cpp"),".hpp":vn.find(i=>i.id==="cpp"),".go":vn.find(i=>i.id==="go"),".rs":vn.find(i=>i.id==="rust")}[n]||MP},Jf=t=>t.split(`
`).map(e=>{const n=e.match(/^ +/);if(n){const r=n[0].length;if(r>0&&r%4===0){const i=r/4;return"	".repeat(i)+e.substring(r)}}return e}).join(`
`);function ro(t,e){if(typeof window>"u")return e;try{const n=localStorage.getItem(t);return n?JSON.parse(n):e}catch(n){return console.warn(`Failed to parse localStorage key "${t}":`,n),e}}const In=$.createContext(null),SG=({children:t})=>{const{user:e,syncStatus:n,userData:r,loading:i}=Oy(),[s,l]=$.useState(()=>{const ie=localStorage.getItem("theme");return ie||"light"}),[c,f]=$.useState(()=>{const ie=localStorage.getItem("selectedLanguage");return vn.find(Re=>Re.id===(ie||"python"))||vn[0]}),[h,p]=$.useState("code"),[m,v]=$.useState(()=>ro("generalContentTypes",["characters"])),[_,E]=$.useState(""),[S,w]=$.useState(!1),[O,I]=$.useState(null),[N,L]=$.useState(!1),[C,M]=$.useState("medium"),[A,P]=$.useState("medium"),[k,U]=$.useState(2),[D,B]=$.useState(()=>{const ie=localStorage.getItem("fontSize");return ie&&Vu.includes(ie)?ie:"md"}),[V,Q]=$.useState(()=>typeof window<"u"?window.innerWidth>=768:!0),[J,H]=$.useState(!0),[Y,ee]=$.useState("home"),ue=$.useRef(null),[ve,F]=$.useState(!1),[W,oe]=$.useState(0),me=W>0,we=$.useCallback(()=>oe(ie=>ie+1),[]),Se=$.useCallback(()=>oe(ie=>Math.max(0,ie-1)),[]),[ke,$e]=$.useState(()=>ro("practiceHistory",[])),[ye,Ee]=$.useState(()=>ro("keyErrorStats",{})),[Ne,ne]=$.useState(()=>ro("keyAttemptStats",{})),[He,_e]=$.useState(()=>parseInt(localStorage.getItem("wpmGoal")||"20",10)),[Te,Be]=$.useState(()=>parseInt(localStorage.getItem("accuracyGoal")||"95",10)),[Ke,st]=$.useState(()=>parseInt(localStorage.getItem("timeGoal")||"15",10)),[We,qe]=$.useState(()=>{const ie=new Date().toISOString().split("T")[0];return localStorage.getItem("dailyPracticeDate")===ie?Number(localStorage.getItem("dailyPracticeTime")||"0"):(localStorage.setItem("dailyPracticeTime","0"),localStorage.setItem("dailyPracticeDate",ie),0)}),[xt,Dt]=$.useState(!1),[En,Ie]=$.useState([]),[ht,_t]=$.useState(null),[Vt,Zt]=$.useState(null),[en,_n]=$.useState(()=>localStorage.getItem("setupTab")||"generate"),[Pt,he]=$.useState([]),[Ae,Ge]=$.useState(-1),[Rt,ot]=$.useState(null),Kt=$.useRef(null),[Nt,dt]=$.useState(0),$t=$.useCallback((ie,Re,je=4e3)=>{Kt.current&&clearTimeout(Kt.current),ot({message:ie,type:Re}),Kt.current=window.setTimeout(()=>{ot(null)},je)},[]),Ue=!!_,Oe=ie=>{l(ie),document.documentElement.classList.toggle("dark",ie==="dark"),localStorage.setItem("theme",ie)},Me=()=>Oe(s==="light"?"dark":"light"),pt=ie=>{f(ie),localStorage.setItem("selectedLanguage",ie.id)},Mt=ie=>{M(ie),localStorage.setItem("snippetLength",ie)},or=ie=>{P(ie),localStorage.setItem("snippetLevel",ie)},Vr=ie=>{U(ie),localStorage.setItem("blockOnErrorThreshold",String(ie))},Dn=ie=>{B(ie),localStorage.setItem("fontSize",ie)},Xr=()=>{const ie=Vu.indexOf(D);ie<Vu.length-1&&Dn(Vu[ie+1])},af=()=>{const ie=Vu.indexOf(D);ie>0&&Dn(Vu[ie-1])},ja=ie=>{Q(ie),localStorage.setItem("showKeyboard",String(ie))},No=()=>ja(!V),ko=ie=>{H(ie),localStorage.setItem("showHandGuide",String(ie))},Da=()=>ko(!J),Li=ie=>{_n(ie),localStorage.setItem("setupTab",ie)},Xl=ie=>{p(ie),localStorage.setItem("practiceMode",ie)},Qr=ie=>{v(ie),localStorage.setItem("generalContentTypes",JSON.stringify(ie))},Jr=(ie,Re,je)=>{_e(ie),Be(Re),st(je),localStorage.setItem("wpmGoal",String(ie)),localStorage.setItem("accuracyGoal",String(Re)),localStorage.setItem("timeGoal",String(je))};$.useEffect(()=>{if(n==="synced"){const ie=localStorage.getItem("practiceHistory");if(ie){console.log("Sync complete. Hydrating from local storage.");try{const Re=JSON.parse(ie);if(Array.isArray(Re)&&Re.length>0){$e(Re);const{keyErrorStats:je,keyAttemptStats:Qe}=oS(Re);Ee(je),ne(Qe)}}catch(Re){console.error("Failed to hydrate",Re)}}}},[n]),$.useEffect(()=>{if(r){if(r.history){$e(r.history);const{keyErrorStats:ie,keyAttemptStats:Re}=oS(r.history);Ee(ie),ne(Re)}Rn(!0)}else e||Rn(!0)},[r,e]);const[Pn,Rn]=$.useState(!1);$.useEffect(()=>{const ie=Qe=>{Qe.key==="Alt"&&(Qe.preventDefault(),Dt(!0))},Re=Qe=>{Qe.key==="Alt"&&Dt(!1)},je=()=>{Dt(!1)};return window.addEventListener("keydown",ie),window.addEventListener("keyup",Re),window.addEventListener("blur",je),()=>{window.removeEventListener("keydown",ie),window.removeEventListener("keyup",Re),window.removeEventListener("blur",je)}},[]);const $r=()=>F(!0),Vi=()=>F(!1),As=ie=>{ie!==Y&&(ue.current=Y),ee(ie)},Ql=()=>ue.current,Jl=$.useCallback(ie=>{Zt(()=>ie)},[]),mi=$.useCallback(()=>{Vt&&Vt()},[Vt]),$i=()=>{he([]),Ge(-1)},_r=$.useCallback(async ie=>{if(S)return!1;const Re=(ie==null?void 0:ie.mode)||h,je=(ie==null?void 0:ie.length)||C,Qe=(ie==null?void 0:ie.level)||A,lt=(ie==null?void 0:ie.contentTypes)||m;w(!0),E(""),I(null),L(!1),Re!=="targeted"&&Ie([]);try{let mt="";if(Re==="code")mt=await NP(c,je,Qe);else if(Re==="targeted"){const Lt=En;Lt.length>0?mt=await kP(c,Lt,je,Qe):mt=await NP(c,je,Qe)}else Re==="general"&&(mt=await vG(je,Qe,lt));return E(Jf(mt)),dt(Lt=>Lt+1),!0}catch(mt){const Lt=mt instanceof Error?mt.message:"Failed to generate snippet. Please try again.";return I(Lt),dt(wr=>wr+1),console.error(mt),!1}finally{w(!1)}},[c,C,A,S,h,m,En]),xr=(ie,Re)=>{$i();const je=Jf(ie);E(je),L(!0),Ie([]),dt(Qe=>Qe+1),Re&&p(Re)},Rr=$.useCallback(async(ie,Re)=>{if(!S){p("targeted"),Ie(ie),$i(),E(""),I(null),L(!1),w(!0);try{const je=await kP(c,ie,Re.length,Re.level);E(Jf(je)),dt(Qe=>Qe+1)}catch(je){const Qe=je instanceof Error?je.message:"Failed to fetch a targeted snippet. Please try again.";I(Qe),dt(lt=>lt+1),console.error(je)}finally{w(!1)}}},[c,S]),gi=$.useCallback(async()=>{if(S)return;const ie=Object.entries(ye).filter(([Re,je])=>je>0).sort((Re,je)=>je[1]-Re[1]).map(([Re])=>Re);if(ie.length===0){$t("No error history found! Practice more to generate error data.","info");return}p("error-training"),Ie(ie),$i(),E(""),I(null),L(!1),w(!0);try{const Re={};ie.forEach(Qe=>{const lt=ye[Qe]||0,mt=Ne[Qe]||lt;Re[Qe]={errors:lt,attempts:mt}});const je=await bG(Re,C);E(Jf(je)),dt(Qe=>Qe+1)}catch(Re){const je=Re instanceof Error?Re.message:"Failed to generate error practice snippet.";I(je),dt(Qe=>Qe+1),console.error(Re)}finally{w(!1)}},[ye,Ne,S,$t,C]),xn=$.useCallback(ie=>{if(Pt[ie]){const Re=Pt[ie];E(Re.code),f(Re.language),Ge(ie),L(!0),Ie([]),I(null),w(!1),dt(je=>je+1)}},[Pt]),Mo=async ie=>{w(!0),E(""),$i();const Re=je=>new Promise((Qe,lt)=>{const mt=new FileReader;mt.onload=Lt=>{var lr;const wr=(lr=Lt.target)==null?void 0:lr.result,sa=wr.trim(),eu=wr.replace(/\r\n?/g,`
`),oa=Jf(eu);Qe({code:oa,name:je.name,language:wG(je.name),isValid:sa.length>=2})},mt.onerror=Lt=>lt(Lt),mt.readAsText(je)});try{const je=await Promise.all(ie.map(Re)),Qe=je.filter(Lt=>Lt.isValid),lt=je.filter(Lt=>!Lt.isValid);if(lt.length>0){const Lt=lt.map(wr=>wr.name).join(", ");$t(`Ignored files with less than 2 characters: ${Lt}`,"warning",6e3)}if(Qe.length===0)throw $t("All selected files are invalid. Code must be at least 2 characters long.","error"),new Error("All selected files are invalid.");he(Qe);const mt=Qe[0];E(mt.code),f(mt.language),Ge(0),L(!0),I(null),dt(Lt=>Lt+1)}catch(je){const Qe=je instanceof Error?je.message:"Failed to process files.";throw I(Qe),dt(lt=>lt+1),console.error(je),je}finally{w(!1)}},La=$.useCallback(()=>{const ie=Ae+1;ie<Pt.length&&xn(ie)},[Ae,Pt,xn]),Zr=async ie=>{if(e)try{console.log("Saving history to cloud...",ie.length),await aS(rS(sS,"users",e.uid),{history:ie},{merge:!0}),console.log("Cloud save successful.")}catch(Re){console.error("Failed to save history:",Re),$t("Failed to sync with cloud. Please check your connection.","error")}},yi=ie=>{const Re={...ie};h==="general"&&(Re.language="General");let je=[];$e(lt=>{const mt=lt.findIndex(Lt=>Lt.id===Re.id);return mt>=0?(je=[...lt],je[mt]=Re):je=[...lt,Re].slice(-100),je}),localStorage.setItem("practiceHistory",JSON.stringify(je)),Zr(je);const Qe=_G(Re.duration);qe(Qe),ie.errorMap&&Ee(lt=>{const mt={...lt};for(const[Lt,wr]of Object.entries(ie.errorMap))mt[Lt]=(mt[Lt]||0)+wr;return mt}),ie.attemptMap&&ne(lt=>{const mt={...lt};for(const[Lt,wr]of Object.entries(ie.attemptMap))mt[Lt]=(mt[Lt]||0)+wr;return mt})},jo=()=>Dt(!0),Do=()=>Dt(!1),Lo=$.useCallback(()=>{const ie=localStorage.getItem("theme");l(ie||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"));const Re=localStorage.getItem("selectedLanguage");f(vn.find(lt=>lt.id===Re)||vn[0]),$e(ro("practiceHistory",[])),Ee(ro("keyErrorStats",{})),ne(ro("keyAttemptStats",{})),_e(parseInt(localStorage.getItem("wpmGoal")||"20",10)),Be(parseInt(localStorage.getItem("accuracyGoal")||"95",10)),st(parseInt(localStorage.getItem("timeGoal")||"15",10));const je=new Date().toISOString().split("T")[0],Qe=localStorage.getItem("dailyPracticeDate");qe(Qe===je?Number(localStorage.getItem("dailyPracticeTime")||"0"):0),_n(localStorage.getItem("setupTab")||"generate"),v(ro("generalContentTypes",["characters"]))},[]),Zl=$.useCallback(async(ie,Re,je,Qe,lt)=>{je?(xr(je,Qe),Vi(),As("practice")):(ie&&M(ie),Re&&P(Re),Qe&&p(Qe),lt&&v(lt),Vi(),As("practice"),await _r({length:ie||C,level:Re||A,mode:Qe||h,contentTypes:lt||m}))},[Vi,xr,_r,C,A,h,m,As]),Os=$.useCallback(()=>{Pt.length>0&&Ae<Pt.length-1?La():_r()},[Pt,Ae,La,_r]),Nr=$.useCallback(()=>{dt(ie=>ie+1)},[]),Tn=$.useCallback(()=>{$r(),dt(ie=>ie+1)},[$r]),Ln=$.useCallback(ie=>{const Re=ke.find(mt=>mt.timestamp===ie);if(!Re)return;const je=ke.filter(mt=>mt.timestamp!==ie);$e(je),localStorage.setItem("practiceHistory",JSON.stringify(je));const Qe=new Date(Re.timestamp).toDateString(),lt=new Date().toDateString();if(Qe===lt){qe(Lt=>Math.max(0,Lt-Re.duration));const mt=Number(localStorage.getItem("dailyPracticeTime")||"0");localStorage.setItem("dailyPracticeTime",String(Math.max(0,mt-Re.duration)))}Zr(je)},[ke,e]),aa=$.useCallback(async()=>{if($e([]),qe(0),Ee({}),ne({}),l("light"),f(vn.find(Re=>Re.id==="python")||vn[0]),p("code"),v(["characters"]),M("medium"),P("medium"),U(2),B("medium"),_e(20),Be(95),st(15),Q(window.innerWidth>=768),H(!0),["practiceHistory","keyErrorStats","keyAttemptStats","dailyPracticeTime","dailyPracticeDate","theme","selectedLanguage","generalContentTypes","snippetLength","snippetLevel","blockOnErrorThreshold","fontSize","wpmGoal","accuracyGoal","timeGoal","setupTab","sessionResultToShow","continuedSession","showKeyboard"].forEach(Re=>localStorage.removeItem(Re)),e)try{console.log("Wiping cloud data..."),await aS(rS(sS,"users",e.uid),{history:[],preferences:{theme:"dark",languageId:vn[0].id}}),console.log("Cloud wipe successful."),$t("All history and preferences cleared from device and cloud.","info")}catch(Re){console.error("Failed to wipe cloud data:",Re),$t("Failed to clear cloud data. Please check connection.","error")}else $t("All local history and preferences cleared.","info")},[e,$t]),Vo={theme:s,toggleTheme:Me,selectedLanguage:c,setSelectedLanguage:pt,snippet:_,isLoadingSnippet:S,snippetError:O,fetchNewSnippet:_r,startCustomSession:xr,startTargetedSession:Rr,startErrorPracticeSession:gi,isCustomSession:N,isMultiFileSession:Pt.length>0,snippetLength:C,setSnippetLength:Mt,snippetLevel:A,setSnippetLevel:or,blockOnErrorThreshold:k,setBlockOnErrorThreshold:Vr,fontSize:D,increaseFontSize:Xr,decreaseFontSize:af,showKeyboard:V,toggleKeyboard:No,showHandGuide:J,toggleHandGuide:Da,page:Y,navigateTo:As,getPreviousPage:Ql,isSetupModalOpen:ve,openSetupModal:$r,closeSetupModal:Vi,isInitialSetupComplete:Ue,setupTab:en,setSetupTab:Li,practiceHistory:ke,addPracticeResult:yi,keyErrorStats:ye,keyAttemptStats:Ne,wpmGoal:He,accuracyGoal:Te,timeGoal:Ke,dailyPracticeTime:We,setGoals:Jr,isAccessKeyMenuVisible:xt,showAccessKeyMenu:jo,hideAccessKeyMenu:Do,currentTargetedKeys:En,setCurrentTargetedKeys:Ie,lastPracticeAction:ht,setLastPracticeAction:_t,setRequestFocusOnCodeCallback:Jl,requestFocusOnCode:mi,practiceQueue:Pt,currentQueueIndex:Ae,startMultiFileSession:Mo,loadNextSnippetInQueue:La,alertMessage:Rt,showAlert:$t,reloadDataFromStorage:Lo,practiceMode:h,setPracticeMode:Xl,generalContentTypes:m,setGeneralContentTypes:Qr,sessionResetKey:Nt,handleStartFromSetup:Zl,handleNextSnippet:Os,handlePracticeSame:Nr,handleSetupNew:Tn,deletePracticeSession:Ln,clearPracticeHistory:aa,isAnyModalOpen:me,registerModalOpen:we,registerModalClose:Se};return x.jsx(In.Provider,{value:Vo,children:t})},EG=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("circle",{cx:"12",cy:"12",r:"5"}),x.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),x.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),x.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),x.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),x.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),x.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),x.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),x.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),TG=t=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:x.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),AG=t=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",...t,children:x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.5,4H3.5C2.67,4,2,4.67,2,5.5v13C2,19.33,2.67,20,3.5,20h17c0.83,0,1.5-0.67,1.5-1.5V5.5C22,4.67,21.33,4,20.5,4z M6.4,8.4H4V6h2.4V8.4z M9.6,8.4H7.2V6h2.4V8.4z M12.8,8.4h-2.4V6h2.4V8.4z M16,8.4h-2.4V6h2.4V8.4z M19.2,8.4H16.8V6h2.4V8.4z M6.4,12H4V9.6h2.4V12z M9.6,12H7.2V9.6h2.4V12z M12.8,12h-2.4V9.6h2.4V12z M16,12h-2.4V9.6h2.4V12z M19.2,12H16.8V9.6h2.4V12z M16,16.4H8V14h8V16.4z"})}),jP=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M12 20V10"}),x.jsx("path",{d:"M18 20V4"}),x.jsx("path",{d:"M6 20V16"})]}),DP=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),x.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),OG=t=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:x.jsx("polyline",{points:"6 9 12 15 18 9"})}),lS=$.forwardRef(({options:t,className:e="",value:n,onChange:r,disabled:i=!1,...s},l)=>{const[c,f]=$.useState(!1),[h,p]=$.useState(Math.max(0,t.findIndex(w=>w.value===n))),m=$.useRef(null),v=$.useRef(null),_=t.find(w=>w.value===n);$.useEffect(()=>{p(Math.max(0,t.findIndex(w=>w.value===n)))},[n,t]),$.useEffect(()=>{if(c){const w=I=>{var N,L;switch(I.key){case"Escape":f(!1),(N=v.current)==null||N.focus();break;case"ArrowUp":{I.preventDefault();const C=(h-1+t.length)%t.length;p(C);break}case"ArrowDown":{I.preventDefault();const C=(h+1)%t.length;p(C);break}case"Enter":case" ":I.preventDefault(),h>=0&&h<t.length&&r(t[h].value),f(!1),(L=v.current)==null||L.focus();break}},O=I=>{m.current&&!m.current.contains(I.target)&&f(!1)};return document.addEventListener("keydown",w),document.addEventListener("mousedown",O),()=>{document.removeEventListener("keydown",w),document.removeEventListener("mousedown",O)}}},[c,h,t,r]),$.useImperativeHandle(l,()=>({focus:()=>{var w;return(w=v.current)==null?void 0:w.focus()},toggle:()=>{i||(f(w=>!w),c||p(Math.max(0,t.findIndex(w=>w.value===n))))},getTriggerElement:()=>v.current})),$.useEffect(()=>{var w;if(c){const O=(w=m.current)==null?void 0:w.querySelector("ul"),I=O==null?void 0:O.children[h];I&&I.scrollIntoView({block:"nearest"})}},[h,c]);const[E,S]=$.useState(!1);return $.useEffect(()=>{if(c&&v.current){const w=v.current.getBoundingClientRect(),O=window.innerHeight-w.bottom;S(O<220)}},[c]),x.jsxs("div",{ref:m,className:`relative ${e}`,children:[x.jsxs("button",{ref:v,type:"button",disabled:i,onClick:()=>!i&&f(!c),onKeyDown:w=>{if(!i&&!c&&(w.key==="ArrowRight"||w.key==="ArrowLeft")){w.preventDefault(),w.stopPropagation();const O=t.findIndex(L=>L.value===n),I=w.key==="ArrowRight"?1:-1;let N;O!==-1?N=(O+I+t.length)%t.length:N=0,r(t[N].value)}},className:"w-full flex items-center justify-between px-3 py-2 text-slate-900 dark:text-slate-100 bg-slate-200 dark:bg-slate-700/50 border border-transparent rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-haspopup":"listbox","aria-expanded":c,children:[x.jsx("span",{children:(_==null?void 0:_.label)||"Select..."}),x.jsx(OG,{className:`w-5 h-5 text-slate-500 dark:text-slate-400 transition-transform ${c?"rotate-180":""}`})]}),c&&x.jsx("ul",{className:`absolute z-[100] w-full bg-white dark:bg-slate-800 shadow-xl max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm border border-slate-200 dark:border-slate-700 ${E?"bottom-full mb-1":"mt-1"}`,tabIndex:-1,role:"listbox",children:t.map((w,O)=>x.jsx("li",{className:`cursor-pointer select-none relative py-2 pl-3 pr-9 transition-colors ${h===O?"text-white bg-primary-600":"text-gray-900 dark:text-gray-100 hover:bg-slate-100 dark:hover:bg-slate-700"}`,onClick:()=>{var I;r(w.value),f(!1),(I=v.current)==null||I.focus()},onMouseEnter:()=>p(O),role:"option","aria-selected":n===w.value,children:x.jsx("span",{className:`block truncate ${n===w.value?"font-semibold":"font-normal"}`,children:w.label})},w.value))})]})}),Gr=(t,e,n={})=>{const r=$.useContext(In);$.useEffect(()=>{if(!t||n.disabled||!e)return;const i=s=>{s.altKey&&s.key.toLowerCase()===t.toLowerCase()&&(s.preventDefault(),e(),r==null||r.hideAccessKeyMenu())};return window.addEventListener("keydown",i),()=>{window.removeEventListener("keydown",i)}},[t,e,n.disabled,r])},ig=({label:t})=>x.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 bg-black text-white dark:bg-white dark:text-black border border-white dark:border-black rounded-[2px] px-1.5 py-0 text-[10px] leading-tight font-sans font-bold z-50 shadow-sm pointer-events-none uppercase tracking-tighter min-w-[16px] text-center",children:t});var AT=s4();const CG=Gt(AT),gr=$.forwardRef(({children:t,className:e="",...n},r)=>x.jsx("div",{ref:r,className:`glass-card rounded-xl ${e}`,...n,children:t})),OT=$.createContext(!1),LP=document.getElementById("modal-root"),Fl=({isOpen:t,onClose:e,title:n,children:r})=>{const i=$.useRef(null),s=$.useContext(In);if(Gr("X",e,{disabled:!t}),$.useEffect(()=>{if(t)return s==null||s.registerModalOpen(),()=>{s==null||s.registerModalClose()}},[t,s]),$.useEffect(()=>{const c=document.getElementById("root"),f=h=>{h.key==="Escape"&&e()};return t&&(c==null||c.classList.add("modal-open-blur"),document.addEventListener("keydown",f)),()=>{c==null||c.classList.remove("modal-open-blur"),document.removeEventListener("keydown",f)}},[t,e]),!t||!LP)return null;const l=x.jsx("div",{className:"fixed top-0 left-0 w-[100vw] h-[100vh] z-[9999] flex items-center justify-center bg-black/70 p-4",onMouseDown:c=>{c.target===c.currentTarget&&e()},children:x.jsx(gr,{ref:i,className:"w-full max-w-md max-h-[90vh] overflow-y-auto custom-scrollbar p-6 animate-fade-in-up",children:x.jsxs(OT.Provider,{value:!0,children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:n}),x.jsx(Ye,{variant:"ghost",size:"icon",onClick:e,className:"-m-2","aria-label":"Close",title:"Close (Alt+X)",accessKeyChar:"X",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),x.jsx("div",{children:r})]})})});return AT.createPortal(l,LP)},Ye=$.forwardRef(({children:t,className:e="",variant:n="primary",size:r="md",accessKeyChar:i,accessKeyLabel:s,accessKey:l,...c},f)=>{const h=$.useContext(In),p=$.useContext(OT),m=$.useRef(null);$.useImperativeHandle(f,()=>m.current);const v=i||l;Gr(v,()=>{var O;return(O=m.current)==null?void 0:O.click()},{disabled:c.disabled});const _="font-medium rounded-lg transition-all duration-200 relative inline-flex items-center justify-center",E={primary:"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white shadow-md hover:opacity-90 disabled:opacity-50 glow-hover",secondary:"bg-slate-200 text-slate-700 hover:bg-slate-300 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600 disabled:opacity-50",ghost:"bg-transparent text-slate-600 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700 disabled:opacity-50",outline:"bg-transparent border border-slate-300 text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:border-slate-600 dark:hover:bg-slate-700 disabled:opacity-50",destructive:"bg-red-500 text-white hover:bg-red-600 disabled:opacity-50"},S={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-4 py-2",lg:"text-base px-6 py-3",icon:"p-2"},w=(h==null?void 0:h.isAccessKeyMenuVisible)&&v&&!c.disabled&&(p||!(h!=null&&h.isAnyModalOpen));return x.jsxs("button",{ref:m,className:`${_} ${E[n]} ${S[r]} ${e}`,...c,children:[w&&x.jsx(ig,{label:s||v}),t]})});Ye.displayName="Button";const IG=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M2.5 16.5 7 5l4.5 11.5"}),x.jsx("path",{d:"M4 13h6"}),x.jsx("path",{d:"M15 12h6"}),x.jsx("path",{d:"M18 9v6"})]}),PG=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M4.5 16.5 7 9l2.5 7.5"}),x.jsx("path",{d:"M5.5 14h3"}),x.jsx("path",{d:"M15 12h6"})]}),VP=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M3 6h18"}),x.jsx("path",{d:"M3 9h14"}),x.jsx("path",{d:"M3 12h18"}),x.jsx("path",{d:"M3 15h14"}),x.jsx("path",{d:"M3 18h18"})]}),$P=["sm","md","lg","xl"],RG=()=>{const t=$.useContext(In);if(!t)throw new Error("AppContext not found");const{theme:e,toggleTheme:n,selectedLanguage:r,setSelectedLanguage:i,fontSize:s,increaseFontSize:l,decreaseFontSize:c,showKeyboard:f,toggleKeyboard:h,page:p,navigateTo:m,isAccessKeyMenuVisible:v,requestFocusOnCode:_,isSetupModalOpen:E,isAnyModalOpen:S}=t,{user:w,loginWithGoogle:O,loading:I}=Oy(),[N,L]=$.useState(!1),C=$.useRef(null);Gr("L",()=>{var D;return(D=C.current)==null?void 0:D.toggle()},{disabled:E}),Gr("U",()=>m("profile"),{disabled:E||!w});const M=D=>{D(),p==="practice"&&_()},A=({page:D,label:B,icon:V,accessKeyChar:Q,onClick:J,className:H,showLabelAlways:Y})=>x.jsxs(Ye,{onClick:J,variant:p===D?"primary":"ghost",size:"sm",className:`!py-2 !gap-2 ${H||""}`,accessKeyChar:Q,disabled:E,children:[V,x.jsx("span",{className:Y?"inline":"hidden sm:inline",children:B})]}),P=$P.indexOf(s),k=P>0,U=P<$P.length-1;return x.jsxs("header",{className:"glass fixed top-0 left-0 right-0 z-40 border-b border-slate-200/50 dark:border-slate-700/50 transition-all duration-300",children:[x.jsx("div",{className:"container mx-auto px-4",children:x.jsxs("div",{className:"flex items-center justify-between h-16",children:[x.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[x.jsxs("h1",{className:"text-xl font-bold bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 dark:from-indigo-400 dark:via-purple-400 dark:to-pink-400 bg-clip-text text-transparent cursor-pointer min-w-0",onClick:()=>m("home"),children:[x.jsx("span",{className:"hidden sm:inline",children:"AI Code Typer"}),x.jsx("span",{className:"inline sm:hidden",children:"ACT"})]}),x.jsxs("nav",{className:"hidden md:flex items-center gap-1 sm:gap-2",children:[x.jsx(A,{page:"home",label:"Home",icon:x.jsx(DP,{className:"w-5 h-5"}),accessKeyChar:"H",onClick:()=>m("home")}),x.jsx(A,{page:"practice",label:"Practice",icon:x.jsx(VP,{className:"w-5 h-5"}),accessKeyChar:"P",onClick:()=>{t.snippet?m("practice"):t.openSetupModal()}}),x.jsx(A,{page:"dashboard",label:"Dashboard",icon:x.jsx(jP,{className:"w-5 h-5"}),accessKeyChar:"D",onClick:()=>m("dashboard")})]})]}),x.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[x.jsx(Ye,{variant:"ghost",size:"icon",onClick:()=>M(n),"aria-label":"Toggle theme",accessKeyChar:"M",disabled:E,children:e==="light"?x.jsx(TG,{className:"w-6 h-6"}):x.jsx(EG,{className:"w-6 h-6"})}),p==="practice"&&x.jsxs(x.Fragment,{children:[x.jsx(Ye,{variant:"ghost",size:"icon",onClick:()=>M(c),disabled:!k||E,"aria-label":"Decrease font size",accessKeyChar:"-",children:x.jsx(PG,{className:"w-6 h-6"})}),x.jsx(Ye,{variant:"ghost",size:"icon",onClick:()=>M(l),disabled:!U||E,"aria-label":"Increase font size",accessKeyChar:"=",children:x.jsx(IG,{className:"w-6 h-6"})}),x.jsx(Ye,{variant:f?"secondary":"ghost",size:"icon",onClick:()=>M(h),"aria-label":"Toggle keyboard",title:"Toggle keyboard",disabled:E,accessKeyChar:"K",children:x.jsx(AG,{className:"w-6 h-6"})})]}),x.jsxs("div",{className:"relative w-32 sm:w-40",children:[x.jsx(lS,{ref:C,value:r.id,onChange:D=>{const B=vn.find(V=>V.id===D);B&&M(()=>i(B))},disabled:E,options:vn.map(D=>({value:D.id,label:D.name}))}),v&&!S&&x.jsx(ig,{label:"L"})]}),I?x.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-200 dark:bg-slate-700 animate-pulse border-2 border-slate-100 dark:border-slate-800"}):w?x.jsxs("button",{onClick:()=>m("profile"),className:"relative group outline-none","aria-label":"User Profile",children:[x.jsx("img",{src:w.photoURL||`https://ui-avatars.com/api/?name=${w.displayName}`,alt:"Profile",className:`w-8 h-8 rounded-full border-2 border-slate-200 dark:border-slate-700 transition-transform group-hover:scale-105 ${p==="profile"?"ring-2 ring-primary-500 ring-offset-2 dark:ring-offset-slate-900":""}`}),v&&!S&&x.jsx(ig,{label:"U"})]}):x.jsx(Ye,{variant:"primary",size:"sm",onClick:O,className:"hidden sm:flex",children:"Sign In"}),!I&&!w&&x.jsx(Ye,{variant:"ghost",size:"icon",onClick:O,className:"sm:hidden text-primary-600 dark:text-primary-400",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-6 h-6",children:[x.jsx("path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}),x.jsx("polyline",{points:"10 17 15 12 10 7"}),x.jsx("line",{x1:"15",x2:"3",y1:"12",y2:"12"})]})})]})]})}),N&&x.jsx("div",{className:"md:hidden border-t border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 absolute w-full left-0 shadow-lg z-50",children:x.jsxs("div",{className:"flex flex-col p-4 space-y-2",children:[x.jsx(A,{page:"home",label:"Home",icon:x.jsx(DP,{className:"w-5 h-5"}),accessKeyChar:"H",onClick:()=>{m("home"),L(!1)},className:"w-full justify-start",showLabelAlways:!0}),x.jsx(A,{page:"practice",label:"Practice",icon:x.jsx(VP,{className:"w-5 h-5"}),accessKeyChar:"P",onClick:()=>{t.snippet?m("practice"):t.openSetupModal(),L(!1)},className:"w-full justify-start",showLabelAlways:!0}),x.jsx(A,{page:"dashboard",label:"Dashboard",icon:x.jsx(jP,{className:"w-5 h-5"}),accessKeyChar:"D",onClick:()=>{m("dashboard"),L(!1)},className:"w-full justify-start",showLabelAlways:!0})]})})]})},Ab=({title:t,description:e,icon:n})=>x.jsxs(gr,{className:"p-6 text-center hover:scale-105 transition-transform duration-300",children:[x.jsx("div",{className:"text-5xl mb-4",children:n}),x.jsx("h3",{className:"text-xl font-semibold mb-2 bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 dark:from-indigo-400 dark:via-purple-400 dark:to-pink-400 bg-clip-text text-transparent",children:t}),x.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:e})]}),NG=({onStartPractice:t})=>{const e=$.useContext(In);if(!e)throw new Error("AppContext not found");const{startCustomSession:n,fetchNewSnippet:r,isSetupModalOpen:i,openSetupModal:s,closeSetupModal:l}=e;return $.useEffect(()=>{const c=f=>{i||f.target.closest("input, textarea, select, button")||(f.key==="Enter"||f.key===" "||f.key==="Enter"&&f.ctrlKey)&&(f.preventDefault(),s())};return window.addEventListener("keydown",c),()=>{window.removeEventListener("keydown",c)}},[i,s]),x.jsx(x.Fragment,{children:x.jsxs("div",{className:"h-full overflow-y-auto custom-scrollbar",children:[x.jsxs("div",{className:"relative min-h-[70vh] flex items-center justify-center px-4 py-12",children:[x.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-gradient-to-r from-indigo-400 to-purple-400 rounded-full blur-3xl opacity-20 animate-pulse"}),x.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full blur-3xl opacity-20 animate-pulse",style:{animationDelay:"1s"}}),x.jsxs("div",{className:"relative z-10 text-center max-w-5xl mx-auto",children:[x.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full glass mb-8 animate-fade-in-up",children:[x.jsx("span",{className:"text-2xl",children:""}),x.jsx("span",{className:"text-sm font-medium bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 dark:from-indigo-400 dark:via-purple-400 dark:to-pink-400 bg-clip-text text-transparent",children:"AI-Powered Typing Practice"})]}),x.jsxs("h1",{className:"text-5xl sm:text-6xl md:text-7xl lg:text-8xl font-extrabold tracking-tight mb-6 leading-tight",children:[x.jsx("span",{className:"text-slate-900 dark:text-white",children:"Sharpen Your"}),x.jsx("br",{}),x.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 animate-fade-in-up",children:"Coding Speed"})]}),x.jsx("p",{className:"max-w-2xl mx-auto text-lg md:text-xl text-slate-600 dark:text-slate-300 mb-10 animate-fade-in-up",style:{animationDelay:"0.2s"},children:"Practice typing real code snippets generated by AI. Boost your accuracy, increase your WPM, and master your favorite programming language's syntax."}),x.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:"0.3s"},children:x.jsxs(Ye,{size:"lg",onClick:s,className:"text-lg px-8 py-4 group",children:["Start Practicing Now",x.jsx("svg",{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})}),x.jsx("div",{className:"mt-16 flex items-center justify-center gap-8 md:gap-16 animate-fade-in",style:{animationDelay:"0.5s"},children:[{value:"10+",label:"Languages"},{value:"AI",label:"Generated"},{value:"",label:"Practice"}].map((c,f)=>x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 dark:from-indigo-400 dark:via-purple-400 dark:to-pink-400 bg-clip-text text-transparent",children:c.value}),x.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:c.label})]},f))})]})]}),x.jsx("div",{className:"max-w-6xl mx-auto px-4 py-20",children:x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[x.jsx(Ab,{title:"AI-Powered Snippets",description:"Endless, unique practice sessions with code generated by Google's Gemini.",icon:""}),x.jsx(Ab,{title:"Real-time Feedback",description:"Instantly track your Words Per Minute (WPM) and typing accuracy as you go.",icon:""}),x.jsx(Ab,{title:"Syntax Focused",description:"Get comfortable with language-specific syntax, not just random words.",icon:""})]})})]})})};var Wu=(t=>(t[t.Idle=0]="Idle",t[t.Correct=1]="Correct",t[t.Incorrect=2]="Incorrect",t[t.Warning=3]="Warning",t))(Wu||{});const kG=(t,e,n={})=>{const{onPause:r,onResume:i}=n,[s,l]=$.useState(null),[c,f]=$.useState(Array(t.length).fill(0)),[h,p]=$.useState(""),[m,v]=$.useState(0),[_,E]=$.useState(100),[S,w]=$.useState(0),[O,I]=$.useState(0),[N,L]=$.useState(0),C=$.useRef(0),[M,A]=$.useState(!1),[P,k]=$.useState(!1),[U,D]=$.useState(!1),B=$.useRef({isPaused:!1,isFinished:!1,startTime:null,isTypingStarted:!1});$.useEffect(()=>{B.current={...B.current,isPaused:U,isFinished:M,startTime:s}}),$.useEffect(()=>{C.current=N},[N]);const V=$.useRef(null),Q=$.useRef(null),J=h.length,H=$.useRef(null),Y=$.useRef(0),ee=$.useRef(null),ue=$.useRef({}),ve=$.useRef({}),F=$.useCallback(()=>{V.current&&(clearTimeout(V.current),V.current=null)},[]),W=$.useCallback(()=>{H.current&&(clearInterval(H.current),H.current=null)},[]),oe=$.useCallback(()=>{const{isPaused:ne,isFinished:He,startTime:_e}=B.current;ne||He||!_e||(F(),W(),ee.current&&(Y.current+=Date.now()-ee.current),D(!0),r&&r())},[r,F,W]),me=$.useCallback(()=>{F(),B.current.isFinished||(V.current=window.setTimeout(oe,5e3))},[F,oe]),we=$.useCallback(()=>{W(),ee.current=Date.now(),H.current=window.setInterval(()=>{if(ee.current){const ne=Date.now()-ee.current;I((Y.current+ne)/1e3)}},100)},[W]),Se=$.useCallback(()=>{const{isPaused:ne,isFinished:He}=B.current;!ne||He||(D(!1),we(),me(),i&&i())},[i,me,we]),ke=$.useCallback(()=>{W(),l(null),f(Array(t.length).fill(0)),p(""),v(0),E(100),w(0),I(0),L(0),C.current=0,A(!1),k(!1),D(!1),Y.current=0,ee.current=null,B.current.isTypingStarted=!1,ue.current={},ve.current={};const ne={};for(const He of t)ne[He]=(ne[He]||0)+1;ve.current=ne,Q.current&&clearTimeout(Q.current),F()},[t,F,W]);$.useEffect(()=>{ke()},[ke]);const $e=$.useCallback(ne=>{const He=ne.length===1,_e=["Tab","Control","Shift","Enter","Backspace"].includes(ne);if(!(B.current.isFinished||t.length===0)&&!(!He&&!_e))if(B.current.isPaused?Se():B.current.isTypingStarted&&me(),B.current.isTypingStarted||(l(Date.now()),we(),me(),B.current.isTypingStarted=!0),Q.current&&clearTimeout(Q.current),k(!1),ne==="Backspace")L(0),C.current=0,J>0&&(c[J-1]===2&&w(Te=>Math.max(0,Te-1)),p(Te=>Te.slice(0,-1)),f(Te=>{const Be=[...Te];return Be[J-1]=0,Be}));else{const Te=ne==="Enter"?`
`:ne==="Tab"?"	":He?ne:null;if(Te!==null&&J<t.length){const Be=t[J],Ke=Te===Be;if(Ke)L(0),C.current=0;else{ue.current[Be]=(ue.current[Be]||0)+1,w(xt=>xt+1);const st=C.current+1;if(L(st),C.current=st,e>0&&st>=e){k(!0),Q.current=window.setTimeout(()=>k(!1),200),f(xt=>{const Dt=[...xt];return Dt[J]=2,Dt});return}}if(p(st=>st+Te),f(st=>{const We=[...st];return Ke?We[J]=1:We[J]=2,We}),J+1===t.length){F(),W();const We=(Y.current+(ee.current?Date.now()-ee.current:0))/1e3;I(We);const qe=We/60,xt=t.length/5,Dt=qe>0?Math.round(xt/qe):0;v(Dt),w(En=>{const Ie=En+(Ke?0:1),ht=Math.max(0,(t.length-Ie)/t.length*100);return E(parseFloat(ht.toFixed(2))),En}),A(!0)}}else if(Te!==null&&J===t.length){const Be=C.current+1;L(Be),C.current=Be,w(Ke=>Ke+1),k(!0),Q.current=window.setTimeout(()=>k(!1),200)}}},[J,t,S,e,Se,F,me,we,W]);$.useEffect(()=>{if(s&&!M){const ne=Y.current+(ee.current&&!U?Date.now()-ee.current:0),He=ne/6e4,_e=ne/1e3,Te=h.length/5;He>0&&(h.length>1||_e>1)?v(Math.round(Te/He)):v(0);const Be=h.length;if(Be>0){const Ke=h.split("").filter((st,We)=>st===t[We]).length;E(parseFloat((Ke/Be*100).toFixed(2)))}else E(100)}else s||(v(0),E(100))},[h,s,M,U,t]),$.useEffect(()=>W,[W]);const ye=$.useCallback(()=>{const ne=Y.current+(ee.current&&!B.current.isPaused?Date.now()-ee.current:0);return{startTime:B.current.startTime,charStates:c,typedText:h,errors:S,consecutiveErrors:N,isFinished:M,accumulatedDuration:ne,errorMap:ue.current,attemptMap:ve.current,isTypingStarted:B.current.isTypingStarted}},[c,h,S,N,M]),Ee=$.useCallback(ne=>{W(),l(ne.startTime),f(ne.charStates),p(ne.typedText),w(ne.errors),L(ne.consecutiveErrors),C.current=ne.consecutiveErrors,A(ne.isFinished),Y.current=ne.accumulatedDuration,ee.current=null,ue.current=ne.errorMap,ve.current=ne.attemptMap,B.current.isTypingStarted=ne.isTypingStarted,B.current.startTime=ne.startTime,I(ne.accumulatedDuration/1e3),D(!0)},[W]),Ne=$.useCallback(()=>{B.current.isPaused?Se():oe()},[oe,Se]);return{charStates:c,typedText:h,wpm:m,accuracy:_,errors:S,consecutiveErrors:N,duration:O,isFinished:M,currentIndex:J,isError:P,isPaused:U,handleKeyDown:$e,pauseGame:oe,resumeGame:Se,togglePause:Ne,reset:ke,clearAutoPauseTimer:F,resetIdleTimer:me,errorMap:ue.current,attemptMap:ve.current,getSavableState:ye,restoreState:Ee}},MG=({code:t,charStates:e,currentIndex:n,languageAlias:r,isError:i,cursorRef:s})=>{const[l,c]=$.useState([{chars:[],lineNumber:1}]),f=$.useContext(In);if(!f)throw new Error("AppContext not found");const{fontSize:h}=f,p=e!==void 0&&n!==void 0,m={sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"}[h];$.useEffect(()=>{const _=[];if(t&&r&&typeof Prism<"u"&&Prism.languages[r])try{const S=Prism.tokenize(t,Prism.languages[r]);let w=0;const O=I=>{for(const N of I)if(typeof N=="string")for(const L of N)_.push({char:L,classNames:["token","plain"],originalIndex:w++});else{const L=["token",N.type];if(N.alias){const C=Array.isArray(N.alias)?N.alias:[N.alias];L.push(...C)}if(typeof N.content=="string")for(const C of N.content)_.push({char:C,classNames:L,originalIndex:w++});else Array.isArray(N.content)&&O(N.content)}};if(O(S),_.map(I=>I.char).join("")!==t)throw new Error("Tokenization resulted in content mismatch.")}catch(S){console.error("Prism tokenization failed, falling back to plain text.",S),_.length=0,_.push(...t.split("").map((w,O)=>({char:w,classNames:[],originalIndex:O})))}else _.push(...t.split("").map((S,w)=>({char:S,classNames:[],originalIndex:w})));const E=[];if(t){let S=[],w=1;for(const O of _)S.push(O),O.char===`
`&&(E.push({chars:S,lineNumber:w++}),S=[]);S.length>0&&E.push({chars:S,lineNumber:w}),E.length===0&&E.push({chars:[],lineNumber:1})}else E.push({chars:[],lineNumber:1});c(E)},[t,r]);const v=_=>{const E=_.originalIndex,S=p&&E===n;let w,O=Wu.Idle;if(p)if(E<n)switch(O=e[E],O){case Wu.Correct:w="text-primary-500 dark:text-primary-400";break;case Wu.Incorrect:w="text-red-500 bg-red-500/20 rounded-sm";break;case Wu.Warning:w="text-yellow-600 dark:text-yellow-400 bg-yellow-500/20 rounded-sm";break;default:w="text-gray-400";break}else w="text-gray-600 dark:text-gray-400";else w=_.classNames.join(" ");p&&E>n&&(w="text-gray-600 dark:text-gray-400");const I=_.char===`
`,N=p&&E<n&&O===Wu.Incorrect||p&&S&&i;return x.jsxs("span",{ref:S?s:void 0,className:"relative inline-block",children:[p&&S&&!i&&x.jsx("span",{className:"absolute top-0 left-0 w-0.5 h-full bg-primary-400 animate-blink rounded-full"}),x.jsx("span",{className:`${w} ${p&&S&&i?"bg-red-500/20 rounded-sm":""}`,children:I?N?x.jsx("span",{className:"text-red-500 bg-red-500/20 px-1 select-none",children:""}):"":_.char})]},E)};return x.jsx("div",{className:`font-mono leading-relaxed tracking-wide ${m} [tab-size:4] typography-boost`,children:l.map(({chars:_,lineNumber:E},S)=>{const w=_.length===1&&_[0].char===`
`,I=S===l.length-1&&p&&n===t.length&&t.length>0;return x.jsxs("div",{className:"flex",children:[x.jsx("div",{className:"text-right pr-4 text-gray-500 dark:text-gray-400 select-none flex-shrink-0 w-10 sm:w-12","aria-hidden":"true",children:E}),x.jsxs("div",{className:"flex-1 min-w-0 whitespace-pre-wrap break-all",children:[_.map(v),w&&x.jsx("span",{className:"opacity-0 select-none",children:""}),I&&x.jsxs("span",{ref:s,className:"relative inline-block w-0",children:["",i?x.jsx("span",{className:"absolute top-0 left-0 w-2 h-full bg-red-500/50 animate-pulse rounded-sm"}):x.jsx("span",{className:"absolute top-0 left-0 w-0.5 h-full bg-primary-400 animate-blink rounded-full"})]})]})]},S)})})},ic=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),x.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),x.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),ag=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M23 4v6h-6"}),x.jsx("path",{d:"M1 20v-6h6"}),x.jsx("path",{d:"M3.5 9a9 9 0 0 1 14.8-2.6L23 10"}),x.jsx("path",{d:"M21.5 15a9 9 0 0 1-14.8 2.6L1 14"})]}),jG=()=>{const t=$.useContext(In);if(!t)throw new Error("AppContext not found");const{fontSize:e}=t,n={sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"}[e],r=[{width:"75%"},{width:"90%"},{width:"80%"},{width:"60%"},{width:"95%"},{width:"70%"},{width:"85%"},{width:"50%"}];return x.jsx("div",{className:`animate-pulse font-mono leading-relaxed tracking-wide ${n} typography-boost`,children:r.map((i,s)=>x.jsxs("div",{className:"flex mb-1 h-5 sm:h-6",children:[x.jsx("div",{className:"text-right pr-4 text-transparent bg-slate-300 dark:bg-slate-700 rounded-md select-none flex-shrink-0 w-10 sm:w-12","aria-hidden":"true",children:s+1}),x.jsx("div",{className:"flex-1 min-w-0 flex items-center",children:x.jsx("div",{className:"h-full bg-slate-300 dark:bg-slate-700 rounded-md",style:{width:i.width}})})]},s))})},uS=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("rect",{x:"6",y:"4",width:"4",height:"16"}),x.jsx("rect",{x:"14",y:"4",width:"4",height:"16"})]}),DG=G.forwardRef(({value:t,onValueChange:e,snippet:n,languageAlias:r,charStates:i,currentIndex:s,isError:l,isLoading:c,error:f,isPaused:h,disabled:p=!1,onRetry:m,className:v=""},_)=>{const E=$.useRef(null),S=$.useRef(null),w=$.useRef(null),O=$.useRef(null);$.useContext(In);const[I,N]=$.useState(()=>typeof window<"u"&&window.visualViewport?window.visualViewport.height:typeof window<"u"?window.innerHeight:600);$.useEffect(()=>{const M=()=>{window.visualViewport&&N(window.visualViewport.height)};return window.visualViewport&&(window.visualViewport.addEventListener("resize",M),window.visualViewport.addEventListener("scroll",M)),()=>{window.visualViewport&&(window.visualViewport.removeEventListener("resize",M),window.visualViewport.removeEventListener("scroll",M))}},[]),G.useImperativeHandle(_,()=>({focus:()=>{var M;(M=E.current)==null||M.focus()}})),$.useEffect(()=>{var M;!c&&!f&&!h&&!p&&((M=E.current)==null||M.focus())},[c,f,h,p]);const L=()=>{var M;p||(M=E.current)==null||M.focus()},C=M=>{e(M.target.value)};return $.useEffect(()=>{const M=w.current;M&&!h&&M.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},[s,h]),x.jsxs("div",{ref:S,className:`relative flex-grow min-h-0 w-full flex flex-col ${l?"animate-shake":""} ${v}`,onClick:L,style:{maxHeight:`${I}px`,transition:"max-height 0.3s ease-out"},children:[x.jsx("textarea",{ref:E,className:"absolute opacity-0 w-px h-px p-0 m-0 border-0 -z-10",value:t,onChange:C,disabled:p,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",tabIndex:0}),h&&x.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center rounded-lg z-20 pointer-events-none animate-fade-in-up",children:x.jsxs("div",{className:"bg-white/90 dark:bg-slate-800/90 p-6 rounded-xl shadow-2xl border border-slate-200 dark:border-slate-700 backdrop-blur-sm",children:[x.jsxs("div",{className:"flex items-center gap-3 text-2xl font-bold text-slate-800 dark:text-slate-100 mb-2",children:[x.jsx(uS,{className:"w-8 h-8 text-primary-500"}),x.jsx("span",{children:"Paused"})]}),x.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-center",children:"Press any key to resume"})]})}),x.jsx(gr,{className:"h-full overflow-hidden flex flex-col relative w-full group",children:x.jsx("div",{className:"flex-grow overflow-y-auto custom-scrollbar relative",ref:O,children:x.jsx("div",{className:"p-4 md:p-6 min-h-full font-mono leading-relaxed",children:c?x.jsx(jG,{}):f?x.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-red-500 p-8 text-center animate-fade-in",children:[x.jsx(ic,{className:"w-12 h-12 mb-4 opacity-80"}),x.jsx("p",{className:"text-lg font-medium mb-4",children:f}),x.jsxs(Ye,{onClick:m,variant:"primary",children:[x.jsx(ag,{className:"w-4 h-4 mr-2"})," Try Again"]})]}):x.jsx(MG,{code:n,languageAlias:r,charStates:i,currentIndex:s,isError:l,cursorRef:w})})})})]})}),O6=G.memo(DG);O6.displayName="CodeEditor";const yr=({label:t,value:e})=>x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:t}),x.jsx("span",{className:"text-3xl font-bold text-primary-600 dark:text-primary-400",children:e})]}),LG=t=>{if(isNaN(t)||t<0)return"0:00";const e=Math.floor(t/60),n=Math.floor(t%60);return`${e}:${n.toString().padStart(2,"0")}`},VG=({wpm:t,accuracy:e,errors:n,progress:r,timer:i,duration:s})=>{const l=i!==void 0?i:s||0;return x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-x-8 gap-y-2 md:gap-8 min-w-[200px]",children:[x.jsx(yr,{label:"WPM",value:t}),x.jsx(yr,{label:"Accuracy",value:`${e}%`}),x.jsx(yr,{label:"Errors",value:n}),x.jsx(yr,{label:"Time",value:LG(l)})]})},$G=[["`","1","2","3","4","5","6","7","8","9","0","-","=","Backspace"],["Tab","q","w","e","r","t","y","u","i","o","p","[","]","\\"],["CapsLock","a","s","d","f","g","h","j","k","l",";","'","Enter"],["Shift","z","x","c","v","b","n","m",",",".","/","Shift"],[" "]],UG=[["~","!","@","#","$","%","^","&","*","(",")","_","+","Backspace"],["Tab","Q","W","E","R","T","Y","U","I","O","P","{","}","|"],["CapsLock","A","S","D","F","G","H","J","K","L",":",'"',"Enter"],["Shift","Z","X","C","V","B","N","M","<",">","?","Shift"],[" "]],BG=new Set(["`","1","2","3","4","5","q","w","e","r","t","a","s","d","f","g","z","x","c","v","b"]),qG=new Set(["6","7","8","9","0","-","=","y","u","i","o","p","[","]","\\","h","j","k","l",";","'","n","m",",",".","/"]),UP={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=","{":"[","}":"]","|":"\\",":":";",'"':"'","<":",",">":".","?":"/"},BP={Backspace:"flex-grow-[2]",Tab:"flex-grow-[1.5]","\\":"flex-grow-[1.5]","|":"flex-grow-[1.5]",CapsLock:"flex-grow-[1.8]",Enter:"flex-grow-[2.2]",Shift:"flex-grow-[2.5]"," ":"flex-grow-[8]"},zG={"`":"left-pinky","~":"left-pinky",1:"left-pinky","!":"left-pinky",Tab:"left-pinky",q:"left-pinky",Q:"left-pinky",CapsLock:"left-pinky",a:"left-pinky",A:"left-pinky",Shift_left:"left-pinky",z:"left-pinky",Z:"left-pinky",2:"left-ring","@":"left-ring",w:"left-ring",W:"left-ring",s:"left-ring",S:"left-ring",x:"left-ring",X:"left-ring",3:"left-middle","#":"left-middle",e:"left-middle",E:"left-middle",d:"left-middle",D:"left-middle",c:"left-middle",C:"left-middle",4:"left-index",$:"left-index",r:"left-index",R:"left-index",f:"left-index",F:"left-index",v:"left-index",V:"left-index",5:"left-index","%":"left-index",t:"left-index",T:"left-index",g:"left-index",G:"left-index",b:"left-index",B:"left-index",6:"right-index","^":"right-index",y:"right-index",Y:"right-index",h:"right-index",H:"right-index",n:"right-index",N:"right-index",7:"right-index","&":"right-index",u:"right-index",U:"right-index",j:"right-index",J:"right-index",m:"right-index",M:"right-index",8:"right-middle","*":"right-middle",i:"right-middle",I:"right-middle",k:"right-middle",K:"right-middle",",":"right-middle","<":"right-middle",9:"right-ring","(":"right-ring",o:"right-ring",O:"right-ring",l:"right-ring",L:"right-ring",".":"right-ring",">":"right-ring",0:"right-pinky",")":"right-pinky","-":"right-pinky",_:"right-pinky","=":"right-pinky","+":"right-pinky",Backspace:"right-pinky",p:"right-pinky",P:"right-pinky","[":"right-pinky","{":"right-pinky","]":"right-pinky","}":"right-pinky","\\":"right-pinky","|":"right-pinky",Enter:"right-pinky",";":"right-pinky",":":"right-pinky","'":"right-pinky",'"':"right-pinky",Shift_right:"right-pinky","/":"right-pinky","?":"right-pinky"," ":"thumb"},Ob={"left-pinky":"bg-blue-500 text-white","left-ring":"bg-green-500 text-white","left-middle":"bg-yellow-500 text-black","left-index":"bg-red-500 text-white",thumb:"bg-purple-500 text-white","right-index":"bg-red-500 text-white","right-middle":"bg-yellow-500 text-black","right-ring":"bg-green-500 text-white","right-pinky":"bg-blue-500 text-white",special:"bg-slate-300 dark:bg-slate-600"},FG=({nextKey:t,activeKey:e,isShiftActive:n,showHandGuide:r})=>{const i=$.useContext(In),s=r??(i==null?void 0:i.showHandGuide)??!0,l=e??t,c=n??(/[A-Z!@#$%^&*()_+{}|:"<>?~]/.test(l)||Object.keys(UP).includes(l)),f=c?UG:$G;let h=l;l===" "&&(h=" "),l===`
`&&(h="Enter"),l==="	"&&(h="Tab");let p="none";if(c){const v=UP[l]||l.toLowerCase();BG.has(v)?p="right":qG.has(v)&&(p="left")}const m=v=>{const _=zG[v];return _?Ob[_]:Ob.special};return x.jsx("div",{className:"w-full max-w-4xl mx-auto p-1 sm:p-2 bg-slate-200 dark:bg-slate-800 rounded-lg shadow-lg",children:x.jsx("div",{className:"flex flex-col gap-1",children:f.map((v,_)=>x.jsx("div",{className:"flex gap-1 w-full justify-center",children:v.map((E,S)=>{let w=h===E,O=E;if(E==="Shift"){const C=S===0;O=C?"Shift_left":"Shift_right",c&&(C&&p==="left"&&(w=!0),!C&&p==="right"&&(w=!0))}const I=E===" ",N=s?m(O):"bg-slate-50 dark:bg-slate-700 text-slate-800 dark:text-slate-200 shadow-sm",L="bg-[#3A3A3A] text-white dark:bg-[#E5E5E5] dark:text-black shadow-lg scale-105 ring-2 ring-primary-300 dark:ring-primary-700 z-10";return I?x.jsx("div",{className:`h-8 sm:h-10 md:h-12 rounded-md transition-all duration-100 flex-shrink-0 ${BP[E]} ${w?L+" animate-pulse":s?Ob.thumb:N}`},`${_}-${S}`):x.jsx("div",{className:`
                                        h-8 sm:h-10 md:h-12 flex-1 flex items-center justify-center 
                                        rounded-md font-sans text-sm sm:text-base font-medium
                                        transition-all duration-100 select-none flex-shrink-0
                                        ${BP[E]||"min-w-[1.5rem] sm:min-w-[2rem] md:min-w-[2.5rem]"}
                                        ${w?L:N}
                                    `,children:E},`${_}-${S}`)})},_))})})},HG=t=>{if(isNaN(t)||t<0)return"0:00";const e=Math.floor(t/60),n=Math.floor(t%60);return`${e}:${n.toString().padStart(2,"0")}`},GG=({isOpen:t,onClose:e,onPracticeSame:n,onNewSnippet:r,onViewProgress:i,isCustomSession:s,lastPracticeAction:l,stats:c,title:f,isEarlyExit:h=!1,isMultiFileSession:p=!1,onNextSnippet:m,hasNextSnippet:v=!1,sessionErrorMap:_={},sessionAttemptMap:E={},saveStatus:S})=>{const[w,O]=$.useState(0),I=$.useRef([]),N=$.useMemo(()=>{const L={label:"New Snippet",action:r},C={label:"Practice Same Code",action:n},M={label:"View Your Progress",action:i},A={label:"Next Snippet",action:m},P={label:"Resume",action:e};let k=[];return v&&m&&k.push(A),h?k.push(P,L,C,M):(l==="practice_same"&&!p?k.push(C,L):k.push(L,C),k.push(M)),k},[h,p,l,r,n,i,m,v,e]);return $.useEffect(()=>{I.current=I.current.slice(0,N.length)},[N]),$.useEffect(()=>{t&&(O(0),setTimeout(()=>{var C;(C=I.current[0])==null||C.focus()},100))},[t]),$.useEffect(()=>{const L=C=>{var M,A;if(t&&C.key!=="Tab")if(C.key==="ArrowDown"||C.key==="ArrowUp"){C.preventDefault();const P=C.key==="ArrowDown"?1:-1,k=(w+P+N.length)%N.length;O(k),(M=I.current[k])==null||M.focus()}else C.key==="Enter"&&(C.preventDefault(),(A=I.current[w])==null||A.click())};return window.addEventListener("keydown",L),()=>{window.removeEventListener("keydown",L)}},[t,N,w]),x.jsx(Fl,{isOpen:t,onClose:e,title:f,children:x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[x.jsx(yr,{label:"WPM",value:c.wpm}),x.jsx(yr,{label:"Accuracy",value:`${c.accuracy}%`}),x.jsx(yr,{label:"Errors",value:c.errors}),x.jsx(yr,{label:"Duration",value:HG(c.duration)})]}),(h||S&&!S.saved)&&x.jsx("div",{className:`text-center py-2 px-4 rounded-md ${S!=null&&S.saved?"bg-green-50 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-amber-50 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400"}`,children:x.jsx("p",{className:"font-medium",children:S!=null&&S.saved?"Progress Saved":(S==null?void 0:S.reason)||"Session Ended Early (Not Saved)"})}),x.jsx("div",{className:"flex flex-col gap-3",children:N.map((L,C)=>x.jsx(Ye,{ref:M=>{I.current[C]=M},size:"lg",className:"w-full",onClick:L.action,variant:C===w?"primary":"secondary",onMouseEnter:()=>O(C),onFocus:()=>O(C),children:L.label},L.label))})]})})},KG=t=>{switch(t){case" ":return"Space ()";case`
`:return"Enter ()";case"	":return"Tab ()";default:return t}},WG=({char:t,beforeRate:e,afterRate:n})=>{const r=KG(t);let i="text-slate-500 dark:text-slate-400";return n<e&&(i="text-green-500 font-bold"),n>e&&(i="text-red-500 font-bold"),x.jsxs("div",{className:"grid grid-cols-3 items-center text-center text-sm p-2 rounded-md bg-slate-100 dark:bg-slate-700/50",children:[x.jsx("span",{className:"font-mono font-semibold bg-slate-200 dark:bg-slate-600 px-2 py-1 rounded-md justify-self-center",children:r}),x.jsxs("span",{children:[e.toFixed(1),"%"]}),x.jsxs("span",{className:i,children:[n.toFixed(1),"%"]})]})},YG=({isOpen:t,onClose:e,onPracticeAgain:n,onReturnToDashboard:r,stats:i,sessionErrorMap:s={},sessionAttemptMap:l={}})=>{const c=$.useContext(In);if(!c)throw new Error("AppContext not found");const{keyErrorStats:f,keyAttemptStats:h,currentTargetedKeys:p}=c,m=$.useMemo(()=>{if(!t)return{results:[],verdict:""};try{let w=0;const O=p.map(N=>{const L=(s==null?void 0:s[N])||0,C=(l==null?void 0:l[N])||0,M=(f==null?void 0:f[N])||0,A=((h==null?void 0:h[N])||0)<M?M:(h==null?void 0:h[N])||0,P=M-L,k=A-C,U=k>0?P/k*100:0,D=C>0?L/C*100:0;return D<U&&w++,{key:N,beforeRate:U,afterRate:D}});let I=`You focused on ${p.length} keys. Keep practicing!`;return w===p.length&&p.length>0?I="Amazing focus! You reduced your error rate on all target keys.":w>p.length/2&&(I=`You successfully reduced your error rate on ${w} out of ${p.length} keys. Great work!`),{results:O,verdict:I}}catch(w){return console.error("Error calculating targeted results:",w),{results:[],verdict:"Could not calculate statistics."}}},[t,p,f,h,s,l]),[v,_]=G.useState(0),E=G.useRef([]),S=$.useMemo(()=>[{label:"Practice Again (Same Keys)",action:n,variant:"primary"},{label:"Return to Dashboard",action:r,variant:"secondary"}],[n,r]);return $.useEffect(()=>{E.current=E.current.slice(0,S.length)},[S]),$.useEffect(()=>{t&&(_(0),setTimeout(()=>{var w;(w=E.current[0])==null||w.focus()},100))},[t]),$.useEffect(()=>{const w=O=>{var I,N;if(t&&O.key!=="Tab")if(O.key==="ArrowDown"||O.key==="ArrowUp"){O.preventDefault();const L=O.key==="ArrowDown"?1:-1,C=(v+L+S.length)%S.length;_(C),(I=E.current[C])==null||I.focus()}else O.key==="Enter"&&(O.preventDefault(),(N=E.current[v])==null||N.click())};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[t,S,v]),x.jsx(Fl,{isOpen:t,onClose:e,title:"Targeted Practice Results",children:x.jsxs("div",{className:"space-y-6",children:[x.jsx("p",{className:"text-center text-sm text-slate-600 dark:text-slate-300",children:"Here's how your performance on the targeted keys changed from your historical average to this session."}),x.jsxs(gr,{className:"p-4 bg-slate-50 dark:bg-slate-900/50",children:[x.jsxs("div",{className:"grid grid-cols-3 items-center text-center font-semibold text-xs text-slate-500 dark:text-slate-400 mb-2 mr-2",children:[x.jsx("span",{children:"Key"}),x.jsx("span",{children:"Before"}),x.jsx("span",{children:"After"})]}),x.jsx("div",{className:"space-y-1 max-h-[300px] overflow-y-auto custom-scrollbar pr-1",children:m.results.map(w=>x.jsx(WG,{char:w.key,...w},w.key))})]}),x.jsx("p",{className:"text-center text-sm font-semibold text-slate-700 dark:text-slate-200",children:m.verdict}),x.jsx("div",{className:"flex flex-col gap-3 pt-2",children:S.map((w,O)=>x.jsx(Ye,{ref:I=>{E.current[O]=I},size:"lg",className:"w-full",onClick:w.action,variant:O===v?"primary":"secondary",onMouseEnter:()=>_(O),onFocus:()=>_(O),children:w.label},O))})]})})},XG=({isOpen:t,onRestart:e})=>{const n=$.useRef(null);return $.useEffect(()=>{if(t){const r=setTimeout(()=>{var i;(i=n.current)==null||i.focus()},100);return()=>clearTimeout(r)}},[t]),t?x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/80 backdrop-blur-sm animate-fade-in",onClick:r=>r.stopPropagation(),children:x.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl p-8 max-w-md w-full text-center border border-slate-200 dark:border-slate-700 transform scale-100 animate-fade-in-up",children:[x.jsx("div",{className:"flex justify-center mb-6",children:x.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center",children:x.jsx(ic,{className:"w-8 h-8 text-red-500 dark:text-red-400"})})}),x.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2",children:"Whoa, slow down!"}),x.jsxs("p",{className:"text-slate-600 dark:text-slate-400 mb-8 leading-relaxed",children:["We detected a lot of errors in a row.",x.jsx("br",{}),"Please focus on your ",x.jsx("strong",{children:"accuracy"})," and try again."]}),x.jsx("div",{className:"flex justify-center",children:x.jsxs(Ye,{ref:n,onClick:e,onKeyDown:r=>{r.key==="Enter"&&(r.stopPropagation(),r.preventDefault(),e())},variant:"primary",size:"lg",className:"w-full sm:w-auto min-w-[160px]",children:[x.jsx(ag,{className:"w-5 h-5 mr-2"}),"Restart Snippet"]})})]})}):null},QG=({isOpen:t,onClose:e,items:n,title:r="Actions"})=>{if(!t)return null;const i=document.getElementById("modal-root");return i?CG.createPortal(x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 animate-fade-in",onClick:e}),x.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 animate-slide-up",children:x.jsxs("div",{className:"glass-card rounded-t-2xl mx-2 mb-2 overflow-hidden",children:[x.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-slate-200/50 dark:border-slate-700/50",children:[x.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-200",children:r}),x.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-slate-200/50 dark:hover:bg-slate-700/50 transition-colors",children:x.jsx("svg",{className:"w-5 h-5 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),x.jsx("div",{className:"p-2 max-h-[60vh] overflow-y-auto custom-scrollbar",children:n.map((s,l)=>x.jsxs("button",{onClick:()=>{s.onClick(),e()},disabled:s.disabled,className:`
                                    w-full flex items-center gap-3 px-4 py-3 rounded-xl
                                    text-left transition-all duration-150
                                    ${s.disabled?"opacity-50 cursor-not-allowed":"hover:bg-primary-50 dark:hover:bg-primary-900/30 active:scale-[0.98]"}
                                `,children:[x.jsx("span",{className:"flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-lg bg-primary-100 dark:bg-primary-900/50 text-primary-600 dark:text-primary-400",children:s.icon}),x.jsx("span",{className:"flex-1 font-medium text-slate-700 dark:text-slate-300",children:s.label}),s.shortcut&&x.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded",children:s.shortcut})]},l))})]})})]}),i):null},qP=t=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:x.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})}),zP=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"}),x.jsx("path",{d:"m5 2 4 4"})]}),cS=t=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:x.jsx("polyline",{points:"20 6 9 17 4 12"})}),JG=$.forwardRef(({trigger:t,children:e},n)=>{const[r,i]=$.useState(!1),[s,l]=$.useState(-1),c=$.useRef(null),f=$.useRef(null),h=$.useRef(null),p=$.useMemo(()=>G.Children.toArray(e).filter(O=>G.isValidElement(O)&&O.type===fS),[e]),m=$.useCallback(()=>{var O;i(!1),(O=h.current)==null||O.focus()},[]);$.useImperativeHandle(n,()=>({close:m}));const v=()=>{i(O=>!O)};$.useEffect(()=>{var O;if(r){const I=p.findIndex(L=>L.props.isActive);l(I>-1?I:0),(O=f.current)==null||O.focus();const N=L=>{c.current&&!c.current.contains(L.target)&&m()};return document.addEventListener("mousedown",N),()=>{document.removeEventListener("mousedown",N)}}},[r,p,m]),$.useEffect(()=>{if(r&&s>=0&&f.current){const I=Array.from(f.current.querySelectorAll('[role="menuitem"]'))[s];I&&I.scrollIntoView({block:"nearest"})}},[r,s]);const _=O=>{var I;if(p.length!==0)switch(O.key){case"ArrowDown":O.preventDefault(),l(N=>(N+1)%p.length);break;case"ArrowUp":O.preventDefault(),l(N=>(N-1+p.length)%p.length);break;case"Enter":case" ":O.preventDefault(),s>=0&&((I=p[s])==null||I.props.onClick(),i(!1));break;case"Escape":case"Tab":O.preventDefault(),m();break}};let E=-1;const S=G.Children.map(e,O=>{if(G.isValidElement(O)&&O.type===fS){E++;const I=E,N=O.props.onClick;return G.cloneElement(O,{isHighlighted:I===s,onMouseEnter:()=>l(I),onClick:()=>{N&&N(),i(!1)}})}return O}),w=G.cloneElement(t,{ref:h,onClick:O=>{v(),t.props.onClick&&t.props.onClick(O)},"aria-haspopup":"true","aria-expanded":r});return x.jsxs("div",{className:"relative inline-block text-left",ref:c,children:[w,r&&x.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white dark:bg-slate-800 ring-1 ring-black ring-opacity-5 focus:outline-none border border-slate-200 dark:border-slate-700 z-10 animate-fade-in-up",children:x.jsx("div",{ref:f,onKeyDown:_,tabIndex:-1,className:"py-1 focus:outline-none",role:"menu","aria-orientation":"vertical",children:S})})]})}),fS=({onClick:t,children:e,isActive:n=!1,isHighlighted:r=!1,onMouseEnter:i})=>{const s=r?"bg-primary-500 text-white":"text-gray-700 dark:text-gray-200";return x.jsxs("a",{href:"#",onClick:l=>{l.preventDefault(),t()},onMouseEnter:i,className:`flex items-center justify-between px-4 py-2 text-sm focus:outline-none transition-colors ${s}`,role:"menuitem",tabIndex:-1,children:[x.jsx("span",{className:n?"font-semibold":"font-normal",children:e}),n&&x.jsx(cS,{className:"w-4 h-4 text-primary-500"})]})},FP=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("circle",{cx:"12",cy:"12",r:"10"}),x.jsx("line",{x1:"4.93",y1:"4.93",x2:"19.07",y2:"19.07"})]}),HP=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),x.jsx("polyline",{points:"14 2 14 8 20 8"}),x.jsx("path",{d:"m10 13-2 2 2 2"}),x.jsx("path",{d:"m14 17 2-2-2-2"})]}),GP=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),KP=({className:t="w-6 h-6"})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),ZG=({className:t})=>x.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})}),ns=[{label:"Off",value:0},{label:"After 1 Error",value:1},{label:"After 2 Errors",value:2},{label:"After 3 Errors",value:3}],eK=()=>{const t=$.useContext(In);if(!t)return null;const{practiceQueue:e,currentQueueIndex:n}=t;return x.jsxs("div",{className:"flex flex-col gap-2 h-full",children:[x.jsx("h3",{className:"font-semibold text-slate-700 dark:text-slate-300 px-2",children:"Queue"}),x.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 px-2 custom-scrollbar",children:e.map((r,i)=>x.jsxs("div",{className:`p-2 rounded text-xs border ${i===n?"bg-blue-50 dark:bg-blue-900/30 border-blue-200 dark:border-blue-700":"bg-slate-50 dark:bg-slate-800 border-transparent"}`,children:[x.jsxs("div",{className:`font-medium mb-1 ${i===n?"text-blue-600 dark:text-blue-400":"text-slate-500"}`,children:["Snippet ",i+1]}),x.jsxs("div",{className:"font-mono text-slate-600 dark:text-slate-400 truncate opacity-75",children:[r.substring(0,40).replace(/\n/g," "),"..."]})]},i))})]})},tK=()=>{var dt,$t;const t=$.useContext(In);if(!t)return null;const{snippet:e,isLoadingSnippet:n,snippetError:r,selectedLanguage:i,fetchNewSnippet:s,showKeyboard:l,showHandGuide:c,toggleHandGuide:f,addPracticeResult:h,startCustomSession:p,navigateTo:m,isCustomSession:v,currentTargetedKeys:_,setCurrentTargetedKeys:E,setLastPracticeAction:S,lastPracticeAction:w,startTargetedSession:O,blockOnErrorThreshold:I,setBlockOnErrorThreshold:N,setRequestFocusOnCodeCallback:L,requestFocusOnCode:C,practiceQueue:M,currentQueueIndex:A,loadNextSnippetInQueue:P,isSetupModalOpen:k,openSetupModal:U,closeSetupModal:D,isInitialSetupComplete:B,restorePracticeSession:V,sessionResetKey:Q,practiceMode:J}=t,H=$.useRef(Date.now().toString()),[Y,ee]=$.useState(!1),[ue,ve]=$.useState(!1),[F,W]=$.useState({wpm:0,accuracy:0,errors:0,duration:0,errorMap:{},attemptMap:{}}),[oe,me]=$.useState(!1),[we,Se]=$.useState(!1),[ke,$e]=$.useState(!1),[ye,Ee]=$.useState(null),[Ne,ne]=$.useState(null),[He,_e]=$.useState(!1),[Te,Be]=$.useState(!1),Ke=async()=>{const Ue=Oe=>{try{const Me=document.createElement("textarea");Me.value=Oe,Me.style.position="fixed",Me.style.left="-9999px",Me.style.top="0",document.body.appendChild(Me),Me.focus(),Me.select();const pt=document.execCommand("copy");if(document.body.removeChild(Me),pt)_e(!0),setTimeout(()=>_e(!1),2e3),t==null||t.showAlert("Code copied to clipboard!","info");else throw new Error("Fallback copy failed")}catch(Me){console.error("Fallback copy failed: ",Me),t==null||t.showAlert("Failed to copy code.","error")}};if(navigator.clipboard&&navigator.clipboard.writeText)try{await navigator.clipboard.writeText(e),_e(!0),setTimeout(()=>_e(!1),2e3),t==null||t.showAlert("Code copied to clipboard!","info")}catch(Oe){console.warn("Clipboard API failed, trying fallback...",Oe),Ue(e)}else Ue(e)},st=$.useRef(null),We=$.useRef(null),qe=$.useRef(null),xt=$.useRef(!1),Dt=$.useCallback(()=>C(),[C]),En=$.useCallback(()=>C(),[C]),Ie=kG(e,I,{onPause:Dt,onResume:En}),ht=$.useRef(Ie);$.useLayoutEffect(()=>{ht.current=Ie},[Ie]);const _t=e[Ie.currentIndex]||"";$.useEffect(()=>{ht.current.reset(),H.current=Date.now().toString(),C()},[Q,C]);const Vt=$.useCallback(()=>{ht.current.reset(),H.current=Date.now().toString(),C()},[C]),Zt=$.useCallback(()=>{ht.current.togglePause(),C()},[C]),en=$.useCallback(()=>{U()},[U]),_n=$.useCallback(()=>{console.log("handleEndSession triggered");try{$e(!0);const Ue={wpm:ht.current.wpm,accuracy:ht.current.accuracy,errors:ht.current.errors,duration:ht.current.duration,errorMap:ht.current.errorMap,attemptMap:ht.current.attemptMap};W(Ue);const Oe=ht.current.currentIndex,Me=e.length,pt=Me>0?Oe/Me*100:0,Mt=ht.current.duration,or=Oe>=20,Vr=pt>=100,Dn=(pt>=70||Oe>=150)&&Mt>=10;if(or&&(Vr||Dn))h({id:H.current,date:Date.now(),wpm:Ue.wpm,accuracy:Ue.accuracy,duration:Ue.duration,errors:Ue.errors,language:i.name,snippetLength:e.length,timestamp:Date.now(),linesTyped:ht.current.typedText.split(`
`).length,errorMap:Ue.errorMap,attemptMap:Ue.attemptMap}),Ee({saved:!0});else{let Xr="Session not saved.";or?Dn||(Xr="Not saved: Duration under 10s or progress too low (<70% or <150 chars)."):Xr="Not saved: Less than 20 characters typed.",Ee({saved:!1,reason:Xr})}}catch(Ue){console.error("Error in handleEndSession:",Ue),Ee({saved:!1,reason:"Error saving session: "+(Ue instanceof Error?Ue.message:String(Ue))})}finally{ee(!0)}},[h,i.name,e]),Pt=$.useCallback(()=>{ee(!1),ve(!1),Vt(),C()},[Vt,C]),he=$.useCallback(()=>{ee(!1),ve(!1),P(),H.current=Date.now().toString(),C()},[P,C]);$.useEffect(()=>{const Ue=localStorage.getItem("sessionResultToShow");if(Ue){xt.current=!0,localStorage.removeItem("sessionResultToShow");try{const Me=JSON.parse(Ue);W(Me.stats),$e(Me.isEarlyExit),S(Me.lastPracticeAction),Me.currentTargetedKeys&&Me.currentTargetedKeys.length>0?(E(Me.currentTargetedKeys),ve(!0)):ee(!0)}catch(Me){console.error("Failed to parse session result",Me)}return}const Oe=localStorage.getItem("continuedSession");if(Oe){xt.current=!0,localStorage.removeItem("continuedSession");try{const Me=JSON.parse(Oe);V(Me.context),ne(Me)}catch(Me){console.error("Failed to parse continued session",Me)}}},[V,E]),$.useEffect(()=>{if(Ie.isFinished&&!we&&!Y&&!ue){Se(!0);const Ue={wpm:Ie.wpm,accuracy:Ie.accuracy,errors:Ie.errors,duration:Ie.duration,errorMap:Ie.errorMap,attemptMap:Ie.attemptMap};W(Ue),$e(!1);let Oe=i.name;J==="error-training"?Oe="Error Practice":J==="targeted"?Oe="Targeted Practice":J==="general"&&(Oe="General Typing");let Me=!0,pt="";if(v){const Mt=e.length,or=Ie.duration;(Mt<150||or<10)&&(Me=!1,pt="Session not saved: Custom snippets must be >150 chars and >10s duration.")}Me?(h({id:H.current,date:Date.now(),wpm:Ie.wpm,accuracy:Ie.accuracy,duration:Ie.duration,errors:Ie.errors,language:Oe,snippetLength:e.length,timestamp:Date.now(),linesTyped:Ie.typedText.split(`
`).length,errorMap:Ie.errorMap,attemptMap:Ie.attemptMap}),Ee({saved:!0})):Ee({saved:!1,reason:pt}),_.length>0?ve(!0):ee(!0)}else Ie.isFinished||Se(!1)},[Ie.isFinished,we,Y,ue,Ie.wpm,Ie.accuracy,Ie.errors,Ie.duration,Ie.errorMap,Ie.attemptMap,h,i.name,e.length,_]);const[Ae,Ge]=$.useState(!1);$.useEffect(()=>{Ie.consecutiveErrors>=10&&!Ae&&!Ie.isFinished&&(Ge(!0),ht.current.pauseGame())},[Ie.consecutiveErrors,Ae,Ie.isFinished]);const Rt=$.useCallback(()=>{Ge(!1),Vt()},[Vt]),ot=$.useCallback(Ue=>{if(!(Y||ue||k||Ae)&&Ue.altKey)switch(Ue.key.toLowerCase()){case"c":Ue.preventDefault(),Ke();break;case"n":Ue.preventDefault(),en();break;case"e":Ue.preventDefault(),_n();break;case"r":Ue.preventDefault(),Vt();break;case"p":Ue.preventDefault(),Zt();break;case"g":Ue.preventDefault(),f();break;case"b":Ue.preventDefault();const Me=(ns.findIndex(pt=>pt.value===I)+1)%ns.length;N(ns[Me].value);break}},[Y,ue,k,en,_n,Vt,Zt,f,I,N]);$.useEffect(()=>(window.addEventListener("keydown",ot),()=>window.removeEventListener("keydown",ot)),[ot]);const Kt=()=>typeof window<"u"&&window.innerWidth<768;$.useEffect(()=>{const Ue=Oe=>{const Me=ht.current;if(Y||ue||k||Ae||Oe.altKey||Oe.ctrlKey||Oe.metaKey)return;if(Oe.repeat){Oe.preventDefault();return}const pt=Oe.key;pt==="Tab"&&Oe.preventDefault(),Oe.getModifierState("CapsLock")?me(!0):me(!1);const Mt=pt.length===1,or=["Backspace","Enter","Tab"].includes(pt);if(Mt||or){Oe.preventDefault();let Vr=pt;Kt()&&pt===" "&&e[Me.currentIndex]==="	"&&(Vr="Tab"),Me.handleKeyDown(Vr),C()}};return window.addEventListener("keydown",Ue),()=>window.removeEventListener("keydown",Ue)},[Y,ue,k,C,e]);const Nt=Ue=>{const Oe=ht.current.typedText;if(Ue.length>Oe.length+1){const Me=Ue.slice(Oe.length);for(const pt of Me)ht.current.handleKeyDown(pt);C()}else if(Ue.length===Oe.length+1){let Me=Ue.slice(-1);Kt()&&Me===" "&&e[ht.current.currentIndex]==="	"&&(Me="Tab"),ht.current.handleKeyDown(Me),C()}else Ue.length===Oe.length-1&&(ht.current.handleKeyDown("Backspace"),C())};return x.jsxs("div",{className:"flex flex-col h-[100dvh] max-w-full mx-auto w-full overflow-hidden",ref:st,children:[oe&&x.jsx("div",{className:"fixed top-20 inset-x-0 z-50 flex justify-center pointer-events-none",children:x.jsxs("div",{className:"bg-yellow-400 text-yellow-900 px-4 py-2 rounded-md shadow-lg flex items-center gap-2 animate-fade-in-up pointer-events-auto",children:[x.jsx(ic,{className:"w-5 h-5"}),x.jsx("span",{className:"font-semibold",children:"Caps Lock is On"})]})}),x.jsx("div",{className:"w-full max-w-[1100px] mx-auto mb-2 pt-2 flex-shrink-0 px-3 md:px-4",children:x.jsx("div",{className:"glass-card rounded-xl p-3 md:p-4",children:x.jsx(VG,{wpm:Ie.wpm,accuracy:Ie.accuracy,errors:Ie.errors,progress:e.length>0?Math.round(Ie.currentIndex/e.length*100):0,timer:Ie.duration})})}),x.jsxs("div",{className:"w-full max-w-[1100px] mx-auto mb-2 flex-shrink-0 px-3 md:px-4",children:[x.jsxs("div",{className:"hidden md:flex flex-wrap items-center justify-center gap-2",children:[x.jsxs(Ye,{onClick:en,variant:"primary",disabled:k,title:"New Snippet (Alt+N)",accessKey:"n",size:"sm",className:"btn-press glow-hover",children:[x.jsx(HP,{className:"w-4 h-4 mr-2"}),"New"]}),x.jsxs(Ye,{onClick:_n,variant:"outline",disabled:k||Ie.isFinished,title:"End Session (Alt+E)",accessKey:"e",size:"sm",className:"btn-press",children:[x.jsx(GP,{className:"w-4 h-4 mr-2"}),"End"]}),x.jsxs(Ye,{onClick:Vt,variant:"outline",disabled:k,title:"Reset (Alt+R)",accessKey:"r",size:"sm",className:"btn-press",children:[x.jsx(ag,{className:"w-4 h-4 mr-2"}),"Reset"]}),x.jsxs(Ye,{onClick:Zt,variant:"outline",disabled:k||Ie.isFinished,title:Ie.isPaused?"Resume (Alt+P)":"Pause (Alt+P)",accessKey:"p",size:"sm",className:"btn-press",children:[Ie.isPaused?x.jsx(qP,{className:"w-4 h-4 mr-2"}):x.jsx(uS,{className:"w-4 h-4 mr-2"}),Ie.isPaused?"Resume":"Pause"]}),x.jsxs(Ye,{onClick:Ke,variant:"outline",disabled:k,title:"Copy Code (Alt+C)",accessKey:"c",size:"sm",className:"btn-press",children:[He?x.jsx(cS,{className:"w-4 h-4 mr-2 text-green-500"}):x.jsx(KP,{className:"w-4 h-4 mr-2"}),He?"Copied":"Copy"]}),x.jsx(JG,{ref:We,trigger:x.jsxs(Ye,{variant:"outline",title:"Block on Error Settings (Alt+B)",accessKey:"b",size:"sm",className:"btn-press",children:[x.jsx(FP,{className:"w-4 h-4 mr-2"}),x.jsxs("span",{className:"hidden sm:inline",children:["Block: ",(dt=ns.find(Ue=>Ue.value===I))==null?void 0:dt.label]})]}),children:ns.map(({label:Ue,value:Oe})=>x.jsx(fS,{onClick:()=>{N(Oe),C()},isActive:I===Oe,children:Ue},Oe))}),x.jsxs(Ye,{variant:"outline",onClick:()=>{f(),C()},title:"Toggle Hand Guide (Alt+G)",disabled:k,accessKey:"g",size:"sm",className:"btn-press",children:[x.jsx(zP,{className:"w-4 h-4 sm:mr-2"}),x.jsx("span",{className:"hidden sm:inline",children:"Hand Guide"})]})]}),x.jsxs("div",{className:"flex md:hidden items-center justify-center gap-2",children:[x.jsxs(Ye,{onClick:en,variant:"primary",disabled:k,title:"New Snippet",size:"sm",className:"btn-press glow-hover flex-1 max-w-[140px]",children:[x.jsx(HP,{className:"w-4 h-4 mr-2"}),"New"]}),x.jsx(Ye,{onClick:Zt,variant:"outline",disabled:k||Ie.isFinished,title:Ie.isPaused?"Resume":"Pause",size:"sm",className:"btn-press",children:Ie.isPaused?x.jsx(qP,{className:"w-5 h-5"}):x.jsx(uS,{className:"w-5 h-5"})}),x.jsx(Ye,{onClick:Vt,variant:"outline",disabled:k,title:"Reset",size:"sm",className:"btn-press",children:x.jsx(ag,{className:"w-5 h-5"})}),x.jsx(Ye,{onClick:()=>Be(!0),variant:"outline",disabled:k,title:"More Options",size:"sm",className:"btn-press",children:x.jsx(ZG,{className:"w-5 h-5"})})]}),x.jsx(QG,{isOpen:Te,onClose:()=>Be(!1),title:"More Actions",items:[{label:"End Session",icon:x.jsx(GP,{className:"w-4 h-4"}),onClick:_n,disabled:k||Ie.isFinished,shortcut:"Alt+E"},{label:He?"Copied!":"Copy Code",icon:He?x.jsx(cS,{className:"w-4 h-4"}):x.jsx(KP,{className:"w-4 h-4"}),onClick:Ke,disabled:k,shortcut:"Alt+C"},{label:c?"Hide Hand Guide":"Show Hand Guide",icon:x.jsx(zP,{className:"w-4 h-4"}),onClick:()=>{f(),C()},disabled:k,shortcut:"Alt+G"},{label:`Error Block: ${($t=ns.find(Ue=>Ue.value===I))==null?void 0:$t.label}`,icon:x.jsx(FP,{className:"w-4 h-4"}),onClick:()=>{const Oe=(ns.findIndex(Me=>Me.value===I)+1)%ns.length;N(ns[Oe].value),C()},shortcut:"Alt+B"}]})]}),x.jsxs("div",{className:"w-full mx-auto flex-grow min-h-0 flex flex-col md:flex-row gap-4 overflow-hidden px-4",children:[x.jsx(O6,{ref:qe,value:Ie.typedText,onValueChange:Nt,snippet:e,languageAlias:i.prismAlias,charStates:Ie.charStates,currentIndex:Ie.currentIndex,isError:Ie.isError,isLoading:n,error:r,isPaused:Ie.isPaused,disabled:Ae,onRetry:()=>s(),className:"flex-grow h-full overflow-y-auto"}),M.length>1&&x.jsx("div",{className:"hidden md:flex flex-col gap-4 w-64 flex-shrink-0 h-full overflow-hidden",children:x.jsx(eK,{})})]}),l&&x.jsx("div",{className:"flex-shrink-0 w-full max-w-[1100px] mx-auto mt-2 mb-2 px-2",children:x.jsx(FG,{activeKey:_t,isShiftActive:/[A-Z!@#$%^&*()_+{}|:"<>?~]/.test(_t),showHandGuide:c})}),x.jsx(GG,{isOpen:Y,title:ke?"Session Ended":"Session Complete",onClose:()=>{ke?(ee(!1),C()):Pt()},onPracticeSame:Pt,onNewSnippet:en,onViewProgress:()=>{ee(!1),m("dashboard")},isCustomSession:v,lastPracticeAction:w,stats:F,isEarlyExit:ke,onNextSnippet:he,hasNextSnippet:M.length>1&&A<M.length-1,sessionErrorMap:F.errorMap,sessionAttemptMap:F.attemptMap,saveStatus:ye}),x.jsx(YG,{isOpen:ue,onClose:()=>{ve(!1),C()},stats:F,onPracticeAgain:Pt,onReturnToDashboard:()=>{ve(!1),m("dashboard")},sessionErrorMap:F.errorMap,sessionAttemptMap:F.attemptMap}),x.jsx(XG,{isOpen:Ae,onRestart:Rt})]})},nK=({isOpen:t,onClose:e,onSave:n,currentWpmGoal:r,currentAccuracyGoal:i,currentTimeGoal:s})=>{const[l,c]=$.useState(String(r)),[f,h]=$.useState(String(i)),[p,m]=$.useState(String(s));$.useEffect(()=>{t&&(c(String(r)),h(String(i)),m(String(s)))},[t,r,i,s]);const v=()=>{const _=parseInt(l,10)||0,E=parseInt(f,10)||0,S=parseInt(p,10)||0;n(_,E,S)};return x.jsx(Fl,{isOpen:t,onClose:e,title:"Edit Your Goals",children:x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{htmlFor:"time-goal",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Daily Time Goal (Minutes)"}),x.jsx("input",{id:"time-goal",type:"number",min:"0",value:p,onChange:_=>m(_.target.value),className:"w-full p-2 bg-slate-200 dark:bg-slate-700 dark:text-slate-50 dark:placeholder-slate-400 border border-slate-300 dark:border-slate-500 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"e.g., 15"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{htmlFor:"wpm-goal",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"WPM Goal"}),x.jsx("input",{id:"wpm-goal",type:"number",value:l,onChange:_=>c(_.target.value),className:"w-full p-2 bg-slate-200 dark:bg-slate-700 dark:text-slate-50 dark:placeholder-slate-400 border border-slate-300 dark:border-slate-500 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"e.g., 80"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{htmlFor:"accuracy-goal",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Accuracy Goal (%)"}),x.jsx("input",{id:"accuracy-goal",type:"number",min:"0",max:"100",value:f,onChange:_=>h(_.target.value),className:"w-full p-2 bg-slate-200 dark:bg-slate-700 dark:text-slate-50 dark:placeholder-slate-400 border border-slate-300 dark:border-slate-500 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"e.g., 99"})]}),x.jsxs("div",{className:"flex justify-end items-center gap-2 mt-4",children:[x.jsx(Ye,{variant:"ghost",onClick:e,children:"Cancel"}),x.jsx(Ye,{onClick:v,children:"Save Goals"})]})]})})},C6=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"}),x.jsx("path",{d:"m15 5 4 4"})]}),mh=$.forwardRef(({options:t,selectedValue:e,onSelect:n,disabled:r=!1,accessKeyChars:i},s)=>{const l=$.useContext(In),c=$.useContext(OT),f=p=>{if(r)return;const m=t.findIndex(v=>v.value===e);if(p.key==="ArrowRight"){p.preventDefault();const v=(m+1)%t.length;n(t[v].value)}else if(p.key==="ArrowLeft"){p.preventDefault();const v=(m-1+t.length)%t.length;n(t[v].value)}},h=(l==null?void 0:l.isAccessKeyMenuVisible)&&(c||!(l!=null&&l.isAnyModalOpen));return x.jsx("div",{ref:s,role:"group",tabIndex:r?-1:0,className:"flex justify-center items-center gap-1 bg-slate-200 dark:bg-slate-700 p-1 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-slate-900",onKeyDown:f,children:t.map(({label:p,value:m},v)=>x.jsxs(Ye,{variant:e===m?"primary":"ghost",size:"sm",className:`relative ${e===m?"":"text-gray-600 dark:text-gray-300"}`,onClick:()=>n(m),disabled:r,tabIndex:-1,children:[h&&(i==null?void 0:i[v])&&x.jsx(ig,{label:i[v]}),p]},m))})});function I6(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=I6(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function bt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=I6(t))&&(r&&(r+=" "),r+=e);return r}var Cb,WP;function Yr(){if(WP)return Cb;WP=1;var t=Array.isArray;return Cb=t,Cb}var Ib,YP;function P6(){if(YP)return Ib;YP=1;var t=typeof sm=="object"&&sm&&sm.Object===Object&&sm;return Ib=t,Ib}var Pb,XP;function ka(){if(XP)return Pb;XP=1;var t=P6(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Pb=n,Pb}var Rb,QP;function Md(){if(QP)return Rb;QP=1;var t=ka(),e=t.Symbol;return Rb=e,Rb}var Nb,JP;function rK(){if(JP)return Nb;JP=1;var t=Md(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(l){var c=n.call(l,i),f=l[i];try{l[i]=void 0;var h=!0}catch{}var p=r.call(l);return h&&(c?l[i]=f:delete l[i]),p}return Nb=s,Nb}var kb,ZP;function iK(){if(ZP)return kb;ZP=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return kb=n,kb}var Mb,eR;function ws(){if(eR)return Mb;eR=1;var t=Md(),e=rK(),n=iK(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function l(c){return c==null?c===void 0?i:r:s&&s in Object(c)?e(c):n(c)}return Mb=l,Mb}var jb,tR;function Ss(){if(tR)return jb;tR=1;function t(e){return e!=null&&typeof e=="object"}return jb=t,jb}var Db,nR;function Xc(){if(nR)return Db;nR=1;var t=ws(),e=Ss(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return Db=r,Db}var Lb,rR;function CT(){if(rR)return Lb;rR=1;var t=Yr(),e=Xc(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){if(t(s))return!1;var c=typeof s;return c=="number"||c=="symbol"||c=="boolean"||s==null||e(s)?!0:r.test(s)||!n.test(s)||l!=null&&s in Object(l)}return Lb=i,Lb}var Vb,iR;function Co(){if(iR)return Vb;iR=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return Vb=t,Vb}var $b,aR;function IT(){if(aR)return $b;aR=1;var t=ws(),e=Co(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function l(c){if(!e(c))return!1;var f=t(c);return f==r||f==i||f==n||f==s}return $b=l,$b}var Ub,sR;function aK(){if(sR)return Ub;sR=1;var t=ka(),e=t["__core-js_shared__"];return Ub=e,Ub}var Bb,oR;function sK(){if(oR)return Bb;oR=1;var t=aK(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return Bb=n,Bb}var qb,lR;function R6(){if(lR)return qb;lR=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return qb=n,qb}var zb,uR;function oK(){if(uR)return zb;uR=1;var t=IT(),e=sK(),n=Co(),r=R6(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,f=l.toString,h=c.hasOwnProperty,p=RegExp("^"+f.call(h).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(v){if(!n(v)||e(v))return!1;var _=t(v)?p:s;return _.test(r(v))}return zb=m,zb}var Fb,cR;function lK(){if(cR)return Fb;cR=1;function t(e,n){return e==null?void 0:e[n]}return Fb=t,Fb}var Hb,fR;function Hl(){if(fR)return Hb;fR=1;var t=oK(),e=lK();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return Hb=n,Hb}var Gb,hR;function Py(){if(hR)return Gb;hR=1;var t=Hl(),e=t(Object,"create");return Gb=e,Gb}var Kb,dR;function uK(){if(dR)return Kb;dR=1;var t=Py();function e(){this.__data__=t?t(null):{},this.size=0}return Kb=e,Kb}var Wb,pR;function cK(){if(pR)return Wb;pR=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return Wb=t,Wb}var Yb,mR;function fK(){if(mR)return Yb;mR=1;var t=Py(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var l=this.__data__;if(t){var c=l[s];return c===e?void 0:c}return r.call(l,s)?l[s]:void 0}return Yb=i,Yb}var Xb,gR;function hK(){if(gR)return Xb;gR=1;var t=Py(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return Xb=r,Xb}var Qb,yR;function dK(){if(yR)return Qb;yR=1;var t=Py(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return Qb=n,Qb}var Jb,vR;function pK(){if(vR)return Jb;vR=1;var t=uK(),e=cK(),n=fK(),r=hK(),i=dK();function s(l){var c=-1,f=l==null?0:l.length;for(this.clear();++c<f;){var h=l[c];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Jb=s,Jb}var Zb,bR;function mK(){if(bR)return Zb;bR=1;function t(){this.__data__=[],this.size=0}return Zb=t,Zb}var e_,_R;function PT(){if(_R)return e_;_R=1;function t(e,n){return e===n||e!==e&&n!==n}return e_=t,e_}var t_,xR;function Ry(){if(xR)return t_;xR=1;var t=PT();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return t_=e,t_}var n_,wR;function gK(){if(wR)return n_;wR=1;var t=Ry(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,l=t(s,i);if(l<0)return!1;var c=s.length-1;return l==c?s.pop():n.call(s,l,1),--this.size,!0}return n_=r,n_}var r_,SR;function yK(){if(SR)return r_;SR=1;var t=Ry();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return r_=e,r_}var i_,ER;function vK(){if(ER)return i_;ER=1;var t=Ry();function e(n){return t(this.__data__,n)>-1}return i_=e,i_}var a_,TR;function bK(){if(TR)return a_;TR=1;var t=Ry();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return a_=e,a_}var s_,AR;function Ny(){if(AR)return s_;AR=1;var t=mK(),e=gK(),n=yK(),r=vK(),i=bK();function s(l){var c=-1,f=l==null?0:l.length;for(this.clear();++c<f;){var h=l[c];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,s_=s,s_}var o_,OR;function RT(){if(OR)return o_;OR=1;var t=Hl(),e=ka(),n=t(e,"Map");return o_=n,o_}var l_,CR;function _K(){if(CR)return l_;CR=1;var t=pK(),e=Ny(),n=RT();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return l_=r,l_}var u_,IR;function xK(){if(IR)return u_;IR=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return u_=t,u_}var c_,PR;function ky(){if(PR)return c_;PR=1;var t=xK();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return c_=e,c_}var f_,RR;function wK(){if(RR)return f_;RR=1;var t=ky();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return f_=e,f_}var h_,NR;function SK(){if(NR)return h_;NR=1;var t=ky();function e(n){return t(this,n).get(n)}return h_=e,h_}var d_,kR;function EK(){if(kR)return d_;kR=1;var t=ky();function e(n){return t(this,n).has(n)}return d_=e,d_}var p_,MR;function TK(){if(MR)return p_;MR=1;var t=ky();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return p_=e,p_}var m_,jR;function NT(){if(jR)return m_;jR=1;var t=_K(),e=wK(),n=SK(),r=EK(),i=TK();function s(l){var c=-1,f=l==null?0:l.length;for(this.clear();++c<f;){var h=l[c];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,m_=s,m_}var g_,DR;function N6(){if(DR)return g_;DR=1;var t=NT(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var l=arguments,c=i?i.apply(this,l):l[0],f=s.cache;if(f.has(c))return f.get(c);var h=r.apply(this,l);return s.cache=f.set(c,h)||f,h};return s.cache=new(n.Cache||t),s}return n.Cache=t,g_=n,g_}var y_,LR;function AK(){if(LR)return y_;LR=1;var t=N6(),e=500;function n(r){var i=t(r,function(l){return s.size===e&&s.clear(),l}),s=i.cache;return i}return y_=n,y_}var v_,VR;function OK(){if(VR)return v_;VR=1;var t=AK(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(l,c,f,h){s.push(f?h.replace(n,"$1"):c||l)}),s});return v_=r,v_}var b_,$R;function kT(){if($R)return b_;$R=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=Array(i);++r<i;)s[r]=n(e[r],r,e);return s}return b_=t,b_}var __,UR;function CK(){if(UR)return __;UR=1;var t=Md(),e=kT(),n=Yr(),r=Xc(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function l(c){if(typeof c=="string")return c;if(n(c))return e(c,l)+"";if(r(c))return s?s.call(c):"";var f=c+"";return f=="0"&&1/c==-1/0?"-0":f}return __=l,__}var x_,BR;function k6(){if(BR)return x_;BR=1;var t=CK();function e(n){return n==null?"":t(n)}return x_=e,x_}var w_,qR;function M6(){if(qR)return w_;qR=1;var t=Yr(),e=CT(),n=OK(),r=k6();function i(s,l){return t(s)?s:e(s,l)?[s]:n(r(s))}return w_=i,w_}var S_,zR;function My(){if(zR)return S_;zR=1;var t=Xc();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return S_=e,S_}var E_,FR;function MT(){if(FR)return E_;FR=1;var t=M6(),e=My();function n(r,i){i=t(i,r);for(var s=0,l=i.length;r!=null&&s<l;)r=r[e(i[s++])];return s&&s==l?r:void 0}return E_=n,E_}var T_,HR;function j6(){if(HR)return T_;HR=1;var t=MT();function e(n,r,i){var s=n==null?void 0:t(n,r);return s===void 0?i:s}return T_=e,T_}var IK=j6();const di=Gt(IK);var A_,GR;function PK(){if(GR)return A_;GR=1;function t(e){return e==null}return A_=t,A_}var RK=PK();const ct=Gt(RK);var O_,KR;function NK(){if(KR)return O_;KR=1;var t=ws(),e=Yr(),n=Ss(),r="[object String]";function i(s){return typeof s=="string"||!e(s)&&n(s)&&t(s)==r}return O_=i,O_}var kK=NK();const jl=Gt(kK);var MK=IT();const rt=Gt(MK);var jK=Co();const Qc=Gt(jK);var C_={exports:{}},Wt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WR;function DK(){if(WR)return Wt;WR=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),E;E=Symbol.for("react.module.reference");function S(w){if(typeof w=="object"&&w!==null){var O=w.$$typeof;switch(O){case t:switch(w=w.type,w){case n:case i:case r:case h:case p:return w;default:switch(w=w&&w.$$typeof,w){case c:case l:case f:case v:case m:case s:return w;default:return O}}case e:return O}}}return Wt.ContextConsumer=l,Wt.ContextProvider=s,Wt.Element=t,Wt.ForwardRef=f,Wt.Fragment=n,Wt.Lazy=v,Wt.Memo=m,Wt.Portal=e,Wt.Profiler=i,Wt.StrictMode=r,Wt.Suspense=h,Wt.SuspenseList=p,Wt.isAsyncMode=function(){return!1},Wt.isConcurrentMode=function(){return!1},Wt.isContextConsumer=function(w){return S(w)===l},Wt.isContextProvider=function(w){return S(w)===s},Wt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},Wt.isForwardRef=function(w){return S(w)===f},Wt.isFragment=function(w){return S(w)===n},Wt.isLazy=function(w){return S(w)===v},Wt.isMemo=function(w){return S(w)===m},Wt.isPortal=function(w){return S(w)===e},Wt.isProfiler=function(w){return S(w)===i},Wt.isStrictMode=function(w){return S(w)===r},Wt.isSuspense=function(w){return S(w)===h},Wt.isSuspenseList=function(w){return S(w)===p},Wt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===i||w===r||w===h||w===p||w===_||typeof w=="object"&&w!==null&&(w.$$typeof===v||w.$$typeof===m||w.$$typeof===s||w.$$typeof===l||w.$$typeof===f||w.$$typeof===E||w.getModuleId!==void 0)},Wt.typeOf=S,Wt}var YR;function LK(){return YR||(YR=1,C_.exports=DK()),C_.exports}var VK=LK(),I_,XR;function D6(){if(XR)return I_;XR=1;var t=ws(),e=Ss(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return I_=r,I_}var P_,QR;function $K(){if(QR)return P_;QR=1;var t=D6();function e(n){return t(n)&&n!=+n}return P_=e,P_}var UK=$K();const jd=Gt(UK);var BK=D6();const qK=Gt(BK);var jr=function(e){return e===0?0:e>0?1:-1},xl=function(e){return jl(e)&&e.indexOf("%")===e.length-1},Ce=function(e){return qK(e)&&!jd(e)},zK=function(e){return ct(e)},Jn=function(e){return Ce(e)||jl(e)},FK=0,Jc=function(e){var n=++FK;return"".concat(e||"").concat(n)},Dr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ce(e)&&!jl(e))return r;var s;if(xl(e)){var l=e.indexOf("%");s=n*parseFloat(e.slice(0,l))/100}else s=+e;return jd(s)&&(s=r),i&&s>n&&(s=n),s},uo=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},HK=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},ci=function(e,n){return Ce(e)&&Ce(n)?function(r){return e+r*(n-e)}:function(){return n}};function sg(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):di(r,e))===n})}var GK=function(e,n){return Ce(e)&&Ce(n)?e-n:jl(e)&&jl(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function ac(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function hS(t){"@babel/helpers - typeof";return hS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hS(t)}var KK=["viewBox","children"],WK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],JR=["points","pathLength"],R_={svg:KK,polygon:JR,polyline:JR},jT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],og=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if($.isValidElement(e)&&(r=e.props),!Qc(r))return null;var i={};return Object.keys(r).forEach(function(s){jT.includes(s)&&(i[s]=n||function(l){return r[s](r,l)})}),i},YK=function(e,n,r){return function(i){return e(n,r,i),null}},Dl=function(e,n,r){if(!Qc(e)||hS(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var l=e[s];jT.includes(s)&&typeof l=="function"&&(i||(i={}),i[s]=YK(l,n,r))}),i},XK=["children"],QK=["children"];function ZR(t,e){if(t==null)return{};var n=JK(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function JK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dS(t){"@babel/helpers - typeof";return dS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dS(t)}var eN={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},fs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},tN=null,N_=null,DT=function t(e){if(e===tN&&Array.isArray(N_))return N_;var n=[];return $.Children.forEach(e,function(r){ct(r)||(VK.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),N_=n,tN=e,n};function pi(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return fs(i)}):r=[fs(e)],DT(t).forEach(function(i){var s=di(i,"type.displayName")||di(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function ui(t,e){var n=pi(t,e);return n&&n[0]}var nN=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Ce(r)||r<=0||!Ce(i)||i<=0)},ZK=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],eW=function(e){return e&&e.type&&jl(e.type)&&ZK.indexOf(e.type)>=0},tW=function(e){return e&&dS(e)==="object"&&"clipDot"in e},nW=function(e,n,r,i){var s,l=(s=R_==null?void 0:R_[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!rt(e)&&(i&&l.includes(n)||WK.includes(n))||r&&jT.includes(n)},Je=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if($.isValidElement(e)&&(i=e.props),!Qc(i))return null;var s={};return Object.keys(i).forEach(function(l){var c;nW((c=i)===null||c===void 0?void 0:c[l],l,n,r)&&(s[l]=i[l])}),s},pS=function t(e,n){if(e===n)return!0;var r=$.Children.count(e);if(r!==$.Children.count(n))return!1;if(r===0)return!0;if(r===1)return rN(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],l=n[i];if(Array.isArray(s)||Array.isArray(l)){if(!t(s,l))return!1}else if(!rN(s,l))return!1}return!0},rN=function(e,n){if(ct(e)&&ct(n))return!0;if(!ct(e)&&!ct(n)){var r=e.props||{},i=r.children,s=ZR(r,XK),l=n.props||{},c=l.children,f=ZR(l,QK);return i&&c?ac(s,f)&&pS(i,c):!i&&!c?ac(s,f):!1}return!1},iN=function(e,n){var r=[],i={};return DT(e).forEach(function(s,l){if(eW(s))r.push(s);else if(s){var c=fs(s.type),f=n[c]||{},h=f.handler,p=f.once;if(h&&(!p||!i[c])){var m=h(s,c,l);r.push(m),i[c]=!0}}}),r},rW=function(e){var n=e&&e.type;return n&&eN[n]?eN[n]:null},iW=function(e,n){return DT(n).indexOf(e)},aW=["children","width","height","viewBox","className","style","title","desc"];function mS(){return mS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mS.apply(this,arguments)}function sW(t,e){if(t==null)return{};var n=oW(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gS(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,l=t.style,c=t.title,f=t.desc,h=sW(t,aW),p=i||{width:n,height:r,x:0,y:0},m=bt("recharts-surface",s);return G.createElement("svg",mS({},Je(h,!0,"svg"),{className:m,width:n,height:r,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),G.createElement("title",null,c),G.createElement("desc",null,f),e)}var lW=["children","className"];function yS(){return yS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yS.apply(this,arguments)}function uW(t,e){if(t==null)return{};var n=cW(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var qt=G.forwardRef(function(t,e){var n=t.children,r=t.className,i=uW(t,lW),s=bt("recharts-layer",r);return G.createElement("g",yS({className:s},Je(i,!0),{ref:e}),n)}),na=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]},k_,aN;function fW(){if(aN)return k_;aN=1;function t(e,n,r){var i=-1,s=e.length;n<0&&(n=-n>s?0:s+n),r=r>s?s:r,r<0&&(r+=s),s=n>r?0:r-n>>>0,n>>>=0;for(var l=Array(s);++i<s;)l[i]=e[i+n];return l}return k_=t,k_}var M_,sN;function hW(){if(sN)return M_;sN=1;var t=fW();function e(n,r,i){var s=n.length;return i=i===void 0?s:i,!r&&i>=s?n:t(n,r,i)}return M_=e,M_}var j_,oN;function L6(){if(oN)return j_;oN=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",l="\\u200d",c=RegExp("["+l+t+i+s+"]");function f(h){return c.test(h)}return j_=f,j_}var D_,lN;function dW(){if(lN)return D_;lN=1;function t(e){return e.split("")}return D_=t,D_}var L_,uN;function pW(){if(uN)return L_;uN=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",l="["+t+"]",c="["+i+"]",f="\\ud83c[\\udffb-\\udfff]",h="(?:"+c+"|"+f+")",p="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",_="\\u200d",E=h+"?",S="["+s+"]?",w="(?:"+_+"(?:"+[p,m,v].join("|")+")"+S+E+")*",O=S+E+w,I="(?:"+[p+c+"?",c,m,v,l].join("|")+")",N=RegExp(f+"(?="+f+")|"+I+O,"g");function L(C){return C.match(N)||[]}return L_=L,L_}var V_,cN;function mW(){if(cN)return V_;cN=1;var t=dW(),e=L6(),n=pW();function r(i){return e(i)?n(i):t(i)}return V_=r,V_}var $_,fN;function gW(){if(fN)return $_;fN=1;var t=hW(),e=L6(),n=mW(),r=k6();function i(s){return function(l){l=r(l);var c=e(l)?n(l):void 0,f=c?c[0]:l.charAt(0),h=c?t(c,1).join(""):l.slice(1);return f[s]()+h}}return $_=i,$_}var U_,hN;function yW(){if(hN)return U_;hN=1;var t=gW(),e=t("toUpperCase");return U_=e,U_}var vW=yW();const jy=Gt(vW);function cn(t){return function(){return t}}const V6=Math.cos,lg=Math.sin,ia=Math.sqrt,ug=Math.PI,Dy=2*ug,vS=Math.PI,bS=2*vS,dl=1e-6,bW=bS-dl;function $6(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function _W(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return $6;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class xW{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?$6:_W(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,c=this._y1,f=r-e,h=i-n,p=l-e,m=c-n,v=p*p+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>dl)if(!(Math.abs(m*f-h*p)>dl)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-l,E=i-c,S=f*f+h*h,w=_*_+E*E,O=Math.sqrt(S),I=Math.sqrt(v),N=s*Math.tan((vS-Math.acos((S+v-w)/(2*O*I)))/2),L=N/I,C=N/O;Math.abs(L-1)>dl&&this._append`L${e+L*p},${n+L*m}`,this._append`A${s},${s},0,0,${+(m*_>p*E)},${this._x1=e+C*f},${this._y1=n+C*h}`}}arc(e,n,r,i,s,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),f=r*Math.sin(i),h=e+c,p=n+f,m=1^l,v=l?i-s:s-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>dl||Math.abs(this._y1-p)>dl)&&this._append`L${h},${p}`,r&&(v<0&&(v=v%bS+bS),v>bW?this._append`A${r},${r},0,1,${m},${e-c},${n-f}A${r},${r},0,1,${m},${this._x1=h},${this._y1=p}`:v>dl&&this._append`A${r},${r},0,${+(v>=vS)},${m},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function LT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new xW(e)}function VT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function U6(t){this._context=t}U6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ly(t){return new U6(t)}function B6(t){return t[0]}function q6(t){return t[1]}function z6(t,e){var n=cn(!0),r=null,i=Ly,s=null,l=LT(c);t=typeof t=="function"?t:t===void 0?B6:cn(t),e=typeof e=="function"?e:e===void 0?q6:cn(e);function c(f){var h,p=(f=VT(f)).length,m,v=!1,_;for(r==null&&(s=i(_=l())),h=0;h<=p;++h)!(h<p&&n(m=f[h],h,f))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+t(m,h,f),+e(m,h,f));if(_)return s=null,_+""||null}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:cn(+f),c):t},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:cn(+f),c):e},c.defined=function(f){return arguments.length?(n=typeof f=="function"?f:cn(!!f),c):n},c.curve=function(f){return arguments.length?(i=f,r!=null&&(s=i(r)),c):i},c.context=function(f){return arguments.length?(f==null?r=s=null:s=i(r=f),c):r},c}function dm(t,e,n){var r=null,i=cn(!0),s=null,l=Ly,c=null,f=LT(h);t=typeof t=="function"?t:t===void 0?B6:cn(+t),e=typeof e=="function"?e:cn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?q6:cn(+n);function h(m){var v,_,E,S=(m=VT(m)).length,w,O=!1,I,N=new Array(S),L=new Array(S);for(s==null&&(c=l(I=f())),v=0;v<=S;++v){if(!(v<S&&i(w=m[v],v,m))===O)if(O=!O)_=v,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),E=v-1;E>=_;--E)c.point(N[E],L[E]);c.lineEnd(),c.areaEnd()}O&&(N[v]=+t(w,v,m),L[v]=+e(w,v,m),c.point(r?+r(w,v,m):N[v],n?+n(w,v,m):L[v]))}if(I)return c=null,I+""||null}function p(){return z6().defined(i).curve(l).context(s)}return h.x=function(m){return arguments.length?(t=typeof m=="function"?m:cn(+m),r=null,h):t},h.x0=function(m){return arguments.length?(t=typeof m=="function"?m:cn(+m),h):t},h.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:cn(+m),h):r},h.y=function(m){return arguments.length?(e=typeof m=="function"?m:cn(+m),n=null,h):e},h.y0=function(m){return arguments.length?(e=typeof m=="function"?m:cn(+m),h):e},h.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:cn(+m),h):n},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(n)},h.lineX1=function(){return p().x(r).y(e)},h.defined=function(m){return arguments.length?(i=typeof m=="function"?m:cn(!!m),h):i},h.curve=function(m){return arguments.length?(l=m,s!=null&&(c=l(s)),h):l},h.context=function(m){return arguments.length?(m==null?s=c=null:c=l(s=m),h):s},h}class F6{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function wW(t){return new F6(t,!0)}function SW(t){return new F6(t,!1)}const $T={draw(t,e){const n=ia(e/ug);t.moveTo(n,0),t.arc(0,0,n,0,Dy)}},EW={draw(t,e){const n=ia(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},H6=ia(1/3),TW=H6*2,AW={draw(t,e){const n=ia(e/TW),r=n*H6;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},OW={draw(t,e){const n=ia(e),r=-n/2;t.rect(r,r,n,n)}},CW=.8908130915292852,G6=lg(ug/10)/lg(7*ug/10),IW=lg(Dy/10)*G6,PW=-V6(Dy/10)*G6,RW={draw(t,e){const n=ia(e*CW),r=IW*n,i=PW*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const l=Dy*s/5,c=V6(l),f=lg(l);t.lineTo(f*n,-c*n),t.lineTo(c*r-f*i,f*r+c*i)}t.closePath()}},B_=ia(3),NW={draw(t,e){const n=-ia(e/(B_*3));t.moveTo(0,n*2),t.lineTo(-B_*n,-n),t.lineTo(B_*n,-n),t.closePath()}},Ii=-.5,Pi=ia(3)/2,_S=1/ia(12),kW=(_S/2+1)*3,MW={draw(t,e){const n=ia(e/kW),r=n/2,i=n*_S,s=r,l=n*_S+n,c=-s,f=l;t.moveTo(r,i),t.lineTo(s,l),t.lineTo(c,f),t.lineTo(Ii*r-Pi*i,Pi*r+Ii*i),t.lineTo(Ii*s-Pi*l,Pi*s+Ii*l),t.lineTo(Ii*c-Pi*f,Pi*c+Ii*f),t.lineTo(Ii*r+Pi*i,Ii*i-Pi*r),t.lineTo(Ii*s+Pi*l,Ii*l-Pi*s),t.lineTo(Ii*c+Pi*f,Ii*f-Pi*c),t.closePath()}};function jW(t,e){let n=null,r=LT(i);t=typeof t=="function"?t:cn(t||$T),e=typeof e=="function"?e:cn(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:cn(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:cn(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function cg(){}function fg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function K6(t){this._context=t}K6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:fg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:fg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function DW(t){return new K6(t)}function W6(t){this._context=t}W6.prototype={areaStart:cg,areaEnd:cg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:fg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function LW(t){return new W6(t)}function Y6(t){this._context=t}Y6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:fg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function VW(t){return new Y6(t)}function X6(t){this._context=t}X6.prototype={areaStart:cg,areaEnd:cg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function $W(t){return new X6(t)}function dN(t){return t<0?-1:1}function pN(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),c=(s*i+l*r)/(r+i);return(dN(s)+dN(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(c))||0}function mN(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function q_(t,e,n){var r=t._x0,i=t._y0,s=t._x1,l=t._y1,c=(s-r)/3;t._context.bezierCurveTo(r+c,i+c*e,s-c,l-c*n,s,l)}function hg(t){this._context=t}hg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:q_(this,this._t0,mN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,q_(this,mN(this,n=pN(this,t,e)),n);break;default:q_(this,this._t0,n=pN(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Q6(t){this._context=new J6(t)}(Q6.prototype=Object.create(hg.prototype)).point=function(t,e){hg.prototype.point.call(this,e,t)};function J6(t){this._context=t}J6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function UW(t){return new hg(t)}function BW(t){return new Q6(t)}function Z6(t){this._context=t}Z6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=gN(t),i=gN(e),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function gN(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),l=new Array(n);for(i[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function qW(t){return new Z6(t)}function Vy(t,e){this._context=t,this._t=e}Vy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function zW(t){return new Vy(t,.5)}function FW(t){return new Vy(t,0)}function HW(t){return new Vy(t,1)}function yc(t,e){if((l=t.length)>1)for(var n=1,r,i,s=t[e[0]],l,c=s.length;n<l;++n)for(i=s,s=t[e[n]],r=0;r<c;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function xS(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function GW(t,e){return t[e]}function KW(t){const e=[];return e.key=t,e}function WW(){var t=cn([]),e=xS,n=yc,r=GW;function i(s){var l=Array.from(t.apply(this,arguments),KW),c,f=l.length,h=-1,p;for(const m of s)for(c=0,++h;c<f;++c)(l[c][h]=[0,+r(m,l[c].key,h,s)]).data=m;for(c=0,p=VT(e(l));c<f;++c)l[p[c]].index=c;return n(l,p),l}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:cn(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:cn(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?xS:typeof s=="function"?s:cn(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??yc,i):n},i}function YW(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,l;i<s;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}yc(t,e)}}function XW(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var l=0,c=0;l<i;++l)c+=t[l][n][1]||0;r[n][1]+=r[n][0]=-c/2}yc(t,e)}}function QW(t,e){if(!(!((l=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,l;r<s;++r){for(var c=0,f=0,h=0;c<l;++c){for(var p=t[e[c]],m=p[r][1]||0,v=p[r-1][1]||0,_=(m-v)/2,E=0;E<c;++E){var S=t[e[E]],w=S[r][1]||0,O=S[r-1][1]||0;_+=w-O}f+=m,h+=_*m}i[r-1][1]+=i[r-1][0]=n,f&&(n-=h/f)}i[r-1][1]+=i[r-1][0]=n,yc(t,e)}}function Bh(t){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}var JW=["type","size","sizeType"];function wS(){return wS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wS.apply(this,arguments)}function yN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yN(Object(n),!0).forEach(function(r){ZW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZW(t,e,n){return e=eY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eY(t){var e=tY(t,"string");return Bh(e)=="symbol"?e:e+""}function tY(t,e){if(Bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nY(t,e){if(t==null)return{};var n=rY(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var e5={symbolCircle:$T,symbolCross:EW,symbolDiamond:AW,symbolSquare:OW,symbolStar:RW,symbolTriangle:NW,symbolWye:MW},iY=Math.PI/180,aY=function(e){var n="symbol".concat(jy(e));return e5[n]||$T},sY=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*iY;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},oY=function(e,n){e5["symbol".concat(jy(e))]=n},UT=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,l=e.sizeType,c=l===void 0?"area":l,f=nY(e,JW),h=vN(vN({},f),{},{type:r,size:s,sizeType:c}),p=function(){var w=aY(r),O=jW().type(w).size(sY(s,c,r));return O()},m=h.className,v=h.cx,_=h.cy,E=Je(h,!0);return v===+v&&_===+_&&s===+s?G.createElement("path",wS({},E,{className:bt("recharts-symbols",m),transform:"translate(".concat(v,", ").concat(_,")"),d:p()})):null};UT.registerSymbol=oY;function vc(t){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}function SS(){return SS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SS.apply(this,arguments)}function bN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bN(Object(n),!0).forEach(function(r){qh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n5(r.key),r)}}function fY(t,e,n){return e&&cY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hY(t,e,n){return e=dg(e),dY(t,t5()?Reflect.construct(e,n||[],dg(t).constructor):e.apply(t,n))}function dY(t,e){if(e&&(vc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pY(t)}function pY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t5=function(){return!!t})()}function dg(t){return dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dg(t)}function mY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ES(t,e)}function ES(t,e){return ES=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ES(t,e)}function qh(t,e,n){return e=n5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n5(t){var e=gY(t,"string");return vc(e)=="symbol"?e:e+""}function gY(t,e){if(vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ri=32,BT=(function(t){function e(){return uY(this,e),hY(this,e,arguments)}return mY(e,t),fY(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=Ri/2,l=Ri/6,c=Ri/3,f=r.inactive?i:r.color;if(r.type==="plainline")return G.createElement("line",{strokeWidth:4,fill:"none",stroke:f,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:Ri,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return G.createElement("path",{strokeWidth:4,fill:"none",stroke:f,d:"M0,".concat(s,"h").concat(c,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*c,",").concat(s,`
            H`).concat(Ri,"M").concat(2*c,",").concat(s,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(c,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return G.createElement("path",{stroke:"none",fill:f,d:"M0,".concat(Ri/8,"h").concat(Ri,"v").concat(Ri*3/4,"h").concat(-Ri,"z"),className:"recharts-legend-icon"});if(G.isValidElement(r.legendIcon)){var h=lY({},r);return delete h.legendIcon,G.cloneElement(r.legendIcon,h)}return G.createElement(UT,{fill:f,cx:s,cy:s,size:Ri,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,l=i.iconSize,c=i.layout,f=i.formatter,h=i.inactiveColor,p={x:0,y:0,width:Ri,height:Ri},m={display:c==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(_,E){var S=_.formatter||f,w=bt(qh(qh({"recharts-legend-item":!0},"legend-item-".concat(E),!0),"inactive",_.inactive));if(_.type==="none")return null;var O=rt(_.value)?null:_.value;na(!rt(_.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var I=_.inactive?h:_.color;return G.createElement("li",SS({className:w,style:m,key:"legend-item-".concat(E)},Dl(r.props,_,E)),G.createElement(gS,{width:l,height:l,viewBox:p,style:v},r.renderIcon(_)),G.createElement("span",{className:"recharts-legend-item-text",style:{color:I}},S?S(O,_,E):O))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,l=r.align;if(!i||!i.length)return null;var c={padding:0,margin:0,textAlign:s==="horizontal"?l:"left"};return G.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])})($.PureComponent);qh(BT,"displayName","Legend");qh(BT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var z_,_N;function yY(){if(_N)return z_;_N=1;var t=Ny();function e(){this.__data__=new t,this.size=0}return z_=e,z_}var F_,xN;function vY(){if(xN)return F_;xN=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return F_=t,F_}var H_,wN;function bY(){if(wN)return H_;wN=1;function t(e){return this.__data__.get(e)}return H_=t,H_}var G_,SN;function _Y(){if(SN)return G_;SN=1;function t(e){return this.__data__.has(e)}return G_=t,G_}var K_,EN;function xY(){if(EN)return K_;EN=1;var t=Ny(),e=RT(),n=NT(),r=200;function i(s,l){var c=this.__data__;if(c instanceof t){var f=c.__data__;if(!e||f.length<r-1)return f.push([s,l]),this.size=++c.size,this;c=this.__data__=new n(f)}return c.set(s,l),this.size=c.size,this}return K_=i,K_}var W_,TN;function r5(){if(TN)return W_;TN=1;var t=Ny(),e=yY(),n=vY(),r=bY(),i=_Y(),s=xY();function l(c){var f=this.__data__=new t(c);this.size=f.size}return l.prototype.clear=e,l.prototype.delete=n,l.prototype.get=r,l.prototype.has=i,l.prototype.set=s,W_=l,W_}var Y_,AN;function wY(){if(AN)return Y_;AN=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return Y_=e,Y_}var X_,ON;function SY(){if(ON)return X_;ON=1;function t(e){return this.__data__.has(e)}return X_=t,X_}var Q_,CN;function i5(){if(CN)return Q_;CN=1;var t=NT(),e=wY(),n=SY();function r(i){var s=-1,l=i==null?0:i.length;for(this.__data__=new t;++s<l;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,Q_=r,Q_}var J_,IN;function a5(){if(IN)return J_;IN=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return J_=t,J_}var Z_,PN;function s5(){if(PN)return Z_;PN=1;function t(e,n){return e.has(n)}return Z_=t,Z_}var ex,RN;function o5(){if(RN)return ex;RN=1;var t=i5(),e=a5(),n=s5(),r=1,i=2;function s(l,c,f,h,p,m){var v=f&r,_=l.length,E=c.length;if(_!=E&&!(v&&E>_))return!1;var S=m.get(l),w=m.get(c);if(S&&w)return S==c&&w==l;var O=-1,I=!0,N=f&i?new t:void 0;for(m.set(l,c),m.set(c,l);++O<_;){var L=l[O],C=c[O];if(h)var M=v?h(C,L,O,c,l,m):h(L,C,O,l,c,m);if(M!==void 0){if(M)continue;I=!1;break}if(N){if(!e(c,function(A,P){if(!n(N,P)&&(L===A||p(L,A,f,h,m)))return N.push(P)})){I=!1;break}}else if(!(L===C||p(L,C,f,h,m))){I=!1;break}}return m.delete(l),m.delete(c),I}return ex=s,ex}var tx,NN;function EY(){if(NN)return tx;NN=1;var t=ka(),e=t.Uint8Array;return tx=e,tx}var nx,kN;function TY(){if(kN)return nx;kN=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,s){r[++n]=[s,i]}),r}return nx=t,nx}var rx,MN;function qT(){if(MN)return rx;MN=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return rx=t,rx}var ix,jN;function AY(){if(jN)return ix;jN=1;var t=Md(),e=EY(),n=PT(),r=o5(),i=TY(),s=qT(),l=1,c=2,f="[object Boolean]",h="[object Date]",p="[object Error]",m="[object Map]",v="[object Number]",_="[object RegExp]",E="[object Set]",S="[object String]",w="[object Symbol]",O="[object ArrayBuffer]",I="[object DataView]",N=t?t.prototype:void 0,L=N?N.valueOf:void 0;function C(M,A,P,k,U,D,B){switch(P){case I:if(M.byteLength!=A.byteLength||M.byteOffset!=A.byteOffset)return!1;M=M.buffer,A=A.buffer;case O:return!(M.byteLength!=A.byteLength||!D(new e(M),new e(A)));case f:case h:case v:return n(+M,+A);case p:return M.name==A.name&&M.message==A.message;case _:case S:return M==A+"";case m:var V=i;case E:var Q=k&l;if(V||(V=s),M.size!=A.size&&!Q)return!1;var J=B.get(M);if(J)return J==A;k|=c,B.set(M,A);var H=r(V(M),V(A),k,U,D,B);return B.delete(M),H;case w:if(L)return L.call(M)==L.call(A)}return!1}return ix=C,ix}var ax,DN;function l5(){if(DN)return ax;DN=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return ax=t,ax}var sx,LN;function OY(){if(LN)return sx;LN=1;var t=l5(),e=Yr();function n(r,i,s){var l=i(r);return e(r)?l:t(l,s(r))}return sx=n,sx}var ox,VN;function CY(){if(VN)return ox;VN=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,l=[];++r<i;){var c=e[r];n(c,r,e)&&(l[s++]=c)}return l}return ox=t,ox}var lx,$N;function IY(){if($N)return lx;$N=1;function t(){return[]}return lx=t,lx}var ux,UN;function PY(){if(UN)return ux;UN=1;var t=CY(),e=IY(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(l){return l==null?[]:(l=Object(l),t(i(l),function(c){return r.call(l,c)}))}:e;return ux=s,ux}var cx,BN;function RY(){if(BN)return cx;BN=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return cx=t,cx}var fx,qN;function NY(){if(qN)return fx;qN=1;var t=ws(),e=Ss(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return fx=r,fx}var hx,zN;function zT(){if(zN)return hx;zN=1;var t=NY(),e=Ss(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(l){return e(l)&&r.call(l,"callee")&&!i.call(l,"callee")};return hx=s,hx}var gh={exports:{}},dx,FN;function kY(){if(FN)return dx;FN=1;function t(){return!1}return dx=t,dx}gh.exports;var HN;function u5(){return HN||(HN=1,(function(t,e){var n=ka(),r=kY(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,l=s&&s.exports===i,c=l?n.Buffer:void 0,f=c?c.isBuffer:void 0,h=f||r;t.exports=h})(gh,gh.exports)),gh.exports}var px,GN;function FT(){if(GN)return px;GN=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return px=n,px}var mx,KN;function HT(){if(KN)return mx;KN=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return mx=e,mx}var gx,WN;function MY(){if(WN)return gx;WN=1;var t=ws(),e=HT(),n=Ss(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Function]",h="[object Map]",p="[object Number]",m="[object Object]",v="[object RegExp]",_="[object Set]",E="[object String]",S="[object WeakMap]",w="[object ArrayBuffer]",O="[object DataView]",I="[object Float32Array]",N="[object Float64Array]",L="[object Int8Array]",C="[object Int16Array]",M="[object Int32Array]",A="[object Uint8Array]",P="[object Uint8ClampedArray]",k="[object Uint16Array]",U="[object Uint32Array]",D={};D[I]=D[N]=D[L]=D[C]=D[M]=D[A]=D[P]=D[k]=D[U]=!0,D[r]=D[i]=D[w]=D[s]=D[O]=D[l]=D[c]=D[f]=D[h]=D[p]=D[m]=D[v]=D[_]=D[E]=D[S]=!1;function B(V){return n(V)&&e(V.length)&&!!D[t(V)]}return gx=B,gx}var yx,YN;function c5(){if(YN)return yx;YN=1;function t(e){return function(n){return e(n)}}return yx=t,yx}var yh={exports:{}};yh.exports;var XN;function jY(){return XN||(XN=1,(function(t,e){var n=P6(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,l=s&&n.process,c=(function(){try{var f=i&&i.require&&i.require("util").types;return f||l&&l.binding&&l.binding("util")}catch{}})();t.exports=c})(yh,yh.exports)),yh.exports}var vx,QN;function f5(){if(QN)return vx;QN=1;var t=MY(),e=c5(),n=jY(),r=n&&n.isTypedArray,i=r?e(r):t;return vx=i,vx}var bx,JN;function DY(){if(JN)return bx;JN=1;var t=RY(),e=zT(),n=Yr(),r=u5(),i=FT(),s=f5(),l=Object.prototype,c=l.hasOwnProperty;function f(h,p){var m=n(h),v=!m&&e(h),_=!m&&!v&&r(h),E=!m&&!v&&!_&&s(h),S=m||v||_||E,w=S?t(h.length,String):[],O=w.length;for(var I in h)(p||c.call(h,I))&&!(S&&(I=="length"||_&&(I=="offset"||I=="parent")||E&&(I=="buffer"||I=="byteLength"||I=="byteOffset")||i(I,O)))&&w.push(I);return w}return bx=f,bx}var _x,ZN;function LY(){if(ZN)return _x;ZN=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return _x=e,_x}var xx,ek;function h5(){if(ek)return xx;ek=1;function t(e,n){return function(r){return e(n(r))}}return xx=t,xx}var wx,tk;function VY(){if(tk)return wx;tk=1;var t=h5(),e=t(Object.keys,Object);return wx=e,wx}var Sx,nk;function $Y(){if(nk)return Sx;nk=1;var t=LY(),e=VY(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var l=[];for(var c in Object(s))r.call(s,c)&&c!="constructor"&&l.push(c);return l}return Sx=i,Sx}var Ex,rk;function Dd(){if(rk)return Ex;rk=1;var t=IT(),e=HT();function n(r){return r!=null&&e(r.length)&&!t(r)}return Ex=n,Ex}var Tx,ik;function $y(){if(ik)return Tx;ik=1;var t=DY(),e=$Y(),n=Dd();function r(i){return n(i)?t(i):e(i)}return Tx=r,Tx}var Ax,ak;function UY(){if(ak)return Ax;ak=1;var t=OY(),e=PY(),n=$y();function r(i){return t(i,n,e)}return Ax=r,Ax}var Ox,sk;function BY(){if(sk)return Ox;sk=1;var t=UY(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,l,c,f,h,p){var m=c&e,v=t(s),_=v.length,E=t(l),S=E.length;if(_!=S&&!m)return!1;for(var w=_;w--;){var O=v[w];if(!(m?O in l:r.call(l,O)))return!1}var I=p.get(s),N=p.get(l);if(I&&N)return I==l&&N==s;var L=!0;p.set(s,l),p.set(l,s);for(var C=m;++w<_;){O=v[w];var M=s[O],A=l[O];if(f)var P=m?f(A,M,O,l,s,p):f(M,A,O,s,l,p);if(!(P===void 0?M===A||h(M,A,c,f,p):P)){L=!1;break}C||(C=O=="constructor")}if(L&&!C){var k=s.constructor,U=l.constructor;k!=U&&"constructor"in s&&"constructor"in l&&!(typeof k=="function"&&k instanceof k&&typeof U=="function"&&U instanceof U)&&(L=!1)}return p.delete(s),p.delete(l),L}return Ox=i,Ox}var Cx,ok;function qY(){if(ok)return Cx;ok=1;var t=Hl(),e=ka(),n=t(e,"DataView");return Cx=n,Cx}var Ix,lk;function zY(){if(lk)return Ix;lk=1;var t=Hl(),e=ka(),n=t(e,"Promise");return Ix=n,Ix}var Px,uk;function d5(){if(uk)return Px;uk=1;var t=Hl(),e=ka(),n=t(e,"Set");return Px=n,Px}var Rx,ck;function FY(){if(ck)return Rx;ck=1;var t=Hl(),e=ka(),n=t(e,"WeakMap");return Rx=n,Rx}var Nx,fk;function HY(){if(fk)return Nx;fk=1;var t=qY(),e=RT(),n=zY(),r=d5(),i=FY(),s=ws(),l=R6(),c="[object Map]",f="[object Object]",h="[object Promise]",p="[object Set]",m="[object WeakMap]",v="[object DataView]",_=l(t),E=l(e),S=l(n),w=l(r),O=l(i),I=s;return(t&&I(new t(new ArrayBuffer(1)))!=v||e&&I(new e)!=c||n&&I(n.resolve())!=h||r&&I(new r)!=p||i&&I(new i)!=m)&&(I=function(N){var L=s(N),C=L==f?N.constructor:void 0,M=C?l(C):"";if(M)switch(M){case _:return v;case E:return c;case S:return h;case w:return p;case O:return m}return L}),Nx=I,Nx}var kx,hk;function GY(){if(hk)return kx;hk=1;var t=r5(),e=o5(),n=AY(),r=BY(),i=HY(),s=Yr(),l=u5(),c=f5(),f=1,h="[object Arguments]",p="[object Array]",m="[object Object]",v=Object.prototype,_=v.hasOwnProperty;function E(S,w,O,I,N,L){var C=s(S),M=s(w),A=C?p:i(S),P=M?p:i(w);A=A==h?m:A,P=P==h?m:P;var k=A==m,U=P==m,D=A==P;if(D&&l(S)){if(!l(w))return!1;C=!0,k=!1}if(D&&!k)return L||(L=new t),C||c(S)?e(S,w,O,I,N,L):n(S,w,A,O,I,N,L);if(!(O&f)){var B=k&&_.call(S,"__wrapped__"),V=U&&_.call(w,"__wrapped__");if(B||V){var Q=B?S.value():S,J=V?w.value():w;return L||(L=new t),N(Q,J,O,I,L)}}return D?(L||(L=new t),r(S,w,O,I,N,L)):!1}return kx=E,kx}var Mx,dk;function GT(){if(dk)return Mx;dk=1;var t=GY(),e=Ss();function n(r,i,s,l,c){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,s,l,n,c)}return Mx=n,Mx}var jx,pk;function KY(){if(pk)return jx;pk=1;var t=r5(),e=GT(),n=1,r=2;function i(s,l,c,f){var h=c.length,p=h,m=!f;if(s==null)return!p;for(s=Object(s);h--;){var v=c[h];if(m&&v[2]?v[1]!==s[v[0]]:!(v[0]in s))return!1}for(;++h<p;){v=c[h];var _=v[0],E=s[_],S=v[1];if(m&&v[2]){if(E===void 0&&!(_ in s))return!1}else{var w=new t;if(f)var O=f(E,S,_,s,l,w);if(!(O===void 0?e(S,E,n|r,f,w):O))return!1}}return!0}return jx=i,jx}var Dx,mk;function p5(){if(mk)return Dx;mk=1;var t=Co();function e(n){return n===n&&!t(n)}return Dx=e,Dx}var Lx,gk;function WY(){if(gk)return Lx;gk=1;var t=p5(),e=$y();function n(r){for(var i=e(r),s=i.length;s--;){var l=i[s],c=r[l];i[s]=[l,c,t(c)]}return i}return Lx=n,Lx}var Vx,yk;function m5(){if(yk)return Vx;yk=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return Vx=t,Vx}var $x,vk;function YY(){if(vk)return $x;vk=1;var t=KY(),e=WY(),n=m5();function r(i){var s=e(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(l){return l===i||t(l,i,s)}}return $x=r,$x}var Ux,bk;function XY(){if(bk)return Ux;bk=1;function t(e,n){return e!=null&&n in Object(e)}return Ux=t,Ux}var Bx,_k;function QY(){if(_k)return Bx;_k=1;var t=M6(),e=zT(),n=Yr(),r=FT(),i=HT(),s=My();function l(c,f,h){f=t(f,c);for(var p=-1,m=f.length,v=!1;++p<m;){var _=s(f[p]);if(!(v=c!=null&&h(c,_)))break;c=c[_]}return v||++p!=m?v:(m=c==null?0:c.length,!!m&&i(m)&&r(_,m)&&(n(c)||e(c)))}return Bx=l,Bx}var qx,xk;function JY(){if(xk)return qx;xk=1;var t=XY(),e=QY();function n(r,i){return r!=null&&e(r,i,t)}return qx=n,qx}var zx,wk;function ZY(){if(wk)return zx;wk=1;var t=GT(),e=j6(),n=JY(),r=CT(),i=p5(),s=m5(),l=My(),c=1,f=2;function h(p,m){return r(p)&&i(m)?s(l(p),m):function(v){var _=e(v,p);return _===void 0&&_===m?n(v,p):t(m,_,c|f)}}return zx=h,zx}var Fx,Sk;function Zc(){if(Sk)return Fx;Sk=1;function t(e){return e}return Fx=t,Fx}var Hx,Ek;function eX(){if(Ek)return Hx;Ek=1;function t(e){return function(n){return n==null?void 0:n[e]}}return Hx=t,Hx}var Gx,Tk;function tX(){if(Tk)return Gx;Tk=1;var t=MT();function e(n){return function(r){return t(r,n)}}return Gx=e,Gx}var Kx,Ak;function nX(){if(Ak)return Kx;Ak=1;var t=eX(),e=tX(),n=CT(),r=My();function i(s){return n(s)?t(r(s)):e(s)}return Kx=i,Kx}var Wx,Ok;function Ma(){if(Ok)return Wx;Ok=1;var t=YY(),e=ZY(),n=Zc(),r=Yr(),i=nX();function s(l){return typeof l=="function"?l:l==null?n:typeof l=="object"?r(l)?e(l[0],l[1]):t(l):i(l)}return Wx=s,Wx}var Yx,Ck;function g5(){if(Ck)return Yx;Ck=1;function t(e,n,r,i){for(var s=e.length,l=r+(i?1:-1);i?l--:++l<s;)if(n(e[l],l,e))return l;return-1}return Yx=t,Yx}var Xx,Ik;function rX(){if(Ik)return Xx;Ik=1;function t(e){return e!==e}return Xx=t,Xx}var Qx,Pk;function iX(){if(Pk)return Qx;Pk=1;function t(e,n,r){for(var i=r-1,s=e.length;++i<s;)if(e[i]===n)return i;return-1}return Qx=t,Qx}var Jx,Rk;function aX(){if(Rk)return Jx;Rk=1;var t=g5(),e=rX(),n=iX();function r(i,s,l){return s===s?n(i,s,l):t(i,e,l)}return Jx=r,Jx}var Zx,Nk;function sX(){if(Nk)return Zx;Nk=1;var t=aX();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return Zx=e,Zx}var ew,kk;function oX(){if(kk)return ew;kk=1;function t(e,n,r){for(var i=-1,s=e==null?0:e.length;++i<s;)if(r(n,e[i]))return!0;return!1}return ew=t,ew}var tw,Mk;function lX(){if(Mk)return tw;Mk=1;function t(){}return tw=t,tw}var nw,jk;function uX(){if(jk)return nw;jk=1;var t=d5(),e=lX(),n=qT(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(s){return new t(s)}:e;return nw=i,nw}var rw,Dk;function cX(){if(Dk)return rw;Dk=1;var t=i5(),e=sX(),n=oX(),r=s5(),i=uX(),s=qT(),l=200;function c(f,h,p){var m=-1,v=e,_=f.length,E=!0,S=[],w=S;if(p)E=!1,v=n;else if(_>=l){var O=h?null:i(f);if(O)return s(O);E=!1,v=r,w=new t}else w=h?[]:S;e:for(;++m<_;){var I=f[m],N=h?h(I):I;if(I=p||I!==0?I:0,E&&N===N){for(var L=w.length;L--;)if(w[L]===N)continue e;h&&w.push(N),S.push(I)}else v(w,N,p)||(w!==S&&w.push(N),S.push(I))}return S}return rw=c,rw}var iw,Lk;function fX(){if(Lk)return iw;Lk=1;var t=Ma(),e=cX();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return iw=n,iw}var hX=fX();const Vk=Gt(hX);function y5(t,e,n){return e===!0?Vk(t,n):rt(e)?Vk(t,e):t}function bc(t){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(t)}var dX=["ref"];function $k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(n),!0).forEach(function(r){Uy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b5(r.key),r)}}function mX(t,e,n){return e&&Uk(t.prototype,e),n&&Uk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gX(t,e,n){return e=pg(e),yX(t,v5()?Reflect.construct(e,n||[],pg(t).constructor):e.apply(t,n))}function yX(t,e){if(e&&(bc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vX(t)}function vX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v5=function(){return!!t})()}function pg(t){return pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pg(t)}function bX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TS(t,e)}function TS(t,e){return TS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TS(t,e)}function Uy(t,e,n){return e=b5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b5(t){var e=_X(t,"string");return bc(e)=="symbol"?e:e+""}function _X(t,e){if(bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function xX(t,e){if(t==null)return{};var n=wX(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function SX(t){return t.value}function EX(t,e){if(G.isValidElement(t))return G.cloneElement(t,e);if(typeof t=="function")return G.createElement(t,e);e.ref;var n=xX(e,dX);return G.createElement(BT,n)}var Bk=1,vo=(function(t){function e(){var n;pX(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=gX(this,e,[].concat(i)),Uy(n,"lastBoundingBox",{width:-1,height:-1}),n}return bX(e,t),mX(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Bk||Math.abs(i.height-this.lastBoundingBox.height)>Bk)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?rs({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,l=i.align,c=i.verticalAlign,f=i.margin,h=i.chartWidth,p=i.chartHeight,m,v;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(l==="center"&&s==="vertical"){var _=this.getBBoxSnapshot();m={left:((h||0)-_.width)/2}}else m=l==="right"?{right:f&&f.right||0}:{left:f&&f.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(c==="middle"){var E=this.getBBoxSnapshot();v={top:((p||0)-E.height)/2}}else v=c==="bottom"?{bottom:f&&f.bottom||0}:{top:f&&f.top||0};return rs(rs({},m),v)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,l=i.width,c=i.height,f=i.wrapperStyle,h=i.payloadUniqBy,p=i.payload,m=rs(rs({position:"absolute",width:l||"auto",height:c||"auto"},this.getDefaultPosition(f)),f);return G.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(_){r.wrapperNode=_}},EX(s,rs(rs({},this.props),{},{payload:y5(p,h,SX)})))}}],[{key:"getWithHeight",value:function(r,i){var s=rs(rs({},this.defaultProps),r.props),l=s.layout;return l==="vertical"&&Ce(r.props.height)?{height:r.props.height}:l==="horizontal"?{width:r.props.width||i}:null}}])})($.PureComponent);Uy(vo,"displayName","Legend");Uy(vo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var aw,qk;function TX(){if(qk)return aw;qk=1;var t=Md(),e=zT(),n=Yr(),r=t?t.isConcatSpreadable:void 0;function i(s){return n(s)||e(s)||!!(r&&s&&s[r])}return aw=i,aw}var sw,zk;function _5(){if(zk)return sw;zk=1;var t=l5(),e=TX();function n(r,i,s,l,c){var f=-1,h=r.length;for(s||(s=e),c||(c=[]);++f<h;){var p=r[f];i>0&&s(p)?i>1?n(p,i-1,s,l,c):t(c,p):l||(c[c.length]=p)}return c}return sw=n,sw}var ow,Fk;function AX(){if(Fk)return ow;Fk=1;function t(e){return function(n,r,i){for(var s=-1,l=Object(n),c=i(n),f=c.length;f--;){var h=c[e?f:++s];if(r(l[h],h,l)===!1)break}return n}}return ow=t,ow}var lw,Hk;function OX(){if(Hk)return lw;Hk=1;var t=AX(),e=t();return lw=e,lw}var uw,Gk;function x5(){if(Gk)return uw;Gk=1;var t=OX(),e=$y();function n(r,i){return r&&t(r,i,e)}return uw=n,uw}var cw,Kk;function CX(){if(Kk)return cw;Kk=1;var t=Dd();function e(n,r){return function(i,s){if(i==null)return i;if(!t(i))return n(i,s);for(var l=i.length,c=r?l:-1,f=Object(i);(r?c--:++c<l)&&s(f[c],c,f)!==!1;);return i}}return cw=e,cw}var fw,Wk;function KT(){if(Wk)return fw;Wk=1;var t=x5(),e=CX(),n=e(t);return fw=n,fw}var hw,Yk;function w5(){if(Yk)return hw;Yk=1;var t=KT(),e=Dd();function n(r,i){var s=-1,l=e(r)?Array(r.length):[];return t(r,function(c,f,h){l[++s]=i(c,f,h)}),l}return hw=n,hw}var dw,Xk;function IX(){if(Xk)return dw;Xk=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return dw=t,dw}var pw,Qk;function PX(){if(Qk)return pw;Qk=1;var t=Xc();function e(n,r){if(n!==r){var i=n!==void 0,s=n===null,l=n===n,c=t(n),f=r!==void 0,h=r===null,p=r===r,m=t(r);if(!h&&!m&&!c&&n>r||c&&f&&p&&!h&&!m||s&&f&&p||!i&&p||!l)return 1;if(!s&&!c&&!m&&n<r||m&&i&&l&&!s&&!c||h&&i&&l||!f&&l||!p)return-1}return 0}return pw=e,pw}var mw,Jk;function RX(){if(Jk)return mw;Jk=1;var t=PX();function e(n,r,i){for(var s=-1,l=n.criteria,c=r.criteria,f=l.length,h=i.length;++s<f;){var p=t(l[s],c[s]);if(p){if(s>=h)return p;var m=i[s];return p*(m=="desc"?-1:1)}}return n.index-r.index}return mw=e,mw}var gw,Zk;function NX(){if(Zk)return gw;Zk=1;var t=kT(),e=MT(),n=Ma(),r=w5(),i=IX(),s=c5(),l=RX(),c=Zc(),f=Yr();function h(p,m,v){m.length?m=t(m,function(S){return f(S)?function(w){return e(w,S.length===1?S[0]:S)}:S}):m=[c];var _=-1;m=t(m,s(n));var E=r(p,function(S,w,O){var I=t(m,function(N){return N(S)});return{criteria:I,index:++_,value:S}});return i(E,function(S,w){return l(S,w,v)})}return gw=h,gw}var yw,eM;function kX(){if(eM)return yw;eM=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return yw=t,yw}var vw,tM;function MX(){if(tM)return vw;tM=1;var t=kX(),e=Math.max;function n(r,i,s){return i=e(i===void 0?r.length-1:i,0),function(){for(var l=arguments,c=-1,f=e(l.length-i,0),h=Array(f);++c<f;)h[c]=l[i+c];c=-1;for(var p=Array(i+1);++c<i;)p[c]=l[c];return p[i]=s(h),t(r,this,p)}}return vw=n,vw}var bw,nM;function jX(){if(nM)return bw;nM=1;function t(e){return function(){return e}}return bw=t,bw}var _w,rM;function S5(){if(rM)return _w;rM=1;var t=Hl(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return _w=e,_w}var xw,iM;function DX(){if(iM)return xw;iM=1;var t=jX(),e=S5(),n=Zc(),r=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:n;return xw=r,xw}var ww,aM;function LX(){if(aM)return ww;aM=1;var t=800,e=16,n=Date.now;function r(i){var s=0,l=0;return function(){var c=n(),f=e-(c-l);if(l=c,f>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return ww=r,ww}var Sw,sM;function VX(){if(sM)return Sw;sM=1;var t=DX(),e=LX(),n=e(t);return Sw=n,Sw}var Ew,oM;function $X(){if(oM)return Ew;oM=1;var t=Zc(),e=MX(),n=VX();function r(i,s){return n(e(i,s,t),i+"")}return Ew=r,Ew}var Tw,lM;function By(){if(lM)return Tw;lM=1;var t=PT(),e=Dd(),n=FT(),r=Co();function i(s,l,c){if(!r(c))return!1;var f=typeof l;return(f=="number"?e(c)&&n(l,c.length):f=="string"&&l in c)?t(c[l],s):!1}return Tw=i,Tw}var Aw,uM;function UX(){if(uM)return Aw;uM=1;var t=_5(),e=NX(),n=$X(),r=By(),i=n(function(s,l){if(s==null)return[];var c=l.length;return c>1&&r(s,l[0],l[1])?l=[]:c>2&&r(l[0],l[1],l[2])&&(l=[l[0]]),e(s,t(l,1),[])});return Aw=i,Aw}var BX=UX();const WT=Gt(BX);function zh(t){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zh(t)}function AS(){return AS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AS.apply(this,arguments)}function qX(t,e){return GX(t)||HX(t,e)||FX(t,e)||zX()}function zX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FX(t,e){if(t){if(typeof t=="string")return cM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cM(t,e)}}function cM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function HX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,c=[],f=!0,h=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function GX(t){if(Array.isArray(t))return t}function fM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ow(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fM(Object(n),!0).forEach(function(r){KX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KX(t,e,n){return e=WX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WX(t){var e=YX(t,"string");return zh(e)=="symbol"?e:e+""}function YX(t,e){if(zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XX(t){return Array.isArray(t)&&Jn(t[0])&&Jn(t[1])?t.join(" ~ "):t}var QX=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,l=e.itemStyle,c=l===void 0?{}:l,f=e.labelStyle,h=f===void 0?{}:f,p=e.payload,m=e.formatter,v=e.itemSorter,_=e.wrapperClassName,E=e.labelClassName,S=e.label,w=e.labelFormatter,O=e.accessibilityLayer,I=O===void 0?!1:O,N=function(){if(p&&p.length){var B={padding:0,margin:0},V=(v?WT(p,v):p).map(function(Q,J){if(Q.type==="none")return null;var H=Ow({display:"block",paddingTop:4,paddingBottom:4,color:Q.color||"#000"},c),Y=Q.formatter||m||XX,ee=Q.value,ue=Q.name,ve=ee,F=ue;if(Y&&ve!=null&&F!=null){var W=Y(ee,ue,Q,J,p);if(Array.isArray(W)){var oe=qX(W,2);ve=oe[0],F=oe[1]}else ve=W}return G.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(J),style:H},Jn(F)?G.createElement("span",{className:"recharts-tooltip-item-name"},F):null,Jn(F)?G.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,G.createElement("span",{className:"recharts-tooltip-item-value"},ve),G.createElement("span",{className:"recharts-tooltip-item-unit"},Q.unit||""))});return G.createElement("ul",{className:"recharts-tooltip-item-list",style:B},V)}return null},L=Ow({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),C=Ow({margin:0},h),M=!ct(S),A=M?S:"",P=bt("recharts-default-tooltip",_),k=bt("recharts-tooltip-label",E);M&&w&&p!==void 0&&p!==null&&(A=w(S,p));var U=I?{role:"status","aria-live":"assertive"}:{};return G.createElement("div",AS({className:P,style:L},U),G.createElement("p",{className:k,style:C},G.isValidElement(A)?A:"".concat(A)),N())};function Fh(t){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(t)}function pm(t,e,n){return e=JX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JX(t){var e=ZX(t,"string");return Fh(e)=="symbol"?e:e+""}function ZX(t,e){if(Fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zf="recharts-tooltip-wrapper",eQ={visibility:"hidden"};function tQ(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return bt(Zf,pm(pm(pm(pm({},"".concat(Zf,"-right"),Ce(n)&&e&&Ce(e.x)&&n>=e.x),"".concat(Zf,"-left"),Ce(n)&&e&&Ce(e.x)&&n<e.x),"".concat(Zf,"-bottom"),Ce(r)&&e&&Ce(e.y)&&r>=e.y),"".concat(Zf,"-top"),Ce(r)&&e&&Ce(e.y)&&r<e.y))}function hM(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,l=t.reverseDirection,c=t.tooltipDimension,f=t.viewBox,h=t.viewBoxDimension;if(s&&Ce(s[r]))return s[r];var p=n[r]-c-i,m=n[r]+i;if(e[r])return l[r]?p:m;if(l[r]){var v=p,_=f[r];return v<_?Math.max(m,f[r]):Math.max(p,f[r])}var E=m+c,S=f[r]+h;return E>S?Math.max(p,f[r]):Math.max(m,f[r])}function nQ(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function rQ(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,l=t.tooltipBox,c=t.useTranslate3d,f=t.viewBox,h,p,m;return l.height>0&&l.width>0&&n?(p=hM({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),m=hM({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),h=nQ({translateX:p,translateY:m,useTranslate3d:c})):h=eQ,{cssProperties:h,cssClasses:tQ({translateX:p,translateY:m,coordinate:n})}}function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function dM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dM(Object(n),!0).forEach(function(r){CS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T5(r.key),r)}}function sQ(t,e,n){return e&&aQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oQ(t,e,n){return e=mg(e),lQ(t,E5()?Reflect.construct(e,n||[],mg(t).constructor):e.apply(t,n))}function lQ(t,e){if(e&&(_c(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uQ(t)}function uQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E5=function(){return!!t})()}function mg(t){return mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mg(t)}function cQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OS(t,e)}function OS(t,e){return OS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OS(t,e)}function CS(t,e,n){return e=T5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T5(t){var e=fQ(t,"string");return _c(e)=="symbol"?e:e+""}function fQ(t,e){if(_c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mM=1,hQ=(function(t){function e(){var n;iQ(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=oQ(this,e,[].concat(i)),CS(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),CS(n,"handleKeyDown",function(l){if(l.key==="Escape"){var c,f,h,p;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(f=n.props.coordinate)===null||f===void 0?void 0:f.x)!==null&&c!==void 0?c:0,y:(h=(p=n.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&h!==void 0?h:0}})}}),n}return cQ(e,t),sQ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>mM||Math.abs(r.height-this.state.lastBoundingBox.height)>mM)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,l=i.allowEscapeViewBox,c=i.animationDuration,f=i.animationEasing,h=i.children,p=i.coordinate,m=i.hasPayload,v=i.isAnimationActive,_=i.offset,E=i.position,S=i.reverseDirection,w=i.useTranslate3d,O=i.viewBox,I=i.wrapperStyle,N=rQ({allowEscapeViewBox:l,coordinate:p,offsetTopLeft:_,position:E,reverseDirection:S,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:O}),L=N.cssClasses,C=N.cssProperties,M=pM(pM({transition:v&&s?"transform ".concat(c,"ms ").concat(f):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&m?"visible":"hidden",position:"absolute",top:0,left:0},I);return G.createElement("div",{tabIndex:-1,className:L,style:M,ref:function(P){r.wrapperNode=P}},h)}}])})($.PureComponent),dQ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Gl={isSsr:dQ()};function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function gM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gM(Object(n),!0).forEach(function(r){YT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O5(r.key),r)}}function gQ(t,e,n){return e&&mQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yQ(t,e,n){return e=gg(e),vQ(t,A5()?Reflect.construct(e,n||[],gg(t).constructor):e.apply(t,n))}function vQ(t,e){if(e&&(xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bQ(t)}function bQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A5=function(){return!!t})()}function gg(t){return gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gg(t)}function _Q(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IS(t,e)}function IS(t,e){return IS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},IS(t,e)}function YT(t,e,n){return e=O5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O5(t){var e=xQ(t,"string");return xc(e)=="symbol"?e:e+""}function xQ(t,e){if(xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function wQ(t){return t.dataKey}function SQ(t,e){return G.isValidElement(t)?G.cloneElement(t,e):typeof t=="function"?G.createElement(t,e):G.createElement(QX,e)}var Yi=(function(t){function e(){return pQ(this,e),yQ(this,e,arguments)}return _Q(e,t),gQ(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,l=i.allowEscapeViewBox,c=i.animationDuration,f=i.animationEasing,h=i.content,p=i.coordinate,m=i.filterNull,v=i.isAnimationActive,_=i.offset,E=i.payload,S=i.payloadUniqBy,w=i.position,O=i.reverseDirection,I=i.useTranslate3d,N=i.viewBox,L=i.wrapperStyle,C=E??[];m&&C.length&&(C=y5(E.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),S,wQ));var M=C.length>0;return G.createElement(hQ,{allowEscapeViewBox:l,animationDuration:c,animationEasing:f,isAnimationActive:v,active:s,coordinate:p,hasPayload:M,offset:_,position:w,reverseDirection:O,useTranslate3d:I,viewBox:N,wrapperStyle:L},SQ(h,yM(yM({},this.props),{},{payload:C})))}}])})($.PureComponent);YT(Yi,"displayName","Tooltip");YT(Yi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Gl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Cw,vM;function EQ(){if(vM)return Cw;vM=1;var t=ka(),e=function(){return t.Date.now()};return Cw=e,Cw}var Iw,bM;function TQ(){if(bM)return Iw;bM=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return Iw=e,Iw}var Pw,_M;function AQ(){if(_M)return Pw;_M=1;var t=TQ(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return Pw=n,Pw}var Rw,xM;function C5(){if(xM)return Rw;xM=1;var t=AQ(),e=Co(),n=Xc(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;function f(h){if(typeof h=="number")return h;if(n(h))return r;if(e(h)){var p=typeof h.valueOf=="function"?h.valueOf():h;h=e(p)?p+"":p}if(typeof h!="string")return h===0?h:+h;h=t(h);var m=s.test(h);return m||l.test(h)?c(h.slice(2),m?2:8):i.test(h)?r:+h}return Rw=f,Rw}var Nw,wM;function OQ(){if(wM)return Nw;wM=1;var t=Co(),e=EQ(),n=C5(),r="Expected a function",i=Math.max,s=Math.min;function l(c,f,h){var p,m,v,_,E,S,w=0,O=!1,I=!1,N=!0;if(typeof c!="function")throw new TypeError(r);f=n(f)||0,t(h)&&(O=!!h.leading,I="maxWait"in h,v=I?i(n(h.maxWait)||0,f):v,N="trailing"in h?!!h.trailing:N);function L(V){var Q=p,J=m;return p=m=void 0,w=V,_=c.apply(J,Q),_}function C(V){return w=V,E=setTimeout(P,f),O?L(V):_}function M(V){var Q=V-S,J=V-w,H=f-Q;return I?s(H,v-J):H}function A(V){var Q=V-S,J=V-w;return S===void 0||Q>=f||Q<0||I&&J>=v}function P(){var V=e();if(A(V))return k(V);E=setTimeout(P,M(V))}function k(V){return E=void 0,N&&p?L(V):(p=m=void 0,_)}function U(){E!==void 0&&clearTimeout(E),w=0,p=S=m=E=void 0}function D(){return E===void 0?_:k(e())}function B(){var V=e(),Q=A(V);if(p=arguments,m=this,S=V,Q){if(E===void 0)return C(S);if(I)return clearTimeout(E),E=setTimeout(P,f),L(S)}return E===void 0&&(E=setTimeout(P,f)),_}return B.cancel=U,B.flush=D,B}return Nw=l,Nw}var kw,SM;function CQ(){if(SM)return kw;SM=1;var t=OQ(),e=Co(),n="Expected a function";function r(i,s,l){var c=!0,f=!0;if(typeof i!="function")throw new TypeError(n);return e(l)&&(c="leading"in l?!!l.leading:c,f="trailing"in l?!!l.trailing:f),t(i,s,{leading:c,maxWait:s,trailing:f})}return kw=r,kw}var IQ=CQ();const I5=Gt(IQ);function Hh(t){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hh(t)}function EM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EM(Object(n),!0).forEach(function(r){PQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PQ(t,e,n){return e=RQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RQ(t){var e=NQ(t,"string");return Hh(e)=="symbol"?e:e+""}function NQ(t,e){if(Hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kQ(t,e){return LQ(t)||DQ(t,e)||jQ(t,e)||MQ()}function MQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jQ(t,e){if(t){if(typeof t=="string")return TM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TM(t,e)}}function TM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,c=[],f=!0,h=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function LQ(t){if(Array.isArray(t))return t}var P5=$.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,l=s===void 0?"100%":s,c=t.height,f=c===void 0?"100%":c,h=t.minWidth,p=h===void 0?0:h,m=t.minHeight,v=t.maxHeight,_=t.children,E=t.debounce,S=E===void 0?0:E,w=t.id,O=t.className,I=t.onResize,N=t.style,L=N===void 0?{}:N,C=$.useRef(null),M=$.useRef();M.current=I,$.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var A=$.useState({containerWidth:i.width,containerHeight:i.height}),P=kQ(A,2),k=P[0],U=P[1],D=$.useCallback(function(V,Q){U(function(J){var H=Math.round(V),Y=Math.round(Q);return J.containerWidth===H&&J.containerHeight===Y?J:{containerWidth:H,containerHeight:Y}})},[]);$.useEffect(function(){var V=function(ue){var ve,F=ue[0].contentRect,W=F.width,oe=F.height;D(W,oe),(ve=M.current)===null||ve===void 0||ve.call(M,W,oe)};S>0&&(V=I5(V,S,{trailing:!0,leading:!1}));var Q=new ResizeObserver(V),J=C.current.getBoundingClientRect(),H=J.width,Y=J.height;return D(H,Y),Q.observe(C.current),function(){Q.disconnect()}},[D,S]);var B=$.useMemo(function(){var V=k.containerWidth,Q=k.containerHeight;if(V<0||Q<0)return null;na(xl(l)||xl(f),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,f),na(!n||n>0,"The aspect(%s) must be greater than zero.",n);var J=xl(l)?V:l,H=xl(f)?Q:f;n&&n>0&&(J?H=J/n:H&&(J=H*n),v&&H>v&&(H=v)),na(J>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,J,H,l,f,p,m,n);var Y=!Array.isArray(_)&&fs(_.type).endsWith("Chart");return G.Children.map(_,function(ee){return G.isValidElement(ee)?$.cloneElement(ee,mm({width:J,height:H},Y?{style:mm({height:"100%",width:"100%",maxHeight:H,maxWidth:J},ee.props.style)}:{})):ee})},[n,_,f,v,m,p,k,l]);return G.createElement("div",{id:w?"".concat(w):void 0,className:bt("recharts-responsive-container",O),style:mm(mm({},L),{},{width:l,height:f,minWidth:p,minHeight:m,maxHeight:v}),ref:C},B)}),qy=function(e){return null};qy.displayName="Cell";function Gh(t){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gh(t)}function AM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AM(Object(n),!0).forEach(function(r){VQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VQ(t,e,n){return e=$Q(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Q(t){var e=UQ(t,"string");return Gh(e)=="symbol"?e:e+""}function UQ(t,e){if(Gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $u={widthCache:{},cacheCount:0},BQ=2e3,qQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},OM="recharts_measurement_span";function zQ(t){var e=PS({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Ah=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Gl.isSsr)return{width:0,height:0};var r=zQ(n),i=JSON.stringify({text:e,copyStyle:r});if($u.widthCache[i])return $u.widthCache[i];try{var s=document.getElementById(OM);s||(s=document.createElement("span"),s.setAttribute("id",OM),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var l=PS(PS({},qQ),r);Object.assign(s.style,l),s.textContent="".concat(e);var c=s.getBoundingClientRect(),f={width:c.width,height:c.height};return $u.widthCache[i]=f,++$u.cacheCount>BQ&&($u.cacheCount=0,$u.widthCache={}),f}catch{return{width:0,height:0}}},FQ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Kh(t){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kh(t)}function yg(t,e){return WQ(t)||KQ(t,e)||GQ(t,e)||HQ()}function HQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GQ(t,e){if(t){if(typeof t=="string")return CM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CM(t,e)}}function CM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,c=[],f=!0,h=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function WQ(t){if(Array.isArray(t))return t}function YQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QQ(r.key),r)}}function XQ(t,e,n){return e&&IM(t.prototype,e),n&&IM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function QQ(t){var e=JQ(t,"string");return Kh(e)=="symbol"?e:e+""}function JQ(t,e){if(Kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var PM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ZQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,eJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,R5={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},tJ=Object.keys(R5),Yu="NaN";function nJ(t,e){return t*R5[e]}var gm=(function(){function t(e,n){YQ(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!ZQ.test(n)&&(this.num=NaN,this.unit=""),tJ.includes(n)&&(this.num=nJ(e,n),this.unit="px")}return XQ(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=eJ.exec(n))!==null&&r!==void 0?r:[],s=yg(i,3),l=s[1],c=s[2];return new t(parseFloat(l),c??"")}}])})();function N5(t){if(t.includes(Yu))return Yu;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=PM.exec(e))!==null&&n!==void 0?n:[],i=yg(r,4),s=i[1],l=i[2],c=i[3],f=gm.parse(s??""),h=gm.parse(c??""),p=l==="*"?f.multiply(h):f.divide(h);if(p.isNaN())return Yu;e=e.replace(PM,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,v=(m=RM.exec(e))!==null&&m!==void 0?m:[],_=yg(v,4),E=_[1],S=_[2],w=_[3],O=gm.parse(E??""),I=gm.parse(w??""),N=S==="+"?O.add(I):O.subtract(I);if(N.isNaN())return Yu;e=e.replace(RM,N.toString())}return e}var NM=/\(([^()]*)\)/;function rJ(t){for(var e=t;e.includes("(");){var n=NM.exec(e),r=yg(n,2),i=r[1];e=e.replace(NM,N5(i))}return e}function iJ(t){var e=t.replace(/\s+/g,"");return e=rJ(e),e=N5(e),e}function aJ(t){try{return iJ(t)}catch{return Yu}}function Mw(t){var e=aJ(t.slice(5,-1));return e===Yu?"":e}var sJ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],oJ=["dx","dy","angle","className","breakAll"];function RS(){return RS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RS.apply(this,arguments)}function kM(t,e){if(t==null)return{};var n=lJ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function MM(t,e){return hJ(t)||fJ(t,e)||cJ(t,e)||uJ()}function uJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cJ(t,e){if(t){if(typeof t=="string")return jM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jM(t,e)}}function jM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,c=[],f=!0,h=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function hJ(t){if(Array.isArray(t))return t}var k5=/[ \f\n\r\t\v\u2028\u2029]+/,M5=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];ct(n)||(r?s=n.toString().split(""):s=n.toString().split(k5));var l=s.map(function(f){return{word:f,width:Ah(f,i).width}}),c=r?0:Ah("",i).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}},dJ=function(e,n,r,i,s){var l=e.maxLines,c=e.children,f=e.style,h=e.breakAll,p=Ce(l),m=c,v=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return J.reduce(function(H,Y){var ee=Y.word,ue=Y.width,ve=H[H.length-1];if(ve&&(i==null||s||ve.width+ue+r<Number(i)))ve.words.push(ee),ve.width+=ue+r;else{var F={words:[ee],width:ue};H.push(F)}return H},[])},_=v(n),E=function(J){return J.reduce(function(H,Y){return H.width>Y.width?H:Y})};if(!p)return _;for(var S="",w=function(J){var H=m.slice(0,J),Y=M5({breakAll:h,style:f,children:H+S}).wordsWithComputedWidth,ee=v(Y),ue=ee.length>l||E(ee).width>Number(i);return[ue,ee]},O=0,I=m.length-1,N=0,L;O<=I&&N<=m.length-1;){var C=Math.floor((O+I)/2),M=C-1,A=w(M),P=MM(A,2),k=P[0],U=P[1],D=w(C),B=MM(D,1),V=B[0];if(!k&&!V&&(O=C+1),k&&V&&(I=C-1),!k&&V){L=U;break}N++}return L||_},DM=function(e){var n=ct(e)?[]:e.toString().split(k5);return[{words:n}]},pJ=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,l=e.breakAll,c=e.maxLines;if((n||r)&&!Gl.isSsr){var f,h,p=M5({breakAll:l,children:i,style:s});if(p){var m=p.wordsWithComputedWidth,v=p.spaceWidth;f=m,h=v}else return DM(i);return dJ({breakAll:l,children:i,maxLines:c,style:s},f,h,n,r)}return DM(i)},LM="#808080",Ll=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,l=e.lineHeight,c=l===void 0?"1em":l,f=e.capHeight,h=f===void 0?"0.71em":f,p=e.scaleToFit,m=p===void 0?!1:p,v=e.textAnchor,_=v===void 0?"start":v,E=e.verticalAnchor,S=E===void 0?"end":E,w=e.fill,O=w===void 0?LM:w,I=kM(e,sJ),N=$.useMemo(function(){return pJ({breakAll:I.breakAll,children:I.children,maxLines:I.maxLines,scaleToFit:m,style:I.style,width:I.width})},[I.breakAll,I.children,I.maxLines,m,I.style,I.width]),L=I.dx,C=I.dy,M=I.angle,A=I.className,P=I.breakAll,k=kM(I,oJ);if(!Jn(r)||!Jn(s))return null;var U=r+(Ce(L)?L:0),D=s+(Ce(C)?C:0),B;switch(S){case"start":B=Mw("calc(".concat(h,")"));break;case"middle":B=Mw("calc(".concat((N.length-1)/2," * -").concat(c," + (").concat(h," / 2))"));break;default:B=Mw("calc(".concat(N.length-1," * -").concat(c,")"));break}var V=[];if(m){var Q=N[0].width,J=I.width;V.push("scale(".concat((Ce(J)?J/Q:1)/Q,")"))}return M&&V.push("rotate(".concat(M,", ").concat(U,", ").concat(D,")")),V.length&&(k.transform=V.join(" ")),G.createElement("text",RS({},Je(k,!0),{x:U,y:D,className:bt("recharts-text",A),textAnchor:_,fill:O.includes("url")?LM:O}),N.map(function(H,Y){var ee=H.words.join(P?"":" ");return G.createElement("tspan",{x:U,dy:Y===0?B:c,key:"".concat(ee,"-").concat(Y)},ee)}))};function bo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mJ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function XT(t){let e,n,r;t.length!==2?(e=bo,n=(c,f)=>bo(t(c),f),r=(c,f)=>t(c)-f):(e=t===bo||t===mJ?t:gJ,n=t,r=t);function i(c,f,h=0,p=c.length){if(h<p){if(e(f,f)!==0)return p;do{const m=h+p>>>1;n(c[m],f)<0?h=m+1:p=m}while(h<p)}return h}function s(c,f,h=0,p=c.length){if(h<p){if(e(f,f)!==0)return p;do{const m=h+p>>>1;n(c[m],f)<=0?h=m+1:p=m}while(h<p)}return h}function l(c,f,h=0,p=c.length){const m=i(c,f,h,p-1);return m>h&&r(c[m-1],f)>-r(c[m],f)?m-1:m}return{left:i,center:l,right:s}}function gJ(){return 0}function j5(t){return t===null?NaN:+t}function*yJ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const vJ=XT(bo),Ld=vJ.right;XT(j5).center;class VM extends Map{constructor(e,n=xJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get($M(this,e))}has(e){return super.has($M(this,e))}set(e,n){return super.set(bJ(this,e),n)}delete(e){return super.delete(_J(this,e))}}function $M({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function bJ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function _J({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function xJ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function wJ(t=bo){if(t===bo)return D5;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function D5(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const SJ=Math.sqrt(50),EJ=Math.sqrt(10),TJ=Math.sqrt(2);function vg(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),l=s>=SJ?10:s>=EJ?5:s>=TJ?2:1;let c,f,h;return i<0?(h=Math.pow(10,-i)/l,c=Math.round(t*h),f=Math.round(e*h),c/h<t&&++c,f/h>e&&--f,h=-h):(h=Math.pow(10,i)*l,c=Math.round(t/h),f=Math.round(e/h),c*h<t&&++c,f*h>e&&--f),f<c&&.5<=n&&n<2?vg(t,e,n*2):[c,f,h]}function NS(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,l]=r?vg(e,t,n):vg(t,e,n);if(!(s>=i))return[];const c=s-i+1,f=new Array(c);if(r)if(l<0)for(let h=0;h<c;++h)f[h]=(s-h)/-l;else for(let h=0;h<c;++h)f[h]=(s-h)*l;else if(l<0)for(let h=0;h<c;++h)f[h]=(i+h)/-l;else for(let h=0;h<c;++h)f[h]=(i+h)*l;return f}function kS(t,e,n){return e=+e,t=+t,n=+n,vg(t,e,n)[2]}function MS(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?kS(e,t,n):kS(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function UM(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function BM(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function L5(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?D5:wJ(i);r>n;){if(r-n>600){const f=r-n+1,h=e-n+1,p=Math.log(f),m=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*m*(f-m)/f)*(h-f/2<0?-1:1),_=Math.max(n,Math.floor(e-h*m/f+v)),E=Math.min(r,Math.floor(e+(f-h)*m/f+v));L5(t,e,_,E,i)}const s=t[e];let l=n,c=r;for(eh(t,n,e),i(t[r],s)>0&&eh(t,n,r);l<c;){for(eh(t,l,c),++l,--c;i(t[l],s)<0;)++l;for(;i(t[c],s)>0;)--c}i(t[n],s)===0?eh(t,n,c):(++c,eh(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function eh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function AJ(t,e,n){if(t=Float64Array.from(yJ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return BM(t);if(e>=1)return UM(t);var r,i=(r-1)*e,s=Math.floor(i),l=UM(L5(t,s).subarray(0,s+1)),c=BM(t.subarray(s+1));return l+(c-l)*(i-s)}}function OJ(t,e,n=j5){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),l=+n(t[s],s,t),c=+n(t[s+1],s+1,t);return l+(c-l)*(i-s)}}function CJ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Di(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Es(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const jS=Symbol("implicit");function QT(){var t=new VM,e=[],n=[],r=jS;function i(s){let l=t.get(s);if(l===void 0){if(r!==jS)return r;t.set(s,l=e.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new VM;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return QT(e,n).unknown(r)},Di.apply(i,arguments),i}function Wh(){var t=QT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,l,c=!1,f=0,h=0,p=.5;delete t.unknown;function m(){var v=e().length,_=i<r,E=_?i:r,S=_?r:i;s=(S-E)/Math.max(1,v-f+h*2),c&&(s=Math.floor(s)),E+=(S-E-s*(v-f))*p,l=s*(1-f),c&&(E=Math.round(E),l=Math.round(l));var w=CJ(v).map(function(O){return E+s*O});return n(_?w.reverse():w)}return t.domain=function(v){return arguments.length?(e(v),m()):e()},t.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,c=!0,m()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(v){return arguments.length?(c=!!v,m()):c},t.padding=function(v){return arguments.length?(f=Math.min(1,h=+v),m()):f},t.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),m()):f},t.paddingOuter=function(v){return arguments.length?(h=+v,m()):h},t.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),m()):p},t.copy=function(){return Wh(e(),[r,i]).round(c).paddingInner(f).paddingOuter(h).align(p)},Di.apply(m(),arguments)}function V5(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return V5(e())},t}function Oh(){return V5(Wh.apply(null,arguments).paddingInner(1))}function JT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function $5(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Vd(){}var Yh=.7,bg=1/Yh,sc="\\s*([+-]?\\d+)\\s*",Xh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Aa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",IJ=/^#([0-9a-f]{3,8})$/,PJ=new RegExp(`^rgb\\(${sc},${sc},${sc}\\)$`),RJ=new RegExp(`^rgb\\(${Aa},${Aa},${Aa}\\)$`),NJ=new RegExp(`^rgba\\(${sc},${sc},${sc},${Xh}\\)$`),kJ=new RegExp(`^rgba\\(${Aa},${Aa},${Aa},${Xh}\\)$`),MJ=new RegExp(`^hsl\\(${Xh},${Aa},${Aa}\\)$`),jJ=new RegExp(`^hsla\\(${Xh},${Aa},${Aa},${Xh}\\)$`),qM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};JT(Vd,Qh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:zM,formatHex:zM,formatHex8:DJ,formatHsl:LJ,formatRgb:FM,toString:FM});function zM(){return this.rgb().formatHex()}function DJ(){return this.rgb().formatHex8()}function LJ(){return U5(this).formatHsl()}function FM(){return this.rgb().formatRgb()}function Qh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=IJ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?HM(e):n===3?new Wr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ym(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ym(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=PJ.exec(t))?new Wr(e[1],e[2],e[3],1):(e=RJ.exec(t))?new Wr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=NJ.exec(t))?ym(e[1],e[2],e[3],e[4]):(e=kJ.exec(t))?ym(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=MJ.exec(t))?WM(e[1],e[2]/100,e[3]/100,1):(e=jJ.exec(t))?WM(e[1],e[2]/100,e[3]/100,e[4]):qM.hasOwnProperty(t)?HM(qM[t]):t==="transparent"?new Wr(NaN,NaN,NaN,0):null}function HM(t){return new Wr(t>>16&255,t>>8&255,t&255,1)}function ym(t,e,n,r){return r<=0&&(t=e=n=NaN),new Wr(t,e,n,r)}function VJ(t){return t instanceof Vd||(t=Qh(t)),t?(t=t.rgb(),new Wr(t.r,t.g,t.b,t.opacity)):new Wr}function DS(t,e,n,r){return arguments.length===1?VJ(t):new Wr(t,e,n,r??1)}function Wr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}JT(Wr,DS,$5(Vd,{brighter(t){return t=t==null?bg:Math.pow(bg,t),new Wr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Yh:Math.pow(Yh,t),new Wr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Wr(Ol(this.r),Ol(this.g),Ol(this.b),_g(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:GM,formatHex:GM,formatHex8:$J,formatRgb:KM,toString:KM}));function GM(){return`#${wl(this.r)}${wl(this.g)}${wl(this.b)}`}function $J(){return`#${wl(this.r)}${wl(this.g)}${wl(this.b)}${wl((isNaN(this.opacity)?1:this.opacity)*255)}`}function KM(){const t=_g(this.opacity);return`${t===1?"rgb(":"rgba("}${Ol(this.r)}, ${Ol(this.g)}, ${Ol(this.b)}${t===1?")":`, ${t})`}`}function _g(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ol(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function wl(t){return t=Ol(t),(t<16?"0":"")+t.toString(16)}function WM(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Zi(t,e,n,r)}function U5(t){if(t instanceof Zi)return new Zi(t.h,t.s,t.l,t.opacity);if(t instanceof Vd||(t=Qh(t)),!t)return new Zi;if(t instanceof Zi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,c=s-i,f=(s+i)/2;return c?(e===s?l=(n-r)/c+(n<r)*6:n===s?l=(r-e)/c+2:l=(e-n)/c+4,c/=f<.5?s+i:2-s-i,l*=60):c=f>0&&f<1?0:l,new Zi(l,c,f,t.opacity)}function UJ(t,e,n,r){return arguments.length===1?U5(t):new Zi(t,e,n,r??1)}function Zi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}JT(Zi,UJ,$5(Vd,{brighter(t){return t=t==null?bg:Math.pow(bg,t),new Zi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Yh:Math.pow(Yh,t),new Zi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Wr(jw(t>=240?t-240:t+120,i,r),jw(t,i,r),jw(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Zi(YM(this.h),vm(this.s),vm(this.l),_g(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=_g(this.opacity);return`${t===1?"hsl(":"hsla("}${YM(this.h)}, ${vm(this.s)*100}%, ${vm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function YM(t){return t=(t||0)%360,t<0?t+360:t}function vm(t){return Math.max(0,Math.min(1,t||0))}function jw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ZT=t=>()=>t;function BJ(t,e){return function(n){return t+n*e}}function qJ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function zJ(t){return(t=+t)==1?B5:function(e,n){return n-e?qJ(e,n,t):ZT(isNaN(e)?n:e)}}function B5(t,e){var n=e-t;return n?BJ(t,n):ZT(isNaN(t)?e:t)}const XM=(function t(e){var n=zJ(e);function r(i,s){var l=n((i=DS(i)).r,(s=DS(s)).r),c=n(i.g,s.g),f=n(i.b,s.b),h=B5(i.opacity,s.opacity);return function(p){return i.r=l(p),i.g=c(p),i.b=f(p),i.opacity=h(p),i+""}}return r.gamma=t,r})(1);function FJ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function HJ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function GJ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=ef(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(c){for(l=0;l<r;++l)s[l]=i[l](c);return s}}function KJ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function xg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function WJ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ef(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var LS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Dw=new RegExp(LS.source,"g");function YJ(t){return function(){return t}}function XJ(t){return function(e){return t(e)+""}}function QJ(t,e){var n=LS.lastIndex=Dw.lastIndex=0,r,i,s,l=-1,c=[],f=[];for(t=t+"",e=e+"";(r=LS.exec(t))&&(i=Dw.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),c[l]?c[l]+=s:c[++l]=s),(r=r[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,f.push({i:l,x:xg(r,i)})),n=Dw.lastIndex;return n<e.length&&(s=e.slice(n),c[l]?c[l]+=s:c[++l]=s),c.length<2?f[0]?XJ(f[0].x):YJ(e):(e=f.length,function(h){for(var p=0,m;p<e;++p)c[(m=f[p]).i]=m.x(h);return c.join("")})}function ef(t,e){var n=typeof e,r;return e==null||n==="boolean"?ZT(e):(n==="number"?xg:n==="string"?(r=Qh(e))?(e=r,XM):QJ:e instanceof Qh?XM:e instanceof Date?KJ:HJ(e)?FJ:Array.isArray(e)?GJ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?WJ:xg)(t,e)}function eA(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function JJ(t,e){e===void 0&&(e=t,t=ef);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(l){var c=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[c](l-c)}}function ZJ(t){return function(){return t}}function wg(t){return+t}var QM=[0,1];function Lr(t){return t}function VS(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:ZJ(isNaN(e)?NaN:.5)}function eZ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function tZ(t,e,n){var r=t[0],i=t[1],s=e[0],l=e[1];return i<r?(r=VS(i,r),s=n(l,s)):(r=VS(r,i),s=n(s,l)),function(c){return s(r(c))}}function nZ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=VS(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(c){var f=Ld(t,c,1,r)-1;return s[f](i[f](c))}}function $d(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function zy(){var t=QM,e=QM,n=ef,r,i,s,l=Lr,c,f,h;function p(){var v=Math.min(t.length,e.length);return l!==Lr&&(l=eZ(t[0],t[v-1])),c=v>2?nZ:tZ,f=h=null,m}function m(v){return v==null||isNaN(v=+v)?s:(f||(f=c(t.map(r),e,n)))(r(l(v)))}return m.invert=function(v){return l(i((h||(h=c(e,t.map(r),xg)))(v)))},m.domain=function(v){return arguments.length?(t=Array.from(v,wg),p()):t.slice()},m.range=function(v){return arguments.length?(e=Array.from(v),p()):e.slice()},m.rangeRound=function(v){return e=Array.from(v),n=eA,p()},m.clamp=function(v){return arguments.length?(l=v?!0:Lr,p()):l!==Lr},m.interpolate=function(v){return arguments.length?(n=v,p()):n},m.unknown=function(v){return arguments.length?(s=v,m):s},function(v,_){return r=v,i=_,p()}}function tA(){return zy()(Lr,Lr)}function rZ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Sg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function wc(t){return t=Sg(Math.abs(t)),t?t[1]:NaN}function iZ(t,e){return function(n,r){for(var i=n.length,s=[],l=0,c=t[0],f=0;i>0&&c>0&&(f+c+1>r&&(c=Math.max(1,r-f)),s.push(n.substring(i-=c,i+c)),!((f+=c+1)>r));)c=t[l=(l+1)%t.length];return s.reverse().join(e)}}function aZ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var sZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Jh(t){if(!(e=sZ.exec(t)))throw new Error("invalid format: "+t);var e;return new nA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Jh.prototype=nA.prototype;function nA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}nA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function oZ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var q5;function lZ(t,e){var n=Sg(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(q5=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Sg(t,Math.max(0,e+s-1))[0]}function JM(t,e){var n=Sg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ZM={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:rZ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>JM(t*100,e),r:JM,s:lZ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ej(t){return t}var tj=Array.prototype.map,nj=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function uZ(t){var e=t.grouping===void 0||t.thousands===void 0?ej:iZ(tj.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?ej:aZ(tj.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(m){m=Jh(m);var v=m.fill,_=m.align,E=m.sign,S=m.symbol,w=m.zero,O=m.width,I=m.comma,N=m.precision,L=m.trim,C=m.type;C==="n"?(I=!0,C="g"):ZM[C]||(N===void 0&&(N=12),L=!0,C="g"),(w||v==="0"&&_==="=")&&(w=!0,v="0",_="=");var M=S==="$"?n:S==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",A=S==="$"?r:/[%p]/.test(C)?l:"",P=ZM[C],k=/[defgprs%]/.test(C);N=N===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function U(D){var B=M,V=A,Q,J,H;if(C==="c")V=P(D)+V,D="";else{D=+D;var Y=D<0||1/D<0;if(D=isNaN(D)?f:P(Math.abs(D),N),L&&(D=oZ(D)),Y&&+D==0&&E!=="+"&&(Y=!1),B=(Y?E==="("?E:c:E==="-"||E==="("?"":E)+B,V=(C==="s"?nj[8+q5/3]:"")+V+(Y&&E==="("?")":""),k){for(Q=-1,J=D.length;++Q<J;)if(H=D.charCodeAt(Q),48>H||H>57){V=(H===46?i+D.slice(Q+1):D.slice(Q))+V,D=D.slice(0,Q);break}}}I&&!w&&(D=e(D,1/0));var ee=B.length+D.length+V.length,ue=ee<O?new Array(O-ee+1).join(v):"";switch(I&&w&&(D=e(ue+D,ue.length?O-V.length:1/0),ue=""),_){case"<":D=B+D+V+ue;break;case"=":D=B+ue+D+V;break;case"^":D=ue.slice(0,ee=ue.length>>1)+B+D+V+ue.slice(ee);break;default:D=ue+B+D+V;break}return s(D)}return U.toString=function(){return m+""},U}function p(m,v){var _=h((m=Jh(m),m.type="f",m)),E=Math.max(-8,Math.min(8,Math.floor(wc(v)/3)))*3,S=Math.pow(10,-E),w=nj[8+E/3];return function(O){return _(S*O)+w}}return{format:h,formatPrefix:p}}var bm,rA,z5;cZ({thousands:",",grouping:[3],currency:["$",""]});function cZ(t){return bm=uZ(t),rA=bm.format,z5=bm.formatPrefix,bm}function fZ(t){return Math.max(0,-wc(Math.abs(t)))}function hZ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wc(e)/3)))*3-wc(Math.abs(t)))}function dZ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,wc(e)-wc(t))+1}function F5(t,e,n,r){var i=MS(t,e,n),s;switch(r=Jh(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=hZ(i,l))&&(r.precision=s),z5(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=dZ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=fZ(i))&&(r.precision=s-(r.type==="%")*2);break}}return rA(r)}function Io(t){var e=t.domain;return t.ticks=function(n){var r=e();return NS(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return F5(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,l=r[i],c=r[s],f,h,p=10;for(c<l&&(h=l,l=c,c=h,h=i,i=s,s=h);p-- >0;){if(h=kS(l,c,n),h===f)return r[i]=l,r[s]=c,e(r);if(h>0)l=Math.floor(l/h)*h,c=Math.ceil(c/h)*h;else if(h<0)l=Math.ceil(l*h)/h,c=Math.floor(c*h)/h;else break;f=h}return t},t}function Eg(){var t=tA();return t.copy=function(){return $d(t,Eg())},Di.apply(t,arguments),Io(t)}function H5(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,wg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return H5(t).unknown(e)},t=arguments.length?Array.from(t,wg):[0,1],Io(n)}function G5(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],l;return s<i&&(l=n,n=r,r=l,l=i,i=s,s=l),t[n]=e.floor(i),t[r]=e.ceil(s),t}function rj(t){return Math.log(t)}function ij(t){return Math.exp(t)}function pZ(t){return-Math.log(-t)}function mZ(t){return-Math.exp(-t)}function gZ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function yZ(t){return t===10?gZ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function vZ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function aj(t){return(e,n)=>-t(-e,n)}function iA(t){const e=t(rj,ij),n=e.domain;let r=10,i,s;function l(){return i=vZ(r),s=yZ(r),n()[0]<0?(i=aj(i),s=aj(s),t(pZ,mZ)):t(rj,ij),e}return e.base=function(c){return arguments.length?(r=+c,l()):r},e.domain=function(c){return arguments.length?(n(c),l()):n()},e.ticks=c=>{const f=n();let h=f[0],p=f[f.length-1];const m=p<h;m&&([h,p]=[p,h]);let v=i(h),_=i(p),E,S;const w=c==null?10:+c;let O=[];if(!(r%1)&&_-v<w){if(v=Math.floor(v),_=Math.ceil(_),h>0){for(;v<=_;++v)for(E=1;E<r;++E)if(S=v<0?E/s(-v):E*s(v),!(S<h)){if(S>p)break;O.push(S)}}else for(;v<=_;++v)for(E=r-1;E>=1;--E)if(S=v>0?E/s(-v):E*s(v),!(S<h)){if(S>p)break;O.push(S)}O.length*2<w&&(O=NS(h,p,w))}else O=NS(v,_,Math.min(_-v,w)).map(s);return m?O.reverse():O},e.tickFormat=(c,f)=>{if(c==null&&(c=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Jh(f)).precision==null&&(f.trim=!0),f=rA(f)),c===1/0)return f;const h=Math.max(1,r*c/e.ticks().length);return p=>{let m=p/s(Math.round(i(p)));return m*r<r-.5&&(m*=r),m<=h?f(p):""}},e.nice=()=>n(G5(n(),{floor:c=>s(Math.floor(i(c))),ceil:c=>s(Math.ceil(i(c)))})),e}function K5(){const t=iA(zy()).domain([1,10]);return t.copy=()=>$d(t,K5()).base(t.base()),Di.apply(t,arguments),t}function sj(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function oj(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function aA(t){var e=1,n=t(sj(e),oj(e));return n.constant=function(r){return arguments.length?t(sj(e=+r),oj(e)):e},Io(n)}function W5(){var t=aA(zy());return t.copy=function(){return $d(t,W5()).constant(t.constant())},Di.apply(t,arguments)}function lj(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function bZ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function _Z(t){return t<0?-t*t:t*t}function sA(t){var e=t(Lr,Lr),n=1;function r(){return n===1?t(Lr,Lr):n===.5?t(bZ,_Z):t(lj(n),lj(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Io(e)}function oA(){var t=sA(zy());return t.copy=function(){return $d(t,oA()).exponent(t.exponent())},Di.apply(t,arguments),t}function xZ(){return oA.apply(null,arguments).exponent(.5)}function uj(t){return Math.sign(t)*t*t}function wZ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Y5(){var t=tA(),e=[0,1],n=!1,r;function i(s){var l=wZ(t(s));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(s){return t.invert(uj(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,wg)).map(uj)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Y5(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Di.apply(i,arguments),Io(i)}function X5(){var t=[],e=[],n=[],r;function i(){var l=0,c=Math.max(1,e.length);for(n=new Array(c-1);++l<c;)n[l-1]=OJ(t,l/c);return s}function s(l){return l==null||isNaN(l=+l)?r:e[Ld(n,l)]}return s.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(bo),i()},s.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return X5().domain(t).range(e).unknown(r)},Di.apply(s,arguments)}function Q5(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function l(f){return f!=null&&f<=f?i[Ld(r,f,0,n)]:s}function c(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return l}return l.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,c()):[t,e]},l.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,c()):i.slice()},l.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},l.unknown=function(f){return arguments.length&&(s=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return Q5().domain([t,e]).range(i).unknown(s)},Di.apply(Io(l),arguments)}function J5(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Ld(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return J5().domain(t).range(e).unknown(n)},Di.apply(i,arguments)}const Lw=new Date,Vw=new Date;function er(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const l=i(s),c=i.ceil(s);return s-l<c-s?l:c},i.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,c)=>{const f=[];if(s=i.ceil(s),c=c==null?1:Math.floor(c),!(s<l)||!(c>0))return f;let h;do f.push(h=new Date(+s)),e(s,c),t(s);while(h<s&&s<l);return f},i.filter=s=>er(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!s(l););else for(;--c>=0;)for(;e(l,1),!s(l););}),n&&(i.count=(s,l)=>(Lw.setTime(+s),Vw.setTime(+l),t(Lw),t(Vw),Math.floor(n(Lw,Vw))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?l=>r(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const Tg=er(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Tg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?er(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Tg);Tg.range;const ls=1e3,Mi=ls*60,us=Mi*60,vs=us*24,lA=vs*7,cj=vs*30,$w=vs*365,Sl=er(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ls)},(t,e)=>(e-t)/ls,t=>t.getUTCSeconds());Sl.range;const uA=er(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ls)},(t,e)=>{t.setTime(+t+e*Mi)},(t,e)=>(e-t)/Mi,t=>t.getMinutes());uA.range;const cA=er(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Mi)},(t,e)=>(e-t)/Mi,t=>t.getUTCMinutes());cA.range;const fA=er(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ls-t.getMinutes()*Mi)},(t,e)=>{t.setTime(+t+e*us)},(t,e)=>(e-t)/us,t=>t.getHours());fA.range;const hA=er(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*us)},(t,e)=>(e-t)/us,t=>t.getUTCHours());hA.range;const Ud=er(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Mi)/vs,t=>t.getDate()-1);Ud.range;const Fy=er(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/vs,t=>t.getUTCDate()-1);Fy.range;const Z5=er(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/vs,t=>Math.floor(t/vs));Z5.range;function Kl(t){return er(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Mi)/lA)}const Hy=Kl(0),Ag=Kl(1),SZ=Kl(2),EZ=Kl(3),Sc=Kl(4),TZ=Kl(5),AZ=Kl(6);Hy.range;Ag.range;SZ.range;EZ.range;Sc.range;TZ.range;AZ.range;function Wl(t){return er(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/lA)}const Gy=Wl(0),Og=Wl(1),OZ=Wl(2),CZ=Wl(3),Ec=Wl(4),IZ=Wl(5),PZ=Wl(6);Gy.range;Og.range;OZ.range;CZ.range;Ec.range;IZ.range;PZ.range;const dA=er(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());dA.range;const pA=er(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());pA.range;const bs=er(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());bs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:er(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});bs.range;const _s=er(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());_s.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:er(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});_s.range;function eV(t,e,n,r,i,s){const l=[[Sl,1,ls],[Sl,5,5*ls],[Sl,15,15*ls],[Sl,30,30*ls],[s,1,Mi],[s,5,5*Mi],[s,15,15*Mi],[s,30,30*Mi],[i,1,us],[i,3,3*us],[i,6,6*us],[i,12,12*us],[r,1,vs],[r,2,2*vs],[n,1,lA],[e,1,cj],[e,3,3*cj],[t,1,$w]];function c(h,p,m){const v=p<h;v&&([h,p]=[p,h]);const _=m&&typeof m.range=="function"?m:f(h,p,m),E=_?_.range(h,+p+1):[];return v?E.reverse():E}function f(h,p,m){const v=Math.abs(p-h)/m,_=XT(([,,w])=>w).right(l,v);if(_===l.length)return t.every(MS(h/$w,p/$w,m));if(_===0)return Tg.every(Math.max(MS(h,p,m),1));const[E,S]=l[v/l[_-1][2]<l[_][2]/v?_-1:_];return E.every(S)}return[c,f]}const[RZ,NZ]=eV(_s,pA,Gy,Z5,hA,cA),[kZ,MZ]=eV(bs,dA,Hy,Ud,fA,uA);function Uw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Bw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function th(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function jZ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,l=t.shortDays,c=t.months,f=t.shortMonths,h=nh(i),p=rh(i),m=nh(s),v=rh(s),_=nh(l),E=rh(l),S=nh(c),w=rh(c),O=nh(f),I=rh(f),N={a:Y,A:ee,b:ue,B:ve,c:null,d:gj,e:gj,f:iee,g:pee,G:gee,H:tee,I:nee,j:ree,L:tV,m:aee,M:see,p:F,q:W,Q:bj,s:_j,S:oee,u:lee,U:uee,V:cee,w:fee,W:hee,x:null,X:null,y:dee,Y:mee,Z:yee,"%":vj},L={a:oe,A:me,b:we,B:Se,c:null,d:yj,e:yj,f:xee,g:Ree,G:kee,H:vee,I:bee,j:_ee,L:rV,m:wee,M:See,p:ke,q:$e,Q:bj,s:_j,S:Eee,u:Tee,U:Aee,V:Oee,w:Cee,W:Iee,x:null,X:null,y:Pee,Y:Nee,Z:Mee,"%":vj},C={a:U,A:D,b:B,B:V,c:Q,d:pj,e:pj,f:QZ,g:dj,G:hj,H:mj,I:mj,j:KZ,L:XZ,m:GZ,M:WZ,p:k,q:HZ,Q:ZZ,s:eee,S:YZ,u:UZ,U:BZ,V:qZ,w:$Z,W:zZ,x:J,X:H,y:dj,Y:hj,Z:FZ,"%":JZ};N.x=M(n,N),N.X=M(r,N),N.c=M(e,N),L.x=M(n,L),L.X=M(r,L),L.c=M(e,L);function M(ye,Ee){return function(Ne){var ne=[],He=-1,_e=0,Te=ye.length,Be,Ke,st;for(Ne instanceof Date||(Ne=new Date(+Ne));++He<Te;)ye.charCodeAt(He)===37&&(ne.push(ye.slice(_e,He)),(Ke=fj[Be=ye.charAt(++He)])!=null?Be=ye.charAt(++He):Ke=Be==="e"?" ":"0",(st=Ee[Be])&&(Be=st(Ne,Ke)),ne.push(Be),_e=He+1);return ne.push(ye.slice(_e,He)),ne.join("")}}function A(ye,Ee){return function(Ne){var ne=th(1900,void 0,1),He=P(ne,ye,Ne+="",0),_e,Te;if(He!=Ne.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(Ee&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(_e=Bw(th(ne.y,0,1)),Te=_e.getUTCDay(),_e=Te>4||Te===0?Og.ceil(_e):Og(_e),_e=Fy.offset(_e,(ne.V-1)*7),ne.y=_e.getUTCFullYear(),ne.m=_e.getUTCMonth(),ne.d=_e.getUTCDate()+(ne.w+6)%7):(_e=Uw(th(ne.y,0,1)),Te=_e.getDay(),_e=Te>4||Te===0?Ag.ceil(_e):Ag(_e),_e=Ud.offset(_e,(ne.V-1)*7),ne.y=_e.getFullYear(),ne.m=_e.getMonth(),ne.d=_e.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),Te="Z"in ne?Bw(th(ne.y,0,1)).getUTCDay():Uw(th(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(Te+5)%7:ne.w+ne.U*7-(Te+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,Bw(ne)):Uw(ne)}}function P(ye,Ee,Ne,ne){for(var He=0,_e=Ee.length,Te=Ne.length,Be,Ke;He<_e;){if(ne>=Te)return-1;if(Be=Ee.charCodeAt(He++),Be===37){if(Be=Ee.charAt(He++),Ke=C[Be in fj?Ee.charAt(He++):Be],!Ke||(ne=Ke(ye,Ne,ne))<0)return-1}else if(Be!=Ne.charCodeAt(ne++))return-1}return ne}function k(ye,Ee,Ne){var ne=h.exec(Ee.slice(Ne));return ne?(ye.p=p.get(ne[0].toLowerCase()),Ne+ne[0].length):-1}function U(ye,Ee,Ne){var ne=_.exec(Ee.slice(Ne));return ne?(ye.w=E.get(ne[0].toLowerCase()),Ne+ne[0].length):-1}function D(ye,Ee,Ne){var ne=m.exec(Ee.slice(Ne));return ne?(ye.w=v.get(ne[0].toLowerCase()),Ne+ne[0].length):-1}function B(ye,Ee,Ne){var ne=O.exec(Ee.slice(Ne));return ne?(ye.m=I.get(ne[0].toLowerCase()),Ne+ne[0].length):-1}function V(ye,Ee,Ne){var ne=S.exec(Ee.slice(Ne));return ne?(ye.m=w.get(ne[0].toLowerCase()),Ne+ne[0].length):-1}function Q(ye,Ee,Ne){return P(ye,e,Ee,Ne)}function J(ye,Ee,Ne){return P(ye,n,Ee,Ne)}function H(ye,Ee,Ne){return P(ye,r,Ee,Ne)}function Y(ye){return l[ye.getDay()]}function ee(ye){return s[ye.getDay()]}function ue(ye){return f[ye.getMonth()]}function ve(ye){return c[ye.getMonth()]}function F(ye){return i[+(ye.getHours()>=12)]}function W(ye){return 1+~~(ye.getMonth()/3)}function oe(ye){return l[ye.getUTCDay()]}function me(ye){return s[ye.getUTCDay()]}function we(ye){return f[ye.getUTCMonth()]}function Se(ye){return c[ye.getUTCMonth()]}function ke(ye){return i[+(ye.getUTCHours()>=12)]}function $e(ye){return 1+~~(ye.getUTCMonth()/3)}return{format:function(ye){var Ee=M(ye+="",N);return Ee.toString=function(){return ye},Ee},parse:function(ye){var Ee=A(ye+="",!1);return Ee.toString=function(){return ye},Ee},utcFormat:function(ye){var Ee=M(ye+="",L);return Ee.toString=function(){return ye},Ee},utcParse:function(ye){var Ee=A(ye+="",!0);return Ee.toString=function(){return ye},Ee}}}var fj={"-":"",_:" ",0:"0"},sr=/^\s*\d+/,DZ=/^%/,LZ=/[\\^$*+?|[\]().{}]/g;function zt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function VZ(t){return t.replace(LZ,"\\$&")}function nh(t){return new RegExp("^(?:"+t.map(VZ).join("|")+")","i")}function rh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function $Z(t,e,n){var r=sr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function UZ(t,e,n){var r=sr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function BZ(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function qZ(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function zZ(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function hj(t,e,n){var r=sr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function dj(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function FZ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function HZ(t,e,n){var r=sr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function GZ(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function pj(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function KZ(t,e,n){var r=sr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function mj(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function WZ(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function YZ(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function XZ(t,e,n){var r=sr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function QZ(t,e,n){var r=sr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function JZ(t,e,n){var r=DZ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ZZ(t,e,n){var r=sr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function eee(t,e,n){var r=sr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function gj(t,e){return zt(t.getDate(),e,2)}function tee(t,e){return zt(t.getHours(),e,2)}function nee(t,e){return zt(t.getHours()%12||12,e,2)}function ree(t,e){return zt(1+Ud.count(bs(t),t),e,3)}function tV(t,e){return zt(t.getMilliseconds(),e,3)}function iee(t,e){return tV(t,e)+"000"}function aee(t,e){return zt(t.getMonth()+1,e,2)}function see(t,e){return zt(t.getMinutes(),e,2)}function oee(t,e){return zt(t.getSeconds(),e,2)}function lee(t){var e=t.getDay();return e===0?7:e}function uee(t,e){return zt(Hy.count(bs(t)-1,t),e,2)}function nV(t){var e=t.getDay();return e>=4||e===0?Sc(t):Sc.ceil(t)}function cee(t,e){return t=nV(t),zt(Sc.count(bs(t),t)+(bs(t).getDay()===4),e,2)}function fee(t){return t.getDay()}function hee(t,e){return zt(Ag.count(bs(t)-1,t),e,2)}function dee(t,e){return zt(t.getFullYear()%100,e,2)}function pee(t,e){return t=nV(t),zt(t.getFullYear()%100,e,2)}function mee(t,e){return zt(t.getFullYear()%1e4,e,4)}function gee(t,e){var n=t.getDay();return t=n>=4||n===0?Sc(t):Sc.ceil(t),zt(t.getFullYear()%1e4,e,4)}function yee(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+zt(e/60|0,"0",2)+zt(e%60,"0",2)}function yj(t,e){return zt(t.getUTCDate(),e,2)}function vee(t,e){return zt(t.getUTCHours(),e,2)}function bee(t,e){return zt(t.getUTCHours()%12||12,e,2)}function _ee(t,e){return zt(1+Fy.count(_s(t),t),e,3)}function rV(t,e){return zt(t.getUTCMilliseconds(),e,3)}function xee(t,e){return rV(t,e)+"000"}function wee(t,e){return zt(t.getUTCMonth()+1,e,2)}function See(t,e){return zt(t.getUTCMinutes(),e,2)}function Eee(t,e){return zt(t.getUTCSeconds(),e,2)}function Tee(t){var e=t.getUTCDay();return e===0?7:e}function Aee(t,e){return zt(Gy.count(_s(t)-1,t),e,2)}function iV(t){var e=t.getUTCDay();return e>=4||e===0?Ec(t):Ec.ceil(t)}function Oee(t,e){return t=iV(t),zt(Ec.count(_s(t),t)+(_s(t).getUTCDay()===4),e,2)}function Cee(t){return t.getUTCDay()}function Iee(t,e){return zt(Og.count(_s(t)-1,t),e,2)}function Pee(t,e){return zt(t.getUTCFullYear()%100,e,2)}function Ree(t,e){return t=iV(t),zt(t.getUTCFullYear()%100,e,2)}function Nee(t,e){return zt(t.getUTCFullYear()%1e4,e,4)}function kee(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ec(t):Ec.ceil(t),zt(t.getUTCFullYear()%1e4,e,4)}function Mee(){return"+0000"}function vj(){return"%"}function bj(t){return+t}function _j(t){return Math.floor(+t/1e3)}var Uu,aV,sV;jee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function jee(t){return Uu=jZ(t),aV=Uu.format,Uu.parse,sV=Uu.utcFormat,Uu.utcParse,Uu}function Dee(t){return new Date(t)}function Lee(t){return t instanceof Date?+t:+new Date(+t)}function mA(t,e,n,r,i,s,l,c,f,h){var p=tA(),m=p.invert,v=p.domain,_=h(".%L"),E=h(":%S"),S=h("%I:%M"),w=h("%I %p"),O=h("%a %d"),I=h("%b %d"),N=h("%B"),L=h("%Y");function C(M){return(f(M)<M?_:c(M)<M?E:l(M)<M?S:s(M)<M?w:r(M)<M?i(M)<M?O:I:n(M)<M?N:L)(M)}return p.invert=function(M){return new Date(m(M))},p.domain=function(M){return arguments.length?v(Array.from(M,Lee)):v().map(Dee)},p.ticks=function(M){var A=v();return t(A[0],A[A.length-1],M??10)},p.tickFormat=function(M,A){return A==null?C:h(A)},p.nice=function(M){var A=v();return(!M||typeof M.range!="function")&&(M=e(A[0],A[A.length-1],M??10)),M?v(G5(A,M)):p},p.copy=function(){return $d(p,mA(t,e,n,r,i,s,l,c,f,h))},p}function Vee(){return Di.apply(mA(kZ,MZ,bs,dA,Hy,Ud,fA,uA,Sl,aV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function $ee(){return Di.apply(mA(RZ,NZ,_s,pA,Gy,Fy,hA,cA,Sl,sV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ky(){var t=0,e=1,n,r,i,s,l=Lr,c=!1,f;function h(m){return m==null||isNaN(m=+m)?f:l(i===0?.5:(m=(s(m)-n)*i,c?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([t,e]=m,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(m){return arguments.length?(c=!!m,h):c},h.interpolator=function(m){return arguments.length?(l=m,h):l};function p(m){return function(v){var _,E;return arguments.length?([_,E]=v,l=m(_,E),h):[l(0),l(1)]}}return h.range=p(ef),h.rangeRound=p(eA),h.unknown=function(m){return arguments.length?(f=m,h):f},function(m){return s=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),h}}function Po(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function oV(){var t=Io(Ky()(Lr));return t.copy=function(){return Po(t,oV())},Es.apply(t,arguments)}function lV(){var t=iA(Ky()).domain([1,10]);return t.copy=function(){return Po(t,lV()).base(t.base())},Es.apply(t,arguments)}function uV(){var t=aA(Ky());return t.copy=function(){return Po(t,uV()).constant(t.constant())},Es.apply(t,arguments)}function gA(){var t=sA(Ky());return t.copy=function(){return Po(t,gA()).exponent(t.exponent())},Es.apply(t,arguments)}function Uee(){return gA.apply(null,arguments).exponent(.5)}function cV(){var t=[],e=Lr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Ld(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(bo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>AJ(t,s/r))},n.copy=function(){return cV(e).domain(t)},Es.apply(n,arguments)}function Wy(){var t=0,e=.5,n=1,r=1,i,s,l,c,f,h=Lr,p,m=!1,v;function _(S){return isNaN(S=+S)?v:(S=.5+((S=+p(S))-s)*(r*S<r*s?c:f),h(m?Math.max(0,Math.min(1,S)):S))}_.domain=function(S){return arguments.length?([t,e,n]=S,i=p(t=+t),s=p(e=+e),l=p(n=+n),c=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),r=s<i?-1:1,_):[t,e,n]},_.clamp=function(S){return arguments.length?(m=!!S,_):m},_.interpolator=function(S){return arguments.length?(h=S,_):h};function E(S){return function(w){var O,I,N;return arguments.length?([O,I,N]=w,h=JJ(S,[O,I,N]),_):[h(0),h(.5),h(1)]}}return _.range=E(ef),_.rangeRound=E(eA),_.unknown=function(S){return arguments.length?(v=S,_):v},function(S){return p=S,i=S(t),s=S(e),l=S(n),c=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),r=s<i?-1:1,_}}function fV(){var t=Io(Wy()(Lr));return t.copy=function(){return Po(t,fV())},Es.apply(t,arguments)}function hV(){var t=iA(Wy()).domain([.1,1,10]);return t.copy=function(){return Po(t,hV()).base(t.base())},Es.apply(t,arguments)}function dV(){var t=aA(Wy());return t.copy=function(){return Po(t,dV()).constant(t.constant())},Es.apply(t,arguments)}function yA(){var t=sA(Wy());return t.copy=function(){return Po(t,yA()).exponent(t.exponent())},Es.apply(t,arguments)}function Bee(){return yA.apply(null,arguments).exponent(.5)}const xj=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Wh,scaleDiverging:fV,scaleDivergingLog:hV,scaleDivergingPow:yA,scaleDivergingSqrt:Bee,scaleDivergingSymlog:dV,scaleIdentity:H5,scaleImplicit:jS,scaleLinear:Eg,scaleLog:K5,scaleOrdinal:QT,scalePoint:Oh,scalePow:oA,scaleQuantile:X5,scaleQuantize:Q5,scaleRadial:Y5,scaleSequential:oV,scaleSequentialLog:lV,scaleSequentialPow:gA,scaleSequentialQuantile:cV,scaleSequentialSqrt:Uee,scaleSequentialSymlog:uV,scaleSqrt:xZ,scaleSymlog:W5,scaleThreshold:J5,scaleTime:Vee,scaleUtc:$ee,tickFormat:F5},Symbol.toStringTag,{value:"Module"}));var qw,wj;function Yy(){if(wj)return qw;wj=1;var t=Xc();function e(n,r,i){for(var s=-1,l=n.length;++s<l;){var c=n[s],f=r(c);if(f!=null&&(h===void 0?f===f&&!t(f):i(f,h)))var h=f,p=c}return p}return qw=e,qw}var zw,Sj;function pV(){if(Sj)return zw;Sj=1;function t(e,n){return e>n}return zw=t,zw}var Fw,Ej;function qee(){if(Ej)return Fw;Ej=1;var t=Yy(),e=pV(),n=Zc();function r(i){return i&&i.length?t(i,n,e):void 0}return Fw=r,Fw}var zee=qee();const Xy=Gt(zee);var Hw,Tj;function mV(){if(Tj)return Hw;Tj=1;function t(e,n){return e<n}return Hw=t,Hw}var Gw,Aj;function Fee(){if(Aj)return Gw;Aj=1;var t=Yy(),e=mV(),n=Zc();function r(i){return i&&i.length?t(i,n,e):void 0}return Gw=r,Gw}var Hee=Fee();const Qy=Gt(Hee);var Kw,Oj;function Gee(){if(Oj)return Kw;Oj=1;var t=kT(),e=Ma(),n=w5(),r=Yr();function i(s,l){var c=r(s)?t:n;return c(s,e(l,3))}return Kw=i,Kw}var Ww,Cj;function Kee(){if(Cj)return Ww;Cj=1;var t=_5(),e=Gee();function n(r,i){return t(e(r,i),1)}return Ww=n,Ww}var Wee=Kee();const Yee=Gt(Wee);var Yw,Ij;function Xee(){if(Ij)return Yw;Ij=1;var t=GT();function e(n,r){return t(n,r)}return Yw=e,Yw}var Qee=Xee();const Bd=Gt(Qee);var tf=1e9,Jee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},bA,bn=!0,ji="[DecimalError] ",Cl=ji+"Invalid argument: ",vA=ji+"Exponent out of range: ",nf=Math.floor,pl=Math.pow,Zee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,fi,rr=1e7,pn=7,gV=9007199254740991,Cg=nf(gV/pn),Le={};Le.absoluteValue=Le.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Le.comparedTo=Le.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Le.decimalPlaces=Le.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*pn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Le.dividedBy=Le.div=function(t){return hs(this,new this.constructor(t))};Le.dividedToIntegerBy=Le.idiv=function(t){var e=this,n=e.constructor;return ln(hs(e,new n(t),0,1),n.precision)};Le.equals=Le.eq=function(t){return!this.cmp(t)};Le.exponent=function(){return Hn(this)};Le.greaterThan=Le.gt=function(t){return this.cmp(t)>0};Le.greaterThanOrEqualTo=Le.gte=function(t){return this.cmp(t)>=0};Le.isInteger=Le.isint=function(){return this.e>this.d.length-2};Le.isNegative=Le.isneg=function(){return this.s<0};Le.isPositive=Le.ispos=function(){return this.s>0};Le.isZero=function(){return this.s===0};Le.lessThan=Le.lt=function(t){return this.cmp(t)<0};Le.lessThanOrEqualTo=Le.lte=function(t){return this.cmp(t)<1};Le.logarithm=Le.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(fi))throw Error(ji+"NaN");if(n.s<1)throw Error(ji+(n.s?"NaN":"-Infinity"));return n.eq(fi)?new r(0):(bn=!1,e=hs(Zh(n,s),Zh(t,s),s),bn=!0,ln(e,i))};Le.minus=Le.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?bV(e,t):yV(e,(t.s=-t.s,t))};Le.modulo=Le.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ji+"NaN");return n.s?(bn=!1,e=hs(n,t,0,1).times(t),bn=!0,n.minus(e)):ln(new r(n),i)};Le.naturalExponential=Le.exp=function(){return vV(this)};Le.naturalLogarithm=Le.ln=function(){return Zh(this)};Le.negated=Le.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Le.plus=Le.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?yV(e,t):bV(e,(t.s=-t.s,t))};Le.precision=Le.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Cl+t);if(e=Hn(i)+1,r=i.d.length-1,n=r*pn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Le.squareRoot=Le.sqrt=function(){var t,e,n,r,i,s,l,c=this,f=c.constructor;if(c.s<1){if(!c.s)return new f(0);throw Error(ji+"NaN")}for(t=Hn(c),bn=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=ba(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=nf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=l=n+3;;)if(s=r,r=s.plus(hs(c,s,l+2)).times(.5),ba(s.d).slice(0,l)===(e=ba(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(ln(s,n+1,0),s.times(s).eq(c)){r=s;break}}else if(e!="9999")break;l+=4}return bn=!0,ln(r,n)};Le.times=Le.mul=function(t){var e,n,r,i,s,l,c,f,h,p=this,m=p.constructor,v=p.d,_=(t=new m(t)).d;if(!p.s||!t.s)return new m(0);for(t.s*=p.s,n=p.e+t.e,f=v.length,h=_.length,f<h&&(s=v,v=_,_=s,l=f,f=h,h=l),s=[],l=f+h,r=l;r--;)s.push(0);for(r=h;--r>=0;){for(e=0,i=f+r;i>r;)c=s[i]+_[r]*v[i-r-1]+e,s[i--]=c%rr|0,e=c/rr|0;s[i]=(s[i]+e)%rr|0}for(;!s[--l];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,bn?ln(t,m.precision):t};Le.toDecimalPlaces=Le.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ra(t,0,tf),e===void 0?e=r.rounding:Ra(e,0,8),ln(n,t+Hn(n)+1,e))};Le.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Vl(r,!0):(Ra(t,0,tf),e===void 0?e=i.rounding:Ra(e,0,8),r=ln(new i(r),t+1,e),n=Vl(r,!0,t+1)),n};Le.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Vl(i):(Ra(t,0,tf),e===void 0?e=s.rounding:Ra(e,0,8),r=ln(new s(i),t+Hn(i)+1,e),n=Vl(r.abs(),!1,t+Hn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Le.toInteger=Le.toint=function(){var t=this,e=t.constructor;return ln(new e(t),Hn(t)+1,e.rounding)};Le.toNumber=function(){return+this};Le.toPower=Le.pow=function(t){var e,n,r,i,s,l,c=this,f=c.constructor,h=12,p=+(t=new f(t));if(!t.s)return new f(fi);if(c=new f(c),!c.s){if(t.s<1)throw Error(ji+"Infinity");return c}if(c.eq(fi))return c;if(r=f.precision,t.eq(fi))return ln(c,r);if(e=t.e,n=t.d.length-1,l=e>=n,s=c.s,l){if((n=p<0?-p:p)<=gV){for(i=new f(fi),e=Math.ceil(r/pn+4),bn=!1;n%2&&(i=i.times(c),Rj(i.d,e)),n=nf(n/2),n!==0;)c=c.times(c),Rj(c.d,e);return bn=!0,t.s<0?new f(fi).div(i):ln(i,r)}}else if(s<0)throw Error(ji+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,bn=!1,i=t.times(Zh(c,r+h)),bn=!0,i=vV(i),i.s=s,i};Le.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Hn(i),r=Vl(i,n<=s.toExpNeg||n>=s.toExpPos)):(Ra(t,1,tf),e===void 0?e=s.rounding:Ra(e,0,8),i=ln(new s(i),t,e),n=Hn(i),r=Vl(i,t<=n||n<=s.toExpNeg,t)),r};Le.toSignificantDigits=Le.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ra(t,1,tf),e===void 0?e=r.rounding:Ra(e,0,8)),ln(new r(n),t,e)};Le.toString=Le.valueOf=Le.val=Le.toJSON=Le[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Hn(t),n=t.constructor;return Vl(t,e<=n.toExpNeg||e>=n.toExpPos)};function yV(t,e){var n,r,i,s,l,c,f,h,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),bn?ln(e,m):e;if(f=t.d,h=e.d,l=t.e,i=e.e,f=f.slice(),s=l-i,s){for(s<0?(r=f,s=-s,c=h.length):(r=h,i=l,c=f.length),l=Math.ceil(m/pn),c=l>c?l+1:c+1,s>c&&(s=c,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(c=f.length,s=h.length,c-s<0&&(s=c,r=h,h=f,f=r),n=0;s;)n=(f[--s]=f[s]+h[s]+n)/rr|0,f[s]%=rr;for(n&&(f.unshift(n),++i),c=f.length;f[--c]==0;)f.pop();return e.d=f,e.e=i,bn?ln(e,m):e}function Ra(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Cl+t)}function ba(t){var e,n,r,i=t.length-1,s="",l=t[0];if(i>0){for(s+=l,e=1;e<i;e++)r=t[e]+"",n=pn-r.length,n&&(s+=ao(n)),s+=r;l=t[e],r=l+"",n=pn-r.length,n&&(s+=ao(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var hs=(function(){function t(r,i){var s,l=0,c=r.length;for(r=r.slice();c--;)s=r[c]*i+l,r[c]=s%rr|0,l=s/rr|0;return l&&r.unshift(l),r}function e(r,i,s,l){var c,f;if(s!=l)f=s>l?1:-1;else for(c=f=0;c<s;c++)if(r[c]!=i[c]){f=r[c]>i[c]?1:-1;break}return f}function n(r,i,s){for(var l=0;s--;)r[s]-=l,l=r[s]<i[s]?1:0,r[s]=l*rr+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,l){var c,f,h,p,m,v,_,E,S,w,O,I,N,L,C,M,A,P,k=r.constructor,U=r.s==i.s?1:-1,D=r.d,B=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(ji+"Division by zero");for(f=r.e-i.e,A=B.length,C=D.length,_=new k(U),E=_.d=[],h=0;B[h]==(D[h]||0);)++h;if(B[h]>(D[h]||0)&&--f,s==null?I=s=k.precision:l?I=s+(Hn(r)-Hn(i))+1:I=s,I<0)return new k(0);if(I=I/pn+2|0,h=0,A==1)for(p=0,B=B[0],I++;(h<C||p)&&I--;h++)N=p*rr+(D[h]||0),E[h]=N/B|0,p=N%B|0;else{for(p=rr/(B[0]+1)|0,p>1&&(B=t(B,p),D=t(D,p),A=B.length,C=D.length),L=A,S=D.slice(0,A),w=S.length;w<A;)S[w++]=0;P=B.slice(),P.unshift(0),M=B[0],B[1]>=rr/2&&++M;do p=0,c=e(B,S,A,w),c<0?(O=S[0],A!=w&&(O=O*rr+(S[1]||0)),p=O/M|0,p>1?(p>=rr&&(p=rr-1),m=t(B,p),v=m.length,w=S.length,c=e(m,S,v,w),c==1&&(p--,n(m,A<v?P:B,v))):(p==0&&(c=p=1),m=B.slice()),v=m.length,v<w&&m.unshift(0),n(S,m,w),c==-1&&(w=S.length,c=e(B,S,A,w),c<1&&(p++,n(S,A<w?P:B,w))),w=S.length):c===0&&(p++,S=[0]),E[h++]=p,c&&S[0]?S[w++]=D[L]||0:(S=[D[L]],w=1);while((L++<C||S[0]!==void 0)&&I--)}return E[0]||E.shift(),_.e=f,ln(_,l?s+Hn(_)+1:s)}})();function vV(t,e){var n,r,i,s,l,c,f=0,h=0,p=t.constructor,m=p.precision;if(Hn(t)>16)throw Error(vA+Hn(t));if(!t.s)return new p(fi);for(bn=!1,c=m,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(r=Math.log(pl(2,h))/Math.LN10*2+5|0,c+=r,n=i=s=new p(fi),p.precision=c;;){if(i=ln(i.times(t),c),n=n.times(++f),l=s.plus(hs(i,n,c)),ba(l.d).slice(0,c)===ba(s.d).slice(0,c)){for(;h--;)s=ln(s.times(s),c);return p.precision=m,e==null?(bn=!0,ln(s,m)):s}s=l}}function Hn(t){for(var e=t.e*pn,n=t.d[0];n>=10;n/=10)e++;return e}function Xw(t,e,n){if(e>t.LN10.sd())throw bn=!0,n&&(t.precision=n),Error(ji+"LN10 precision limit exceeded");return ln(new t(t.LN10),e)}function ao(t){for(var e="";t--;)e+="0";return e}function Zh(t,e){var n,r,i,s,l,c,f,h,p,m=1,v=10,_=t,E=_.d,S=_.constructor,w=S.precision;if(_.s<1)throw Error(ji+(_.s?"NaN":"-Infinity"));if(_.eq(fi))return new S(0);if(e==null?(bn=!1,h=w):h=e,_.eq(10))return e==null&&(bn=!0),Xw(S,h);if(h+=v,S.precision=h,n=ba(E),r=n.charAt(0),s=Hn(_),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=ba(_.d),r=n.charAt(0),m++;s=Hn(_),r>1?(_=new S("0."+n),s++):_=new S(r+"."+n.slice(1))}else return f=Xw(S,h+2,w).times(s+""),_=Zh(new S(r+"."+n.slice(1)),h-v).plus(f),S.precision=w,e==null?(bn=!0,ln(_,w)):_;for(c=l=_=hs(_.minus(fi),_.plus(fi),h),p=ln(_.times(_),h),i=3;;){if(l=ln(l.times(p),h),f=c.plus(hs(l,new S(i),h)),ba(f.d).slice(0,h)===ba(c.d).slice(0,h))return c=c.times(2),s!==0&&(c=c.plus(Xw(S,h+2,w).times(s+""))),c=hs(c,new S(m),h),S.precision=w,e==null?(bn=!0,ln(c,w)):c;c=f,i+=2}}function Pj(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=nf(n/pn),t.d=[],r=(n+1)%pn,n<0&&(r+=pn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=pn;r<i;)t.d.push(+e.slice(r,r+=pn));e=e.slice(r),r=pn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),bn&&(t.e>Cg||t.e<-Cg))throw Error(vA+n)}else t.s=0,t.e=0,t.d=[0];return t}function ln(t,e,n){var r,i,s,l,c,f,h,p,m=t.d;for(l=1,s=m[0];s>=10;s/=10)l++;if(r=e-l,r<0)r+=pn,i=e,h=m[p=0];else{if(p=Math.ceil((r+1)/pn),s=m.length,p>=s)return t;for(h=s=m[p],l=1;s>=10;s/=10)l++;r%=pn,i=r-pn+l}if(n!==void 0&&(s=pl(10,l-i-1),c=h/s%10|0,f=e<0||m[p+1]!==void 0||h%s,f=n<4?(c||f)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||f||n==6&&(r>0?i>0?h/pl(10,l-i):0:m[p-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return f?(s=Hn(t),m.length=1,e=e-s-1,m[0]=pl(10,(pn-e%pn)%pn),t.e=nf(-e/pn)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=p,s=1,p--):(m.length=p+1,s=pl(10,pn-r),m[p]=i>0?(h/pl(10,l-i)%pl(10,i)|0)*s:0),f)for(;;)if(p==0){(m[0]+=s)==rr&&(m[0]=1,++t.e);break}else{if(m[p]+=s,m[p]!=rr)break;m[p--]=0,s=1}for(r=m.length;m[--r]===0;)m.pop();if(bn&&(t.e>Cg||t.e<-Cg))throw Error(vA+Hn(t));return t}function bV(t,e){var n,r,i,s,l,c,f,h,p,m,v=t.constructor,_=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),bn?ln(e,_):e;if(f=t.d,m=e.d,r=e.e,h=t.e,f=f.slice(),l=h-r,l){for(p=l<0,p?(n=f,l=-l,c=m.length):(n=m,r=h,c=f.length),i=Math.max(Math.ceil(_/pn),c)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=f.length,c=m.length,p=i<c,p&&(c=i),i=0;i<c;i++)if(f[i]!=m[i]){p=f[i]<m[i];break}l=0}for(p&&(n=f,f=m,m=n,e.s=-e.s),c=f.length,i=m.length-c;i>0;--i)f[c++]=0;for(i=m.length;i>l;){if(f[--i]<m[i]){for(s=i;s&&f[--s]===0;)f[s]=rr-1;--f[s],f[i]+=rr}f[i]-=m[i]}for(;f[--c]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,bn?ln(e,_):e):new v(0)}function Vl(t,e,n){var r,i=Hn(t),s=ba(t.d),l=s.length;return e?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+ao(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+ao(-i-1)+s,n&&(r=n-l)>0&&(s+=ao(r))):i>=l?(s+=ao(i+1-l),n&&(r=n-i-1)>0&&(s=s+"."+ao(r))):((r=i+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(s+="."),s+=ao(r))),t.s<0?"-"+s:s}function Rj(t,e){if(t.length>e)return t.length=e,!0}function _V(t){var e,n,r;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Cl+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return Pj(l,s.toString())}else if(typeof s!="string")throw Error(Cl+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,Zee.test(s))Pj(l,s);else throw Error(Cl+s)}if(i.prototype=Le,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=_V,i.config=i.set=ete,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function ete(t){if(!t||typeof t!="object")throw Error(ji+"Object expected");var e,n,r,i=["precision",1,tf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(nf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Cl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Cl+n+": "+r);return this}var bA=_V(Jee);fi=new bA(1);const sn=bA;function tte(t){return ate(t)||ite(t)||rte(t)||nte()}function nte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rte(t,e){if(t){if(typeof t=="string")return $S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $S(t,e)}}function ite(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ate(t){if(Array.isArray(t))return $S(t)}function $S(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ste=function(e){return e},xV={},wV=function(e){return e===xV},Nj=function(e){return function n(){return arguments.length===0||arguments.length===1&&wV(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},ote=function t(e,n){return e===1?n:Nj(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var l=i.filter(function(c){return c!==xV}).length;return l>=e?n.apply(void 0,i):t(e-l,Nj(function(){for(var c=arguments.length,f=new Array(c),h=0;h<c;h++)f[h]=arguments[h];var p=i.map(function(m){return wV(m)?f.shift():m});return n.apply(void 0,tte(p).concat(f))}))})},Jy=function(e){return ote(e.length,e)},US=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},lte=Jy(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),ute=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return ste;var i=n.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce(function(c,f){return f(c)},s.apply(void 0,arguments))}},BS=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},SV=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return n&&s.every(function(c,f){return c===n[f]})||(n=s,r=e.apply(void 0,s)),r}};function cte(t){var e;return t===0?e=1:e=Math.floor(new sn(t).abs().log(10).toNumber())+1,e}function fte(t,e,n){for(var r=new sn(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var hte=Jy(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),dte=Jy(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),pte=Jy(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Zy={rangeStep:fte,getDigitCount:cte,interpolateNumber:hte,uninterpolateNumber:dte,uninterpolateTruncation:pte};function qS(t){return yte(t)||gte(t)||EV(t)||mte()}function mte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gte(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function yte(t){if(Array.isArray(t))return zS(t)}function ed(t,e){return _te(t)||bte(t,e)||EV(t,e)||vte()}function vte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EV(t,e){if(t){if(typeof t=="string")return zS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zS(t,e)}}function zS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bte(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var l=t[Symbol.iterator](),c;!(r=(c=l.next()).done)&&(n.push(c.value),!(e&&n.length===e));r=!0);}catch(f){i=!0,s=f}finally{try{!r&&l.return!=null&&l.return()}finally{if(i)throw s}}return n}}function _te(t){if(Array.isArray(t))return t}function TV(t){var e=ed(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function AV(t,e,n){if(t.lte(0))return new sn(0);var r=Zy.getDigitCount(t.toNumber()),i=new sn(10).pow(r),s=t.div(i),l=r!==1?.05:.1,c=new sn(Math.ceil(s.div(l).toNumber())).add(n).mul(l),f=c.mul(i);return e?f:new sn(Math.ceil(f))}function xte(t,e,n){var r=1,i=new sn(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new sn(10).pow(Zy.getDigitCount(t)-1),i=new sn(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new sn(Math.floor(t)))}else t===0?i=new sn(Math.floor((e-1)/2)):n||(i=new sn(Math.floor(t)));var l=Math.floor((e-1)/2),c=ute(lte(function(f){return i.add(new sn(f-l).mul(r)).toNumber()}),US);return c(0,e)}function OV(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new sn(0),tickMin:new sn(0),tickMax:new sn(0)};var s=AV(new sn(e).sub(t).div(n-1),r,i),l;t<=0&&e>=0?l=new sn(0):(l=new sn(t).add(e).div(2),l=l.sub(new sn(l).mod(s)));var c=Math.ceil(l.sub(t).div(s).toNumber()),f=Math.ceil(new sn(e).sub(l).div(s).toNumber()),h=c+f+1;return h>n?OV(t,e,n,r,i+1):(h<n&&(f=e>0?f+(n-h):f,c=e>0?c:c+(n-h)),{step:s,tickMin:l.sub(new sn(c).mul(s)),tickMax:l.add(new sn(f).mul(s))})}function wte(t){var e=ed(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),c=TV([n,r]),f=ed(c,2),h=f[0],p=f[1];if(h===-1/0||p===1/0){var m=p===1/0?[h].concat(qS(US(0,i-1).map(function(){return 1/0}))):[].concat(qS(US(0,i-1).map(function(){return-1/0})),[p]);return n>r?BS(m):m}if(h===p)return xte(h,i,s);var v=OV(h,p,l,s),_=v.step,E=v.tickMin,S=v.tickMax,w=Zy.rangeStep(E,S.add(new sn(.1).mul(_)),_);return n>r?BS(w):w}function Ste(t,e){var n=ed(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=TV([r,i]),c=ed(l,2),f=c[0],h=c[1];if(f===-1/0||h===1/0)return[r,i];if(f===h)return[f];var p=Math.max(e,2),m=AV(new sn(h).sub(f).div(p-1),s,0),v=[].concat(qS(Zy.rangeStep(new sn(f),new sn(h).sub(new sn(.99).mul(m)),m)),[h]);return r>i?BS(v):v}var Ete=SV(wte),Tte=SV(Ste),Ate="Invariant failed";function $l(t,e){throw new Error(Ate)}var Ote=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Tc(t){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(t)}function Ig(){return Ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ig.apply(this,arguments)}function Cte(t,e){return Nte(t)||Rte(t,e)||Pte(t,e)||Ite()}function Ite(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pte(t,e){if(t){if(typeof t=="string")return kj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kj(t,e)}}function kj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,c=[],f=!0,h=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function Nte(t){if(Array.isArray(t))return t}function kte(t,e){if(t==null)return{};var n=Mte(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PV(r.key),r)}}function Lte(t,e,n){return e&&Dte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vte(t,e,n){return e=Pg(e),$te(t,CV()?Reflect.construct(e,n||[],Pg(t).constructor):e.apply(t,n))}function $te(t,e){if(e&&(Tc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ute(t)}function Ute(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CV=function(){return!!t})()}function Pg(t){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pg(t)}function Bte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FS(t,e)}function FS(t,e){return FS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},FS(t,e)}function IV(t,e,n){return e=PV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PV(t){var e=qte(t,"string");return Tc(e)=="symbol"?e:e+""}function qte(t,e){if(Tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qd=(function(t){function e(){return jte(this,e),Vte(this,e,arguments)}return Bte(e,t),Lte(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,l=r.width,c=r.dataKey,f=r.data,h=r.dataPointFormatter,p=r.xAxis,m=r.yAxis,v=kte(r,Ote),_=Je(v,!1);this.props.direction==="x"&&p.type!=="number"&&$l();var E=f.map(function(S){var w=h(S,c),O=w.x,I=w.y,N=w.value,L=w.errorVal;if(!L)return null;var C=[],M,A;if(Array.isArray(L)){var P=Cte(L,2);M=P[0],A=P[1]}else M=A=L;if(s==="vertical"){var k=p.scale,U=I+i,D=U+l,B=U-l,V=k(N-M),Q=k(N+A);C.push({x1:Q,y1:D,x2:Q,y2:B}),C.push({x1:V,y1:U,x2:Q,y2:U}),C.push({x1:V,y1:D,x2:V,y2:B})}else if(s==="horizontal"){var J=m.scale,H=O+i,Y=H-l,ee=H+l,ue=J(N-M),ve=J(N+A);C.push({x1:Y,y1:ve,x2:ee,y2:ve}),C.push({x1:H,y1:ue,x2:H,y2:ve}),C.push({x1:Y,y1:ue,x2:ee,y2:ue})}return G.createElement(qt,Ig({className:"recharts-errorBar",key:"bar-".concat(C.map(function(F){return"".concat(F.x1,"-").concat(F.x2,"-").concat(F.y1,"-").concat(F.y2)}))},_),C.map(function(F){return G.createElement("line",Ig({},F,{key:"line-".concat(F.x1,"-").concat(F.x2,"-").concat(F.y1,"-").concat(F.y2)}))}))});return G.createElement(qt,{className:"recharts-errorBars"},E)}}])})(G.Component);IV(qd,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});IV(qd,"displayName","ErrorBar");function td(t){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(t)}function Mj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ol(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mj(Object(n),!0).forEach(function(r){zte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zte(t,e,n){return e=Fte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fte(t){var e=Hte(t,"string");return td(e)=="symbol"?e:e+""}function Hte(t,e){if(td(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RV=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,l=ui(n,vo);if(!l)return null;var c=vo.defaultProps,f=c!==void 0?ol(ol({},c),l.props):{},h;return l.props&&l.props.payload?h=l.props&&l.props.payload:s==="children"?h=(r||[]).reduce(function(p,m){var v=m.item,_=m.props,E=_.sectors||_.data||[];return p.concat(E.map(function(S){return{type:l.props.iconType||v.props.legendType,value:S.name,color:S.fill,payload:S}}))},[]):h=(r||[]).map(function(p){var m=p.item,v=m.type.defaultProps,_=v!==void 0?ol(ol({},v),m.props):{},E=_.dataKey,S=_.name,w=_.legendType,O=_.hide;return{inactive:O,dataKey:E,type:f.iconType||w||"square",color:_A(m),value:S||E,payload:_}}),ol(ol(ol({},f),vo.getWithHeight(l,i)),{},{payload:h,item:l})};function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function jj(t){return Yte(t)||Wte(t)||Kte(t)||Gte()}function Gte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kte(t,e){if(t){if(typeof t=="string")return HS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HS(t,e)}}function Wte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Yte(t){if(Array.isArray(t))return HS(t)}function HS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dj(Object(n),!0).forEach(function(r){oc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oc(t,e,n){return e=Xte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xte(t){var e=Qte(t,"string");return nd(e)=="symbol"?e:e+""}function Qte(t,e){if(nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xn(t,e,n){return ct(t)||ct(e)?n:Jn(e)?di(t,e,n):rt(e)?e(t):n}function Ch(t,e,n,r){var i=Yee(t,function(c){return Xn(c,e)});if(n==="number"){var s=i.filter(function(c){return Ce(c)||parseFloat(c)});return s.length?[Qy(s),Xy(s)]:[1/0,-1/0]}var l=r?i.filter(function(c){return!ct(c)}):i;return l.map(function(c){return Jn(c)||c instanceof Date?c:""})}var Jte=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,l=-1,c=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(c<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var f=s.range,h=0;h<c;h++){var p=h>0?i[h-1].coordinate:i[c-1].coordinate,m=i[h].coordinate,v=h>=c-1?i[0].coordinate:i[h+1].coordinate,_=void 0;if(jr(m-p)!==jr(v-m)){var E=[];if(jr(v-m)===jr(f[1]-f[0])){_=v;var S=m+f[1]-f[0];E[0]=Math.min(S,(S+p)/2),E[1]=Math.max(S,(S+p)/2)}else{_=p;var w=v+f[1]-f[0];E[0]=Math.min(m,(w+m)/2),E[1]=Math.max(m,(w+m)/2)}var O=[Math.min(m,(_+m)/2),Math.max(m,(_+m)/2)];if(e>O[0]&&e<=O[1]||e>=E[0]&&e<=E[1]){l=i[h].index;break}}else{var I=Math.min(p,v),N=Math.max(p,v);if(e>(I+m)/2&&e<=(N+m)/2){l=i[h].index;break}}}else for(var L=0;L<c;L++)if(L===0&&e<=(r[L].coordinate+r[L+1].coordinate)/2||L>0&&L<c-1&&e>(r[L].coordinate+r[L-1].coordinate)/2&&e<=(r[L].coordinate+r[L+1].coordinate)/2||L===c-1&&e>(r[L].coordinate+r[L-1].coordinate)/2){l=r[L].index;break}return l},_A=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Cn(Cn({},e.type.defaultProps),e.props):e.props,l=s.stroke,c=s.fill,f;switch(i){case"Line":f=l;break;case"Area":case"Radar":f=l&&l!=="none"?l:c;break;default:f=c;break}return f},Zte=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var l={},c=Object.keys(s),f=0,h=c.length;f<h;f++)for(var p=s[c[f]].stackGroups,m=Object.keys(p),v=0,_=m.length;v<_;v++){var E=p[m[v]],S=E.items,w=E.cateAxisId,O=S.filter(function(A){return fs(A.type).indexOf("Bar")>=0});if(O&&O.length){var I=O[0].type.defaultProps,N=I!==void 0?Cn(Cn({},I),O[0].props):O[0].props,L=N.barSize,C=N[w];l[C]||(l[C]=[]);var M=ct(L)?n:L;l[C].push({item:O[0],stackList:O.slice(1),barSize:ct(M)?void 0:Dr(M,r,0)})}}return l},ene=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,l=s===void 0?[]:s,c=e.maxBarSize,f=l.length;if(f<1)return null;var h=Dr(n,i,0,!0),p,m=[];if(l[0].barSize===+l[0].barSize){var v=!1,_=i/f,E=l.reduce(function(L,C){return L+C.barSize||0},0);E+=(f-1)*h,E>=i&&(E-=(f-1)*h,h=0),E>=i&&_>0&&(v=!0,_*=.9,E=f*_);var S=(i-E)/2>>0,w={offset:S-h,size:0};p=l.reduce(function(L,C){var M={item:C.item,position:{offset:w.offset+w.size+h,size:v?_:C.barSize}},A=[].concat(jj(L),[M]);return w=A[A.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(P){A.push({item:P,position:w})}),A},m)}else{var O=Dr(r,i,0,!0);i-2*O-(f-1)*h<=0&&(h=0);var I=(i-2*O-(f-1)*h)/f;I>1&&(I>>=0);var N=c===+c?Math.min(I,c):I;p=l.reduce(function(L,C,M){var A=[].concat(jj(L),[{item:C.item,position:{offset:O+(I+h)*M+(I-N)/2,size:N}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(P){A.push({item:P,position:A[A.length-1].position})}),A},m)}return p},tne=function(e,n,r,i){var s=r.children,l=r.width,c=r.margin,f=l-(c.left||0)-(c.right||0),h=RV({children:s,legendWidth:f});if(h){var p=i||{},m=p.width,v=p.height,_=h.align,E=h.verticalAlign,S=h.layout;if((S==="vertical"||S==="horizontal"&&E==="middle")&&_!=="center"&&Ce(e[_]))return Cn(Cn({},e),{},oc({},_,e[_]+(m||0)));if((S==="horizontal"||S==="vertical"&&_==="center")&&E!=="middle"&&Ce(e[E]))return Cn(Cn({},e),{},oc({},E,e[E]+(v||0)))}return e},nne=function(e,n,r){return ct(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},NV=function(e,n,r,i,s){var l=n.props.children,c=pi(l,qd).filter(function(h){return nne(i,s,h.props.direction)});if(c&&c.length){var f=c.map(function(h){return h.props.dataKey});return e.reduce(function(h,p){var m=Xn(p,r);if(ct(m))return h;var v=Array.isArray(m)?[Qy(m),Xy(m)]:[m,m],_=f.reduce(function(E,S){var w=Xn(p,S,0),O=v[0]-Math.abs(Array.isArray(w)?w[0]:w),I=v[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(O,E[0]),Math.max(I,E[1])]},[1/0,-1/0]);return[Math.min(_[0],h[0]),Math.max(_[1],h[1])]},[1/0,-1/0])}return null},rne=function(e,n,r,i,s){var l=n.map(function(c){return NV(e,c,r,s,i)}).filter(function(c){return!ct(c)});return l&&l.length?l.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]):null},kV=function(e,n,r,i,s){var l=n.map(function(f){var h=f.props.dataKey;return r==="number"&&h&&NV(e,f,h,i)||Ch(e,h,r,s)});if(r==="number")return l.reduce(function(f,h){return[Math.min(f[0],h[0]),Math.max(f[1],h[1])]},[1/0,-1/0]);var c={};return l.reduce(function(f,h){for(var p=0,m=h.length;p<m;p++)c[h[p]]||(c[h[p]]=!0,f.push(h[p]));return f},[])},MV=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},jV=function(e,n,r,i){if(i)return e.map(function(f){return f.coordinate});var s,l,c=e.map(function(f){return f.coordinate===n&&(s=!0),f.coordinate===r&&(l=!0),f.coordinate});return s||c.push(n),l||c.push(r),c},cs=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,l=e.type,c=e.range,f=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,h=(n||r)&&l==="category"&&i.bandwidth?i.bandwidth()/f:0;if(h=e.axisType==="angleAxis"&&(c==null?void 0:c.length)>=2?jr(c[0]-c[1])*2*h:h,n&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(m){var v=s?s.indexOf(m):m;return{coordinate:i(v)+h,value:m,offset:h}});return p.filter(function(m){return!jd(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,v){return{coordinate:i(m)+h,value:m,index:v,offset:h}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+h,value:m,offset:h}}):i.domain().map(function(m,v){return{coordinate:i(m)+h,value:s?s[m]:m,index:v,offset:h}})},Qw=new WeakMap,_m=function(e,n){if(typeof n!="function")return e;Qw.has(e)||Qw.set(e,new WeakMap);var r=Qw.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},DV=function(e,n,r){var i=e.scale,s=e.type,l=e.layout,c=e.axisType;if(i==="auto")return l==="radial"&&c==="radiusAxis"?{scale:Wh(),realScaleType:"band"}:l==="radial"&&c==="angleAxis"?{scale:Eg(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Oh(),realScaleType:"point"}:s==="category"?{scale:Wh(),realScaleType:"band"}:{scale:Eg(),realScaleType:"linear"};if(jl(i)){var f="scale".concat(jy(i));return{scale:(xj[f]||Oh)(),realScaleType:xj[f]?f:"point"}}return rt(i)?{scale:i}:{scale:Oh(),realScaleType:"point"}},Lj=1e-4,LV=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-Lj,l=Math.max(i[0],i[1])+Lj,c=e(n[0]),f=e(n[r-1]);(c<s||c>l||f<s||f>l)&&e.domain([n[0],n[r-1]])}},ine=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},ane=function(e,n){if(!n||n.length!==2||!Ce(n[0])||!Ce(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!Ce(e[0])||e[0]<r)&&(s[0]=r),(!Ce(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},sne=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,l=0,c=0;c<n;++c){var f=jd(e[c][r][1])?e[c][r][0]:e[c][r][1];f>=0?(e[c][r][0]=s,e[c][r][1]=s+f,s=e[c][r][1]):(e[c][r][0]=l,e[c][r][1]=l+f,l=e[c][r][1])}},one=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,l=0;l<n;++l){var c=jd(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=s,e[l][r][1]=s+c,s=e[l][r][1]):(e[l][r][0]=0,e[l][r][1]=0)}},lne={sign:sne,expand:YW,none:yc,silhouette:XW,wiggle:QW,positive:one},une=function(e,n,r){var i=n.map(function(c){return c.props.dataKey}),s=lne[r],l=WW().keys(i).value(function(c,f){return+Xn(c,f,0)}).order(xS).offset(s);return l(e)},cne=function(e,n,r,i,s,l){if(!e)return null;var c=l?n.reverse():n,f={},h=c.reduce(function(m,v){var _,E=(_=v.type)!==null&&_!==void 0&&_.defaultProps?Cn(Cn({},v.type.defaultProps),v.props):v.props,S=E.stackId,w=E.hide;if(w)return m;var O=E[r],I=m[O]||{hasStack:!1,stackGroups:{}};if(Jn(S)){var N=I.stackGroups[S]||{numericAxisId:r,cateAxisId:i,items:[]};N.items.push(v),I.hasStack=!0,I.stackGroups[S]=N}else I.stackGroups[Jc("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[v]};return Cn(Cn({},m),{},oc({},O,I))},f),p={};return Object.keys(h).reduce(function(m,v){var _=h[v];if(_.hasStack){var E={};_.stackGroups=Object.keys(_.stackGroups).reduce(function(S,w){var O=_.stackGroups[w];return Cn(Cn({},S),{},oc({},w,{numericAxisId:r,cateAxisId:i,items:O.items,stackedData:une(e,O.items,s)}))},E)}return Cn(Cn({},m),{},oc({},v,_))},p)},VV=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,l=n.originalDomain,c=n.allowDecimals,f=r||n.scale;if(f!=="auto"&&f!=="linear")return null;if(s&&i==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var h=e.domain();if(!h.length)return null;var p=Ete(h,s,c);return e.domain([Qy(p),Xy(p)]),{niceTicks:p}}if(s&&i==="number"){var m=e.domain(),v=Tte(m,s,c);return{niceTicks:v}}return null};function Vj(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,l=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ct(i[e.dataKey])){var c=sg(n,"value",i[e.dataKey]);if(c)return c.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var f=Xn(i,ct(l)?e.dataKey:l);return ct(f)?null:e.scale(f)}var $j=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,l=e.entry,c=e.index;if(n.type==="category")return r[c]?r[c].coordinate+i:null;var f=Xn(l,n.dataKey,n.domain[c]);return ct(f)?null:n.scale(f)-s/2+i},fne=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},hne=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Cn(Cn({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Jn(s)){var l=n[s];if(l){var c=l.items.indexOf(e);return c>=0?l.stackedData[c]:null}}return null},dne=function(e){return e.reduce(function(n,r){return[Qy(r.concat([n[0]]).filter(Ce)),Xy(r.concat([n[1]]).filter(Ce))]},[1/0,-1/0])},$V=function(e,n,r){return Object.keys(e).reduce(function(i,s){var l=e[s],c=l.stackedData,f=c.reduce(function(h,p){var m=dne(p.slice(n,r+1));return[Math.min(h[0],m[0]),Math.max(h[1],m[1])]},[1/0,-1/0]);return[Math.min(f[0],i[0]),Math.max(f[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Uj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Bj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,GS=function(e,n,r){if(rt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Ce(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(Uj.test(e[0])){var s=+Uj.exec(e[0])[1];i[0]=n[0]-s}else rt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Ce(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(Bj.test(e[1])){var l=+Bj.exec(e[1])[1];i[1]=n[1]+l}else rt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Rg=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=WT(n,function(m){return m.coordinate}),l=1/0,c=1,f=s.length;c<f;c++){var h=s[c],p=s[c-1];l=Math.min((h.coordinate||0)-(p.coordinate||0),l)}return l===1/0?0:l}return r?void 0:0},qj=function(e,n,r){return!e||!e.length||Bd(e,di(r,"type.defaultProps.domain"))?n:e},UV=function(e,n){var r=e.type.defaultProps?Cn(Cn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,l=r.unit,c=r.formatter,f=r.tooltipType,h=r.chartType,p=r.hide;return Cn(Cn({},Je(e,!1)),{},{dataKey:i,unit:l,formatter:c,name:s||i,color:_A(e),value:Xn(n,i),type:f,payload:n,chartType:h,hide:p})};function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function zj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function is(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zj(Object(n),!0).forEach(function(r){BV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BV(t,e,n){return e=pne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pne(t){var e=mne(t,"string");return rd(e)=="symbol"?e:e+""}function mne(t,e){if(rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gne(t,e){return _ne(t)||bne(t,e)||vne(t,e)||yne()}function yne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vne(t,e){if(t){if(typeof t=="string")return Fj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fj(t,e)}}function Fj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,c=[],f=!0,h=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function _ne(t){if(Array.isArray(t))return t}var Ng=Math.PI/180,xne=function(e){return e*180/Math.PI},fn=function(e,n,r,i){return{x:e+Math.cos(-Ng*i)*r,y:n+Math.sin(-Ng*i)*r}},qV=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},wne=function(e,n,r,i,s){var l=e.width,c=e.height,f=e.startAngle,h=e.endAngle,p=Dr(e.cx,l,l/2),m=Dr(e.cy,c,c/2),v=qV(l,c,r),_=Dr(e.innerRadius,v,0),E=Dr(e.outerRadius,v,v*.8),S=Object.keys(n);return S.reduce(function(w,O){var I=n[O],N=I.domain,L=I.reversed,C;if(ct(I.range))i==="angleAxis"?C=[f,h]:i==="radiusAxis"&&(C=[_,E]),L&&(C=[C[1],C[0]]);else{C=I.range;var M=C,A=gne(M,2);f=A[0],h=A[1]}var P=DV(I,s),k=P.realScaleType,U=P.scale;U.domain(N).range(C),LV(U);var D=VV(U,is(is({},I),{},{realScaleType:k})),B=is(is(is({},I),D),{},{range:C,radius:E,realScaleType:k,scale:U,cx:p,cy:m,innerRadius:_,outerRadius:E,startAngle:f,endAngle:h});return is(is({},w),{},BV({},O,B))},{})},Sne=function(e,n){var r=e.x,i=e.y,s=n.x,l=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-l,2))},Ene=function(e,n){var r=e.x,i=e.y,s=n.cx,l=n.cy,c=Sne({x:r,y:i},{x:s,y:l});if(c<=0)return{radius:c};var f=(r-s)/c,h=Math.acos(f);return i>l&&(h=2*Math.PI-h),{radius:c,angle:xne(h),angleInRadian:h}},Tne=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(i,s);return{startAngle:n-l*360,endAngle:r-l*360}},Ane=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),l=Math.floor(i/360),c=Math.min(s,l);return e+c*360},Hj=function(e,n){var r=e.x,i=e.y,s=Ene({x:r,y:i},n),l=s.radius,c=s.angle,f=n.innerRadius,h=n.outerRadius;if(l<f||l>h)return!1;if(l===0)return!0;var p=Tne(n),m=p.startAngle,v=p.endAngle,_=c,E;if(m<=v){for(;_>v;)_-=360;for(;_<m;)_+=360;E=_>=m&&_<=v}else{for(;_>m;)_-=360;for(;_<v;)_+=360;E=_>=v&&_<=m}return E?is(is({},n),{},{radius:l,angle:Ane(_,n)}):null},zV=function(e){return!$.isValidElement(e)&&!rt(e)&&typeof e!="boolean"?e.className:""};function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}var One=["offset"];function Cne(t){return Nne(t)||Rne(t)||Pne(t)||Ine()}function Ine(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pne(t,e){if(t){if(typeof t=="string")return KS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KS(t,e)}}function Rne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nne(t){if(Array.isArray(t))return KS(t)}function KS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kne(t,e){if(t==null)return{};var n=Mne(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gj(Object(n),!0).forEach(function(r){jne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jne(t,e,n){return e=Dne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dne(t){var e=Lne(t,"string");return id(e)=="symbol"?e:e+""}function Lne(t,e){if(id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ad(){return ad=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ad.apply(this,arguments)}var Vne=function(e){var n=e.value,r=e.formatter,i=ct(e.children)?n:e.children;return rt(r)?r(i):i},$ne=function(e,n){var r=jr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Une=function(e,n,r){var i=e.position,s=e.viewBox,l=e.offset,c=e.className,f=s,h=f.cx,p=f.cy,m=f.innerRadius,v=f.outerRadius,_=f.startAngle,E=f.endAngle,S=f.clockWise,w=(m+v)/2,O=$ne(_,E),I=O>=0?1:-1,N,L;i==="insideStart"?(N=_+I*l,L=S):i==="insideEnd"?(N=E-I*l,L=!S):i==="end"&&(N=E+I*l,L=S),L=O<=0?L:!L;var C=fn(h,p,w,N),M=fn(h,p,w,N+(L?1:-1)*359),A="M".concat(C.x,",").concat(C.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(L?0:1,`,
    `).concat(M.x,",").concat(M.y),P=ct(e.id)?Jc("recharts-radial-line-"):e.id;return G.createElement("text",ad({},r,{dominantBaseline:"central",className:bt("recharts-radial-bar-label",c)}),G.createElement("defs",null,G.createElement("path",{id:P,d:A})),G.createElement("textPath",{xlinkHref:"#".concat(P)},n))},Bne=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,l=s.cx,c=s.cy,f=s.innerRadius,h=s.outerRadius,p=s.startAngle,m=s.endAngle,v=(p+m)/2;if(i==="outside"){var _=fn(l,c,h+r,v),E=_.x,S=_.y;return{x:E,y:S,textAnchor:E>=l?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:l,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:l,y:c,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:l,y:c,textAnchor:"middle",verticalAnchor:"end"};var w=(f+h)/2,O=fn(l,c,w,v),I=O.x,N=O.y;return{x:I,y:N,textAnchor:"middle",verticalAnchor:"middle"}},qne=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,l=n,c=l.x,f=l.y,h=l.width,p=l.height,m=p>=0?1:-1,v=m*i,_=m>0?"end":"start",E=m>0?"start":"end",S=h>=0?1:-1,w=S*i,O=S>0?"end":"start",I=S>0?"start":"end";if(s==="top"){var N={x:c+h/2,y:f-m*i,textAnchor:"middle",verticalAnchor:_};return Wn(Wn({},N),r?{height:Math.max(f-r.y,0),width:h}:{})}if(s==="bottom"){var L={x:c+h/2,y:f+p+v,textAnchor:"middle",verticalAnchor:E};return Wn(Wn({},L),r?{height:Math.max(r.y+r.height-(f+p),0),width:h}:{})}if(s==="left"){var C={x:c-w,y:f+p/2,textAnchor:O,verticalAnchor:"middle"};return Wn(Wn({},C),r?{width:Math.max(C.x-r.x,0),height:p}:{})}if(s==="right"){var M={x:c+h+w,y:f+p/2,textAnchor:I,verticalAnchor:"middle"};return Wn(Wn({},M),r?{width:Math.max(r.x+r.width-M.x,0),height:p}:{})}var A=r?{width:h,height:p}:{};return s==="insideLeft"?Wn({x:c+w,y:f+p/2,textAnchor:I,verticalAnchor:"middle"},A):s==="insideRight"?Wn({x:c+h-w,y:f+p/2,textAnchor:O,verticalAnchor:"middle"},A):s==="insideTop"?Wn({x:c+h/2,y:f+v,textAnchor:"middle",verticalAnchor:E},A):s==="insideBottom"?Wn({x:c+h/2,y:f+p-v,textAnchor:"middle",verticalAnchor:_},A):s==="insideTopLeft"?Wn({x:c+w,y:f+v,textAnchor:I,verticalAnchor:E},A):s==="insideTopRight"?Wn({x:c+h-w,y:f+v,textAnchor:O,verticalAnchor:E},A):s==="insideBottomLeft"?Wn({x:c+w,y:f+p-v,textAnchor:I,verticalAnchor:_},A):s==="insideBottomRight"?Wn({x:c+h-w,y:f+p-v,textAnchor:O,verticalAnchor:_},A):Qc(s)&&(Ce(s.x)||xl(s.x))&&(Ce(s.y)||xl(s.y))?Wn({x:c+Dr(s.x,h),y:f+Dr(s.y,p),textAnchor:"end",verticalAnchor:"end"},A):Wn({x:c+h/2,y:f+p/2,textAnchor:"middle",verticalAnchor:"middle"},A)},zne=function(e){return"cx"in e&&Ce(e.cx)};function ir(t){var e=t.offset,n=e===void 0?5:e,r=kne(t,One),i=Wn({offset:n},r),s=i.viewBox,l=i.position,c=i.value,f=i.children,h=i.content,p=i.className,m=p===void 0?"":p,v=i.textBreakAll;if(!s||ct(c)&&ct(f)&&!$.isValidElement(h)&&!rt(h))return null;if($.isValidElement(h))return $.cloneElement(h,i);var _;if(rt(h)){if(_=$.createElement(h,i),$.isValidElement(_))return _}else _=Vne(i);var E=zne(s),S=Je(i,!0);if(E&&(l==="insideStart"||l==="insideEnd"||l==="end"))return Une(i,_,S);var w=E?Bne(i):qne(i);return G.createElement(Ll,ad({className:bt("recharts-label",m)},S,w,{breakAll:v}),_)}ir.displayName="Label";var FV=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,l=e.endAngle,c=e.r,f=e.radius,h=e.innerRadius,p=e.outerRadius,m=e.x,v=e.y,_=e.top,E=e.left,S=e.width,w=e.height,O=e.clockWise,I=e.labelViewBox;if(I)return I;if(Ce(S)&&Ce(w)){if(Ce(m)&&Ce(v))return{x:m,y:v,width:S,height:w};if(Ce(_)&&Ce(E))return{x:_,y:E,width:S,height:w}}return Ce(m)&&Ce(v)?{x:m,y:v,width:0,height:0}:Ce(n)&&Ce(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:l||i||0,innerRadius:h||0,outerRadius:p||f||c||0,clockWise:O}:e.viewBox?e.viewBox:{}},Fne=function(e,n){return e?e===!0?G.createElement(ir,{key:"label-implicit",viewBox:n}):Jn(e)?G.createElement(ir,{key:"label-implicit",viewBox:n,value:e}):$.isValidElement(e)?e.type===ir?$.cloneElement(e,{key:"label-implicit",viewBox:n}):G.createElement(ir,{key:"label-implicit",content:e,viewBox:n}):rt(e)?G.createElement(ir,{key:"label-implicit",content:e,viewBox:n}):Qc(e)?G.createElement(ir,ad({viewBox:n},e,{key:"label-implicit"})):null:null},Hne=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=FV(e),l=pi(i,ir).map(function(f,h){return $.cloneElement(f,{viewBox:n||s,key:"label-".concat(h)})});if(!r)return l;var c=Fne(e.label,n||s);return[c].concat(Cne(l))};ir.parseViewBox=FV;ir.renderCallByParent=Hne;var Jw,Kj;function Gne(){if(Kj)return Jw;Kj=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return Jw=t,Jw}var Kne=Gne();const Wne=Gt(Kne);function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}var Yne=["valueAccessor"],Xne=["data","dataKey","clockWise","id","textBreakAll"];function Qne(t){return tre(t)||ere(t)||Zne(t)||Jne()}function Jne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zne(t,e){if(t){if(typeof t=="string")return WS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WS(t,e)}}function ere(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tre(t){if(Array.isArray(t))return WS(t)}function WS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kg(){return kg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kg.apply(this,arguments)}function Wj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wj(Object(n),!0).forEach(function(r){nre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nre(t,e,n){return e=rre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rre(t){var e=ire(t,"string");return sd(e)=="symbol"?e:e+""}function ire(t,e){if(sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xj(t,e){if(t==null)return{};var n=are(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function are(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var sre=function(e){return Array.isArray(e.value)?Wne(e.value):e.value};function ds(t){var e=t.valueAccessor,n=e===void 0?sre:e,r=Xj(t,Yne),i=r.data,s=r.dataKey,l=r.clockWise,c=r.id,f=r.textBreakAll,h=Xj(r,Xne);return!i||!i.length?null:G.createElement(qt,{className:"recharts-label-list"},i.map(function(p,m){var v=ct(s)?n(p,m):Xn(p&&p.payload,s),_=ct(c)?{}:{id:"".concat(c,"-").concat(m)};return G.createElement(ir,kg({},Je(p,!0),h,_,{parentViewBox:p.parentViewBox,value:v,textBreakAll:f,viewBox:ir.parseViewBox(ct(l)?p:Yj(Yj({},p),{},{clockWise:l})),key:"label-".concat(m),index:m}))}))}ds.displayName="LabelList";function ore(t,e){return t?t===!0?G.createElement(ds,{key:"labelList-implicit",data:e}):G.isValidElement(t)||rt(t)?G.createElement(ds,{key:"labelList-implicit",data:e,content:t}):Qc(t)?G.createElement(ds,kg({data:e},t,{key:"labelList-implicit"})):null:null}function lre(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=pi(r,ds).map(function(l,c){return $.cloneElement(l,{data:e,key:"labelList-".concat(c)})});if(!n)return i;var s=ore(t.label,e);return[s].concat(Qne(i))}ds.renderCallByParent=lre;function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function YS(){return YS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YS.apply(this,arguments)}function Qj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qj(Object(n),!0).forEach(function(r){ure(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ure(t,e,n){return e=cre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cre(t){var e=fre(t,"string");return od(e)=="symbol"?e:e+""}function fre(t,e){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hre=function(e,n){var r=jr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},xm=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,l=e.sign,c=e.isExternal,f=e.cornerRadius,h=e.cornerIsExternal,p=f*(c?1:-1)+i,m=Math.asin(f/p)/Ng,v=h?s:s+l*m,_=fn(n,r,p,v),E=fn(n,r,i,v),S=h?s-l*m:s,w=fn(n,r,p*Math.cos(m*Ng),S);return{center:_,circleTangency:E,lineTangency:w,theta:m}},HV=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,l=e.startAngle,c=e.endAngle,f=hre(l,c),h=l+f,p=fn(n,r,s,l),m=fn(n,r,s,h),v="M ".concat(p.x,",").concat(p.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(f)>180),",").concat(+(l>h),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var _=fn(n,r,i,l),E=fn(n,r,i,h);v+="L ".concat(E.x,",").concat(E.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(f)>180),",").concat(+(l<=h),`,
            `).concat(_.x,",").concat(_.y," Z")}else v+="L ".concat(n,",").concat(r," Z");return v},dre=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,l=e.cornerRadius,c=e.forceCornerRadius,f=e.cornerIsExternal,h=e.startAngle,p=e.endAngle,m=jr(p-h),v=xm({cx:n,cy:r,radius:s,angle:h,sign:m,cornerRadius:l,cornerIsExternal:f}),_=v.circleTangency,E=v.lineTangency,S=v.theta,w=xm({cx:n,cy:r,radius:s,angle:p,sign:-m,cornerRadius:l,cornerIsExternal:f}),O=w.circleTangency,I=w.lineTangency,N=w.theta,L=f?Math.abs(h-p):Math.abs(h-p)-S-N;if(L<0)return c?"M ".concat(E.x,",").concat(E.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):HV({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:h,endAngle:p});var C="M ".concat(E.x,",").concat(E.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(L>180),",").concat(+(m<0),",").concat(O.x,",").concat(O.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(I.x,",").concat(I.y,`
  `);if(i>0){var M=xm({cx:n,cy:r,radius:i,angle:h,sign:m,isExternal:!0,cornerRadius:l,cornerIsExternal:f}),A=M.circleTangency,P=M.lineTangency,k=M.theta,U=xm({cx:n,cy:r,radius:i,angle:p,sign:-m,isExternal:!0,cornerRadius:l,cornerIsExternal:f}),D=U.circleTangency,B=U.lineTangency,V=U.theta,Q=f?Math.abs(h-p):Math.abs(h-p)-k-V;if(Q<0&&l===0)return"".concat(C,"L").concat(n,",").concat(r,"Z");C+="L".concat(B.x,",").concat(B.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Q>180),",").concat(+(m>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(P.x,",").concat(P.y,"Z")}else C+="L".concat(n,",").concat(r,"Z");return C},pre={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},xA=function(e){var n=Jj(Jj({},pre),e),r=n.cx,i=n.cy,s=n.innerRadius,l=n.outerRadius,c=n.cornerRadius,f=n.forceCornerRadius,h=n.cornerIsExternal,p=n.startAngle,m=n.endAngle,v=n.className;if(l<s||p===m)return null;var _=bt("recharts-sector",v),E=l-s,S=Dr(c,E,0,!0),w;return S>0&&Math.abs(p-m)<360?w=dre({cx:r,cy:i,innerRadius:s,outerRadius:l,cornerRadius:Math.min(S,E/2),forceCornerRadius:f,cornerIsExternal:h,startAngle:p,endAngle:m}):w=HV({cx:r,cy:i,innerRadius:s,outerRadius:l,startAngle:p,endAngle:m}),G.createElement("path",YS({},Je(n,!0),{className:_,d:w,role:"img"}))};function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function XS(){return XS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XS.apply(this,arguments)}function Zj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zj(Object(n),!0).forEach(function(r){mre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mre(t,e,n){return e=gre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gre(t){var e=yre(t,"string");return ld(e)=="symbol"?e:e+""}function yre(t,e){if(ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tD={curveBasisClosed:LW,curveBasisOpen:VW,curveBasis:DW,curveBumpX:wW,curveBumpY:SW,curveLinearClosed:$W,curveLinear:Ly,curveMonotoneX:UW,curveMonotoneY:BW,curveNatural:qW,curveStep:zW,curveStepAfter:HW,curveStepBefore:FW},wm=function(e){return e.x===+e.x&&e.y===+e.y},ih=function(e){return e.x},ah=function(e){return e.y},vre=function(e,n){if(rt(e))return e;var r="curve".concat(jy(e));return(r==="curveMonotone"||r==="curveBump")&&n?tD["".concat(r).concat(n==="vertical"?"Y":"X")]:tD[r]||Ly},bre=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,l=e.baseLine,c=e.layout,f=e.connectNulls,h=f===void 0?!1:f,p=vre(r,c),m=h?s.filter(function(S){return wm(S)}):s,v;if(Array.isArray(l)){var _=h?l.filter(function(S){return wm(S)}):l,E=m.map(function(S,w){return eD(eD({},S),{},{base:_[w]})});return c==="vertical"?v=dm().y(ah).x1(ih).x0(function(S){return S.base.x}):v=dm().x(ih).y1(ah).y0(function(S){return S.base.y}),v.defined(wm).curve(p),v(E)}return c==="vertical"&&Ce(l)?v=dm().y(ah).x1(ih).x0(l):Ce(l)?v=dm().x(ih).y1(ah).y0(l):v=z6().x(ih).y(ah),v.defined(wm).curve(p),v(m)},Mg=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var l=r&&r.length?bre(e):i;return $.createElement("path",XS({},Je(e,!1),og(e),{className:bt("recharts-curve",n),d:l,ref:s}))},Zw={exports:{}},e1,nD;function _re(){if(nD)return e1;nD=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return e1=t,e1}var t1,rD;function xre(){if(rD)return t1;rD=1;var t=_re();function e(){}function n(){}return n.resetWarningCache=e,t1=function(){function r(l,c,f,h,p,m){if(m!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},t1}var iD;function wre(){return iD||(iD=1,Zw.exports=xre()()),Zw.exports}var Sre=wre();const Yt=Gt(Sre);var Ere=Object.getOwnPropertyNames,Tre=Object.getOwnPropertySymbols,Are=Object.prototype.hasOwnProperty;function aD(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function Sm(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,l=s.get(n),c=s.get(r);if(l&&c)return l===r&&c===n;s.set(n,r),s.set(r,n);var f=t(n,r,i);return s.delete(n),s.delete(r),f}}function Ore(t){return t!=null?t[Symbol.toStringTag]:void 0}function sD(t){return Ere(t).concat(Tre(t))}var Cre=Object.hasOwn||(function(t,e){return Are.call(t,e)});function Yl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Ire="__v",Pre="__o",Rre="_owner",oD=Object.getOwnPropertyDescriptor,lD=Object.keys;function Nre(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function kre(t,e){return Yl(t.getTime(),e.getTime())}function Mre(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function jre(t,e){return t===e}function uD(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),l,c,f=0;(l=s.next())&&!l.done;){for(var h=e.entries(),p=!1,m=0;(c=h.next())&&!c.done;){if(i[m]){m++;continue}var v=l.value,_=c.value;if(n.equals(v[0],_[0],f,m,t,e,n)&&n.equals(v[1],_[1],v[0],_[0],t,e,n)){p=i[m]=!0;break}m++}if(!p)return!1;f++}return!0}var Dre=Yl;function Lre(t,e,n){var r=lD(t),i=r.length;if(lD(e).length!==i)return!1;for(;i-- >0;)if(!GV(t,e,n,r[i]))return!1;return!0}function sh(t,e,n){var r=sD(t),i=r.length;if(sD(e).length!==i)return!1;for(var s,l,c;i-- >0;)if(s=r[i],!GV(t,e,n,s)||(l=oD(t,s),c=oD(e,s),(l||c)&&(!l||!c||l.configurable!==c.configurable||l.enumerable!==c.enumerable||l.writable!==c.writable)))return!1;return!0}function Vre(t,e){return Yl(t.valueOf(),e.valueOf())}function $re(t,e){return t.source===e.source&&t.flags===e.flags}function cD(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),l,c;(l=s.next())&&!l.done;){for(var f=e.values(),h=!1,p=0;(c=f.next())&&!c.done;){if(!i[p]&&n.equals(l.value,c.value,l.value,c.value,t,e,n)){h=i[p]=!0;break}p++}if(!h)return!1}return!0}function Ure(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Bre(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function GV(t,e,n,r){return(r===Rre||r===Pre||r===Ire)&&(t.$$typeof||e.$$typeof)?!0:Cre(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var qre="[object Arguments]",zre="[object Boolean]",Fre="[object Date]",Hre="[object Error]",Gre="[object Map]",Kre="[object Number]",Wre="[object Object]",Yre="[object RegExp]",Xre="[object Set]",Qre="[object String]",Jre="[object URL]",Zre=Array.isArray,fD=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,hD=Object.assign,eie=Object.prototype.toString.call.bind(Object.prototype.toString);function tie(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,l=t.areNumbersEqual,c=t.areObjectsEqual,f=t.arePrimitiveWrappersEqual,h=t.areRegExpsEqual,p=t.areSetsEqual,m=t.areTypedArraysEqual,v=t.areUrlsEqual,_=t.unknownTagComparators;return function(S,w,O){if(S===w)return!0;if(S==null||w==null)return!1;var I=typeof S;if(I!==typeof w)return!1;if(I!=="object")return I==="number"?l(S,w,O):I==="function"?i(S,w,O):!1;var N=S.constructor;if(N!==w.constructor)return!1;if(N===Object)return c(S,w,O);if(Zre(S))return e(S,w,O);if(fD!=null&&fD(S))return m(S,w,O);if(N===Date)return n(S,w,O);if(N===RegExp)return h(S,w,O);if(N===Map)return s(S,w,O);if(N===Set)return p(S,w,O);var L=eie(S);if(L===Fre)return n(S,w,O);if(L===Yre)return h(S,w,O);if(L===Gre)return s(S,w,O);if(L===Xre)return p(S,w,O);if(L===Wre)return typeof S.then!="function"&&typeof w.then!="function"&&c(S,w,O);if(L===Jre)return v(S,w,O);if(L===Hre)return r(S,w,O);if(L===qre)return c(S,w,O);if(L===zre||L===Kre||L===Qre)return f(S,w,O);if(_){var C=_[L];if(!C){var M=Ore(S);M&&(C=_[M])}if(C)return C(S,w,O)}return!1}}function nie(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?sh:Nre,areDatesEqual:kre,areErrorsEqual:Mre,areFunctionsEqual:jre,areMapsEqual:r?aD(uD,sh):uD,areNumbersEqual:Dre,areObjectsEqual:r?sh:Lre,arePrimitiveWrappersEqual:Vre,areRegExpsEqual:$re,areSetsEqual:r?aD(cD,sh):cD,areTypedArraysEqual:r?sh:Ure,areUrlsEqual:Bre,unknownTagComparators:void 0};if(n&&(i=hD({},i,n(i))),e){var s=Sm(i.areArraysEqual),l=Sm(i.areMapsEqual),c=Sm(i.areObjectsEqual),f=Sm(i.areSetsEqual);i=hD({},i,{areArraysEqual:s,areMapsEqual:l,areObjectsEqual:c,areSetsEqual:f})}return i}function rie(t){return function(e,n,r,i,s,l,c){return t(e,n,c)}}function iie(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(f,h){var p=r(),m=p.cache,v=m===void 0?e?new WeakMap:void 0:m,_=p.meta;return n(f,h,{cache:v,equals:i,meta:_,strict:s})};if(e)return function(f,h){return n(f,h,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var l={cache:void 0,equals:i,meta:void 0,strict:s};return function(f,h){return n(f,h,l)}}var aie=Ro();Ro({strict:!0});Ro({circular:!0});Ro({circular:!0,strict:!0});Ro({createInternalComparator:function(){return Yl}});Ro({strict:!0,createInternalComparator:function(){return Yl}});Ro({circular:!0,createInternalComparator:function(){return Yl}});Ro({circular:!0,createInternalComparator:function(){return Yl},strict:!0});function Ro(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,l=s===void 0?!1:s,c=nie(t),f=tie(c),h=r?r(f):rie(f);return iie({circular:n,comparator:f,createState:i,equals:h,strict:l})}function sie(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function dD(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):sie(i)};requestAnimationFrame(r)}function QS(t){"@babel/helpers - typeof";return QS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QS(t)}function oie(t){return fie(t)||cie(t)||uie(t)||lie()}function lie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uie(t,e){if(t){if(typeof t=="string")return pD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pD(t,e)}}function pD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fie(t){if(Array.isArray(t))return t}function hie(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var l=s,c=oie(l),f=c[0],h=c.slice(1);if(typeof f=="number"){dD(i.bind(null,h),f);return}i(f),dD(i.bind(null,h));return}QS(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function mD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mD(Object(n),!0).forEach(function(r){KV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KV(t,e,n){return e=die(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function die(t){var e=pie(t,"string");return ud(e)==="symbol"?e:String(e)}function pie(t,e){if(ud(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ud(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mie=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},gie=function(e){return e},yie=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Ih=function(e,n){return Object.keys(n).reduce(function(r,i){return gD(gD({},r),{},KV({},i,e(i,n[i])))},{})},yD=function(e,n,r){return e.map(function(i){return"".concat(yie(i)," ").concat(n,"ms ").concat(r)}).join(",")};function vie(t,e){return xie(t)||_ie(t,e)||WV(t,e)||bie()}function bie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,c=[],f=!0,h=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function xie(t){if(Array.isArray(t))return t}function wie(t){return Tie(t)||Eie(t)||WV(t)||Sie()}function Sie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WV(t,e){if(t){if(typeof t=="string")return JS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JS(t,e)}}function Eie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tie(t){if(Array.isArray(t))return JS(t)}function JS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var jg=1e-4,YV=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},XV=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},vD=function(e,n){return function(r){var i=YV(e,n);return XV(i,r)}},Aie=function(e,n){return function(r){var i=YV(e,n),s=[].concat(wie(i.map(function(l,c){return l*c}).slice(1)),[0]);return XV(s,r)}},bD=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],l=n[2],c=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,l=1,c=1;break;case"ease":i=.25,s=.1,l=.25,c=1;break;case"ease-in":i=.42,s=0,l=1,c=1;break;case"ease-out":i=.42,s=0,l=.58,c=1;break;case"ease-in-out":i=0,s=0,l=.58,c=1;break;default:{var f=n[0].split("(");if(f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4){var h=f[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),p=vie(h,4);i=p[0],s=p[1],l=p[2],c=p[3]}}}var m=vD(i,l),v=vD(s,c),_=Aie(i,l),E=function(O){return O>1?1:O<0?0:O},S=function(O){for(var I=O>1?1:O,N=I,L=0;L<8;++L){var C=m(N)-I,M=_(N);if(Math.abs(C-I)<jg||M<jg)return v(N);N=E(N-C/M)}return v(N)};return S.isStepper=!1,S},Oie=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,l=e.dt,c=l===void 0?17:l,f=function(p,m,v){var _=-(p-m)*r,E=v*s,S=v+(_-E)*c/1e3,w=v*c/1e3+p;return Math.abs(w-m)<jg&&Math.abs(S)<jg?[m,0]:[w,S]};return f.isStepper=!0,f.dt=c,f},Cie=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return bD(i);case"spring":return Oie();default:if(i.split("(")[0]==="cubic-bezier")return bD(i)}return typeof i=="function"?i:null};function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function _D(t){return Rie(t)||Pie(t)||QV(t)||Iie()}function Iie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rie(t){if(Array.isArray(t))return eE(t)}function xD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xD(Object(n),!0).forEach(function(r){ZS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZS(t,e,n){return e=Nie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nie(t){var e=kie(t,"string");return cd(e)==="symbol"?e:String(e)}function kie(t,e){if(cd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mie(t,e){return Lie(t)||Die(t,e)||QV(t,e)||jie()}function jie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QV(t,e){if(t){if(typeof t=="string")return eE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eE(t,e)}}function eE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Die(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,c=[],f=!0,h=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function Lie(t){if(Array.isArray(t))return t}var Dg=function(e,n,r){return e+(n-e)*r},tE=function(e){var n=e.from,r=e.to;return n!==r},Vie=function t(e,n,r){var i=Ih(function(s,l){if(tE(l)){var c=e(l.from,l.to,l.velocity),f=Mie(c,2),h=f[0],p=f[1];return pr(pr({},l),{},{from:h,velocity:p})}return l},n);return r<1?Ih(function(s,l){return tE(l)?pr(pr({},l),{},{velocity:Dg(l.velocity,i[s].velocity,r),from:Dg(l.from,i[s].from,r)}):l},n):t(e,i,r-1)};const $ie=(function(t,e,n,r,i){var s=mie(t,e),l=s.reduce(function(w,O){return pr(pr({},w),{},ZS({},O,[t[O],e[O]]))},{}),c=s.reduce(function(w,O){return pr(pr({},w),{},ZS({},O,{from:t[O],velocity:0,to:e[O]}))},{}),f=-1,h,p,m=function(){return null},v=function(){return Ih(function(O,I){return I.from},c)},_=function(){return!Object.values(c).filter(tE).length},E=function(O){h||(h=O);var I=O-h,N=I/n.dt;c=Vie(n,c,N),i(pr(pr(pr({},t),e),v())),h=O,_()||(f=requestAnimationFrame(m))},S=function(O){p||(p=O);var I=(O-p)/r,N=Ih(function(C,M){return Dg.apply(void 0,_D(M).concat([n(I)]))},l);if(i(pr(pr(pr({},t),e),N)),I<1)f=requestAnimationFrame(m);else{var L=Ih(function(C,M){return Dg.apply(void 0,_D(M).concat([n(1)]))},l);i(pr(pr(pr({},t),e),L))}};return m=n.isStepper?E:S,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(f)}}});function Ac(t){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}var Uie=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Bie(t,e){if(t==null)return{};var n=qie(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qie(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function n1(t){return Gie(t)||Hie(t)||Fie(t)||zie()}function zie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fie(t,e){if(t){if(typeof t=="string")return nE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nE(t,e)}}function Hie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gie(t){if(Array.isArray(t))return nE(t)}function nE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wD(Object(n),!0).forEach(function(r){vh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vh(t,e,n){return e=JV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JV(r.key),r)}}function Yie(t,e,n){return e&&Wie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function JV(t){var e=Xie(t,"string");return Ac(e)==="symbol"?e:String(e)}function Xie(t,e){if(Ac(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ac(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rE(t,e)}function rE(t,e){return rE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rE(t,e)}function Jie(t){var e=Zie();return function(){var r=Lg(t),i;if(e){var s=Lg(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return iE(this,i)}}function iE(t,e){if(e&&(Ac(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aE(t)}function aE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zie(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lg(t){return Lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lg(t)}var Na=(function(t){Qie(n,t);var e=Jie(n);function n(r,i){var s;Kie(this,n),s=e.call(this,r,i);var l=s.props,c=l.isActive,f=l.attributeName,h=l.from,p=l.to,m=l.steps,v=l.children,_=l.duration;if(s.handleStyleChange=s.handleStyleChange.bind(aE(s)),s.changeStyle=s.changeStyle.bind(aE(s)),!c||_<=0)return s.state={style:{}},typeof v=="function"&&(s.state={style:p}),iE(s);if(m&&m.length)s.state={style:m[0].style};else if(h){if(typeof v=="function")return s.state={style:h},iE(s);s.state={style:f?vh({},f,h):h}}else s.state={style:{}};return s}return Yie(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,l=i.canBegin;this.mounted=!0,!(!s||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,l=s.isActive,c=s.canBegin,f=s.attributeName,h=s.shouldReAnimate,p=s.to,m=s.from,v=this.state.style;if(c){if(!l){var _={style:f?vh({},f,p):p};this.state&&v&&(f&&v[f]!==p||!f&&v!==p)&&this.setState(_);return}if(!(aie(i.to,p)&&i.canBegin&&i.isActive)){var E=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var S=E||h?m:i.to;if(this.state&&v){var w={style:f?vh({},f,S):S};(f&&v[f]!==S||!f&&v!==S)&&this.setState(w)}this.runAnimation(Wi(Wi({},this.props),{},{from:S,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,l=i.from,c=i.to,f=i.duration,h=i.easing,p=i.begin,m=i.onAnimationEnd,v=i.onAnimationStart,_=$ie(l,c,Cie(h),f,this.changeStyle),E=function(){s.stopJSAnimation=_()};this.manager.start([v,p,E,f,m])}},{key:"runStepAnimation",value:function(i){var s=this,l=i.steps,c=i.begin,f=i.onAnimationStart,h=l[0],p=h.style,m=h.duration,v=m===void 0?0:m,_=function(S,w,O){if(O===0)return S;var I=w.duration,N=w.easing,L=N===void 0?"ease":N,C=w.style,M=w.properties,A=w.onAnimationEnd,P=O>0?l[O-1]:w,k=M||Object.keys(C);if(typeof L=="function"||L==="spring")return[].concat(n1(S),[s.runJSAnimation.bind(s,{from:P.style,to:C,duration:I,easing:L}),I]);var U=yD(k,I,L),D=Wi(Wi(Wi({},P.style),C),{},{transition:U});return[].concat(n1(S),[D,I,A]).filter(gie)};return this.manager.start([f].concat(n1(l.reduce(_,[p,Math.max(v,c)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=hie());var s=i.begin,l=i.duration,c=i.attributeName,f=i.to,h=i.easing,p=i.onAnimationStart,m=i.onAnimationEnd,v=i.steps,_=i.children,E=this.manager;if(this.unSubscribe=E.subscribe(this.handleStyleChange),typeof h=="function"||typeof _=="function"||h==="spring"){this.runJSAnimation(i);return}if(v.length>1){this.runStepAnimation(i);return}var S=c?vh({},c,f):f,w=yD(Object.keys(S),l,h);E.start([p,s,Wi(Wi({},S),{},{transition:w}),l,m])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var l=i.duration;i.attributeName,i.easing;var c=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var f=Bie(i,Uie),h=$.Children.count(s),p=this.state.style;if(typeof s=="function")return s(p);if(!c||h===0||l<=0)return s;var m=function(_){var E=_.props,S=E.style,w=S===void 0?{}:S,O=E.className,I=$.cloneElement(_,Wi(Wi({},f),{},{style:Wi(Wi({},w),p),className:O}));return I};return h===1?m($.Children.only(s)):G.createElement("div",null,$.Children.map(s,function(v){return m(v)}))}}]),n})($.PureComponent);Na.displayName="Animate";Na.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Na.propTypes={from:Yt.oneOfType([Yt.object,Yt.string]),to:Yt.oneOfType([Yt.object,Yt.string]),attributeName:Yt.string,duration:Yt.number,begin:Yt.number,easing:Yt.oneOfType([Yt.string,Yt.func]),steps:Yt.arrayOf(Yt.shape({duration:Yt.number.isRequired,style:Yt.object.isRequired,easing:Yt.oneOfType([Yt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Yt.func]),properties:Yt.arrayOf("string"),onAnimationEnd:Yt.func})),children:Yt.oneOfType([Yt.node,Yt.func]),isActive:Yt.bool,canBegin:Yt.bool,onAnimationEnd:Yt.func,shouldReAnimate:Yt.bool,onAnimationStart:Yt.func,onAnimationReStart:Yt.func};function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}function Vg(){return Vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vg.apply(this,arguments)}function eae(t,e){return iae(t)||rae(t,e)||nae(t,e)||tae()}function tae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nae(t,e){if(t){if(typeof t=="string")return SD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SD(t,e)}}function SD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,c=[],f=!0,h=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function iae(t){if(Array.isArray(t))return t}function ED(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ED(Object(n),!0).forEach(function(r){aae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ED(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aae(t,e,n){return e=sae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sae(t){var e=oae(t,"string");return fd(e)=="symbol"?e:e+""}function oae(t,e){if(fd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AD=function(e,n,r,i,s){var l=Math.min(Math.abs(r)/2,Math.abs(i)/2),c=i>=0?1:-1,f=r>=0?1:-1,h=i>=0&&r>=0||i<0&&r<0?1:0,p;if(l>0&&s instanceof Array){for(var m=[0,0,0,0],v=0,_=4;v<_;v++)m[v]=s[v]>l?l:s[v];p="M".concat(e,",").concat(n+c*m[0]),m[0]>0&&(p+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(h,",").concat(e+f*m[0],",").concat(n)),p+="L ".concat(e+r-f*m[1],",").concat(n),m[1]>0&&(p+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(h,`,
        `).concat(e+r,",").concat(n+c*m[1])),p+="L ".concat(e+r,",").concat(n+i-c*m[2]),m[2]>0&&(p+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(h,`,
        `).concat(e+r-f*m[2],",").concat(n+i)),p+="L ".concat(e+f*m[3],",").concat(n+i),m[3]>0&&(p+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(h,`,
        `).concat(e,",").concat(n+i-c*m[3])),p+="Z"}else if(l>0&&s===+s&&s>0){var E=Math.min(l,s);p="M ".concat(e,",").concat(n+c*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(h,",").concat(e+f*E,",").concat(n,`
            L `).concat(e+r-f*E,",").concat(n,`
            A `).concat(E,",").concat(E,",0,0,").concat(h,",").concat(e+r,",").concat(n+c*E,`
            L `).concat(e+r,",").concat(n+i-c*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(h,",").concat(e+r-f*E,",").concat(n+i,`
            L `).concat(e+f*E,",").concat(n+i,`
            A `).concat(E,",").concat(E,",0,0,").concat(h,",").concat(e,",").concat(n+i-c*E," Z")}else p="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return p},lae=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,l=n.y,c=n.width,f=n.height;if(Math.abs(c)>0&&Math.abs(f)>0){var h=Math.min(s,s+c),p=Math.max(s,s+c),m=Math.min(l,l+f),v=Math.max(l,l+f);return r>=h&&r<=p&&i>=m&&i<=v}return!1},uae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wA=function(e){var n=TD(TD({},uae),e),r=$.useRef(),i=$.useState(-1),s=eae(i,2),l=s[0],c=s[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var L=r.current.getTotalLength();L&&c(L)}catch{}},[]);var f=n.x,h=n.y,p=n.width,m=n.height,v=n.radius,_=n.className,E=n.animationEasing,S=n.animationDuration,w=n.animationBegin,O=n.isAnimationActive,I=n.isUpdateAnimationActive;if(f!==+f||h!==+h||p!==+p||m!==+m||p===0||m===0)return null;var N=bt("recharts-rectangle",_);return I?G.createElement(Na,{canBegin:l>0,from:{width:p,height:m,x:f,y:h},to:{width:p,height:m,x:f,y:h},duration:S,animationEasing:E,isActive:I},function(L){var C=L.width,M=L.height,A=L.x,P=L.y;return G.createElement(Na,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:S,isActive:O,easing:E},G.createElement("path",Vg({},Je(n,!0),{className:N,d:AD(A,P,C,M,v),ref:r})))}):G.createElement("path",Vg({},Je(n,!0),{className:N,d:AD(f,h,p,m,v)}))},cae=["points","className","baseLinePoints","connectNulls"];function Xu(){return Xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xu.apply(this,arguments)}function fae(t,e){if(t==null)return{};var n=hae(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function OD(t){return gae(t)||mae(t)||pae(t)||dae()}function dae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pae(t,e){if(t){if(typeof t=="string")return sE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sE(t,e)}}function mae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gae(t){if(Array.isArray(t))return sE(t)}function sE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var CD=function(e){return e&&e.x===+e.x&&e.y===+e.y},yae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){CD(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),CD(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Ph=function(e,n){var r=yae(e);n&&(r=[r.reduce(function(s,l){return[].concat(OD(s),OD(l))},[])]);var i=r.map(function(s){return s.reduce(function(l,c,f){return"".concat(l).concat(f===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},vae=function(e,n,r){var i=Ph(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Ph(n.reverse(),r).slice(1))},bae=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,s=e.connectNulls,l=fae(e,cae);if(!n||!n.length)return null;var c=bt("recharts-polygon",r);if(i&&i.length){var f=l.stroke&&l.stroke!=="none",h=vae(n,i,s);return G.createElement("g",{className:c},G.createElement("path",Xu({},Je(l,!0),{fill:h.slice(-1)==="Z"?l.fill:"none",stroke:"none",d:h})),f?G.createElement("path",Xu({},Je(l,!0),{fill:"none",d:Ph(n,s)})):null,f?G.createElement("path",Xu({},Je(l,!0),{fill:"none",d:Ph(i,s)})):null)}var p=Ph(n,s);return G.createElement("path",Xu({},Je(l,!0),{fill:p.slice(-1)==="Z"?l.fill:"none",className:c,d:p}))};function oE(){return oE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oE.apply(this,arguments)}var ev=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,l=bt("recharts-dot",s);return n===+n&&r===+r&&i===+i?$.createElement("circle",oE({},Je(e,!1),og(e),{className:l,cx:n,cy:r,r:i})):null};function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}var _ae=["x","y","top","left","width","height","className"];function lE(){return lE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lE.apply(this,arguments)}function ID(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ID(Object(n),!0).forEach(function(r){wae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ID(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wae(t,e,n){return e=Sae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sae(t){var e=Eae(t,"string");return hd(e)=="symbol"?e:e+""}function Eae(t,e){if(hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tae(t,e){if(t==null)return{};var n=Aae(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Aae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Oae=function(e,n,r,i,s,l){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(l,",").concat(n,"h").concat(r)},Cae=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,l=e.top,c=l===void 0?0:l,f=e.left,h=f===void 0?0:f,p=e.width,m=p===void 0?0:p,v=e.height,_=v===void 0?0:v,E=e.className,S=Tae(e,_ae),w=xae({x:r,y:s,top:c,left:h,width:m,height:_},S);return!Ce(r)||!Ce(s)||!Ce(m)||!Ce(_)||!Ce(c)||!Ce(h)?null:G.createElement("path",lE({},Je(w,!0),{className:bt("recharts-cross",E),d:Oae(r,s,m,_,c,h)}))},r1,PD;function Iae(){if(PD)return r1;PD=1;var t=Yy(),e=pV(),n=Ma();function r(i,s){return i&&i.length?t(i,n(s,2),e):void 0}return r1=r,r1}var Pae=Iae();const Rae=Gt(Pae);var i1,RD;function Nae(){if(RD)return i1;RD=1;var t=Yy(),e=Ma(),n=mV();function r(i,s){return i&&i.length?t(i,e(s,2),n):void 0}return i1=r,i1}var kae=Nae();const Mae=Gt(kae);var jae=["cx","cy","angle","ticks","axisLine"],Dae=["ticks","tick","angle","tickFormatter","stroke"];function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}function Rh(){return Rh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rh.apply(this,arguments)}function ND(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ll(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ND(Object(n),!0).forEach(function(r){tv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ND(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kD(t,e){if(t==null)return{};var n=Lae(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Vae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e$(r.key),r)}}function $ae(t,e,n){return e&&MD(t.prototype,e),n&&MD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uae(t,e,n){return e=$g(e),Bae(t,ZV()?Reflect.construct(e,n||[],$g(t).constructor):e.apply(t,n))}function Bae(t,e){if(e&&(Oc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qae(t)}function qae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZV=function(){return!!t})()}function $g(t){return $g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$g(t)}function zae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uE(t,e)}function uE(t,e){return uE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uE(t,e)}function tv(t,e,n){return e=e$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e$(t){var e=Fae(t,"string");return Oc(e)=="symbol"?e:e+""}function Fae(t,e){if(Oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nv=(function(t){function e(){return Vae(this,e),Uae(this,e,arguments)}return zae(e,t),$ae(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,s=this.props,l=s.angle,c=s.cx,f=s.cy;return fn(c,f,i,l)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,s=r.cy,l=r.angle,c=r.ticks,f=Rae(c,function(p){return p.coordinate||0}),h=Mae(c,function(p){return p.coordinate||0});return{cx:i,cy:s,startAngle:l,endAngle:l,innerRadius:h.coordinate||0,outerRadius:f.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,l=r.angle,c=r.ticks,f=r.axisLine,h=kD(r,jae),p=c.reduce(function(E,S){return[Math.min(E[0],S.coordinate),Math.max(E[1],S.coordinate)]},[1/0,-1/0]),m=fn(i,s,p[0],l),v=fn(i,s,p[1],l),_=ll(ll(ll({},Je(h,!1)),{},{fill:"none"},Je(f,!1)),{},{x1:m.x,y1:m.y,x2:v.x,y2:v.y});return G.createElement("line",Rh({className:"recharts-polar-radius-axis-line"},_))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,l=i.tick,c=i.angle,f=i.tickFormatter,h=i.stroke,p=kD(i,Dae),m=this.getTickTextAnchor(),v=Je(p,!1),_=Je(l,!1),E=s.map(function(S,w){var O=r.getTickValueCoord(S),I=ll(ll(ll(ll({textAnchor:m,transform:"rotate(".concat(90-c,", ").concat(O.x,", ").concat(O.y,")")},v),{},{stroke:"none",fill:h},_),{},{index:w},O),{},{payload:S});return G.createElement(qt,Rh({className:bt("recharts-polar-radius-axis-tick",zV(l)),key:"tick-".concat(S.coordinate)},Dl(r.props,S,w)),e.renderTickItem(l,I,f?f(S.value,w):S.value))});return G.createElement(qt,{className:"recharts-polar-radius-axis-ticks"},E)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.axisLine,l=r.tick;return!i||!i.length?null:G.createElement(qt,{className:bt("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),l&&this.renderTicks(),ir.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,s){var l;return G.isValidElement(r)?l=G.cloneElement(r,i):rt(r)?l=r(i):l=G.createElement(Ll,Rh({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),l}}])})($.PureComponent);tv(nv,"displayName","PolarRadiusAxis");tv(nv,"axisType","radiusAxis");tv(nv,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}function yl(){return yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yl.apply(this,arguments)}function jD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ul(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jD(Object(n),!0).forEach(function(r){rv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n$(r.key),r)}}function Gae(t,e,n){return e&&DD(t.prototype,e),n&&DD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kae(t,e,n){return e=Ug(e),Wae(t,t$()?Reflect.construct(e,n||[],Ug(t).constructor):e.apply(t,n))}function Wae(t,e){if(e&&(Cc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yae(t)}function Yae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t$=function(){return!!t})()}function Ug(t){return Ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ug(t)}function Xae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cE(t,e)}function cE(t,e){return cE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cE(t,e)}function rv(t,e,n){return e=n$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n$(t){var e=Qae(t,"string");return Cc(e)=="symbol"?e:e+""}function Qae(t,e){if(Cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jae=Math.PI/180,LD=1e-5,iv=(function(t){function e(){return Hae(this,e),Kae(this,e,arguments)}return Xae(e,t),Gae(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.cx,l=i.cy,c=i.radius,f=i.orientation,h=i.tickSize,p=h||8,m=fn(s,l,c,r.coordinate),v=fn(s,l,c+(f==="inner"?-1:1)*p,r.coordinate);return{x1:m.x,y1:m.y,x2:v.x,y2:v.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,s=Math.cos(-r.coordinate*Jae),l;return s>LD?l=i==="outer"?"start":"end":s<-LD?l=i==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,l=r.radius,c=r.axisLine,f=r.axisLineType,h=ul(ul({},Je(this.props,!1)),{},{fill:"none"},Je(c,!1));if(f==="circle")return G.createElement(ev,yl({className:"recharts-polar-angle-axis-line"},h,{cx:i,cy:s,r:l}));var p=this.props.ticks,m=p.map(function(v){return fn(i,s,l,v.coordinate)});return G.createElement(bae,yl({className:"recharts-polar-angle-axis-line"},h,{points:m}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,l=i.tick,c=i.tickLine,f=i.tickFormatter,h=i.stroke,p=Je(this.props,!1),m=Je(l,!1),v=ul(ul({},p),{},{fill:"none"},Je(c,!1)),_=s.map(function(E,S){var w=r.getTickLineCoord(E),O=r.getTickTextAnchor(E),I=ul(ul(ul({textAnchor:O},p),{},{stroke:"none",fill:h},m),{},{index:S,payload:E,x:w.x2,y:w.y2});return G.createElement(qt,yl({className:bt("recharts-polar-angle-axis-tick",zV(l)),key:"tick-".concat(E.coordinate)},Dl(r.props,E,S)),c&&G.createElement("line",yl({className:"recharts-polar-angle-axis-tick-line"},v,w)),l&&e.renderTickItem(l,I,f?f(E.value,S):E.value))});return G.createElement(qt,{className:"recharts-polar-angle-axis-ticks"},_)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.radius,l=r.axisLine;return s<=0||!i||!i.length?null:G.createElement(qt,{className:bt("recharts-polar-angle-axis",this.props.className)},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,s){var l;return G.isValidElement(r)?l=G.cloneElement(r,i):rt(r)?l=r(i):l=G.createElement(Ll,yl({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),l}}])})($.PureComponent);rv(iv,"displayName","PolarAngleAxis");rv(iv,"axisType","angleAxis");rv(iv,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var a1,VD;function Zae(){if(VD)return a1;VD=1;var t=h5(),e=t(Object.getPrototypeOf,Object);return a1=e,a1}var s1,$D;function ese(){if($D)return s1;$D=1;var t=ws(),e=Zae(),n=Ss(),r="[object Object]",i=Function.prototype,s=Object.prototype,l=i.toString,c=s.hasOwnProperty,f=l.call(Object);function h(p){if(!n(p)||t(p)!=r)return!1;var m=e(p);if(m===null)return!0;var v=c.call(m,"constructor")&&m.constructor;return typeof v=="function"&&v instanceof v&&l.call(v)==f}return s1=h,s1}var tse=ese();const nse=Gt(tse);var o1,UD;function rse(){if(UD)return o1;UD=1;var t=ws(),e=Ss(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return o1=r,o1}var ise=rse();const ase=Gt(ise);function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function Bg(){return Bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bg.apply(this,arguments)}function sse(t,e){return cse(t)||use(t,e)||lse(t,e)||ose()}function ose(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lse(t,e){if(t){if(typeof t=="string")return BD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BD(t,e)}}function BD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function use(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,c=[],f=!0,h=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function cse(t){if(Array.isArray(t))return t}function qD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qD(Object(n),!0).forEach(function(r){fse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fse(t,e,n){return e=hse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hse(t){var e=dse(t,"string");return dd(e)=="symbol"?e:e+""}function dse(t,e){if(dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FD=function(e,n,r,i,s){var l=r-i,c;return c="M ".concat(e,",").concat(n),c+="L ".concat(e+r,",").concat(n),c+="L ".concat(e+r-l/2,",").concat(n+s),c+="L ".concat(e+r-l/2-i,",").concat(n+s),c+="L ".concat(e,",").concat(n," Z"),c},pse={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mse=function(e){var n=zD(zD({},pse),e),r=$.useRef(),i=$.useState(-1),s=sse(i,2),l=s[0],c=s[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&c(N)}catch{}},[]);var f=n.x,h=n.y,p=n.upperWidth,m=n.lowerWidth,v=n.height,_=n.className,E=n.animationEasing,S=n.animationDuration,w=n.animationBegin,O=n.isUpdateAnimationActive;if(f!==+f||h!==+h||p!==+p||m!==+m||v!==+v||p===0&&m===0||v===0)return null;var I=bt("recharts-trapezoid",_);return O?G.createElement(Na,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:v,x:f,y:h},to:{upperWidth:p,lowerWidth:m,height:v,x:f,y:h},duration:S,animationEasing:E,isActive:O},function(N){var L=N.upperWidth,C=N.lowerWidth,M=N.height,A=N.x,P=N.y;return G.createElement(Na,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:S,easing:E},G.createElement("path",Bg({},Je(n,!0),{className:I,d:FD(A,P,L,C,M),ref:r})))}):G.createElement("g",null,G.createElement("path",Bg({},Je(n,!0),{className:I,d:FD(f,h,p,m,v)})))},gse=["option","shapeType","propTransformer","activeClassName","isActive"];function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function yse(t,e){if(t==null)return{};var n=vse(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function HD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HD(Object(n),!0).forEach(function(r){bse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bse(t,e,n){return e=_se(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _se(t){var e=xse(t,"string");return pd(e)=="symbol"?e:e+""}function xse(t,e){if(pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wse(t,e){return qg(qg({},e),t)}function Sse(t,e){return t==="symbols"}function GD(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return G.createElement(wA,n);case"trapezoid":return G.createElement(mse,n);case"sector":return G.createElement(xA,n);case"symbols":if(Sse(e))return G.createElement(UT,n);break;default:return null}}function Ese(t){return $.isValidElement(t)?t.props:t}function r$(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?wse:r,s=t.activeClassName,l=s===void 0?"recharts-active-shape":s,c=t.isActive,f=yse(t,gse),h;if($.isValidElement(e))h=$.cloneElement(e,qg(qg({},f),Ese(e)));else if(rt(e))h=e(f);else if(nse(e)&&!ase(e)){var p=i(e,f);h=G.createElement(GD,{shapeType:n,elementProps:p})}else{var m=f;h=G.createElement(GD,{shapeType:n,elementProps:m})}return c?G.createElement(qt,{className:l},h):h}function av(t,e){return e!=null&&"trapezoids"in t.props}function sv(t,e){return e!=null&&"sectors"in t.props}function md(t,e){return e!=null&&"points"in t.props}function Tse(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function Ase(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Ose(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Cse(t,e){var n;return av(t,e)?n=Tse:sv(t,e)?n=Ase:md(t,e)&&(n=Ose),n}function Ise(t,e){var n;return av(t,e)?n="trapezoids":sv(t,e)?n="sectors":md(t,e)&&(n="points"),n}function Pse(t,e){if(av(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(sv(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return md(t,e)?e.payload:{}}function Rse(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Ise(n,e),s=Pse(n,e),l=r.filter(function(f,h){var p=Bd(s,f),m=n.props[i].filter(function(E){var S=Cse(n,e);return S(E,e)}),v=n.props[i].indexOf(m[m.length-1]),_=h===v;return p&&_}),c=r.indexOf(l[l.length-1]);return c}var Lm;function Ic(t){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}function Qu(){return Qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qu.apply(this,arguments)}function KD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KD(Object(n),!0).forEach(function(r){ki(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a$(r.key),r)}}function kse(t,e,n){return e&&WD(t.prototype,e),n&&WD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mse(t,e,n){return e=zg(e),jse(t,i$()?Reflect.construct(e,n||[],zg(t).constructor):e.apply(t,n))}function jse(t,e){if(e&&(Ic(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dse(t)}function Dse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i$=function(){return!!t})()}function zg(t){return zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zg(t)}function Lse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fE(t,e)}function fE(t,e){return fE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fE(t,e)}function ki(t,e,n){return e=a$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a$(t){var e=Vse(t,"string");return Ic(e)=="symbol"?e:e+""}function Vse(t,e){if(Ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ts=(function(t){function e(n){var r;return Nse(this,e),r=Mse(this,e,[n]),ki(r,"pieRef",null),ki(r,"sectorRefs",[]),ki(r,"id",Jc("recharts-pie-")),ki(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),rt(i)&&i()}),ki(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),rt(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Lse(e,t),kse(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.label,c=s.labelLine,f=s.dataKey,h=s.valueKey,p=Je(this.props,!1),m=Je(l,!1),v=Je(c,!1),_=l&&l.offsetRadius||20,E=r.map(function(S,w){var O=(S.startAngle+S.endAngle)/2,I=fn(S.cx,S.cy,S.outerRadius+_,O),N=un(un(un(un({},p),S),{},{stroke:"none"},m),{},{index:w,textAnchor:e.getTextAnchor(I.x,S.cx)},I),L=un(un(un(un({},p),S),{},{fill:"none",stroke:S.fill},v),{},{index:w,points:[fn(S.cx,S.cy,S.outerRadius,O),I]}),C=f;return ct(f)&&ct(h)?C="value":ct(f)&&(C=h),G.createElement(qt,{key:"label-".concat(S.startAngle,"-").concat(S.endAngle,"-").concat(S.midAngle,"-").concat(w)},c&&e.renderLabelLineItem(c,L,"line"),e.renderLabelItem(l,N,Xn(S,C)))});return G.createElement(qt,{className:"recharts-pie-labels"},E)}},{key:"renderSectorsStatically",value:function(r){var i=this,s=this.props,l=s.activeShape,c=s.blendStroke,f=s.inactiveShape;return r.map(function(h,p){if((h==null?void 0:h.startAngle)===0&&(h==null?void 0:h.endAngle)===0&&r.length!==1)return null;var m=i.isActiveIndex(p),v=f&&i.hasActiveIndex()?f:null,_=m?l:v,E=un(un({},h),{},{stroke:c?h.fill:h.stroke,tabIndex:-1});return G.createElement(qt,Qu({ref:function(w){w&&!i.sectorRefs.includes(w)&&i.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},Dl(i.props,h,p),{key:"sector-".concat(h==null?void 0:h.startAngle,"-").concat(h==null?void 0:h.endAngle,"-").concat(h.midAngle,"-").concat(p)}),G.createElement(r$,Qu({option:_,isActive:m,shapeType:"sector"},E)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,s=i.sectors,l=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,m=this.state,v=m.prevSectors,_=m.prevIsAnimationActive;return G.createElement(Na,{begin:c,duration:f,isActive:l,easing:h,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(_),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(E){var S=E.t,w=[],O=s&&s[0],I=O.startAngle;return s.forEach(function(N,L){var C=v&&v[L],M=L>0?di(N,"paddingAngle",0):0;if(C){var A=ci(C.endAngle-C.startAngle,N.endAngle-N.startAngle),P=un(un({},N),{},{startAngle:I+M,endAngle:I+A(S)+M});w.push(P),I=P.endAngle}else{var k=N.endAngle,U=N.startAngle,D=ci(0,k-U),B=D(S),V=un(un({},N),{},{startAngle:I+M,endAngle:I+B+M});w.push(V),I=V.endAngle}}),G.createElement(qt,null,r.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var l=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"ArrowRight":{var c=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[c].focus(),i.setState({sectorToFocus:c});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,s=r.isAnimationActive,l=this.state.prevSectors;return s&&i&&i.length&&(!l||!Bd(l,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,s=i.hide,l=i.sectors,c=i.className,f=i.label,h=i.cx,p=i.cy,m=i.innerRadius,v=i.outerRadius,_=i.isAnimationActive,E=this.state.isAnimationFinished;if(s||!l||!l.length||!Ce(h)||!Ce(p)||!Ce(m)||!Ce(v))return null;var S=bt("recharts-pie",c);return G.createElement(qt,{tabIndex:this.props.rootTabIndex,className:S,ref:function(O){r.pieRef=O}},this.renderSectors(),f&&this.renderLabels(l),ir.renderCallByParent(this.props,null,!1),(!_||E)&&ds.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,s){if(G.isValidElement(r))return G.cloneElement(r,i);if(rt(r))return r(i);var l=bt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return G.createElement(Mg,Qu({},i,{key:s,type:"linear",className:l}))}},{key:"renderLabelItem",value:function(r,i,s){if(G.isValidElement(r))return G.cloneElement(r,i);var l=s;if(rt(r)&&(l=r(i),G.isValidElement(l)))return l;var c=bt("recharts-pie-label-text",typeof r!="boolean"&&!rt(r)?r.className:"");return G.createElement(Ll,Qu({},i,{alignmentBaseline:"middle",className:c}),l)}}])})($.PureComponent);Lm=Ts;ki(Ts,"displayName","Pie");ki(Ts,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Gl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ki(Ts,"parseDeltaAngle",function(t,e){var n=jr(e-t),r=Math.min(Math.abs(e-t),360);return n*r});ki(Ts,"getRealPieData",function(t){var e=t.data,n=t.children,r=Je(t,!1),i=pi(n,qy);return e&&e.length?e.map(function(s,l){return un(un(un({payload:s},r),s),i&&i[l]&&i[l].props)}):i&&i.length?i.map(function(s){return un(un({},r),s.props)}):[]});ki(Ts,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,s=e.height,l=qV(i,s),c=r+Dr(t.cx,i,i/2),f=n+Dr(t.cy,s,s/2),h=Dr(t.innerRadius,l,0),p=Dr(t.outerRadius,l,l*.8),m=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:c,cy:f,innerRadius:h,outerRadius:p,maxRadius:m}});ki(Ts,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?un(un({},e.type.defaultProps),e.props):e.props,i=Lm.getRealPieData(r);if(!i||!i.length)return null;var s=r.cornerRadius,l=r.startAngle,c=r.endAngle,f=r.paddingAngle,h=r.dataKey,p=r.nameKey,m=r.valueKey,v=r.tooltipType,_=Math.abs(r.minAngle),E=Lm.parseCoordinateOfPie(r,n),S=Lm.parseDeltaAngle(l,c),w=Math.abs(S),O=h;ct(h)&&ct(m)?(na(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),O="value"):ct(h)&&(na(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),O=m);var I=i.filter(function(P){return Xn(P,O,0)!==0}).length,N=(w>=360?I:I-1)*f,L=w-I*_-N,C=i.reduce(function(P,k){var U=Xn(k,O,0);return P+(Ce(U)?U:0)},0),M;if(C>0){var A;M=i.map(function(P,k){var U=Xn(P,O,0),D=Xn(P,p,k),B=(Ce(U)?U:0)/C,V;k?V=A.endAngle+jr(S)*f*(U!==0?1:0):V=l;var Q=V+jr(S)*((U!==0?_:0)+B*L),J=(V+Q)/2,H=(E.innerRadius+E.outerRadius)/2,Y=[{name:D,value:U,payload:P,dataKey:O,type:v}],ee=fn(E.cx,E.cy,H,J);return A=un(un(un({percent:B,cornerRadius:s,name:D,tooltipPayload:Y,midAngle:J,middleRadius:H,tooltipPosition:ee},P),E),{},{value:Xn(P,O),startAngle:V,endAngle:Q,payload:P,paddingAngle:jr(S)*f}),A})}return un(un({},E),{},{sectors:M,data:i})});var l1,YD;function $se(){if(YD)return l1;YD=1;var t=Math.ceil,e=Math.max;function n(r,i,s,l){for(var c=-1,f=e(t((i-r)/(s||1)),0),h=Array(f);f--;)h[l?f:++c]=r,r+=s;return h}return l1=n,l1}var u1,XD;function s$(){if(XD)return u1;XD=1;var t=C5(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*n}return i===i?i:0}return u1=r,u1}var c1,QD;function Use(){if(QD)return c1;QD=1;var t=$se(),e=By(),n=s$();function r(i){return function(s,l,c){return c&&typeof c!="number"&&e(s,l,c)&&(l=c=void 0),s=n(s),l===void 0?(l=s,s=0):l=n(l),c=c===void 0?s<l?1:-1:n(c),t(s,l,c,i)}}return c1=r,c1}var f1,JD;function Bse(){if(JD)return f1;JD=1;var t=Use(),e=t();return f1=e,f1}var qse=Bse();const Fg=Gt(qse);function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function ZD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZD(Object(n),!0).forEach(function(r){o$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o$(t,e,n){return e=zse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zse(t){var e=Fse(t,"string");return gd(e)=="symbol"?e:e+""}function Fse(t,e){if(gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hse=["Webkit","Moz","O","ms"],Gse=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=Hse.reduce(function(s,l){return eL(eL({},s),{},o$({},l+r,n))},{});return i[e]=n,i};function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}function Hg(){return Hg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hg.apply(this,arguments)}function tL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function h1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tL(Object(n),!0).forEach(function(r){li(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u$(r.key),r)}}function Wse(t,e,n){return e&&nL(t.prototype,e),n&&nL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yse(t,e,n){return e=Gg(e),Xse(t,l$()?Reflect.construct(e,n||[],Gg(t).constructor):e.apply(t,n))}function Xse(t,e){if(e&&(Pc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qse(t)}function Qse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l$=function(){return!!t})()}function Gg(t){return Gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gg(t)}function Jse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hE(t,e)}function hE(t,e){return hE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hE(t,e)}function li(t,e,n){return e=u$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u$(t){var e=Zse(t,"string");return Pc(e)=="symbol"?e:e+""}function Zse(t,e){if(Pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eoe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,l=e.width,c=e.travellerWidth;if(!n||!n.length)return{};var f=n.length,h=Oh().domain(Fg(0,f)).range([s,s+l-c]),p=h.domain().map(function(m){return h(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(r),endX:h(i),scale:h,scaleValues:p}},rL=function(e){return e.changedTouches&&!!e.changedTouches.length},Rc=(function(t){function e(n){var r;return Kse(this,e),r=Yse(this,e,[n]),li(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),li(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),li(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,l=i.onDragEnd,c=i.startIndex;l==null||l({endIndex:s,startIndex:c})}),r.detachDragEndListener()}),li(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),li(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),li(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),li(r,"handleSlideDragStart",function(i){var s=rL(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Jse(e,t),Wse(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,l=this.state.scaleValues,c=this.props,f=c.gap,h=c.data,p=h.length-1,m=Math.min(i,s),v=Math.max(i,s),_=e.getIndexInRange(l,m),E=e.getIndexInRange(l,v);return{startIndex:_-_%f,endIndex:E===p?p:E-E%f}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,l=i.tickFormatter,c=i.dataKey,f=Xn(s[r],c,r);return rt(l)?l(f,r):f}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,l=i.startX,c=i.endX,f=this.props,h=f.x,p=f.width,m=f.travellerWidth,v=f.startIndex,_=f.endIndex,E=f.onChange,S=r.pageX-s;S>0?S=Math.min(S,h+p-m-c,h+p-m-l):S<0&&(S=Math.max(S,h-l,h-c));var w=this.getIndex({startX:l+S,endX:c+S});(w.startIndex!==v||w.endIndex!==_)&&E&&E(w),this.setState({startX:l+S,endX:c+S,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=rL(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,l=i.movingTravellerId,c=i.endX,f=i.startX,h=this.state[l],p=this.props,m=p.x,v=p.width,_=p.travellerWidth,E=p.onChange,S=p.gap,w=p.data,O={startX:this.state.startX,endX:this.state.endX},I=r.pageX-s;I>0?I=Math.min(I,m+v-_-h):I<0&&(I=Math.max(I,m-h)),O[l]=h+I;var N=this.getIndex(O),L=N.startIndex,C=N.endIndex,M=function(){var P=w.length-1;return l==="startX"&&(c>f?L%S===0:C%S===0)||c<f&&C===P||l==="endX"&&(c>f?C%S===0:L%S===0)||c>f&&C===P};this.setState(li(li({},l,h+I),"brushMoveStartX",r.pageX),function(){E&&M()&&E(N)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,l=this.state,c=l.scaleValues,f=l.startX,h=l.endX,p=this.state[i],m=c.indexOf(p);if(m!==-1){var v=m+r;if(!(v===-1||v>=c.length)){var _=c[v];i==="startX"&&_>=h||i==="endX"&&_<=f||this.setState(li({},i,_),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,l=r.width,c=r.height,f=r.fill,h=r.stroke;return G.createElement("rect",{stroke:h,fill:f,x:i,y:s,width:l,height:c})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,l=r.width,c=r.height,f=r.data,h=r.children,p=r.padding,m=$.Children.only(h);return m?G.cloneElement(m,{x:i,y:s,width:l,height:c,margin:p,compact:!0,data:f}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,l,c=this,f=this.props,h=f.y,p=f.travellerWidth,m=f.height,v=f.traveller,_=f.ariaLabel,E=f.data,S=f.startIndex,w=f.endIndex,O=Math.max(r,this.props.x),I=h1(h1({},Je(this.props,!1)),{},{x:O,y:h,width:p,height:m}),N=_||"Min value: ".concat((s=E[S])===null||s===void 0?void 0:s.name,", Max value: ").concat((l=E[w])===null||l===void 0?void 0:l.name);return G.createElement(qt,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),c.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,i))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(v,I))}},{key:"renderSlide",value:function(r,i){var s=this.props,l=s.y,c=s.height,f=s.stroke,h=s.travellerWidth,p=Math.min(r,i)+h,m=Math.max(Math.abs(i-r)-h,0);return G.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:f,fillOpacity:.2,x:p,y:l,width:m,height:c})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,l=r.y,c=r.height,f=r.travellerWidth,h=r.stroke,p=this.state,m=p.startX,v=p.endX,_=5,E={pointerEvents:"none",fill:h};return G.createElement(qt,{className:"recharts-brush-texts"},G.createElement(Ll,Hg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,v)-_,y:l+c/2},E),this.getTextOfTick(i)),G.createElement(Ll,Hg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,v)+f+_,y:l+c/2},E),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,l=r.children,c=r.x,f=r.y,h=r.width,p=r.height,m=r.alwaysShowText,v=this.state,_=v.startX,E=v.endX,S=v.isTextActive,w=v.isSlideMoving,O=v.isTravellerMoving,I=v.isTravellerFocused;if(!i||!i.length||!Ce(c)||!Ce(f)||!Ce(h)||!Ce(p)||h<=0||p<=0)return null;var N=bt("recharts-brush",s),L=G.Children.count(l)===1,C=Gse("userSelect","none");return G.createElement(qt,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),L&&this.renderPanorama(),this.renderSlide(_,E),this.renderTravellerLayer(_,"startX"),this.renderTravellerLayer(E,"endX"),(S||w||O||I||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,l=r.width,c=r.height,f=r.stroke,h=Math.floor(s+c/2)-1;return G.createElement(G.Fragment,null,G.createElement("rect",{x:i,y:s,width:l,height:c,fill:f,stroke:"none"}),G.createElement("line",{x1:i+1,y1:h,x2:i+l-1,y2:h,fill:"none",stroke:"#fff"}),G.createElement("line",{x1:i+1,y1:h+2,x2:i+l-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return G.isValidElement(r)?s=G.cloneElement(r,i):rt(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,l=r.width,c=r.x,f=r.travellerWidth,h=r.updateId,p=r.startIndex,m=r.endIndex;if(s!==i.prevData||h!==i.prevUpdateId)return h1({prevData:s,prevTravellerWidth:f,prevUpdateId:h,prevX:c,prevWidth:l},s&&s.length?eoe({data:s,width:l,x:c,travellerWidth:f,startIndex:p,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(l!==i.prevWidth||c!==i.prevX||f!==i.prevTravellerWidth)){i.scale.range([c,c+l-f]);var v=i.scale.domain().map(function(_){return i.scale(_)});return{prevData:s,prevTravellerWidth:f,prevUpdateId:h,prevX:c,prevWidth:l,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,l=0,c=s-1;c-l>1;){var f=Math.floor((l+c)/2);r[f]>i?c=f:l=f}return i>=r[c]?c:l}}])})($.PureComponent);li(Rc,"displayName","Brush");li(Rc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var d1,iL;function toe(){if(iL)return d1;iL=1;var t=KT();function e(n,r){var i;return t(n,function(s,l,c){return i=r(s,l,c),!i}),!!i}return d1=e,d1}var p1,aL;function noe(){if(aL)return p1;aL=1;var t=a5(),e=Ma(),n=toe(),r=Yr(),i=By();function s(l,c,f){var h=r(l)?t:n;return f&&i(l,c,f)&&(c=void 0),h(l,e(c,3))}return p1=s,p1}var roe=noe();const ioe=Gt(roe);var Oa=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},m1,sL;function aoe(){if(sL)return m1;sL=1;var t=S5();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return m1=e,m1}var g1,oL;function soe(){if(oL)return g1;oL=1;var t=aoe(),e=x5(),n=Ma();function r(i,s){var l={};return s=n(s,3),e(i,function(c,f,h){t(l,f,s(c,f,h))}),l}return g1=r,g1}var ooe=soe();const loe=Gt(ooe);var y1,lL;function uoe(){if(lL)return y1;lL=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return y1=t,y1}var v1,uL;function coe(){if(uL)return v1;uL=1;var t=KT();function e(n,r){var i=!0;return t(n,function(s,l,c){return i=!!r(s,l,c),i}),i}return v1=e,v1}var b1,cL;function foe(){if(cL)return b1;cL=1;var t=uoe(),e=coe(),n=Ma(),r=Yr(),i=By();function s(l,c,f){var h=r(l)?t:e;return f&&i(l,c,f)&&(c=void 0),h(l,n(c,3))}return b1=s,b1}var hoe=foe();const c$=Gt(hoe);var doe=["x","y"];function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function dE(){return dE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dE.apply(this,arguments)}function fL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fL(Object(n),!0).forEach(function(r){poe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function poe(t,e,n){return e=moe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function moe(t){var e=goe(t,"string");return yd(e)=="symbol"?e:e+""}function goe(t,e){if(yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yoe(t,e){if(t==null)return{};var n=voe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function voe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function boe(t,e){var n=t.x,r=t.y,i=yoe(t,doe),s="".concat(n),l=parseInt(s,10),c="".concat(r),f=parseInt(c,10),h="".concat(e.height||i.height),p=parseInt(h,10),m="".concat(e.width||i.width),v=parseInt(m,10);return oh(oh(oh(oh(oh({},e),i),l?{x:l}:{}),f?{y:f}:{}),{},{height:p,width:v,name:e.name,radius:e.radius})}function hL(t){return G.createElement(r$,dE({shapeType:"rectangle",propTransformer:boe,activeClassName:"recharts-active-bar"},t))}var _oe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=Ce(r)||zK(r);return s?e(r,i):(s||$l(),n)}},xoe=["value","background"],f$;function Nc(t){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(t)}function woe(t,e){if(t==null)return{};var n=Soe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Soe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Kg(){return Kg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kg.apply(this,arguments)}function dL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dL(Object(n),!0).forEach(function(r){fo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d$(r.key),r)}}function Toe(t,e,n){return e&&pL(t.prototype,e),n&&pL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Aoe(t,e,n){return e=Wg(e),Ooe(t,h$()?Reflect.construct(e,n||[],Wg(t).constructor):e.apply(t,n))}function Ooe(t,e){if(e&&(Nc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Coe(t)}function Coe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h$=function(){return!!t})()}function Wg(t){return Wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wg(t)}function Ioe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pE(t,e)}function pE(t,e){return pE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pE(t,e)}function fo(t,e,n){return e=d$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d$(t){var e=Poe(t,"string");return Nc(e)=="symbol"?e:e+""}function Poe(t,e){if(Nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zd=(function(t){function e(){var n;Eoe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Aoe(this,e,[].concat(i)),fo(n,"state",{isAnimationFinished:!1}),fo(n,"id",Jc("recharts-bar-")),fo(n,"handleAnimationEnd",function(){var l=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),l&&l()}),fo(n,"handleAnimationStart",function(){var l=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),l&&l()}),n}return Ioe(e,t),Toe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,l=s.shape,c=s.dataKey,f=s.activeIndex,h=s.activeBar,p=Je(this.props,!1);return r&&r.map(function(m,v){var _=v===f,E=_?h:l,S=zn(zn(zn({},p),m),{},{isActive:_,option:E,index:v,dataKey:c,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return G.createElement(qt,Kg({className:"recharts-bar-rectangle"},Dl(i.props,m,v),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(v)}),G.createElement(hL,S))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,l=i.layout,c=i.isAnimationActive,f=i.animationBegin,h=i.animationDuration,p=i.animationEasing,m=i.animationId,v=this.state.prevData;return G.createElement(Na,{begin:f,duration:h,isActive:c,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var E=_.t,S=s.map(function(w,O){var I=v&&v[O];if(I){var N=ci(I.x,w.x),L=ci(I.y,w.y),C=ci(I.width,w.width),M=ci(I.height,w.height);return zn(zn({},w),{},{x:N(E),y:L(E),width:C(E),height:M(E)})}if(l==="horizontal"){var A=ci(0,w.height),P=A(E);return zn(zn({},w),{},{y:w.y+w.height-P,height:P})}var k=ci(0,w.width),U=k(E);return zn(zn({},w),{},{width:U})});return G.createElement(qt,null,r.renderRectanglesStatically(S))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,l=this.state.prevData;return s&&i&&i.length&&(!l||!Bd(l,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,l=i.dataKey,c=i.activeIndex,f=Je(this.props.background,!1);return s.map(function(h,p){h.value;var m=h.background,v=woe(h,xoe);if(!m)return null;var _=zn(zn(zn(zn(zn({},v),{},{fill:"#eee"},m),f),Dl(r.props,h,p)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:l,index:p,className:"recharts-bar-background-rectangle"});return G.createElement(hL,Kg({key:"background-bar-".concat(p),option:r.props.background,isActive:p===c},_))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.data,c=s.xAxis,f=s.yAxis,h=s.layout,p=s.children,m=pi(p,qd);if(!m)return null;var v=h==="vertical"?l[0].height/2:l[0].width/2,_=function(w,O){var I=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:I,errorVal:Xn(w,O)}},E={clipPath:r?"url(#clipPath-".concat(i,")"):null};return G.createElement(qt,E,m.map(function(S){return G.cloneElement(S,{key:"error-bar-".concat(i,"-").concat(S.props.dataKey),data:l,xAxis:c,yAxis:f,layout:h,offset:v,dataPointFormatter:_})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,l=r.className,c=r.xAxis,f=r.yAxis,h=r.left,p=r.top,m=r.width,v=r.height,_=r.isAnimationActive,E=r.background,S=r.id;if(i||!s||!s.length)return null;var w=this.state.isAnimationFinished,O=bt("recharts-bar",l),I=c&&c.allowDataOverflow,N=f&&f.allowDataOverflow,L=I||N,C=ct(S)?this.id:S;return G.createElement(qt,{className:O},I||N?G.createElement("defs",null,G.createElement("clipPath",{id:"clipPath-".concat(C)},G.createElement("rect",{x:I?h:h-m/2,y:N?p:p-v/2,width:I?m:m*2,height:N?v:v*2}))):null,G.createElement(qt,{className:"recharts-bar-rectangles",clipPath:L?"url(#clipPath-".concat(C,")"):null},E?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(L,C),(!_||w)&&ds.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})($.PureComponent);f$=zd;fo(zd,"displayName","Bar");fo(zd,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Gl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});fo(zd,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,l=t.yAxis,c=t.xAxisTicks,f=t.yAxisTicks,h=t.stackedData,p=t.dataStartIndex,m=t.displayedData,v=t.offset,_=ine(r,n);if(!_)return null;var E=e.layout,S=n.type.defaultProps,w=S!==void 0?zn(zn({},S),n.props):n.props,O=w.dataKey,I=w.children,N=w.minPointSize,L=E==="horizontal"?l:s,C=h?L.scale.domain():null,M=fne({numericAxis:L}),A=pi(I,qy),P=m.map(function(k,U){var D,B,V,Q,J,H;h?D=ane(h[p+U],C):(D=Xn(k,O),Array.isArray(D)||(D=[M,D]));var Y=_oe(N,f$.defaultProps.minPointSize)(D[1],U);if(E==="horizontal"){var ee,ue=[l.scale(D[0]),l.scale(D[1])],ve=ue[0],F=ue[1];B=$j({axis:s,ticks:c,bandSize:i,offset:_.offset,entry:k,index:U}),V=(ee=F??ve)!==null&&ee!==void 0?ee:void 0,Q=_.size;var W=ve-F;if(J=Number.isNaN(W)?0:W,H={x:B,y:l.y,width:Q,height:l.height},Math.abs(Y)>0&&Math.abs(J)<Math.abs(Y)){var oe=jr(J||Y)*(Math.abs(Y)-Math.abs(J));V-=oe,J+=oe}}else{var me=[s.scale(D[0]),s.scale(D[1])],we=me[0],Se=me[1];if(B=we,V=$j({axis:l,ticks:f,bandSize:i,offset:_.offset,entry:k,index:U}),Q=Se-we,J=_.size,H={x:s.x,y:V,width:s.width,height:J},Math.abs(Y)>0&&Math.abs(Q)<Math.abs(Y)){var ke=jr(Q||Y)*(Math.abs(Y)-Math.abs(Q));Q+=ke}}return zn(zn(zn({},k),{},{x:B,y:V,width:Q,height:J,value:h?D:D[1],payload:k,background:H},A&&A[U]&&A[U].props),{},{tooltipPayload:[UV(n,k)],tooltipPosition:{x:B+Q/2,y:V+J/2}})});return zn({data:P,layout:E},v)});function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function Roe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p$(r.key),r)}}function Noe(t,e,n){return e&&mL(t.prototype,e),n&&mL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gL(Object(n),!0).forEach(function(r){ov(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ov(t,e,n){return e=p$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p$(t){var e=koe(t,"string");return vd(e)=="symbol"?e:e+""}function koe(t,e){if(vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Moe=function(e,n,r,i,s){var l=e.width,c=e.height,f=e.layout,h=e.children,p=Object.keys(n),m={left:r.left,leftMirror:r.left,right:l-r.right,rightMirror:l-r.right,top:r.top,topMirror:r.top,bottom:c-r.bottom,bottomMirror:c-r.bottom},v=!!ui(h,zd);return p.reduce(function(_,E){var S=n[E],w=S.orientation,O=S.domain,I=S.padding,N=I===void 0?{}:I,L=S.mirror,C=S.reversed,M="".concat(w).concat(L?"Mirror":""),A,P,k,U,D;if(S.type==="number"&&(S.padding==="gap"||S.padding==="no-gap")){var B=O[1]-O[0],V=1/0,Q=S.categoricalDomain.sort(GK);if(Q.forEach(function(me,we){we>0&&(V=Math.min((me||0)-(Q[we-1]||0),V))}),Number.isFinite(V)){var J=V/B,H=S.layout==="vertical"?r.height:r.width;if(S.padding==="gap"&&(A=J*H/2),S.padding==="no-gap"){var Y=Dr(e.barCategoryGap,J*H),ee=J*H/2;A=ee-Y-(ee-Y)/H*Y}}}i==="xAxis"?P=[r.left+(N.left||0)+(A||0),r.left+r.width-(N.right||0)-(A||0)]:i==="yAxis"?P=f==="horizontal"?[r.top+r.height-(N.bottom||0),r.top+(N.top||0)]:[r.top+(N.top||0)+(A||0),r.top+r.height-(N.bottom||0)-(A||0)]:P=S.range,C&&(P=[P[1],P[0]]);var ue=DV(S,s,v),ve=ue.scale,F=ue.realScaleType;ve.domain(O).range(P),LV(ve);var W=VV(ve,Xi(Xi({},S),{},{realScaleType:F}));i==="xAxis"?(D=w==="top"&&!L||w==="bottom"&&L,k=r.left,U=m[M]-D*S.height):i==="yAxis"&&(D=w==="left"&&!L||w==="right"&&L,k=m[M]-D*S.width,U=r.top);var oe=Xi(Xi(Xi({},S),W),{},{realScaleType:F,x:k,y:U,scale:ve,width:i==="xAxis"?r.width:S.width,height:i==="yAxis"?r.height:S.height});return oe.bandSize=Rg(oe,W),!S.hide&&i==="xAxis"?m[M]+=(D?-1:1)*oe.height:S.hide||(m[M]+=(D?-1:1)*oe.width),Xi(Xi({},_),{},ov({},E,oe))},{})},m$=function(e,n){var r=e.x,i=e.y,s=n.x,l=n.y;return{x:Math.min(r,s),y:Math.min(i,l),width:Math.abs(s-r),height:Math.abs(l-i)}},joe=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return m$({x:n,y:r},{x:i,y:s})},g$=(function(){function t(e){Roe(this,t),this.scale=e}return Noe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(n)+c}default:return this.scale(n)}if(i){var f=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+f}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();ov(g$,"EPS",1e-4);var SA=function(e){var n=Object.keys(e).reduce(function(r,i){return Xi(Xi({},r),{},ov({},i,g$.create(e[i])))},{});return Xi(Xi({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=s.bandAware,c=s.position;return loe(i,function(f,h){return n[h].apply(f,{bandAware:l,position:c})})},isInRange:function(i){return c$(i,function(s,l){return n[l].isInRange(s)})}})};function Doe(t){return(t%180+180)%180}var Loe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Doe(i),l=s*Math.PI/180,c=Math.atan(r/n),f=l>c&&l<Math.PI-c?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},_1,yL;function Voe(){if(yL)return _1;yL=1;var t=Ma(),e=Dd(),n=$y();function r(i){return function(s,l,c){var f=Object(s);if(!e(s)){var h=t(l,3);s=n(s),l=function(m){return h(f[m],m,f)}}var p=i(s,l,c);return p>-1?f[h?s[p]:p]:void 0}}return _1=r,_1}var x1,vL;function $oe(){if(vL)return x1;vL=1;var t=s$();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return x1=e,x1}var w1,bL;function Uoe(){if(bL)return w1;bL=1;var t=g5(),e=Ma(),n=$oe(),r=Math.max;function i(s,l,c){var f=s==null?0:s.length;if(!f)return-1;var h=c==null?0:n(c);return h<0&&(h=r(f+h,0)),t(s,e(l,3),h)}return w1=i,w1}var S1,_L;function Boe(){if(_L)return S1;_L=1;var t=Voe(),e=Uoe(),n=t(e);return S1=n,S1}var qoe=Boe();const zoe=Gt(qoe);var Foe=N6();const Hoe=Gt(Foe);var Goe=Hoe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),EA=$.createContext(void 0),TA=$.createContext(void 0),y$=$.createContext(void 0),v$=$.createContext({}),b$=$.createContext(void 0),_$=$.createContext(0),x$=$.createContext(0),xL=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,l=e.clipPathId,c=e.children,f=e.width,h=e.height,p=Goe(s);return G.createElement(EA.Provider,{value:r},G.createElement(TA.Provider,{value:i},G.createElement(v$.Provider,{value:s},G.createElement(y$.Provider,{value:p},G.createElement(b$.Provider,{value:l},G.createElement(_$.Provider,{value:h},G.createElement(x$.Provider,{value:f},c)))))))},Koe=function(){return $.useContext(b$)},w$=function(e){var n=$.useContext(EA);n==null&&$l();var r=n[e];return r==null&&$l(),r},Woe=function(){var e=$.useContext(EA);return uo(e)},Yoe=function(){var e=$.useContext(TA),n=zoe(e,function(r){return c$(r.domain,Number.isFinite)});return n||uo(e)},S$=function(e){var n=$.useContext(TA);n==null&&$l();var r=n[e];return r==null&&$l(),r},Xoe=function(){var e=$.useContext(y$);return e},Qoe=function(){return $.useContext(v$)},AA=function(){return $.useContext(x$)},OA=function(){return $.useContext(_$)};function kc(t){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(t)}function Joe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zoe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T$(r.key),r)}}function ele(t,e,n){return e&&Zoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tle(t,e,n){return e=Yg(e),nle(t,E$()?Reflect.construct(e,n||[],Yg(t).constructor):e.apply(t,n))}function nle(t,e){if(e&&(kc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rle(t)}function rle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E$=function(){return!!t})()}function Yg(t){return Yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yg(t)}function ile(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mE(t,e)}function mE(t,e){return mE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mE(t,e)}function wL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wL(Object(n),!0).forEach(function(r){CA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CA(t,e,n){return e=T$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T$(t){var e=ale(t,"string");return kc(e)=="symbol"?e:e+""}function ale(t,e){if(kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function sle(t,e){return cle(t)||ule(t,e)||lle(t,e)||ole()}function ole(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lle(t,e){if(t){if(typeof t=="string")return EL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EL(t,e)}}function EL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ule(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,c=[],f=!0,h=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function cle(t){if(Array.isArray(t))return t}function gE(){return gE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gE.apply(this,arguments)}var fle=function(e,n){var r;return G.isValidElement(e)?r=G.cloneElement(e,n):rt(e)?r=e(n):r=G.createElement("line",gE({},n,{className:"recharts-reference-line-line"})),r},hle=function(e,n,r,i,s,l,c,f,h){var p=s.x,m=s.y,v=s.width,_=s.height;if(r){var E=h.y,S=e.y.apply(E,{position:l});if(Oa(h,"discard")&&!e.y.isInRange(S))return null;var w=[{x:p+v,y:S},{x:p,y:S}];return f==="left"?w.reverse():w}if(n){var O=h.x,I=e.x.apply(O,{position:l});if(Oa(h,"discard")&&!e.x.isInRange(I))return null;var N=[{x:I,y:m+_},{x:I,y:m}];return c==="top"?N.reverse():N}if(i){var L=h.segment,C=L.map(function(M){return e.apply(M,{position:l})});return Oa(h,"discard")&&ioe(C,function(M){return!e.isInRange(M)})?null:C}return null};function dle(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,l=t.shape,c=t.className,f=t.alwaysShow,h=Koe(),p=w$(i),m=S$(s),v=Xoe();if(!h||!v)return null;na(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var _=SA({x:p.scale,y:m.scale}),E=Jn(e),S=Jn(n),w=r&&r.length===2,O=hle(_,E,S,w,v,t.position,p.orientation,m.orientation,t);if(!O)return null;var I=sle(O,2),N=I[0],L=N.x,C=N.y,M=I[1],A=M.x,P=M.y,k=Oa(t,"hidden")?"url(#".concat(h,")"):void 0,U=SL(SL({clipPath:k},Je(t,!0)),{},{x1:L,y1:C,x2:A,y2:P});return G.createElement(qt,{className:bt("recharts-reference-line",c)},fle(l,U),ir.renderCallByParent(t,joe({x1:L,y1:C,x2:A,y2:P})))}var IA=(function(t){function e(){return Joe(this,e),tle(this,e,arguments)}return ile(e,t),ele(e,[{key:"render",value:function(){return G.createElement(dle,this.props)}}])})(G.Component);CA(IA,"displayName","ReferenceLine");CA(IA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function yE(){return yE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yE.apply(this,arguments)}function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function TL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TL(Object(n),!0).forEach(function(r){lv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ple(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O$(r.key),r)}}function gle(t,e,n){return e&&mle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yle(t,e,n){return e=Xg(e),vle(t,A$()?Reflect.construct(e,n||[],Xg(t).constructor):e.apply(t,n))}function vle(t,e){if(e&&(Mc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ble(t)}function ble(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A$=function(){return!!t})()}function Xg(t){return Xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xg(t)}function _le(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vE(t,e)}function vE(t,e){return vE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vE(t,e)}function lv(t,e,n){return e=O$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O$(t){var e=xle(t,"string");return Mc(e)=="symbol"?e:e+""}function xle(t,e){if(Mc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wle=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,l=SA({x:i.scale,y:s.scale}),c=l.apply({x:n,y:r},{bandAware:!0});return Oa(e,"discard")&&!l.isInRange(c)?null:c},uv=(function(t){function e(){return ple(this,e),yle(this,e,arguments)}return _le(e,t),gle(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,l=r.r,c=r.alwaysShow,f=r.clipPathId,h=Jn(i),p=Jn(s);if(na(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!p)return null;var m=wle(this.props);if(!m)return null;var v=m.x,_=m.y,E=this.props,S=E.shape,w=E.className,O=Oa(this.props,"hidden")?"url(#".concat(f,")"):void 0,I=AL(AL({clipPath:O},Je(this.props,!0)),{},{cx:v,cy:_});return G.createElement(qt,{className:bt("recharts-reference-dot",w)},e.renderDot(S,I),ir.renderCallByParent(this.props,{x:v-l,y:_-l,width:2*l,height:2*l}))}}])})(G.Component);lv(uv,"displayName","ReferenceDot");lv(uv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});lv(uv,"renderDot",function(t,e){var n;return G.isValidElement(t)?n=G.cloneElement(t,e):rt(t)?n=t(e):n=G.createElement(ev,yE({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function bE(){return bE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bE.apply(this,arguments)}function jc(t){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(t)}function OL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OL(Object(n),!0).forEach(function(r){cv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ele(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I$(r.key),r)}}function Tle(t,e,n){return e&&Ele(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ale(t,e,n){return e=Qg(e),Ole(t,C$()?Reflect.construct(e,n||[],Qg(t).constructor):e.apply(t,n))}function Ole(t,e){if(e&&(jc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cle(t)}function Cle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C$=function(){return!!t})()}function Qg(t){return Qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qg(t)}function Ile(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_E(t,e)}function _E(t,e){return _E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_E(t,e)}function cv(t,e,n){return e=I$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I$(t){var e=Ple(t,"string");return jc(e)=="symbol"?e:e+""}function Ple(t,e){if(jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rle=function(e,n,r,i,s){var l=s.x1,c=s.x2,f=s.y1,h=s.y2,p=s.xAxis,m=s.yAxis;if(!p||!m)return null;var v=SA({x:p.scale,y:m.scale}),_={x:e?v.x.apply(l,{position:"start"}):v.x.rangeMin,y:r?v.y.apply(f,{position:"start"}):v.y.rangeMin},E={x:n?v.x.apply(c,{position:"end"}):v.x.rangeMax,y:i?v.y.apply(h,{position:"end"}):v.y.rangeMax};return Oa(s,"discard")&&(!v.isInRange(_)||!v.isInRange(E))?null:m$(_,E)},fv=(function(t){function e(){return Sle(this,e),Ale(this,e,arguments)}return Ile(e,t),Tle(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,l=r.y1,c=r.y2,f=r.className,h=r.alwaysShow,p=r.clipPathId;na(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Jn(i),v=Jn(s),_=Jn(l),E=Jn(c),S=this.props.shape;if(!m&&!v&&!_&&!E&&!S)return null;var w=Rle(m,v,_,E,this.props);if(!w&&!S)return null;var O=Oa(this.props,"hidden")?"url(#".concat(p,")"):void 0;return G.createElement(qt,{className:bt("recharts-reference-area",f)},e.renderRect(S,CL(CL({clipPath:O},Je(this.props,!0)),w)),ir.renderCallByParent(this.props,w))}}])})(G.Component);cv(fv,"displayName","ReferenceArea");cv(fv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});cv(fv,"renderRect",function(t,e){var n;return G.isValidElement(t)?n=G.cloneElement(t,e):rt(t)?n=t(e):n=G.createElement(wA,bE({},e,{className:"recharts-reference-area-rect"})),n});function P$(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Nle(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Loe(r,n)}function kle(t,e,n){var r=n==="width",i=t.x,s=t.y,l=t.width,c=t.height;return e===1?{start:r?i:s,end:r?i+l:s+c}:{start:r?i+l:s+c,end:r?i:s}}function Jg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function Mle(t,e){return P$(t,e+1)}function jle(t,e,n,r,i){for(var s=(r||[]).slice(),l=e.start,c=e.end,f=0,h=1,p=l,m=function(){var E=r==null?void 0:r[f];if(E===void 0)return{v:P$(r,h)};var S=f,w,O=function(){return w===void 0&&(w=n(E,S)),w},I=E.coordinate,N=f===0||Jg(t,I,O,p,c);N||(f=0,p=l,h+=1),N&&(p=I+t*(O()/2+i),f+=h)},v;h<=s.length;)if(v=m(),v)return v.v;return[]}function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function IL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IL(Object(n),!0).forEach(function(r){Dle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dle(t,e,n){return e=Lle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lle(t){var e=Vle(t,"string");return bd(e)=="symbol"?e:e+""}function Vle(t,e){if(bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $le(t,e,n,r,i){for(var s=(r||[]).slice(),l=s.length,c=e.start,f=e.end,h=function(v){var _=s[v],E,S=function(){return E===void 0&&(E=n(_,v)),E};if(v===l-1){var w=t*(_.coordinate+t*S()/2-f);s[v]=_=Tr(Tr({},_),{},{tickCoord:w>0?_.coordinate-w*t:_.coordinate})}else s[v]=_=Tr(Tr({},_),{},{tickCoord:_.coordinate});var O=Jg(t,_.tickCoord,S,c,f);O&&(f=_.tickCoord-t*(S()/2+i),s[v]=Tr(Tr({},_),{},{isShow:!0}))},p=l-1;p>=0;p--)h(p);return s}function Ule(t,e,n,r,i,s){var l=(r||[]).slice(),c=l.length,f=e.start,h=e.end;if(s){var p=r[c-1],m=n(p,c-1),v=t*(p.coordinate+t*m/2-h);l[c-1]=p=Tr(Tr({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate});var _=Jg(t,p.tickCoord,function(){return m},f,h);_&&(h=p.tickCoord-t*(m/2+i),l[c-1]=Tr(Tr({},p),{},{isShow:!0}))}for(var E=s?c-1:c,S=function(I){var N=l[I],L,C=function(){return L===void 0&&(L=n(N,I)),L};if(I===0){var M=t*(N.coordinate-t*C()/2-f);l[I]=N=Tr(Tr({},N),{},{tickCoord:M<0?N.coordinate-M*t:N.coordinate})}else l[I]=N=Tr(Tr({},N),{},{tickCoord:N.coordinate});var A=Jg(t,N.tickCoord,C,f,h);A&&(f=N.tickCoord+t*(C()/2+i),l[I]=Tr(Tr({},N),{},{isShow:!0}))},w=0;w<E;w++)S(w);return l}function PA(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,l=t.minTickGap,c=t.orientation,f=t.interval,h=t.tickFormatter,p=t.unit,m=t.angle;if(!i||!i.length||!r)return[];if(Ce(f)||Gl.isSsr)return Mle(i,typeof f=="number"&&Ce(f)?f:0);var v=[],_=c==="top"||c==="bottom"?"width":"height",E=p&&_==="width"?Ah(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=function(N,L){var C=rt(h)?h(N.value,L):N.value;return _==="width"?Nle(Ah(C,{fontSize:e,letterSpacing:n}),E,m):Ah(C,{fontSize:e,letterSpacing:n})[_]},w=i.length>=2?jr(i[1].coordinate-i[0].coordinate):1,O=kle(s,w,_);return f==="equidistantPreserveStart"?jle(w,O,S,i,l):(f==="preserveStart"||f==="preserveStartEnd"?v=Ule(w,O,S,i,l,f==="preserveStartEnd"):v=$le(w,O,S,i,l),v.filter(function(I){return I.isShow}))}var Ble=["viewBox"],qle=["viewBox"],zle=["ticks"];function Dc(t){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(t)}function Ju(){return Ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ju.apply(this,arguments)}function PL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PL(Object(n),!0).forEach(function(r){RA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E1(t,e){if(t==null)return{};var n=Fle(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Hle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,N$(r.key),r)}}function Gle(t,e,n){return e&&RL(t.prototype,e),n&&RL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kle(t,e,n){return e=Zg(e),Wle(t,R$()?Reflect.construct(e,n||[],Zg(t).constructor):e.apply(t,n))}function Wle(t,e){if(e&&(Dc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yle(t)}function Yle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R$=function(){return!!t})()}function Zg(t){return Zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zg(t)}function Xle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xE(t,e)}function xE(t,e){return xE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xE(t,e)}function RA(t,e,n){return e=N$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N$(t){var e=Qle(t,"string");return Dc(e)=="symbol"?e:e+""}function Qle(t,e){if(Dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rf=(function(t){function e(n){var r;return Hle(this,e),r=Kle(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Xle(e,t),Gle(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,l=E1(r,Ble),c=this.props,f=c.viewBox,h=E1(c,qle);return!ac(s,f)||!ac(l,h)||!ac(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,l=i.y,c=i.width,f=i.height,h=i.orientation,p=i.tickSize,m=i.mirror,v=i.tickMargin,_,E,S,w,O,I,N=m?-1:1,L=r.tickSize||p,C=Ce(r.tickCoord)?r.tickCoord:r.coordinate;switch(h){case"top":_=E=r.coordinate,w=l+ +!m*f,S=w-N*L,I=S-N*v,O=C;break;case"left":S=w=r.coordinate,E=s+ +!m*c,_=E-N*L,O=_-N*v,I=C;break;case"right":S=w=r.coordinate,E=s+ +m*c,_=E+N*L,O=_+N*v,I=C;break;default:_=E=r.coordinate,w=l+ +m*f,S=w+N*L,I=S+N*v,O=C;break}return{line:{x1:_,y1:S,x2:E,y2:w},tick:{x:O,y:I}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,l;switch(i){case"left":l=s?"start":"end";break;case"right":l=s?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,l="end";switch(i){case"left":case"right":l="middle";break;case"top":l=s?"start":"end";break;default:l=s?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,l=r.width,c=r.height,f=r.orientation,h=r.mirror,p=r.axisLine,m=Kn(Kn(Kn({},Je(this.props,!1)),Je(p,!1)),{},{fill:"none"});if(f==="top"||f==="bottom"){var v=+(f==="top"&&!h||f==="bottom"&&h);m=Kn(Kn({},m),{},{x1:i,y1:s+v*c,x2:i+l,y2:s+v*c})}else{var _=+(f==="left"&&!h||f==="right"&&h);m=Kn(Kn({},m),{},{x1:i+_*l,y1:s,x2:i+_*l,y2:s+c})}return G.createElement("line",Ju({},m,{className:bt("recharts-cartesian-axis-line",di(p,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var l=this,c=this.props,f=c.tickLine,h=c.stroke,p=c.tick,m=c.tickFormatter,v=c.unit,_=PA(Kn(Kn({},this.props),{},{ticks:r}),i,s),E=this.getTickTextAnchor(),S=this.getTickVerticalAnchor(),w=Je(this.props,!1),O=Je(p,!1),I=Kn(Kn({},w),{},{fill:"none"},Je(f,!1)),N=_.map(function(L,C){var M=l.getTickLineCoord(L),A=M.line,P=M.tick,k=Kn(Kn(Kn(Kn({textAnchor:E,verticalAnchor:S},w),{},{stroke:"none",fill:h},O),P),{},{index:C,payload:L,visibleTicksCount:_.length,tickFormatter:m});return G.createElement(qt,Ju({className:"recharts-cartesian-axis-tick",key:"tick-".concat(L.value,"-").concat(L.coordinate,"-").concat(L.tickCoord)},Dl(l.props,L,C)),f&&G.createElement("line",Ju({},I,A,{className:bt("recharts-cartesian-axis-tick-line",di(f,"className"))})),p&&e.renderTickItem(p,k,"".concat(rt(m)?m(L.value,C):L.value).concat(v||"")))});return G.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,l=i.width,c=i.height,f=i.ticksGenerator,h=i.className,p=i.hide;if(p)return null;var m=this.props,v=m.ticks,_=E1(m,zle),E=v;return rt(f)&&(E=v&&v.length>0?f(this.props):f(_)),l<=0||c<=0||!E||!E.length?null:G.createElement(qt,{className:bt("recharts-cartesian-axis",h),ref:function(w){r.layerReference=w}},s&&this.renderAxisLine(),this.renderTicks(E,this.state.fontSize,this.state.letterSpacing),ir.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var l,c=bt(i.className,"recharts-cartesian-axis-tick-value");return G.isValidElement(r)?l=G.cloneElement(r,Kn(Kn({},i),{},{className:c})):rt(r)?l=r(Kn(Kn({},i),{},{className:c})):l=G.createElement(Ll,Ju({},i,{className:"recharts-cartesian-axis-tick-value"}),s),l}}])})($.Component);RA(rf,"displayName","CartesianAxis");RA(rf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Jle=["x1","y1","x2","y2","key"],Zle=["offset"];function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function NL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NL(Object(n),!0).forEach(function(r){eue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eue(t,e,n){return e=tue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tue(t){var e=nue(t,"string");return Ul(e)=="symbol"?e:e+""}function nue(t,e){if(Ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function El(){return El=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},El.apply(this,arguments)}function kL(t,e){if(t==null)return{};var n=rue(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var iue=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,l=e.width,c=e.height,f=e.ry;return G.createElement("rect",{x:i,y:s,ry:f,width:l,height:c,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function k$(t,e){var n;if(G.isValidElement(t))n=G.cloneElement(t,e);else if(rt(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,l=e.y2,c=e.key,f=kL(e,Jle),h=Je(f,!1);h.offset;var p=kL(h,Zle);n=G.createElement("line",El({},p,{x1:r,y1:i,x2:s,y2:l,fill:"none",key:c}))}return n}function aue(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var l=s.map(function(c,f){var h=Cr(Cr({},t),{},{x1:e,y1:c,x2:e+n,y2:c,key:"line-".concat(f),index:f});return k$(i,h)});return G.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function sue(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var l=s.map(function(c,f){var h=Cr(Cr({},t),{},{x1:c,y1:e,x2:c,y2:e+n,key:"line-".concat(f),index:f});return k$(i,h)});return G.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function oue(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,l=t.height,c=t.horizontalPoints,f=t.horizontal,h=f===void 0?!0:f;if(!h||!e||!e.length)return null;var p=c.map(function(v){return Math.round(v+i-i)}).sort(function(v,_){return v-_});i!==p[0]&&p.unshift(0);var m=p.map(function(v,_){var E=!p[_+1],S=E?i+l-v:p[_+1]-v;if(S<=0)return null;var w=_%e.length;return G.createElement("rect",{key:"react-".concat(_),y:v,x:r,height:S,width:s,stroke:"none",fill:e[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return G.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function lue(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,l=t.y,c=t.width,f=t.height,h=t.verticalPoints;if(!n||!r||!r.length)return null;var p=h.map(function(v){return Math.round(v+s-s)}).sort(function(v,_){return v-_});s!==p[0]&&p.unshift(0);var m=p.map(function(v,_){var E=!p[_+1],S=E?s+c-v:p[_+1]-v;if(S<=0)return null;var w=_%r.length;return G.createElement("rect",{key:"react-".concat(_),x:v,y:l,width:S,height:f,stroke:"none",fill:r[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return G.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var uue=function(e,n){var r=e.xAxis,i=e.width,s=e.height,l=e.offset;return jV(PA(Cr(Cr(Cr({},rf.defaultProps),r),{},{ticks:cs(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),l.left,l.left+l.width,n)},cue=function(e,n){var r=e.yAxis,i=e.width,s=e.height,l=e.offset;return jV(PA(Cr(Cr(Cr({},rf.defaultProps),r),{},{ticks:cs(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),l.top,l.top+l.height,n)},Bu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function M$(t){var e,n,r,i,s,l,c=AA(),f=OA(),h=Qoe(),p=Cr(Cr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Bu.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Bu.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Bu.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Bu.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:Bu.vertical,verticalFill:(l=t.verticalFill)!==null&&l!==void 0?l:Bu.verticalFill,x:Ce(t.x)?t.x:h.left,y:Ce(t.y)?t.y:h.top,width:Ce(t.width)?t.width:h.width,height:Ce(t.height)?t.height:h.height}),m=p.x,v=p.y,_=p.width,E=p.height,S=p.syncWithTicks,w=p.horizontalValues,O=p.verticalValues,I=Woe(),N=Yoe();if(!Ce(_)||_<=0||!Ce(E)||E<=0||!Ce(m)||m!==+m||!Ce(v)||v!==+v)return null;var L=p.verticalCoordinatesGenerator||uue,C=p.horizontalCoordinatesGenerator||cue,M=p.horizontalPoints,A=p.verticalPoints;if((!M||!M.length)&&rt(C)){var P=w&&w.length,k=C({yAxis:N?Cr(Cr({},N),{},{ticks:P?w:N.ticks}):void 0,width:c,height:f,offset:h},P?!0:S);na(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ul(k),"]")),Array.isArray(k)&&(M=k)}if((!A||!A.length)&&rt(L)){var U=O&&O.length,D=L({xAxis:I?Cr(Cr({},I),{},{ticks:U?O:I.ticks}):void 0,width:c,height:f,offset:h},U?!0:S);na(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ul(D),"]")),Array.isArray(D)&&(A=D)}return G.createElement("g",{className:"recharts-cartesian-grid"},G.createElement(iue,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),G.createElement(aue,El({},p,{offset:h,horizontalPoints:M,xAxis:I,yAxis:N})),G.createElement(sue,El({},p,{offset:h,verticalPoints:A,xAxis:I,yAxis:N})),G.createElement(oue,El({},p,{horizontalPoints:M})),G.createElement(lue,El({},p,{verticalPoints:A})))}M$.displayName="CartesianGrid";var fue=["type","layout","connectNulls","ref"],hue=["key"];function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}function ML(t,e){if(t==null)return{};var n=due(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function due(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Nh(){return Nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nh.apply(this,arguments)}function jL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jL(Object(n),!0).forEach(function(r){Qi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qu(t){return yue(t)||gue(t)||mue(t)||pue()}function pue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mue(t,e){if(t){if(typeof t=="string")return wE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wE(t,e)}}function gue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yue(t){if(Array.isArray(t))return wE(t)}function wE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,D$(r.key),r)}}function bue(t,e,n){return e&&DL(t.prototype,e),n&&DL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _ue(t,e,n){return e=ey(e),xue(t,j$()?Reflect.construct(e,n||[],ey(t).constructor):e.apply(t,n))}function xue(t,e){if(e&&(Lc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wue(t)}function wue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j$=function(){return!!t})()}function ey(t){return ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ey(t)}function Sue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SE(t,e)}function SE(t,e){return SE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},SE(t,e)}function Qi(t,e,n){return e=D$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function D$(t){var e=Eue(t,"string");return Lc(e)=="symbol"?e:e+""}function Eue(t,e){if(Lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vc=(function(t){function e(){var n;vue(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=_ue(this,e,[].concat(i)),Qi(n,"state",{isAnimationFinished:!0,totalLength:0}),Qi(n,"generateSimpleStrokeDasharray",function(l,c){return"".concat(c,"px ").concat(l-c,"px")}),Qi(n,"getStrokeDasharray",function(l,c,f){var h=f.reduce(function(O,I){return O+I});if(!h)return n.generateSimpleStrokeDasharray(c,l);for(var p=Math.floor(l/h),m=l%h,v=c-l,_=[],E=0,S=0;E<f.length;S+=f[E],++E)if(S+f[E]>m){_=[].concat(qu(f.slice(0,E)),[m-S]);break}var w=_.length%2===0?[0,v]:[v];return[].concat(qu(e.repeat(f,p)),qu(_),w).map(function(O){return"".concat(O,"px")}).join(", ")}),Qi(n,"id",Jc("recharts-line-")),Qi(n,"pathRef",function(l){n.mainCurve=l}),Qi(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Qi(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Sue(e,t),bue(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.points,c=s.xAxis,f=s.yAxis,h=s.layout,p=s.children,m=pi(p,qd);if(!m)return null;var v=function(S,w){return{x:S.x,y:S.y,value:S.value,errorVal:Xn(S.payload,w)}},_={clipPath:r?"url(#clipPath-".concat(i,")"):null};return G.createElement(qt,_,m.map(function(E){return G.cloneElement(E,{key:"bar-".concat(E.props.dataKey),data:l,xAxis:c,yAxis:f,layout:h,dataPointFormatter:v})}))}},{key:"renderDots",value:function(r,i,s){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var c=this.props,f=c.dot,h=c.points,p=c.dataKey,m=Je(this.props,!1),v=Je(f,!0),_=h.map(function(S,w){var O=oi(oi(oi({key:"dot-".concat(w),r:3},m),v),{},{index:w,cx:S.x,cy:S.y,value:S.value,dataKey:p,payload:S.payload,points:h});return e.renderDotItem(f,O)}),E={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return G.createElement(qt,Nh({className:"recharts-line-dots",key:"dots"},E),_)}},{key:"renderCurveStatically",value:function(r,i,s,l){var c=this.props,f=c.type,h=c.layout,p=c.connectNulls;c.ref;var m=ML(c,fue),v=oi(oi(oi({},Je(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},l),{},{type:f,layout:h,connectNulls:p});return G.createElement(Mg,Nh({},v,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,l=this.props,c=l.points,f=l.strokeDasharray,h=l.isAnimationActive,p=l.animationBegin,m=l.animationDuration,v=l.animationEasing,_=l.animationId,E=l.animateNewValues,S=l.width,w=l.height,O=this.state,I=O.prevPoints,N=O.totalLength;return G.createElement(Na,{begin:p,duration:m,isActive:h,easing:v,from:{t:0},to:{t:1},key:"line-".concat(_),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(L){var C=L.t;if(I){var M=I.length/c.length,A=c.map(function(B,V){var Q=Math.floor(V*M);if(I[Q]){var J=I[Q],H=ci(J.x,B.x),Y=ci(J.y,B.y);return oi(oi({},B),{},{x:H(C),y:Y(C)})}if(E){var ee=ci(S*2,B.x),ue=ci(w/2,B.y);return oi(oi({},B),{},{x:ee(C),y:ue(C)})}return oi(oi({},B),{},{x:B.x,y:B.y})});return s.renderCurveStatically(A,r,i)}var P=ci(0,N),k=P(C),U;if(f){var D="".concat(f).split(/[,\s]+/gim).map(function(B){return parseFloat(B)});U=s.getStrokeDasharray(k,N,D)}else U=s.generateSimpleStrokeDasharray(N,k);return s.renderCurveStatically(c,r,i,{strokeDasharray:U})})}},{key:"renderCurve",value:function(r,i){var s=this.props,l=s.points,c=s.isAnimationActive,f=this.state,h=f.prevPoints,p=f.totalLength;return c&&l&&l.length&&(!h&&p>0||!Bd(h,l))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(l,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,l=i.dot,c=i.points,f=i.className,h=i.xAxis,p=i.yAxis,m=i.top,v=i.left,_=i.width,E=i.height,S=i.isAnimationActive,w=i.id;if(s||!c||!c.length)return null;var O=this.state.isAnimationFinished,I=c.length===1,N=bt("recharts-line",f),L=h&&h.allowDataOverflow,C=p&&p.allowDataOverflow,M=L||C,A=ct(w)?this.id:w,P=(r=Je(l,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=P.r,U=k===void 0?3:k,D=P.strokeWidth,B=D===void 0?2:D,V=tW(l)?l:{},Q=V.clipDot,J=Q===void 0?!0:Q,H=U*2+B;return G.createElement(qt,{className:N},L||C?G.createElement("defs",null,G.createElement("clipPath",{id:"clipPath-".concat(A)},G.createElement("rect",{x:L?v:v-_/2,y:C?m:m-E/2,width:L?_:_*2,height:C?E:E*2})),!J&&G.createElement("clipPath",{id:"clipPath-dots-".concat(A)},G.createElement("rect",{x:v-H/2,y:m-H/2,width:_+H,height:E+H}))):null,!I&&this.renderCurve(M,A),this.renderErrorBar(M,A),(I||l)&&this.renderDots(M,J,A),(!S||O)&&ds.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(qu(r),[0]):r,l=[],c=0;c<i;++c)l=[].concat(qu(l),qu(s));return l}},{key:"renderDotItem",value:function(r,i){var s;if(G.isValidElement(r))s=G.cloneElement(r,i);else if(rt(r))s=r(i);else{var l=i.key,c=ML(i,hue),f=bt("recharts-line-dot",typeof r!="boolean"?r.className:"");s=G.createElement(ev,Nh({key:l},c,{className:f}))}return s}}])})($.PureComponent);Qi(Vc,"displayName","Line");Qi(Vc,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Gl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Qi(Vc,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,l=t.dataKey,c=t.bandSize,f=t.displayedData,h=t.offset,p=e.layout,m=f.map(function(v,_){var E=Xn(v,l);return p==="horizontal"?{x:Vj({axis:n,ticks:i,bandSize:c,entry:v,index:_}),y:ct(E)?null:r.scale(E),value:E,payload:v}:{x:ct(E)?null:n.scale(E),y:Vj({axis:r,ticks:s,bandSize:c,entry:v,index:_}),value:E,payload:v}});return oi({points:m,layout:p},h)});function $c(t){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(t)}function Tue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Aue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$$(r.key),r)}}function Oue(t,e,n){return e&&Aue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cue(t,e,n){return e=ty(e),Iue(t,L$()?Reflect.construct(e,n||[],ty(t).constructor):e.apply(t,n))}function Iue(t,e){if(e&&($c(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pue(t)}function Pue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L$=function(){return!!t})()}function ty(t){return ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ty(t)}function Rue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EE(t,e)}function EE(t,e){return EE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},EE(t,e)}function V$(t,e,n){return e=$$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $$(t){var e=Nue(t,"string");return $c(e)=="symbol"?e:e+""}function Nue(t,e){if($c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function TE(){return TE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TE.apply(this,arguments)}function kue(t){var e=t.xAxisId,n=AA(),r=OA(),i=w$(e);return i==null?null:$.createElement(rf,TE({},i,{className:bt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(l){return cs(l,!0)}}))}var hv=(function(t){function e(){return Tue(this,e),Cue(this,e,arguments)}return Rue(e,t),Oue(e,[{key:"render",value:function(){return $.createElement(kue,this.props)}}])})($.Component);V$(hv,"displayName","XAxis");V$(hv,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function Mue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,q$(r.key),r)}}function Due(t,e,n){return e&&jue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lue(t,e,n){return e=ny(e),Vue(t,U$()?Reflect.construct(e,n||[],ny(t).constructor):e.apply(t,n))}function Vue(t,e){if(e&&(Uc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $ue(t)}function $ue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U$=function(){return!!t})()}function ny(t){return ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ny(t)}function Uue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AE(t,e)}function AE(t,e){return AE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AE(t,e)}function B$(t,e,n){return e=q$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q$(t){var e=Bue(t,"string");return Uc(e)=="symbol"?e:e+""}function Bue(t,e){if(Uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function OE(){return OE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OE.apply(this,arguments)}var que=function(e){var n=e.yAxisId,r=AA(),i=OA(),s=S$(n);return s==null?null:$.createElement(rf,OE({},s,{className:bt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(c){return cs(c,!0)}}))},_d=(function(t){function e(){return Mue(this,e),Lue(this,e,arguments)}return Uue(e,t),Due(e,[{key:"render",value:function(){return $.createElement(que,this.props)}}])})($.Component);B$(_d,"displayName","YAxis");B$(_d,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function LL(t){return Gue(t)||Hue(t)||Fue(t)||zue()}function zue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fue(t,e){if(t){if(typeof t=="string")return CE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CE(t,e)}}function Hue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gue(t){if(Array.isArray(t))return CE(t)}function CE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var IE=function(e,n,r,i,s){var l=pi(e,IA),c=pi(e,uv),f=[].concat(LL(l),LL(c)),h=pi(e,fv),p="".concat(i,"Id"),m=i[0],v=n;if(f.length&&(v=f.reduce(function(S,w){if(w.props[p]===r&&Oa(w.props,"extendDomain")&&Ce(w.props[m])){var O=w.props[m];return[Math.min(S[0],O),Math.max(S[1],O)]}return S},v)),h.length){var _="".concat(m,"1"),E="".concat(m,"2");v=h.reduce(function(S,w){if(w.props[p]===r&&Oa(w.props,"extendDomain")&&Ce(w.props[_])&&Ce(w.props[E])){var O=w.props[_],I=w.props[E];return[Math.min(S[0],O,I),Math.max(S[1],O,I)]}return S},v)}return s&&s.length&&(v=s.reduce(function(S,w){return Ce(w)?[Math.min(S[0],w),Math.max(S[1],w)]:S},v)),v},T1={exports:{}},VL;function Kue(){return VL||(VL=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function s(f,h,p,m,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var _=new i(p,m||f,v),E=n?n+h:h;return f._events[E]?f._events[E].fn?f._events[E]=[f._events[E],_]:f._events[E].push(_):(f._events[E]=_,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],p,m;if(this._eventsCount===0)return h;for(m in p=this._events)e.call(p,m)&&h.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},c.prototype.listeners=function(h){var p=n?n+h:h,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,_=m.length,E=new Array(_);v<_;v++)E[v]=m[v].fn;return E},c.prototype.listenerCount=function(h){var p=n?n+h:h,m=this._events[p];return m?m.fn?1:m.length:0},c.prototype.emit=function(h,p,m,v,_,E){var S=n?n+h:h;if(!this._events[S])return!1;var w=this._events[S],O=arguments.length,I,N;if(w.fn){switch(w.once&&this.removeListener(h,w.fn,void 0,!0),O){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,p),!0;case 3:return w.fn.call(w.context,p,m),!0;case 4:return w.fn.call(w.context,p,m,v),!0;case 5:return w.fn.call(w.context,p,m,v,_),!0;case 6:return w.fn.call(w.context,p,m,v,_,E),!0}for(N=1,I=new Array(O-1);N<O;N++)I[N-1]=arguments[N];w.fn.apply(w.context,I)}else{var L=w.length,C;for(N=0;N<L;N++)switch(w[N].once&&this.removeListener(h,w[N].fn,void 0,!0),O){case 1:w[N].fn.call(w[N].context);break;case 2:w[N].fn.call(w[N].context,p);break;case 3:w[N].fn.call(w[N].context,p,m);break;case 4:w[N].fn.call(w[N].context,p,m,v);break;default:if(!I)for(C=1,I=new Array(O-1);C<O;C++)I[C-1]=arguments[C];w[N].fn.apply(w[N].context,I)}}return!0},c.prototype.on=function(h,p,m){return s(this,h,p,m,!1)},c.prototype.once=function(h,p,m){return s(this,h,p,m,!0)},c.prototype.removeListener=function(h,p,m,v){var _=n?n+h:h;if(!this._events[_])return this;if(!p)return l(this,_),this;var E=this._events[_];if(E.fn)E.fn===p&&(!v||E.once)&&(!m||E.context===m)&&l(this,_);else{for(var S=0,w=[],O=E.length;S<O;S++)(E[S].fn!==p||v&&!E[S].once||m&&E[S].context!==m)&&w.push(E[S]);w.length?this._events[_]=w.length===1?w[0]:w:l(this,_)}return this},c.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(T1)),T1.exports}var Wue=Kue();const Yue=Gt(Wue);var A1=new Yue,O1="recharts.syncMouseEvents";function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}function Xue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Que(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,z$(r.key),r)}}function Jue(t,e,n){return e&&Que(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function C1(t,e,n){return e=z$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z$(t){var e=Zue(t,"string");return xd(e)=="symbol"?e:e+""}function Zue(t,e){if(xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ece=(function(){function t(){Xue(this,t),C1(this,"activeIndex",0),C1(this,"coordinateList",[]),C1(this,"layout","horizontal")}return Jue(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,l=n.container,c=l===void 0?null:l,f=n.layout,h=f===void 0?null:f,p=n.offset,m=p===void 0?null:p,v=n.mouseHandlerCallback,_=v===void 0?null:v;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=c??this.container,this.layout=h??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=_??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,l=i.y,c=i.height,f=this.coordinateList[this.activeIndex].coordinate,h=((n=window)===null||n===void 0?void 0:n.scrollX)||0,p=((r=window)===null||r===void 0?void 0:r.scrollY)||0,m=s+f+h,v=l+this.offset.top+c/2+p;this.mouseHandlerCallback({pageX:m,pageY:v})}}}])})();function tce(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Ce(r)&&Ce(i))return!0}return!1}function nce(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function F$(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,l=fn(e,n,r,i),c=fn(e,n,r,s);return{points:[l,c],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function rce(t,e,n){var r,i,s,l;if(t==="horizontal")r=e.x,s=r,i=n.top,l=n.top+n.height;else if(t==="vertical")i=e.y,l=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var c=e.cx,f=e.cy,h=e.innerRadius,p=e.outerRadius,m=e.angle,v=fn(c,f,h,m),_=fn(c,f,p,m);r=v.x,i=v.y,s=_.x,l=_.y}else return F$(e);return[{x:r,y:i},{x:s,y:l}]}function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function $L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Em(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$L(Object(n),!0).forEach(function(r){ice(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$L(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ice(t,e,n){return e=ace(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ace(t){var e=sce(t,"string");return wd(e)=="symbol"?e:e+""}function sce(t,e){if(wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oce(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,l=t.activeCoordinate,c=t.activePayload,f=t.offset,h=t.activeTooltipIndex,p=t.tooltipAxisBandSize,m=t.layout,v=t.chartName,_=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!_||!s||!l||v!=="ScatterChart"&&i!=="axis")return null;var E,S=Mg;if(v==="ScatterChart")E=l,S=Cae;else if(v==="BarChart")E=nce(m,l,f,p),S=wA;else if(m==="radial"){var w=F$(l),O=w.cx,I=w.cy,N=w.radius,L=w.startAngle,C=w.endAngle;E={cx:O,cy:I,startAngle:L,endAngle:C,innerRadius:N,outerRadius:N},S=xA}else E={points:rce(m,l,f)},S=Mg;var M=Em(Em(Em(Em({stroke:"#ccc",pointerEvents:"none"},f),E),Je(_,!1)),{},{payload:c,payloadIndex:h,className:bt("recharts-tooltip-cursor",_.className)});return $.isValidElement(_)?$.cloneElement(_,M):$.createElement(S,M)}var lce=["item"],uce=["children","className","width","height","style","compact","title","desc"];function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function Zu(){return Zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zu.apply(this,arguments)}function UL(t,e){return hce(t)||fce(t,e)||G$(t,e)||cce()}function cce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,c=[],f=!0,h=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function hce(t){if(Array.isArray(t))return t}function BL(t,e){if(t==null)return{};var n=dce(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K$(r.key),r)}}function gce(t,e,n){return e&&mce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yce(t,e,n){return e=ry(e),vce(t,H$()?Reflect.construct(e,n||[],ry(t).constructor):e.apply(t,n))}function vce(t,e){if(e&&(Bc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bce(t)}function bce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H$=function(){return!!t})()}function ry(t){return ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ry(t)}function _ce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PE(t,e)}function PE(t,e){return PE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PE(t,e)}function qc(t){return Sce(t)||wce(t)||G$(t)||xce()}function xce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G$(t,e){if(t){if(typeof t=="string")return RE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RE(t,e)}}function wce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Sce(t){if(Array.isArray(t))return RE(t)}function RE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function de(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qL(Object(n),!0).forEach(function(r){tt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tt(t,e,n){return e=K$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K$(t){var e=Ece(t,"string");return Bc(e)=="symbol"?e:e+""}function Ece(t,e){if(Bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tce={xAxis:["bottom","top"],yAxis:["left","right"]},Ace={width:"100%",height:"100%"},W$={x:0,y:0};function Tm(t){return t}var Oce=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Cce=function(e,n,r,i){var s=n.find(function(p){return p&&p.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var l=s.coordinate,c=i.radius;return de(de(de({},i),fn(i.cx,i.cy,c,l)),{},{angle:l,radius:c})}var f=s.coordinate,h=i.angle;return de(de(de({},i),fn(i.cx,i.cy,f,h)),{},{angle:h,radius:f})}return W$},dv=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,l=(r??[]).reduce(function(c,f){var h=f.props.data;return h&&h.length?[].concat(qc(c),qc(h)):c},[]);return l.length>0?l:e&&e.length&&Ce(i)&&Ce(s)?e.slice(i,s+1):[]};function Y$(t){return t==="number"?[0,"auto"]:void 0}var NE=function(e,n,r,i){var s=e.graphicalItems,l=e.tooltipAxis,c=dv(n,e);return r<0||!s||!s.length||r>=c.length?null:s.reduce(function(f,h){var p,m=(p=h.props.data)!==null&&p!==void 0?p:n;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var v;if(l.dataKey&&!l.allowDuplicatedCategory){var _=m===void 0?c:m;v=sg(_,l.dataKey,i)}else v=m&&m[r]||c[r];return v?[].concat(qc(f),[UV(h,v)]):f},[])},zL=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},l=Oce(s,r),c=e.orderedTooltipTicks,f=e.tooltipAxis,h=e.tooltipTicks,p=Jte(l,c,h,f);if(p>=0&&h){var m=h[p]&&h[p].value,v=NE(e,n,p,m),_=Cce(r,c,p,s);return{activeTooltipIndex:p,activeLabel:m,activePayload:v,activeCoordinate:_}}return null},Ice=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,l=n.axisIdKey,c=n.stackGroups,f=n.dataStartIndex,h=n.dataEndIndex,p=e.layout,m=e.children,v=e.stackOffset,_=MV(p,s);return r.reduce(function(E,S){var w,O=S.type.defaultProps!==void 0?de(de({},S.type.defaultProps),S.props):S.props,I=O.type,N=O.dataKey,L=O.allowDataOverflow,C=O.allowDuplicatedCategory,M=O.scale,A=O.ticks,P=O.includeHidden,k=O[l];if(E[k])return E;var U=dv(e.data,{graphicalItems:i.filter(function(W){var oe,me=l in W.props?W.props[l]:(oe=W.type.defaultProps)===null||oe===void 0?void 0:oe[l];return me===k}),dataStartIndex:f,dataEndIndex:h}),D=U.length,B,V,Q;tce(O.domain,L,I)&&(B=GS(O.domain,null,L),_&&(I==="number"||M!=="auto")&&(Q=Ch(U,N,"category")));var J=Y$(I);if(!B||B.length===0){var H,Y=(H=O.domain)!==null&&H!==void 0?H:J;if(N){if(B=Ch(U,N,I),I==="category"&&_){var ee=HK(B);C&&ee?(V=B,B=Fg(0,D)):C||(B=qj(Y,B,S).reduce(function(W,oe){return W.indexOf(oe)>=0?W:[].concat(qc(W),[oe])},[]))}else if(I==="category")C?B=B.filter(function(W){return W!==""&&!ct(W)}):B=qj(Y,B,S).reduce(function(W,oe){return W.indexOf(oe)>=0||oe===""||ct(oe)?W:[].concat(qc(W),[oe])},[]);else if(I==="number"){var ue=rne(U,i.filter(function(W){var oe,me,we=l in W.props?W.props[l]:(oe=W.type.defaultProps)===null||oe===void 0?void 0:oe[l],Se="hide"in W.props?W.props.hide:(me=W.type.defaultProps)===null||me===void 0?void 0:me.hide;return we===k&&(P||!Se)}),N,s,p);ue&&(B=ue)}_&&(I==="number"||M!=="auto")&&(Q=Ch(U,N,"category"))}else _?B=Fg(0,D):c&&c[k]&&c[k].hasStack&&I==="number"?B=v==="expand"?[0,1]:$V(c[k].stackGroups,f,h):B=kV(U,i.filter(function(W){var oe=l in W.props?W.props[l]:W.type.defaultProps[l],me="hide"in W.props?W.props.hide:W.type.defaultProps.hide;return oe===k&&(P||!me)}),I,p,!0);if(I==="number")B=IE(m,B,k,s,A),Y&&(B=GS(Y,B,L));else if(I==="category"&&Y){var ve=Y,F=B.every(function(W){return ve.indexOf(W)>=0});F&&(B=ve)}}return de(de({},E),{},tt({},k,de(de({},O),{},{axisType:s,domain:B,categoricalDomain:Q,duplicateDomain:V,originalDomain:(w=O.domain)!==null&&w!==void 0?w:J,isCategorical:_,layout:p})))},{})},Pce=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,l=n.axisIdKey,c=n.stackGroups,f=n.dataStartIndex,h=n.dataEndIndex,p=e.layout,m=e.children,v=dv(e.data,{graphicalItems:r,dataStartIndex:f,dataEndIndex:h}),_=v.length,E=MV(p,s),S=-1;return r.reduce(function(w,O){var I=O.type.defaultProps!==void 0?de(de({},O.type.defaultProps),O.props):O.props,N=I[l],L=Y$("number");if(!w[N]){S++;var C;return E?C=Fg(0,_):c&&c[N]&&c[N].hasStack?(C=$V(c[N].stackGroups,f,h),C=IE(m,C,N,s)):(C=GS(L,kV(v,r.filter(function(M){var A,P,k=l in M.props?M.props[l]:(A=M.type.defaultProps)===null||A===void 0?void 0:A[l],U="hide"in M.props?M.props.hide:(P=M.type.defaultProps)===null||P===void 0?void 0:P.hide;return k===N&&!U}),"number",p),i.defaultProps.allowDataOverflow),C=IE(m,C,N,s)),de(de({},w),{},tt({},N,de(de({axisType:s},i.defaultProps),{},{hide:!0,orientation:di(Tce,"".concat(s,".").concat(S%2),null),domain:C,originalDomain:L,isCategorical:E,layout:p})))}return w},{})},Rce=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,l=n.graphicalItems,c=n.stackGroups,f=n.dataStartIndex,h=n.dataEndIndex,p=e.children,m="".concat(i,"Id"),v=pi(p,s),_={};return v&&v.length?_=Ice(e,{axes:v,graphicalItems:l,axisType:i,axisIdKey:m,stackGroups:c,dataStartIndex:f,dataEndIndex:h}):l&&l.length&&(_=Pce(e,{Axis:s,graphicalItems:l,axisType:i,axisIdKey:m,stackGroups:c,dataStartIndex:f,dataEndIndex:h})),_},Nce=function(e){var n=uo(e),r=cs(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:WT(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Rg(n,r)}},FL=function(e){var n=e.children,r=e.defaultShowTooltip,i=ui(n,Rc),s=0,l=0;return e.data&&e.data.length!==0&&(l=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(l=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!r}},kce=function(e){return!e||!e.length?!1:e.some(function(n){var r=fs(n&&n.type);return r&&r.indexOf("Bar")>=0})},HL=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Mce=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,l=s===void 0?{}:s,c=e.yAxisMap,f=c===void 0?{}:c,h=r.width,p=r.height,m=r.children,v=r.margin||{},_=ui(m,Rc),E=ui(m,vo),S=Object.keys(f).reduce(function(C,M){var A=f[M],P=A.orientation;return!A.mirror&&!A.hide?de(de({},C),{},tt({},P,C[P]+A.width)):C},{left:v.left||0,right:v.right||0}),w=Object.keys(l).reduce(function(C,M){var A=l[M],P=A.orientation;return!A.mirror&&!A.hide?de(de({},C),{},tt({},P,di(C,"".concat(P))+A.height)):C},{top:v.top||0,bottom:v.bottom||0}),O=de(de({},w),S),I=O.bottom;_&&(O.bottom+=_.props.height||Rc.defaultProps.height),E&&n&&(O=tne(O,i,r,n));var N=h-O.left-O.right,L=p-O.top-O.bottom;return de(de({brushBottom:I},O),{},{width:Math.max(N,0),height:Math.max(L,0)})},jce=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},X$=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,l=e.validateTooltipEventTypes,c=l===void 0?["axis"]:l,f=e.axisComponents,h=e.legendContent,p=e.formatAxisMap,m=e.defaultProps,v=function(O,I){var N=I.graphicalItems,L=I.stackGroups,C=I.offset,M=I.updateId,A=I.dataStartIndex,P=I.dataEndIndex,k=O.barSize,U=O.layout,D=O.barGap,B=O.barCategoryGap,V=O.maxBarSize,Q=HL(U),J=Q.numericAxisName,H=Q.cateAxisName,Y=kce(N),ee=[];return N.forEach(function(ue,ve){var F=dv(O.data,{graphicalItems:[ue],dataStartIndex:A,dataEndIndex:P}),W=ue.type.defaultProps!==void 0?de(de({},ue.type.defaultProps),ue.props):ue.props,oe=W.dataKey,me=W.maxBarSize,we=W["".concat(J,"Id")],Se=W["".concat(H,"Id")],ke={},$e=f.reduce(function(xt,Dt){var En=I["".concat(Dt.axisType,"Map")],Ie=W["".concat(Dt.axisType,"Id")];En&&En[Ie]||Dt.axisType==="zAxis"||$l();var ht=En[Ie];return de(de({},xt),{},tt(tt({},Dt.axisType,ht),"".concat(Dt.axisType,"Ticks"),cs(ht)))},ke),ye=$e[H],Ee=$e["".concat(H,"Ticks")],Ne=L&&L[we]&&L[we].hasStack&&hne(ue,L[we].stackGroups),ne=fs(ue.type).indexOf("Bar")>=0,He=Rg(ye,Ee),_e=[],Te=Y&&Zte({barSize:k,stackGroups:L,totalSize:jce($e,H)});if(ne){var Be,Ke,st=ct(me)?V:me,We=(Be=(Ke=Rg(ye,Ee,!0))!==null&&Ke!==void 0?Ke:st)!==null&&Be!==void 0?Be:0;_e=ene({barGap:D,barCategoryGap:B,bandSize:We!==He?We:He,sizeList:Te[Se],maxBarSize:st}),We!==He&&(_e=_e.map(function(xt){return de(de({},xt),{},{position:de(de({},xt.position),{},{offset:xt.position.offset-We/2})})}))}var qe=ue&&ue.type&&ue.type.getComposedData;qe&&ee.push({props:de(de({},qe(de(de({},$e),{},{displayedData:F,props:O,dataKey:oe,item:ue,bandSize:He,barPosition:_e,offset:C,stackedData:Ne,layout:U,dataStartIndex:A,dataEndIndex:P}))),{},tt(tt(tt({key:ue.key||"item-".concat(ve)},J,$e[J]),H,$e[H]),"animationId",M)),childIndex:iW(ue,O.children),item:ue})}),ee},_=function(O,I){var N=O.props,L=O.dataStartIndex,C=O.dataEndIndex,M=O.updateId;if(!nN({props:N}))return null;var A=N.children,P=N.layout,k=N.stackOffset,U=N.data,D=N.reverseStackOrder,B=HL(P),V=B.numericAxisName,Q=B.cateAxisName,J=pi(A,r),H=cne(U,J,"".concat(V,"Id"),"".concat(Q,"Id"),k,D),Y=f.reduce(function(W,oe){var me="".concat(oe.axisType,"Map");return de(de({},W),{},tt({},me,Rce(N,de(de({},oe),{},{graphicalItems:J,stackGroups:oe.axisType===V&&H,dataStartIndex:L,dataEndIndex:C}))))},{}),ee=Mce(de(de({},Y),{},{props:N,graphicalItems:J}),I==null?void 0:I.legendBBox);Object.keys(Y).forEach(function(W){Y[W]=p(N,Y[W],ee,W.replace("Map",""),n)});var ue=Y["".concat(Q,"Map")],ve=Nce(ue),F=v(N,de(de({},Y),{},{dataStartIndex:L,dataEndIndex:C,updateId:M,graphicalItems:J,stackGroups:H,offset:ee}));return de(de({formattedGraphicalItems:F,graphicalItems:J,offset:ee,stackGroups:H},ve),Y)},E=(function(w){function O(I){var N,L,C;return pce(this,O),C=yce(this,O,[I]),tt(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),tt(C,"accessibilityManager",new ece),tt(C,"handleLegendBBoxUpdate",function(M){if(M){var A=C.state,P=A.dataStartIndex,k=A.dataEndIndex,U=A.updateId;C.setState(de({legendBBox:M},_({props:C.props,dataStartIndex:P,dataEndIndex:k,updateId:U},de(de({},C.state),{},{legendBBox:M}))))}}),tt(C,"handleReceiveSyncEvent",function(M,A,P){if(C.props.syncId===M){if(P===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(A)}}),tt(C,"handleBrushChange",function(M){var A=M.startIndex,P=M.endIndex;if(A!==C.state.dataStartIndex||P!==C.state.dataEndIndex){var k=C.state.updateId;C.setState(function(){return de({dataStartIndex:A,dataEndIndex:P},_({props:C.props,dataStartIndex:A,dataEndIndex:P,updateId:k},C.state))}),C.triggerSyncEvent({dataStartIndex:A,dataEndIndex:P})}}),tt(C,"handleMouseEnter",function(M){var A=C.getMouseInfo(M);if(A){var P=de(de({},A),{},{isTooltipActive:!0});C.setState(P),C.triggerSyncEvent(P);var k=C.props.onMouseEnter;rt(k)&&k(P,M)}}),tt(C,"triggeredAfterMouseMove",function(M){var A=C.getMouseInfo(M),P=A?de(de({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(P),C.triggerSyncEvent(P);var k=C.props.onMouseMove;rt(k)&&k(P,M)}),tt(C,"handleItemMouseEnter",function(M){C.setState(function(){return{isTooltipActive:!0,activeItem:M,activePayload:M.tooltipPayload,activeCoordinate:M.tooltipPosition||{x:M.cx,y:M.cy}}})}),tt(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),tt(C,"handleMouseMove",function(M){M.persist(),C.throttleTriggeredAfterMouseMove(M)}),tt(C,"handleMouseLeave",function(M){C.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};C.setState(A),C.triggerSyncEvent(A);var P=C.props.onMouseLeave;rt(P)&&P(A,M)}),tt(C,"handleOuterEvent",function(M){var A=rW(M),P=di(C.props,"".concat(A));if(A&&rt(P)){var k,U;/.*touch.*/i.test(A)?U=C.getMouseInfo(M.changedTouches[0]):U=C.getMouseInfo(M),P((k=U)!==null&&k!==void 0?k:{},M)}}),tt(C,"handleClick",function(M){var A=C.getMouseInfo(M);if(A){var P=de(de({},A),{},{isTooltipActive:!0});C.setState(P),C.triggerSyncEvent(P);var k=C.props.onClick;rt(k)&&k(P,M)}}),tt(C,"handleMouseDown",function(M){var A=C.props.onMouseDown;if(rt(A)){var P=C.getMouseInfo(M);A(P,M)}}),tt(C,"handleMouseUp",function(M){var A=C.props.onMouseUp;if(rt(A)){var P=C.getMouseInfo(M);A(P,M)}}),tt(C,"handleTouchMove",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(M.changedTouches[0])}),tt(C,"handleTouchStart",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&C.handleMouseDown(M.changedTouches[0])}),tt(C,"handleTouchEnd",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&C.handleMouseUp(M.changedTouches[0])}),tt(C,"handleDoubleClick",function(M){var A=C.props.onDoubleClick;if(rt(A)){var P=C.getMouseInfo(M);A(P,M)}}),tt(C,"handleContextMenu",function(M){var A=C.props.onContextMenu;if(rt(A)){var P=C.getMouseInfo(M);A(P,M)}}),tt(C,"triggerSyncEvent",function(M){C.props.syncId!==void 0&&A1.emit(O1,C.props.syncId,M,C.eventEmitterSymbol)}),tt(C,"applySyncEvent",function(M){var A=C.props,P=A.layout,k=A.syncMethod,U=C.state.updateId,D=M.dataStartIndex,B=M.dataEndIndex;if(M.dataStartIndex!==void 0||M.dataEndIndex!==void 0)C.setState(de({dataStartIndex:D,dataEndIndex:B},_({props:C.props,dataStartIndex:D,dataEndIndex:B,updateId:U},C.state)));else if(M.activeTooltipIndex!==void 0){var V=M.chartX,Q=M.chartY,J=M.activeTooltipIndex,H=C.state,Y=H.offset,ee=H.tooltipTicks;if(!Y)return;if(typeof k=="function")J=k(ee,M);else if(k==="value"){J=-1;for(var ue=0;ue<ee.length;ue++)if(ee[ue].value===M.activeLabel){J=ue;break}}var ve=de(de({},Y),{},{x:Y.left,y:Y.top}),F=Math.min(V,ve.x+ve.width),W=Math.min(Q,ve.y+ve.height),oe=ee[J]&&ee[J].value,me=NE(C.state,C.props.data,J),we=ee[J]?{x:P==="horizontal"?ee[J].coordinate:F,y:P==="horizontal"?W:ee[J].coordinate}:W$;C.setState(de(de({},M),{},{activeLabel:oe,activeCoordinate:we,activePayload:me,activeTooltipIndex:J}))}else C.setState(M)}),tt(C,"renderCursor",function(M){var A,P=C.state,k=P.isTooltipActive,U=P.activeCoordinate,D=P.activePayload,B=P.offset,V=P.activeTooltipIndex,Q=P.tooltipAxisBandSize,J=C.getTooltipEventType(),H=(A=M.props.active)!==null&&A!==void 0?A:k,Y=C.props.layout,ee=M.key||"_recharts-cursor";return G.createElement(oce,{key:ee,activeCoordinate:U,activePayload:D,activeTooltipIndex:V,chartName:n,element:M,isActive:H,layout:Y,offset:B,tooltipAxisBandSize:Q,tooltipEventType:J})}),tt(C,"renderPolarAxis",function(M,A,P){var k=di(M,"type.axisType"),U=di(C.state,"".concat(k,"Map")),D=M.type.defaultProps,B=D!==void 0?de(de({},D),M.props):M.props,V=U&&U[B["".concat(k,"Id")]];return $.cloneElement(M,de(de({},V),{},{className:bt(k,V.className),key:M.key||"".concat(A,"-").concat(P),ticks:cs(V,!0)}))}),tt(C,"renderPolarGrid",function(M){var A=M.props,P=A.radialLines,k=A.polarAngles,U=A.polarRadius,D=C.state,B=D.radiusAxisMap,V=D.angleAxisMap,Q=uo(B),J=uo(V),H=J.cx,Y=J.cy,ee=J.innerRadius,ue=J.outerRadius;return $.cloneElement(M,{polarAngles:Array.isArray(k)?k:cs(J,!0).map(function(ve){return ve.coordinate}),polarRadius:Array.isArray(U)?U:cs(Q,!0).map(function(ve){return ve.coordinate}),cx:H,cy:Y,innerRadius:ee,outerRadius:ue,key:M.key||"polar-grid",radialLines:P})}),tt(C,"renderLegend",function(){var M=C.state.formattedGraphicalItems,A=C.props,P=A.children,k=A.width,U=A.height,D=C.props.margin||{},B=k-(D.left||0)-(D.right||0),V=RV({children:P,formattedGraphicalItems:M,legendWidth:B,legendContent:h});if(!V)return null;var Q=V.item,J=BL(V,lce);return $.cloneElement(Q,de(de({},J),{},{chartWidth:k,chartHeight:U,margin:D,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),tt(C,"renderTooltip",function(){var M,A=C.props,P=A.children,k=A.accessibilityLayer,U=ui(P,Yi);if(!U)return null;var D=C.state,B=D.isTooltipActive,V=D.activeCoordinate,Q=D.activePayload,J=D.activeLabel,H=D.offset,Y=(M=U.props.active)!==null&&M!==void 0?M:B;return $.cloneElement(U,{viewBox:de(de({},H),{},{x:H.left,y:H.top}),active:Y,label:J,payload:Y?Q:[],coordinate:V,accessibilityLayer:k})}),tt(C,"renderBrush",function(M){var A=C.props,P=A.margin,k=A.data,U=C.state,D=U.offset,B=U.dataStartIndex,V=U.dataEndIndex,Q=U.updateId;return $.cloneElement(M,{key:M.key||"_recharts-brush",onChange:_m(C.handleBrushChange,M.props.onChange),data:k,x:Ce(M.props.x)?M.props.x:D.left,y:Ce(M.props.y)?M.props.y:D.top+D.height+D.brushBottom-(P.bottom||0),width:Ce(M.props.width)?M.props.width:D.width,startIndex:B,endIndex:V,updateId:"brush-".concat(Q)})}),tt(C,"renderReferenceElement",function(M,A,P){if(!M)return null;var k=C,U=k.clipPathId,D=C.state,B=D.xAxisMap,V=D.yAxisMap,Q=D.offset,J=M.type.defaultProps||{},H=M.props,Y=H.xAxisId,ee=Y===void 0?J.xAxisId:Y,ue=H.yAxisId,ve=ue===void 0?J.yAxisId:ue;return $.cloneElement(M,{key:M.key||"".concat(A,"-").concat(P),xAxis:B[ee],yAxis:V[ve],viewBox:{x:Q.left,y:Q.top,width:Q.width,height:Q.height},clipPathId:U})}),tt(C,"renderActivePoints",function(M){var A=M.item,P=M.activePoint,k=M.basePoint,U=M.childIndex,D=M.isRange,B=[],V=A.props.key,Q=A.item.type.defaultProps!==void 0?de(de({},A.item.type.defaultProps),A.item.props):A.item.props,J=Q.activeDot,H=Q.dataKey,Y=de(de({index:U,dataKey:H,cx:P.x,cy:P.y,r:4,fill:_A(A.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},Je(J,!1)),og(J));return B.push(O.renderActiveDot(J,Y,"".concat(V,"-activePoint-").concat(U))),k?B.push(O.renderActiveDot(J,de(de({},Y),{},{cx:k.x,cy:k.y}),"".concat(V,"-basePoint-").concat(U))):D&&B.push(null),B}),tt(C,"renderGraphicChild",function(M,A,P){var k=C.filterFormatItem(M,A,P);if(!k)return null;var U=C.getTooltipEventType(),D=C.state,B=D.isTooltipActive,V=D.tooltipAxis,Q=D.activeTooltipIndex,J=D.activeLabel,H=C.props.children,Y=ui(H,Yi),ee=k.props,ue=ee.points,ve=ee.isRange,F=ee.baseLine,W=k.item.type.defaultProps!==void 0?de(de({},k.item.type.defaultProps),k.item.props):k.item.props,oe=W.activeDot,me=W.hide,we=W.activeBar,Se=W.activeShape,ke=!!(!me&&B&&Y&&(oe||we||Se)),$e={};U!=="axis"&&Y&&Y.props.trigger==="click"?$e={onClick:_m(C.handleItemMouseEnter,M.props.onClick)}:U!=="axis"&&($e={onMouseLeave:_m(C.handleItemMouseLeave,M.props.onMouseLeave),onMouseEnter:_m(C.handleItemMouseEnter,M.props.onMouseEnter)});var ye=$.cloneElement(M,de(de({},k.props),$e));function Ee(Dt){return typeof V.dataKey=="function"?V.dataKey(Dt.payload):null}if(ke)if(Q>=0){var Ne,ne;if(V.dataKey&&!V.allowDuplicatedCategory){var He=typeof V.dataKey=="function"?Ee:"payload.".concat(V.dataKey.toString());Ne=sg(ue,He,J),ne=ve&&F&&sg(F,He,J)}else Ne=ue==null?void 0:ue[Q],ne=ve&&F&&F[Q];if(Se||we){var _e=M.props.activeIndex!==void 0?M.props.activeIndex:Q;return[$.cloneElement(M,de(de(de({},k.props),$e),{},{activeIndex:_e})),null,null]}if(!ct(Ne))return[ye].concat(qc(C.renderActivePoints({item:k,activePoint:Ne,basePoint:ne,childIndex:Q,isRange:ve})))}else{var Te,Be=(Te=C.getItemByXY(C.state.activeCoordinate))!==null&&Te!==void 0?Te:{graphicalItem:ye},Ke=Be.graphicalItem,st=Ke.item,We=st===void 0?M:st,qe=Ke.childIndex,xt=de(de(de({},k.props),$e),{},{activeIndex:qe});return[$.cloneElement(We,xt),null,null]}return ve?[ye,null,null]:[ye,null]}),tt(C,"renderCustomized",function(M,A,P){return $.cloneElement(M,de(de({key:"recharts-customized-".concat(P)},C.props),C.state))}),tt(C,"renderMap",{CartesianGrid:{handler:Tm,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:Tm},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:Tm},YAxis:{handler:Tm},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((N=I.id)!==null&&N!==void 0?N:Jc("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=I5(C.triggeredAfterMouseMove,(L=I.throttleDelay)!==null&&L!==void 0?L:1e3/60),C.state={},C}return _ce(O,w),gce(O,[{key:"componentDidMount",value:function(){var N,L;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(L=this.props.margin.top)!==null&&L!==void 0?L:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,L=N.children,C=N.data,M=N.height,A=N.layout,P=ui(L,Yi);if(P){var k=P.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var U=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,D=NE(this.state,C,k,U),B=this.state.tooltipTicks[k].coordinate,V=(this.state.offset.top+M)/2,Q=A==="horizontal",J=Q?{x:B,y:V}:{y:B,x:V},H=this.state.formattedGraphicalItems.find(function(ee){var ue=ee.item;return ue.type.name==="Scatter"});H&&(J=de(de({},J),H.props.points[k].tooltipPosition),D=H.props.points[k].tooltipPayload);var Y={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:U,activePayload:D,activeCoordinate:J};this.setState(Y),this.renderCursor(P),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,L){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==L.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var C,M;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(M=this.props.margin.top)!==null&&M!==void 0?M:0}})}return null}},{key:"componentDidUpdate",value:function(N){pS([ui(N.children,Yi)],[ui(this.props.children,Yi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=ui(this.props.children,Yi);if(N&&typeof N.props.shared=="boolean"){var L=N.props.shared?"axis":"item";return c.indexOf(L)>=0?L:s}return s}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var L=this.container,C=L.getBoundingClientRect(),M=FQ(C),A={chartX:Math.round(N.pageX-M.left),chartY:Math.round(N.pageY-M.top)},P=C.width/L.offsetWidth||1,k=this.inRange(A.chartX,A.chartY,P);if(!k)return null;var U=this.state,D=U.xAxisMap,B=U.yAxisMap,V=this.getTooltipEventType(),Q=zL(this.state,this.props.data,this.props.layout,k);if(V!=="axis"&&D&&B){var J=uo(D).scale,H=uo(B).scale,Y=J&&J.invert?J.invert(A.chartX):null,ee=H&&H.invert?H.invert(A.chartY):null;return de(de({},A),{},{xValue:Y,yValue:ee},Q)}return Q?de(de({},A),Q):null}},{key:"inRange",value:function(N,L){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,M=this.props.layout,A=N/C,P=L/C;if(M==="horizontal"||M==="vertical"){var k=this.state.offset,U=A>=k.left&&A<=k.left+k.width&&P>=k.top&&P<=k.top+k.height;return U?{x:A,y:P}:null}var D=this.state,B=D.angleAxisMap,V=D.radiusAxisMap;if(B&&V){var Q=uo(B);return Hj({x:A,y:P},Q)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,L=this.getTooltipEventType(),C=ui(N,Yi),M={};C&&L==="axis"&&(C.props.trigger==="click"?M={onClick:this.handleClick}:M={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=og(this.props,this.handleOuterEvent);return de(de({},A),M)}},{key:"addListener",value:function(){A1.on(O1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){A1.removeListener(O1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,L,C){for(var M=this.state.formattedGraphicalItems,A=0,P=M.length;A<P;A++){var k=M[A];if(k.item===N||k.props.key===N.key||L===fs(k.item.type)&&C===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,L=this.state.offset,C=L.left,M=L.top,A=L.height,P=L.width;return G.createElement("defs",null,G.createElement("clipPath",{id:N},G.createElement("rect",{x:C,y:M,height:A,width:P})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(L,C){var M=UL(C,2),A=M[0],P=M[1];return de(de({},L),{},tt({},A,P.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(L,C){var M=UL(C,2),A=M[0],P=M[1];return de(de({},L),{},tt({},A,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var L;return(L=this.state.xAxisMap)===null||L===void 0||(L=L[N])===null||L===void 0?void 0:L.scale}},{key:"getYScaleByAxisId",value:function(N){var L;return(L=this.state.yAxisMap)===null||L===void 0||(L=L[N])===null||L===void 0?void 0:L.scale}},{key:"getItemByXY",value:function(N){var L=this.state,C=L.formattedGraphicalItems,M=L.activeItem;if(C&&C.length)for(var A=0,P=C.length;A<P;A++){var k=C[A],U=k.props,D=k.item,B=D.type.defaultProps!==void 0?de(de({},D.type.defaultProps),D.props):D.props,V=fs(D.type);if(V==="Bar"){var Q=(U.data||[]).find(function(ee){return lae(N,ee)});if(Q)return{graphicalItem:k,payload:Q}}else if(V==="RadialBar"){var J=(U.data||[]).find(function(ee){return Hj(N,ee)});if(J)return{graphicalItem:k,payload:J}}else if(av(k,M)||sv(k,M)||md(k,M)){var H=Rse({graphicalItem:k,activeTooltipItem:M,itemData:B.data}),Y=B.activeIndex===void 0?H:B.activeIndex;return{graphicalItem:de(de({},k),{},{childIndex:Y}),payload:md(k,M)?B.data[H]:k.props.data[H]}}}return null}},{key:"render",value:function(){var N=this;if(!nN(this))return null;var L=this.props,C=L.children,M=L.className,A=L.width,P=L.height,k=L.style,U=L.compact,D=L.title,B=L.desc,V=BL(L,uce),Q=Je(V,!1);if(U)return G.createElement(xL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement(gS,Zu({},Q,{width:A,height:P,title:D,desc:B}),this.renderClipPath(),iN(C,this.renderMap)));if(this.props.accessibilityLayer){var J,H;Q.tabIndex=(J=this.props.tabIndex)!==null&&J!==void 0?J:0,Q.role=(H=this.props.role)!==null&&H!==void 0?H:"application",Q.onKeyDown=function(ee){N.accessibilityManager.keyboardEvent(ee)},Q.onFocus=function(){N.accessibilityManager.focus()}}var Y=this.parseEventsOfWrapper();return G.createElement(xL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement("div",Zu({className:bt("recharts-wrapper",M),style:de({position:"relative",cursor:"default",width:A,height:P},k)},Y,{ref:function(ue){N.container=ue}}),G.createElement(gS,Zu({},Q,{width:A,height:P,title:D,desc:B,style:Ace}),this.renderClipPath(),iN(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})($.Component);tt(E,"displayName",n),tt(E,"defaultProps",de({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),tt(E,"getDerivedStateFromProps",function(w,O){var I=w.dataKey,N=w.data,L=w.children,C=w.width,M=w.height,A=w.layout,P=w.stackOffset,k=w.margin,U=O.dataStartIndex,D=O.dataEndIndex;if(O.updateId===void 0){var B=FL(w);return de(de(de({},B),{},{updateId:0},_(de(de({props:w},B),{},{updateId:0}),O)),{},{prevDataKey:I,prevData:N,prevWidth:C,prevHeight:M,prevLayout:A,prevStackOffset:P,prevMargin:k,prevChildren:L})}if(I!==O.prevDataKey||N!==O.prevData||C!==O.prevWidth||M!==O.prevHeight||A!==O.prevLayout||P!==O.prevStackOffset||!ac(k,O.prevMargin)){var V=FL(w),Q={chartX:O.chartX,chartY:O.chartY,isTooltipActive:O.isTooltipActive},J=de(de({},zL(O,N,A)),{},{updateId:O.updateId+1}),H=de(de(de({},V),Q),J);return de(de(de({},H),_(de({props:w},H),O)),{},{prevDataKey:I,prevData:N,prevWidth:C,prevHeight:M,prevLayout:A,prevStackOffset:P,prevMargin:k,prevChildren:L})}if(!pS(L,O.prevChildren)){var Y,ee,ue,ve,F=ui(L,Rc),W=F&&(Y=(ee=F.props)===null||ee===void 0?void 0:ee.startIndex)!==null&&Y!==void 0?Y:U,oe=F&&(ue=(ve=F.props)===null||ve===void 0?void 0:ve.endIndex)!==null&&ue!==void 0?ue:D,me=W!==U||oe!==D,we=!ct(N),Se=we&&!me?O.updateId:O.updateId+1;return de(de({updateId:Se},_(de(de({props:w},O),{},{updateId:Se,dataStartIndex:W,dataEndIndex:oe}),O)),{},{prevChildren:L,dataStartIndex:W,dataEndIndex:oe})}return null}),tt(E,"renderActiveDot",function(w,O,I){var N;return $.isValidElement(w)?N=$.cloneElement(w,O):rt(w)?N=w(O):N=G.createElement(ev,O),G.createElement(qt,{className:"recharts-active-dot",key:I},N)});var S=$.forwardRef(function(O,I){return G.createElement(E,Zu({},O,{ref:I}))});return S.displayName=E.displayName,S},Dce=X$({chartName:"LineChart",GraphicalChild:Vc,axisComponents:[{axisType:"xAxis",AxisComp:hv},{axisType:"yAxis",AxisComp:_d}],formatAxisMap:Moe}),Lce=X$({chartName:"PieChart",GraphicalChild:Ts,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:iv},{axisType:"radiusAxis",AxisComp:nv}],formatAxisMap:wne,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const vl=t=>{if(!t)return"";const e=new Date(t);if(isNaN(e.getTime()))return"";const n=e.getDate(),r=e.getMonth()+1,i=e.getFullYear().toString().slice(-2);return`${n}/${r}/${i}`},Vce=t=>{if(t===void 0||isNaN(t))return"0s";const e=Math.floor(t/60),n=Math.floor(t%60);return`${e}m ${n}s`},$ce=({active:t,payload:e,label:n})=>{if(t&&e&&e.length){const r=e[0].payload,i=typeof n=="number"?vl(n)+", "+new Date(n).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):n;return x.jsxs("div",{className:"p-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-xl text-xs sm:text-sm z-50",children:[x.jsx("p",{className:"font-bold mb-2 text-slate-700 dark:text-slate-200 border-b border-slate-100 dark:border-slate-700 pb-1",children:i}),x.jsxs("div",{className:"space-y-1",children:[x.jsxs("p",{className:"flex justify-between gap-4",style:{color:"var(--color-chart-wpm)"},children:[x.jsx("span",{children:"WPM:"}),x.jsx("span",{className:"font-bold",children:r.wpm})]}),x.jsxs("p",{className:"flex justify-between gap-4",style:{color:"var(--color-chart-acc)"},children:[x.jsx("span",{children:"Accuracy:"}),x.jsxs("span",{className:"font-bold",children:[Number(r.accuracy).toFixed(2),"%"]})]}),r.errors!==void 0&&x.jsxs("p",{className:"text-red-500 flex justify-between gap-4",children:[x.jsx("span",{children:"Errors:"}),x.jsx("span",{className:"font-bold",children:r.errors})]}),r.duration!==void 0&&x.jsxs("p",{className:"text-slate-500 dark:text-slate-400 flex justify-between gap-4",children:[x.jsx("span",{children:"Duration:"}),x.jsx("span",{className:"font-bold",children:Vce(r.duration)})]})]})]})}return null},Q$=({data:t,xDataKey:e="date",xAxisConfig:n})=>t.length===0?x.jsx("div",{className:"flex items-center justify-center h-full text-slate-500 text-sm",children:"Not enough data to show trends."}):x.jsx("div",{className:"w-full h-[250px] sm:h-[300px]",children:x.jsx(P5,{width:"100%",height:"100%",children:x.jsxs(Dce,{data:t,margin:{top:10,right:10,left:0,bottom:0},children:[x.jsx(M$,{strokeDasharray:"3 3",strokeOpacity:.1,vertical:!1}),x.jsx(hv,{dataKey:e,type:(n==null?void 0:n.type)||"category",domain:n==null?void 0:n.domain,ticks:n==null?void 0:n.ticks,tickFormatter:n==null?void 0:n.tickFormatter,tick:{fontSize:10,fill:"#64748b"},tickMargin:10,axisLine:{stroke:"#e2e8f0"},tickLine:!1}),x.jsx(_d,{yAxisId:"left",tick:{fontSize:10,fill:"#64748b"},domain:[0,"dataMax + 10"],width:40,axisLine:{stroke:"#e2e8f0"},tickLine:{stroke:"#e2e8f0"}}),x.jsx(_d,{yAxisId:"right",orientation:"right",tick:{fontSize:10,fill:"#94a3b8"},domain:[0,100],width:30,axisLine:{stroke:"#e2e8f0"},tickLine:{stroke:"#e2e8f0"}}),x.jsx(Yi,{content:x.jsx($ce,{})}),x.jsx(vo,{wrapperStyle:{fontSize:"12px",paddingTop:"10px"},iconType:"circle"}),x.jsx(Vc,{yAxisId:"left",type:"monotone",dataKey:"wpm",name:"WPM",stroke:"var(--color-chart-wpm)",strokeWidth:2,dot:{r:3,strokeWidth:0,fill:"var(--color-chart-wpm)"},activeDot:{r:5,strokeWidth:2,stroke:"#fff"},animationDuration:1e3}),x.jsx(Vc,{yAxisId:"right",type:"monotone",dataKey:"accuracy",name:"Accuracy",stroke:"var(--color-chart-acc)",strokeWidth:2,dot:{r:3,strokeWidth:0,fill:"var(--color-chart-acc)"},activeDot:{r:5,strokeWidth:2,stroke:"#fff"},animationDuration:1e3})]})})}),kE=({isOpen:t,onClose:e,title:n,message:r,buttons:i})=>{const s=$.useRef([]),[l,c]=$.useState(0);return $.useEffect(()=>{s.current=s.current.slice(0,i.length)},[i]),$.useEffect(()=>{if(t){const f=setTimeout(()=>{var p;(p=s.current[0])==null||p.focus(),c(0)},100),h=p=>{var E;if(!t||p.key==="Tab")return;p.preventDefault();const m=s.current.filter(Boolean);if(m.length===0)return;const v=m.findIndex(S=>S===document.activeElement);if(p.key==="Enter"){v!==-1&&m[v].click();return}let _=v===-1?0:v;p.key==="ArrowRight"?_=(v+1)%m.length:p.key==="ArrowLeft"&&(_=(v-1+m.length)%m.length),(E=m[_])==null||E.focus()};return document.addEventListener("keydown",h),()=>{clearTimeout(f),document.removeEventListener("keydown",h)}}},[t,i]),x.jsxs(Fl,{isOpen:t,onClose:e,title:n,children:[x.jsx("div",{className:"text-slate-600 dark:text-slate-300 mb-6",children:r}),x.jsx("div",{className:"flex justify-center items-center gap-3",children:i.map((f,h)=>x.jsx(Ye,{ref:p=>{s.current[h]=p},onClick:f.onClick,variant:h===l?"primary":"secondary",onFocus:()=>c(h),onMouseEnter:()=>{var p;return(p=s.current[h])==null?void 0:p.focus()},children:f.label},f.label))})]})},J$=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),GL=["#a855f7","#6366f1","#ec4899","#f97316","#06b6d4","#10b981"],KL=t=>{if(isNaN(t)||t<0)return"0m 00s";const e=Math.floor(t/60),n=Math.floor(t%60);return`${e}m ${n.toString().padStart(2,"0")}s`},WL=t=>{switch(t){case" ":return"Space ()";case`
`:return"Enter ()";case"	":return"Tab ()";default:return t}},Uce=()=>{const t=$.useContext(In);if(!t)throw new Error("AppContext not found");const{practiceHistory:e,keyErrorStats:n,keyAttemptStats:r,wpmGoal:i,accuracyGoal:s,timeGoal:l,dailyPracticeTime:c,setGoals:f,navigateTo:h,startTargetedSession:p,showAlert:m,reloadDataFromStorage:v,deletePracticeSession:_,clearPracticeHistory:E,openSetupModal:S,fetchNewSnippet:w,startCustomSession:O,closeSetupModal:I,isSetupModalOpen:N}=t,[L,C]=$.useState(!1),[M,A]=$.useState(!1),[P,k]=$.useState("all"),U=$.useRef(null),[D,B]=$.useState(null),[V,Q]=$.useState(null),[J,H]=$.useState(void 0),[Y,ee]=$.useState(null),[ue,ve]=$.useState(0),F=$.useRef(null),W=$.useRef(null);$.useEffect(()=>{var he;e.length===0&&((he=F.current)==null||he.focus())},[e.length]),$.useEffect(()=>{if(e.length>0)return;const he=Ae=>{(Ae.key==="ArrowRight"||Ae.key==="ArrowLeft")&&(Ae.preventDefault(),ve(Ge=>Ge===0?1:0))};return window.addEventListener("keydown",he),()=>window.removeEventListener("keydown",he)},[e.length]),$.useEffect(()=>{var he,Ae;e.length>0||(ue===0?(he=F.current)==null||he.focus():(Ae=W.current)==null||Ae.focus())},[ue,e.length]);const oe=$.useRef(null);$.useEffect(()=>{const he=Ge=>{oe.current&&!oe.current.contains(Ge.target)&&H(void 0)},Ae=()=>{J!==void 0&&H(void 0)};return document.addEventListener("mousedown",he),document.addEventListener("touchstart",he,{passive:!1}),window.addEventListener("scroll",Ae,!0),()=>{document.removeEventListener("mousedown",he),document.removeEventListener("touchstart",he),window.removeEventListener("scroll",Ae,!0)}},[J]),Gr("2",()=>k("24h"),{disabled:L||N}),Gr("7",()=>k("7d"),{disabled:L||N}),Gr("3",()=>k("30d"),{disabled:L||N}),Gr("a",()=>k("all"),{disabled:L||N});const me=$.useCallback(()=>{try{A6({practiceHistory:e,keyErrorStats:n,keyAttemptStats:r}),m("Data exported successfully!","info")}catch(he){m("Failed to export data.","error"),console.error(he)}},[m,e,n,r]),we=$.useCallback(()=>{var he;(he=U.current)==null||he.click()},[]);Gr("E",me,{disabled:L||N}),Gr("I",we,{disabled:L||N});const Se=(he,Ae)=>{try{xG(he,Ae),v(),m("Data imported successfully. Please refresh the page to see changes.","info",8e3)}catch(Ge){const Rt=Ge instanceof Error?Ge.message:"An unknown error occurred.";m(`Import failed: ${Rt}`,"error"),console.error(Ge)}},ke=he=>{var Rt;const Ae=(Rt=he.target.files)==null?void 0:Rt[0];if(!Ae)return;const Ge=new FileReader;Ge.onload=ot=>{var $t;const Kt=($t=ot.target)==null?void 0:$t.result;if(!Kt){m("File is empty or could not be read.","error");return}const Nt=localStorage.getItem("practiceHistory");Nt&&JSON.parse(Nt).length>0?B({fileContent:Kt}):Se(Kt,"replace"),he.target&&(he.target.value="")},Ge.onerror=()=>{m("Error reading the selected file.","error"),he.target&&(he.target.value="")},Ge.readAsText(Ae)},$e=he=>{D&&Se(D.fileContent,he),B(null)},ye=()=>{(V==null?void 0:V.type)==="single"&&V.timestamp?(ee(V.timestamp),setTimeout(()=>{_(V.timestamp),m("Session deleted.","info"),Q(null),ee(null)},300)):(V==null?void 0:V.type)==="all"&&(localStorage.clear(),window.location.reload())},Ee=$.useMemo(()=>{const he=Date.now();return P==="24h"?e.filter(Ae=>he-Ae.timestamp<1440*60*1e3):P==="7d"?e.filter(Ae=>he-Ae.timestamp<10080*60*1e3):P==="30d"?e.filter(Ae=>he-Ae.timestamp<720*60*60*1e3):e},[e,P]),Ne=$.useMemo(()=>{if(Ee.length===0)return{avgWpm:0,avgAccuracy:0,totalDuration:0,sessions:0,bestWpm:0,totalLines:0,totalErrors:0};const he=Ee.reduce((Nt,dt)=>Nt+dt.wpm,0),Ae=Ee.reduce((Nt,dt)=>Nt+dt.accuracy,0),Ge=Ee.reduce((Nt,dt)=>Nt+dt.duration,0),Rt=Math.max(0,...Ee.map(Nt=>Nt.wpm)),ot=Ee.reduce((Nt,dt)=>Nt+(dt.linesTyped||0),0),Kt=Ee.reduce((Nt,dt)=>Nt+dt.errors,0);return{avgWpm:Math.round(he/Ee.length),avgAccuracy:parseFloat((Ae/Ee.length).toFixed(2)),totalDuration:Ge,sessions:Ee.length,bestWpm:Rt,totalLines:ot,totalErrors:Kt}},[Ee]),ne=$.useMemo(()=>e.length===0?[]:Object.entries(n).map(([he,Ae])=>{const Ge=r[he]||Ae,Rt=Number(Ae),ot=Number(Ge),Kt=ot>0?Rt/ot*100:0;return{key:he,errors:Rt,attempts:ot,errorRate:Kt}}).filter(he=>he.errors>0).sort((he,Ae)=>Ae.errorRate-he.errorRate),[n,r,e]),He=$.useMemo(()=>ne.slice(0,5),[ne]),_e=$.useMemo(()=>{if(Ee.length===0)return[];const he={};return Ee.forEach(Ae=>{he[Ae.language]=(he[Ae.language]||0)+Ae.duration}),Object.entries(he).map(([Ae,Ge])=>({name:Ae,value:Ge}))},[Ee]),Te=he=>{const Ae=Math.floor(he/3600),Ge=Math.floor(he%3600/60);return`${Ae}h ${Ge}m`},Be=()=>{const he=He.map(Ae=>Ae.key);he.length>0&&(h("practice"),p(he,{length:"medium",level:"medium"}))},Ke=$.useMemo(()=>{const he=new Date,Ae=Ee.slice().sort((Oe,Me)=>Oe.timestamp-Me.timestamp);let Ge=Ae,Rt="number",ot="timestamp",Kt=["auto","auto"],Nt,dt=Oe=>vl(Oe);const $t=(Oe,Me,pt)=>{if(!Oe)return"";const Mt=new Date(Oe),or=`${Mt.getDate()}/${Mt.getMonth()+1}`;if(Me===0){const Dn=new Date().getFullYear();return Mt.getFullYear()!==Dn?vl(Oe):or}const Vr=pt[Me-1];return Vr&&new Date(Vr).getFullYear()!==Mt.getFullYear()?vl(Oe):or},Ue=Oe=>(Me,pt)=>$t(Me,pt,Oe);switch(P){case"24h":Kt=[he.getTime()-1440*60*1e3,he.getTime()],dt=Oe=>new Date(Oe).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"}),Nt=Array.from({length:7},(Oe,Me)=>he.getTime()-Me*4*60*60*1e3).reverse();break;case"7d":{const Oe=new Date(he);Oe.setDate(he.getDate()-6),Oe.setHours(0,0,0,0),Kt=[Oe.getTime(),he.getTime()],Nt=Array.from({length:7},(Me,pt)=>{const Mt=new Date(Oe);return Mt.setDate(Mt.getDate()+pt),Mt.getTime()}),dt=Ue(Nt);break}case"30d":{const Oe=new Date(he);Oe.setDate(he.getDate()-29),Oe.setHours(0,0,0,0),Kt=[Oe.getTime(),he.getTime()],Nt=Array.from({length:7},(Me,pt)=>{const Mt=new Date(Oe);return Mt.setDate(Mt.getDate()+pt*5),Mt.getTime()}),dt=Ue(Nt);break}case"all":{Kt=["auto","auto"],Rt="category",dt=(Oe,Me)=>{if(Me>0&&Ae[Me-1]){const Mt=new Date(Ae[Me-1].timestamp),or=new Date(Oe);if(Mt.getFullYear()!==or.getFullYear())return vl(Oe)}const pt=new Date(Oe);return`${pt.getDate()}/${pt.getMonth()+1}`};break}}return{data:Ge,xAxisType:Rt,xDataKey:ot,domain:Kt,ticks:Nt,tickFormatter:dt}},[Ee,P]),st=i>0?Math.min(100,Ne.avgWpm/i*100):0,We=s>0?Math.min(100,Ne.avgAccuracy/s*100):0,qe=l*60,xt=qe>0?Math.min(100,c/qe*100):0,Dt=Ne.avgWpm>i,En=Ne.avgAccuracy>=s,Ie=c>qe;let ht=0,_t=0;Dt&&(_t=Math.floor(Ne.avgWpm/10)*10+10,ht=_t-i);let Vt=0,Zt=0;if(Ie){const he=c/60;Zt=Math.floor(he/5)*5+5,Vt=Zt-l}const en=Math.min(5,100-s);if(e.length===0)return x.jsxs("div",{className:"text-center p-8 h-full flex flex-col justify-center items-center",children:[x.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Your Dashboard"}),x.jsx("p",{className:"text-slate-500 mb-6",children:"You haven't completed any practice sessions yet. Start a new session or import your previous data."}),x.jsxs("div",{className:"flex gap-4",children:[x.jsx(Ye,{ref:F,variant:ue===0?"primary":"secondary",onClick:()=>{S()},onFocus:()=>ve(0),onMouseEnter:()=>ve(0),accessKeyChar:"Enter",accessKeyLabel:"",children:"Start Practicing"}),x.jsx(Ye,{ref:W,variant:ue===1?"primary":"secondary",onClick:we,onFocus:()=>ve(1),onMouseEnter:()=>ve(1),accessKeyChar:"I",title:"Import Data (Alt+I)",children:"Import Data"})]}),x.jsx("input",{type:"file",ref:U,className:"hidden",accept:".json,application/json",onChange:ke})]});const _n=[{label:"Last 24 Hrs",value:"24h"},{label:"Last 7 Days",value:"7d"},{label:"Last 30 Days",value:"30d"},{label:"All Time",value:"all"}],Pt=["2","7","3","A"];return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"space-y-8 h-full overflow-y-auto custom-scrollbar p-4",children:[x.jsxs("div",{className:"flex flex-col xl:flex-row justify-between xl:items-center gap-4",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[x.jsx("h1",{className:"text-3xl font-bold",children:"Your Progress Dashboard"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(Ye,{variant:"outline",size:"sm",onClick:we,title:"Import Data (Alt+I)",accessKeyChar:"I",children:"Import"}),x.jsx(Ye,{variant:"outline",size:"sm",onClick:me,title:"Export Data (Alt+E)",accessKeyChar:"E",children:"Export"})]})]}),x.jsx(mh,{options:_n,selectedValue:P,onSelect:he=>k(he),accessKeyChars:Pt,disabled:N})]}),Ee.length===0?x.jsx(gr,{className:"p-8 text-center text-slate-500",children:"No practice sessions found for the selected time period."}):x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[x.jsx(yr,{label:"Average WPM",value:Ne.avgWpm}),x.jsx(yr,{label:"Average Accuracy",value:`${Ne.avgAccuracy}%`}),x.jsx(yr,{label:"Best WPM",value:Ne.bestWpm}),x.jsx(yr,{label:"Total Practice Time",value:Te(Ne.totalDuration)}),x.jsx(yr,{label:"Total Lines Typed",value:Ne.totalLines}),x.jsx(yr,{label:"Total Errors",value:Ne.totalErrors})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[x.jsxs(gr,{className:"lg:col-span-2 p-6 flex flex-col justify-center min-h-[450px]",children:[x.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Historical Performance"}),x.jsx(Q$,{data:Ke.data,xDataKey:Ke.xDataKey,xAxisConfig:{type:Ke.xAxisType,domain:Ke.domain,ticks:Ke.ticks,tickFormatter:Ke.tickFormatter}})]}),x.jsxs("div",{className:"space-y-8",children:[x.jsxs(gr,{className:"p-6",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h2",{className:"text-xl font-semibold",children:"Your Goals"}),x.jsx(Ye,{variant:"ghost",size:"icon",onClick:()=>C(!0),children:x.jsx(C6,{className:"w-5 h-5"})})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[x.jsxs("span",{className:"text-sm font-medium",children:["Daily Time: ",KL(c)," / ",l,"m"]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:`text-sm font-bold ${c>=qe?"text-amber-500":""}`,children:c>=qe?"Goal Achieved!":`${xt.toFixed(0)}%`}),Ie&&Vt>0&&x.jsxs(Ye,{variant:"ghost",size:"sm",className:"!py-0 !px-2 !h-auto",onClick:()=>f(i,s,Zt),title:`Increase daily time goal to ${Zt} minutes`,children:["+",Vt," min"]})]})]}),x.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2.5",children:x.jsx("div",{className:`h-2.5 rounded-full ${c>=qe?"bg-amber-400":"bg-primary-500"}`,style:{width:`${xt}%`}})})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[x.jsxs("span",{className:"text-sm font-medium",children:["WPM: ",Ne.avgWpm," / ",i]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:`text-sm font-bold ${Ne.avgWpm>=i?"text-amber-500":""}`,children:Ne.avgWpm>=i?"Goal Achieved!":`${st.toFixed(0)}%`}),Dt&&ht>0&&x.jsxs(Ye,{variant:"ghost",size:"sm",className:"!py-0 !px-2 !h-auto",onClick:()=>f(_t,s,l),title:`Increase WPM goal to ${_t}`,children:["+",ht," WPM"]})]})]}),x.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2.5",children:x.jsx("div",{className:`h-2.5 rounded-full ${Ne.avgWpm>=i?"bg-amber-400":"bg-primary-500"}`,style:{width:`${st}%`}})})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[x.jsxs("span",{className:"text-sm font-medium",children:["Accuracy: ",Ne.avgAccuracy,"% / ",s,"%"]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:`text-sm font-bold ${Ne.avgAccuracy>=s?"text-amber-500":""}`,children:Ne.avgAccuracy>=s?"Goal Achieved!":`${We.toFixed(0)}%`}),En&&en>0&&x.jsxs(Ye,{variant:"ghost",size:"sm",className:"!py-0 !px-2 !h-auto",onClick:()=>f(i,s+en,l),title:`Increase Accuracy goal to ${s+en}%`,children:["+",en,"%"]})]})]}),x.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2.5",children:x.jsx("div",{className:`h-2.5 rounded-full ${Ne.avgAccuracy>=s?"bg-amber-400":"bg-primary-500"}`,style:{width:`${We}%`}})})]})]})]}),x.jsxs(gr,{className:"p-6",children:[x.jsx("div",{className:"flex justify-between items-center mb-4",children:x.jsx("h2",{className:"text-xl font-semibold",children:"Language Focus"})}),_e.length>0?x.jsx("div",{ref:oe,className:"flex justify-center w-full",children:x.jsx(P5,{width:"100%",height:300,children:x.jsxs(Lce,{children:[x.jsx(Ts,{data:_e,cx:"50%",cy:"50%",labelLine:{stroke:"#64748b",strokeWidth:1},outerRadius:typeof window<"u"&&window.innerWidth<640?80:100,fill:"#8884d8",dataKey:"value",nameKey:"name",activeIndex:J,activeShape:he=>{const{cx:Ae,cy:Ge,innerRadius:Rt,outerRadius:ot,startAngle:Kt,endAngle:Nt,fill:dt}=he;return x.jsx("g",{children:x.jsx(xA,{cx:Ae,cy:Ge,innerRadius:Rt,outerRadius:ot+10,startAngle:Kt,endAngle:Nt,fill:dt,stroke:"#fff",strokeWidth:3})})},onClick:(he,Ae)=>{H(J===Ae?void 0:Ae)},label:({cx:he,cy:Ae,midAngle:Ge,outerRadius:Rt,fill:ot,percent:Kt,name:Nt})=>{if(Kt<.02)return null;const dt=Math.PI/180,$t=Rt+25,Ue=he+$t*Math.cos(-Ge*dt),Oe=Ae+$t*Math.sin(-Ge*dt);return x.jsx("text",{x:Ue,y:Oe,fill:ot,textAnchor:Ue>he?"start":"end",dominantBaseline:"central",className:"text-xs sm:text-sm font-bold pointer-events-none select-none",style:{userSelect:"none"},children:`${(Kt*100).toFixed(1)}%`})},children:_e.map((he,Ae)=>x.jsx(qy,{fill:GL[Ae%GL.length],style:{outline:"none",cursor:"pointer"}},`cell-${Ae}`))}),x.jsx(Yi,{content:({active:he,payload:Ae})=>{if(he&&Ae&&Ae.length){const Ge=Ae[0];return x.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-lg shadow-lg border border-slate-200 dark:border-slate-700",children:[x.jsx("p",{className:"font-bold text-slate-900 dark:text-slate-100",children:Ge.name}),x.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Time: ",Te(Ge.value)]}),x.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[(Ge.value/_e.reduce((Rt,ot)=>Rt+ot.value,0)*100).toFixed(1),"%"]})]})}return null}}),x.jsx(vo,{wrapperStyle:{paddingTop:"20px"}})]})})}):x.jsx("p",{className:"text-center text-slate-500",children:"No language data available for this period."})]})]})]}),x.jsxs(gr,{className:"p-6",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h2",{className:"text-xl font-semibold",children:"Error Analysis"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(Ye,{variant:"ghost",size:"sm",onClick:()=>A(!0),children:"View All"}),x.jsx(Ye,{variant:"secondary",size:"sm",onClick:Be,disabled:He.length===0,title:"Practice your weakest keys immediately",children:"Practice Errors"})]})]}),He.length>0?x.jsxs("div",{className:"space-y-4",children:[He.map((he,Ae)=>x.jsxs("div",{className:"space-y-1",children:[x.jsxs("div",{className:"flex justify-between items-center text-sm",children:[x.jsx("span",{className:"font-mono bg-slate-100 dark:bg-slate-700 px-1.5 py-0.5 rounded text-slate-700 dark:text-slate-300",children:WL(he.key)}),x.jsxs("span",{className:"text-slate-500 dark:text-slate-400 text-xs",children:[he.errors," Errors / ",he.attempts," Attempts (",he.errorRate.toFixed(1),"%)"]})]}),x.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-1.5",children:x.jsx("div",{className:"bg-red-500 h-1.5 rounded-full",style:{width:`${Math.min(100,he.errorRate)}%`}})})]},Ae)),ne.length>5&&x.jsxs("p",{className:"text-xs text-center text-slate-500 mt-2",children:["+ ",ne.length-5," other keys needing practice"]})]}):x.jsx("p",{className:"text-center text-slate-500",children:"No significant errors found for this period."})]}),x.jsxs(gr,{className:"p-6",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h2",{className:"text-xl font-semibold",children:"Recent Sessions"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(Ye,{variant:"secondary",size:"sm",onClick:()=>h("history"),children:"View All"}),x.jsx(Ye,{variant:"destructive",size:"sm",onClick:()=>Q({type:"all"}),children:"Clear All History"})]})]}),Ee.length>0?x.jsx("div",{className:"w-full",children:x.jsxs("table",{className:"w-full divide-y divide-slate-200 dark:divide-slate-700 table-fixed",children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{className:"w-1/4 px-2 sm:px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Date"}),x.jsx("th",{className:"w-1/6 px-2 sm:px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"WPM"}),x.jsx("th",{className:"w-1/6 px-2 sm:px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Acc"}),x.jsx("th",{className:"hidden lg:table-cell w-1/6 px-2 sm:px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Duration"}),x.jsx("th",{className:"hidden xl:table-cell w-1/6 px-2 sm:px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Language"}),x.jsx("th",{className:"hidden md:table-cell w-1/6 px-2 sm:px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Errors"}),x.jsx("th",{className:"w-16 px-2 sm:px-4 py-2 text-center text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Action"})]})}),x.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:Ee.sort((he,Ae)=>Ae.timestamp-he.timestamp).slice(0,5).map((he,Ae)=>x.jsxs("tr",{className:`
                                                            ${Ae%2===0?"bg-slate-50 dark:bg-slate-800":""}
                                                            ${Y===he.timestamp?"opacity-0 scale-95 bg-red-50 dark:bg-red-900/20":""}
                                                            transition-all duration-300
                                                        `,children:[x.jsx("td",{className:"px-2 sm:px-4 py-2 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:vl(he.date)}),x.jsx("td",{className:"px-2 sm:px-4 py-2 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:he.wpm.toFixed(0)}),x.jsxs("td",{className:"px-2 sm:px-4 py-2 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:[he.accuracy.toFixed(1),"%"]}),x.jsx("td",{className:"hidden lg:table-cell px-2 sm:px-4 py-2 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:KL(he.duration)}),x.jsx("td",{className:"hidden xl:table-cell px-2 sm:px-4 py-2 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:he.language}),x.jsx("td",{className:"hidden md:table-cell px-2 sm:px-4 py-2 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:he.errors}),x.jsx("td",{className:"px-2 sm:px-4 py-2 whitespace-nowrap text-center text-sm font-medium",children:x.jsx(Ye,{variant:"ghost",size:"icon",onClick:()=>Q({type:"single",timestamp:he.timestamp}),children:x.jsx(J$,{className:"w-4 h-4 text-red-500"})})})]},he.id))})]})}):x.jsx("p",{className:"text-center text-slate-500",children:"No recent sessions for this period."})]})]})]}),x.jsx(nK,{isOpen:L,onClose:()=>C(!1),onSave:(he,Ae,Ge)=>{f(he,Ae,Ge),C(!1)},currentWpmGoal:i,currentAccuracyGoal:s,currentTimeGoal:l}),x.jsxs(Fl,{isOpen:M,onClose:()=>A(!1),title:"All Error Stats",children:[x.jsx("div",{className:"max-h-[60vh] overflow-y-auto custom-scrollbar pr-2",children:ne.length>0?x.jsx("div",{className:"space-y-3",children:ne.map((he,Ae)=>x.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[x.jsx("div",{className:"flex justify-between items-start mb-3",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"font-mono bg-slate-200 dark:bg-slate-700 px-3 py-1.5 rounded-lg text-lg font-semibold text-slate-800 dark:text-slate-200",children:WL(he.key)}),x.jsxs("span",{className:"text-red-600 dark:text-red-400 font-bold text-base",children:[he.errorRate.toFixed(1),"%"]})]})}),x.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm mb-2",children:[x.jsxs("div",{className:"text-slate-600 dark:text-slate-400",children:[x.jsx("span",{className:"font-medium",children:"Errors:"})," ",he.errors]}),x.jsxs("div",{className:"text-slate-600 dark:text-slate-400",children:[x.jsx("span",{className:"font-medium",children:"Attempts:"})," ",he.attempts]})]}),x.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2",children:x.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 h-2 rounded-full transition-all",style:{width:`${Math.min(100,he.errorRate)}%`}})})]},Ae))}):x.jsx("p",{className:"text-center text-slate-500 py-8",children:"No error data available."})}),x.jsx("div",{className:"mt-6 flex justify-center",children:x.jsx(Ye,{variant:"secondary",onClick:()=>A(!1),accessKeyChar:"C",autoFocus:!0,children:"Close"})})]}),x.jsx(kE,{isOpen:!!D,onClose:()=>B(null),title:"Import Data",message:"You have existing practice history. How would you like to import the new data?",buttons:[{label:"Merge",onClick:()=>$e("merge"),variant:"primary"},{label:"Replace",onClick:()=>$e("replace"),variant:"secondary"}]}),x.jsx(kE,{isOpen:!!V,onClose:()=>Q(null),title:(V==null?void 0:V.type)==="all"?"Delete All History":"Delete Session",message:(V==null?void 0:V.type)==="all"?x.jsxs("span",{children:["Are you sure you want to delete ALL practice history? This action cannot be undone and will reset the website to a fresh state.",x.jsx("br",{}),x.jsx("br",{}),"To prevent data loss, we recommend you ",x.jsx("span",{className:"text-blue-600 dark:text-blue-400 cursor-pointer hover:underline font-medium",onClick:me,children:"Export"})," your data first."]}):"Are you sure you want to delete this practice session?",buttons:[{label:"Cancel",onClick:()=>Q(null),variant:"secondary"},{label:"Delete",onClick:ye,variant:"primary",className:"bg-red-600 hover:bg-red-700 text-white"}]}),x.jsx("input",{type:"file",ref:U,className:"hidden",accept:".json,application/json",onChange:ke})]})},Bce=()=>{const t=$.useContext(In);if(!t)return null;const{practiceHistory:e,deletePracticeSession:n,clearPracticeHistory:r,navigateTo:i,showAlert:s}=t,[l,c]=$.useState(null),f=()=>{(l==null?void 0:l.type)==="single"&&l.timestamp?n(l.timestamp):(l==null?void 0:l.type)==="all"&&r(),c(null)},h=()=>{try{A6({practiceHistory:e,keyErrorStats:t.keyErrorStats,keyAttemptStats:t.keyAttemptStats}),s("Data exported successfully!","info")}catch(v){s("Failed to export data.","error"),console.error(v)}},p=v=>{const _=Math.floor(v/60),E=Math.floor(v%60);return`${_}m ${E.toString().padStart(2,"0")}s`},m=$.useMemo(()=>[...e].sort((v,_)=>_.timestamp-v.timestamp),[e]);return x.jsxs("div",{className:"space-y-6 h-full overflow-y-auto custom-scrollbar p-4",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(Ye,{variant:"outline",onClick:()=>i("dashboard"),title:"Back to Dashboard",accessKeyChar:"ArrowLeft",accessKeyLabel:"",children:" Back to Dashboard"}),x.jsx("h1",{className:"text-3xl font-bold",children:"Practice History"})]}),m.length>0&&x.jsx(Ye,{variant:"destructive",onClick:()=>c({type:"all"}),children:"Clear All History"})]}),x.jsx(gr,{className:"p-6",children:m.length>0?x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Date"}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"WPM"}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Accuracy"}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Duration"}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Language"}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Lines"}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Errors"}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),x.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:m.map((v,_)=>x.jsxs("tr",{className:_%2===0?"bg-slate-50 dark:bg-slate-800":"",children:[x.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:[vl(v.timestamp),x.jsx("span",{className:"block text-xs text-gray-700 dark:text-gray-300",children:new Date(v.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100 font-medium",children:v.wpm.toFixed(0)}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:x.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v.accuracy>=95?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":v.accuracy>=90?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:[v.accuracy.toFixed(1),"%"]})}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:p(v.duration)}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:v.language}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:v.linesTyped||0}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:v.errors}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium",children:x.jsx(Ye,{variant:"ghost",size:"icon",onClick:()=>c({type:"single",timestamp:v.timestamp}),title:"Delete Session",children:x.jsx(J$,{className:"w-4 h-4 text-red-500"})})})]},v.timestamp))})]})}):x.jsxs("div",{className:"text-center py-12 text-slate-500",children:[x.jsx("p",{className:"text-lg mb-2",children:"No practice history found."}),x.jsx("p",{className:"text-sm",children:"Complete some practice sessions to see them listed here."}),x.jsx(Ye,{className:"mt-4",onClick:()=>i("practice"),children:"Start Practicing"})]})}),x.jsx(kE,{isOpen:!!l,onClose:()=>c(null),title:(l==null?void 0:l.type)==="all"?"Delete All History":"Delete Session",message:(l==null?void 0:l.type)==="all"?x.jsxs("span",{children:["Are you sure you want to delete ALL practice history? This action cannot be undone.",x.jsx("br",{}),x.jsx("br",{}),"To prevent data loss, we recommend you ",x.jsx("span",{className:"text-blue-600 dark:text-blue-400 cursor-pointer hover:underline font-medium",onClick:h,children:"Export"})," your data first."]}):"Are you sure you want to delete this practice session?",buttons:[{label:"Cancel",onClick:()=>c(null),variant:"secondary"},{label:"Delete",onClick:f,variant:"primary",className:"bg-red-600 hover:bg-red-700 text-white"}]})]})},qce="modulepreload",zce=function(t){return"/ai-code-typer/"+t},YL={},Fce=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=l(n.map(h=>{if(h=zce(h),h in YL)return;YL[h]=!0;const p=h.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":qce,p||(v.as="script"),v.crossOrigin="",v.href=h,f&&v.setAttribute("nonce",f),document.head.appendChild(v),p)return new Promise((_,E)=>{v.addEventListener("load",_),v.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})},Z$=6048e5,Hce=864e5,eU=6e4,tU=36e5,XL=Symbol.for("constructDateFrom");function ra(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&XL in t?t[XL](e):t instanceof Date?new t.constructor(e):new Date(e)}function ar(t,e){return ra(e||t,t)}function nU(t,e,n){const r=ar(t,n==null?void 0:n.in);return isNaN(e)?ra(t,NaN):(e&&r.setDate(r.getDate()+e),r)}let Gce={};function pv(){return Gce}function Sd(t,e){var c,f,h,p;const n=pv(),r=(e==null?void 0:e.weekStartsOn)??((f=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:f.weekStartsOn)??n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,i=ar(t,e==null?void 0:e.in),s=i.getDay(),l=(s<r?7:0)+s-r;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function iy(t,e){return Sd(t,{...e,weekStartsOn:1})}function rU(t,e){const n=ar(t,e==null?void 0:e.in),r=n.getFullYear(),i=ra(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=iy(i),l=ra(n,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const c=iy(l);return n.getTime()>=s.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function QL(t){const e=ar(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function iU(t,...e){const n=ra.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function JL(t,e){const n=ar(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function aU(t,e,n){const[r,i]=iU(n==null?void 0:n.in,t,e),s=JL(r),l=JL(i),c=+s-QL(s),f=+l-QL(l);return Math.round((c-f)/Hce)}function Kce(t,e){const n=rU(t,e),r=ra(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),iy(r)}function Wce(t,e,n){return nU(t,e*7,n)}function Yce(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function sU(t){return!(!Yce(t)&&typeof t!="number"||isNaN(+ar(t)))}function Xce(t,e){const[n,r]=iU(t,e.start,e.end);return{start:n,end:r}}function oU(t,e){const{start:n,end:r}=Xce(e==null?void 0:e.in,t);let i=+n>+r;const s=i?+n:+r,l=i?r:n;l.setHours(0,0,0,0);let c=1;const f=[];for(;+l<=s;)f.push(ra(n,l)),l.setDate(l.getDate()+c),l.setHours(0,0,0,0);return i?f.reverse():f}function Qce(t,e){const n=ar(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Jce={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Zce=(t,e,n)=>{let r;const i=Jce[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function I1(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const efe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tfe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},nfe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rfe={date:I1({formats:efe,defaultWidth:"full"}),time:I1({formats:tfe,defaultWidth:"full"}),dateTime:I1({formats:nfe,defaultWidth:"full"})},ife={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},afe=(t,e,n,r)=>ife[t];function lh(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,c=n!=null&&n.width?String(n.width):l;i=t.formattingValues[c]||t.formattingValues[l]}else{const l=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[c]||t.values[l]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const sfe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ofe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lfe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ufe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cfe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ffe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},hfe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},dfe={ordinalNumber:hfe,era:lh({values:sfe,defaultWidth:"wide"}),quarter:lh({values:ofe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:lh({values:lfe,defaultWidth:"wide"}),day:lh({values:ufe,defaultWidth:"wide"}),dayPeriod:lh({values:cfe,defaultWidth:"wide",formattingValues:ffe,defaultFormattingWidth:"wide"})};function uh(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const l=s[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],f=Array.isArray(c)?mfe(c,m=>m.test(l)):pfe(c,m=>m.test(l));let h;h=t.valueCallback?t.valueCallback(f):f,h=n.valueCallback?n.valueCallback(h):h;const p=e.slice(l.length);return{value:h,rest:p}}}function pfe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function mfe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function gfe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let l=t.valueCallback?t.valueCallback(s[0]):s[0];l=n.valueCallback?n.valueCallback(l):l;const c=e.slice(i.length);return{value:l,rest:c}}}const yfe=/^(\d+)(th|st|nd|rd)?/i,vfe=/\d+/i,bfe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_fe={any:[/^b/i,/^(a|c)/i]},xfe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wfe={any:[/1/i,/2/i,/3/i,/4/i]},Sfe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Efe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Tfe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Afe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ofe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Cfe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ife={ordinalNumber:gfe({matchPattern:yfe,parsePattern:vfe,valueCallback:t=>parseInt(t,10)}),era:uh({matchPatterns:bfe,defaultMatchWidth:"wide",parsePatterns:_fe,defaultParseWidth:"any"}),quarter:uh({matchPatterns:xfe,defaultMatchWidth:"wide",parsePatterns:wfe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:uh({matchPatterns:Sfe,defaultMatchWidth:"wide",parsePatterns:Efe,defaultParseWidth:"any"}),day:uh({matchPatterns:Tfe,defaultMatchWidth:"wide",parsePatterns:Afe,defaultParseWidth:"any"}),dayPeriod:uh({matchPatterns:Ofe,defaultMatchWidth:"any",parsePatterns:Cfe,defaultParseWidth:"any"})},Pfe={code:"en-US",formatDistance:Zce,formatLong:rfe,formatRelative:afe,localize:dfe,match:Ife,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Rfe(t,e){const n=ar(t,e==null?void 0:e.in);return aU(n,Qce(n))+1}function Nfe(t,e){const n=ar(t,e==null?void 0:e.in),r=+iy(n)-+Kce(n);return Math.round(r/Z$)+1}function lU(t,e){var p,m,v,_;const n=ar(t,e==null?void 0:e.in),r=n.getFullYear(),i=pv(),s=(e==null?void 0:e.firstWeekContainsDate)??((m=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??i.firstWeekContainsDate??((_=(v=i.locale)==null?void 0:v.options)==null?void 0:_.firstWeekContainsDate)??1,l=ra((e==null?void 0:e.in)||t,0);l.setFullYear(r+1,0,s),l.setHours(0,0,0,0);const c=Sd(l,e),f=ra((e==null?void 0:e.in)||t,0);f.setFullYear(r,0,s),f.setHours(0,0,0,0);const h=Sd(f,e);return+n>=+c?r+1:+n>=+h?r:r-1}function kfe(t,e){var c,f,h,p;const n=pv(),r=(e==null?void 0:e.firstWeekContainsDate)??((f=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,i=lU(t,e),s=ra((e==null?void 0:e.in)||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Sd(s,e)}function Mfe(t,e){const n=ar(t,e==null?void 0:e.in),r=+Sd(n,e)-+kfe(n,e);return Math.round(r/Z$)+1}function Et(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const io={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Et(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Et(n+1,2)},d(t,e){return Et(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Et(t.getHours()%12||12,e.length)},H(t,e){return Et(t.getHours(),e.length)},m(t,e){return Et(t.getMinutes(),e.length)},s(t,e){return Et(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Et(i,e.length)}},zu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ZL={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return io.y(t,e)},Y:function(t,e,n,r){const i=lU(t,r),s=i>0?i:1-i;if(e==="YY"){const l=s%100;return Et(l,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Et(s,e.length)},R:function(t,e){const n=rU(t);return Et(n,e.length)},u:function(t,e){const n=t.getFullYear();return Et(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Et(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Et(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return io.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Et(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Mfe(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Et(i,e.length)},I:function(t,e,n){const r=Nfe(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Et(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):io.d(t,e)},D:function(t,e,n){const r=Rfe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Et(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Et(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Et(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Et(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=zu.noon:r===0?i=zu.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=zu.evening:r>=12?i=zu.afternoon:r>=4?i=zu.morning:i=zu.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return io.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):io.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Et(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Et(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):io.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):io.s(t,e)},S:function(t,e){return io.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return t4(r);case"XXXX":case"XX":return ml(r);case"XXXXX":case"XXX":default:return ml(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return t4(r);case"xxxx":case"xx":return ml(r);case"xxxxx":case"xxx":default:return ml(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+e4(r,":");case"OOOO":default:return"GMT"+ml(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+e4(r,":");case"zzzz":default:return"GMT"+ml(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Et(r,e.length)},T:function(t,e,n){return Et(+t,e.length)}};function e4(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Et(s,2)}function t4(t,e){return t%60===0?(t>0?"-":"+")+Et(Math.abs(t)/60,2):ml(t,e)}function ml(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Et(Math.trunc(r/60),2),s=Et(r%60,2);return n+i+e+s}const n4=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},uU=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},jfe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return n4(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",n4(r,e)).replace("{{time}}",uU(i,e))},Dfe={p:uU,P:jfe},Lfe=/^D+$/,Vfe=/^Y+$/,$fe=["D","DD","YY","YYYY"];function Ufe(t){return Lfe.test(t)}function Bfe(t){return Vfe.test(t)}function qfe(t,e,n){const r=zfe(t,e,n);if(console.warn(r),$fe.includes(t))throw new RangeError(r)}function zfe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ffe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Hfe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Gfe=/^'([^]*?)'?$/,Kfe=/''/g,Wfe=/[a-zA-Z]/;function cU(t,e,n){var p,m,v,_;const r=pv(),i=r.locale??Pfe,s=r.firstWeekContainsDate??((m=(p=r.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,l=r.weekStartsOn??((_=(v=r.locale)==null?void 0:v.options)==null?void 0:_.weekStartsOn)??0,c=ar(t,n==null?void 0:n.in);if(!sU(c))throw new RangeError("Invalid time value");let f=e.match(Hfe).map(E=>{const S=E[0];if(S==="p"||S==="P"){const w=Dfe[S];return w(E,i.formatLong)}return E}).join("").match(Ffe).map(E=>{if(E==="''")return{isToken:!1,value:"'"};const S=E[0];if(S==="'")return{isToken:!1,value:Yfe(E)};if(ZL[S])return{isToken:!0,value:E};if(S.match(Wfe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:E}});i.localize.preprocessor&&(f=i.localize.preprocessor(c,f));const h={firstWeekContainsDate:s,weekStartsOn:l,locale:i};return f.map(E=>{if(!E.isToken)return E.value;const S=E.value;(Bfe(S)||Ufe(S))&&qfe(S,e,String(t));const w=ZL[S[0]];return w(c,S,i.localize,h)}).join("")}function Yfe(t){const e=t.match(Gfe);return e?e[1].replace(Kfe,"'"):t}function fU(t,e){const n=ar(t,e==null?void 0:e.in);if(isNaN(+n))throw new RangeError("Invalid time value");const r=(e==null?void 0:e.format)??"extended",i=(e==null?void 0:e.representation)??"complete";let s="",l="";const c=r==="extended"?"-":"",f=r==="extended"?":":"";if(i!=="time"){const h=Et(n.getDate(),2),p=Et(n.getMonth()+1,2);s=`${Et(n.getFullYear(),4)}${c}${p}${c}${h}`}if(i!=="date"){const h=n.getTimezoneOffset();if(h!==0){const S=Math.abs(h),w=Et(Math.trunc(S/60),2),O=Et(S%60,2);l=`${h<0?"+":"-"}${w}:${O}`}else l="Z";const p=Et(n.getHours(),2),m=Et(n.getMinutes(),2),v=Et(n.getSeconds(),2),_=s===""?"":"T",E=[p,m,v].join(f);s=`${s}${_}${E}${l}`}return s}function hU(t,e){return ar(t,e==null?void 0:e.in).getDay()}function Xfe(t,e){return ar(t,e==null?void 0:e.in).getMonth()}function Qfe(t,e){return ar(t,e==null?void 0:e.in).getFullYear()}function Jfe(t,e,n){let r=e-hU(t,n);return r<=0&&(r+=7),nU(t,r,n)}function zc(t,e){const n=()=>ra(e==null?void 0:e.in,NaN),i=nhe(t);let s;if(i.date){const h=rhe(i.date,2);s=ihe(h.restDateString,h.year)}if(!s||isNaN(+s))return n();const l=+s;let c=0,f;if(i.time&&(c=ahe(i.time),isNaN(c)))return n();if(i.timezone){if(f=she(i.timezone),isNaN(f))return n()}else{const h=new Date(l+c),p=ar(0,e==null?void 0:e.in);return p.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),p.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),p}return ar(l+c+f,e==null?void 0:e.in)}const Am={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Zfe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ehe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,the=/^([+-])(\d{2})(?::?(\d{2}))?$/;function nhe(t){const e={},n=t.split(Am.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Am.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Am.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=Am.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function rhe(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function ihe(t,e){if(e===null)return new Date(NaN);const n=t.match(Zfe);if(!n)return new Date(NaN);const r=!!n[4],i=ch(n[1]),s=ch(n[2])-1,l=ch(n[3]),c=ch(n[4]),f=ch(n[5])-1;if(r)return fhe(e,c,f)?ohe(e,c,f):new Date(NaN);{const h=new Date(0);return!uhe(e,s,l)||!che(e,i)?new Date(NaN):(h.setUTCFullYear(e,s,Math.max(i,l)),h)}}function ch(t){return t?parseInt(t):1}function ahe(t){const e=t.match(ehe);if(!e)return NaN;const n=P1(e[1]),r=P1(e[2]),i=P1(e[3]);return hhe(n,r,i)?n*tU+r*eU+i*1e3:NaN}function P1(t){return t&&parseFloat(t.replace(",","."))||0}function she(t){if(t==="Z")return 0;const e=t.match(the);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return dhe(r,i)?n*(r*tU+i*eU):NaN}function ohe(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const lhe=[31,null,31,30,31,30,31,31,30,31,30,31];function dU(t){return t%400===0||t%4===0&&t%100!==0}function uhe(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(lhe[e]||(dU(t)?29:28))}function che(t,e){return e>=1&&e<=(dU(t)?366:365)}function fhe(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function hhe(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function dhe(t,e){return e>=0&&e<=59}function phe(t,e,n){return Wce(t,-1,n)}const NA="react-activity-calendar",R1=8,pU=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],mhe={months:pU,weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],totalCount:"{{count}} activities in {{year}}",legend:{less:"Less",more:"More"}};function ghe(){const[t,e]=$.useState("light"),n=r=>{e(r.matches?"dark":"light")};return $.useEffect(()=>{const r=window.matchMedia("(prefers-color-scheme: dark)");return e(r.matches?"dark":"light"),r.addEventListener("change",n),()=>{r.removeEventListener("change",n)}},[]),t}const mU=`${NA}--loading-animation`;function yhe(t,e){$.useEffect(()=>{const n=`oklab(from ${t} l a b)`,r=e==="light"?`oklab(from ${t} calc(l * 0.96) a b)`:`oklab(from ${t} calc(l * 1.08) a b)`,i=document.createElement("style");return i.innerHTML=`
      @keyframes ${mU} {
        0% {
          fill: ${n};
        }
        50% {
          fill: ${r};
        }
        100% {
          fill: ${n};
        }
      }
    `,document.head.appendChild(i),()=>{document.head.removeChild(i)}},[t,e])}const vhe="(prefers-reduced-motion: reduce)";function bhe(){const[t,e]=$.useState(!0);return $.useEffect(()=>{const n=window.matchMedia(vhe);e(n.matches);const r=i=>{e(i.matches)};return n.addEventListener("change",r),()=>{n.removeEventListener("change",r)}},[]),t}function _he(t,e){if(t.length===0)throw new Error("Activity data must not be empty.");for(const{date:n,level:r,count:i}of t){if(!sU(zc(n)))throw new Error(`Activity date '${n}' is not a valid ISO 8601 date string.`);if(i<0)throw new RangeError(`Activity count must not be negative, found ${i}.`);if(r<0||r>e)throw new RangeError(`Activity level ${r} for ${n} is out of range. It must be between 0 and ${e}.`)}}function xhe(t,e=0){const n=whe(t),r=n[0],i=zc(r.date),s=hU(i)===e?i:phe(Jfe(i,e)),l=[...Array(aU(i,s)).fill(void 0),...n],c=Math.ceil(l.length/7);return ay(c).map(f=>l.slice(f*7,f*7+7))}function whe(t){const e=new Map(t.map(i=>[i.date,i])),n=t[0],r=t[t.length-1];return oU({start:zc(n.date),end:zc(r.date)}).map(i=>{const s=fU(i,{representation:"date"});return e.has(s)?e.get(s):{date:s,count:0,level:0}})}function cl(t){return`${NA}__${t}`}function ay(t){return[...Array(t).keys()]}function She(){const t=new Date().getFullYear();return oU({start:new Date(t,0,1),end:new Date(t,11,31)}).map(n=>({date:fU(n,{representation:"date"}),count:0,level:0}))}function Ehe(t,e=pU){return t.reduce((n,r,i)=>{const s=r.find(f=>f!==void 0);if(!s)throw new Error(`Unexpected error: Week ${i+1} is empty.`);const l=e[Xfe(zc(s.date))];if(!l){const f=new Date(s.date).toLocaleString("en-US",{month:"short"});throw new Error(`Unexpected error: undefined month label for ${f}.`)}const c=n[n.length-1];return i===0||(c==null?void 0:c.label)!==l?[...n,{weekIndex:i,label:l}]:n},[]).filter(({weekIndex:n},r,i)=>r===0?i[1]&&i[1].weekIndex-n>=3:r===i.length-1?t.slice(n).length>=3:!0)}function The(t,e,n){if(t.length!==7)throw new Error("Exactly 7 labels, one for each weekday must be passed.");return t.reduce((r,i,s)=>e.byDayIndex(s)?Math.max(r,Math.ceil(Ahe(i,n).width)):r,0)}function Ahe(t,e){if(typeof document>"u"||typeof window>"u")return{width:0,height:0};if(e<1)throw new RangeError("fontSize must be positive");if(t.length===0)return{width:0,height:0};const n="http://www.w3.org/2000/svg",r=document.createElementNS(n,"svg");r.style.position="absolute",r.style.visibility="hidden",r.style.fontFamily=window.getComputedStyle(document.body).fontFamily,r.style.fontSize=`${e}px`;const i=document.createElementNS(n,"text");i.textContent=t,r.appendChild(i),document.body.appendChild(r);const s=i.getBBox();return document.body.removeChild(r),{width:s.width,height:s.height}}function Ohe(t,e){if(!t)return{byDayIndex:()=>!1,shouldShow:!1};if(t===!0)return{byDayIndex:r=>(7+r-e)%7%2!==0,shouldShow:!0};const n=[];for(const r of t){const i=Che[r.toLowerCase()];n[i]=!0}return{byDayIndex:r=>n[r]??!1,shouldShow:t.length>0}}const Che={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};function Ihe(t,e=5){const n=Phe(e);return t?(Rhe(t,e),t.light=t.light??n.light,t.dark=t.dark??n.dark,{light:r4(t.light)?sy(t.light,e):t.light,dark:r4(t.dark)?sy(t.dark,e):t.dark}):n}function Phe(t){return{light:sy(["hsl(0, 0%, 92%)","hsl(0, 0%, 26%)"],t),dark:sy(["hsl(0, 0%, 22%)","hsl(0, 0%, 92%)"],t)}}function Rhe(t,e){const n='The number of colors is controlled by the "maxLevel" property.';if(typeof t!="object"||t.light===void 0&&t.dark===void 0)throw new Error(`The theme object must contain at least one of the fields "light" and "dark" with exactly 2 or ${e} colors respectively. ${n}`);if(t.light){const{length:r}=t.light;if(r!==2&&r!==e)throw new Error(`theme.light must contain exactly 2 or ${e} colors, ${r} passed. ${n}`);for(const i of t.light)if(typeof window<"u"&&!CSS.supports("color",i))throw new Error(`Invalid color "${i}" passed. All CSS color formats are accepted.`)}if(t.dark){const{length:r}=t.dark;if(r!==2&&r!==e)throw new Error(`theme.dark must contain exactly 2 or ${e} colors, ${r} passed. ${n}`);for(const i of t.dark)if(typeof window<"u"&&!CSS.supports("color",i))throw new Error(`Invalid color "${i}" passed. All CSS color formats are accepted.`)}}function sy([t,e],n){return ay(n).map(r=>{switch(r){case 0:return t;case n-1:return e;default:{const i=r/(n-1)*100;return`color-mix(in oklab, ${e} ${parseFloat(i.toFixed(2))}%, ${t})`}}})}function r4(t){return t.length===2}const fl={container:t=>({width:"max-content",maxWidth:"100%",display:"flex",flexDirection:"column",gap:"8px",fontSize:`${t}px`}),scrollContainer:t=>({maxWidth:"100%",overflowX:"auto",overflowY:"hidden",paddingTop:Math.ceil(.1*t)}),calendar:{display:"block",overflow:"visible"},rect:t=>({stroke:t==="light"?"rgba(0, 0, 0, 0.08)":"rgba(255, 255, 255, 0.04)"}),footer:{container:{display:"flex",flexWrap:"wrap",gap:"4px 16px",whiteSpace:"nowrap"},legend:{marginLeft:"auto",display:"flex",alignItems:"center",gap:"3px"}}},i4=$.lazy(()=>Fce(()=>import("./Tooltip-BOuzdJNe-Bn3az6Wo.js"),[]).then(t=>({default:t.Tooltip}))),gU=$.forwardRef(({data:t,blockMargin:e=4,blockRadius:n=2,blockSize:r=12,colorScheme:i=void 0,fontSize:s=14,labels:l=void 0,loading:c=!1,maxLevel:f=4,renderBlock:h=void 0,renderColorLegend:p=void 0,showColorLegend:m=!0,showMonthLabels:v=!0,showTotalCount:_=!0,showWeekdayLabels:E=!1,style:S={},theme:w=void 0,tooltips:O={},weekStart:I=0},N)=>{const[L,C]=$.useState(!1);$.useEffect(()=>{C(!0)},[]),f=Math.max(1,f);const M=Ihe(w,f+1),A=ghe(),P=i??A,k=M[P];yhe(k[0],P);const U=!bhe();c&&(t=She()),_he(t,f);const D=t[0],B=Qfe(zc(D.date)),V=xhe(t,I),Q=Object.assign({},mhe,l),J=v?s+R1:0,H=Ohe(E,I),Y=L&&H.shouldShow?The(Q.weekdays,H,s)+R1:void 0;function ee(){return{width:V.length*(r+e)-e,height:J+(r+e)*7-e}}function ue(){return V.map((we,Se)=>we.map((ke,$e)=>{if(!ke)return null;const ye=c&&U?{animation:`${mU} 1.75s ease-in-out infinite`,animationDelay:`${Se*20+$e*20}ms`}:void 0,Ee=x.jsx("rect",{x:0,y:J+(r+e)*$e,width:r,height:r,rx:n,ry:n,fill:k[ke.level],"data-date":ke.date,"data-level":ke.level,style:{...fl.rect(P),...ye}}),Ne=h?h(Ee,ke):Ee;return x.jsx($.Fragment,{children:O.activity?x.jsx($.Suspense,{fallback:Ne,children:x.jsx(i4,{text:O.activity.text(ke),colorScheme:P,placement:O.activity.placement??"top",hoverRestMs:O.activity.hoverRestMs,offset:O.activity.offset,transitionStyles:O.activity.transitionStyles,withArrow:O.activity.withArrow,children:Ne})}):Ne},ke.date)})).map((we,Se)=>x.jsx("g",{transform:`translate(${(r+e)*Se}, 0)`,children:we},Se))}function ve(){if(!_&&!m)return null;const we=t.reduce((Se,ke)=>Se+ke.count,0);return x.jsxs("footer",{className:cl("footer"),style:{...fl.footer.container,marginLeft:Y},children:[c&&x.jsx("div",{children:""}),!c&&_&&x.jsx("div",{className:cl("count"),children:Q.totalCount?Q.totalCount.replace("{{count}}",String(we)).replace("{{year}}",String(B)):`${we} activities in ${B}`}),!c&&m&&x.jsxs("div",{className:cl("legend-colors"),style:fl.footer.legend,children:[x.jsx("span",{style:{marginRight:"0.4em"},children:Q.legend.less}),ay(f+1).map(Se=>{const ke=x.jsx("svg",{width:r,height:r,children:x.jsx("rect",{width:r,height:r,fill:k[Se],rx:n,ry:n,style:fl.rect(P)})},Se),$e=p?p(ke,Se):ke;return x.jsx($.Fragment,{children:O.colorLegend?x.jsx($.Suspense,{fallback:$e,children:x.jsx(i4,{text:O.colorLegend.text(Se),colorScheme:P,placement:O.colorLegend.placement??"bottom",hoverRestMs:O.colorLegend.hoverRestMs,offset:O.colorLegend.offset,transitionStyles:O.colorLegend.transitionStyles,withArrow:O.colorLegend.withArrow,children:$e})}):$e},Se)}),x.jsx("span",{style:{marginLeft:"0.4em"},children:Q.legend.more})]})]})}function F(){return H.shouldShow?x.jsx("g",{className:cl("legend-weekday"),children:ay(7).map(we=>{const Se=(we+I)%7;return H.byDayIndex(Se)?x.jsx("text",{x:-R1,y:J+(r+e)*we+r/2,dominantBaseline:"central",textAnchor:"end",fill:"currentColor",children:Q.weekdays[Se]},we):null})}):null}function W(){return v?x.jsx("g",{className:cl("legend-month"),children:Ehe(V,Q.months).map(({label:we,weekIndex:Se})=>x.jsx("text",{x:(r+e)*Se,y:0,dominantBaseline:"hanging",fill:"currentColor",children:we},Se))}):null}const{width:oe,height:me}=ee();return x.jsxs("article",{ref:N,className:NA,style:{...S,...fl.container(s)},children:[x.jsx("div",{className:cl("scroll-container"),style:fl.scrollContainer(s),children:x.jsxs("svg",{width:oe,height:me,viewBox:`0 0 ${oe} ${me}`,className:cl("calendar"),style:{...fl.calendar,marginLeft:Y},children:[!c&&F(),!c&&W(),ue()]})}),ve()]})});gU.displayName="ActivityCalendar";const Nhe=({data:t})=>{const e=$.useContext(In),n=(e==null?void 0:e.theme)||"dark",r={light:["#f1f5f9","#bbf7d0","#86efac","#4ade80","#16a34a"],dark:["#1e293b","#064e3b","#065f46","#047857","#059669"]};return!t||t.length===0?x.jsx("div",{className:"w-full h-32 flex items-center justify-center text-slate-500 text-sm italic",children:"No coding activity recorded yet. Start practicing to see your heatmap!"}):x.jsx("div",{className:"w-full flex justify-center py-4",children:x.jsx(gU,{data:t,theme:r,colorScheme:n,showWeekdayLabels:!0,blockSize:12,blockMargin:4,fontSize:12,labels:{legend:{less:"Less",more:"More"},months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],totalCount:"{{count}} sessions in {{year}}",weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}})})},khe=({badges:t})=>{const e=[...t].sort((n,r)=>n.earned===r.earned?0:n.earned?-1:1);return x.jsx("div",{className:"grid grid-cols-2 md:grid-cols-1 xl:grid-cols-2 gap-3",children:e.map(n=>x.jsxs("div",{className:`relative group p-3 rounded-xl border transition-all duration-300 ${n.earned?`${n.color} border-transparent shadow-sm`:"bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 opacity-60 grayscale"}`,children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("span",{className:"text-2xl",children:n.icon}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("p",{className:"text-sm font-bold leading-tight break-words",children:n.name}),x.jsx("p",{className:"text-[10px] opacity-80 truncate leading-tight",children:n.earned?"Unlocked":"Locked"})]})]}),x.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-10 w-max max-w-[200px]",children:[n.description,x.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]},n.id))})},gl=[{name:"Novice",minTests:0,color:"text-gray-500"},{name:"Script Kiddie",minTests:10,color:"text-green-500"},{name:"Hacker",minTests:50,color:"text-blue-500"},{name:"Elite Typer",minTests:100,color:"text-purple-500"},{name:"Grandmaster",minTests:250,color:"text-amber-500"}],Mhe=t=>{let e=gl[0],n=gl[1];for(let i=0;i<gl.length&&t>=gl[i].minTests;i++)e=gl[i],n=gl[i+1]||null;let r=0;if(n){const i=n.minTests-e.minTests,s=t-e.minTests;r=Math.min(100,Math.max(0,s/i*100))}else r=100;return{currentLevel:e,nextLevel:n,progress:r}},jhe=t=>{const e=t.length,n=Math.max(0,...t.map(l=>l.wpm)),r=t.length>0?t.reduce((l,c)=>l+c.accuracy,0)/t.length:0,i=t.reduce((l,c)=>l+c.duration,0);return[{id:"first_step",name:"First Step",description:"Complete your first practice session.",icon:"",earned:e>=1,color:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400"},{id:"speedster",name:"Speedster",description:"Reach 60 WPM in a single session.",icon:"",earned:n>=60,color:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400"},{id:"sniper",name:"Sniper",description:"Maintain an average accuracy of 98% or higher.",icon:"",earned:t.length>=5&&r>=98,color:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"},{id:"dedicated",name:"Dedicated",description:"Complete 50 practice sessions.",icon:"",earned:e>=50,color:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"},{id:"marathon",name:"Marathon Runner",description:"Practice for over 2 hours total.",icon:"",earned:i>=7200,color:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400"},{id:"century",name:"Centurion",description:"Reach 100 WPM in a session.",icon:"",earned:n>=100,color:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400"}]},Dhe=(t,e)=>Object.entries(t).map(([r,i])=>{const s=e[r]||i,l=s>0?i/s*100:0;return{key:r,rate:l,errors:i,attempts:s}}).filter(r=>r.errors>0).sort((r,i)=>i.rate-r.rate).slice(0,3),Lhe=t=>{const e={};return t.forEach(n=>{if(n.timestamp)try{const r=new Date(n.timestamp);if(isNaN(r.getTime()))return;const i=cU(r,"yyyy-MM-dd");e[i]=(e[i]||0)+1}catch{console.error("Invalid date for session",n)}}),Object.entries(e).map(([n,r])=>{let i=0;return r===0?i=0:r<=2?i=1:r<=5?i=2:r<=10?i=3:i=4,{date:n,count:r,level:i}})},Vhe=t=>t.slice().sort((e,n)=>e.timestamp-n.timestamp).slice(-20).map(e=>{try{const n=new Date(e.timestamp);return{date:isNaN(n.getTime())?"Unknown":cU(n,"MMM dd"),wpm:e.wpm,accuracy:e.accuracy}}catch{return{date:"Err",wpm:e.wpm,accuracy:e.accuracy}}}),$he=({isOpen:t,onClose:e})=>{const{user:n,updateUserProfile:r}=Oy(),[i,s]=$.useState(""),[l,c]=$.useState(""),[f,h]=$.useState(!1),[p,m]=$.useState(null);$.useEffect(()=>{t&&n&&(s(n.displayName||""),c(n.photoURL||""),m(null))},[t,n]);const v=async _=>{_.preventDefault(),h(!0),m(null);try{await r({displayName:i.trim(),photoURL:l.trim()||void 0}),e()}catch(E){m(E.message||"Failed to update profile")}finally{h(!1)}};return x.jsx(Fl,{isOpen:t,onClose:e,title:"Edit Profile",children:x.jsxs("form",{onSubmit:v,className:"space-y-4",children:[p&&x.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-500 text-sm p-3 rounded",children:p}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{htmlFor:"displayName",className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Display Name"}),x.jsx("input",{id:"displayName",type:"text",value:i,onChange:_=>s(_.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-slate-900 dark:text-slate-100",placeholder:"Your Name",required:!0})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{htmlFor:"photoURL",className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Avatar URL"}),x.jsx("input",{id:"photoURL",type:"url",value:l,onChange:_=>c(_.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-slate-900 dark:text-slate-100",placeholder:"https://example.com/avatar.jpg"}),x.jsx("p",{className:"text-xs text-slate-500",children:"Leave empty to use default avatar."})]}),x.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[x.jsx(Ye,{type:"button",variant:"ghost",onClick:e,disabled:f,children:"Cancel"}),x.jsx(Ye,{type:"submit",variant:"primary",disabled:f,children:f?"Saving...":"Save Changes"})]})]})})},Uhe=()=>{const{user:t,logout:e,syncStatus:n}=Oy(),r=$.useContext(In),[i,s]=G.useState(!1);if(!r)throw new Error("AppContext not found");const{practiceHistory:l,keyErrorStats:c,keyAttemptStats:f,navigateTo:h}=r,p=$.useMemo(()=>{if(l.length===0)return{bestWpm:0,avgAccuracy:0,totalSessions:0,totalDuration:0};const I=Math.max(0,...l.map(M=>M.wpm)),N=l.reduce((M,A)=>M+A.accuracy,0),L=parseFloat((N/l.length).toFixed(2)),C=l.reduce((M,A)=>M+A.duration,0);return{bestWpm:I,avgAccuracy:L,totalSessions:l.length,totalDuration:C}},[l]),m=I=>{const N=Math.floor(I/3600),L=Math.floor(I%3600/60);return N>0?`${N}h ${L}m`:`${L}m`},v=$.useMemo(()=>Mhe(p.totalSessions),[p.totalSessions]),_=$.useMemo(()=>Lhe(l),[l]),E=$.useMemo(()=>Vhe(l),[l]),S=$.useMemo(()=>jhe(l),[l]),w=$.useMemo(()=>Dhe(c,f),[c,f]),O=async()=>{await e(),window.location.reload()};return t?x.jsxs("div",{className:"max-w-6xl mx-auto p-4 space-y-6 animate-fade-in-up pb-20",children:[x.jsxs(gr,{className:"p-6 md:p-8 relative overflow-hidden dark:bg-slate-800/80 backdrop-blur-md border-b-4 border-primary-500",children:[x.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center md:items-start z-10 relative",children:[x.jsxs("div",{className:"relative group",children:[x.jsx("img",{src:t.photoURL||`https://ui-avatars.com/api/?name=${t.displayName}`,alt:t.displayName||"User",className:"w-24 h-24 md:w-32 md:h-32 rounded-full border-4 border-slate-100 dark:border-slate-700 shadow-xl object-cover"}),x.jsxs("div",{className:"absolute -bottom-2 -right-2 bg-gradient-to-r from-amber-400 to-orange-500 text-white text-xs font-bold px-3 py-1 rounded-full border-2 border-white dark:border-slate-800 shadow-sm",children:["Lvl ",gl.indexOf(v.currentLevel)]})]}),x.jsxs("div",{className:"flex-1 text-center md:text-left space-y-3 w-full",children:[x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold bg-clip-text text-transparent bg-gradient-to-r from-slate-900 to-slate-600 dark:from-white dark:to-slate-300",children:t.displayName}),x.jsx("p",{className:`font-mono text-sm md:text-base ${v.currentLevel.color} font-bold mt-1 tracking-wide uppercase`,children:v.currentLevel.name})]}),x.jsxs(Ye,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>s(!0),children:[x.jsx(C6,{className:"w-4 h-4"}),"Edit Profile"]})]}),x.jsxs("div",{className:"space-y-2 max-w-xl",children:[x.jsxs("div",{className:"flex justify-between text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:[x.jsxs("span",{children:["Progress to ",v.nextLevel?v.nextLevel.name:"Max Level"]}),x.jsxs("span",{children:[v.progress.toFixed(0),"%"]})]}),x.jsx("div",{className:"h-3 w-full bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:x.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-blue-500 shadow-[0_0_10px_rgba(59,130,246,0.5)] transition-all duration-1000 ease-out",style:{width:`${v.progress}%`}})}),x.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500",children:v.nextLevel?`${v.nextLevel.minTests-p.totalSessions} more sessions to level up`:"You are at the top of the food chain!"})]})]})]}),x.jsx("div",{className:"absolute top-0 right-0 -mt-16 -mr-16 w-64 h-64 bg-primary-500/10 rounded-full blur-3xl pointer-events-none"})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[x.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[x.jsx(yr,{label:"Highest WPM",value:p.bestWpm,className:"bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-emerald-900/10 dark:to-teal-900/10 border-l-4 border-emerald-500"}),x.jsx(yr,{label:"Total Time Coding",value:m(p.totalDuration),className:"bg-gradient-to-br from-indigo-50 to-blue-50 dark:from-indigo-900/10 dark:to-blue-900/10 border-l-4 border-indigo-500"}),x.jsx(yr,{label:"Global Percentile",value:`${p.bestWpm>80?"Top 5%":p.bestWpm>50?"Top 20%":"Top 50%"}`,className:"bg-gradient-to-br from-purple-50 to-fuchsia-50 dark:from-purple-900/10 dark:to-fuchsia-900/10 border-l-4 border-purple-500"})]}),x.jsxs(gr,{className:"md:col-span-3 p-6 dark:bg-slate-800/50 backdrop-blur-sm",children:[x.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[x.jsx("span",{className:"text-xl",children:""})," Coding Activity"]}),x.jsx(Nhe,{data:_})]}),x.jsxs(gr,{className:"md:col-span-2 p-6 dark:bg-slate-800/50 backdrop-blur-sm min-h-[350px]",children:[x.jsxs("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[x.jsx("span",{className:"text-xl",children:""})," Recent Performance"]}),x.jsx(Q$,{data:E})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs(gr,{className:"p-6 dark:bg-slate-800/50 backdrop-blur-sm",children:[x.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[x.jsx("span",{className:"text-xl",children:""})," Needs Improvement"]}),w.length>0?x.jsxs("div",{className:"space-y-4",children:[x.jsx("div",{className:"flex justify-around",children:w.map((I,N)=>x.jsxs("div",{className:"flex flex-col items-center gap-1 group cursor-help relative",children:[x.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-red-50 dark:bg-red-900/20 border-2 border-red-200 dark:border-red-800 rounded-lg text-xl font-mono font-bold text-red-600 dark:text-red-400 shadow-sm",children:I.key===" "?"":I.key===`
`?"":I.key==="	"?"":I.key}),x.jsxs("span",{className:"text-xs font-semibold text-red-500",children:[I.rate.toFixed(1),"% err"]}),x.jsxs("div",{className:"absolute bottom-full mb-2 bg-slate-900 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none",children:[I.key===" "?"Space":I.key===`
`?"Enter":I.key==="	"?"Tab":I.key,": ",I.errors," errors / ",I.attempts," attempts"]})]},I.key))}),x.jsx(Ye,{size:"sm",variant:"ghost",className:"w-full mt-2 text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",onClick:()=>{const I=w.map(N=>N.key);h("practice"),r.startTargetedSession(I,{length:"medium",level:"medium"})},children:"Start Targeted Practice "})]}):x.jsxs("div",{className:"text-center py-6 text-slate-500 text-sm",children:[x.jsx("p",{children:"No significant weak keys found."}),x.jsx("p",{className:"text-xs opacity-70",children:"Keep practicing!"})]})]}),x.jsxs(gr,{className:"p-6 dark:bg-slate-800/50 backdrop-blur-sm",children:[x.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[x.jsx("span",{className:"text-xl",children:""})," Badges",x.jsxs("span",{className:"text-xs font-normal text-slate-500 ml-auto bg-slate-100 dark:bg-slate-700 px-2 py-0.5 rounded-full",children:[S.filter(I=>I.earned).length," / ",S.length]})]}),x.jsx(khe,{badges:S})]})]})]}),x.jsx("div",{className:"flex justify-center pt-8 border-t border-slate-200 dark:border-slate-800",children:x.jsx(Ye,{variant:"ghost",className:"text-slate-500 hover:text-red-500 dark:hover:text-red-400",onClick:O,children:"Sign Out of Account"})}),x.jsx($he,{isOpen:i,onClose:()=>s(!1)})]}):x.jsx("div",{className:"flex flex-col items-center justify-center h-full p-4 text-center",children:x.jsxs(gr,{className:"p-8 max-w-md w-full",children:[x.jsx("h2",{className:"text-2xl font-bold mb-4",children:"You are not signed in"}),x.jsx("p",{className:"text-slate-500 mb-6",children:"Sign in to sync your progress across devices and unlock your developer profile."})]})})},Bhe=()=>{const t=$.useContext(In),[e,n]=$.useState(!1);if($.useEffect(()=>n(!0),[]),!t)return null;const{alertMessage:r}=t,i={warning:x.jsx(ic,{className:"w-5 h-5"}),info:x.jsx(ic,{className:"w-5 h-5"}),error:x.jsx(ic,{className:"w-5 h-5"})},s={warning:"bg-yellow-400 text-yellow-900",info:"bg-blue-500 text-white",error:"bg-red-500 text-white"};if(!e||!r)return null;const l=document.getElementById("alert-root");return l?AT.createPortal(x.jsx("div",{className:"fixed top-6 inset-x-0 z-[10000] flex justify-center pointer-events-none",role:"alert",children:x.jsxs("div",{className:`pointer-events-auto px-4 py-3 rounded-md shadow-lg flex items-center gap-2 animate-fade-in-up ${s[r.type]}`,children:[i[r.type],x.jsx("span",{className:"font-semibold",children:r.message})]})}),l):null},qhe=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),x.jsx("polyline",{points:"17 8 12 3 7 8"}),x.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),zhe=[{label:"Short",value:"short"},{label:"Medium",value:"medium"},{label:"Long",value:"long"}],Fhe=[{label:"Easy",value:"easy"},{label:"Medium",value:"medium"},{label:"Hard",value:"hard"}],Hhe=[{label:"Generate with AI",value:"generate"},{label:"Upload Text",value:"upload"}],Ghe=[{label:"Code Practice",value:"code"},{label:"General Typing",value:"general"}],Khe={id:"custom",name:"Custom",prismAlias:"clike"},a4={id:"general",name:"General Text",prismAlias:"text"},Whe=vn,N1=[...vn,Khe],Yhe=({isOpen:t,onClose:e,onStart:n,variant:r})=>{const i=$.useContext(In);if(!i)throw new Error("AppContext not found");const{selectedLanguage:s,setSelectedLanguage:l,isLoadingSnippet:c,setLastPracticeAction:f,setupTab:h,setSetupTab:p,snippetLength:m,setSnippetLength:v,snippetLevel:_,setSnippetLevel:E,practiceMode:S,setPracticeMode:w,startMultiFileSession:O,showAlert:I,navigateTo:N,generalContentTypes:L,setGeneralContentTypes:C}=i,[M,A]=$.useState(m),[P,k]=$.useState(_),[U,D]=$.useState(S),[B,V]=$.useState(""),[Q,J]=$.useState(L),H=$.useRef(null),Y=$.useRef(null),ee=$.useRef(null),ue=$.useRef(null),ve=$.useRef(null),F=$.useRef(null),W=$.useRef(null),oe=$.useRef(null),me=$.useRef(null),we=$.useRef(null),Se=$.useRef(null),ke=$.useRef(null),$e=$.useRef(null);$.useEffect(()=>{t&&(A(m),k(_),D(S),J(L),setTimeout(()=>{var _e;return(_e=me.current)==null?void 0:_e.focus()},50))},[t,m,_,S,L]),$.useEffect(()=>{t&&h==="upload"&&setTimeout(()=>{var _e;return(_e=Y.current)==null?void 0:_e.focus()},50)},[t,h]),Gr("A",()=>p("generate"),{disabled:!t}),Gr("U",()=>p("upload"),{disabled:!t}),Gr("C",()=>D("code"),{disabled:!t}),Gr("G",()=>D("general"),{disabled:!t});const ye=()=>{f("generate"),w(U),v(M),E(P),C(Q),n(M,P,null,U,Q)},Ee=_e=>{if(_e.trim().length<2){I("Code must be at least 2 characters long.","error");return}f("upload"),U==="general"&&l(a4),n(null,null,_e,U)},Ne=async _e=>{if(_e.target.files&&_e.target.files.length>0){const Te=Array.from(_e.target.files);if(Te.length===1){const Be=Te[0],Ke=new FileReader;Ke.onload=st=>{var qe;const We=(qe=st.target)==null?void 0:qe.result;Ee(We)},Ke.readAsText(Be)}else{const Be=Ke=>new Promise(st=>{const We=new FileReader;We.onload=qe=>{var Dt;const xt=(Dt=qe.target)==null?void 0:Dt.result;st({file:Ke,isValid:xt.trim().length>=2})},We.readAsText(Ke)});try{const Ke=await Promise.all(Te.map(Be)),st=Ke.filter(qe=>qe.isValid).map(qe=>qe.file),We=Ke.filter(qe=>!qe.isValid).map(qe=>qe.file);if(st.length===0)I("All selected files are invalid. Code must be at least 2 characters long.","error");else{if(We.length>0){const qe=We.map(xt=>xt.name).join(", ");I(`Skipped ${We.length} invalid file(s) (<2 chars): ${qe}`,"warning",6e3)}U==="general"&&l(a4),await O(st),e(),N("practice")}}catch(Ke){console.error("Multi-file session start failed:",Ke),I("An unexpected error occurred while processing files.","error")}}}},ne=_e=>{J(Te=>Te.includes(_e)?Te.length===1?Te:Te.filter(Be=>Be!==_e):[...Te,_e])};$.useEffect(()=>{const _e=Te=>{var st,We,qe,xt,Dt,En,Ie,ht;if(!t||Te.defaultPrevented)return;const Be=Te.target,Ke=Be.tagName==="TEXTAREA"||Be.tagName==="INPUT"&&Be.type==="text";if((Te.ctrlKey||Te.shiftKey||Te.altKey)&&Te.key==="Enter"){Te.preventDefault(),h==="generate"?c||ye():B.trim()&&Ee(B);return}if(!(Ke&&Te.key.startsWith("Arrow"))){if(Te.key==="ArrowLeft"||Te.key==="ArrowRight"){const _t=document.activeElement,Vt=h==="generate"?me.current:Se.current;if(_t===Vt||_t===ke.current){Te.preventDefault(),_t===Vt?(st=ke.current)==null||st.focus():Vt==null||Vt.focus();return}if((We=W.current)!=null&&We.contains(_t)){Te.preventDefault();const Zt=Array.from(W.current.querySelectorAll("button")),en=Zt.indexOf(_t);if(en!==-1){const _n=Te.key==="ArrowRight"?1:-1,Pt=(en+_n+Zt.length)%Zt.length;(qe=Zt[Pt])==null||qe.focus()}return}}if(Te.key==="Enter"&&((xt=W.current)!=null&&xt.contains(document.activeElement))){Te.preventDefault(),document.activeElement.click();return}if(Te.key==="ArrowDown"||Te.key==="ArrowUp"){const _t=[];_t.push({ref:ee,type:"segmented"}),_t.push({ref:ue,type:"segmented"}),h==="generate"?(U==="code"&&_t.push({ref:oe,type:"select"}),_t.push({ref:ve,type:"segmented"}),U==="code"?_t.push({ref:F,type:"segmented"}):_t.push({ref:W,type:"container"}),_t.push({ref:$e,type:"container"})):(U==="code"&&_t.push({ref:oe,type:"select"}),_t.push({ref:Y,type:"input"}),_t.push({ref:we,type:"button"}),_t.push({ref:$e,type:"container"}));const Vt=document.activeElement,Zt=_t.findIndex(en=>{var _n,Pt,he;return en.type==="select"?((Pt=(_n=en.ref.current)==null?void 0:_n.getTriggerElement)==null?void 0:Pt.call(_n))===Vt:en.type==="container"||en.type==="segmented"?(he=en.ref.current)==null?void 0:he.contains(Vt):en.ref.current===Vt});if(Zt!==-1){Te.preventDefault();const en=Te.key==="ArrowDown"?1:-1,_n=(Zt+en+_t.length)%_t.length,Pt=_t[_n];if(Pt.type==="select")(Dt=Pt.ref.current)==null||Dt.focus();else if(Pt.type==="container")if(Pt.ref===$e){const he=h==="generate"?me.current:Se.current;he==null||he.focus()}else if(Pt.ref===W){const he=(En=Pt.ref.current)==null?void 0:En.querySelector("button");he==null||he.focus()}else{const he=(Ie=Pt.ref.current)==null?void 0:Ie.querySelector("input");he==null||he.focus()}else(ht=Pt.ref.current)==null||ht.focus()}return}if(Te.altKey)switch(Te.key.toLowerCase()){case"a":p("generate");break;case"u":p("upload");break;case"c":D("code");break;case"g":D("general");break;case"s":h==="generate"&&A("short");break;case"m":h==="generate"&&A("medium");break;case"l":h==="generate"&&A("long");break;case"i":h==="generate"&&U==="code"&&k("medium");break;case"h":h==="generate"&&(U==="code"?k("hard"):ne("characters"));break;case"y":h==="generate"&&(U==="code"?k("easy"):ne("symbols"));break;case"n":h==="generate"&&U==="general"&&ne("numbers");break}}};return window.addEventListener("keydown",_e),()=>window.removeEventListener("keydown",_e)},[t,c,U,h,M,P,Q,B,ye,Ee]);const He=_e=>{const Te=_e,Be=N1.find(Ke=>Ke.id===Te)||N1[0];l(Be)};return x.jsx(Fl,{isOpen:t,onClose:e,title:"Practice Setup",size:"md",children:x.jsxs("div",{className:"space-y-6 mt-2",children:[x.jsx(mh,{ref:ee,options:Hhe,selectedValue:h,onSelect:_e=>{var Te;p(_e),(Te=ee.current)==null||Te.focus()},accessKeyChars:["A","U"]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Mode"}),x.jsx(mh,{ref:ue,options:Ghe,selectedValue:U,onSelect:_e=>{var Te;D(_e),(Te=ue.current)==null||Te.focus()},accessKeyChars:["C","G"]})]}),h==="generate"&&x.jsxs("div",{className:"space-y-4 animate-fade-in-up relative z-20",children:[U==="code"&&x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Language"}),x.jsx(lS,{ref:oe,options:Whe.map(_e=>({label:_e.name,value:_e.id})),value:s.id,onChange:He,searchable:!0})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Length"}),x.jsx(mh,{ref:ve,options:zhe,selectedValue:M,onSelect:_e=>{var Te;A(_e),(Te=ve.current)==null||Te.focus()},accessKeyChars:["S","M","L"]})]}),U==="code"?x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Difficulty Level"}),x.jsx(mh,{ref:F,options:Fhe,selectedValue:P,onSelect:_e=>{var Te;k(_e),(Te=F.current)==null||Te.focus()},accessKeyChars:["Y","I","H"]})]}):x.jsxs("div",{className:"space-y-2",ref:W,children:[x.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Content Type"}),x.jsxs("div",{className:"flex justify-center items-center gap-1 bg-slate-200 dark:bg-slate-700 p-1 rounded-lg",children:[x.jsx("button",{onClick:()=>ne("characters"),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 ${Q.includes("characters")?"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white shadow-sm":"text-slate-600 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:"Characters"}),x.jsx("button",{onClick:()=>ne("numbers"),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 ${Q.includes("numbers")?"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white shadow-sm":"text-slate-600 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:"Numbers"}),x.jsx("button",{onClick:()=>ne("symbols"),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 ${Q.includes("symbols")?"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white shadow-sm":"text-slate-600 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:"Symbols"})]})]})]}),h==="upload"&&x.jsxs("div",{className:"space-y-4 animate-fade-in-up",children:[U==="code"&&x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Language"}),x.jsx(lS,{ref:oe,options:N1.map(_e=>({label:_e.name,value:_e.id})),value:s.id,onChange:He,searchable:!0})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Paste Code"}),x.jsx("textarea",{ref:Y,className:"w-full h-32 p-3 border rounded-md dark:bg-slate-800 dark:border-slate-600 dark:text-white font-mono text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none resize-none",placeholder:"Paste your code here...",value:B,onChange:_e=>V(_e.target.value)})]}),x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"absolute inset-0 flex items-center",children:x.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),x.jsx("div",{className:"relative flex justify-center text-sm",children:x.jsx("span",{className:"px-2 text-slate-500 dark:text-slate-400",children:"Or upload file"})})]}),x.jsxs("div",{className:"flex justify-center",children:[x.jsx("input",{type:"file",ref:H,className:"hidden",accept:".txt,.js,.jsx,.ts,.tsx,.py,.java,.cpp,.c,.h,.hpp,.cs,.go,.rs,.php,.rb,.html,.css,.json,.md",onChange:Ne,multiple:!0}),x.jsxs(Ye,{ref:we,variant:"secondary",onClick:()=>{var _e;return(_e=H.current)==null?void 0:_e.click()},className:"w-full",children:[x.jsx(qhe,{className:"w-4 h-4 mr-2"}),"Select File(s)"]})]})]}),x.jsxs("div",{className:"flex justify-center gap-3 pt-4 border-t dark:border-slate-700",ref:$e,children:[x.jsx(Ye,{ref:ke,variant:"ghost",onClick:e,className:"hover:bg-slate-200 dark:hover:bg-slate-700 focus:ring-2 focus:ring-primary-500 focus:bg-slate-100 dark:focus:bg-slate-800 transition-colors",children:"Cancel"}),h==="generate"?x.jsx(Ye,{ref:me,variant:"primary",onClick:ye,isLoading:c,accessKeyChar:"Enter",accessKeyLabel:"",children:"Start Practice"}):x.jsx(Ye,{ref:Se,variant:"primary",onClick:()=>Ee(B),disabled:!B.trim(),children:"Use This Text"})]})]})})},Xhe=({currentPage:t,onNavigate:e})=>{const n=$.useContext(In);if(!n)throw new Error("AppContext not found");const r=s=>{if(s==="practice"&&!n.snippet){n.openSetupModal();return}e(s)},i=[{page:"home",icon:x.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),label:"Home"},{page:"practice",icon:x.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),label:"Practice"},{page:"dashboard",icon:x.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),label:"Dashboard"}];return x.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 z-50 glass border-t border-slate-200/50 dark:border-slate-700/50 safe-area-bottom",children:x.jsx("div",{className:"flex items-center justify-around h-16 px-2",children:i.map(s=>x.jsxs("button",{onClick:()=>r(s.page),className:`flex flex-col items-center justify-center flex-1 h-full transition-all duration-200 rounded-lg group ${t===s.page?"":"hover:bg-slate-100/50 dark:hover:bg-slate-800/50"}`,children:[x.jsx("div",{className:`transition-all duration-200 ${t===s.page?"scale-110":"group-hover:scale-105"} ${t===s.page?"text-purple-600 dark:text-purple-400":"text-slate-600 dark:text-slate-400"}`,children:s.icon}),x.jsx("span",{className:`text-xs mt-1 font-medium transition-colors ${t===s.page?"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 bg-clip-text text-transparent font-semibold":"text-slate-600 dark:text-slate-400"}`,children:s.label})]},s.page))})})},Qhe=()=>{const t=$.useContext(In);if(!t)throw new Error("AppContext not found. Make sure AppContent is a child of AppProvider.");const{page:e,navigateTo:n,sessionResetKey:r,isSetupModalOpen:i,closeSetupModal:s,handleStartFromSetup:l}=t,c=()=>{switch(e){case"practice":return x.jsx(tK,{},r);case"dashboard":return x.jsx(Uce,{});case"history":return x.jsx(Bce,{});case"profile":return x.jsx(Uhe,{});case"home":default:return x.jsx(NG,{onStartPractice:()=>n("practice")})}};return x.jsxs("div",{className:"h-screen overflow-hidden bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 font-sans transition-colors duration-300 flex flex-col",children:[x.jsx(Bhe,{}),x.jsx(RG,{}),x.jsx("main",{className:"container mx-auto px-4 py-4 pt-20 pb-20 md:pb-4 flex-grow flex flex-col min-h-0 overflow-y-auto",children:c()}),x.jsx(Xhe,{currentPage:e,onNavigate:n}),x.jsx(Yhe,{isOpen:i,onClose:s,onStart:l})]})},Jhe=()=>x.jsx(mG,{children:x.jsx(SG,{children:x.jsx(Qhe,{})})}),yU=document.getElementById("root");if(!yU)throw new Error("Could not find root element to mount to");const Zhe=i9.createRoot(yU);Zhe.render(x.jsx(Jhe,{}));export{ede as R,AT as a,cl as g,x as j,$ as r};
