function XU(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var om=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lb={exports:{}},Qf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZC;function QU(){if(ZC)return Qf;ZC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return Qf.Fragment=e,Qf.jsx=n,Qf.jsxs=n,Qf}var eI;function JU(){return eI||(eI=1,lb.exports=QU()),lb.exports}var x=JU(),ub={exports:{}},Jf={},cb={exports:{}},fb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tI;function ZU(){return tI||(tI=1,(function(t){function e(F,Y){var ee=F.length;F.push(Y);e:for(;0<ee;){var ue=ee-1>>>1,ve=F[ue];if(0<i(ve,Y))F[ue]=Y,F[ee]=ve,ee=ue;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var Y=F[0],ee=F.pop();if(ee!==Y){F[0]=ee;e:for(var ue=0,ve=F.length,H=ve>>>1;ue<H;){var W=2*(ue+1)-1,oe=F[W],me=W+1,we=F[me];if(0>i(oe,ee))me<ve&&0>i(we,oe)?(F[ue]=we,F[me]=ee,ue=me):(F[ue]=oe,F[W]=ee,ue=W);else if(me<ve&&0>i(we,ee))F[ue]=we,F[me]=ee,ue=me;else break e}}return Y}function i(F,Y){var ee=F.sortIndex-Y.sortIndex;return ee!==0?ee:F.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],h=[],p=1,m=null,v=3,_=!1,E=!1,S=!1,w=!1,A=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function V(F){for(var Y=n(h);Y!==null;){if(Y.callback===null)r(h);else if(Y.startTime<=F)r(h),Y.sortIndex=Y.expirationTime,e(f,Y);else break;Y=n(h)}}function C(F){if(S=!1,V(F),!E)if(n(f)!==null)E=!0,j||(j=!0,$());else{var Y=n(h);Y!==null&&J(C,Y.startTime-F)}}var j=!1,O=-1,P=5,R=-1;function B(){return w?!0:!(t.unstable_now()-R<P)}function D(){if(w=!1,j){var F=t.unstable_now();R=F;var Y=!0;try{e:{E=!1,S&&(S=!1,I(O),O=-1),_=!0;var ee=v;try{t:{for(V(F),m=n(f);m!==null&&!(m.expirationTime>F&&B());){var ue=m.callback;if(typeof ue=="function"){m.callback=null,v=m.priorityLevel;var ve=ue(m.expirationTime<=F);if(F=t.unstable_now(),typeof ve=="function"){m.callback=ve,V(F),Y=!0;break t}m===n(f)&&r(f),V(F)}else r(f);m=n(f)}if(m!==null)Y=!0;else{var H=n(h);H!==null&&J(C,H.startTime-F),Y=!1}}break e}finally{m=null,v=ee,_=!1}Y=void 0}}finally{Y?$():j=!1}}}var $;if(typeof k=="function")$=function(){k(D)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,Q=L.port2;L.port1.onmessage=D,$=function(){Q.postMessage(null)}}else $=function(){A(D,0)};function J(F,Y){O=A(function(){F(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(F){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var ee=v;v=Y;try{return F()}finally{v=ee}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(F,Y){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ee=v;v=F;try{return Y()}finally{v=ee}},t.unstable_scheduleCallback=function(F,Y,ee){var ue=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ue+ee:ue):ee=ue,F){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=ee+ve,F={id:p++,callback:Y,priorityLevel:F,startTime:ee,expirationTime:ve,sortIndex:-1},ee>ue?(F.sortIndex=ee,e(h,F),n(f)===null&&F===n(h)&&(S?(I(O),O=-1):S=!0,J(C,ee-ue))):(F.sortIndex=ve,e(f,F),E||_||(E=!0,j||(j=!0,$()))),F},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(F){var Y=v;return function(){var ee=v;v=Y;try{return F.apply(this,arguments)}finally{v=ee}}}})(fb)),fb}var nI;function eB(){return nI||(nI=1,cb.exports=ZU()),cb.exports}var hb={exports:{}},ut={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rI;function tB(){if(rI)return ut;rI=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),v=Symbol.iterator;function _(H){return H===null||typeof H!="object"?null:(H=v&&H[v]||H["@@iterator"],typeof H=="function"?H:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function A(H,W,oe){this.props=H,this.context=W,this.refs=w,this.updater=oe||E}A.prototype.isReactComponent={},A.prototype.setState=function(H,W){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,W,"setState")},A.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function I(){}I.prototype=A.prototype;function k(H,W,oe){this.props=H,this.context=W,this.refs=w,this.updater=oe||E}var V=k.prototype=new I;V.constructor=k,S(V,A.prototype),V.isPureReactComponent=!0;var C=Array.isArray;function j(){}var O={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function R(H,W,oe){var me=oe.ref;return{$$typeof:t,type:H,key:W,ref:me!==void 0?me:null,props:oe}}function B(H,W){return R(H.type,W,H.props)}function D(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function $(H){var W={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(oe){return W[oe]})}var L=/\/+/g;function Q(H,W){return typeof H=="object"&&H!==null&&H.key!=null?$(""+H.key):W.toString(36)}function J(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(j,j):(H.status="pending",H.then(function(W){H.status==="pending"&&(H.status="fulfilled",H.value=W)},function(W){H.status==="pending"&&(H.status="rejected",H.reason=W)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function F(H,W,oe,me,we){var Se=typeof H;(Se==="undefined"||Se==="boolean")&&(H=null);var Re=!1;if(H===null)Re=!0;else switch(Se){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(H.$$typeof){case t:case e:Re=!0;break;case p:return Re=H._init,F(Re(H._payload),W,oe,me,we)}}if(Re)return we=we(H),Re=me===""?"."+Q(H,0):me,C(we)?(oe="",Re!=null&&(oe=Re.replace(L,"$&/")+"/"),F(we,W,oe,"",function(Ee){return Ee})):we!=null&&(D(we)&&(we=B(we,oe+(we.key==null||H&&H.key===we.key?"":(""+we.key).replace(L,"$&/")+"/")+Re)),W.push(we)),1;Re=0;var $e=me===""?".":me+":";if(C(H))for(var ye=0;ye<H.length;ye++)me=H[ye],Se=$e+Q(me,ye),Re+=F(me,W,oe,Se,we);else if(ye=_(H),typeof ye=="function")for(H=ye.call(H),ye=0;!(me=H.next()).done;)me=me.value,Se=$e+Q(me,ye++),Re+=F(me,W,oe,Se,we);else if(Se==="object"){if(typeof H.then=="function")return F(J(H),W,oe,me,we);throw W=String(H),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Re}function Y(H,W,oe){if(H==null)return H;var me=[],we=0;return F(H,me,"","",function(Se){return W.call(oe,Se,we++)}),me}function ee(H){if(H._status===-1){var W=H._result;W=W(),W.then(function(oe){(H._status===0||H._status===-1)&&(H._status=1,H._result=oe)},function(oe){(H._status===0||H._status===-1)&&(H._status=2,H._result=oe)}),H._status===-1&&(H._status=0,H._result=W)}if(H._status===1)return H._result.default;throw H._result}var ue=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},ve={map:Y,forEach:function(H,W,oe){Y(H,function(){W.apply(this,arguments)},oe)},count:function(H){var W=0;return Y(H,function(){W++}),W},toArray:function(H){return Y(H,function(W){return W})||[]},only:function(H){if(!D(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return ut.Activity=m,ut.Children=ve,ut.Component=A,ut.Fragment=n,ut.Profiler=i,ut.PureComponent=k,ut.StrictMode=r,ut.Suspense=f,ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,ut.__COMPILER_RUNTIME={__proto__:null,c:function(H){return O.H.useMemoCache(H)}},ut.cache=function(H){return function(){return H.apply(null,arguments)}},ut.cacheSignal=function(){return null},ut.cloneElement=function(H,W,oe){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var me=S({},H.props),we=H.key;if(W!=null)for(Se in W.key!==void 0&&(we=""+W.key),W)!P.call(W,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&W.ref===void 0||(me[Se]=W[Se]);var Se=arguments.length-2;if(Se===1)me.children=oe;else if(1<Se){for(var Re=Array(Se),$e=0;$e<Se;$e++)Re[$e]=arguments[$e+2];me.children=Re}return R(H.type,we,me)},ut.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:s,_context:H},H},ut.createElement=function(H,W,oe){var me,we={},Se=null;if(W!=null)for(me in W.key!==void 0&&(Se=""+W.key),W)P.call(W,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(we[me]=W[me]);var Re=arguments.length-2;if(Re===1)we.children=oe;else if(1<Re){for(var $e=Array(Re),ye=0;ye<Re;ye++)$e[ye]=arguments[ye+2];we.children=$e}if(H&&H.defaultProps)for(me in Re=H.defaultProps,Re)we[me]===void 0&&(we[me]=Re[me]);return R(H,Se,we)},ut.createRef=function(){return{current:null}},ut.forwardRef=function(H){return{$$typeof:c,render:H}},ut.isValidElement=D,ut.lazy=function(H){return{$$typeof:p,_payload:{_status:-1,_result:H},_init:ee}},ut.memo=function(H,W){return{$$typeof:h,type:H,compare:W===void 0?null:W}},ut.startTransition=function(H){var W=O.T,oe={};O.T=oe;try{var me=H(),we=O.S;we!==null&&we(oe,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(j,ue)}catch(Se){ue(Se)}finally{W!==null&&oe.types!==null&&(W.types=oe.types),O.T=W}},ut.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},ut.use=function(H){return O.H.use(H)},ut.useActionState=function(H,W,oe){return O.H.useActionState(H,W,oe)},ut.useCallback=function(H,W){return O.H.useCallback(H,W)},ut.useContext=function(H){return O.H.useContext(H)},ut.useDebugValue=function(){},ut.useDeferredValue=function(H,W){return O.H.useDeferredValue(H,W)},ut.useEffect=function(H,W){return O.H.useEffect(H,W)},ut.useEffectEvent=function(H){return O.H.useEffectEvent(H)},ut.useId=function(){return O.H.useId()},ut.useImperativeHandle=function(H,W,oe){return O.H.useImperativeHandle(H,W,oe)},ut.useInsertionEffect=function(H,W){return O.H.useInsertionEffect(H,W)},ut.useLayoutEffect=function(H,W){return O.H.useLayoutEffect(H,W)},ut.useMemo=function(H,W){return O.H.useMemo(H,W)},ut.useOptimistic=function(H,W){return O.H.useOptimistic(H,W)},ut.useReducer=function(H,W,oe){return O.H.useReducer(H,W,oe)},ut.useRef=function(H){return O.H.useRef(H)},ut.useState=function(H){return O.H.useState(H)},ut.useSyncExternalStore=function(H,W,oe){return O.H.useSyncExternalStore(H,W,oe)},ut.useTransition=function(){return O.H.useTransition()},ut.version="19.2.0",ut}var iI;function jE(){return iI||(iI=1,hb.exports=tB()),hb.exports}var db={exports:{}},wr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aI;function nB(){if(aI)return wr;aI=1;var t=jE();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,h,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:f,containerInfo:h,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return wr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,wr.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(f,h,null,p)},wr.flushSync=function(f){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=h,r.p=p,r.d.f()}},wr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},wr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},wr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,m=c(p,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:_}):p==="script"&&r.d.X(f,{crossOrigin:m,integrity:v,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},wr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=c(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},wr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,m=c(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},wr.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=c(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},wr.requestFormReset=function(f){r.d.r(f)},wr.unstable_batchedUpdates=function(f,h){return f(h)},wr.useFormState=function(f,h,p){return l.H.useFormState(f,h,p)},wr.useFormStatus=function(){return l.H.useHostTransitionStatus()},wr.version="19.2.0",wr}var sI;function lL(){if(sI)return db.exports;sI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),db.exports=nB(),db.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oI;function rB(){if(oI)return Jf;oI=1;var t=eB(),e=jE(),n=lL();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function f(a){if(s(a)!==a)throw Error(r(188))}function h(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var u=a,d=o;;){var y=u.return;if(y===null)break;var b=y.alternate;if(b===null){if(d=y.return,d!==null){u=d;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===u)return f(y),a;if(b===d)return f(y),o;b=b.sibling}throw Error(r(188))}if(u.return!==d.return)u=y,d=b;else{for(var N=!1,q=y.child;q;){if(q===u){N=!0,u=y,d=b;break}if(q===d){N=!0,d=y,u=b;break}q=q.sibling}if(!N){for(q=b.child;q;){if(q===u){N=!0,u=b,d=y;break}if(q===d){N=!0,d=b,u=y;break}q=q.sibling}if(!N)throw Error(r(189))}}if(u.alternate!==d)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:o}function p(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=p(a),o!==null)return o;a=a.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),k=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function $(a){return a===null||typeof a!="object"?null:(a=D&&a[D]||a["@@iterator"],typeof a=="function"?a:null)}var L=Symbol.for("react.client.reference");function Q(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===L?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case A:return"Profiler";case w:return"StrictMode";case C:return"Suspense";case j:return"SuspenseList";case R:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case E:return"Portal";case k:return a.displayName||"Context";case I:return(a._context.displayName||"Context")+".Consumer";case V:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case O:return o=a.displayName||null,o!==null?o:Q(a.type)||"Memo";case P:o=a._payload,a=a._init;try{return Q(a(o))}catch{}}return null}var J=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ue=[],ve=-1;function H(a){return{current:a}}function W(a){0>ve||(a.current=ue[ve],ue[ve]=null,ve--)}function oe(a,o){ve++,ue[ve]=a.current,a.current=o}var me=H(null),we=H(null),Se=H(null),Re=H(null);function $e(a,o){switch(oe(Se,o),oe(we,a),oe(me,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?wC(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=wC(o),a=SC(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}W(me),oe(me,a)}function ye(){W(me),W(we),W(Se)}function Ee(a){a.memoizedState!==null&&oe(Re,a);var o=me.current,u=SC(o,a.type);o!==u&&(oe(we,a),oe(me,u))}function Ne(a){we.current===a&&(W(me),W(we)),Re.current===a&&(W(Re),Kf._currentValue=ee)}var ne,Ge;function xe(a){if(ne===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);ne=o&&o[1]||"",Ge=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ne+a+Ge}var Te=!1;function Be(a,o){if(!a||Te)return"";Te=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(ce){var se=ce}Reflect.construct(a,[],ge)}else{try{ge.call()}catch(ce){se=ce}a.call(ge.prototype)}}else{try{throw Error()}catch(ce){se=ce}(ge=a())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(ce){if(ce&&se&&typeof ce.stack=="string")return[ce.stack,se.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),N=b[0],q=b[1];if(N&&q){var K=N.split(`
`),ae=q.split(`
`);for(y=d=0;d<K.length&&!K[d].includes("DetermineComponentFrameRoot");)d++;for(;y<ae.length&&!ae[y].includes("DetermineComponentFrameRoot");)y++;if(d===K.length||y===ae.length)for(d=K.length-1,y=ae.length-1;1<=d&&0<=y&&K[d]!==ae[y];)y--;for(;1<=d&&0<=y;d--,y--)if(K[d]!==ae[y]){if(d!==1||y!==1)do if(d--,y--,0>y||K[d]!==ae[y]){var fe=`
`+K[d].replace(" at new "," at ");return a.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",a.displayName)),fe}while(1<=d&&0<=y);break}}}finally{Te=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?xe(u):""}function We(a,o){switch(a.tag){case 26:case 27:case 5:return xe(a.type);case 16:return xe("Lazy");case 13:return a.child!==o&&o!==null?xe("Suspense Fallback"):xe("Suspense");case 19:return xe("SuspenseList");case 0:case 15:return Be(a.type,!1);case 11:return Be(a.type.render,!1);case 1:return Be(a.type,!0);case 31:return xe("Activity");default:return""}}function st(a){try{var o="",u=null;do o+=We(a,u),u=a,a=a.return;while(a);return o}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Ye=Object.prototype.hasOwnProperty,qe=t.unstable_scheduleCallback,_t=t.unstable_cancelCallback,Dt=t.unstable_shouldYield,En=t.unstable_requestPaint,Ie=t.unstable_now,ht=t.unstable_getCurrentPriorityLevel,xt=t.unstable_ImmediatePriority,Vt=t.unstable_UserBlockingPriority,Zt=t.unstable_NormalPriority,en=t.unstable_LowPriority,bn=t.unstable_IdlePriority,kt=t.log,he=t.unstable_setDisableYieldValue,Ae=null,Ke=null;function Pt(a){if(typeof kt=="function"&&he(a),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(Ae,a)}catch{}}var ot=Math.clz32?Math.clz32:dt,Kt=Math.log,Nt=Math.LN2;function dt(a){return a>>>=0,a===0?32:31-(Kt(a)/Nt|0)|0}var $t=256,Ue=262144,Oe=4194304;function je(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function pt(a,o,u){var d=a.pendingLanes;if(d===0)return 0;var y=0,b=a.suspendedLanes,N=a.pingedLanes;a=a.warmLanes;var q=d&134217727;return q!==0?(d=q&~b,d!==0?y=je(d):(N&=q,N!==0?y=je(N):u||(u=q&~a,u!==0&&(y=je(u))))):(q=d&~b,q!==0?y=je(q):N!==0?y=je(N):u||(u=d&~a,u!==0&&(y=je(u)))),y===0?0:o!==0&&o!==y&&(o&b)===0&&(b=y&-y,u=o&-o,b>=u||b===32&&(u&4194048)!==0)?o:y}function jt(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function or(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vr(){var a=Oe;return Oe<<=1,(Oe&62914560)===0&&(Oe=4194304),a}function Dn(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function Yr(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function sf(a,o,u,d,y,b){var N=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var q=a.entanglements,K=a.expirationTimes,ae=a.hiddenUpdates;for(u=N&~u;0<u;){var fe=31-ot(u),ge=1<<fe;q[fe]=0,K[fe]=-1;var se=ae[fe];if(se!==null)for(ae[fe]=null,fe=0;fe<se.length;fe++){var ce=se[fe];ce!==null&&(ce.lane&=-536870913)}u&=~ge}d!==0&&Ma(a,d,0),b!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=b&~(N&~o))}function Ma(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var d=31-ot(o);a.entangledLanes|=o,a.entanglements[d]=a.entanglements[d]|1073741824|u&261930}function jo(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var d=31-ot(u),y=1<<d;y&o|a[d]&o&&(a[d]|=o),u&=~y}}function Mo(a,o){var u=o&-o;return u=(u&42)!==0?1:Da(u),(u&(a.suspendedLanes|o))!==0?0:u}function Da(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Li(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Ql(){var a=Y.p;return a!==0?a:(a=window.event,a===void 0?32:GC(a.type))}function Xr(a,o){var u=Y.p;try{return Y.p=a,o()}finally{Y.p=u}}var Qr=Math.random().toString(36).slice(2),kn="__reactFiber$"+Qr,Pn="__reactProps$"+Qr,$r="__reactContainer$"+Qr,Vi="__reactEvents$"+Qr,As="__reactListeners$"+Qr,Jl="__reactHandles$"+Qr,Zl="__reactResources$"+Qr,mi="__reactMarker$"+Qr;function $i(a){delete a[kn],delete a[Pn],delete a[Vi],delete a[As],delete a[Jl]}function br(a){var o=a[kn];if(o)return o;for(var u=a.parentNode;u;){if(o=u[$r]||u[kn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=kC(a);a!==null;){if(u=a[kn])return u;a=kC(a)}return o}a=u,u=a.parentNode}return null}function xr(a){if(a=a[kn]||a[$r]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function kr(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function gi(a){var o=a[Zl];return o||(o=a[Zl]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function xn(a){a[mi]=!0}var Do=new Set,La={};function Jr(a,o){yi(a,o),yi(a+"Capture",o)}function yi(a,o){for(La[a]=o,a=0;a<o.length;a++)Do.add(o[a])}var Lo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vo={},$o={};function eu(a){return Ye.call($o,a)?!0:Ye.call(Vo,a)?!1:Lo.test(a)?$o[a]=!0:(Vo[a]=!0,!1)}function Os(a,o,u){if(eu(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function Pr(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function Tn(a,o,u,d){if(d===null)a.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+d)}}function Ln(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function aa(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Uo(a,o,u){var d=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,b=d.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return y.call(this)},set:function(N){u=""+N,b.call(this,N)}}),Object.defineProperty(a,o,{enumerable:d.enumerable}),{getValue:function(){return u},setValue:function(N){u=""+N},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function ie(a){if(!a._valueTracker){var o=aa(a)?"checked":"value";a._valueTracker=Uo(a,o,""+a[o])}}function Pe(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return a&&(d=aa(a)?a.checked?"true":"false":a.value),a=d,a!==u?(o.setValue(a),!0):!1}function Me(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Qe=/[\n"\\]/g;function lt(a){return a.replace(Qe,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function mt(a,o,u,d,y,b,N,q){a.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?a.type=N:a.removeAttribute("type"),o!=null?N==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Ln(o)):a.value!==""+Ln(o)&&(a.value=""+Ln(o)):N!=="submit"&&N!=="reset"||a.removeAttribute("value"),o!=null?_r(a,N,Ln(o)):u!=null?_r(a,N,Ln(u)):d!=null&&a.removeAttribute("value"),y==null&&b!=null&&(a.defaultChecked=!!b),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?a.name=""+Ln(q):a.removeAttribute("name")}function Lt(a,o,u,d,y,b,N,q){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),o!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||o!=null)){ie(a);return}u=u!=null?""+Ln(u):"",o=o!=null?""+Ln(o):u,q||o===a.value||(a.value=o),a.defaultValue=o}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=q?a.checked:!!d,a.defaultChecked=!!d,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(a.name=N),ie(a)}function _r(a,o,u){o==="number"&&Me(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function sa(a,o,u,d){if(a=a.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<a.length;u++)y=o.hasOwnProperty("$"+a[u].value),a[u].selected!==y&&(a[u].selected=y),y&&d&&(a[u].defaultSelected=!0)}else{for(u=""+Ln(u),o=null,y=0;y<a.length;y++){if(a[y].value===u){a[y].selected=!0,d&&(a[y].defaultSelected=!0);return}o!==null||a[y].disabled||(o=a[y])}o!==null&&(o.selected=!0)}}function tu(a,o,u){if(o!=null&&(o=""+Ln(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+Ln(u):""}function oa(a,o,u,d){if(o==null){if(d!=null){if(u!=null)throw Error(r(92));if(J(d)){if(1<d.length)throw Error(r(93));d=d[0]}u=d}u==null&&(u=""),o=u}u=Ln(o),a.defaultValue=u,d=a.textContent,d===u&&d!==""&&d!==null&&(a.value=d),ie(a)}function lr(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var Hd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function of(a,o,u){var d=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":d?a.setProperty(o,u):typeof u!="number"||u===0||Hd.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function lf(a,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var y in o)d=o[y],o.hasOwnProperty(y)&&u[y]!==d&&of(a,y,d)}else for(var b in o)o.hasOwnProperty(b)&&of(a,b,o[b])}function nu(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ru(a){return Cs.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Ui(){}var uf=null;function vi(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Is=null,la=null;function Bo(a){var o=xr(a);if(o&&(a=o.stateNode)){var u=a[Pn]||null;e:switch(a=o.stateNode,o.type){case"input":if(mt(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+lt(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==a&&d.form===a.form){var y=d[Pn]||null;if(!y)throw Error(r(90));mt(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)d=u[o],d.form===a.form&&Pe(d)}break e;case"textarea":tu(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&sa(a,!!u.multiple,o,!1)}}}var iu=!1;function ks(a,o,u){if(iu)return a(o,u);iu=!0;try{var d=a(o);return d}finally{if(iu=!1,(Is!==null||la!==null)&&($p(),Is&&(o=Is,a=la,la=Is=null,Bo(o),a)))for(o=0;o<a.length;o++)Bo(a[o])}}function Bi(a,o){var u=a.stateNode;if(u===null)return null;var d=u[Pn]||null;if(d===null)return null;u=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qo=!1;if(bi)try{var tn={};Object.defineProperty(tn,"passive",{get:function(){qo=!0}}),window.addEventListener("test",tn,tn),window.removeEventListener("test",tn,tn)}catch{qo=!1}var ua=null,cf=null,zo=null;function ff(){if(zo)return zo;var a,o=cf,u=o.length,d,y="value"in ua?ua.value:ua.textContent,b=y.length;for(a=0;a<u&&o[a]===y[a];a++);var N=u-a;for(d=1;d<=N&&o[u-d]===y[b-d];d++);return zo=y.slice(a,1<d?1-d:void 0)}function Fo(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Va(){return!0}function qi(){return!1}function ur(a){function o(u,d,y,b,N){this._reactName=u,this._targetInst=y,this.type=d,this.nativeEvent=b,this.target=N,this.currentTarget=null;for(var q in a)a.hasOwnProperty(q)&&(u=a[q],this[q]=u?u(b):b[q]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Va:qi,this.isPropagationStopped=qi,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Va)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Va)},persist:function(){},isPersistent:Va}),o}var $a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ca=ur($a),Ps=m({},$a,{view:0,detail:0}),hf=ur(Ps),Ns,au,fa,su=m({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==fa&&(fa&&a.type==="mousemove"?(Ns=a.screenX-fa.screenX,au=a.screenY-fa.screenY):au=Ns=0,fa=a),Ns)},movementY:function(a){return"movementY"in a?a.movementY:au}}),df=ur(su),Ho=m({},su,{dataTransfer:0}),Kd=ur(Ho),Wd=m({},Ps,{relatedTarget:0}),Go=ur(Wd),pf=m({},$a,{animationName:0,elapsedTime:0,pseudoElement:0}),Yd=ur(pf),ou=m({},$a,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Xd=ur(ou),Qd=m({},$a,{data:0}),ha=ur(Qd),Jd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ep={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tp(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=ep[a])?!!o[a]:!1}function Rs(){return tp}var Nr=m({},Ps,{key:function(a){if(a.key){var o=Jd[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Fo(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Zd[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(a){return a.type==="keypress"?Fo(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Fo(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),np=ur(Nr),rp=m({},su,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ua=ur(rp),g=m({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),T=ur(g),M=m({},$a,{propertyName:0,elapsedTime:0,pseudoElement:0}),z=ur(M),te=m({},su,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),le=ur(te),ke=m({},$a,{newState:0,oldState:0}),gt=ur(ke),Nn=[9,13,27,32],Ft=bi&&"CompositionEvent"in window,gn=null;bi&&"documentMode"in document&&(gn=document.documentMode);var xi=bi&&"TextEvent"in window&&!gn,da=bi&&(!Ft||gn&&8<gn&&11>=gn),zi=" ",Fi=!1;function Ko(a,o){switch(a){case"keyup":return Nn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lu(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var uu=!1;function x$(a,o){switch(a){case"compositionend":return lu(o);case"keypress":return o.which!==32?null:(Fi=!0,zi);case"textInput":return a=o.data,a===zi&&Fi?null:a;default:return null}}function _$(a,o){if(uu)return a==="compositionend"||!Ft&&Ko(a,o)?(a=ff(),zo=cf=ua=null,uu=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return da&&o.locale!=="ko"?null:o.data;default:return null}}var w$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function RA(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!w$[a.type]:o==="textarea"}function jA(a,o,u,d){Is?la?la.push(d):la=[d]:Is=d,o=Gp(o,"onChange"),0<o.length&&(u=new ca("onChange","change",null,u,d),a.push({event:u,listeners:o}))}var mf=null,gf=null;function S$(a){gC(a,0)}function ip(a){var o=kr(a);if(Pe(o))return a}function MA(a,o){if(a==="change")return o}var DA=!1;if(bi){var mv;if(bi){var gv="oninput"in document;if(!gv){var LA=document.createElement("div");LA.setAttribute("oninput","return;"),gv=typeof LA.oninput=="function"}mv=gv}else mv=!1;DA=mv&&(!document.documentMode||9<document.documentMode)}function VA(){mf&&(mf.detachEvent("onpropertychange",$A),gf=mf=null)}function $A(a){if(a.propertyName==="value"&&ip(gf)){var o=[];jA(o,gf,a,vi(a)),ks(S$,o)}}function E$(a,o,u){a==="focusin"?(VA(),mf=o,gf=u,mf.attachEvent("onpropertychange",$A)):a==="focusout"&&VA()}function T$(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return ip(gf)}function A$(a,o){if(a==="click")return ip(o)}function O$(a,o){if(a==="input"||a==="change")return ip(o)}function C$(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Zr=typeof Object.is=="function"?Object.is:C$;function yf(a,o){if(Zr(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var y=u[d];if(!Ye.call(o,y)||!Zr(a[y],o[y]))return!1}return!0}function UA(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function BA(a,o){var u=UA(a);a=0;for(var d;u;){if(u.nodeType===3){if(d=a+u.textContent.length,a<=o&&d>=o)return{node:u,offset:o-a};a=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=UA(u)}}function qA(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?qA(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function zA(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Me(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=Me(a.document)}return o}function yv(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var I$=bi&&"documentMode"in document&&11>=document.documentMode,cu=null,vv=null,vf=null,bv=!1;function FA(a,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;bv||cu==null||cu!==Me(d)||(d=cu,"selectionStart"in d&&yv(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),vf&&yf(vf,d)||(vf=d,d=Gp(vv,"onSelect"),0<d.length&&(o=new ca("onSelect","select",null,o,u),a.push({event:o,listeners:d}),o.target=cu)))}function Wo(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var fu={animationend:Wo("Animation","AnimationEnd"),animationiteration:Wo("Animation","AnimationIteration"),animationstart:Wo("Animation","AnimationStart"),transitionrun:Wo("Transition","TransitionRun"),transitionstart:Wo("Transition","TransitionStart"),transitioncancel:Wo("Transition","TransitionCancel"),transitionend:Wo("Transition","TransitionEnd")},xv={},HA={};bi&&(HA=document.createElement("div").style,"AnimationEvent"in window||(delete fu.animationend.animation,delete fu.animationiteration.animation,delete fu.animationstart.animation),"TransitionEvent"in window||delete fu.transitionend.transition);function Yo(a){if(xv[a])return xv[a];if(!fu[a])return a;var o=fu[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in HA)return xv[a]=o[u];return a}var GA=Yo("animationend"),KA=Yo("animationiteration"),WA=Yo("animationstart"),k$=Yo("transitionrun"),P$=Yo("transitionstart"),N$=Yo("transitioncancel"),YA=Yo("transitionend"),XA=new Map,_v="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_v.push("scrollEnd");function Hi(a,o){XA.set(a,o),Jr(o,[a])}var ap=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},_i=[],hu=0,wv=0;function sp(){for(var a=hu,o=wv=hu=0;o<a;){var u=_i[o];_i[o++]=null;var d=_i[o];_i[o++]=null;var y=_i[o];_i[o++]=null;var b=_i[o];if(_i[o++]=null,d!==null&&y!==null){var N=d.pending;N===null?y.next=y:(y.next=N.next,N.next=y),d.pending=y}b!==0&&QA(u,y,b)}}function op(a,o,u,d){_i[hu++]=a,_i[hu++]=o,_i[hu++]=u,_i[hu++]=d,wv|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function Sv(a,o,u,d){return op(a,o,u,d),lp(a)}function Xo(a,o){return op(a,null,null,o),lp(a)}function QA(a,o,u){a.lanes|=u;var d=a.alternate;d!==null&&(d.lanes|=u);for(var y=!1,b=a.return;b!==null;)b.childLanes|=u,d=b.alternate,d!==null&&(d.childLanes|=u),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(y=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,y&&o!==null&&(y=31-ot(u),a=b.hiddenUpdates,d=a[y],d===null?a[y]=[o]:d.push(o),o.lane=u|536870912),b):null}function lp(a){if(50<Uf)throw Uf=0,N0=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var du={};function R$(a,o,u,d){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ei(a,o,u,d){return new R$(a,o,u,d)}function Ev(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ba(a,o){var u=a.alternate;return u===null?(u=ei(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function JA(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function up(a,o,u,d,y,b){var N=0;if(d=a,typeof a=="function")Ev(a)&&(N=1);else if(typeof a=="string")N=VU(a,u,me.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case R:return a=ei(31,u,o,y),a.elementType=R,a.lanes=b,a;case S:return Qo(u.children,y,b,o);case w:N=8,y|=24;break;case A:return a=ei(12,u,o,y|2),a.elementType=A,a.lanes=b,a;case C:return a=ei(13,u,o,y),a.elementType=C,a.lanes=b,a;case j:return a=ei(19,u,o,y),a.elementType=j,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case k:N=10;break e;case I:N=9;break e;case V:N=11;break e;case O:N=14;break e;case P:N=16,d=null;break e}N=29,u=Error(r(130,a===null?"null":typeof a,"")),d=null}return o=ei(N,u,o,y),o.elementType=a,o.type=d,o.lanes=b,o}function Qo(a,o,u,d){return a=ei(7,a,d,o),a.lanes=u,a}function Tv(a,o,u){return a=ei(6,a,null,o),a.lanes=u,a}function ZA(a){var o=ei(18,null,null,0);return o.stateNode=a,o}function Av(a,o,u){return o=ei(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var eO=new WeakMap;function wi(a,o){if(typeof a=="object"&&a!==null){var u=eO.get(a);return u!==void 0?u:(o={value:a,source:o,stack:st(o)},eO.set(a,o),o)}return{value:a,source:o,stack:st(o)}}var pu=[],mu=0,cp=null,bf=0,Si=[],Ei=0,js=null,pa=1,ma="";function qa(a,o){pu[mu++]=bf,pu[mu++]=cp,cp=a,bf=o}function tO(a,o,u){Si[Ei++]=pa,Si[Ei++]=ma,Si[Ei++]=js,js=a;var d=pa;a=ma;var y=32-ot(d)-1;d&=~(1<<y),u+=1;var b=32-ot(o)+y;if(30<b){var N=y-y%5;b=(d&(1<<N)-1).toString(32),d>>=N,y-=N,pa=1<<32-ot(o)+y|u<<y|d,ma=b+a}else pa=1<<b|u<<y|d,ma=a}function Ov(a){a.return!==null&&(qa(a,1),tO(a,1,0))}function Cv(a){for(;a===cp;)cp=pu[--mu],pu[mu]=null,bf=pu[--mu],pu[mu]=null;for(;a===js;)js=Si[--Ei],Si[Ei]=null,ma=Si[--Ei],Si[Ei]=null,pa=Si[--Ei],Si[Ei]=null}function nO(a,o){Si[Ei++]=pa,Si[Ei++]=ma,Si[Ei++]=js,pa=o.id,ma=o.overflow,js=a}var cr=null,hn=null,Rt=!1,Ms=null,Ti=!1,Iv=Error(r(519));function Ds(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xf(wi(o,a)),Iv}function rO(a){var o=a.stateNode,u=a.type,d=a.memoizedProps;switch(o[kn]=a,o[Pn]=d,u){case"dialog":St("cancel",o),St("close",o);break;case"iframe":case"object":case"embed":St("load",o);break;case"video":case"audio":for(u=0;u<qf.length;u++)St(qf[u],o);break;case"source":St("error",o);break;case"img":case"image":case"link":St("error",o),St("load",o);break;case"details":St("toggle",o);break;case"input":St("invalid",o),Lt(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":St("invalid",o);break;case"textarea":St("invalid",o),oa(o,d.value,d.defaultValue,d.children)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||d.suppressHydrationWarning===!0||xC(o.textContent,u)?(d.popover!=null&&(St("beforetoggle",o),St("toggle",o)),d.onScroll!=null&&St("scroll",o),d.onScrollEnd!=null&&St("scrollend",o),d.onClick!=null&&(o.onclick=Ui),o=!0):o=!1,o||Ds(a,!0)}function iO(a){for(cr=a.return;cr;)switch(cr.tag){case 5:case 31:case 13:Ti=!1;return;case 27:case 3:Ti=!0;return;default:cr=cr.return}}function gu(a){if(a!==cr)return!1;if(!Rt)return iO(a),Rt=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||K0(a.type,a.memoizedProps)),u=!u),u&&hn&&Ds(a),iO(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));hn=IC(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));hn=IC(a)}else o===27?(o=hn,Xs(a.type)?(a=J0,J0=null,hn=a):hn=o):hn=cr?Oi(a.stateNode.nextSibling):null;return!0}function Jo(){hn=cr=null,Rt=!1}function kv(){var a=Ms;return a!==null&&(zr===null?zr=a:zr.push.apply(zr,a),Ms=null),a}function xf(a){Ms===null?Ms=[a]:Ms.push(a)}var Pv=H(null),Zo=null,za=null;function Ls(a,o,u){oe(Pv,o._currentValue),o._currentValue=u}function Fa(a){a._currentValue=Pv.current,W(Pv)}function Nv(a,o,u){for(;a!==null;){var d=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),a===u)break;a=a.return}}function Rv(a,o,u,d){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var b=y.dependencies;if(b!==null){var N=y.child;b=b.firstContext;e:for(;b!==null;){var q=b;b=y;for(var K=0;K<o.length;K++)if(q.context===o[K]){b.lanes|=u,q=b.alternate,q!==null&&(q.lanes|=u),Nv(b.return,u,a),d||(N=null);break e}b=q.next}}else if(y.tag===18){if(N=y.return,N===null)throw Error(r(341));N.lanes|=u,b=N.alternate,b!==null&&(b.lanes|=u),Nv(N,u,a),N=null}else N=y.child;if(N!==null)N.return=y;else for(N=y;N!==null;){if(N===a){N=null;break}if(y=N.sibling,y!==null){y.return=N.return,N=y;break}N=N.return}y=N}}function yu(a,o,u,d){a=null;for(var y=o,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var N=y.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var q=y.type;Zr(y.pendingProps.value,N.value)||(a!==null?a.push(q):a=[q])}}else if(y===Re.current){if(N=y.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(Kf):a=[Kf])}y=y.return}a!==null&&Rv(o,a,u,d),o.flags|=262144}function fp(a){for(a=a.firstContext;a!==null;){if(!Zr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function el(a){Zo=a,za=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function fr(a){return aO(Zo,a)}function hp(a,o){return Zo===null&&el(a),aO(a,o)}function aO(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},za===null){if(a===null)throw Error(r(308));za=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else za=za.next=o;return u}var j$=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,d){a.push(d)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},M$=t.unstable_scheduleCallback,D$=t.unstable_NormalPriority,Vn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jv(){return{controller:new j$,data:new Map,refCount:0}}function _f(a){a.refCount--,a.refCount===0&&M$(D$,function(){a.controller.abort()})}var wf=null,Mv=0,vu=0,bu=null;function L$(a,o){if(wf===null){var u=wf=[];Mv=0,vu=V0(),bu={status:"pending",value:void 0,then:function(d){u.push(d)}}}return Mv++,o.then(sO,sO),o}function sO(){if(--Mv===0&&wf!==null){bu!==null&&(bu.status="fulfilled");var a=wf;wf=null,vu=0,bu=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function V$(a,o){var u=[],d={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return a.then(function(){d.status="fulfilled",d.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(d.status="rejected",d.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),d}var oO=F.S;F.S=function(a,o){F2=Ie(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&L$(a,o),oO!==null&&oO(a,o)};var tl=H(null);function Dv(){var a=tl.current;return a!==null?a:on.pooledCache}function dp(a,o){o===null?oe(tl,tl.current):oe(tl,o.pool)}function lO(){var a=Dv();return a===null?null:{parent:Vn._currentValue,pool:a}}var xu=Error(r(460)),Lv=Error(r(474)),pp=Error(r(542)),mp={then:function(){}};function uO(a){return a=a.status,a==="fulfilled"||a==="rejected"}function cO(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(Ui,Ui),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,hO(a),a;default:if(typeof o.status=="string")o.then(Ui,Ui);else{if(a=on,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(d){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=d}},function(d){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,hO(a),a}throw rl=o,xu}}function nl(a){try{var o=a._init;return o(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(rl=u,xu):u}}var rl=null;function fO(){if(rl===null)throw Error(r(459));var a=rl;return rl=null,a}function hO(a){if(a===xu||a===pp)throw Error(r(483))}var _u=null,Sf=0;function gp(a){var o=Sf;return Sf+=1,_u===null&&(_u=[]),cO(_u,a,o)}function Ef(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function yp(a,o){throw o.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function dO(a){function o(Z,X){if(a){var re=Z.deletions;re===null?(Z.deletions=[X],Z.flags|=16):re.push(X)}}function u(Z,X){if(!a)return null;for(;X!==null;)o(Z,X),X=X.sibling;return null}function d(Z){for(var X=new Map;Z!==null;)Z.key!==null?X.set(Z.key,Z):X.set(Z.index,Z),Z=Z.sibling;return X}function y(Z,X){return Z=Ba(Z,X),Z.index=0,Z.sibling=null,Z}function b(Z,X,re){return Z.index=re,a?(re=Z.alternate,re!==null?(re=re.index,re<X?(Z.flags|=67108866,X):re):(Z.flags|=67108866,X)):(Z.flags|=1048576,X)}function N(Z){return a&&Z.alternate===null&&(Z.flags|=67108866),Z}function q(Z,X,re,pe){return X===null||X.tag!==6?(X=Tv(re,Z.mode,pe),X.return=Z,X):(X=y(X,re),X.return=Z,X)}function K(Z,X,re,pe){var Xe=re.type;return Xe===S?fe(Z,X,re.props.children,pe,re.key):X!==null&&(X.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===P&&nl(Xe)===X.type)?(X=y(X,re.props),Ef(X,re),X.return=Z,X):(X=up(re.type,re.key,re.props,null,Z.mode,pe),Ef(X,re),X.return=Z,X)}function ae(Z,X,re,pe){return X===null||X.tag!==4||X.stateNode.containerInfo!==re.containerInfo||X.stateNode.implementation!==re.implementation?(X=Av(re,Z.mode,pe),X.return=Z,X):(X=y(X,re.children||[]),X.return=Z,X)}function fe(Z,X,re,pe,Xe){return X===null||X.tag!==7?(X=Qo(re,Z.mode,pe,Xe),X.return=Z,X):(X=y(X,re),X.return=Z,X)}function ge(Z,X,re){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=Tv(""+X,Z.mode,re),X.return=Z,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case _:return re=up(X.type,X.key,X.props,null,Z.mode,re),Ef(re,X),re.return=Z,re;case E:return X=Av(X,Z.mode,re),X.return=Z,X;case P:return X=nl(X),ge(Z,X,re)}if(J(X)||$(X))return X=Qo(X,Z.mode,re,null),X.return=Z,X;if(typeof X.then=="function")return ge(Z,gp(X),re);if(X.$$typeof===k)return ge(Z,hp(Z,X),re);yp(Z,X)}return null}function se(Z,X,re,pe){var Xe=X!==null?X.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Xe!==null?null:q(Z,X,""+re,pe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case _:return re.key===Xe?K(Z,X,re,pe):null;case E:return re.key===Xe?ae(Z,X,re,pe):null;case P:return re=nl(re),se(Z,X,re,pe)}if(J(re)||$(re))return Xe!==null?null:fe(Z,X,re,pe,null);if(typeof re.then=="function")return se(Z,X,gp(re),pe);if(re.$$typeof===k)return se(Z,X,hp(Z,re),pe);yp(Z,re)}return null}function ce(Z,X,re,pe,Xe){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return Z=Z.get(re)||null,q(X,Z,""+pe,Xe);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case _:return Z=Z.get(pe.key===null?re:pe.key)||null,K(X,Z,pe,Xe);case E:return Z=Z.get(pe.key===null?re:pe.key)||null,ae(X,Z,pe,Xe);case P:return pe=nl(pe),ce(Z,X,re,pe,Xe)}if(J(pe)||$(pe))return Z=Z.get(re)||null,fe(X,Z,pe,Xe,null);if(typeof pe.then=="function")return ce(Z,X,re,gp(pe),Xe);if(pe.$$typeof===k)return ce(Z,X,re,hp(X,pe),Xe);yp(X,pe)}return null}function Ve(Z,X,re,pe){for(var Xe=null,Ut=null,ze=X,vt=X=0,At=null;ze!==null&&vt<re.length;vt++){ze.index>vt?(At=ze,ze=null):At=ze.sibling;var Bt=se(Z,ze,re[vt],pe);if(Bt===null){ze===null&&(ze=At);break}a&&ze&&Bt.alternate===null&&o(Z,ze),X=b(Bt,X,vt),Ut===null?Xe=Bt:Ut.sibling=Bt,Ut=Bt,ze=At}if(vt===re.length)return u(Z,ze),Rt&&qa(Z,vt),Xe;if(ze===null){for(;vt<re.length;vt++)ze=ge(Z,re[vt],pe),ze!==null&&(X=b(ze,X,vt),Ut===null?Xe=ze:Ut.sibling=ze,Ut=ze);return Rt&&qa(Z,vt),Xe}for(ze=d(ze);vt<re.length;vt++)At=ce(ze,Z,vt,re[vt],pe),At!==null&&(a&&At.alternate!==null&&ze.delete(At.key===null?vt:At.key),X=b(At,X,vt),Ut===null?Xe=At:Ut.sibling=At,Ut=At);return a&&ze.forEach(function(to){return o(Z,to)}),Rt&&qa(Z,vt),Xe}function et(Z,X,re,pe){if(re==null)throw Error(r(151));for(var Xe=null,Ut=null,ze=X,vt=X=0,At=null,Bt=re.next();ze!==null&&!Bt.done;vt++,Bt=re.next()){ze.index>vt?(At=ze,ze=null):At=ze.sibling;var to=se(Z,ze,Bt.value,pe);if(to===null){ze===null&&(ze=At);break}a&&ze&&to.alternate===null&&o(Z,ze),X=b(to,X,vt),Ut===null?Xe=to:Ut.sibling=to,Ut=to,ze=At}if(Bt.done)return u(Z,ze),Rt&&qa(Z,vt),Xe;if(ze===null){for(;!Bt.done;vt++,Bt=re.next())Bt=ge(Z,Bt.value,pe),Bt!==null&&(X=b(Bt,X,vt),Ut===null?Xe=Bt:Ut.sibling=Bt,Ut=Bt);return Rt&&qa(Z,vt),Xe}for(ze=d(ze);!Bt.done;vt++,Bt=re.next())Bt=ce(ze,Z,vt,Bt.value,pe),Bt!==null&&(a&&Bt.alternate!==null&&ze.delete(Bt.key===null?vt:Bt.key),X=b(Bt,X,vt),Ut===null?Xe=Bt:Ut.sibling=Bt,Ut=Bt);return a&&ze.forEach(function(YU){return o(Z,YU)}),Rt&&qa(Z,vt),Xe}function an(Z,X,re,pe){if(typeof re=="object"&&re!==null&&re.type===S&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case _:e:{for(var Xe=re.key;X!==null;){if(X.key===Xe){if(Xe=re.type,Xe===S){if(X.tag===7){u(Z,X.sibling),pe=y(X,re.props.children),pe.return=Z,Z=pe;break e}}else if(X.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===P&&nl(Xe)===X.type){u(Z,X.sibling),pe=y(X,re.props),Ef(pe,re),pe.return=Z,Z=pe;break e}u(Z,X);break}else o(Z,X);X=X.sibling}re.type===S?(pe=Qo(re.props.children,Z.mode,pe,re.key),pe.return=Z,Z=pe):(pe=up(re.type,re.key,re.props,null,Z.mode,pe),Ef(pe,re),pe.return=Z,Z=pe)}return N(Z);case E:e:{for(Xe=re.key;X!==null;){if(X.key===Xe)if(X.tag===4&&X.stateNode.containerInfo===re.containerInfo&&X.stateNode.implementation===re.implementation){u(Z,X.sibling),pe=y(X,re.children||[]),pe.return=Z,Z=pe;break e}else{u(Z,X);break}else o(Z,X);X=X.sibling}pe=Av(re,Z.mode,pe),pe.return=Z,Z=pe}return N(Z);case P:return re=nl(re),an(Z,X,re,pe)}if(J(re))return Ve(Z,X,re,pe);if($(re)){if(Xe=$(re),typeof Xe!="function")throw Error(r(150));return re=Xe.call(re),et(Z,X,re,pe)}if(typeof re.then=="function")return an(Z,X,gp(re),pe);if(re.$$typeof===k)return an(Z,X,hp(Z,re),pe);yp(Z,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,X!==null&&X.tag===6?(u(Z,X.sibling),pe=y(X,re),pe.return=Z,Z=pe):(u(Z,X),pe=Tv(re,Z.mode,pe),pe.return=Z,Z=pe),N(Z)):u(Z,X)}return function(Z,X,re,pe){try{Sf=0;var Xe=an(Z,X,re,pe);return _u=null,Xe}catch(ze){if(ze===xu||ze===pp)throw ze;var Ut=ei(29,ze,null,Z.mode);return Ut.lanes=pe,Ut.return=Z,Ut}finally{}}}var il=dO(!0),pO=dO(!1),Vs=!1;function Vv(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $v(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function $s(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Us(a,o,u){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(Ht&2)!==0){var y=d.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),d.pending=o,o=lp(a),QA(a,null,u),o}return op(a,d,o,u),lp(a)}function Tf(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var d=o.lanes;d&=a.pendingLanes,u|=d,o.lanes=u,jo(a,u)}}function Uv(a,o){var u=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var y=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var N={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?y=b=N:b=b.next=N,u=u.next}while(u!==null);b===null?y=b=o:b=b.next=o}else y=b=o;u={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var Bv=!1;function Af(){if(Bv){var a=bu;if(a!==null)throw a}}function Of(a,o,u,d){Bv=!1;var y=a.updateQueue;Vs=!1;var b=y.firstBaseUpdate,N=y.lastBaseUpdate,q=y.shared.pending;if(q!==null){y.shared.pending=null;var K=q,ae=K.next;K.next=null,N===null?b=ae:N.next=ae,N=K;var fe=a.alternate;fe!==null&&(fe=fe.updateQueue,q=fe.lastBaseUpdate,q!==N&&(q===null?fe.firstBaseUpdate=ae:q.next=ae,fe.lastBaseUpdate=K))}if(b!==null){var ge=y.baseState;N=0,fe=ae=K=null,q=b;do{var se=q.lane&-536870913,ce=se!==q.lane;if(ce?(Tt&se)===se:(d&se)===se){se!==0&&se===vu&&(Bv=!0),fe!==null&&(fe=fe.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var Ve=a,et=q;se=o;var an=u;switch(et.tag){case 1:if(Ve=et.payload,typeof Ve=="function"){ge=Ve.call(an,ge,se);break e}ge=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=et.payload,se=typeof Ve=="function"?Ve.call(an,ge,se):Ve,se==null)break e;ge=m({},ge,se);break e;case 2:Vs=!0}}se=q.callback,se!==null&&(a.flags|=64,ce&&(a.flags|=8192),ce=y.callbacks,ce===null?y.callbacks=[se]:ce.push(se))}else ce={lane:se,tag:q.tag,payload:q.payload,callback:q.callback,next:null},fe===null?(ae=fe=ce,K=ge):fe=fe.next=ce,N|=se;if(q=q.next,q===null){if(q=y.shared.pending,q===null)break;ce=q,q=ce.next,ce.next=null,y.lastBaseUpdate=ce,y.shared.pending=null}}while(!0);fe===null&&(K=ge),y.baseState=K,y.firstBaseUpdate=ae,y.lastBaseUpdate=fe,b===null&&(y.shared.lanes=0),Hs|=N,a.lanes=N,a.memoizedState=ge}}function mO(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function gO(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)mO(u[a],o)}var wu=H(null),vp=H(0);function yO(a,o){a=Za,oe(vp,a),oe(wu,o),Za=a|o.baseLanes}function qv(){oe(vp,Za),oe(wu,wu.current)}function zv(){Za=vp.current,W(wu),W(vp)}var ti=H(null),Ai=null;function Bs(a){var o=a.alternate;oe(Rn,Rn.current&1),oe(ti,a),Ai===null&&(o===null||wu.current!==null||o.memoizedState!==null)&&(Ai=a)}function Fv(a){oe(Rn,Rn.current),oe(ti,a),Ai===null&&(Ai=a)}function vO(a){a.tag===22?(oe(Rn,Rn.current),oe(ti,a),Ai===null&&(Ai=a)):qs()}function qs(){oe(Rn,Rn.current),oe(ti,ti.current)}function ni(a){W(ti),Ai===a&&(Ai=null),W(Rn)}var Rn=H(0);function bp(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||X0(u)||Q0(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ha=0,yt=null,nn=null,$n=null,xp=!1,Su=!1,al=!1,_p=0,Cf=0,Eu=null,$$=0;function An(){throw Error(r(321))}function Hv(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!Zr(a[u],o[u]))return!1;return!0}function Gv(a,o,u,d,y,b){return Ha=b,yt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,F.H=a===null||a.memoizedState===null?t2:o0,al=!1,b=u(d,y),al=!1,Su&&(b=xO(o,u,d,y)),bO(a),b}function bO(a){F.H=Pf;var o=nn!==null&&nn.next!==null;if(Ha=0,$n=nn=yt=null,xp=!1,Cf=0,Eu=null,o)throw Error(r(300));a===null||Un||(a=a.dependencies,a!==null&&fp(a)&&(Un=!0))}function xO(a,o,u,d){yt=a;var y=0;do{if(Su&&(Eu=null),Cf=0,Su=!1,25<=y)throw Error(r(301));if(y+=1,$n=nn=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}F.H=n2,b=o(u,d)}while(Su);return b}function U$(){var a=F.H,o=a.useState()[0];return o=typeof o.then=="function"?If(o):o,a=a.useState()[0],(nn!==null?nn.memoizedState:null)!==a&&(yt.flags|=1024),o}function Kv(){var a=_p!==0;return _p=0,a}function Wv(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function Yv(a){if(xp){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}xp=!1}Ha=0,$n=nn=yt=null,Su=!1,Cf=_p=0,Eu=null}function Rr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $n===null?yt.memoizedState=$n=a:$n=$n.next=a,$n}function jn(){if(nn===null){var a=yt.alternate;a=a!==null?a.memoizedState:null}else a=nn.next;var o=$n===null?yt.memoizedState:$n.next;if(o!==null)$n=o,nn=a;else{if(a===null)throw yt.alternate===null?Error(r(467)):Error(r(310));nn=a,a={memoizedState:nn.memoizedState,baseState:nn.baseState,baseQueue:nn.baseQueue,queue:nn.queue,next:null},$n===null?yt.memoizedState=$n=a:$n=$n.next=a}return $n}function wp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function If(a){var o=Cf;return Cf+=1,Eu===null&&(Eu=[]),a=cO(Eu,a,o),o=yt,($n===null?o.memoizedState:$n.next)===null&&(o=o.alternate,F.H=o===null||o.memoizedState===null?t2:o0),a}function Sp(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return If(a);if(a.$$typeof===k)return fr(a)}throw Error(r(438,String(a)))}function Xv(a){var o=null,u=yt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var d=yt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=wp(),yt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),d=0;d<a;d++)u[d]=B;return o.index++,u}function Ga(a,o){return typeof o=="function"?o(a):o}function Ep(a){var o=jn();return Qv(o,nn,a)}function Qv(a,o,u){var d=a.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=u;var y=a.baseQueue,b=d.pending;if(b!==null){if(y!==null){var N=y.next;y.next=b.next,b.next=N}o.baseQueue=y=b,d.pending=null}if(b=a.baseState,y===null)a.memoizedState=b;else{o=y.next;var q=N=null,K=null,ae=o,fe=!1;do{var ge=ae.lane&-536870913;if(ge!==ae.lane?(Tt&ge)===ge:(Ha&ge)===ge){var se=ae.revertLane;if(se===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),ge===vu&&(fe=!0);else if((Ha&se)===se){ae=ae.next,se===vu&&(fe=!0);continue}else ge={lane:0,revertLane:ae.revertLane,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},K===null?(q=K=ge,N=b):K=K.next=ge,yt.lanes|=se,Hs|=se;ge=ae.action,al&&u(b,ge),b=ae.hasEagerState?ae.eagerState:u(b,ge)}else se={lane:ge,revertLane:ae.revertLane,gesture:ae.gesture,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},K===null?(q=K=se,N=b):K=K.next=se,yt.lanes|=ge,Hs|=ge;ae=ae.next}while(ae!==null&&ae!==o);if(K===null?N=b:K.next=q,!Zr(b,a.memoizedState)&&(Un=!0,fe&&(u=bu,u!==null)))throw u;a.memoizedState=b,a.baseState=N,a.baseQueue=K,d.lastRenderedState=b}return y===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function Jv(a){var o=jn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var d=u.dispatch,y=u.pending,b=o.memoizedState;if(y!==null){u.pending=null;var N=y=y.next;do b=a(b,N.action),N=N.next;while(N!==y);Zr(b,o.memoizedState)||(Un=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),u.lastRenderedState=b}return[b,d]}function _O(a,o,u){var d=yt,y=jn(),b=Rt;if(b){if(u===void 0)throw Error(r(407));u=u()}else u=o();var N=!Zr((nn||y).memoizedState,u);if(N&&(y.memoizedState=u,Un=!0),y=y.queue,t0(EO.bind(null,d,y,a),[a]),y.getSnapshot!==o||N||$n!==null&&$n.memoizedState.tag&1){if(d.flags|=2048,Tu(9,{destroy:void 0},SO.bind(null,d,y,u,o),null),on===null)throw Error(r(349));b||(Ha&127)!==0||wO(d,o,u)}return u}function wO(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=yt.updateQueue,o===null?(o=wp(),yt.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function SO(a,o,u,d){o.value=u,o.getSnapshot=d,TO(o)&&AO(a)}function EO(a,o,u){return u(function(){TO(o)&&AO(a)})}function TO(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!Zr(a,u)}catch{return!0}}function AO(a){var o=Xo(a,2);o!==null&&Fr(o,a,2)}function Zv(a){var o=Rr();if(typeof a=="function"){var u=a;if(a=u(),al){Pt(!0);try{u()}finally{Pt(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:a},o}function OO(a,o,u,d){return a.baseState=u,Qv(a,nn,typeof d=="function"?d:Ga)}function B$(a,o,u,d,y){if(Op(a))throw Error(r(485));if(a=o.action,a!==null){var b={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){b.listeners.push(N)}};F.T!==null?u(!0):b.isTransition=!1,d(b),u=o.pending,u===null?(b.next=o.pending=b,CO(o,b)):(b.next=u.next,o.pending=u.next=b)}}function CO(a,o){var u=o.action,d=o.payload,y=a.state;if(o.isTransition){var b=F.T,N={};F.T=N;try{var q=u(y,d),K=F.S;K!==null&&K(N,q),IO(a,o,q)}catch(ae){e0(a,o,ae)}finally{b!==null&&N.types!==null&&(b.types=N.types),F.T=b}}else try{b=u(y,d),IO(a,o,b)}catch(ae){e0(a,o,ae)}}function IO(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){kO(a,o,d)},function(d){return e0(a,o,d)}):kO(a,o,u)}function kO(a,o,u){o.status="fulfilled",o.value=u,PO(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,CO(a,u)))}function e0(a,o,u){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=u,PO(o),o=o.next;while(o!==d)}a.action=null}function PO(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function NO(a,o){return o}function RO(a,o){if(Rt){var u=on.formState;if(u!==null){e:{var d=yt;if(Rt){if(hn){t:{for(var y=hn,b=Ti;y.nodeType!==8;){if(!b){y=null;break t}if(y=Oi(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){hn=Oi(y.nextSibling),d=y.data==="F!";break e}}Ds(d)}d=!1}d&&(o=u[0])}}return u=Rr(),u.memoizedState=u.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:NO,lastRenderedState:o},u.queue=d,u=JO.bind(null,yt,d),d.dispatch=u,d=Zv(!1),b=s0.bind(null,yt,!1,d.queue),d=Rr(),y={state:o,dispatch:null,action:a,pending:null},d.queue=y,u=B$.bind(null,yt,y,b,u),y.dispatch=u,d.memoizedState=a,[o,u,!1]}function jO(a){var o=jn();return MO(o,nn,a)}function MO(a,o,u){if(o=Qv(a,o,NO)[0],a=Ep(Ga)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=If(o)}catch(N){throw N===xu?pp:N}else d=o;o=jn();var y=o.queue,b=y.dispatch;return u!==o.memoizedState&&(yt.flags|=2048,Tu(9,{destroy:void 0},q$.bind(null,y,u),null)),[d,b,a]}function q$(a,o){a.action=o}function DO(a){var o=jn(),u=nn;if(u!==null)return MO(o,u,a);jn(),o=o.memoizedState,u=jn();var d=u.queue.dispatch;return u.memoizedState=a,[o,d,!1]}function Tu(a,o,u,d){return a={tag:a,create:u,deps:d,inst:o,next:null},o=yt.updateQueue,o===null&&(o=wp(),yt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(d=u.next,u.next=a,a.next=d,o.lastEffect=a),a}function LO(){return jn().memoizedState}function Tp(a,o,u,d){var y=Rr();yt.flags|=a,y.memoizedState=Tu(1|o,{destroy:void 0},u,d===void 0?null:d)}function Ap(a,o,u,d){var y=jn();d=d===void 0?null:d;var b=y.memoizedState.inst;nn!==null&&d!==null&&Hv(d,nn.memoizedState.deps)?y.memoizedState=Tu(o,b,u,d):(yt.flags|=a,y.memoizedState=Tu(1|o,b,u,d))}function VO(a,o){Tp(8390656,8,a,o)}function t0(a,o){Ap(2048,8,a,o)}function z$(a){yt.flags|=4;var o=yt.updateQueue;if(o===null)o=wp(),yt.updateQueue=o,o.events=[a];else{var u=o.events;u===null?o.events=[a]:u.push(a)}}function $O(a){var o=jn().memoizedState;return z$({ref:o,nextImpl:a}),function(){if((Ht&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function UO(a,o){return Ap(4,2,a,o)}function BO(a,o){return Ap(4,4,a,o)}function qO(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function zO(a,o,u){u=u!=null?u.concat([a]):null,Ap(4,4,qO.bind(null,o,a),u)}function n0(){}function FO(a,o){var u=jn();o=o===void 0?null:o;var d=u.memoizedState;return o!==null&&Hv(o,d[1])?d[0]:(u.memoizedState=[a,o],a)}function HO(a,o){var u=jn();o=o===void 0?null:o;var d=u.memoizedState;if(o!==null&&Hv(o,d[1]))return d[0];if(d=a(),al){Pt(!0);try{a()}finally{Pt(!1)}}return u.memoizedState=[d,o],d}function r0(a,o,u){return u===void 0||(Ha&1073741824)!==0&&(Tt&261930)===0?a.memoizedState=o:(a.memoizedState=u,a=G2(),yt.lanes|=a,Hs|=a,u)}function GO(a,o,u,d){return Zr(u,o)?u:wu.current!==null?(a=r0(a,u,d),Zr(a,o)||(Un=!0),a):(Ha&42)===0||(Ha&1073741824)!==0&&(Tt&261930)===0?(Un=!0,a.memoizedState=u):(a=G2(),yt.lanes|=a,Hs|=a,o)}function KO(a,o,u,d,y){var b=Y.p;Y.p=b!==0&&8>b?b:8;var N=F.T,q={};F.T=q,s0(a,!1,o,u);try{var K=y(),ae=F.S;if(ae!==null&&ae(q,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var fe=V$(K,d);kf(a,o,fe,ai(a))}else kf(a,o,d,ai(a))}catch(ge){kf(a,o,{then:function(){},status:"rejected",reason:ge},ai())}finally{Y.p=b,N!==null&&q.types!==null&&(N.types=q.types),F.T=N}}function F$(){}function i0(a,o,u,d){if(a.tag!==5)throw Error(r(476));var y=WO(a).queue;KO(a,y,o,ee,u===null?F$:function(){return YO(a),u(d)})}function WO(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:ee},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function YO(a){var o=WO(a);o.next===null&&(o=a.alternate.memoizedState),kf(a,o.next.queue,{},ai())}function a0(){return fr(Kf)}function XO(){return jn().memoizedState}function QO(){return jn().memoizedState}function H$(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=ai();a=$s(u);var d=Us(o,a,u);d!==null&&(Fr(d,o,u),Tf(d,o,u)),o={cache:jv()},a.payload=o;return}o=o.return}}function G$(a,o,u){var d=ai();u={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Op(a)?ZO(o,u):(u=Sv(a,o,u,d),u!==null&&(Fr(u,a,d),e2(u,o,d)))}function JO(a,o,u){var d=ai();kf(a,o,u,d)}function kf(a,o,u,d){var y={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Op(a))ZO(o,y);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var N=o.lastRenderedState,q=b(N,u);if(y.hasEagerState=!0,y.eagerState=q,Zr(q,N))return op(a,o,y,0),on===null&&sp(),!1}catch{}finally{}if(u=Sv(a,o,y,d),u!==null)return Fr(u,a,d),e2(u,o,d),!0}return!1}function s0(a,o,u,d){if(d={lane:2,revertLane:V0(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Op(a)){if(o)throw Error(r(479))}else o=Sv(a,u,d,2),o!==null&&Fr(o,a,2)}function Op(a){var o=a.alternate;return a===yt||o!==null&&o===yt}function ZO(a,o){Su=xp=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function e2(a,o,u){if((u&4194048)!==0){var d=o.lanes;d&=a.pendingLanes,u|=d,o.lanes=u,jo(a,u)}}var Pf={readContext:fr,use:Sp,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useLayoutEffect:An,useInsertionEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useSyncExternalStore:An,useId:An,useHostTransitionStatus:An,useFormState:An,useActionState:An,useOptimistic:An,useMemoCache:An,useCacheRefresh:An};Pf.useEffectEvent=An;var t2={readContext:fr,use:Sp,useCallback:function(a,o){return Rr().memoizedState=[a,o===void 0?null:o],a},useContext:fr,useEffect:VO,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,Tp(4194308,4,qO.bind(null,o,a),u)},useLayoutEffect:function(a,o){return Tp(4194308,4,a,o)},useInsertionEffect:function(a,o){Tp(4,2,a,o)},useMemo:function(a,o){var u=Rr();o=o===void 0?null:o;var d=a();if(al){Pt(!0);try{a()}finally{Pt(!1)}}return u.memoizedState=[d,o],d},useReducer:function(a,o,u){var d=Rr();if(u!==void 0){var y=u(o);if(al){Pt(!0);try{u(o)}finally{Pt(!1)}}}else y=o;return d.memoizedState=d.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},d.queue=a,a=a.dispatch=G$.bind(null,yt,a),[d.memoizedState,a]},useRef:function(a){var o=Rr();return a={current:a},o.memoizedState=a},useState:function(a){a=Zv(a);var o=a.queue,u=JO.bind(null,yt,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:n0,useDeferredValue:function(a,o){var u=Rr();return r0(u,a,o)},useTransition:function(){var a=Zv(!1);return a=KO.bind(null,yt,a.queue,!0,!1),Rr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var d=yt,y=Rr();if(Rt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),on===null)throw Error(r(349));(Tt&127)!==0||wO(d,o,u)}y.memoizedState=u;var b={value:u,getSnapshot:o};return y.queue=b,VO(EO.bind(null,d,b,a),[a]),d.flags|=2048,Tu(9,{destroy:void 0},SO.bind(null,d,b,u,o),null),u},useId:function(){var a=Rr(),o=on.identifierPrefix;if(Rt){var u=ma,d=pa;u=(d&~(1<<32-ot(d)-1)).toString(32)+u,o="_"+o+"R_"+u,u=_p++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=$$++,o="_"+o+"r_"+u.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:a0,useFormState:RO,useActionState:RO,useOptimistic:function(a){var o=Rr();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=s0.bind(null,yt,!0,u),u.dispatch=o,[a,o]},useMemoCache:Xv,useCacheRefresh:function(){return Rr().memoizedState=H$.bind(null,yt)},useEffectEvent:function(a){var o=Rr(),u={impl:a};return o.memoizedState=u,function(){if((Ht&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},o0={readContext:fr,use:Sp,useCallback:FO,useContext:fr,useEffect:t0,useImperativeHandle:zO,useInsertionEffect:UO,useLayoutEffect:BO,useMemo:HO,useReducer:Ep,useRef:LO,useState:function(){return Ep(Ga)},useDebugValue:n0,useDeferredValue:function(a,o){var u=jn();return GO(u,nn.memoizedState,a,o)},useTransition:function(){var a=Ep(Ga)[0],o=jn().memoizedState;return[typeof a=="boolean"?a:If(a),o]},useSyncExternalStore:_O,useId:XO,useHostTransitionStatus:a0,useFormState:jO,useActionState:jO,useOptimistic:function(a,o){var u=jn();return OO(u,nn,a,o)},useMemoCache:Xv,useCacheRefresh:QO};o0.useEffectEvent=$O;var n2={readContext:fr,use:Sp,useCallback:FO,useContext:fr,useEffect:t0,useImperativeHandle:zO,useInsertionEffect:UO,useLayoutEffect:BO,useMemo:HO,useReducer:Jv,useRef:LO,useState:function(){return Jv(Ga)},useDebugValue:n0,useDeferredValue:function(a,o){var u=jn();return nn===null?r0(u,a,o):GO(u,nn.memoizedState,a,o)},useTransition:function(){var a=Jv(Ga)[0],o=jn().memoizedState;return[typeof a=="boolean"?a:If(a),o]},useSyncExternalStore:_O,useId:XO,useHostTransitionStatus:a0,useFormState:DO,useActionState:DO,useOptimistic:function(a,o){var u=jn();return nn!==null?OO(u,nn,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:Xv,useCacheRefresh:QO};n2.useEffectEvent=$O;function l0(a,o,u,d){o=a.memoizedState,u=u(d,o),u=u==null?o:m({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var u0={enqueueSetState:function(a,o,u){a=a._reactInternals;var d=ai(),y=$s(d);y.payload=o,u!=null&&(y.callback=u),o=Us(a,y,d),o!==null&&(Fr(o,a,d),Tf(o,a,d))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var d=ai(),y=$s(d);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=Us(a,y,d),o!==null&&(Fr(o,a,d),Tf(o,a,d))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=ai(),d=$s(u);d.tag=2,o!=null&&(d.callback=o),o=Us(a,d,u),o!==null&&(Fr(o,a,u),Tf(o,a,u))}};function r2(a,o,u,d,y,b,N){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,b,N):o.prototype&&o.prototype.isPureReactComponent?!yf(u,d)||!yf(y,b):!0}function i2(a,o,u,d){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==a&&u0.enqueueReplaceState(o,o.state,null)}function sl(a,o){var u=o;if("ref"in o){u={};for(var d in o)d!=="ref"&&(u[d]=o[d])}if(a=a.defaultProps){u===o&&(u=m({},u));for(var y in a)u[y]===void 0&&(u[y]=a[y])}return u}function a2(a){ap(a)}function s2(a){console.error(a)}function o2(a){ap(a)}function Cp(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function l2(a,o,u){try{var d=a.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function c0(a,o,u){return u=$s(u),u.tag=3,u.payload={element:null},u.callback=function(){Cp(a,o)},u}function u2(a){return a=$s(a),a.tag=3,a}function c2(a,o,u,d){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var b=d.value;a.payload=function(){return y(b)},a.callback=function(){l2(o,u,d)}}var N=u.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(a.callback=function(){l2(o,u,d),typeof y!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var q=d.stack;this.componentDidCatch(d.value,{componentStack:q!==null?q:""})})}function K$(a,o,u,d,y){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=u.alternate,o!==null&&yu(o,u,y,!0),u=ti.current,u!==null){switch(u.tag){case 31:case 13:return Ai===null?Up():u.alternate===null&&On===0&&(On=3),u.flags&=-257,u.flags|=65536,u.lanes=y,d===mp?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([d]):o.add(d),M0(a,d,y)),!1;case 22:return u.flags|=65536,d===mp?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([d]):u.add(d)),M0(a,d,y)),!1}throw Error(r(435,u.tag))}return M0(a,d,y),Up(),!1}if(Rt)return o=ti.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,d!==Iv&&(a=Error(r(422),{cause:d}),xf(wi(a,u)))):(d!==Iv&&(o=Error(r(423),{cause:d}),xf(wi(o,u))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,d=wi(d,u),y=c0(a.stateNode,d,y),Uv(a,y),On!==4&&(On=2)),!1;var b=Error(r(520),{cause:d});if(b=wi(b,u),$f===null?$f=[b]:$f.push(b),On!==4&&(On=2),o===null)return!0;d=wi(d,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=y&-y,u.lanes|=a,a=c0(u.stateNode,d,a),Uv(u,a),!1;case 1:if(o=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Gs===null||!Gs.has(b))))return u.flags|=65536,y&=-y,u.lanes|=y,y=u2(y),c2(y,a,u,d),Uv(u,y),!1}u=u.return}while(u!==null);return!1}var f0=Error(r(461)),Un=!1;function hr(a,o,u,d){o.child=a===null?pO(o,null,u,d):il(o,a.child,u,d)}function f2(a,o,u,d,y){u=u.render;var b=o.ref;if("ref"in d){var N={};for(var q in d)q!=="ref"&&(N[q]=d[q])}else N=d;return el(o),d=Gv(a,o,u,N,b,y),q=Kv(),a!==null&&!Un?(Wv(a,o,y),Ka(a,o,y)):(Rt&&q&&Ov(o),o.flags|=1,hr(a,o,d,y),o.child)}function h2(a,o,u,d,y){if(a===null){var b=u.type;return typeof b=="function"&&!Ev(b)&&b.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=b,d2(a,o,b,d,y)):(a=up(u.type,null,d,o,o.mode,y),a.ref=o.ref,a.return=o,o.child=a)}if(b=a.child,!b0(a,y)){var N=b.memoizedProps;if(u=u.compare,u=u!==null?u:yf,u(N,d)&&a.ref===o.ref)return Ka(a,o,y)}return o.flags|=1,a=Ba(b,d),a.ref=o.ref,a.return=o,o.child=a}function d2(a,o,u,d,y){if(a!==null){var b=a.memoizedProps;if(yf(b,d)&&a.ref===o.ref)if(Un=!1,o.pendingProps=d=b,b0(a,y))(a.flags&131072)!==0&&(Un=!0);else return o.lanes=a.lanes,Ka(a,o,y)}return h0(a,o,u,d,y)}function p2(a,o,u,d){var y=d.children,b=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((o.flags&128)!==0){if(b=b!==null?b.baseLanes|u:u,a!==null){for(d=o.child=a.child,y=0;d!==null;)y=y|d.lanes|d.childLanes,d=d.sibling;d=y&~b}else d=0,o.child=null;return m2(a,o,b,u,d)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&dp(o,b!==null?b.cachePool:null),b!==null?yO(o,b):qv(),vO(o);else return d=o.lanes=536870912,m2(a,o,b!==null?b.baseLanes|u:u,u,d)}else b!==null?(dp(o,b.cachePool),yO(o,b),qs(),o.memoizedState=null):(a!==null&&dp(o,null),qv(),qs());return hr(a,o,y,u),o.child}function Nf(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function m2(a,o,u,d,y){var b=Dv();return b=b===null?null:{parent:Vn._currentValue,pool:b},o.memoizedState={baseLanes:u,cachePool:b},a!==null&&dp(o,null),qv(),vO(o),a!==null&&yu(a,o,d,!0),o.childLanes=y,null}function Ip(a,o){return o=Pp({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function g2(a,o,u){return il(o,a.child,null,u),a=Ip(o,o.pendingProps),a.flags|=2,ni(o),o.memoizedState=null,a}function W$(a,o,u){var d=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(Rt){if(d.mode==="hidden")return a=Ip(o,d),o.lanes=536870912,Nf(null,a);if(Fv(o),(a=hn)?(a=CC(a,Ti),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:js!==null?{id:pa,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},u=ZA(a),u.return=o,o.child=u,cr=o,hn=null)):a=null,a===null)throw Ds(o);return o.lanes=536870912,null}return Ip(o,d)}var b=a.memoizedState;if(b!==null){var N=b.dehydrated;if(Fv(o),y)if(o.flags&256)o.flags&=-257,o=g2(a,o,u);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(Un||yu(a,o,u,!1),y=(u&a.childLanes)!==0,Un||y){if(d=on,d!==null&&(N=Mo(d,u),N!==0&&N!==b.retryLane))throw b.retryLane=N,Xo(a,N),Fr(d,a,N),f0;Up(),o=g2(a,o,u)}else a=b.treeContext,hn=Oi(N.nextSibling),cr=o,Rt=!0,Ms=null,Ti=!1,a!==null&&nO(o,a),o=Ip(o,d),o.flags|=4096;return o}return a=Ba(a.child,{mode:d.mode,children:d.children}),a.ref=o.ref,o.child=a,a.return=o,a}function kp(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function h0(a,o,u,d,y){return el(o),u=Gv(a,o,u,d,void 0,y),d=Kv(),a!==null&&!Un?(Wv(a,o,y),Ka(a,o,y)):(Rt&&d&&Ov(o),o.flags|=1,hr(a,o,u,y),o.child)}function y2(a,o,u,d,y,b){return el(o),o.updateQueue=null,u=xO(o,d,u,y),bO(a),d=Kv(),a!==null&&!Un?(Wv(a,o,b),Ka(a,o,b)):(Rt&&d&&Ov(o),o.flags|=1,hr(a,o,u,b),o.child)}function v2(a,o,u,d,y){if(el(o),o.stateNode===null){var b=du,N=u.contextType;typeof N=="object"&&N!==null&&(b=fr(N)),b=new u(d,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=u0,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=d,b.state=o.memoizedState,b.refs={},Vv(o),N=u.contextType,b.context=typeof N=="object"&&N!==null?fr(N):du,b.state=o.memoizedState,N=u.getDerivedStateFromProps,typeof N=="function"&&(l0(o,u,N,d),b.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(N=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),N!==b.state&&u0.enqueueReplaceState(b,b.state,null),Of(o,d,b,y),Af(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(a===null){b=o.stateNode;var q=o.memoizedProps,K=sl(u,q);b.props=K;var ae=b.context,fe=u.contextType;N=du,typeof fe=="object"&&fe!==null&&(N=fr(fe));var ge=u.getDerivedStateFromProps;fe=typeof ge=="function"||typeof b.getSnapshotBeforeUpdate=="function",q=o.pendingProps!==q,fe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(q||ae!==N)&&i2(o,b,d,N),Vs=!1;var se=o.memoizedState;b.state=se,Of(o,d,b,y),Af(),ae=o.memoizedState,q||se!==ae||Vs?(typeof ge=="function"&&(l0(o,u,ge,d),ae=o.memoizedState),(K=Vs||r2(o,u,K,d,se,ae,N))?(fe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=ae),b.props=d,b.state=ae,b.context=N,d=K):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{b=o.stateNode,$v(a,o),N=o.memoizedProps,fe=sl(u,N),b.props=fe,ge=o.pendingProps,se=b.context,ae=u.contextType,K=du,typeof ae=="object"&&ae!==null&&(K=fr(ae)),q=u.getDerivedStateFromProps,(ae=typeof q=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(N!==ge||se!==K)&&i2(o,b,d,K),Vs=!1,se=o.memoizedState,b.state=se,Of(o,d,b,y),Af();var ce=o.memoizedState;N!==ge||se!==ce||Vs||a!==null&&a.dependencies!==null&&fp(a.dependencies)?(typeof q=="function"&&(l0(o,u,q,d),ce=o.memoizedState),(fe=Vs||r2(o,u,fe,d,se,ce,K)||a!==null&&a.dependencies!==null&&fp(a.dependencies))?(ae||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,ce,K),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,ce,K)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||N===a.memoizedProps&&se===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&se===a.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=ce),b.props=d,b.state=ce,b.context=K,d=fe):(typeof b.componentDidUpdate!="function"||N===a.memoizedProps&&se===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&se===a.memoizedState||(o.flags|=1024),d=!1)}return b=d,kp(a,o),d=(o.flags&128)!==0,b||d?(b=o.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,a!==null&&d?(o.child=il(o,a.child,null,y),o.child=il(o,null,u,y)):hr(a,o,u,y),o.memoizedState=b.state,a=o.child):a=Ka(a,o,y),a}function b2(a,o,u,d){return Jo(),o.flags|=256,hr(a,o,u,d),o.child}var d0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function p0(a){return{baseLanes:a,cachePool:lO()}}function m0(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=ii),a}function x2(a,o,u){var d=o.pendingProps,y=!1,b=(o.flags&128)!==0,N;if((N=b)||(N=a!==null&&a.memoizedState===null?!1:(Rn.current&2)!==0),N&&(y=!0,o.flags&=-129),N=(o.flags&32)!==0,o.flags&=-33,a===null){if(Rt){if(y?Bs(o):qs(),(a=hn)?(a=CC(a,Ti),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:js!==null?{id:pa,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},u=ZA(a),u.return=o,o.child=u,cr=o,hn=null)):a=null,a===null)throw Ds(o);return Q0(a)?o.lanes=32:o.lanes=536870912,null}var q=d.children;return d=d.fallback,y?(qs(),y=o.mode,q=Pp({mode:"hidden",children:q},y),d=Qo(d,y,u,null),q.return=o,d.return=o,q.sibling=d,o.child=q,d=o.child,d.memoizedState=p0(u),d.childLanes=m0(a,N,u),o.memoizedState=d0,Nf(null,d)):(Bs(o),g0(o,q))}var K=a.memoizedState;if(K!==null&&(q=K.dehydrated,q!==null)){if(b)o.flags&256?(Bs(o),o.flags&=-257,o=y0(a,o,u)):o.memoizedState!==null?(qs(),o.child=a.child,o.flags|=128,o=null):(qs(),q=d.fallback,y=o.mode,d=Pp({mode:"visible",children:d.children},y),q=Qo(q,y,u,null),q.flags|=2,d.return=o,q.return=o,d.sibling=q,o.child=d,il(o,a.child,null,u),d=o.child,d.memoizedState=p0(u),d.childLanes=m0(a,N,u),o.memoizedState=d0,o=Nf(null,d));else if(Bs(o),Q0(q)){if(N=q.nextSibling&&q.nextSibling.dataset,N)var ae=N.dgst;N=ae,d=Error(r(419)),d.stack="",d.digest=N,xf({value:d,source:null,stack:null}),o=y0(a,o,u)}else if(Un||yu(a,o,u,!1),N=(u&a.childLanes)!==0,Un||N){if(N=on,N!==null&&(d=Mo(N,u),d!==0&&d!==K.retryLane))throw K.retryLane=d,Xo(a,d),Fr(N,a,d),f0;X0(q)||Up(),o=y0(a,o,u)}else X0(q)?(o.flags|=192,o.child=a.child,o=null):(a=K.treeContext,hn=Oi(q.nextSibling),cr=o,Rt=!0,Ms=null,Ti=!1,a!==null&&nO(o,a),o=g0(o,d.children),o.flags|=4096);return o}return y?(qs(),q=d.fallback,y=o.mode,K=a.child,ae=K.sibling,d=Ba(K,{mode:"hidden",children:d.children}),d.subtreeFlags=K.subtreeFlags&65011712,ae!==null?q=Ba(ae,q):(q=Qo(q,y,u,null),q.flags|=2),q.return=o,d.return=o,d.sibling=q,o.child=d,Nf(null,d),d=o.child,q=a.child.memoizedState,q===null?q=p0(u):(y=q.cachePool,y!==null?(K=Vn._currentValue,y=y.parent!==K?{parent:K,pool:K}:y):y=lO(),q={baseLanes:q.baseLanes|u,cachePool:y}),d.memoizedState=q,d.childLanes=m0(a,N,u),o.memoizedState=d0,Nf(a.child,d)):(Bs(o),u=a.child,a=u.sibling,u=Ba(u,{mode:"visible",children:d.children}),u.return=o,u.sibling=null,a!==null&&(N=o.deletions,N===null?(o.deletions=[a],o.flags|=16):N.push(a)),o.child=u,o.memoizedState=null,u)}function g0(a,o){return o=Pp({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function Pp(a,o){return a=ei(22,a,null,o),a.lanes=0,a}function y0(a,o,u){return il(o,a.child,null,u),a=g0(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function _2(a,o,u){a.lanes|=o;var d=a.alternate;d!==null&&(d.lanes|=o),Nv(a.return,o,u)}function v0(a,o,u,d,y,b){var N=a.memoizedState;N===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:y,treeForkCount:b}:(N.isBackwards=o,N.rendering=null,N.renderingStartTime=0,N.last=d,N.tail=u,N.tailMode=y,N.treeForkCount=b)}function w2(a,o,u){var d=o.pendingProps,y=d.revealOrder,b=d.tail;d=d.children;var N=Rn.current,q=(N&2)!==0;if(q?(N=N&1|2,o.flags|=128):N&=1,oe(Rn,N),hr(a,o,d,u),d=Rt?bf:0,!q&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&_2(a,u,o);else if(a.tag===19)_2(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(u=o.child,y=null;u!==null;)a=u.alternate,a!==null&&bp(a)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),v0(o,!1,y,u,b,d);break;case"backwards":case"unstable_legacy-backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(a=y.alternate,a!==null&&bp(a)===null){o.child=y;break}a=y.sibling,y.sibling=u,u=y,y=a}v0(o,!0,u,null,b,d);break;case"together":v0(o,!1,null,null,void 0,d);break;default:o.memoizedState=null}return o.child}function Ka(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),Hs|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(yu(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,u=Ba(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=Ba(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function b0(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&fp(a)))}function Y$(a,o,u){switch(o.tag){case 3:$e(o,o.stateNode.containerInfo),Ls(o,Vn,a.memoizedState.cache),Jo();break;case 27:case 5:Ee(o);break;case 4:$e(o,o.stateNode.containerInfo);break;case 10:Ls(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Fv(o),null;break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(Bs(o),o.flags|=128,null):(u&o.child.childLanes)!==0?x2(a,o,u):(Bs(o),a=Ka(a,o,u),a!==null?a.sibling:null);Bs(o);break;case 19:var y=(a.flags&128)!==0;if(d=(u&o.childLanes)!==0,d||(yu(a,o,u,!1),d=(u&o.childLanes)!==0),y){if(d)return w2(a,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),oe(Rn,Rn.current),d)break;return null;case 22:return o.lanes=0,p2(a,o,u,o.pendingProps);case 24:Ls(o,Vn,a.memoizedState.cache)}return Ka(a,o,u)}function S2(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)Un=!0;else{if(!b0(a,u)&&(o.flags&128)===0)return Un=!1,Y$(a,o,u);Un=(a.flags&131072)!==0}else Un=!1,Rt&&(o.flags&1048576)!==0&&tO(o,bf,o.index);switch(o.lanes=0,o.tag){case 16:e:{var d=o.pendingProps;if(a=nl(o.elementType),o.type=a,typeof a=="function")Ev(a)?(d=sl(a,d),o.tag=1,o=v2(null,o,a,d,u)):(o.tag=0,o=h0(null,o,a,d,u));else{if(a!=null){var y=a.$$typeof;if(y===V){o.tag=11,o=f2(null,o,a,d,u);break e}else if(y===O){o.tag=14,o=h2(null,o,a,d,u);break e}}throw o=Q(a)||a,Error(r(306,o,""))}}return o;case 0:return h0(a,o,o.type,o.pendingProps,u);case 1:return d=o.type,y=sl(d,o.pendingProps),v2(a,o,d,y,u);case 3:e:{if($e(o,o.stateNode.containerInfo),a===null)throw Error(r(387));d=o.pendingProps;var b=o.memoizedState;y=b.element,$v(a,o),Of(o,d,null,u);var N=o.memoizedState;if(d=N.cache,Ls(o,Vn,d),d!==b.cache&&Rv(o,[Vn],u,!0),Af(),d=N.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:N.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=b2(a,o,d,u);break e}else if(d!==y){y=wi(Error(r(424)),o),xf(y),o=b2(a,o,d,u);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(hn=Oi(a.firstChild),cr=o,Rt=!0,Ms=null,Ti=!0,u=pO(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Jo(),d===y){o=Ka(a,o,u);break e}hr(a,o,d,u)}o=o.child}return o;case 26:return kp(a,o),a===null?(u=jC(o.type,null,o.pendingProps,null))?o.memoizedState=u:Rt||(u=o.type,a=o.pendingProps,d=Kp(Se.current).createElement(u),d[kn]=o,d[Pn]=a,dr(d,u,a),xn(d),o.stateNode=d):o.memoizedState=jC(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Ee(o),a===null&&Rt&&(d=o.stateNode=PC(o.type,o.pendingProps,Se.current),cr=o,Ti=!0,y=hn,Xs(o.type)?(J0=y,hn=Oi(d.firstChild)):hn=y),hr(a,o,o.pendingProps.children,u),kp(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&Rt&&((y=d=hn)&&(d=TU(d,o.type,o.pendingProps,Ti),d!==null?(o.stateNode=d,cr=o,hn=Oi(d.firstChild),Ti=!1,y=!0):y=!1),y||Ds(o)),Ee(o),y=o.type,b=o.pendingProps,N=a!==null?a.memoizedProps:null,d=b.children,K0(y,b)?d=null:N!==null&&K0(y,N)&&(o.flags|=32),o.memoizedState!==null&&(y=Gv(a,o,U$,null,null,u),Kf._currentValue=y),kp(a,o),hr(a,o,d,u),o.child;case 6:return a===null&&Rt&&((a=u=hn)&&(u=AU(u,o.pendingProps,Ti),u!==null?(o.stateNode=u,cr=o,hn=null,a=!0):a=!1),a||Ds(o)),null;case 13:return x2(a,o,u);case 4:return $e(o,o.stateNode.containerInfo),d=o.pendingProps,a===null?o.child=il(o,null,d,u):hr(a,o,d,u),o.child;case 11:return f2(a,o,o.type,o.pendingProps,u);case 7:return hr(a,o,o.pendingProps,u),o.child;case 8:return hr(a,o,o.pendingProps.children,u),o.child;case 12:return hr(a,o,o.pendingProps.children,u),o.child;case 10:return d=o.pendingProps,Ls(o,o.type,d.value),hr(a,o,d.children,u),o.child;case 9:return y=o.type._context,d=o.pendingProps.children,el(o),y=fr(y),d=d(y),o.flags|=1,hr(a,o,d,u),o.child;case 14:return h2(a,o,o.type,o.pendingProps,u);case 15:return d2(a,o,o.type,o.pendingProps,u);case 19:return w2(a,o,u);case 31:return W$(a,o,u);case 22:return p2(a,o,u,o.pendingProps);case 24:return el(o),d=fr(Vn),a===null?(y=Dv(),y===null&&(y=on,b=jv(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=u),y=b),o.memoizedState={parent:d,cache:y},Vv(o),Ls(o,Vn,y)):((a.lanes&u)!==0&&($v(a,o),Of(o,null,null,u),Af()),y=a.memoizedState,b=o.memoizedState,y.parent!==d?(y={parent:d,cache:d},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),Ls(o,Vn,d)):(d=b.cache,Ls(o,Vn,d),d!==y.cache&&Rv(o,[Vn],u,!0))),hr(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Wa(a){a.flags|=4}function x0(a,o,u,d,y){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(X2())a.flags|=8192;else throw rl=mp,Lv}else a.flags&=-16777217}function E2(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!$C(o))if(X2())a.flags|=8192;else throw rl=mp,Lv}function Np(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Vr():536870912,a.lanes|=o,Iu|=o)}function Rf(a,o){if(!Rt)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function dn(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,d=0;if(o)for(var y=a.child;y!==null;)u|=y.lanes|y.childLanes,d|=y.subtreeFlags&65011712,d|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)u|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=d,a.childLanes=u,o}function X$(a,o,u){var d=o.pendingProps;switch(Cv(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(o),null;case 1:return dn(o),null;case 3:return u=o.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Fa(Vn),ye(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(gu(o)?Wa(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,kv())),dn(o),null;case 26:var y=o.type,b=o.memoizedState;return a===null?(Wa(o),b!==null?(dn(o),E2(o,b)):(dn(o),x0(o,y,null,d,u))):b?b!==a.memoizedState?(Wa(o),dn(o),E2(o,b)):(dn(o),o.flags&=-16777217):(a=a.memoizedProps,a!==d&&Wa(o),dn(o),x0(o,y,a,d,u)),null;case 27:if(Ne(o),u=Se.current,y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==d&&Wa(o);else{if(!d){if(o.stateNode===null)throw Error(r(166));return dn(o),null}a=me.current,gu(o)?rO(o):(a=PC(y,d,u),o.stateNode=a,Wa(o))}return dn(o),null;case 5:if(Ne(o),y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==d&&Wa(o);else{if(!d){if(o.stateNode===null)throw Error(r(166));return dn(o),null}if(b=me.current,gu(o))rO(o);else{var N=Kp(Se.current);switch(b){case 1:b=N.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:b=N.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":b=N.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":b=N.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":b=N.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof d.is=="string"?N.createElement("select",{is:d.is}):N.createElement("select"),d.multiple?b.multiple=!0:d.size&&(b.size=d.size);break;default:b=typeof d.is=="string"?N.createElement(y,{is:d.is}):N.createElement(y)}}b[kn]=o,b[Pn]=d;e:for(N=o.child;N!==null;){if(N.tag===5||N.tag===6)b.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===o)break e;for(;N.sibling===null;){if(N.return===null||N.return===o)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}o.stateNode=b;e:switch(dr(b,y,d),y){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Wa(o)}}return dn(o),x0(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,u),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==d&&Wa(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(r(166));if(a=Se.current,gu(o)){if(a=o.stateNode,u=o.memoizedProps,d=null,y=cr,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}a[kn]=o,a=!!(a.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||xC(a.nodeValue,u)),a||Ds(o,!0)}else a=Kp(a).createTextNode(d),a[kn]=o,o.stateNode=a}return dn(o),null;case 31:if(u=o.memoizedState,a===null||a.memoizedState!==null){if(d=gu(o),u!==null){if(a===null){if(!d)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[kn]=o}else Jo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;dn(o),a=!1}else u=kv(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return o.flags&256?(ni(o),o):(ni(o),null);if((o.flags&128)!==0)throw Error(r(558))}return dn(o),null;case 13:if(d=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=gu(o),d!==null&&d.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[kn]=o}else Jo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;dn(o),y=!1}else y=kv(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(ni(o),o):(ni(o),null)}return ni(o),(o.flags&128)!==0?(o.lanes=u,o):(u=d!==null,a=a!==null&&a.memoizedState!==null,u&&(d=o.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool),b=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==y&&(d.flags|=2048)),u!==a&&u&&(o.child.flags|=8192),Np(o,o.updateQueue),dn(o),null);case 4:return ye(),a===null&&q0(o.stateNode.containerInfo),dn(o),null;case 10:return Fa(o.type),dn(o),null;case 19:if(W(Rn),d=o.memoizedState,d===null)return dn(o),null;if(y=(o.flags&128)!==0,b=d.rendering,b===null)if(y)Rf(d,!1);else{if(On!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(b=bp(a),b!==null){for(o.flags|=128,Rf(d,!1),a=b.updateQueue,o.updateQueue=a,Np(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)JA(u,a),u=u.sibling;return oe(Rn,Rn.current&1|2),Rt&&qa(o,d.treeForkCount),o.child}a=a.sibling}d.tail!==null&&Ie()>Lp&&(o.flags|=128,y=!0,Rf(d,!1),o.lanes=4194304)}else{if(!y)if(a=bp(b),a!==null){if(o.flags|=128,y=!0,a=a.updateQueue,o.updateQueue=a,Np(o,a),Rf(d,!0),d.tail===null&&d.tailMode==="hidden"&&!b.alternate&&!Rt)return dn(o),null}else 2*Ie()-d.renderingStartTime>Lp&&u!==536870912&&(o.flags|=128,y=!0,Rf(d,!1),o.lanes=4194304);d.isBackwards?(b.sibling=o.child,o.child=b):(a=d.last,a!==null?a.sibling=b:o.child=b,d.last=b)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=Ie(),a.sibling=null,u=Rn.current,oe(Rn,y?u&1|2:u&1),Rt&&qa(o,d.treeForkCount),a):(dn(o),null);case 22:case 23:return ni(o),zv(),d=o.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(u&536870912)!==0&&(o.flags&128)===0&&(dn(o),o.subtreeFlags&6&&(o.flags|=8192)):dn(o),u=o.updateQueue,u!==null&&Np(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==u&&(o.flags|=2048),a!==null&&W(tl),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Fa(Vn),dn(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function Q$(a,o){switch(Cv(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Fa(Vn),ye(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Ne(o),null;case 31:if(o.memoizedState!==null){if(ni(o),o.alternate===null)throw Error(r(340));Jo()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(ni(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Jo()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return W(Rn),null;case 4:return ye(),null;case 10:return Fa(o.type),null;case 22:case 23:return ni(o),zv(),a!==null&&W(tl),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Fa(Vn),null;case 25:return null;default:return null}}function T2(a,o){switch(Cv(o),o.tag){case 3:Fa(Vn),ye();break;case 26:case 27:case 5:Ne(o);break;case 4:ye();break;case 31:o.memoizedState!==null&&ni(o);break;case 13:ni(o);break;case 19:W(Rn);break;case 10:Fa(o.type);break;case 22:case 23:ni(o),zv(),a!==null&&W(tl);break;case 24:Fa(Vn)}}function jf(a,o){try{var u=o.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var y=d.next;u=y;do{if((u.tag&a)===a){d=void 0;var b=u.create,N=u.inst;d=b(),N.destroy=d}u=u.next}while(u!==y)}}catch(q){Jt(o,o.return,q)}}function zs(a,o,u){try{var d=o.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var b=y.next;d=b;do{if((d.tag&a)===a){var N=d.inst,q=N.destroy;if(q!==void 0){N.destroy=void 0,y=o;var K=u,ae=q;try{ae()}catch(fe){Jt(y,K,fe)}}}d=d.next}while(d!==b)}}catch(fe){Jt(o,o.return,fe)}}function A2(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{gO(o,u)}catch(d){Jt(a,a.return,d)}}}function O2(a,o,u){u.props=sl(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(d){Jt(a,o,d)}}function Mf(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:d=a.stateNode;break;default:d=a.stateNode}typeof u=="function"?a.refCleanup=u(d):u.current=d}}catch(y){Jt(a,o,y)}}function ga(a,o){var u=a.ref,d=a.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(y){Jt(a,o,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){Jt(a,o,y)}else u.current=null}function C2(a){var o=a.type,u=a.memoizedProps,d=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break e;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(y){Jt(a,a.return,y)}}function _0(a,o,u){try{var d=a.stateNode;bU(d,a.type,u,o),d[Pn]=o}catch(y){Jt(a,a.return,y)}}function I2(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Xs(a.type)||a.tag===4}function w0(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||I2(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Xs(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function S0(a,o,u){var d=a.tag;if(d===5||d===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Ui));else if(d!==4&&(d===27&&Xs(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(S0(a,o,u),a=a.sibling;a!==null;)S0(a,o,u),a=a.sibling}function Rp(a,o,u){var d=a.tag;if(d===5||d===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(d!==4&&(d===27&&Xs(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(Rp(a,o,u),a=a.sibling;a!==null;)Rp(a,o,u),a=a.sibling}function k2(a){var o=a.stateNode,u=a.memoizedProps;try{for(var d=a.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);dr(o,d,u),o[kn]=a,o[Pn]=u}catch(b){Jt(a,a.return,b)}}var Ya=!1,Bn=!1,E0=!1,P2=typeof WeakSet=="function"?WeakSet:Set,tr=null;function J$(a,o){if(a=a.containerInfo,H0=em,a=zA(a),yv(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var y=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var N=0,q=-1,K=-1,ae=0,fe=0,ge=a,se=null;t:for(;;){for(var ce;ge!==u||y!==0&&ge.nodeType!==3||(q=N+y),ge!==b||d!==0&&ge.nodeType!==3||(K=N+d),ge.nodeType===3&&(N+=ge.nodeValue.length),(ce=ge.firstChild)!==null;)se=ge,ge=ce;for(;;){if(ge===a)break t;if(se===u&&++ae===y&&(q=N),se===b&&++fe===d&&(K=N),(ce=ge.nextSibling)!==null)break;ge=se,se=ge.parentNode}ge=ce}u=q===-1||K===-1?null:{start:q,end:K}}else u=null}u=u||{start:0,end:0}}else u=null;for(G0={focusedElem:a,selectionRange:u},em=!1,tr=o;tr!==null;)if(o=tr,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,tr=a;else for(;tr!==null;){switch(o=tr,b=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)y=a[u],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,u=o,y=b.memoizedProps,b=b.memoizedState,d=u.stateNode;try{var Ve=sl(u.type,y);a=d.getSnapshotBeforeUpdate(Ve,b),d.__reactInternalSnapshotBeforeUpdate=a}catch(et){Jt(u,u.return,et)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)Y0(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Y0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,tr=a;break}tr=o.return}}function N2(a,o,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:Qa(a,u),d&4&&jf(5,u);break;case 1:if(Qa(a,u),d&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(N){Jt(u,u.return,N)}else{var y=sl(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(y,o,a.__reactInternalSnapshotBeforeUpdate)}catch(N){Jt(u,u.return,N)}}d&64&&A2(u),d&512&&Mf(u,u.return);break;case 3:if(Qa(a,u),d&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{gO(a,o)}catch(N){Jt(u,u.return,N)}}break;case 27:o===null&&d&4&&k2(u);case 26:case 5:Qa(a,u),o===null&&d&4&&C2(u),d&512&&Mf(u,u.return);break;case 12:Qa(a,u);break;case 31:Qa(a,u),d&4&&M2(a,u);break;case 13:Qa(a,u),d&4&&D2(a,u),d&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=oU.bind(null,u),OU(a,u))));break;case 22:if(d=u.memoizedState!==null||Ya,!d){o=o!==null&&o.memoizedState!==null||Bn,y=Ya;var b=Bn;Ya=d,(Bn=o)&&!b?Ja(a,u,(u.subtreeFlags&8772)!==0):Qa(a,u),Ya=y,Bn=b}break;case 30:break;default:Qa(a,u)}}function R2(a){var o=a.alternate;o!==null&&(a.alternate=null,R2(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&$i(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var yn=null,Ur=!1;function Xa(a,o,u){for(u=u.child;u!==null;)j2(a,o,u),u=u.sibling}function j2(a,o,u){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(Ae,u)}catch{}switch(u.tag){case 26:Bn||ga(u,o),Xa(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Bn||ga(u,o);var d=yn,y=Ur;Xs(u.type)&&(yn=u.stateNode,Ur=!1),Xa(a,o,u),Ff(u.stateNode),yn=d,Ur=y;break;case 5:Bn||ga(u,o);case 6:if(d=yn,y=Ur,yn=null,Xa(a,o,u),yn=d,Ur=y,yn!==null)if(Ur)try{(yn.nodeType===9?yn.body:yn.nodeName==="HTML"?yn.ownerDocument.body:yn).removeChild(u.stateNode)}catch(b){Jt(u,o,b)}else try{yn.removeChild(u.stateNode)}catch(b){Jt(u,o,b)}break;case 18:yn!==null&&(Ur?(a=yn,AC(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),Lu(a)):AC(yn,u.stateNode));break;case 4:d=yn,y=Ur,yn=u.stateNode.containerInfo,Ur=!0,Xa(a,o,u),yn=d,Ur=y;break;case 0:case 11:case 14:case 15:zs(2,u,o),Bn||zs(4,u,o),Xa(a,o,u);break;case 1:Bn||(ga(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"&&O2(u,o,d)),Xa(a,o,u);break;case 21:Xa(a,o,u);break;case 22:Bn=(d=Bn)||u.memoizedState!==null,Xa(a,o,u),Bn=d;break;default:Xa(a,o,u)}}function M2(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Lu(a)}catch(u){Jt(o,o.return,u)}}}function D2(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Lu(a)}catch(u){Jt(o,o.return,u)}}function Z$(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new P2),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new P2),o;default:throw Error(r(435,a.tag))}}function jp(a,o){var u=Z$(a);o.forEach(function(d){if(!u.has(d)){u.add(d);var y=lU.bind(null,a,d);d.then(y,y)}})}function Br(a,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var y=u[d],b=a,N=o,q=N;e:for(;q!==null;){switch(q.tag){case 27:if(Xs(q.type)){yn=q.stateNode,Ur=!1;break e}break;case 5:yn=q.stateNode,Ur=!1;break e;case 3:case 4:yn=q.stateNode.containerInfo,Ur=!0;break e}q=q.return}if(yn===null)throw Error(r(160));j2(b,N,y),yn=null,Ur=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)L2(o,a),o=o.sibling}var Gi=null;function L2(a,o){var u=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Br(o,a),qr(a),d&4&&(zs(3,a,a.return),jf(3,a),zs(5,a,a.return));break;case 1:Br(o,a),qr(a),d&512&&(Bn||u===null||ga(u,u.return)),d&64&&Ya&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var y=Gi;if(Br(o,a),qr(a),d&512&&(Bn||u===null||ga(u,u.return)),d&4){var b=u!==null?u.memoizedState:null;if(d=a.memoizedState,u===null)if(d===null)if(a.stateNode===null){e:{d=a.type,u=a.memoizedProps,y=y.ownerDocument||y;t:switch(d){case"title":b=y.getElementsByTagName("title")[0],(!b||b[mi]||b[kn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(d),y.head.insertBefore(b,y.querySelector("head > title"))),dr(b,d,u),b[kn]=a,xn(b),d=b;break e;case"link":var N=LC("link","href",y).get(d+(u.href||""));if(N){for(var q=0;q<N.length;q++)if(b=N[q],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){N.splice(q,1);break t}}b=y.createElement(d),dr(b,d,u),y.head.appendChild(b);break;case"meta":if(N=LC("meta","content",y).get(d+(u.content||""))){for(q=0;q<N.length;q++)if(b=N[q],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){N.splice(q,1);break t}}b=y.createElement(d),dr(b,d,u),y.head.appendChild(b);break;default:throw Error(r(468,d))}b[kn]=a,xn(b),d=b}a.stateNode=d}else VC(y,a.type,a.stateNode);else a.stateNode=DC(y,d,a.memoizedProps);else b!==d?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,d===null?VC(y,a.type,a.stateNode):DC(y,d,a.memoizedProps)):d===null&&a.stateNode!==null&&_0(a,a.memoizedProps,u.memoizedProps)}break;case 27:Br(o,a),qr(a),d&512&&(Bn||u===null||ga(u,u.return)),u!==null&&d&4&&_0(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Br(o,a),qr(a),d&512&&(Bn||u===null||ga(u,u.return)),a.flags&32){y=a.stateNode;try{lr(y,"")}catch(Ve){Jt(a,a.return,Ve)}}d&4&&a.stateNode!=null&&(y=a.memoizedProps,_0(a,y,u!==null?u.memoizedProps:y)),d&1024&&(E0=!0);break;case 6:if(Br(o,a),qr(a),d&4){if(a.stateNode===null)throw Error(r(162));d=a.memoizedProps,u=a.stateNode;try{u.nodeValue=d}catch(Ve){Jt(a,a.return,Ve)}}break;case 3:if(Xp=null,y=Gi,Gi=Wp(o.containerInfo),Br(o,a),Gi=y,qr(a),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Lu(o.containerInfo)}catch(Ve){Jt(a,a.return,Ve)}E0&&(E0=!1,V2(a));break;case 4:d=Gi,Gi=Wp(a.stateNode.containerInfo),Br(o,a),qr(a),Gi=d;break;case 12:Br(o,a),qr(a);break;case 31:Br(o,a),qr(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,jp(a,d)));break;case 13:Br(o,a),qr(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Dp=Ie()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,jp(a,d)));break;case 22:y=a.memoizedState!==null;var K=u!==null&&u.memoizedState!==null,ae=Ya,fe=Bn;if(Ya=ae||y,Bn=fe||K,Br(o,a),Bn=fe,Ya=ae,qr(a),d&8192)e:for(o=a.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(u===null||K||Ya||Bn||ol(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){K=u=o;try{if(b=K.stateNode,y)N=b.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{q=K.stateNode;var ge=K.memoizedProps.style,se=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;q.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(Ve){Jt(K,K.return,Ve)}}}else if(o.tag===6){if(u===null){K=o;try{K.stateNode.nodeValue=y?"":K.memoizedProps}catch(Ve){Jt(K,K.return,Ve)}}}else if(o.tag===18){if(u===null){K=o;try{var ce=K.stateNode;y?OC(ce,!0):OC(K.stateNode,!1)}catch(Ve){Jt(K,K.return,Ve)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=a.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,jp(a,u))));break;case 19:Br(o,a),qr(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,jp(a,d)));break;case 30:break;case 21:break;default:Br(o,a),qr(a)}}function qr(a){var o=a.flags;if(o&2){try{for(var u,d=a.return;d!==null;){if(I2(d)){u=d;break}d=d.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var y=u.stateNode,b=w0(a);Rp(a,b,y);break;case 5:var N=u.stateNode;u.flags&32&&(lr(N,""),u.flags&=-33);var q=w0(a);Rp(a,q,N);break;case 3:case 4:var K=u.stateNode.containerInfo,ae=w0(a);S0(a,ae,K);break;default:throw Error(r(161))}}catch(fe){Jt(a,a.return,fe)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function V2(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;V2(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Qa(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)N2(a,o.alternate,o),o=o.sibling}function ol(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:zs(4,o,o.return),ol(o);break;case 1:ga(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&O2(o,o.return,u),ol(o);break;case 27:Ff(o.stateNode);case 26:case 5:ga(o,o.return),ol(o);break;case 22:o.memoizedState===null&&ol(o);break;case 30:ol(o);break;default:ol(o)}a=a.sibling}}function Ja(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,y=a,b=o,N=b.flags;switch(b.tag){case 0:case 11:case 15:Ja(y,b,u),jf(4,b);break;case 1:if(Ja(y,b,u),d=b,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ae){Jt(d,d.return,ae)}if(d=b,y=d.updateQueue,y!==null){var q=d.stateNode;try{var K=y.shared.hiddenCallbacks;if(K!==null)for(y.shared.hiddenCallbacks=null,y=0;y<K.length;y++)mO(K[y],q)}catch(ae){Jt(d,d.return,ae)}}u&&N&64&&A2(b),Mf(b,b.return);break;case 27:k2(b);case 26:case 5:Ja(y,b,u),u&&d===null&&N&4&&C2(b),Mf(b,b.return);break;case 12:Ja(y,b,u);break;case 31:Ja(y,b,u),u&&N&4&&M2(y,b);break;case 13:Ja(y,b,u),u&&N&4&&D2(y,b);break;case 22:b.memoizedState===null&&Ja(y,b,u),Mf(b,b.return);break;case 30:break;default:Ja(y,b,u)}o=o.sibling}}function T0(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&_f(u))}function A0(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&_f(a))}function Ki(a,o,u,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)$2(a,o,u,d),o=o.sibling}function $2(a,o,u,d){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Ki(a,o,u,d),y&2048&&jf(9,o);break;case 1:Ki(a,o,u,d);break;case 3:Ki(a,o,u,d),y&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&_f(a)));break;case 12:if(y&2048){Ki(a,o,u,d),a=o.stateNode;try{var b=o.memoizedProps,N=b.id,q=b.onPostCommit;typeof q=="function"&&q(N,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(K){Jt(o,o.return,K)}}else Ki(a,o,u,d);break;case 31:Ki(a,o,u,d);break;case 13:Ki(a,o,u,d);break;case 23:break;case 22:b=o.stateNode,N=o.alternate,o.memoizedState!==null?b._visibility&2?Ki(a,o,u,d):Df(a,o):b._visibility&2?Ki(a,o,u,d):(b._visibility|=2,Au(a,o,u,d,(o.subtreeFlags&10256)!==0||!1)),y&2048&&T0(N,o);break;case 24:Ki(a,o,u,d),y&2048&&A0(o.alternate,o);break;default:Ki(a,o,u,d)}}function Au(a,o,u,d,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var b=a,N=o,q=u,K=d,ae=N.flags;switch(N.tag){case 0:case 11:case 15:Au(b,N,q,K,y),jf(8,N);break;case 23:break;case 22:var fe=N.stateNode;N.memoizedState!==null?fe._visibility&2?Au(b,N,q,K,y):Df(b,N):(fe._visibility|=2,Au(b,N,q,K,y)),y&&ae&2048&&T0(N.alternate,N);break;case 24:Au(b,N,q,K,y),y&&ae&2048&&A0(N.alternate,N);break;default:Au(b,N,q,K,y)}o=o.sibling}}function Df(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,d=o,y=d.flags;switch(d.tag){case 22:Df(u,d),y&2048&&T0(d.alternate,d);break;case 24:Df(u,d),y&2048&&A0(d.alternate,d);break;default:Df(u,d)}o=o.sibling}}var Lf=8192;function Ou(a,o,u){if(a.subtreeFlags&Lf)for(a=a.child;a!==null;)U2(a,o,u),a=a.sibling}function U2(a,o,u){switch(a.tag){case 26:Ou(a,o,u),a.flags&Lf&&a.memoizedState!==null&&$U(u,Gi,a.memoizedState,a.memoizedProps);break;case 5:Ou(a,o,u);break;case 3:case 4:var d=Gi;Gi=Wp(a.stateNode.containerInfo),Ou(a,o,u),Gi=d;break;case 22:a.memoizedState===null&&(d=a.alternate,d!==null&&d.memoizedState!==null?(d=Lf,Lf=16777216,Ou(a,o,u),Lf=d):Ou(a,o,u));break;default:Ou(a,o,u)}}function B2(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Vf(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];tr=d,z2(d,a)}B2(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)q2(a),a=a.sibling}function q2(a){switch(a.tag){case 0:case 11:case 15:Vf(a),a.flags&2048&&zs(9,a,a.return);break;case 3:Vf(a);break;case 12:Vf(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Mp(a)):Vf(a);break;default:Vf(a)}}function Mp(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];tr=d,z2(d,a)}B2(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:zs(8,o,o.return),Mp(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Mp(o));break;default:Mp(o)}a=a.sibling}}function z2(a,o){for(;tr!==null;){var u=tr;switch(u.tag){case 0:case 11:case 15:zs(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:_f(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,tr=d;else e:for(u=a;tr!==null;){d=tr;var y=d.sibling,b=d.return;if(R2(d),d===u){tr=null;break e}if(y!==null){y.return=b,tr=y;break e}tr=b}}}var eU={getCacheForType:function(a){var o=fr(Vn),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u},cacheSignal:function(){return fr(Vn).controller.signal}},tU=typeof WeakMap=="function"?WeakMap:Map,Ht=0,on=null,wt=null,Tt=0,Qt=0,ri=null,Fs=!1,Cu=!1,O0=!1,Za=0,On=0,Hs=0,ll=0,C0=0,ii=0,Iu=0,$f=null,zr=null,I0=!1,Dp=0,F2=0,Lp=1/0,Vp=null,Gs=null,Gn=0,Ks=null,ku=null,es=0,k0=0,P0=null,H2=null,Uf=0,N0=null;function ai(){return(Ht&2)!==0&&Tt!==0?Tt&-Tt:F.T!==null?V0():Ql()}function G2(){if(ii===0)if((Tt&536870912)===0||Rt){var a=Ue;Ue<<=1,(Ue&3932160)===0&&(Ue=262144),ii=a}else ii=536870912;return a=ti.current,a!==null&&(a.flags|=32),ii}function Fr(a,o,u){(a===on&&(Qt===2||Qt===9)||a.cancelPendingCommit!==null)&&(Pu(a,0),Ws(a,Tt,ii,!1)),Yr(a,u),((Ht&2)===0||a!==on)&&(a===on&&((Ht&2)===0&&(ll|=u),On===4&&Ws(a,Tt,ii,!1)),ya(a))}function K2(a,o,u){if((Ht&6)!==0)throw Error(r(327));var d=!u&&(o&127)===0&&(o&a.expiredLanes)===0||jt(a,o),y=d?iU(a,o):j0(a,o,!0),b=d;do{if(y===0){Cu&&!d&&Ws(a,o,0,!1);break}else{if(u=a.current.alternate,b&&!nU(u)){y=j0(a,o,!1),b=!1;continue}if(y===2){if(b=o,a.errorRecoveryDisabledLanes&b)var N=0;else N=a.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){o=N;e:{var q=a;y=$f;var K=q.current.memoizedState.isDehydrated;if(K&&(Pu(q,N).flags|=256),N=j0(q,N,!1),N!==2){if(O0&&!K){q.errorRecoveryDisabledLanes|=b,ll|=b,y=4;break e}b=zr,zr=y,b!==null&&(zr===null?zr=b:zr.push.apply(zr,b))}y=N}if(b=!1,y!==2)continue}}if(y===1){Pu(a,0),Ws(a,o,0,!0);break}e:{switch(d=a,b=y,b){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Ws(d,o,ii,!Fs);break e;case 2:zr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=Dp+300-Ie(),10<y)){if(Ws(d,o,ii,!Fs),pt(d,0,!0)!==0)break e;es=o,d.timeoutHandle=EC(W2.bind(null,d,u,zr,Vp,I0,o,ii,ll,Iu,Fs,b,"Throttled",-0,0),y);break e}W2(d,u,zr,Vp,I0,o,ii,ll,Iu,Fs,b,null,-0,0)}}break}while(!0);ya(a)}function W2(a,o,u,d,y,b,N,q,K,ae,fe,ge,se,ce){if(a.timeoutHandle=-1,ge=o.subtreeFlags,ge&8192||(ge&16785408)===16785408){ge={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ui},U2(o,b,ge);var Ve=(b&62914560)===b?Dp-Ie():(b&4194048)===b?F2-Ie():0;if(Ve=UU(ge,Ve),Ve!==null){es=b,a.cancelPendingCommit=Ve(nC.bind(null,a,o,b,u,d,y,N,q,K,fe,ge,null,se,ce)),Ws(a,b,N,!ae);return}}nC(a,o,b,u,d,y,N,q,K)}function nU(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var y=u[d],b=y.getSnapshot;y=y.value;try{if(!Zr(b(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ws(a,o,u,d){o&=~C0,o&=~ll,a.suspendedLanes|=o,a.pingedLanes&=~o,d&&(a.warmLanes|=o),d=a.expirationTimes;for(var y=o;0<y;){var b=31-ot(y),N=1<<b;d[b]=-1,y&=~N}u!==0&&Ma(a,u,o)}function $p(){return(Ht&6)===0?(Bf(0),!1):!0}function R0(){if(wt!==null){if(Qt===0)var a=wt.return;else a=wt,za=Zo=null,Yv(a),_u=null,Sf=0,a=wt;for(;a!==null;)T2(a.alternate,a),a=a.return;wt=null}}function Pu(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,wU(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),es=0,R0(),on=a,wt=u=Ba(a.current,null),Tt=o,Qt=0,ri=null,Fs=!1,Cu=jt(a,o),O0=!1,Iu=ii=C0=ll=Hs=On=0,zr=$f=null,I0=!1,(o&8)!==0&&(o|=o&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=o;0<d;){var y=31-ot(d),b=1<<y;o|=a[y],d&=~b}return Za=o,sp(),u}function Y2(a,o){yt=null,F.H=Pf,o===xu||o===pp?(o=fO(),Qt=3):o===Lv?(o=fO(),Qt=4):Qt=o===f0?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ri=o,wt===null&&(On=1,Cp(a,wi(o,a.current)))}function X2(){var a=ti.current;return a===null?!0:(Tt&4194048)===Tt?Ai===null:(Tt&62914560)===Tt||(Tt&536870912)!==0?a===Ai:!1}function Q2(){var a=F.H;return F.H=Pf,a===null?Pf:a}function J2(){var a=F.A;return F.A=eU,a}function Up(){On=4,Fs||(Tt&4194048)!==Tt&&ti.current!==null||(Cu=!0),(Hs&134217727)===0&&(ll&134217727)===0||on===null||Ws(on,Tt,ii,!1)}function j0(a,o,u){var d=Ht;Ht|=2;var y=Q2(),b=J2();(on!==a||Tt!==o)&&(Vp=null,Pu(a,o)),o=!1;var N=On;e:do try{if(Qt!==0&&wt!==null){var q=wt,K=ri;switch(Qt){case 8:R0(),N=6;break e;case 3:case 2:case 9:case 6:ti.current===null&&(o=!0);var ae=Qt;if(Qt=0,ri=null,Nu(a,q,K,ae),u&&Cu){N=0;break e}break;default:ae=Qt,Qt=0,ri=null,Nu(a,q,K,ae)}}rU(),N=On;break}catch(fe){Y2(a,fe)}while(!0);return o&&a.shellSuspendCounter++,za=Zo=null,Ht=d,F.H=y,F.A=b,wt===null&&(on=null,Tt=0,sp()),N}function rU(){for(;wt!==null;)Z2(wt)}function iU(a,o){var u=Ht;Ht|=2;var d=Q2(),y=J2();on!==a||Tt!==o?(Vp=null,Lp=Ie()+500,Pu(a,o)):Cu=jt(a,o);e:do try{if(Qt!==0&&wt!==null){o=wt;var b=ri;t:switch(Qt){case 1:Qt=0,ri=null,Nu(a,o,b,1);break;case 2:case 9:if(uO(b)){Qt=0,ri=null,eC(o);break}o=function(){Qt!==2&&Qt!==9||on!==a||(Qt=7),ya(a)},b.then(o,o);break e;case 3:Qt=7;break e;case 4:Qt=5;break e;case 7:uO(b)?(Qt=0,ri=null,eC(o)):(Qt=0,ri=null,Nu(a,o,b,7));break;case 5:var N=null;switch(wt.tag){case 26:N=wt.memoizedState;case 5:case 27:var q=wt;if(N?$C(N):q.stateNode.complete){Qt=0,ri=null;var K=q.sibling;if(K!==null)wt=K;else{var ae=q.return;ae!==null?(wt=ae,Bp(ae)):wt=null}break t}}Qt=0,ri=null,Nu(a,o,b,5);break;case 6:Qt=0,ri=null,Nu(a,o,b,6);break;case 8:R0(),On=6;break e;default:throw Error(r(462))}}aU();break}catch(fe){Y2(a,fe)}while(!0);return za=Zo=null,F.H=d,F.A=y,Ht=u,wt!==null?0:(on=null,Tt=0,sp(),On)}function aU(){for(;wt!==null&&!Dt();)Z2(wt)}function Z2(a){var o=S2(a.alternate,a,Za);a.memoizedProps=a.pendingProps,o===null?Bp(a):wt=o}function eC(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=y2(u,o,o.pendingProps,o.type,void 0,Tt);break;case 11:o=y2(u,o,o.pendingProps,o.type.render,o.ref,Tt);break;case 5:Yv(o);default:T2(u,o),o=wt=JA(o,Za),o=S2(u,o,Za)}a.memoizedProps=a.pendingProps,o===null?Bp(a):wt=o}function Nu(a,o,u,d){za=Zo=null,Yv(o),_u=null,Sf=0;var y=o.return;try{if(K$(a,y,o,u,Tt)){On=1,Cp(a,wi(u,a.current)),wt=null;return}}catch(b){if(y!==null)throw wt=y,b;On=1,Cp(a,wi(u,a.current)),wt=null;return}o.flags&32768?(Rt||d===1?a=!0:Cu||(Tt&536870912)!==0?a=!1:(Fs=a=!0,(d===2||d===9||d===3||d===6)&&(d=ti.current,d!==null&&d.tag===13&&(d.flags|=16384))),tC(o,a)):Bp(o)}function Bp(a){var o=a;do{if((o.flags&32768)!==0){tC(o,Fs);return}a=o.return;var u=X$(o.alternate,o,Za);if(u!==null){wt=u;return}if(o=o.sibling,o!==null){wt=o;return}wt=o=a}while(o!==null);On===0&&(On=5)}function tC(a,o){do{var u=Q$(a.alternate,a);if(u!==null){u.flags&=32767,wt=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){wt=a;return}wt=a=u}while(a!==null);On=6,wt=null}function nC(a,o,u,d,y,b,N,q,K){a.cancelPendingCommit=null;do qp();while(Gn!==0);if((Ht&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(b=o.lanes|o.childLanes,b|=wv,sf(a,u,b,N,q,K),a===on&&(wt=on=null,Tt=0),ku=o,Ks=a,es=u,k0=b,P0=y,H2=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,uU(Zt,function(){return oC(),null})):(a.callbackNode=null,a.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=F.T,F.T=null,y=Y.p,Y.p=2,N=Ht,Ht|=4;try{J$(a,o,u)}finally{Ht=N,Y.p=y,F.T=d}}Gn=1,rC(),iC(),aC()}}function rC(){if(Gn===1){Gn=0;var a=Ks,o=ku,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=F.T,F.T=null;var d=Y.p;Y.p=2;var y=Ht;Ht|=4;try{L2(o,a);var b=G0,N=zA(a.containerInfo),q=b.focusedElem,K=b.selectionRange;if(N!==q&&q&&q.ownerDocument&&qA(q.ownerDocument.documentElement,q)){if(K!==null&&yv(q)){var ae=K.start,fe=K.end;if(fe===void 0&&(fe=ae),"selectionStart"in q)q.selectionStart=ae,q.selectionEnd=Math.min(fe,q.value.length);else{var ge=q.ownerDocument||document,se=ge&&ge.defaultView||window;if(se.getSelection){var ce=se.getSelection(),Ve=q.textContent.length,et=Math.min(K.start,Ve),an=K.end===void 0?et:Math.min(K.end,Ve);!ce.extend&&et>an&&(N=an,an=et,et=N);var Z=BA(q,et),X=BA(q,an);if(Z&&X&&(ce.rangeCount!==1||ce.anchorNode!==Z.node||ce.anchorOffset!==Z.offset||ce.focusNode!==X.node||ce.focusOffset!==X.offset)){var re=ge.createRange();re.setStart(Z.node,Z.offset),ce.removeAllRanges(),et>an?(ce.addRange(re),ce.extend(X.node,X.offset)):(re.setEnd(X.node,X.offset),ce.addRange(re))}}}}for(ge=[],ce=q;ce=ce.parentNode;)ce.nodeType===1&&ge.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<ge.length;q++){var pe=ge[q];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}em=!!H0,G0=H0=null}finally{Ht=y,Y.p=d,F.T=u}}a.current=o,Gn=2}}function iC(){if(Gn===2){Gn=0;var a=Ks,o=ku,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=F.T,F.T=null;var d=Y.p;Y.p=2;var y=Ht;Ht|=4;try{N2(a,o.alternate,o)}finally{Ht=y,Y.p=d,F.T=u}}Gn=3}}function aC(){if(Gn===4||Gn===3){Gn=0,En();var a=Ks,o=ku,u=es,d=H2;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Gn=5:(Gn=0,ku=Ks=null,sC(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(Gs=null),Li(u),o=o.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(Ae,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=F.T,y=Y.p,Y.p=2,F.T=null;try{for(var b=a.onRecoverableError,N=0;N<d.length;N++){var q=d[N];b(q.value,{componentStack:q.stack})}}finally{F.T=o,Y.p=y}}(es&3)!==0&&qp(),ya(a),y=a.pendingLanes,(u&261930)!==0&&(y&42)!==0?a===N0?Uf++:(Uf=0,N0=a):Uf=0,Bf(0)}}function sC(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,_f(o)))}function qp(){return rC(),iC(),aC(),oC()}function oC(){if(Gn!==5)return!1;var a=Ks,o=k0;k0=0;var u=Li(es),d=F.T,y=Y.p;try{Y.p=32>u?32:u,F.T=null,u=P0,P0=null;var b=Ks,N=es;if(Gn=0,ku=Ks=null,es=0,(Ht&6)!==0)throw Error(r(331));var q=Ht;if(Ht|=4,q2(b.current),$2(b,b.current,N,u),Ht=q,Bf(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(Ae,b)}catch{}return!0}finally{Y.p=y,F.T=d,sC(a,o)}}function lC(a,o,u){o=wi(u,o),o=c0(a.stateNode,o,2),a=Us(a,o,2),a!==null&&(Yr(a,2),ya(a))}function Jt(a,o,u){if(a.tag===3)lC(a,a,u);else for(;o!==null;){if(o.tag===3){lC(o,a,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Gs===null||!Gs.has(d))){a=wi(u,a),u=u2(2),d=Us(o,u,2),d!==null&&(c2(u,d,o,a),Yr(d,2),ya(d));break}}o=o.return}}function M0(a,o,u){var d=a.pingCache;if(d===null){d=a.pingCache=new tU;var y=new Set;d.set(o,y)}else y=d.get(o),y===void 0&&(y=new Set,d.set(o,y));y.has(u)||(O0=!0,y.add(u),a=sU.bind(null,a,o,u),o.then(a,a))}function sU(a,o,u){var d=a.pingCache;d!==null&&d.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,on===a&&(Tt&u)===u&&(On===4||On===3&&(Tt&62914560)===Tt&&300>Ie()-Dp?(Ht&2)===0&&Pu(a,0):C0|=u,Iu===Tt&&(Iu=0)),ya(a)}function uC(a,o){o===0&&(o=Vr()),a=Xo(a,o),a!==null&&(Yr(a,o),ya(a))}function oU(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),uC(a,u)}function lU(a,o){var u=0;switch(a.tag){case 31:case 13:var d=a.stateNode,y=a.memoizedState;y!==null&&(u=y.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(o),uC(a,u)}function uU(a,o){return qe(a,o)}var zp=null,Ru=null,D0=!1,Fp=!1,L0=!1,Ys=0;function ya(a){a!==Ru&&a.next===null&&(Ru===null?zp=Ru=a:Ru=Ru.next=a),Fp=!0,D0||(D0=!0,fU())}function Bf(a,o){if(!L0&&Fp){L0=!0;do for(var u=!1,d=zp;d!==null;){if(a!==0){var y=d.pendingLanes;if(y===0)var b=0;else{var N=d.suspendedLanes,q=d.pingedLanes;b=(1<<31-ot(42|a)+1)-1,b&=y&~(N&~q),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,dC(d,b))}else b=Tt,b=pt(d,d===on?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||jt(d,b)||(u=!0,dC(d,b));d=d.next}while(u);L0=!1}}function cU(){cC()}function cC(){Fp=D0=!1;var a=0;Ys!==0&&_U()&&(a=Ys);for(var o=Ie(),u=null,d=zp;d!==null;){var y=d.next,b=fC(d,o);b===0?(d.next=null,u===null?zp=y:u.next=y,y===null&&(Ru=u)):(u=d,(a!==0||(b&3)!==0)&&(Fp=!0)),d=y}Gn!==0&&Gn!==5||Bf(a),Ys!==0&&(Ys=0)}function fC(a,o){for(var u=a.suspendedLanes,d=a.pingedLanes,y=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var N=31-ot(b),q=1<<N,K=y[N];K===-1?((q&u)===0||(q&d)!==0)&&(y[N]=or(q,o)):K<=o&&(a.expiredLanes|=q),b&=~q}if(o=on,u=Tt,u=pt(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d=a.callbackNode,u===0||a===o&&(Qt===2||Qt===9)||a.cancelPendingCommit!==null)return d!==null&&d!==null&&_t(d),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||jt(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(d!==null&&_t(d),Li(u)){case 2:case 8:u=Vt;break;case 32:u=Zt;break;case 268435456:u=bn;break;default:u=Zt}return d=hC.bind(null,a),u=qe(u,d),a.callbackPriority=o,a.callbackNode=u,o}return d!==null&&d!==null&&_t(d),a.callbackPriority=2,a.callbackNode=null,2}function hC(a,o){if(Gn!==0&&Gn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(qp()&&a.callbackNode!==u)return null;var d=Tt;return d=pt(a,a===on?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d===0?null:(K2(a,d,o),fC(a,Ie()),a.callbackNode!=null&&a.callbackNode===u?hC.bind(null,a):null)}function dC(a,o){if(qp())return null;K2(a,o,!0)}function fU(){SU(function(){(Ht&6)!==0?qe(xt,cU):cC()})}function V0(){if(Ys===0){var a=vu;a===0&&(a=$t,$t<<=1,($t&261888)===0&&($t=256)),Ys=a}return Ys}function pC(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:ru(""+a)}function mC(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function hU(a,o,u,d,y){if(o==="submit"&&u&&u.stateNode===y){var b=pC((y[Pn]||null).action),N=d.submitter;N&&(o=(o=N[Pn]||null)?pC(o.formAction):N.getAttribute("formAction"),o!==null&&(b=o,N=null));var q=new ca("action","action",null,d,y);a.push({event:q,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ys!==0){var K=N?mC(y,N):new FormData(y);i0(u,{pending:!0,data:K,method:y.method,action:b},null,K)}}else typeof b=="function"&&(q.preventDefault(),K=N?mC(y,N):new FormData(y),i0(u,{pending:!0,data:K,method:y.method,action:b},b,K))},currentTarget:y}]})}}for(var $0=0;$0<_v.length;$0++){var U0=_v[$0],dU=U0.toLowerCase(),pU=U0[0].toUpperCase()+U0.slice(1);Hi(dU,"on"+pU)}Hi(GA,"onAnimationEnd"),Hi(KA,"onAnimationIteration"),Hi(WA,"onAnimationStart"),Hi("dblclick","onDoubleClick"),Hi("focusin","onFocus"),Hi("focusout","onBlur"),Hi(k$,"onTransitionRun"),Hi(P$,"onTransitionStart"),Hi(N$,"onTransitionCancel"),Hi(YA,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),Jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qf));function gC(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var d=a[u],y=d.event;d=d.listeners;e:{var b=void 0;if(o)for(var N=d.length-1;0<=N;N--){var q=d[N],K=q.instance,ae=q.currentTarget;if(q=q.listener,K!==b&&y.isPropagationStopped())break e;b=q,y.currentTarget=ae;try{b(y)}catch(fe){ap(fe)}y.currentTarget=null,b=K}else for(N=0;N<d.length;N++){if(q=d[N],K=q.instance,ae=q.currentTarget,q=q.listener,K!==b&&y.isPropagationStopped())break e;b=q,y.currentTarget=ae;try{b(y)}catch(fe){ap(fe)}y.currentTarget=null,b=K}}}}function St(a,o){var u=o[Vi];u===void 0&&(u=o[Vi]=new Set);var d=a+"__bubble";u.has(d)||(yC(o,a,2,!1),u.add(d))}function B0(a,o,u){var d=0;o&&(d|=4),yC(u,a,d,o)}var Hp="_reactListening"+Math.random().toString(36).slice(2);function q0(a){if(!a[Hp]){a[Hp]=!0,Do.forEach(function(u){u!=="selectionchange"&&(mU.has(u)||B0(u,!1,a),B0(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Hp]||(o[Hp]=!0,B0("selectionchange",!1,o))}}function yC(a,o,u,d){switch(GC(o)){case 2:var y=zU;break;case 8:y=FU;break;default:y=rb}u=y.bind(null,o,u,a),y=void 0,!qo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),d?y!==void 0?a.addEventListener(o,u,{capture:!0,passive:y}):a.addEventListener(o,u,!0):y!==void 0?a.addEventListener(o,u,{passive:y}):a.addEventListener(o,u,!1)}function z0(a,o,u,d,y){var b=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var N=d.tag;if(N===3||N===4){var q=d.stateNode.containerInfo;if(q===y)break;if(N===4)for(N=d.return;N!==null;){var K=N.tag;if((K===3||K===4)&&N.stateNode.containerInfo===y)return;N=N.return}for(;q!==null;){if(N=br(q),N===null)return;if(K=N.tag,K===5||K===6||K===26||K===27){d=b=N;continue e}q=q.parentNode}}d=d.return}ks(function(){var ae=b,fe=vi(u),ge=[];e:{var se=XA.get(a);if(se!==void 0){var ce=ca,Ve=a;switch(a){case"keypress":if(Fo(u)===0)break e;case"keydown":case"keyup":ce=np;break;case"focusin":Ve="focus",ce=Go;break;case"focusout":Ve="blur",ce=Go;break;case"beforeblur":case"afterblur":ce=Go;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=df;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Kd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=T;break;case GA:case KA:case WA:ce=Yd;break;case YA:ce=z;break;case"scroll":case"scrollend":ce=hf;break;case"wheel":ce=le;break;case"copy":case"cut":case"paste":ce=Xd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=Ua;break;case"toggle":case"beforetoggle":ce=gt}var et=(o&4)!==0,an=!et&&(a==="scroll"||a==="scrollend"),Z=et?se!==null?se+"Capture":null:se;et=[];for(var X=ae,re;X!==null;){var pe=X;if(re=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||re===null||Z===null||(pe=Bi(X,Z),pe!=null&&et.push(zf(X,pe,re))),an)break;X=X.return}0<et.length&&(se=new ce(se,Ve,null,u,fe),ge.push({event:se,listeners:et}))}}if((o&7)===0){e:{if(se=a==="mouseover"||a==="pointerover",ce=a==="mouseout"||a==="pointerout",se&&u!==uf&&(Ve=u.relatedTarget||u.fromElement)&&(br(Ve)||Ve[$r]))break e;if((ce||se)&&(se=fe.window===fe?fe:(se=fe.ownerDocument)?se.defaultView||se.parentWindow:window,ce?(Ve=u.relatedTarget||u.toElement,ce=ae,Ve=Ve?br(Ve):null,Ve!==null&&(an=s(Ve),et=Ve.tag,Ve!==an||et!==5&&et!==27&&et!==6)&&(Ve=null)):(ce=null,Ve=ae),ce!==Ve)){if(et=df,pe="onMouseLeave",Z="onMouseEnter",X="mouse",(a==="pointerout"||a==="pointerover")&&(et=Ua,pe="onPointerLeave",Z="onPointerEnter",X="pointer"),an=ce==null?se:kr(ce),re=Ve==null?se:kr(Ve),se=new et(pe,X+"leave",ce,u,fe),se.target=an,se.relatedTarget=re,pe=null,br(fe)===ae&&(et=new et(Z,X+"enter",Ve,u,fe),et.target=re,et.relatedTarget=an,pe=et),an=pe,ce&&Ve)t:{for(et=gU,Z=ce,X=Ve,re=0,pe=Z;pe;pe=et(pe))re++;pe=0;for(var Xe=X;Xe;Xe=et(Xe))pe++;for(;0<re-pe;)Z=et(Z),re--;for(;0<pe-re;)X=et(X),pe--;for(;re--;){if(Z===X||X!==null&&Z===X.alternate){et=Z;break t}Z=et(Z),X=et(X)}et=null}else et=null;ce!==null&&vC(ge,se,ce,et,!1),Ve!==null&&an!==null&&vC(ge,an,Ve,et,!0)}}e:{if(se=ae?kr(ae):window,ce=se.nodeName&&se.nodeName.toLowerCase(),ce==="select"||ce==="input"&&se.type==="file")var Ut=MA;else if(RA(se))if(DA)Ut=O$;else{Ut=T$;var ze=E$}else ce=se.nodeName,!ce||ce.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?ae&&nu(ae.elementType)&&(Ut=MA):Ut=A$;if(Ut&&(Ut=Ut(a,ae))){jA(ge,Ut,u,fe);break e}ze&&ze(a,se,ae),a==="focusout"&&ae&&se.type==="number"&&ae.memoizedProps.value!=null&&_r(se,"number",se.value)}switch(ze=ae?kr(ae):window,a){case"focusin":(RA(ze)||ze.contentEditable==="true")&&(cu=ze,vv=ae,vf=null);break;case"focusout":vf=vv=cu=null;break;case"mousedown":bv=!0;break;case"contextmenu":case"mouseup":case"dragend":bv=!1,FA(ge,u,fe);break;case"selectionchange":if(I$)break;case"keydown":case"keyup":FA(ge,u,fe)}var vt;if(Ft)e:{switch(a){case"compositionstart":var At="onCompositionStart";break e;case"compositionend":At="onCompositionEnd";break e;case"compositionupdate":At="onCompositionUpdate";break e}At=void 0}else uu?Ko(a,u)&&(At="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(At="onCompositionStart");At&&(da&&u.locale!=="ko"&&(uu||At!=="onCompositionStart"?At==="onCompositionEnd"&&uu&&(vt=ff()):(ua=fe,cf="value"in ua?ua.value:ua.textContent,uu=!0)),ze=Gp(ae,At),0<ze.length&&(At=new ha(At,a,null,u,fe),ge.push({event:At,listeners:ze}),vt?At.data=vt:(vt=lu(u),vt!==null&&(At.data=vt)))),(vt=xi?x$(a,u):_$(a,u))&&(At=Gp(ae,"onBeforeInput"),0<At.length&&(ze=new ha("onBeforeInput","beforeinput",null,u,fe),ge.push({event:ze,listeners:At}),ze.data=vt)),hU(ge,a,ae,u,fe)}gC(ge,o)})}function zf(a,o,u){return{instance:a,listener:o,currentTarget:u}}function Gp(a,o){for(var u=o+"Capture",d=[];a!==null;){var y=a,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=Bi(a,u),y!=null&&d.unshift(zf(a,y,b)),y=Bi(a,o),y!=null&&d.push(zf(a,y,b))),a.tag===3)return d;a=a.return}return[]}function gU(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function vC(a,o,u,d,y){for(var b=o._reactName,N=[];u!==null&&u!==d;){var q=u,K=q.alternate,ae=q.stateNode;if(q=q.tag,K!==null&&K===d)break;q!==5&&q!==26&&q!==27||ae===null||(K=ae,y?(ae=Bi(u,b),ae!=null&&N.unshift(zf(u,ae,K))):y||(ae=Bi(u,b),ae!=null&&N.push(zf(u,ae,K)))),u=u.return}N.length!==0&&a.push({event:o,listeners:N})}var yU=/\r\n?/g,vU=/\u0000|\uFFFD/g;function bC(a){return(typeof a=="string"?a:""+a).replace(yU,`
`).replace(vU,"")}function xC(a,o){return o=bC(o),bC(a)===o}function rn(a,o,u,d,y,b){switch(u){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||lr(a,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&lr(a,""+d);break;case"className":Pr(a,"class",d);break;case"tabIndex":Pr(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Pr(a,u,d);break;case"style":lf(a,d,b);break;case"data":if(o!=="object"){Pr(a,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(u);break}d=ru(""+d),a.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(o!=="input"&&rn(a,o,"name",y.name,y,null),rn(a,o,"formEncType",y.formEncType,y,null),rn(a,o,"formMethod",y.formMethod,y,null),rn(a,o,"formTarget",y.formTarget,y,null)):(rn(a,o,"encType",y.encType,y,null),rn(a,o,"method",y.method,y,null),rn(a,o,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(u);break}d=ru(""+d),a.setAttribute(u,d);break;case"onClick":d!=null&&(a.onclick=Ui);break;case"onScroll":d!=null&&St("scroll",a);break;case"onScrollEnd":d!=null&&St("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}u=ru(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,""+d):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":d===!0?a.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,d):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(u,d):a.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(u):a.setAttribute(u,d);break;case"popover":St("beforetoggle",a),St("toggle",a),Os(a,"popover",d);break;case"xlinkActuate":Tn(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Tn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Tn(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Tn(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Tn(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Tn(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Tn(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Tn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Tn(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Os(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Gd.get(u)||u,Os(a,u,d))}}function F0(a,o,u,d,y,b){switch(u){case"style":lf(a,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof d=="string"?lr(a,d):(typeof d=="number"||typeof d=="bigint")&&lr(a,""+d);break;case"onScroll":d!=null&&St("scroll",a);break;case"onScrollEnd":d!=null&&St("scrollend",a);break;case"onClick":d!=null&&(a.onclick=Ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!La.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),b=a[Pn]||null,b=b!=null?b[u]:null,typeof b=="function"&&a.removeEventListener(o,b,y),typeof d=="function")){typeof b!="function"&&b!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,d,y);break e}u in a?a[u]=d:d===!0?a.setAttribute(u,""):Os(a,u,d)}}}function dr(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":St("error",a),St("load",a);var d=!1,y=!1,b;for(b in u)if(u.hasOwnProperty(b)){var N=u[b];if(N!=null)switch(b){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:rn(a,o,b,N,u,null)}}y&&rn(a,o,"srcSet",u.srcSet,u,null),d&&rn(a,o,"src",u.src,u,null);return;case"input":St("invalid",a);var q=b=N=y=null,K=null,ae=null;for(d in u)if(u.hasOwnProperty(d)){var fe=u[d];if(fe!=null)switch(d){case"name":y=fe;break;case"type":N=fe;break;case"checked":K=fe;break;case"defaultChecked":ae=fe;break;case"value":b=fe;break;case"defaultValue":q=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,o));break;default:rn(a,o,d,fe,u,null)}}Lt(a,b,q,K,ae,N,y,!1);return;case"select":St("invalid",a),d=N=b=null;for(y in u)if(u.hasOwnProperty(y)&&(q=u[y],q!=null))switch(y){case"value":b=q;break;case"defaultValue":N=q;break;case"multiple":d=q;default:rn(a,o,y,q,u,null)}o=b,u=N,a.multiple=!!d,o!=null?sa(a,!!d,o,!1):u!=null&&sa(a,!!d,u,!0);return;case"textarea":St("invalid",a),b=y=d=null;for(N in u)if(u.hasOwnProperty(N)&&(q=u[N],q!=null))switch(N){case"value":d=q;break;case"defaultValue":y=q;break;case"children":b=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(91));break;default:rn(a,o,N,q,u,null)}oa(a,d,y,b);return;case"option":for(K in u)if(u.hasOwnProperty(K)&&(d=u[K],d!=null))switch(K){case"selected":a.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:rn(a,o,K,d,u,null)}return;case"dialog":St("beforetoggle",a),St("toggle",a),St("cancel",a),St("close",a);break;case"iframe":case"object":St("load",a);break;case"video":case"audio":for(d=0;d<qf.length;d++)St(qf[d],a);break;case"image":St("error",a),St("load",a);break;case"details":St("toggle",a);break;case"embed":case"source":case"link":St("error",a),St("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in u)if(u.hasOwnProperty(ae)&&(d=u[ae],d!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:rn(a,o,ae,d,u,null)}return;default:if(nu(o)){for(fe in u)u.hasOwnProperty(fe)&&(d=u[fe],d!==void 0&&F0(a,o,fe,d,u,void 0));return}}for(q in u)u.hasOwnProperty(q)&&(d=u[q],d!=null&&rn(a,o,q,d,u,null))}function bU(a,o,u,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,N=null,q=null,K=null,ae=null,fe=null;for(ce in u){var ge=u[ce];if(u.hasOwnProperty(ce)&&ge!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":K=ge;default:d.hasOwnProperty(ce)||rn(a,o,ce,null,d,ge)}}for(var se in d){var ce=d[se];if(ge=u[se],d.hasOwnProperty(se)&&(ce!=null||ge!=null))switch(se){case"type":b=ce;break;case"name":y=ce;break;case"checked":ae=ce;break;case"defaultChecked":fe=ce;break;case"value":N=ce;break;case"defaultValue":q=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,o));break;default:ce!==ge&&rn(a,o,se,ce,d,ge)}}mt(a,N,q,K,ae,fe,b,y);return;case"select":ce=N=q=se=null;for(b in u)if(K=u[b],u.hasOwnProperty(b)&&K!=null)switch(b){case"value":break;case"multiple":ce=K;default:d.hasOwnProperty(b)||rn(a,o,b,null,d,K)}for(y in d)if(b=d[y],K=u[y],d.hasOwnProperty(y)&&(b!=null||K!=null))switch(y){case"value":se=b;break;case"defaultValue":q=b;break;case"multiple":N=b;default:b!==K&&rn(a,o,y,b,d,K)}o=q,u=N,d=ce,se!=null?sa(a,!!u,se,!1):!!d!=!!u&&(o!=null?sa(a,!!u,o,!0):sa(a,!!u,u?[]:"",!1));return;case"textarea":ce=se=null;for(q in u)if(y=u[q],u.hasOwnProperty(q)&&y!=null&&!d.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:rn(a,o,q,null,d,y)}for(N in d)if(y=d[N],b=u[N],d.hasOwnProperty(N)&&(y!=null||b!=null))switch(N){case"value":se=y;break;case"defaultValue":ce=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==b&&rn(a,o,N,y,d,b)}tu(a,se,ce);return;case"option":for(var Ve in u)if(se=u[Ve],u.hasOwnProperty(Ve)&&se!=null&&!d.hasOwnProperty(Ve))switch(Ve){case"selected":a.selected=!1;break;default:rn(a,o,Ve,null,d,se)}for(K in d)if(se=d[K],ce=u[K],d.hasOwnProperty(K)&&se!==ce&&(se!=null||ce!=null))switch(K){case"selected":a.selected=se&&typeof se!="function"&&typeof se!="symbol";break;default:rn(a,o,K,se,d,ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var et in u)se=u[et],u.hasOwnProperty(et)&&se!=null&&!d.hasOwnProperty(et)&&rn(a,o,et,null,d,se);for(ae in d)if(se=d[ae],ce=u[ae],d.hasOwnProperty(ae)&&se!==ce&&(se!=null||ce!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,o));break;default:rn(a,o,ae,se,d,ce)}return;default:if(nu(o)){for(var an in u)se=u[an],u.hasOwnProperty(an)&&se!==void 0&&!d.hasOwnProperty(an)&&F0(a,o,an,void 0,d,se);for(fe in d)se=d[fe],ce=u[fe],!d.hasOwnProperty(fe)||se===ce||se===void 0&&ce===void 0||F0(a,o,fe,se,d,ce);return}}for(var Z in u)se=u[Z],u.hasOwnProperty(Z)&&se!=null&&!d.hasOwnProperty(Z)&&rn(a,o,Z,null,d,se);for(ge in d)se=d[ge],ce=u[ge],!d.hasOwnProperty(ge)||se===ce||se==null&&ce==null||rn(a,o,ge,se,d,ce)}function _C(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xU(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,u=performance.getEntriesByType("resource"),d=0;d<u.length;d++){var y=u[d],b=y.transferSize,N=y.initiatorType,q=y.duration;if(b&&q&&_C(N)){for(N=0,q=y.responseEnd,d+=1;d<u.length;d++){var K=u[d],ae=K.startTime;if(ae>q)break;var fe=K.transferSize,ge=K.initiatorType;fe&&_C(ge)&&(K=K.responseEnd,N+=fe*(K<q?1:(q-ae)/(K-ae)))}if(--d,o+=8*(b+N)/(y.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var H0=null,G0=null;function Kp(a){return a.nodeType===9?a:a.ownerDocument}function wC(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function SC(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function K0(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var W0=null;function _U(){var a=window.event;return a&&a.type==="popstate"?a===W0?!1:(W0=a,!0):(W0=null,!1)}var EC=typeof setTimeout=="function"?setTimeout:void 0,wU=typeof clearTimeout=="function"?clearTimeout:void 0,TC=typeof Promise=="function"?Promise:void 0,SU=typeof queueMicrotask=="function"?queueMicrotask:typeof TC<"u"?function(a){return TC.resolve(null).then(a).catch(EU)}:EC;function EU(a){setTimeout(function(){throw a})}function Xs(a){return a==="head"}function AC(a,o){var u=o,d=0;do{var y=u.nextSibling;if(a.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"||u==="/&"){if(d===0){a.removeChild(y),Lu(o);return}d--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")d++;else if(u==="html")Ff(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,Ff(u);for(var b=u.firstChild;b;){var N=b.nextSibling,q=b.nodeName;b[mi]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=N}}else u==="body"&&Ff(a.ownerDocument.body);u=y}while(u);Lu(o)}function OC(a,o){var u=a;a=0;do{var d=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),d&&d.nodeType===8)if(u=d.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=d}while(u)}function Y0(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Y0(u),$i(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function TU(a,o,u,d){for(;a.nodeType===1;){var y=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[mi])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=Oi(a.nextSibling),a===null)break}return null}function AU(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Oi(a.nextSibling),a===null))return null;return a}function CC(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Oi(a.nextSibling),a===null))return null;return a}function X0(a){return a.data==="$?"||a.data==="$~"}function Q0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function OU(a,o){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||u.readyState!=="loading")o();else{var d=function(){o(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}function Oi(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var J0=null;function IC(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(o===0)return Oi(a.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}a=a.nextSibling}return null}function kC(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return a;o--}else u!=="/$"&&u!=="/&"||o++}a=a.previousSibling}return null}function PC(a,o,u){switch(o=Kp(u),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Ff(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);$i(a)}var Ci=new Map,NC=new Set;function Wp(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ts=Y.d;Y.d={f:CU,r:IU,D:kU,C:PU,L:NU,m:RU,X:MU,S:jU,M:DU};function CU(){var a=ts.f(),o=$p();return a||o}function IU(a){var o=xr(a);o!==null&&o.tag===5&&o.type==="form"?YO(o):ts.r(a)}var ju=typeof document>"u"?null:document;function RC(a,o,u){var d=ju;if(d&&typeof o=="string"&&o){var y=lt(o);y='link[rel="'+a+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),NC.has(y)||(NC.add(y),a={rel:a,crossOrigin:u,href:o},d.querySelector(y)===null&&(o=d.createElement("link"),dr(o,"link",a),xn(o),d.head.appendChild(o)))}}function kU(a){ts.D(a),RC("dns-prefetch",a,null)}function PU(a,o){ts.C(a,o),RC("preconnect",a,o)}function NU(a,o,u){ts.L(a,o,u);var d=ju;if(d&&a&&o){var y='link[rel="preload"][as="'+lt(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+lt(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+lt(u.imageSizes)+'"]')):y+='[href="'+lt(a)+'"]';var b=y;switch(o){case"style":b=Mu(a);break;case"script":b=Du(a)}Ci.has(b)||(a=m({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),Ci.set(b,a),d.querySelector(y)!==null||o==="style"&&d.querySelector(Hf(b))||o==="script"&&d.querySelector(Gf(b))||(o=d.createElement("link"),dr(o,"link",a),xn(o),d.head.appendChild(o)))}}function RU(a,o){ts.m(a,o);var u=ju;if(u&&a){var d=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+lt(d)+'"][href="'+lt(a)+'"]',b=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Du(a)}if(!Ci.has(b)&&(a=m({rel:"modulepreload",href:a},o),Ci.set(b,a),u.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Gf(b)))return}d=u.createElement("link"),dr(d,"link",a),xn(d),u.head.appendChild(d)}}}function jU(a,o,u){ts.S(a,o,u);var d=ju;if(d&&a){var y=gi(d).hoistableStyles,b=Mu(a);o=o||"default";var N=y.get(b);if(!N){var q={loading:0,preload:null};if(N=d.querySelector(Hf(b)))q.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":o},u),(u=Ci.get(b))&&Z0(a,u);var K=N=d.createElement("link");xn(K),dr(K,"link",a),K._p=new Promise(function(ae,fe){K.onload=ae,K.onerror=fe}),K.addEventListener("load",function(){q.loading|=1}),K.addEventListener("error",function(){q.loading|=2}),q.loading|=4,Yp(N,o,d)}N={type:"stylesheet",instance:N,count:1,state:q},y.set(b,N)}}}function MU(a,o){ts.X(a,o);var u=ju;if(u&&a){var d=gi(u).hoistableScripts,y=Du(a),b=d.get(y);b||(b=u.querySelector(Gf(y)),b||(a=m({src:a,async:!0},o),(o=Ci.get(y))&&eb(a,o),b=u.createElement("script"),xn(b),dr(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(y,b))}}function DU(a,o){ts.M(a,o);var u=ju;if(u&&a){var d=gi(u).hoistableScripts,y=Du(a),b=d.get(y);b||(b=u.querySelector(Gf(y)),b||(a=m({src:a,async:!0,type:"module"},o),(o=Ci.get(y))&&eb(a,o),b=u.createElement("script"),xn(b),dr(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(y,b))}}function jC(a,o,u,d){var y=(y=Se.current)?Wp(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Mu(u.href),u=gi(y).hoistableStyles,d=u.get(o),d||(d={type:"style",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Mu(u.href);var b=gi(y).hoistableStyles,N=b.get(a);if(N||(y=y.ownerDocument||y,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,N),(b=y.querySelector(Hf(a)))&&!b._p&&(N.instance=b,N.state.loading=5),Ci.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ci.set(a,u),b||LU(y,a,u,N.state))),o&&d===null)throw Error(r(528,""));return N}if(o&&d!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Du(u),u=gi(y).hoistableScripts,d=u.get(o),d||(d={type:"script",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Mu(a){return'href="'+lt(a)+'"'}function Hf(a){return'link[rel="stylesheet"]['+a+"]"}function MC(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function LU(a,o,u,d){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=a.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),dr(o,"link",u),xn(o),a.head.appendChild(o))}function Du(a){return'[src="'+lt(a)+'"]'}function Gf(a){return"script[async]"+a}function DC(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var d=a.querySelector('style[data-href~="'+lt(u.href)+'"]');if(d)return o.instance=d,xn(d),d;var y=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),xn(d),dr(d,"style",y),Yp(d,u.precedence,a),o.instance=d;case"stylesheet":y=Mu(u.href);var b=a.querySelector(Hf(y));if(b)return o.state.loading|=4,o.instance=b,xn(b),b;d=MC(u),(y=Ci.get(y))&&Z0(d,y),b=(a.ownerDocument||a).createElement("link"),xn(b);var N=b;return N._p=new Promise(function(q,K){N.onload=q,N.onerror=K}),dr(b,"link",d),o.state.loading|=4,Yp(b,u.precedence,a),o.instance=b;case"script":return b=Du(u.src),(y=a.querySelector(Gf(b)))?(o.instance=y,xn(y),y):(d=u,(y=Ci.get(b))&&(d=m({},u),eb(d,y)),a=a.ownerDocument||a,y=a.createElement("script"),xn(y),dr(y,"link",d),a.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,Yp(d,u.precedence,a));return o.instance}function Yp(a,o,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,b=y,N=0;N<d.length;N++){var q=d[N];if(q.dataset.precedence===o)b=q;else if(b!==y)break}b?b.parentNode.insertBefore(a,b.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function Z0(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function eb(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var Xp=null;function LC(a,o,u){if(Xp===null){var d=new Map,y=Xp=new Map;y.set(u,d)}else y=Xp,d=y.get(u),d||(d=new Map,y.set(u,d));if(d.has(a))return d;for(d.set(a,null),u=u.getElementsByTagName(a),y=0;y<u.length;y++){var b=u[y];if(!(b[mi]||b[kn]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var N=b.getAttribute(o)||"";N=a+N;var q=d.get(N);q?q.push(b):d.set(N,[b])}}return d}function VC(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function VU(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function $C(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function $U(a,o,u,d){if(u.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var y=Mu(d.href),b=o.querySelector(Hf(y));if(b){o=b._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=Qp.bind(a),o.then(a,a)),u.state.loading|=4,u.instance=b,xn(b);return}b=o.ownerDocument||o,d=MC(d),(y=Ci.get(y))&&Z0(d,y),b=b.createElement("link"),xn(b);var N=b;N._p=new Promise(function(q,K){N.onload=q,N.onerror=K}),dr(b,"link",d),u.instance=b}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=Qp.bind(a),o.addEventListener("load",u),o.addEventListener("error",u))}}var tb=0;function UU(a,o){return a.stylesheets&&a.count===0&&Zp(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var d=setTimeout(function(){if(a.stylesheets&&Zp(a,a.stylesheets),a.unsuspend){var b=a.unsuspend;a.unsuspend=null,b()}},6e4+o);0<a.imgBytes&&tb===0&&(tb=62500*xU());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Zp(a,a.stylesheets),a.unsuspend)){var b=a.unsuspend;a.unsuspend=null,b()}},(a.imgBytes>tb?50:800)+o);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(d),clearTimeout(y)}}:null}function Qp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zp(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Jp=null;function Zp(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Jp=new Map,o.forEach(BU,a),Jp=null,Qp.call(a))}function BU(a,o){if(!(o.state.loading&4)){var u=Jp.get(a);if(u)var d=u.get(null);else{u=new Map,Jp.set(a,u);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var N=y[b];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(u.set(N.dataset.precedence,N),d=N)}d&&u.set(null,d)}y=o.instance,N=y.getAttribute("data-precedence"),b=u.get(N)||d,b===d&&u.set(null,y),u.set(N,y),this.count++,d=Qp.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),b?b.parentNode.insertBefore(y,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),o.state.loading|=4}}var Kf={$$typeof:k,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function qU(a,o,u,d,y,b,N,q,K){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dn(0),this.hiddenUpdates=Dn(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function UC(a,o,u,d,y,b,N,q,K,ae,fe,ge){return a=new qU(a,o,u,N,K,ae,fe,ge,q),o=1,b===!0&&(o|=24),b=ei(3,null,null,o),a.current=b,b.stateNode=a,o=jv(),o.refCount++,a.pooledCache=o,o.refCount++,b.memoizedState={element:d,isDehydrated:u,cache:o},Vv(b),a}function BC(a){return a?(a=du,a):du}function qC(a,o,u,d,y,b){y=BC(y),d.context===null?d.context=y:d.pendingContext=y,d=$s(o),d.payload={element:u},b=b===void 0?null:b,b!==null&&(d.callback=b),u=Us(a,d,o),u!==null&&(Fr(u,a,o),Tf(u,a,o))}function zC(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function nb(a,o){zC(a,o),(a=a.alternate)&&zC(a,o)}function FC(a){if(a.tag===13||a.tag===31){var o=Xo(a,67108864);o!==null&&Fr(o,a,67108864),nb(a,67108864)}}function HC(a){if(a.tag===13||a.tag===31){var o=ai();o=Da(o);var u=Xo(a,o);u!==null&&Fr(u,a,o),nb(a,o)}}var em=!0;function zU(a,o,u,d){var y=F.T;F.T=null;var b=Y.p;try{Y.p=2,rb(a,o,u,d)}finally{Y.p=b,F.T=y}}function FU(a,o,u,d){var y=F.T;F.T=null;var b=Y.p;try{Y.p=8,rb(a,o,u,d)}finally{Y.p=b,F.T=y}}function rb(a,o,u,d){if(em){var y=ib(d);if(y===null)z0(a,o,d,tm,u),KC(a,d);else if(GU(y,a,o,u,d))d.stopPropagation();else if(KC(a,d),o&4&&-1<HU.indexOf(a)){for(;y!==null;){var b=xr(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var N=je(b.pendingLanes);if(N!==0){var q=b;for(q.pendingLanes|=2,q.entangledLanes|=2;N;){var K=1<<31-ot(N);q.entanglements[1]|=K,N&=~K}ya(b),(Ht&6)===0&&(Lp=Ie()+500,Bf(0))}}break;case 31:case 13:q=Xo(b,2),q!==null&&Fr(q,b,2),$p(),nb(b,2)}if(b=ib(d),b===null&&z0(a,o,d,tm,u),b===y)break;y=b}y!==null&&d.stopPropagation()}else z0(a,o,d,null,u)}}function ib(a){return a=vi(a),ab(a)}var tm=null;function ab(a){if(tm=null,a=br(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=l(o),a!==null)return a;a=null}else if(u===31){if(a=c(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return tm=a,null}function GC(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ht()){case xt:return 2;case Vt:return 8;case Zt:case en:return 32;case bn:return 268435456;default:return 32}default:return 32}}var sb=!1,Qs=null,Js=null,Zs=null,Wf=new Map,Yf=new Map,eo=[],HU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function KC(a,o){switch(a){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":Wf.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yf.delete(o.pointerId)}}function Xf(a,o,u,d,y,b){return a===null||a.nativeEvent!==b?(a={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:b,targetContainers:[y]},o!==null&&(o=xr(o),o!==null&&FC(o)),a):(a.eventSystemFlags|=d,o=a.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),a)}function GU(a,o,u,d,y){switch(o){case"focusin":return Qs=Xf(Qs,a,o,u,d,y),!0;case"dragenter":return Js=Xf(Js,a,o,u,d,y),!0;case"mouseover":return Zs=Xf(Zs,a,o,u,d,y),!0;case"pointerover":var b=y.pointerId;return Wf.set(b,Xf(Wf.get(b)||null,a,o,u,d,y)),!0;case"gotpointercapture":return b=y.pointerId,Yf.set(b,Xf(Yf.get(b)||null,a,o,u,d,y)),!0}return!1}function WC(a){var o=br(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){a.blockedOn=o,Xr(a.priority,function(){HC(u)});return}}else if(o===31){if(o=c(u),o!==null){a.blockedOn=o,Xr(a.priority,function(){HC(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function nm(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=ib(a.nativeEvent);if(u===null){u=a.nativeEvent;var d=new u.constructor(u.type,u);uf=d,u.target.dispatchEvent(d),uf=null}else return o=xr(u),o!==null&&FC(o),a.blockedOn=u,!1;o.shift()}return!0}function YC(a,o,u){nm(a)&&u.delete(o)}function KU(){sb=!1,Qs!==null&&nm(Qs)&&(Qs=null),Js!==null&&nm(Js)&&(Js=null),Zs!==null&&nm(Zs)&&(Zs=null),Wf.forEach(YC),Yf.forEach(YC)}function rm(a,o){a.blockedOn===o&&(a.blockedOn=null,sb||(sb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,KU)))}var im=null;function XC(a){im!==a&&(im=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){im===a&&(im=null);for(var o=0;o<a.length;o+=3){var u=a[o],d=a[o+1],y=a[o+2];if(typeof d!="function"){if(ab(d||u)===null)continue;break}var b=xr(u);b!==null&&(a.splice(o,3),o-=3,i0(b,{pending:!0,data:y,method:u.method,action:d},d,y))}}))}function Lu(a){function o(K){return rm(K,a)}Qs!==null&&rm(Qs,a),Js!==null&&rm(Js,a),Zs!==null&&rm(Zs,a),Wf.forEach(o),Yf.forEach(o);for(var u=0;u<eo.length;u++){var d=eo[u];d.blockedOn===a&&(d.blockedOn=null)}for(;0<eo.length&&(u=eo[0],u.blockedOn===null);)WC(u),u.blockedOn===null&&eo.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var y=u[d],b=u[d+1],N=y[Pn]||null;if(typeof b=="function")N||XC(u);else if(N){var q=null;if(b&&b.hasAttribute("formAction")){if(y=b,N=b[Pn]||null)q=N.formAction;else if(ab(y)!==null)continue}else q=N.action;typeof q=="function"?u[d+1]=q:(u.splice(d,3),d-=3),XC(u)}}}function QC(){function a(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(N){return y=N})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),d||setTimeout(u,20)}function u(){if(!d&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){d=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function ob(a){this._internalRoot=a}am.prototype.render=ob.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,d=ai();qC(u,d,a,o,null,null)},am.prototype.unmount=ob.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;qC(a.current,2,null,a,null,null),$p(),o[$r]=null}};function am(a){this._internalRoot=a}am.prototype.unstable_scheduleHydration=function(a){if(a){var o=Ql();a={blockedOn:null,target:a,priority:o};for(var u=0;u<eo.length&&o!==0&&o<eo[u].priority;u++);eo.splice(u,0,a),u===0&&WC(a)}};var JC=e.version;if(JC!=="19.2.0")throw Error(r(527,JC,"19.2.0"));Y.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(o),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var WU={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sm.isDisabled&&sm.supportsFiber)try{Ae=sm.inject(WU),Ke=sm}catch{}}return Jf.createRoot=function(a,o){if(!i(a))throw Error(r(299));var u=!1,d="",y=a2,b=s2,N=o2;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(N=o.onRecoverableError)),o=UC(a,1,!1,null,null,u,d,null,y,b,N,QC),a[$r]=o.current,q0(a),new ob(o)},Jf.hydrateRoot=function(a,o,u){if(!i(a))throw Error(r(299));var d=!1,y="",b=a2,N=s2,q=o2,K=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(N=u.onCaughtError),u.onRecoverableError!==void 0&&(q=u.onRecoverableError),u.formState!==void 0&&(K=u.formState)),o=UC(a,1,!0,o,u??null,d,y,K,b,N,q,QC),o.context=BC(null),u=o.current,d=ai(),d=Da(d),y=$s(d),y.callback=null,Us(u,y,d),u=d,o.current.lanes=u,Yr(o,u),ya(o),a[$r]=o.current,q0(a),new am(o)},Jf.version="19.2.0",Jf}var lI;function iB(){if(lI)return ub.exports;lI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ub.exports=rB(),ub.exports}var aB=iB();const sB=Gt(aB);var U=jE();const G=Gt(U),fde=XU({__proto__:null,default:G},[U]),oB=()=>{};var uI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},lB=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],c=t[n++],f=((i&7)<<18|(s&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},cL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,c=l?t[i+1]:0,f=i+2<t.length,h=f?t[i+2]:0,p=s>>2,m=(s&3)<<4|c>>4;let v=(c&15)<<2|h>>6,_=h&63;f||(_=64,l||(v=64)),r.push(n[p],n[m],n[v],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||h==null||m==null)throw new uB;const v=s<<2|c>>4;if(r.push(v),h!==64){const _=c<<4&240|h>>2;if(r.push(_),m!==64){const E=h<<6&192|m;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class uB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cB=function(t){const e=uL(t);return cL.encodeByteArray(e,!0)},$m=function(t){return cB(t).replace(/\./g,"")},fL=function(t){try{return cL.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB=()=>fB().__FIREBASE_DEFAULTS__,dB=()=>{if(typeof process>"u"||typeof uI>"u")return;const t=uI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},pB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fL(t[1]);return e&&JSON.parse(e)},oy=()=>{try{return oB()||hB()||dB()||pB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hL=t=>{var e,n;return(n=(e=oy())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},mB=t=>{const e=hL(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},dL=()=>{var t;return(t=oy())==null?void 0:t.config},pL=t=>{var e;return(e=oy())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mL(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yB(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[$m(JSON.stringify(n)),$m(JSON.stringify(l)),""].join(".")}const xh={};function vB(){const t={prod:[],emulator:[]};for(const e of Object.keys(xh))xh[e]?t.emulator.push(e):t.prod.push(e);return t}function bB(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let cI=!1;function gL(t,e){if(typeof window>"u"||typeof document>"u"||!Hc(window.location.host)||xh[t]===e||xh[t]||cI)return;xh[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",s=vB().prod.length>0;function l(){const v=document.getElementById(r);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,_){v.setAttribute("width","24"),v.setAttribute("id",_),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function h(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{cI=!0,l()},v}function p(v,_){v.setAttribute("id",_),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function m(){const v=bB(r),_=n("text"),E=document.getElementById(_)||document.createElement("span"),S=n("learnmore"),w=document.getElementById(S)||document.createElement("a"),A=n("preprendIcon"),I=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const k=v.element;c(k),p(w,S);const V=h();f(I,A),k.append(I,E,w,V),document.body.appendChild(k)}s?(E.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cr())}function _B(){var e;const t=(e=oy())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wB(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function EB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TB(){const t=Cr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function AB(){return!_B()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OB(){try{return typeof indexedDB=="object"}catch{return!1}}function CB(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IB="FirebaseError";class _s extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=IB,Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Td.prototype.create)}}class Td{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?kB(s,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new _s(i,c,r)}}function kB(t,e){return t.replace(PB,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const PB=/\{\$([^}]+)}/g;function NB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Pl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(fI(s)&&fI(l)){if(!Pl(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function fI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function RB(t,e){const n=new jB(t,e);return n.subscribe.bind(n)}class jB{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");MB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=pb),i.error===void 0&&(i.error=pb),i.complete===void 0&&(i.complete=pb);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MB(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(t){return t&&t._delegate?t._delegate:t}class Nl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new gB;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VB(e))try{this.getOrInitializeService({instanceIdentifier:pl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=pl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pl){return this.instances.has(e)}getOptions(e=pl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=pl){return this.component?this.component.multipleInstances?e:pl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LB(t){return t===pl?void 0:t}function VB(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new DB(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ot||(Ot={}));const UB={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},BB=Ot.INFO,qB={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},zB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=qB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ME{constructor(e){this.name=e,this._logLevel=BB,this._logHandler=zB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...e),this._logHandler(this,Ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...e),this._logHandler(this,Ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...e),this._logHandler(this,Ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...e),this._logHandler(this,Ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...e),this._logHandler(this,Ot.ERROR,...e)}}const FB=(t,e)=>e.some(n=>t instanceof n);let hI,dI;function HB(){return hI||(hI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GB(){return dI||(dI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yL=new WeakMap,R1=new WeakMap,vL=new WeakMap,mb=new WeakMap,DE=new WeakMap;function KB(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(po(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&yL.set(n,t)}).catch(()=>{}),DE.set(e,t),e}function WB(t){if(R1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});R1.set(t,e)}let j1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return R1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return po(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function YB(t){j1=t(j1)}function XB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gb(this),e,...n);return vL.set(r,e.sort?e.sort():[e]),po(r)}:GB().includes(t)?function(...e){return t.apply(gb(this),e),po(yL.get(this))}:function(...e){return po(t.apply(gb(this),e))}}function QB(t){return typeof t=="function"?XB(t):(t instanceof IDBTransaction&&WB(t),FB(t,HB())?new Proxy(t,j1):t)}function po(t){if(t instanceof IDBRequest)return KB(t);if(mb.has(t))return mb.get(t);const e=QB(t);return e!==t&&(mb.set(t,e),DE.set(e,t)),e}const gb=t=>DE.get(t);function JB(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),c=po(l);return r&&l.addEventListener("upgradeneeded",f=>{r(po(l.result),f.oldVersion,f.newVersion,po(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{s&&f.addEventListener("close",()=>s()),i&&f.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const ZB=["get","getKey","getAll","getAllKeys","count"],eq=["put","add","delete","clear"],yb=new Map;function pI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yb.get(e))return yb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=eq.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ZB.includes(n)))return;const s=async function(l,...c){const f=this.transaction(l,i?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),i&&f.done]))[0]};return yb.set(e,s),s}YB(t=>({...t,get:(e,n,r)=>pI(e,n)||t.get(e,n,r),has:(e,n)=>!!pI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nq(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function nq(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const M1="@firebase/app",mI="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new ME("@firebase/app"),rq="@firebase/app-compat",iq="@firebase/analytics-compat",aq="@firebase/analytics",sq="@firebase/app-check-compat",oq="@firebase/app-check",lq="@firebase/auth",uq="@firebase/auth-compat",cq="@firebase/database",fq="@firebase/data-connect",hq="@firebase/database-compat",dq="@firebase/functions",pq="@firebase/functions-compat",mq="@firebase/installations",gq="@firebase/installations-compat",yq="@firebase/messaging",vq="@firebase/messaging-compat",bq="@firebase/performance",xq="@firebase/performance-compat",_q="@firebase/remote-config",wq="@firebase/remote-config-compat",Sq="@firebase/storage",Eq="@firebase/storage-compat",Tq="@firebase/firestore",Aq="@firebase/ai",Oq="@firebase/firestore-compat",Cq="firebase",Iq="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="[DEFAULT]",kq={[M1]:"fire-core",[rq]:"fire-core-compat",[aq]:"fire-analytics",[iq]:"fire-analytics-compat",[oq]:"fire-app-check",[sq]:"fire-app-check-compat",[lq]:"fire-auth",[uq]:"fire-auth-compat",[cq]:"fire-rtdb",[fq]:"fire-data-connect",[hq]:"fire-rtdb-compat",[dq]:"fire-fn",[pq]:"fire-fn-compat",[mq]:"fire-iid",[gq]:"fire-iid-compat",[yq]:"fire-fcm",[vq]:"fire-fcm-compat",[bq]:"fire-perf",[xq]:"fire-perf-compat",[_q]:"fire-rc",[wq]:"fire-rc-compat",[Sq]:"fire-gcs",[Eq]:"fire-gcs-compat",[Tq]:"fire-fst",[Oq]:"fire-fst-compat",[Aq]:"fire-vertex","fire-js":"fire-js",[Cq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um=new Map,Pq=new Map,L1=new Map;function gI(t,e){try{t.container.addComponent(e)}catch(n){ps.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function uc(t){const e=t.name;if(L1.has(e))return ps.debug(`There were multiple attempts to register component ${e}.`),!1;L1.set(e,t);for(const n of Um.values())gI(n,t);for(const n of Pq.values())gI(n,t);return!0}function LE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ji(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mo=new Td("app","Firebase",Nq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rq{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=Iq;function bL(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:D1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw mo.create("bad-app-name",{appName:String(i)});if(n||(n=dL()),!n)throw mo.create("no-options");const s=Um.get(i);if(s){if(Pl(n,s.options)&&Pl(r,s.config))return s;throw mo.create("duplicate-app",{appName:i})}const l=new $B(i);for(const f of L1.values())l.addComponent(f);const c=new Rq(n,r,l);return Um.set(i,c),c}function xL(t=D1){const e=Um.get(t);if(!e&&t===D1&&dL())return bL();if(!e)throw mo.create("no-app",{appName:t});return e}function go(t,e,n){let r=kq[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ps.warn(l.join(" "));return}uc(new Nl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jq="firebase-heartbeat-database",Mq=1,jh="firebase-heartbeat-store";let vb=null;function _L(){return vb||(vb=JB(jq,Mq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(jh)}catch(n){console.warn(n)}}}}).catch(t=>{throw mo.create("idb-open",{originalErrorMessage:t.message})})),vb}async function Dq(t){try{const n=(await _L()).transaction(jh),r=await n.objectStore(jh).get(wL(t));return await n.done,r}catch(e){if(e instanceof _s)ps.warn(e.message);else{const n=mo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ps.warn(n.message)}}}async function yI(t,e){try{const r=(await _L()).transaction(jh,"readwrite");await r.objectStore(jh).put(e,wL(t)),await r.done}catch(n){if(n instanceof _s)ps.warn(n.message);else{const r=mo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ps.warn(r.message)}}}function wL(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lq=1024,Vq=30;class $q{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Bq(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=vI();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Vq){const l=qq(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ps.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=vI(),{heartbeatsToSend:r,unsentEntries:i}=Uq(this._heartbeatsCache.heartbeats),s=$m(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ps.warn(n),""}}}function vI(){return new Date().toISOString().substring(0,10)}function Uq(t,e=Lq){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),bI(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),bI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Bq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OB()?CB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Dq(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return yI(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return yI(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function bI(t){return $m(JSON.stringify({version:2,heartbeats:t})).length}function qq(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zq(t){uc(new Nl("platform-logger",e=>new tq(e),"PRIVATE")),uc(new Nl("heartbeat",e=>new $q(e),"PRIVATE")),go(M1,mI,t),go(M1,mI,"esm2020"),go("fire-js","")}zq("");function SL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Fq=SL,EL=new Td("auth","Firebase",SL());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm=new ME("@firebase/auth");function Hq(t,...e){Bm.logLevel<=Ot.WARN&&Bm.warn(`Auth (${Gc}): ${t}`,...e)}function Cm(t,...e){Bm.logLevel<=Ot.ERROR&&Bm.error(`Auth (${Gc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(t,...e){throw $E(t,...e)}function ta(t,...e){return $E(t,...e)}function VE(t,e,n){const r={...Fq(),[e]:n};return new Td("auth","Firebase",r).create(e,{appName:t.name})}function Ol(t){return VE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gq(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ca(t,"argument-error"),VE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $E(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return EL.create(t,...e)}function it(t,e,...n){if(!t)throw $E(e,...n)}function ss(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Cm(e),new Error(e)}function ms(t,e){t||ss(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Kq(){return xI()==="http:"||xI()==="https:"}function xI(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Kq()||SB()||"connection"in navigator)?navigator.onLine:!0}function Yq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,n){this.shortDelay=e,this.longDelay=n,ms(n>e,"Short delay should be less than long delay!"),this.isMobile=xB()||EB()}get(){return Wq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(t,e){ms(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qq=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Jq=new Od(3e4,6e4);function BE(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function zl(t,e,n,r,i={}){return AL(t,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const c=Ad({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:f,...s};return wB()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Hc(t.emulatorConfig.host)&&(h.credentials="include"),TL.fetch()(await OL(t,t.config.apiHost,n,c),h)})}async function AL(t,e,n){t._canInitEmulator=!1;const r={...Xq,...e};try{const i=new ez(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw lm(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const c=s.ok?l.errorMessage:l.error.message,[f,h]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw lm(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw lm(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw lm(t,"user-disabled",l);const p=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw VE(t,p,h);Ca(t,p)}}catch(i){if(i instanceof _s)throw i;Ca(t,"network-request-failed",{message:String(i)})}}async function Zq(t,e,n,r,i={}){const s=await zl(t,e,n,r,i);return"mfaPendingCredential"in s&&Ca(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function OL(t,e,n,r){const i=`${e}${n}?${r}`,s=t,l=s.config.emulator?UE(t.config,i):`${t.config.apiScheme}://${i}`;return Qq.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}class ez{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ta(this.auth,"network-request-failed")),Jq.get())})}}function lm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ta(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tz(t,e){return zl(t,"POST","/v1/accounts:delete",e)}async function qm(t,e){return zl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nz(t,e=!1){const n=Ir(t),r=await n.getIdToken(e),i=qE(r);it(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:_h(bb(i.auth_time)),issuedAtTime:_h(bb(i.iat)),expirationTime:_h(bb(i.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function bb(t){return Number(t)*1e3}function qE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Cm("JWT malformed, contained fewer than 3 sections"),null;try{const i=fL(n);return i?JSON.parse(i):(Cm("Failed to decode base64 JWT payload"),null)}catch(i){return Cm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function _I(t){const e=qE(t);return it(e,"internal-error"),it(typeof e.exp<"u","internal-error"),it(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof _s&&rz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function rz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_h(this.lastLoginAt),this.creationTime=_h(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zm(t){var m;const e=t.auth,n=await t.getIdToken(),r=await cc(t,qm(e,{idToken:n}));it(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(m=i.providerUserInfo)!=null&&m.length?CL(i.providerUserInfo):[],l=sz(t.providerData,s),c=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),h=c?f:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new $1(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function az(t){const e=Ir(t);await zm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sz(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function CL(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oz(t,e){const n=await AL(t,{},async()=>{const r=Ad({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,l=await OL(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:r};return t.emulatorConfig&&Hc(t.emulatorConfig.host)&&(f.credentials="include"),TL.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function lz(t,e){return zl(t,"POST","/v2/accounts:revokeToken",BE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){it(e.idToken,"internal-error"),it(typeof e.idToken<"u","internal-error"),it(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_I(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){it(e.length!==0,"internal-error");const n=_I(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(it(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await oz(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,l=new tc;return r&&(it(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(it(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(it(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new tc,this.toJSON())}_performRefresh(){return ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(t,e){it(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ea{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new iz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new $1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await cc(this,this.stsTokenManager.getToken(this.auth,e));return it(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return nz(this,e)}reload(){return az(this)}_assign(e){this!==e&&(it(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ea({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){it(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await zm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ji(this.auth.app))return Promise.reject(Ol(this.auth));const e=await this.getIdToken();return await cc(this,tz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,f=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:m,emailVerified:v,isAnonymous:_,providerData:E,stsTokenManager:S}=n;it(m&&S,e,"internal-error");const w=tc.fromJSON(this.name,S);it(typeof m=="string",e,"internal-error"),no(r,e.name),no(i,e.name),it(typeof v=="boolean",e,"internal-error"),it(typeof _=="boolean",e,"internal-error"),no(s,e.name),no(l,e.name),no(c,e.name),no(f,e.name),no(h,e.name),no(p,e.name);const A=new ea({uid:m,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:_,photoURL:l,phoneNumber:s,tenantId:c,stsTokenManager:w,createdAt:h,lastLoginAt:p});return E&&Array.isArray(E)&&(A.providerData=E.map(I=>({...I}))),f&&(A._redirectEventId=f),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new tc;i.updateFromServerResponse(n);const s=new ea({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await zm(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];it(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?CL(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),c=new tc;c.updateFromIdToken(r);const f=new ea({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new $1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(f,h),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI=new Map;function os(t){ms(t instanceof Function,"Expected a class definition");let e=wI.get(t);return e?(ms(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,wI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}IL.type="NONE";const SI=IL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(t,e,n){return`firebase:${t}:${e}:${n}`}class nc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Im(this.userKey,i.apiKey,s),this.fullPersistenceKey=Im("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await qm(this.auth,{idToken:e}).catch(()=>{});return n?ea._fromGetAccountInfoResponse(this.auth,n,e):null}return ea._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new nc(os(SI),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||os(SI);const l=Im(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const p=await h._get(l);if(p){let m;if(typeof p=="string"){const v=await qm(e,{idToken:p}).catch(()=>{});if(!v)break;m=await ea._fromGetAccountInfoResponse(e,v,p)}else m=ea._fromJSON(e,p);h!==s&&(c=m),s=h;break}}catch{}const f=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new nc(s,e,r):(s=f[0],c&&await s._set(l,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(l)}catch{}})),new nc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(kL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ML(e))return"Blackberry";if(DL(e))return"Webos";if(PL(e))return"Safari";if((e.includes("chrome/")||NL(e))&&!e.includes("edge/"))return"Chrome";if(jL(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function kL(t=Cr()){return/firefox\//i.test(t)}function PL(t=Cr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NL(t=Cr()){return/crios\//i.test(t)}function RL(t=Cr()){return/iemobile/i.test(t)}function jL(t=Cr()){return/android/i.test(t)}function ML(t=Cr()){return/blackberry/i.test(t)}function DL(t=Cr()){return/webos/i.test(t)}function zE(t=Cr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function uz(t=Cr()){var e;return zE(t)&&!!((e=window.navigator)!=null&&e.standalone)}function cz(){return TB()&&document.documentMode===10}function LL(t=Cr()){return zE(t)||jL(t)||DL(t)||ML(t)||/windows phone/i.test(t)||RL(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(t,e=[]){let n;switch(t){case"Browser":n=EI(Cr());break;case"Worker":n=`${EI(Cr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,c)=>{try{const f=e(s);l(f)}catch(f){c(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hz(t,e={}){return zl(t,"GET","/v2/passwordPolicy",BE(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dz=6;class pz{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??dz,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TI(this),this.idTokenSubscription=new TI(this),this.beforeStateQueue=new fz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=os(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await nc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await qm(this,{idToken:e}),r=await ea._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Ji(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(s=this.redirectUser)==null?void 0:s._redirectEventId,c=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&(f!=null&&f.user)&&(r=f.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return it(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Yq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ji(this.app))return Promise.reject(Ol(this));const n=e?Ir(e):null;return n&&it(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&it(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ji(this.app)?Promise.reject(Ol(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ji(this.app)?Promise.reject(Ol(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(os(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hz(this),n=new pz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Td("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await lz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&os(e)||this._popupRedirectResolver;it(n,this,"argument-error"),this.redirectPersistenceManager=await nc.create(this,[os(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(it(c,this,"internal-error"),c.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return it(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Ji(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Hq(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ly(t){return Ir(t)}class TI{constructor(e){this.auth=e,this.observer=null,this.addObserver=RB(n=>this.observer=n)}get next(){return it(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gz(t){FE=t}function yz(t){return FE.loadJS(t)}function vz(){return FE.gapiScript}function bz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xz(t,e){const n=LE(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Pl(s,e??{}))return i;Ca(i,"already-initialized")}return n.initialize({options:e})}function _z(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(os);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function wz(t,e,n){const r=ly(t);it(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=$L(e),{host:l,port:c}=Sz(e),f=c===null?"":`:${c}`,h={url:`${s}//${l}${f}/`},p=Object.freeze({host:l,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){it(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),it(Pl(h,r.config.emulator)&&Pl(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Hc(l)?(mL(`${s}//${l}${f}`),gL("Auth",!0)):Ez()}function $L(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Sz(t){const e=$L(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:AI(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:AI(l)}}}function AI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Ez(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ss("not implemented")}_getIdTokenResponse(e){return ss("not implemented")}_linkToIdToken(e,n){return ss("not implemented")}_getReauthenticationResolver(e){return ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rc(t,e){return Zq(t,"POST","/v1/accounts:signInWithIdp",BE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tz="http://localhost";class Rl extends UL{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Rl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ca("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const l=new Rl(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return rc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,rc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,rc(e,n)}buildRequest(){const e={requestUri:Tz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ad(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends HE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends Cd{constructor(){super("facebook.com")}static credential(e){return Rl._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return so.credential(e.oauthAccessToken)}catch{return null}}}so.FACEBOOK_SIGN_IN_METHOD="facebook.com";so.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Cd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Rl._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return as.credential(n,r)}catch{return null}}}as.GOOGLE_SIGN_IN_METHOD="google.com";as.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends Cd{constructor(){super("github.com")}static credential(e){return Rl._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oo.credential(e.oauthAccessToken)}catch{return null}}}oo.GITHUB_SIGN_IN_METHOD="github.com";oo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo extends Cd{constructor(){super("twitter.com")}static credential(e,n){return Rl._fromParams({providerId:lo.PROVIDER_ID,signInMethod:lo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return lo.credentialFromTaggedObject(e)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return lo.credential(n,r)}catch{return null}}}lo.TWITTER_SIGN_IN_METHOD="twitter.com";lo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ea._fromIdTokenResponse(e,r,i),l=OI(r);return new fc({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=OI(r);return new fc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function OI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm extends _s{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Fm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Fm(e,n,r,i)}}function BL(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Fm._fromErrorAndOperation(t,s,e,r):s})}async function Az(t,e,n=!1){const r=await cc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oz(t,e,n=!1){const{auth:r}=t;if(Ji(r.app))return Promise.reject(Ol(r));const i="reauthenticate";try{const s=await cc(t,BL(r,i,e,t),n);it(s.idToken,r,"internal-error");const l=qE(s.idToken);it(l,r,"internal-error");const{sub:c}=l;return it(t.uid===c,r,"user-mismatch"),fc._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ca(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cz(t,e,n=!1){if(Ji(t.app))return Promise.reject(Ol(t));const r="signIn",i=await BL(t,r,e),s=await fc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iz(t,e){return zl(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kz(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ir(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await cc(r,Iz(r.auth,s));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:f})=>f==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function Pz(t,e,n,r){return Ir(t).onIdTokenChanged(e,n,r)}function Nz(t,e,n){return Ir(t).beforeAuthStateChanged(e,n)}function Rz(t,e,n,r){return Ir(t).onAuthStateChanged(e,n,r)}function jz(t){return Ir(t).signOut()}const Hm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hm,"1"),this.storage.removeItem(Hm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz=1e3,Dz=10;class zL extends qL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);cz()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Dz):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Mz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}zL.type="LOCAL";const Lz=zL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL extends qL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}FL.type="SESSION";const HL=FL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new uy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async h=>h(n.origin,s)),f=await Vz(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((c,f)=>{const h=GE("",20);i.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(m){const v=m;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(v.data.response);break;default:clearTimeout(p),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(){return window}function Uz(t){xa().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(){return typeof xa().WorkerGlobalScope<"u"&&typeof xa().importScripts=="function"}async function Bz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qz(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function zz(){return GL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL="firebaseLocalStorageDb",Fz=1,Gm="firebaseLocalStorage",WL="fbase_key";class Id{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cy(t,e){return t.transaction([Gm],e?"readwrite":"readonly").objectStore(Gm)}function Hz(){const t=indexedDB.deleteDatabase(KL);return new Id(t).toPromise()}function U1(){const t=indexedDB.open(KL,Fz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Gm,{keyPath:WL})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Gm)?e(r):(r.close(),await Hz(),e(await U1()))})})}async function CI(t,e,n){const r=cy(t,!0).put({[WL]:e,value:n});return new Id(r).toPromise()}async function Gz(t,e){const n=cy(t,!1).get(e),r=await new Id(n).toPromise();return r===void 0?null:r.value}function II(t,e){const n=cy(t,!0).delete(e);return new Id(n).toPromise()}const Kz=800,Wz=3;class YL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await U1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Wz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uy._getInstance(zz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Bz(),!this.activeServiceWorker)return;this.sender=new $z(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await U1();return await CI(e,Hm,"1"),await II(e,Hm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>CI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Gz(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>II(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=cy(i,!1).getAll();return new Id(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Kz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YL.type="LOCAL";const Yz=YL;new Od(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(t,e){return e?os(e):(it(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE extends UL{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return rc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return rc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Xz(t){return Cz(t.auth,new KE(t),t.bypassAuthState)}function Qz(t){const{auth:e,user:n}=t;return it(n,e,"internal-error"),Oz(n,new KE(t),t.bypassAuthState)}async function Jz(t){const{auth:e,user:n}=t;return it(n,e,"internal-error"),Az(n,new KE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:l,type:c}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Xz;case"linkViaPopup":case"linkViaRedirect":return Jz;case"reauthViaPopup":case"reauthViaRedirect":return Qz;default:Ca(this.auth,"internal-error")}}resolve(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zz=new Od(2e3,1e4);async function e8(t,e,n){if(Ji(t.app))return Promise.reject(ta(t,"operation-not-supported-in-this-environment"));const r=ly(t);Gq(t,e,HE);const i=XL(r,n);return new _l(r,"signInViaPopup",e,i).executeNotNull()}class _l extends QL{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,_l.currentPopupAction&&_l.currentPopupAction.cancel(),_l.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return it(e,this.auth,"internal-error"),e}async onExecution(){ms(this.filter.length===1,"Popup operations only handle one event");const e=GE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ta(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ta(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_l.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ta(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Zz.get())};e()}}_l.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8="pendingRedirect",km=new Map;class n8 extends QL{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=km.get(this.auth._key());if(!e){try{const r=await r8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}km.set(this.auth._key(),e)}return this.bypassAuthState||km.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function r8(t,e){const n=s8(e),r=a8(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function i8(t,e){km.set(t._key(),e)}function a8(t){return os(t._redirectPersistence)}function s8(t){return Im(t8,t.config.apiKey,t.name)}async function o8(t,e,n=!1){if(Ji(t.app))return Promise.reject(Ol(t));const r=ly(t),i=XL(r,e),l=await new n8(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8=600*1e3;class u8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!c8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!JL(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(ta(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=l8&&this.cachedEventUids.clear(),this.cachedEventUids.has(kI(e))}saveEventToCache(e){this.cachedEventUids.add(kI(e)),this.lastProcessedEventTime=Date.now()}}function kI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function JL({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function c8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JL(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f8(t,e={}){return zl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,d8=/^https?/;async function p8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await f8(t);for(const n of e)try{if(m8(n))return}catch{}Ca(t,"unauthorized-domain")}function m8(t){const e=V1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!d8.test(n))return!1;if(h8.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8=new Od(3e4,6e4);function PI(){const t=xa().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function y8(t){return new Promise((e,n)=>{var i,s,l;function r(){PI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PI(),n(ta(t,"network-request-failed"))},timeout:g8.get()})}if((s=(i=xa().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((l=xa().gapi)!=null&&l.load)r();else{const c=bz("iframefcb");return xa()[c]=()=>{gapi.load?r():n(ta(t,"network-request-failed"))},yz(`${vz()}?onload=${c}`).catch(f=>n(f))}}).catch(e=>{throw Pm=null,e})}let Pm=null;function v8(t){return Pm=Pm||y8(t),Pm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8=new Od(5e3,15e3),x8="__/auth/iframe",_8="emulator/auth/iframe",w8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},S8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function E8(t){const e=t.config;it(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?UE(e,_8):`https://${t.config.authDomain}/${x8}`,r={apiKey:e.apiKey,appName:t.name,v:Gc},i=S8.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ad(r).slice(1)}`}async function T8(t){const e=await v8(t),n=xa().gapi;return it(n,t,"internal-error"),e.open({where:document.body,url:E8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:w8,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=ta(t,"network-request-failed"),c=xa().setTimeout(()=>{s(l)},b8.get());function f(){xa().clearTimeout(c),i(r)}r.ping(f).then(f,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},O8=500,C8=600,I8="_blank",k8="http://localhost";class NI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function P8(t,e,n,r=O8,i=C8){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f={...A8,width:r.toString(),height:i.toString(),top:s,left:l},h=Cr().toLowerCase();n&&(c=NL(h)?I8:n),kL(h)&&(e=e||k8,f.scrollbars="yes");const p=Object.entries(f).reduce((v,[_,E])=>`${v}${_}=${E},`,"");if(uz(h)&&c!=="_self")return N8(e||"",c),new NI(null);const m=window.open(e||"",c,p);it(m,t,"popup-blocked");try{m.focus()}catch{}return new NI(m)}function N8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R8="__/auth/handler",j8="emulator/auth/handler",M8=encodeURIComponent("fac");async function RI(t,e,n,r,i,s){it(t.config.authDomain,t,"auth-domain-config-required"),it(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Gc,eventId:i};if(e instanceof HE){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",NB(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))l[p]=m}if(e instanceof Cd){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const f=await t._getAppCheckToken(),h=f?`#${M8}=${encodeURIComponent(f)}`:"";return`${D8(t)}?${Ad(c).slice(1)}${h}`}function D8({config:t}){return t.emulator?UE(t,j8):`https://${t.authDomain}/${R8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="webStorageSupport";class L8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HL,this._completeRedirectFn=o8,this._overrideRedirectResult=i8}async _openPopup(e,n,r,i){var l;ms((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const s=await RI(e,n,r,V1(),i);return P8(e,s,GE())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await RI(e,n,r,V1(),i);return Uz(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ms(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await T8(e),r=new u8(e);return n.register("authEvent",i=>(it(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xb,{type:xb},i=>{var l;const s=(l=i==null?void 0:i[0])==null?void 0:l[xb];s!==void 0&&n(!!s),Ca(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=p8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return LL()||PL()||zE()}}const V8=L8;var jI="@firebase/auth",MI="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){it(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function B8(t){uc(new Nl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;it(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VL(t)},h=new mz(r,i,s,f);return _z(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),uc(new Nl("auth-internal",e=>{const n=ly(e.getProvider("auth").getImmediate());return(r=>new $8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),go(jI,MI,U8(t)),go(jI,MI,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8=300,z8=pL("authIdTokenMaxAge")||q8;let DI=null;const F8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>z8)return;const i=n==null?void 0:n.token;DI!==i&&(DI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function H8(t=xL()){const e=LE(t,"auth");if(e.isInitialized())return e.getImmediate();const n=xz(t,{popupRedirectResolver:V8,persistence:[Yz,Lz,HL]}),r=pL("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=F8(s.toString());Nz(n,l,()=>l(n.currentUser)),Pz(n,c=>l(c))}}const i=hL("auth");return i&&wz(n,`http://${i}`),n}function G8(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}gz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ta("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",G8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});B8("Browser");var LI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yo,ZL;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,P){function R(){}R.prototype=P.prototype,O.F=P.prototype,O.prototype=new R,O.prototype.constructor=O,O.D=function(B,D,$){for(var L=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)L[Q-2]=arguments[Q];return P.prototype[D].apply(B,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,P,R){R||(R=0);const B=Array(16);if(typeof P=="string")for(var D=0;D<16;++D)B[D]=P.charCodeAt(R++)|P.charCodeAt(R++)<<8|P.charCodeAt(R++)<<16|P.charCodeAt(R++)<<24;else for(D=0;D<16;++D)B[D]=P[R++]|P[R++]<<8|P[R++]<<16|P[R++]<<24;P=O.g[0],R=O.g[1],D=O.g[2];let $=O.g[3],L;L=P+($^R&(D^$))+B[0]+3614090360&4294967295,P=R+(L<<7&4294967295|L>>>25),L=$+(D^P&(R^D))+B[1]+3905402710&4294967295,$=P+(L<<12&4294967295|L>>>20),L=D+(R^$&(P^R))+B[2]+606105819&4294967295,D=$+(L<<17&4294967295|L>>>15),L=R+(P^D&($^P))+B[3]+3250441966&4294967295,R=D+(L<<22&4294967295|L>>>10),L=P+($^R&(D^$))+B[4]+4118548399&4294967295,P=R+(L<<7&4294967295|L>>>25),L=$+(D^P&(R^D))+B[5]+1200080426&4294967295,$=P+(L<<12&4294967295|L>>>20),L=D+(R^$&(P^R))+B[6]+2821735955&4294967295,D=$+(L<<17&4294967295|L>>>15),L=R+(P^D&($^P))+B[7]+4249261313&4294967295,R=D+(L<<22&4294967295|L>>>10),L=P+($^R&(D^$))+B[8]+1770035416&4294967295,P=R+(L<<7&4294967295|L>>>25),L=$+(D^P&(R^D))+B[9]+2336552879&4294967295,$=P+(L<<12&4294967295|L>>>20),L=D+(R^$&(P^R))+B[10]+4294925233&4294967295,D=$+(L<<17&4294967295|L>>>15),L=R+(P^D&($^P))+B[11]+2304563134&4294967295,R=D+(L<<22&4294967295|L>>>10),L=P+($^R&(D^$))+B[12]+1804603682&4294967295,P=R+(L<<7&4294967295|L>>>25),L=$+(D^P&(R^D))+B[13]+4254626195&4294967295,$=P+(L<<12&4294967295|L>>>20),L=D+(R^$&(P^R))+B[14]+2792965006&4294967295,D=$+(L<<17&4294967295|L>>>15),L=R+(P^D&($^P))+B[15]+1236535329&4294967295,R=D+(L<<22&4294967295|L>>>10),L=P+(D^$&(R^D))+B[1]+4129170786&4294967295,P=R+(L<<5&4294967295|L>>>27),L=$+(R^D&(P^R))+B[6]+3225465664&4294967295,$=P+(L<<9&4294967295|L>>>23),L=D+(P^R&($^P))+B[11]+643717713&4294967295,D=$+(L<<14&4294967295|L>>>18),L=R+($^P&(D^$))+B[0]+3921069994&4294967295,R=D+(L<<20&4294967295|L>>>12),L=P+(D^$&(R^D))+B[5]+3593408605&4294967295,P=R+(L<<5&4294967295|L>>>27),L=$+(R^D&(P^R))+B[10]+38016083&4294967295,$=P+(L<<9&4294967295|L>>>23),L=D+(P^R&($^P))+B[15]+3634488961&4294967295,D=$+(L<<14&4294967295|L>>>18),L=R+($^P&(D^$))+B[4]+3889429448&4294967295,R=D+(L<<20&4294967295|L>>>12),L=P+(D^$&(R^D))+B[9]+568446438&4294967295,P=R+(L<<5&4294967295|L>>>27),L=$+(R^D&(P^R))+B[14]+3275163606&4294967295,$=P+(L<<9&4294967295|L>>>23),L=D+(P^R&($^P))+B[3]+4107603335&4294967295,D=$+(L<<14&4294967295|L>>>18),L=R+($^P&(D^$))+B[8]+1163531501&4294967295,R=D+(L<<20&4294967295|L>>>12),L=P+(D^$&(R^D))+B[13]+2850285829&4294967295,P=R+(L<<5&4294967295|L>>>27),L=$+(R^D&(P^R))+B[2]+4243563512&4294967295,$=P+(L<<9&4294967295|L>>>23),L=D+(P^R&($^P))+B[7]+1735328473&4294967295,D=$+(L<<14&4294967295|L>>>18),L=R+($^P&(D^$))+B[12]+2368359562&4294967295,R=D+(L<<20&4294967295|L>>>12),L=P+(R^D^$)+B[5]+4294588738&4294967295,P=R+(L<<4&4294967295|L>>>28),L=$+(P^R^D)+B[8]+2272392833&4294967295,$=P+(L<<11&4294967295|L>>>21),L=D+($^P^R)+B[11]+1839030562&4294967295,D=$+(L<<16&4294967295|L>>>16),L=R+(D^$^P)+B[14]+4259657740&4294967295,R=D+(L<<23&4294967295|L>>>9),L=P+(R^D^$)+B[1]+2763975236&4294967295,P=R+(L<<4&4294967295|L>>>28),L=$+(P^R^D)+B[4]+1272893353&4294967295,$=P+(L<<11&4294967295|L>>>21),L=D+($^P^R)+B[7]+4139469664&4294967295,D=$+(L<<16&4294967295|L>>>16),L=R+(D^$^P)+B[10]+3200236656&4294967295,R=D+(L<<23&4294967295|L>>>9),L=P+(R^D^$)+B[13]+681279174&4294967295,P=R+(L<<4&4294967295|L>>>28),L=$+(P^R^D)+B[0]+3936430074&4294967295,$=P+(L<<11&4294967295|L>>>21),L=D+($^P^R)+B[3]+3572445317&4294967295,D=$+(L<<16&4294967295|L>>>16),L=R+(D^$^P)+B[6]+76029189&4294967295,R=D+(L<<23&4294967295|L>>>9),L=P+(R^D^$)+B[9]+3654602809&4294967295,P=R+(L<<4&4294967295|L>>>28),L=$+(P^R^D)+B[12]+3873151461&4294967295,$=P+(L<<11&4294967295|L>>>21),L=D+($^P^R)+B[15]+530742520&4294967295,D=$+(L<<16&4294967295|L>>>16),L=R+(D^$^P)+B[2]+3299628645&4294967295,R=D+(L<<23&4294967295|L>>>9),L=P+(D^(R|~$))+B[0]+4096336452&4294967295,P=R+(L<<6&4294967295|L>>>26),L=$+(R^(P|~D))+B[7]+1126891415&4294967295,$=P+(L<<10&4294967295|L>>>22),L=D+(P^($|~R))+B[14]+2878612391&4294967295,D=$+(L<<15&4294967295|L>>>17),L=R+($^(D|~P))+B[5]+4237533241&4294967295,R=D+(L<<21&4294967295|L>>>11),L=P+(D^(R|~$))+B[12]+1700485571&4294967295,P=R+(L<<6&4294967295|L>>>26),L=$+(R^(P|~D))+B[3]+2399980690&4294967295,$=P+(L<<10&4294967295|L>>>22),L=D+(P^($|~R))+B[10]+4293915773&4294967295,D=$+(L<<15&4294967295|L>>>17),L=R+($^(D|~P))+B[1]+2240044497&4294967295,R=D+(L<<21&4294967295|L>>>11),L=P+(D^(R|~$))+B[8]+1873313359&4294967295,P=R+(L<<6&4294967295|L>>>26),L=$+(R^(P|~D))+B[15]+4264355552&4294967295,$=P+(L<<10&4294967295|L>>>22),L=D+(P^($|~R))+B[6]+2734768916&4294967295,D=$+(L<<15&4294967295|L>>>17),L=R+($^(D|~P))+B[13]+1309151649&4294967295,R=D+(L<<21&4294967295|L>>>11),L=P+(D^(R|~$))+B[4]+4149444226&4294967295,P=R+(L<<6&4294967295|L>>>26),L=$+(R^(P|~D))+B[11]+3174756917&4294967295,$=P+(L<<10&4294967295|L>>>22),L=D+(P^($|~R))+B[2]+718787259&4294967295,D=$+(L<<15&4294967295|L>>>17),L=R+($^(D|~P))+B[9]+3951481745&4294967295,O.g[0]=O.g[0]+P&4294967295,O.g[1]=O.g[1]+(D+(L<<21&4294967295|L>>>11))&4294967295,O.g[2]=O.g[2]+D&4294967295,O.g[3]=O.g[3]+$&4294967295}r.prototype.v=function(O,P){P===void 0&&(P=O.length);const R=P-this.blockSize,B=this.C;let D=this.h,$=0;for(;$<P;){if(D==0)for(;$<=R;)i(this,O,$),$+=this.blockSize;if(typeof O=="string"){for(;$<P;)if(B[D++]=O.charCodeAt($++),D==this.blockSize){i(this,B),D=0;break}}else for(;$<P;)if(B[D++]=O[$++],D==this.blockSize){i(this,B),D=0;break}}this.h=D,this.o+=P},r.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var P=1;P<O.length-8;++P)O[P]=0;P=this.o*8;for(var R=O.length-8;R<O.length;++R)O[R]=P&255,P/=256;for(this.v(O),O=Array(16),P=0,R=0;R<4;++R)for(let B=0;B<32;B+=8)O[P++]=this.g[R]>>>B&255;return O};function s(O,P){var R=c;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=P(O)}function l(O,P){this.h=P;const R=[];let B=!0;for(let D=O.length-1;D>=0;D--){const $=O[D]|0;B&&$==P||(R[D]=$,B=!1)}this.g=R}var c={};function f(O){return-128<=O&&O<128?s(O,function(P){return new l([P|0],P<0?-1:0)}):new l([O|0],O<0?-1:0)}function h(O){if(isNaN(O)||!isFinite(O))return m;if(O<0)return w(h(-O));const P=[];let R=1;for(let B=0;O>=R;B++)P[B]=O/R|0,R*=4294967296;return new l(P,0)}function p(O,P){if(O.length==0)throw Error("number format error: empty string");if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(O.charAt(0)=="-")return w(p(O.substring(1),P));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=h(Math.pow(P,8));let B=m;for(let $=0;$<O.length;$+=8){var D=Math.min(8,O.length-$);const L=parseInt(O.substring($,$+D),P);D<8?(D=h(Math.pow(P,D)),B=B.j(D).add(h(L))):(B=B.j(R),B=B.add(h(L)))}return B}var m=f(0),v=f(1),_=f(16777216);t=l.prototype,t.m=function(){if(S(this))return-w(this).m();let O=0,P=1;for(let R=0;R<this.g.length;R++){const B=this.i(R);O+=(B>=0?B:4294967296+B)*P,P*=4294967296}return O},t.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(E(this))return"0";if(S(this))return"-"+w(this).toString(O);const P=h(Math.pow(O,6));var R=this;let B="";for(;;){const D=V(R,P).g;R=A(R,D.j(P));let $=((R.g.length>0?R.g[0]:R.h)>>>0).toString(O);if(R=D,E(R))return $+B;for(;$.length<6;)$="0"+$;B=$+B}},t.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function E(O){if(O.h!=0)return!1;for(let P=0;P<O.g.length;P++)if(O.g[P]!=0)return!1;return!0}function S(O){return O.h==-1}t.l=function(O){return O=A(this,O),S(O)?-1:E(O)?0:1};function w(O){const P=O.g.length,R=[];for(let B=0;B<P;B++)R[B]=~O.g[B];return new l(R,~O.h).add(v)}t.abs=function(){return S(this)?w(this):this},t.add=function(O){const P=Math.max(this.g.length,O.g.length),R=[];let B=0;for(let D=0;D<=P;D++){let $=B+(this.i(D)&65535)+(O.i(D)&65535),L=($>>>16)+(this.i(D)>>>16)+(O.i(D)>>>16);B=L>>>16,$&=65535,L&=65535,R[D]=L<<16|$}return new l(R,R[R.length-1]&-2147483648?-1:0)};function A(O,P){return O.add(w(P))}t.j=function(O){if(E(this)||E(O))return m;if(S(this))return S(O)?w(this).j(w(O)):w(w(this).j(O));if(S(O))return w(this.j(w(O)));if(this.l(_)<0&&O.l(_)<0)return h(this.m()*O.m());const P=this.g.length+O.g.length,R=[];for(var B=0;B<2*P;B++)R[B]=0;for(B=0;B<this.g.length;B++)for(let D=0;D<O.g.length;D++){const $=this.i(B)>>>16,L=this.i(B)&65535,Q=O.i(D)>>>16,J=O.i(D)&65535;R[2*B+2*D]+=L*J,I(R,2*B+2*D),R[2*B+2*D+1]+=$*J,I(R,2*B+2*D+1),R[2*B+2*D+1]+=L*Q,I(R,2*B+2*D+1),R[2*B+2*D+2]+=$*Q,I(R,2*B+2*D+2)}for(O=0;O<P;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=P;O<2*P;O++)R[O]=0;return new l(R,0)};function I(O,P){for(;(O[P]&65535)!=O[P];)O[P+1]+=O[P]>>>16,O[P]&=65535,P++}function k(O,P){this.g=O,this.h=P}function V(O,P){if(E(P))throw Error("division by zero");if(E(O))return new k(m,m);if(S(O))return P=V(w(O),P),new k(w(P.g),w(P.h));if(S(P))return P=V(O,w(P)),new k(w(P.g),P.h);if(O.g.length>30){if(S(O)||S(P))throw Error("slowDivide_ only works with positive integers.");for(var R=v,B=P;B.l(O)<=0;)R=C(R),B=C(B);var D=j(R,1),$=j(B,1);for(B=j(B,2),R=j(R,2);!E(B);){var L=$.add(B);L.l(O)<=0&&(D=D.add(R),$=L),B=j(B,1),R=j(R,1)}return P=A(O,D.j(P)),new k(D,P)}for(D=m;O.l(P)>=0;){for(R=Math.max(1,Math.floor(O.m()/P.m())),B=Math.ceil(Math.log(R)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),$=h(R),L=$.j(P);S(L)||L.l(O)>0;)R-=B,$=h(R),L=$.j(P);E($)&&($=v),D=D.add($),O=A(O,L)}return new k(D,O)}t.B=function(O){return V(this,O).h},t.and=function(O){const P=Math.max(this.g.length,O.g.length),R=[];for(let B=0;B<P;B++)R[B]=this.i(B)&O.i(B);return new l(R,this.h&O.h)},t.or=function(O){const P=Math.max(this.g.length,O.g.length),R=[];for(let B=0;B<P;B++)R[B]=this.i(B)|O.i(B);return new l(R,this.h|O.h)},t.xor=function(O){const P=Math.max(this.g.length,O.g.length),R=[];for(let B=0;B<P;B++)R[B]=this.i(B)^O.i(B);return new l(R,this.h^O.h)};function C(O){const P=O.g.length+1,R=[];for(let B=0;B<P;B++)R[B]=O.i(B)<<1|O.i(B-1)>>>31;return new l(R,O.h)}function j(O,P){const R=P>>5;P%=32;const B=O.g.length-R,D=[];for(let $=0;$<B;$++)D[$]=P>0?O.i($+R)>>>P|O.i($+R+1)<<32-P:O.i($+R);return new l(D,O.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,ZL=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,yo=l}).apply(typeof LI<"u"?LI:typeof self<"u"?self:typeof window<"u"?window:{});var um=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var e3,hh,t3,Nm,B1,n3,r3,i3;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof um=="object"&&um];for(var T=0;T<g.length;++T){var M=g[T];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var r=n(this);function i(g,T){if(T)e:{var M=r;g=g.split(".");for(var z=0;z<g.length-1;z++){var te=g[z];if(!(te in M))break e;M=M[te]}g=g[g.length-1],z=M[g],T=T(z),T!=z&&T!=null&&e(M,g,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(g){return g||function(T){var M=[],z;for(z in T)Object.prototype.hasOwnProperty.call(T,z)&&M.push([z,T[z]]);return M}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function c(g){var T=typeof g;return T=="object"&&g!=null||T=="function"}function f(g,T,M){return g.call.apply(g.bind,arguments)}function h(g,T,M){return h=f,h.apply(null,arguments)}function p(g,T){var M=Array.prototype.slice.call(arguments,1);return function(){var z=M.slice();return z.push.apply(z,arguments),g.apply(this,z)}}function m(g,T){function M(){}M.prototype=T.prototype,g.Z=T.prototype,g.prototype=new M,g.prototype.constructor=g,g.Ob=function(z,te,le){for(var ke=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)ke[gt-2]=arguments[gt];return T.prototype[te].apply(z,ke)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function _(g){const T=g.length;if(T>0){const M=Array(T);for(let z=0;z<T;z++)M[z]=g[z];return M}return[]}function E(g,T){for(let z=1;z<arguments.length;z++){const te=arguments[z];var M=typeof te;if(M=M!="object"?M:te?Array.isArray(te)?"array":M:"null",M=="array"||M=="object"&&typeof te.length=="number"){M=g.length||0;const le=te.length||0;g.length=M+le;for(let ke=0;ke<le;ke++)g[M+ke]=te[ke]}else g.push(te)}}class S{constructor(T,M){this.i=T,this.j=M,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function w(g){l.setTimeout(()=>{throw g},0)}function A(){var g=O;let T=null;return g.g&&(T=g.g,g.g=g.g.next,g.g||(g.h=null),T.next=null),T}class I{constructor(){this.h=this.g=null}add(T,M){const z=k.get();z.set(T,M),this.h?this.h.next=z:this.g=z,this.h=z}}var k=new S(()=>new V,g=>g.reset());class V{constructor(){this.next=this.g=this.h=null}set(T,M){this.h=T,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let C,j=!1,O=new I,P=()=>{const g=Promise.resolve(void 0);C=()=>{g.then(R)}};function R(){for(var g;g=A();){try{g.h.call(g.g)}catch(M){w(M)}var T=k;T.j(g),T.h<100&&(T.h++,g.next=T.g,T.g=g)}j=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(g,T){this.type=g,this.g=this.target=T,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,T=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const M=()=>{};l.addEventListener("test",M,T),l.removeEventListener("test",M,T)}catch{}return g})();function L(g){return/^[\s\xa0]*$/.test(g)}function Q(g,T){D.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,T)}m(Q,D),Q.prototype.init=function(g,T){const M=this.type=g.type,z=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=T,T=g.relatedTarget,T||(M=="mouseover"?T=g.fromElement:M=="mouseout"&&(T=g.toElement)),this.relatedTarget=T,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&Q.Z.h.call(this)},Q.prototype.h=function(){Q.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var J="closure_listenable_"+(Math.random()*1e6|0),F=0;function Y(g,T,M,z,te){this.listener=g,this.proxy=null,this.src=T,this.type=M,this.capture=!!z,this.ha=te,this.key=++F,this.da=this.fa=!1}function ee(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function ue(g,T,M){for(const z in g)T.call(M,g[z],z,g)}function ve(g,T){for(const M in g)T.call(void 0,g[M],M,g)}function H(g){const T={};for(const M in g)T[M]=g[M];return T}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(g,T){let M,z;for(let te=1;te<arguments.length;te++){z=arguments[te];for(M in z)g[M]=z[M];for(let le=0;le<W.length;le++)M=W[le],Object.prototype.hasOwnProperty.call(z,M)&&(g[M]=z[M])}}function me(g){this.src=g,this.g={},this.h=0}me.prototype.add=function(g,T,M,z,te){const le=g.toString();g=this.g[le],g||(g=this.g[le]=[],this.h++);const ke=Se(g,T,z,te);return ke>-1?(T=g[ke],M||(T.fa=!1)):(T=new Y(T,this.src,le,!!z,te),T.fa=M,g.push(T)),T};function we(g,T){const M=T.type;if(M in g.g){var z=g.g[M],te=Array.prototype.indexOf.call(z,T,void 0),le;(le=te>=0)&&Array.prototype.splice.call(z,te,1),le&&(ee(T),g.g[M].length==0&&(delete g.g[M],g.h--))}}function Se(g,T,M,z){for(let te=0;te<g.length;++te){const le=g[te];if(!le.da&&le.listener==T&&le.capture==!!M&&le.ha==z)return te}return-1}var Re="closure_lm_"+(Math.random()*1e6|0),$e={};function ye(g,T,M,z,te){if(Array.isArray(T)){for(let le=0;le<T.length;le++)ye(g,T[le],M,z,te);return null}return M=st(M),g&&g[J]?g.J(T,M,c(z)?!!z.capture:!1,te):Ee(g,T,M,!1,z,te)}function Ee(g,T,M,z,te,le){if(!T)throw Error("Invalid event type");const ke=c(te)?!!te.capture:!!te;let gt=Be(g);if(gt||(g[Re]=gt=new me(g)),M=gt.add(T,M,z,ke,le),M.proxy)return M;if(z=Ne(),M.proxy=z,z.src=g,z.listener=M,g.addEventListener)$||(te=ke),te===void 0&&(te=!1),g.addEventListener(T.toString(),z,te);else if(g.attachEvent)g.attachEvent(xe(T.toString()),z);else if(g.addListener&&g.removeListener)g.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return M}function Ne(){function g(M){return T.call(g.src,g.listener,M)}const T=Te;return g}function ne(g,T,M,z,te){if(Array.isArray(T))for(var le=0;le<T.length;le++)ne(g,T[le],M,z,te);else z=c(z)?!!z.capture:!!z,M=st(M),g&&g[J]?(g=g.i,le=String(T).toString(),le in g.g&&(T=g.g[le],M=Se(T,M,z,te),M>-1&&(ee(T[M]),Array.prototype.splice.call(T,M,1),T.length==0&&(delete g.g[le],g.h--)))):g&&(g=Be(g))&&(T=g.g[T.toString()],g=-1,T&&(g=Se(T,M,z,te)),(M=g>-1?T[g]:null)&&Ge(M))}function Ge(g){if(typeof g!="number"&&g&&!g.da){var T=g.src;if(T&&T[J])we(T.i,g);else{var M=g.type,z=g.proxy;T.removeEventListener?T.removeEventListener(M,z,g.capture):T.detachEvent?T.detachEvent(xe(M),z):T.addListener&&T.removeListener&&T.removeListener(z),(M=Be(T))?(we(M,g),M.h==0&&(M.src=null,T[Re]=null)):ee(g)}}}function xe(g){return g in $e?$e[g]:$e[g]="on"+g}function Te(g,T){if(g.da)g=!0;else{T=new Q(T,this);const M=g.listener,z=g.ha||g.src;g.fa&&Ge(g),g=M.call(z,T)}return g}function Be(g){return g=g[Re],g instanceof me?g:null}var We="__closure_events_fn_"+(Math.random()*1e9>>>0);function st(g){return typeof g=="function"?g:(g[We]||(g[We]=function(T){return g.handleEvent(T)}),g[We])}function Ye(){B.call(this),this.i=new me(this),this.M=this,this.G=null}m(Ye,B),Ye.prototype[J]=!0,Ye.prototype.removeEventListener=function(g,T,M,z){ne(this,g,T,M,z)};function qe(g,T){var M,z=g.G;if(z)for(M=[];z;z=z.G)M.push(z);if(g=g.M,z=T.type||T,typeof T=="string")T=new D(T,g);else if(T instanceof D)T.target=T.target||g;else{var te=T;T=new D(z,g),oe(T,te)}te=!0;let le,ke;if(M)for(ke=M.length-1;ke>=0;ke--)le=T.g=M[ke],te=_t(le,z,!0,T)&&te;if(le=T.g=g,te=_t(le,z,!0,T)&&te,te=_t(le,z,!1,T)&&te,M)for(ke=0;ke<M.length;ke++)le=T.g=M[ke],te=_t(le,z,!1,T)&&te}Ye.prototype.N=function(){if(Ye.Z.N.call(this),this.i){var g=this.i;for(const T in g.g){const M=g.g[T];for(let z=0;z<M.length;z++)ee(M[z]);delete g.g[T],g.h--}}this.G=null},Ye.prototype.J=function(g,T,M,z){return this.i.add(String(g),T,!1,M,z)},Ye.prototype.K=function(g,T,M,z){return this.i.add(String(g),T,!0,M,z)};function _t(g,T,M,z){if(T=g.i.g[String(T)],!T)return!0;T=T.concat();let te=!0;for(let le=0;le<T.length;++le){const ke=T[le];if(ke&&!ke.da&&ke.capture==M){const gt=ke.listener,Nn=ke.ha||ke.src;ke.fa&&we(g.i,ke),te=gt.call(Nn,z)!==!1&&te}}return te&&!z.defaultPrevented}function Dt(g,T){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=h(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:l.setTimeout(g,T||0)}function En(g){g.g=Dt(()=>{g.g=null,g.i&&(g.i=!1,En(g))},g.l);const T=g.h;g.h=null,g.m.apply(null,T)}class Ie extends B{constructor(T,M){super(),this.m=T,this.l=M,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:En(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ht(g){B.call(this),this.h=g,this.g={}}m(ht,B);var xt=[];function Vt(g){ue(g.g,function(T,M){this.g.hasOwnProperty(M)&&Ge(T)},g),g.g={}}ht.prototype.N=function(){ht.Z.N.call(this),Vt(this)},ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zt=l.JSON.stringify,en=l.JSON.parse,bn=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function kt(){}function he(){}var Ae={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ke(){D.call(this,"d")}m(Ke,D);function Pt(){D.call(this,"c")}m(Pt,D);var ot={},Kt=null;function Nt(){return Kt=Kt||new Ye}ot.Ia="serverreachability";function dt(g){D.call(this,ot.Ia,g)}m(dt,D);function $t(g){const T=Nt();qe(T,new dt(T))}ot.STAT_EVENT="statevent";function Ue(g,T){D.call(this,ot.STAT_EVENT,g),this.stat=T}m(Ue,D);function Oe(g){const T=Nt();qe(T,new Ue(T,g))}ot.Ja="timingevent";function je(g,T){D.call(this,ot.Ja,g),this.size=T}m(je,D);function pt(g,T){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},T)}function jt(){this.g=!0}jt.prototype.ua=function(){this.g=!1};function or(g,T,M,z,te,le){g.info(function(){if(g.g)if(le){var ke="",gt=le.split("&");for(let Ft=0;Ft<gt.length;Ft++){var Nn=gt[Ft].split("=");if(Nn.length>1){const gn=Nn[0];Nn=Nn[1];const xi=gn.split("_");ke=xi.length>=2&&xi[1]=="type"?ke+(gn+"="+Nn+"&"):ke+(gn+"=redacted&")}}}else ke=null;else ke=le;return"XMLHTTP REQ ("+z+") [attempt "+te+"]: "+T+`
`+M+`
`+ke})}function Vr(g,T,M,z,te,le,ke){g.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+te+"]: "+T+`
`+M+`
`+le+" "+ke})}function Dn(g,T,M,z){g.info(function(){return"XMLHTTP TEXT ("+T+"): "+sf(g,M)+(z?" "+z:"")})}function Yr(g,T){g.info(function(){return"TIMEOUT: "+T})}jt.prototype.info=function(){};function sf(g,T){if(!g.g)return T;if(!T)return null;try{const le=JSON.parse(T);if(le){for(g=0;g<le.length;g++)if(Array.isArray(le[g])){var M=le[g];if(!(M.length<2)){var z=M[1];if(Array.isArray(z)&&!(z.length<1)){var te=z[0];if(te!="noop"&&te!="stop"&&te!="close")for(let ke=1;ke<z.length;ke++)z[ke]=""}}}}return Zt(le)}catch{return T}}var Ma={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Mo;function Da(){}m(Da,kt),Da.prototype.g=function(){return new XMLHttpRequest},Mo=new Da;function Li(g){return encodeURIComponent(String(g))}function Ql(g){var T=1;g=g.split(":");const M=[];for(;T>0&&g.length;)M.push(g.shift()),T--;return g.length&&M.push(g.join(":")),M}function Xr(g,T,M,z){this.j=g,this.i=T,this.l=M,this.S=z||1,this.V=new ht(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qr}function Qr(){this.i=null,this.g="",this.h=!1}var kn={},Pn={};function $r(g,T,M){g.M=1,g.A=Pe(Tn(T)),g.u=M,g.R=!0,Vi(g,null)}function Vi(g,T){g.F=Date.now(),mi(g),g.B=Tn(g.A);var M=g.B,z=g.S;Array.isArray(z)||(z=[String(z)]),nu(M.i,"t",z),g.C=0,M=g.j.L,g.h=new Qr,g.g=ep(g.j,M?T:null,!g.u),g.P>0&&(g.O=new Ie(h(g.Y,g,g.g),g.P)),T=g.V,M=g.g,z=g.ba;var te="readystatechange";Array.isArray(te)||(te&&(xt[0]=te.toString()),te=xt);for(let le=0;le<te.length;le++){const ke=ye(M,te[le],z||T.handleEvent,!1,T.h||T);if(!ke)break;T.g[ke.key]=ke}T=g.J?H(g.J):{},g.u?(g.v||(g.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,T)):(g.v="GET",g.g.ea(g.B,g.v,null,T)),$t(),or(g.i,g.v,g.B,g.l,g.S,g.u)}Xr.prototype.ba=function(g){g=g.target;const T=this.O;T&&qi(g)==3?T.j():this.Y(g)},Xr.prototype.Y=function(g){try{if(g==this.g)e:{const gt=qi(this.g),Nn=this.g.ya(),Ft=this.g.ca();if(!(gt<3)&&(gt!=3||this.g&&(this.h.h||this.g.la()||ur(this.g)))){this.K||gt!=4||Nn==7||(Nn==8||Ft<=0?$t(3):$t(2)),br(this);var T=this.g.ca();this.X=T;var M=As(this);if(this.o=T==200,Vr(this.i,this.v,this.B,this.l,this.S,gt,T),this.o){if(this.U&&!this.L){t:{if(this.g){var z,te=this.g;if((z=te.g?te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(z)){var le=z;break t}}le=null}if(g=le)Dn(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gi(this,g);else{this.o=!1,this.m=3,Oe(12),kr(this),xr(this);break e}}if(this.R){g=!0;let gn;for(;!this.K&&this.C<M.length;)if(gn=Zl(this,M),gn==Pn){gt==4&&(this.m=4,Oe(14),g=!1),Dn(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==kn){this.m=4,Oe(15),Dn(this.i,this.l,M,"[Invalid Chunk]"),g=!1;break}else Dn(this.i,this.l,gn,null),gi(this,gn);if(Jl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||M.length!=0||this.h.h||(this.m=1,Oe(16),g=!1),this.o=this.o&&g,!g)Dn(this.i,this.l,M,"[Invalid Chunked Response]"),kr(this),xr(this);else if(M.length>0&&!this.W){this.W=!0;var ke=this.j;ke.g==this&&ke.aa&&!ke.P&&(ke.j.info("Great, no buffering proxy detected. Bytes received: "+M.length),pf(ke),ke.P=!0,Oe(11))}}else Dn(this.i,this.l,M,null),gi(this,M);gt==4&&kr(this),this.o&&!this.K&&(gt==4?Xd(this.j,this):(this.o=!1,mi(this)))}else $a(this.g),T==400&&M.indexOf("Unknown SID")>0?(this.m=3,Oe(12)):(this.m=0,Oe(13)),kr(this),xr(this)}}}catch{}finally{}};function As(g){if(!Jl(g))return g.g.la();const T=ur(g.g);if(T==="")return"";let M="";const z=T.length,te=qi(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return kr(g),xr(g),"";g.h.i=new l.TextDecoder}for(let le=0;le<z;le++)g.h.h=!0,M+=g.h.i.decode(T[le],{stream:!(te&&le==z-1)});return T.length=0,g.h.g+=M,g.C=0,g.h.g}function Jl(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function Zl(g,T){var M=g.C,z=T.indexOf(`
`,M);return z==-1?Pn:(M=Number(T.substring(M,z)),isNaN(M)?kn:(z+=1,z+M>T.length?Pn:(T=T.slice(z,z+M),g.C=z+M,T)))}Xr.prototype.cancel=function(){this.K=!0,kr(this)};function mi(g){g.T=Date.now()+g.H,$i(g,g.H)}function $i(g,T){if(g.D!=null)throw Error("WatchDog timer not null");g.D=pt(h(g.aa,g),T)}function br(g){g.D&&(l.clearTimeout(g.D),g.D=null)}Xr.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(Yr(this.i,this.B),this.M!=2&&($t(),Oe(17)),kr(this),this.m=2,xr(this)):$i(this,this.T-g)};function xr(g){g.j.I==0||g.K||Xd(g.j,g)}function kr(g){br(g);var T=g.O;T&&typeof T.dispose=="function"&&T.dispose(),g.O=null,Vt(g.V),g.g&&(T=g.g,g.g=null,T.abort(),T.dispose())}function gi(g,T){try{var M=g.j;if(M.I!=0&&(M.g==g||yi(M.h,g))){if(!g.L&&yi(M.h,g)&&M.I==3){try{var z=M.Ba.g.parse(T)}catch{z=null}if(Array.isArray(z)&&z.length==3){var te=z;if(te[0]==0){e:if(!M.v){if(M.g)if(M.g.F+3e3<g.F)ou(M),Ns(M);else break e;Go(M),Oe(18)}}else M.xa=te[1],0<M.xa-M.K&&te[2]<37500&&M.F&&M.A==0&&!M.C&&(M.C=pt(h(M.Va,M),6e3));Jr(M.h)<=1&&M.ta&&(M.ta=void 0)}else ha(M,11)}else if((g.L||M.g==g)&&ou(M),!L(T))for(te=M.Ba.g.parse(T),T=0;T<te.length;T++){let Ft=te[T];const gn=Ft[0];if(!(gn<=M.K))if(M.K=gn,Ft=Ft[1],M.I==2)if(Ft[0]=="c"){M.M=Ft[1],M.ba=Ft[2];const xi=Ft[3];xi!=null&&(M.ka=xi,M.j.info("VER="+M.ka));const da=Ft[4];da!=null&&(M.za=da,M.j.info("SVER="+M.za));const zi=Ft[5];zi!=null&&typeof zi=="number"&&zi>0&&(z=1.5*zi,M.O=z,M.j.info("backChannelRequestTimeoutMs_="+z)),z=M;const Fi=g.g;if(Fi){const Ko=Fi.g?Fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ko){var le=z.h;le.g||Ko.indexOf("spdy")==-1&&Ko.indexOf("quic")==-1&&Ko.indexOf("h2")==-1||(le.j=le.l,le.g=new Set,le.h&&(Lo(le,le.h),le.h=null))}if(z.G){const lu=Fi.g?Fi.g.getResponseHeader("X-HTTP-Session-Id"):null;lu&&(z.wa=lu,ie(z.J,z.G,lu))}}M.I=3,M.l&&M.l.ra(),M.aa&&(M.T=Date.now()-g.F,M.j.info("Handshake RTT: "+M.T+"ms")),z=M;var ke=g;if(z.na=Zd(z,z.L?z.ba:null,z.W),ke.L){Vo(z.h,ke);var gt=ke,Nn=z.O;Nn&&(gt.H=Nn),gt.D&&(br(gt),mi(gt)),z.g=ke}else Wd(z);M.i.length>0&&fa(M)}else Ft[0]!="stop"&&Ft[0]!="close"||ha(M,7);else M.I==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?ha(M,7):hf(M):Ft[0]!="noop"&&M.l&&M.l.qa(Ft),M.A=0)}}$t(4)}catch{}}var xn=class{constructor(g,T){this.g=g,this.map=T}};function Do(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function La(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Jr(g){return g.h?1:g.g?g.g.size:0}function yi(g,T){return g.h?g.h==T:g.g?g.g.has(T):!1}function Lo(g,T){g.g?g.g.add(T):g.h=T}function Vo(g,T){g.h&&g.h==T?g.h=null:g.g&&g.g.has(T)&&g.g.delete(T)}Do.prototype.cancel=function(){if(this.i=$o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function $o(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let T=g.i;for(const M of g.g.values())T=T.concat(M.G);return T}return _(g.i)}var eu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Os(g,T){if(g){g=g.split("&");for(let M=0;M<g.length;M++){const z=g[M].indexOf("=");let te,le=null;z>=0?(te=g[M].substring(0,z),le=g[M].substring(z+1)):te=g[M],T(te,le?decodeURIComponent(le.replace(/\+/g," ")):"")}}}function Pr(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;g instanceof Pr?(this.l=g.l,Ln(this,g.j),this.o=g.o,this.g=g.g,aa(this,g.u),this.h=g.h,Uo(this,Gd(g.i)),this.m=g.m):g&&(T=String(g).match(eu))?(this.l=!1,Ln(this,T[1]||"",!0),this.o=Me(T[2]||""),this.g=Me(T[3]||"",!0),aa(this,T[4]),this.h=Me(T[5]||"",!0),Uo(this,T[6]||"",!0),this.m=Me(T[7]||"")):(this.l=!1,this.i=new oa(null,this.l))}Pr.prototype.toString=function(){const g=[];var T=this.j;T&&g.push(Qe(T,mt,!0),":");var M=this.g;return(M||T=="file")&&(g.push("//"),(T=this.o)&&g.push(Qe(T,mt,!0),"@"),g.push(Li(M).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.u,M!=null&&g.push(":",String(M))),(M=this.h)&&(this.g&&M.charAt(0)!="/"&&g.push("/"),g.push(Qe(M,M.charAt(0)=="/"?_r:Lt,!0))),(M=this.i.toString())&&g.push("?",M),(M=this.m)&&g.push("#",Qe(M,tu)),g.join("")},Pr.prototype.resolve=function(g){const T=Tn(this);let M=!!g.j;M?Ln(T,g.j):M=!!g.o,M?T.o=g.o:M=!!g.g,M?T.g=g.g:M=g.u!=null;var z=g.h;if(M)aa(T,g.u);else if(M=!!g.h){if(z.charAt(0)!="/")if(this.g&&!this.h)z="/"+z;else{var te=T.h.lastIndexOf("/");te!=-1&&(z=T.h.slice(0,te+1)+z)}if(te=z,te==".."||te==".")z="";else if(te.indexOf("./")!=-1||te.indexOf("/.")!=-1){z=te.lastIndexOf("/",0)==0,te=te.split("/");const le=[];for(let ke=0;ke<te.length;){const gt=te[ke++];gt=="."?z&&ke==te.length&&le.push(""):gt==".."?((le.length>1||le.length==1&&le[0]!="")&&le.pop(),z&&ke==te.length&&le.push("")):(le.push(gt),z=!0)}z=le.join("/")}else z=te}return M?T.h=z:M=g.i.toString()!=="",M?Uo(T,Gd(g.i)):M=!!g.m,M&&(T.m=g.m),T};function Tn(g){return new Pr(g)}function Ln(g,T,M){g.j=M?Me(T,!0):T,g.j&&(g.j=g.j.replace(/:$/,""))}function aa(g,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);g.u=T}else g.u=null}function Uo(g,T,M){T instanceof oa?(g.i=T,ru(g.i,g.l)):(M||(T=Qe(T,sa)),g.i=new oa(T,g.l))}function ie(g,T,M){g.i.set(T,M)}function Pe(g){return ie(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function Me(g,T){return g?T?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Qe(g,T,M){return typeof g=="string"?(g=encodeURI(g).replace(T,lt),M&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function lt(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var mt=/[#\/\?@]/g,Lt=/[#\?:]/g,_r=/[#\?]/g,sa=/[#\?@]/g,tu=/#/g;function oa(g,T){this.h=this.g=null,this.i=g||null,this.j=!!T}function lr(g){g.g||(g.g=new Map,g.h=0,g.i&&Os(g.i,function(T,M){g.add(decodeURIComponent(T.replace(/\+/g," ")),M)}))}t=oa.prototype,t.add=function(g,T){lr(this),this.i=null,g=Cs(this,g);let M=this.g.get(g);return M||this.g.set(g,M=[]),M.push(T),this.h+=1,this};function Hd(g,T){lr(g),T=Cs(g,T),g.g.has(T)&&(g.i=null,g.h-=g.g.get(T).length,g.g.delete(T))}function of(g,T){return lr(g),T=Cs(g,T),g.g.has(T)}t.forEach=function(g,T){lr(this),this.g.forEach(function(M,z){M.forEach(function(te){g.call(T,te,z,this)},this)},this)};function lf(g,T){lr(g);let M=[];if(typeof T=="string")of(g,T)&&(M=M.concat(g.g.get(Cs(g,T))));else for(g=Array.from(g.g.values()),T=0;T<g.length;T++)M=M.concat(g[T]);return M}t.set=function(g,T){return lr(this),this.i=null,g=Cs(this,g),of(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[T]),this.h+=1,this},t.get=function(g,T){return g?(g=lf(this,g),g.length>0?String(g[0]):T):T};function nu(g,T,M){Hd(g,T),M.length>0&&(g.i=null,g.g.set(Cs(g,T),_(M)),g.h+=M.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],T=Array.from(this.g.keys());for(let z=0;z<T.length;z++){var M=T[z];const te=Li(M);M=lf(this,M);for(let le=0;le<M.length;le++){let ke=te;M[le]!==""&&(ke+="="+Li(M[le])),g.push(ke)}}return this.i=g.join("&")};function Gd(g){const T=new oa;return T.i=g.i,g.g&&(T.g=new Map(g.g),T.h=g.h),T}function Cs(g,T){return T=String(T),g.j&&(T=T.toLowerCase()),T}function ru(g,T){T&&!g.j&&(lr(g),g.i=null,g.g.forEach(function(M,z){const te=z.toLowerCase();z!=te&&(Hd(this,z),nu(this,te,M))},g)),g.j=T}function Ui(g,T){const M=new jt;if(l.Image){const z=new Image;z.onload=p(vi,M,"TestLoadImage: loaded",!0,T,z),z.onerror=p(vi,M,"TestLoadImage: error",!1,T,z),z.onabort=p(vi,M,"TestLoadImage: abort",!1,T,z),z.ontimeout=p(vi,M,"TestLoadImage: timeout",!1,T,z),l.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=g}else T(!1)}function uf(g,T){const M=new jt,z=new AbortController,te=setTimeout(()=>{z.abort(),vi(M,"TestPingServer: timeout",!1,T)},1e4);fetch(g,{signal:z.signal}).then(le=>{clearTimeout(te),le.ok?vi(M,"TestPingServer: ok",!0,T):vi(M,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(te),vi(M,"TestPingServer: error",!1,T)})}function vi(g,T,M,z,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),z(M)}catch{}}function Is(){this.g=new bn}function la(g){this.i=g.Sb||null,this.h=g.ab||!1}m(la,kt),la.prototype.g=function(){return new Bo(this.i,this.h)};function Bo(g,T){Ye.call(this),this.H=g,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Bo,Ye),t=Bo.prototype,t.open=function(g,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=T,this.readyState=1,Bi(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(T.body=g),(this.H||l).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ks(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Bi(this)),this.g&&(this.readyState=3,Bi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;iu(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function iu(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var T=g.value?g.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!g.done}))&&(this.response=this.responseText+=T)}g.done?ks(this):Bi(this),this.readyState==3&&iu(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,ks(this))},t.Na=function(g){this.g&&(this.response=g,ks(this))},t.ga=function(){this.g&&ks(this)};function ks(g){g.readyState=4,g.l=null,g.j=null,g.B=null,Bi(g)}t.setRequestHeader=function(g,T){this.A.append(g,T)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],T=this.h.entries();for(var M=T.next();!M.done;)M=M.value,g.push(M[0]+": "+M[1]),M=T.next();return g.join(`\r
`)};function Bi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Bo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function bi(g){let T="";return ue(g,function(M,z){T+=z,T+=":",T+=M,T+=`\r
`}),T}function qo(g,T,M){e:{for(z in M){var z=!1;break e}z=!0}z||(M=bi(M),typeof g=="string"?M!=null&&Li(M):ie(g,T,M))}function tn(g){Ye.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(tn,Ye);var ua=/^https?$/i,cf=["POST","PUT"];t=tn.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,T,M,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);T=T?T.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Mo.g(),this.g.onreadystatechange=v(h(this.Ca,this));try{this.B=!0,this.g.open(T,String(g),!0),this.B=!1}catch(le){zo(this,le);return}if(g=M||"",M=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var te in z)M.set(te,z[te]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const le of z.keys())M.set(le,z.get(le));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(M.keys()).find(le=>le.toLowerCase()=="content-type"),te=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(cf,T,void 0)>=0)||z||te||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[le,ke]of M)this.g.setRequestHeader(le,ke);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(le){zo(this,le)}};function zo(g,T){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=T,g.o=5,ff(g),Va(g)}function ff(g){g.A||(g.A=!0,qe(g,"complete"),qe(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,qe(this,"complete"),qe(this,"abort"),Va(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Va(this,!0)),tn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Fo(this):this.Xa())},t.Xa=function(){Fo(this)};function Fo(g){if(g.h&&typeof s<"u"){if(g.v&&qi(g)==4)setTimeout(g.Ca.bind(g),0);else if(qe(g,"readystatechange"),qi(g)==4){g.h=!1;try{const le=g.ca();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var M;if(!(M=T)){var z;if(z=le===0){let ke=String(g.D).match(eu)[1]||null;!ke&&l.self&&l.self.location&&(ke=l.self.location.protocol.slice(0,-1)),z=!ua.test(ke?ke.toLowerCase():"")}M=z}if(M)qe(g,"complete"),qe(g,"success");else{g.o=6;try{var te=qi(g)>2?g.g.statusText:""}catch{te=""}g.l=te+" ["+g.ca()+"]",ff(g)}}finally{Va(g)}}}}function Va(g,T){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const M=g.g;g.g=null,T||qe(g,"ready");try{M.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function qi(g){return g.g?g.g.readyState:0}t.ca=function(){try{return qi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var T=this.g.responseText;return g&&T.indexOf(g)==0&&(T=T.substring(g.length)),en(T)}};function ur(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function $a(g){const T={};g=(g.g&&qi(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<g.length;z++){if(L(g[z]))continue;var M=Ql(g[z]);const te=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const le=T[te]||[];T[te]=le,le.push(M)}ve(T,function(z){return z.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ca(g,T,M){return M&&M.internalChannelParams&&M.internalChannelParams[g]||T}function Ps(g){this.za=0,this.i=[],this.j=new jt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ca("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ca("baseRetryDelayMs",5e3,g),this.Za=ca("retryDelaySeedMs",1e4,g),this.Ta=ca("forwardChannelMaxRetries",2,g),this.va=ca("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new Do(g&&g.concurrentRequestLimit),this.Ba=new Is,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ps.prototype,t.ka=8,t.I=1,t.connect=function(g,T,M,z){Oe(0),this.W=g,this.H=T||{},M&&z!==void 0&&(this.H.OSID=M,this.H.OAID=z),this.F=this.X,this.J=Zd(this,null,this.W),fa(this)};function hf(g){if(au(g),g.I==3){var T=g.V++,M=Tn(g.J);if(ie(M,"SID",g.M),ie(M,"RID",T),ie(M,"TYPE","terminate"),Ho(g,M),T=new Xr(g,g.j,T),T.M=2,T.A=Pe(Tn(M)),M=!1,l.navigator&&l.navigator.sendBeacon)try{M=l.navigator.sendBeacon(T.A.toString(),"")}catch{}!M&&l.Image&&(new Image().src=T.A,M=!0),M||(T.g=ep(T.j,null),T.g.ea(T.A)),T.F=Date.now(),mi(T)}Jd(g)}function Ns(g){g.g&&(pf(g),g.g.cancel(),g.g=null)}function au(g){Ns(g),g.v&&(l.clearTimeout(g.v),g.v=null),ou(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function fa(g){if(!La(g.h)&&!g.m){g.m=!0;var T=g.Ea;C||P(),j||(C(),j=!0),O.add(T,g),g.D=0}}function su(g,T){return Jr(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=T.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=pt(h(g.Ea,g,T),Qd(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const te=new Xr(this,this.j,g);let le=this.o;if(this.U&&(le?(le=H(le),oe(le,this.U)):le=this.U),this.u!==null||this.R||(te.J=le,le=null),this.S)e:{for(var T=0,M=0;M<this.i.length;M++){t:{var z=this.i[M];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(T+=z,T>4096){T=M;break e}if(T===4096||M===this.i.length-1){T=M+1;break e}}T=1e3}else T=1e3;T=Kd(this,te,T),M=Tn(this.J),ie(M,"RID",g),ie(M,"CVER",22),this.G&&ie(M,"X-HTTP-Session-Id",this.G),Ho(this,M),le&&(this.R?T="headers="+Li(bi(le))+"&"+T:this.u&&qo(M,this.u,le)),Lo(this.h,te),this.Ra&&ie(M,"TYPE","init"),this.S?(ie(M,"$req",T),ie(M,"SID","null"),te.U=!0,$r(te,M,null)):$r(te,M,T),this.I=2}}else this.I==3&&(g?df(this,g):this.i.length==0||La(this.h)||df(this))};function df(g,T){var M;T?M=T.l:M=g.V++;const z=Tn(g.J);ie(z,"SID",g.M),ie(z,"RID",M),ie(z,"AID",g.K),Ho(g,z),g.u&&g.o&&qo(z,g.u,g.o),M=new Xr(g,g.j,M,g.D+1),g.u===null&&(M.J=g.o),T&&(g.i=T.G.concat(g.i)),T=Kd(g,M,1e3),M.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),Lo(g.h,M),$r(M,z,T)}function Ho(g,T){g.H&&ue(g.H,function(M,z){ie(T,z,M)}),g.l&&ue({},function(M,z){ie(T,z,M)})}function Kd(g,T,M){M=Math.min(g.i.length,M);const z=g.l?h(g.l.Ka,g.l,g):null;e:{var te=g.i;let gt=-1;for(;;){const Nn=["count="+M];gt==-1?M>0?(gt=te[0].g,Nn.push("ofs="+gt)):gt=0:Nn.push("ofs="+gt);let Ft=!0;for(let gn=0;gn<M;gn++){var le=te[gn].g;const xi=te[gn].map;if(le-=gt,le<0)gt=Math.max(0,te[gn].g-100),Ft=!1;else try{le="req"+le+"_"||"";try{var ke=xi instanceof Map?xi:Object.entries(xi);for(const[da,zi]of ke){let Fi=zi;c(zi)&&(Fi=Zt(zi)),Nn.push(le+da+"="+encodeURIComponent(Fi))}}catch(da){throw Nn.push(le+"type="+encodeURIComponent("_badmap")),da}}catch{z&&z(xi)}}if(Ft){ke=Nn.join("&");break e}}ke=void 0}return g=g.i.splice(0,M),T.G=g,ke}function Wd(g){if(!g.g&&!g.v){g.Y=1;var T=g.Da;C||P(),j||(C(),j=!0),O.add(T,g),g.A=0}}function Go(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=pt(h(g.Da,g),Qd(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,Yd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=pt(h(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Oe(10),Ns(this),Yd(this))};function pf(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function Yd(g){g.g=new Xr(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var T=Tn(g.na);ie(T,"RID","rpc"),ie(T,"SID",g.M),ie(T,"AID",g.K),ie(T,"CI",g.F?"0":"1"),!g.F&&g.ia&&ie(T,"TO",g.ia),ie(T,"TYPE","xmlhttp"),Ho(g,T),g.u&&g.o&&qo(T,g.u,g.o),g.O&&(g.g.H=g.O);var M=g.g;g=g.ba,M.M=1,M.A=Pe(Tn(T)),M.u=null,M.R=!0,Vi(M,g)}t.Va=function(){this.C!=null&&(this.C=null,Ns(this),Go(this),Oe(19))};function ou(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function Xd(g,T){var M=null;if(g.g==T){ou(g),pf(g),g.g=null;var z=2}else if(yi(g.h,T))M=T.G,Vo(g.h,T),z=1;else return;if(g.I!=0){if(T.o)if(z==1){M=T.u?T.u.length:0,T=Date.now()-T.F;var te=g.D;z=Nt(),qe(z,new je(z,M)),fa(g)}else Wd(g);else if(te=T.m,te==3||te==0&&T.X>0||!(z==1&&su(g,T)||z==2&&Go(g)))switch(M&&M.length>0&&(T=g.h,T.i=T.i.concat(M)),te){case 1:ha(g,5);break;case 4:ha(g,10);break;case 3:ha(g,6);break;default:ha(g,2)}}}function Qd(g,T){let M=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(M*=2),M*T}function ha(g,T){if(g.j.info("Error code "+T),T==2){var M=h(g.bb,g),z=g.Ua;const te=!z;z=new Pr(z||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ln(z,"https"),Pe(z),te?Ui(z.toString(),M):uf(z.toString(),M)}else Oe(2);g.I=0,g.l&&g.l.pa(T),Jd(g),au(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),Oe(2)):(this.j.info("Failed to ping google.com"),Oe(1))};function Jd(g){if(g.I=0,g.ja=[],g.l){const T=$o(g.h);(T.length!=0||g.i.length!=0)&&(E(g.ja,T),E(g.ja,g.i),g.h.i.length=0,_(g.i),g.i.length=0),g.l.oa()}}function Zd(g,T,M){var z=M instanceof Pr?Tn(M):new Pr(M);if(z.g!="")T&&(z.g=T+"."+z.g),aa(z,z.u);else{var te=l.location;z=te.protocol,T=T?T+"."+te.hostname:te.hostname,te=+te.port;const le=new Pr(null);z&&Ln(le,z),T&&(le.g=T),te&&aa(le,te),M&&(le.h=M),z=le}return M=g.G,T=g.wa,M&&T&&ie(z,M,T),ie(z,"VER",g.ka),Ho(g,z),z}function ep(g,T,M){if(T&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=g.Aa&&!g.ma?new tn(new la({ab:M})):new tn(g.ma),T.Fa(g.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function tp(){}t=tp.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Rs(){}Rs.prototype.g=function(g,T){return new Nr(g,T)};function Nr(g,T){Ye.call(this),this.g=new Ps(T),this.l=g,this.h=T&&T.messageUrlParams||null,g=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(g?g["X-WebChannel-Content-Type"]=T.messageContentType:g={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(g?g["X-WebChannel-Client-Profile"]=T.sa:g={"X-WebChannel-Client-Profile":T.sa}),this.g.U=g,(g=T&&T.Qb)&&!L(g)&&(this.g.u=g),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!L(T)&&(this.g.G=T,g=this.h,g!==null&&T in g&&(g=this.h,T in g&&delete g[T])),this.j=new Ua(this)}m(Nr,Ye),Nr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Nr.prototype.close=function(){hf(this.g)},Nr.prototype.o=function(g){var T=this.g;if(typeof g=="string"){var M={};M.__data__=g,g=M}else this.v&&(M={},M.__data__=Zt(g),g=M);T.i.push(new xn(T.Ya++,g)),T.I==3&&fa(T)},Nr.prototype.N=function(){this.g.l=null,delete this.j,hf(this.g),delete this.g,Nr.Z.N.call(this)};function np(g){Ke.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var T=g.__sm__;if(T){e:{for(const M in T){g=M;break e}g=void 0}(this.i=g)&&(g=this.i,T=T!==null&&g in T?T[g]:void 0),this.data=T}else this.data=g}m(np,Ke);function rp(){Pt.call(this),this.status=1}m(rp,Pt);function Ua(g){this.g=g}m(Ua,tp),Ua.prototype.ra=function(){qe(this.g,"a")},Ua.prototype.qa=function(g){qe(this.g,new np(g))},Ua.prototype.pa=function(g){qe(this.g,new rp)},Ua.prototype.oa=function(){qe(this.g,"b")},Rs.prototype.createWebChannel=Rs.prototype.g,Nr.prototype.send=Nr.prototype.o,Nr.prototype.open=Nr.prototype.m,Nr.prototype.close=Nr.prototype.close,i3=function(){return new Rs},r3=function(){return Nt()},n3=ot,B1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ma.NO_ERROR=0,Ma.TIMEOUT=8,Ma.HTTP_ERROR=6,Nm=Ma,jo.COMPLETE="complete",t3=jo,he.EventType=Ae,Ae.OPEN="a",Ae.CLOSE="b",Ae.ERROR="c",Ae.MESSAGE="d",Ye.prototype.listen=Ye.prototype.J,hh=he,tn.prototype.listenOnce=tn.prototype.K,tn.prototype.getLastError=tn.prototype.Ha,tn.prototype.getLastErrorCode=tn.prototype.ya,tn.prototype.getStatus=tn.prototype.ca,tn.prototype.getResponseJson=tn.prototype.La,tn.prototype.getResponseText=tn.prototype.la,tn.prototype.send=tn.prototype.ea,tn.prototype.setWithCredentials=tn.prototype.Fa,e3=tn}).apply(typeof um<"u"?um:typeof self<"u"?self:typeof window<"u"?window:{});const VI="@firebase/firestore",$I="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tr.UNAUTHENTICATED=new Tr(null),Tr.GOOGLE_CREDENTIALS=new Tr("google-credentials-uid"),Tr.FIRST_PARTY=new Tr("first-party-uid"),Tr.MOCK_USER=new Tr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=new ME("@firebase/firestore");function Hu(){return jl.logLevel}function De(t,...e){if(jl.logLevel<=Ot.DEBUG){const n=e.map(WE);jl.debug(`Firestore (${Kc}): ${t}`,...n)}}function gs(t,...e){if(jl.logLevel<=Ot.ERROR){const n=e.map(WE);jl.error(`Firestore (${Kc}): ${t}`,...n)}}function hc(t,...e){if(jl.logLevel<=Ot.WARN){const n=e.map(WE);jl.warn(`Firestore (${Kc}): ${t}`,...n)}}function WE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,a3(t,r,n)}function a3(t,e,n){let r=`FIRESTORE (${Kc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw gs(r),new Error(r)}function Xt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||a3(e,i,r)}function ft(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class He extends _s{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class K8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Tr.UNAUTHENTICATED)))}shutdown(){}}class W8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Y8{constructor(e){this.t=e,this.currentUser=Tr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xt(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let s=new vo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new vo,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},c=f=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>c(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new vo)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xt(typeof r.accessToken=="string",31837,{l:r}),new s3(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xt(e===null||typeof e=="string",2055,{h:e}),new Tr(e)}}class X8{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Tr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Q8{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new X8(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Tr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class UI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class J8{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ji(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xt(this.o===void 0,3512);const r=s=>{s.error!=null&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,De("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new UI(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Xt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new UI(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Z8(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Ct(t,e){return t<e?-1:t>e?1:0}function q1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return _b(i)===_b(s)?Ct(i,s):_b(i)?1:-1}return Ct(t.length,e.length)}const e7=55296,t7=57343;function _b(t){const e=t.charCodeAt(0);return e>=e7&&e<=t7}function dc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="__name__";class va{constructor(e,n,r){n===void 0?n=0:n>e.length&&nt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&nt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return va.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof va?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=va.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Ct(e.length,n.length)}static compareSegments(e,n){const r=va.isNumericId(e),i=va.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?va.extractNumericId(e).compare(va.extractNumericId(n)):q1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yo.fromString(e.substring(4,e.length-2))}}class _n extends va{construct(e,n,r){return new _n(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new He(_e.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new _n(n)}static emptyPath(){return new _n([])}}const n7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yr extends va{construct(e,n,r){return new yr(e,n,r)}static isValidIdentifier(e){return n7.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===BI}static keyField(){return new yr([BI])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new He(_e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new He(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new He(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(s(),i++)}if(s(),l)throw new He(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yr(n)}static emptyPath(){return new yr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.path=e}static fromPath(e){return new Ze(_n.fromString(e))}static fromName(e){return new Ze(_n.fromString(e).popFirst(5))}static empty(){return new Ze(_n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_n.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _n.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ze(new _n(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r7(t,e,n){if(!n)throw new He(_e.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function i7(t,e,n,r){if(e===!0&&r===!0)throw new He(_e.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function qI(t){if(!Ze.isDocumentKey(t))throw new He(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function o3(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function XE(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":nt(12329,{type:typeof t})}function Ml(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new He(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=XE(t);throw new He(_e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(t,e){const n={typeString:t};return e&&(n.value=e),n}function kd(t,e){if(!o3(t))throw new He(_e.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new He(_e.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=-62135596800,FI=1e6;class mn{static now(){return mn.fromMillis(Date.now())}static fromDate(e){return mn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*FI);return new mn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new He(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new He(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<zI)throw new He(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new He(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/FI}_compareTo(e){return this.seconds===e.seconds?Ct(this.nanoseconds,e.nanoseconds):Ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(kd(e,mn._jsonSchema))return new mn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-zI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mn._jsonSchemaVersion="firestore/timestamp/1.0",mn._jsonSchema={type:Fn("string",mn._jsonSchemaVersion),seconds:Fn("number"),nanoseconds:Fn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{static fromTimestamp(e){return new at(e)}static min(){return new at(new mn(0,0))}static max(){return new at(new mn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=-1;function a7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=at.fromTimestamp(r===1e9?new mn(n+1,0):new mn(n,r));return new _o(i,Ze.empty(),e)}function s7(t){return new _o(t.readTime,t.key,Mh)}class _o{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new _o(at.min(),Ze.empty(),Mh)}static max(){return new _o(at.max(),Ze.empty(),Mh)}}function o7(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ze.comparator(t.documentKey,e.documentKey),n!==0?n:Ct(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class u7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wc(t){if(t.code!==_e.FAILED_PRECONDITION||t.message!==l7)throw t;De("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&nt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new be(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof be?n:be.resolve(n)}catch(n){return be.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):be.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):be.reject(n)}static resolve(e){return new be(((n,r)=>{n(e)}))}static reject(e){return new be(((n,r)=>{r(e)}))}static waitFor(e){return new be(((n,r)=>{let i=0,s=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++s,l&&s===i&&n()}),(f=>r(f)))})),l=!0,s===i&&n()}))}static or(e){let n=be.resolve(!1);for(const r of e)n=n.next((i=>i?be.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new be(((r,i)=>{const s=e.length,l=new Array(s);let c=0;for(let f=0;f<s;f++){const h=f;n(e[h]).next((p=>{l[h]=p,++c,c===s&&r(l)}),(p=>i(p)))}}))}static doWhile(e,n){return new be(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function c7(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}fy.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=-1;function hy(t){return t==null}function Km(t){return t===0&&1/t==-1/0}function f7(t){return typeof t=="number"&&Number.isInteger(t)&&!Km(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3="";function h7(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=HI(e)),e=d7(t.get(n),e);return HI(e)}function d7(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case l3:n+="";break;default:n+=s}}return n}function HI(t){return t+l3+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Oo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function u3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,n){this.comparator=e,this.root=n||mr.EMPTY}insert(e,n){return new wn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mr.BLACK,null,null))}remove(e){return new wn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cm(this.root,e,this.comparator,!1)}getReverseIterator(){return new cm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cm(this.root,e,this.comparator,!0)}}class cm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??mr.RED,this.left=i??mr.EMPTY,this.right=s??mr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new mr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return mr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return mr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw nt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw nt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw nt(27949);return e+(this.isRed()?0:1)}}mr.EMPTY=null,mr.RED=!0,mr.BLACK=!1;mr.EMPTY=new class{constructor(){this.size=0}get key(){throw nt(57766)}get value(){throw nt(16141)}get color(){throw nt(16727)}get left(){throw nt(29726)}get right(){throw nt(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new mr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.comparator=e,this.data=new wn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new KI(this.data.getIterator())}getIteratorFrom(e){return new KI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Zn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Zn(this.comparator);return n.data=e,n}}class KI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this.fields=e,e.sort(yr.comparator)}static empty(){return new hi([])}unionWith(e){let n=new Zn(yr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new hi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return dc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new c3("Invalid base64 string: "+s):s}})(e);return new vr(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new vr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vr.EMPTY_BYTE_STRING=new vr("");const p7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wo(t){if(Xt(!!t,39018),typeof t=="string"){let e=0;const n=p7.exec(t);if(Xt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mn(t.seconds),nanos:Mn(t.nanos)}}function Mn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function So(t){return typeof t=="string"?vr.fromBase64String(t):vr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3="server_timestamp",h3="__type__",d3="__previous_value__",p3="__local_write_time__";function JE(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[h3])==null?void 0:r.stringValue)===f3}function dy(t){const e=t.mapValue.fields[d3];return JE(e)?dy(e):e}function Dh(t){const e=wo(t.mapValue.fields[p3].timestampValue);return new mn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(e,n,r,i,s,l,c,f,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=p}}const Wm="(default)";class Lh{constructor(e,n){this.projectId=e,this.database=n||Wm}static empty(){return new Lh("","")}get isDefaultDatabase(){return this.database===Wm}isEqual(e){return e instanceof Lh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3="__type__",g7="__max__",fm={mapValue:{}},g3="__vector__",Ym="value";function Eo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?JE(t)?4:v7(t)?9007199254740991:y7(t)?10:11:nt(28295,{value:t})}function Ia(t,e){if(t===e)return!0;const n=Eo(t);if(n!==Eo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dh(t).isEqual(Dh(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=wo(i.timestampValue),c=wo(s.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return So(i.bytesValue).isEqual(So(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return Mn(i.geoPointValue.latitude)===Mn(s.geoPointValue.latitude)&&Mn(i.geoPointValue.longitude)===Mn(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Mn(i.integerValue)===Mn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=Mn(i.doubleValue),c=Mn(s.doubleValue);return l===c?Km(l)===Km(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return dc(t.arrayValue.values||[],e.arrayValue.values||[],Ia);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},c=s.mapValue.fields||{};if(GI(l)!==GI(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!Ia(l[f],c[f])))return!1;return!0})(t,e);default:return nt(52216,{left:t})}}function Vh(t,e){return(t.values||[]).find((n=>Ia(n,e)))!==void 0}function pc(t,e){if(t===e)return 0;const n=Eo(t),r=Eo(e);if(n!==r)return Ct(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ct(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const c=Mn(s.integerValue||s.doubleValue),f=Mn(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1})(t,e);case 3:return WI(t.timestampValue,e.timestampValue);case 4:return WI(Dh(t),Dh(e));case 5:return q1(t.stringValue,e.stringValue);case 6:return(function(s,l){const c=So(s),f=So(l);return c.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const c=s.split("/"),f=l.split("/");for(let h=0;h<c.length&&h<f.length;h++){const p=Ct(c[h],f[h]);if(p!==0)return p}return Ct(c.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const c=Ct(Mn(s.latitude),Mn(l.latitude));return c!==0?c:Ct(Mn(s.longitude),Mn(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return YI(t.arrayValue,e.arrayValue);case 10:return(function(s,l){var v,_,E,S;const c=s.fields||{},f=l.fields||{},h=(v=c[Ym])==null?void 0:v.arrayValue,p=(_=f[Ym])==null?void 0:_.arrayValue,m=Ct(((E=h==null?void 0:h.values)==null?void 0:E.length)||0,((S=p==null?void 0:p.values)==null?void 0:S.length)||0);return m!==0?m:YI(h,p)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===fm.mapValue&&l===fm.mapValue)return 0;if(s===fm.mapValue)return 1;if(l===fm.mapValue)return-1;const c=s.fields||{},f=Object.keys(c),h=l.fields||{},p=Object.keys(h);f.sort(),p.sort();for(let m=0;m<f.length&&m<p.length;++m){const v=q1(f[m],p[m]);if(v!==0)return v;const _=pc(c[f[m]],h[p[m]]);if(_!==0)return _}return Ct(f.length,p.length)})(t.mapValue,e.mapValue);default:throw nt(23264,{he:n})}}function WI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ct(t,e);const n=wo(t),r=wo(e),i=Ct(n.seconds,r.seconds);return i!==0?i:Ct(n.nanos,r.nanos)}function YI(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=pc(n[i],r[i]);if(s)return s}return Ct(n.length,r.length)}function mc(t){return z1(t)}function z1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=wo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return So(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ze.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=z1(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${z1(n.fields[l])}`;return i+"}"})(t.mapValue):nt(61005,{value:t})}function Rm(t){switch(Eo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dy(t);return e?16+Rm(e):16;case 5:return 2*t.stringValue.length;case 6:return So(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Rm(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Oo(r.fields,((s,l)=>{i+=s.length+Rm(l)})),i})(t.mapValue);default:throw nt(13486,{value:t})}}function F1(t){return!!t&&"integerValue"in t}function ZE(t){return!!t&&"arrayValue"in t}function XI(t){return!!t&&"nullValue"in t}function QI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jm(t){return!!t&&"mapValue"in t}function y7(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[m3])==null?void 0:r.stringValue)===g3}function wh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Oo(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=wh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wh(t.arrayValue.values[n]);return e}return{...t}}function v7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===g7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this.value=e}static empty(){return new Gr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!jm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wh(n)}setAll(e){let n=yr.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=wh(l):i.push(c.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());jm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ia(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];jm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Oo(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Gr(wh(this.value))}}function y3(t){const e=[];return Oo(t.fields,((n,r)=>{const i=new yr([n]);if(jm(r)){const s=y3(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new hi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,n,r,i,s,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Ar(e,0,at.min(),at.min(),at.min(),Gr.empty(),0)}static newFoundDocument(e,n,r,i){return new Ar(e,1,n,at.min(),r,i,0)}static newNoDocument(e,n){return new Ar(e,2,n,at.min(),at.min(),Gr.empty(),0)}static newUnknownDocument(e,n){return new Ar(e,3,n,at.min(),at.min(),Gr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(at.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=at.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ar&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ar(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n){this.position=e,this.inclusive=n}}function JI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=Ze.comparator(Ze.fromName(l.referenceValue),n.key):r=pc(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function ZI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ia(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n="asc"){this.field=e,this.dir=n}}function b7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{}class Yn extends v3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new _7(e,n,r):n==="array-contains"?new E7(e,r):n==="in"?new T7(e,r):n==="not-in"?new A7(e,r):n==="array-contains-any"?new O7(e,r):new Yn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new w7(e,r):new S7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(pc(n,this.value)):n!==null&&Eo(this.value)===Eo(n)&&this.matchesComparison(pc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return nt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ka extends v3{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ka(e,n)}matches(e){return b3(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function b3(t){return t.op==="and"}function x3(t){return x7(t)&&b3(t)}function x7(t){for(const e of t.filters)if(e instanceof ka)return!1;return!0}function H1(t){if(t instanceof Yn)return t.field.canonicalString()+t.op.toString()+mc(t.value);if(x3(t))return t.filters.map((e=>H1(e))).join(",");{const e=t.filters.map((n=>H1(n))).join(",");return`${t.op}(${e})`}}function _3(t,e){return t instanceof Yn?(function(r,i){return i instanceof Yn&&r.op===i.op&&r.field.isEqual(i.field)&&Ia(r.value,i.value)})(t,e):t instanceof ka?(function(r,i){return i instanceof ka&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,l,c)=>s&&_3(l,i.filters[c])),!0):!1})(t,e):void nt(19439)}function w3(t){return t instanceof Yn?(function(n){return`${n.field.canonicalString()} ${n.op} ${mc(n.value)}`})(t):t instanceof ka?(function(n){return n.op.toString()+" {"+n.getFilters().map(w3).join(" ,")+"}"})(t):"Filter"}class _7 extends Yn{constructor(e,n,r){super(e,n,r),this.key=Ze.fromName(r.referenceValue)}matches(e){const n=Ze.comparator(e.key,this.key);return this.matchesComparison(n)}}class w7 extends Yn{constructor(e,n){super(e,"in",n),this.keys=S3("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class S7 extends Yn{constructor(e,n){super(e,"not-in",n),this.keys=S3("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function S3(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Ze.fromName(r.referenceValue)))}class E7 extends Yn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ZE(n)&&Vh(n.arrayValue,this.value)}}class T7 extends Yn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Vh(this.value.arrayValue,n)}}class A7 extends Yn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Vh(this.value.arrayValue,n)}}class O7 extends Yn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ZE(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Vh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(e,n=null,r=[],i=[],s=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=c,this.Te=null}}function ek(t,e=null,n=[],r=[],i=null,s=null,l=null){return new C7(t,e,n,r,i,s,l)}function eT(t){const e=ft(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>H1(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),hy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>mc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>mc(r))).join(",")),e.Te=n}return e.Te}function tT(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!b7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!_3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ZI(t.startAt,e.startAt)&&ZI(t.endAt,e.endAt)}function G1(t){return Ze.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n=null,r=[],i=[],s=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=c,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function I7(t,e,n,r,i,s,l,c){return new py(t,e,n,r,i,s,l,c)}function nT(t){return new py(t)}function tk(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function k7(t){return t.collectionGroup!==null}function Sh(t){const e=ft(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Zn(yr.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Qm(s,r))})),n.has(yr.keyField().canonicalString())||e.Ie.push(new Qm(yr.keyField(),r))}return e.Ie}function _a(t){const e=ft(t);return e.Ee||(e.Ee=P7(e,Sh(t))),e.Ee}function P7(t,e){if(t.limitType==="F")return ek(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Qm(i.field,s)}));const n=t.endAt?new Xm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Xm(t.startAt.position,t.startAt.inclusive):null;return ek(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function K1(t,e,n){return new py(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function my(t,e){return tT(_a(t),_a(e))&&t.limitType===e.limitType}function E3(t){return`${eT(_a(t))}|lt:${t.limitType}`}function Gu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>w3(i))).join(", ")}]`),hy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>mc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>mc(i))).join(",")),`Target(${r})`})(_a(t))}; limitType=${t.limitType})`}function gy(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ze.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Sh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,f){const h=JI(l,c,f);return l.inclusive?h<=0:h<0})(r.startAt,Sh(r),i)||r.endAt&&!(function(l,c,f){const h=JI(l,c,f);return l.inclusive?h>=0:h>0})(r.endAt,Sh(r),i))})(t,e)}function N7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function T3(t){return(e,n)=>{let r=!1;for(const i of Sh(t)){const s=R7(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function R7(t,e,n){const r=t.field.isKeyField()?Ze.comparator(e.key,n.key):(function(s,l,c){const f=l.data.field(s),h=c.data.field(s);return f!==null&&h!==null?pc(f,h):nt(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return nt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Oo(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return u3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j7=new wn(Ze.comparator);function ys(){return j7}const A3=new wn(Ze.comparator);function dh(...t){let e=A3;for(const n of t)e=e.insert(n.key,n);return e}function O3(t){let e=A3;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function wl(){return Eh()}function C3(){return Eh()}function Eh(){return new Fl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const M7=new wn(Ze.comparator),D7=new Zn(Ze.comparator);function It(...t){let e=D7;for(const n of t)e=e.add(n);return e}const L7=new Zn(Ct);function V7(){return L7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Km(e)?"-0":e}}function I3(t){return{integerValue:""+t}}function $7(t,e){return f7(e)?I3(e):rT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(){this._=void 0}}function U7(t,e,n){return t instanceof Jm?(function(i,s){const l={fields:{[h3]:{stringValue:f3},[p3]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&JE(s)&&(s=dy(s)),s&&(l.fields[d3]=s),{mapValue:l}})(n,e):t instanceof $h?P3(t,e):t instanceof Uh?N3(t,e):(function(i,s){const l=k3(i,s),c=nk(l)+nk(i.Ae);return F1(l)&&F1(i.Ae)?I3(c):rT(i.serializer,c)})(t,e)}function B7(t,e,n){return t instanceof $h?P3(t,e):t instanceof Uh?N3(t,e):n}function k3(t,e){return t instanceof Zm?(function(r){return F1(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class Jm extends yy{}class $h extends yy{constructor(e){super(),this.elements=e}}function P3(t,e){const n=R3(e);for(const r of t.elements)n.some((i=>Ia(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Uh extends yy{constructor(e){super(),this.elements=e}}function N3(t,e){let n=R3(e);for(const r of t.elements)n=n.filter((i=>!Ia(i,r)));return{arrayValue:{values:n}}}class Zm extends yy{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function nk(t){return Mn(t.integerValue||t.doubleValue)}function R3(t){return ZE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function q7(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof $h&&i instanceof $h||r instanceof Uh&&i instanceof Uh?dc(r.elements,i.elements,Ia):r instanceof Zm&&i instanceof Zm?Ia(r.Ae,i.Ae):r instanceof Jm&&i instanceof Jm})(t.transform,e.transform)}class z7{constructor(e,n){this.version=e,this.transformResults=n}}class wa{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wa}static exists(e){return new wa(void 0,e)}static updateTime(e){return new wa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vy{}function j3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new D3(t.key,wa.none()):new Pd(t.key,t.data,wa.none());{const n=t.data,r=Gr.empty();let i=new Zn(yr.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new Co(t.key,r,new hi(i.toArray()),wa.none())}}function F7(t,e,n){t instanceof Pd?(function(i,s,l){const c=i.value.clone(),f=ik(i.fieldTransforms,s,l.transformResults);c.setAll(f),s.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Co?(function(i,s,l){if(!Mm(i.precondition,s))return void s.convertToUnknownDocument(l.version);const c=ik(i.fieldTransforms,s,l.transformResults),f=s.data;f.setAll(M3(i)),f.setAll(c),s.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Th(t,e,n,r){return t instanceof Pd?(function(s,l,c,f){if(!Mm(s.precondition,l))return c;const h=s.value.clone(),p=ak(s.fieldTransforms,f,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof Co?(function(s,l,c,f){if(!Mm(s.precondition,l))return c;const h=ak(s.fieldTransforms,f,l),p=l.data;return p.setAll(M3(s)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(s,l,c){return Mm(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function H7(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=k3(r.transform,i||null);s!=null&&(n===null&&(n=Gr.empty()),n.set(r.field,s))}return n||null}function rk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&dc(r,i,((s,l)=>q7(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Pd extends vy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Co extends vy{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function M3(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function ik(t,e,n){const r=new Map;Xt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,c=e.data.field(s.field);r.set(s.field,B7(l,c,n[i]))}return r}function ak(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,U7(s,l,e))}return r}class D3 extends vy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G7 extends vy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&F7(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Th(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Th(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=C3();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let c=this.applyToLocalView(l,s.mutatedFields);c=n.has(i.key)?null:c;const f=j3(l,c);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(at.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),It())}isEqual(e){return this.batchId===e.batchId&&dc(this.mutations,e.mutations,((n,r)=>rk(n,r)))&&dc(this.baseMutations,e.baseMutations,((n,r)=>rk(n,r)))}}class iT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Xt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return M7})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new iT(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qn,Mt;function X7(t){switch(t){case _e.OK:return nt(64938);case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0;default:return nt(15467,{code:t})}}function L3(t){if(t===void 0)return gs("GRPC error has no .code"),_e.UNKNOWN;switch(t){case qn.OK:return _e.OK;case qn.CANCELLED:return _e.CANCELLED;case qn.UNKNOWN:return _e.UNKNOWN;case qn.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case qn.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case qn.INTERNAL:return _e.INTERNAL;case qn.UNAVAILABLE:return _e.UNAVAILABLE;case qn.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case qn.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case qn.NOT_FOUND:return _e.NOT_FOUND;case qn.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case qn.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case qn.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case qn.ABORTED:return _e.ABORTED;case qn.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case qn.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case qn.DATA_LOSS:return _e.DATA_LOSS;default:return nt(39323,{code:t})}}(Mt=qn||(qn={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q7(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J7=new yo([4294967295,4294967295],0);function sk(t){const e=Q7().encode(t),n=new ZL;return n.update(e),new Uint8Array(n.digest())}function ok(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new yo([n,r],0),new yo([i,s],0)]}class aT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ph(`Invalid padding: ${n}`);if(r<0)throw new ph(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ph(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ph(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=yo.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(yo.fromNumber(r)));return i.compare(J7)===1&&(i=new yo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=sk(e),[r,i]=ok(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new aT(s,i,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=sk(e),[r,i]=ok(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ph extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Nd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new by(at.min(),i,new wn(Ct),ys(),It())}}class Nd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Nd(r,n,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class V3{constructor(e,n){this.targetId=e,this.Ce=n}}class $3{constructor(e,n,r=vr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class lk{constructor(){this.ve=0,this.Fe=uk(),this.Me=vr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=It(),n=It(),r=It();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:nt(38017,{changeType:s})}})),new Nd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=uk()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Z7{constructor(e){this.Ge=e,this.ze=new Map,this.je=ys(),this.Je=hm(),this.He=hm(),this.Ye=new wn(Ct)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:nt(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(G1(s))if(r===0){const l=new Ze(s.path);this.et(n,l,Ar.newNoDocument(l,at.min()))}else Xt(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),f=c?this.ct(c,e,l):1;if(f!==0){this.it(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let l,c;try{l=So(r).toUint8Array()}catch(f){if(f instanceof c3)return hc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new aT(l,i,s)}catch(f){return hc(f instanceof ph?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const c=this.ot(l);if(c){if(s.current&&G1(c.target)){const f=new Ze(c.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,Ar.newNoDocument(f,e))}s.Be&&(n.set(l,s.ke()),s.qe())}}));let r=It();this.He.forEach(((s,l)=>{let c=!0;l.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const i=new by(e,n,this.Ye,this.je,r);return this.je=ys(),this.Je=hm(),this.He=hm(),this.Ye=new wn(Ct),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new lk,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Zn(Ct),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Zn(Ct),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||De("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new lk),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function hm(){return new wn(Ze.comparator)}function uk(){return new wn(Ze.comparator)}const eF={asc:"ASCENDING",desc:"DESCENDING"},tF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nF={and:"AND",or:"OR"};class rF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function W1(t,e){return t.useProto3Json||hy(e)?e:{value:e}}function eg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function U3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function iF(t,e){return eg(t,e.toTimestamp())}function Sa(t){return Xt(!!t,49232),at.fromTimestamp((function(n){const r=wo(n);return new mn(r.seconds,r.nanos)})(t))}function sT(t,e){return Y1(t,e).canonicalString()}function Y1(t,e){const n=(function(i){return new _n(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function B3(t){const e=_n.fromString(t);return Xt(G3(e),10190,{key:e.toString()}),e}function X1(t,e){return sT(t.databaseId,e.path)}function wb(t,e){const n=B3(e);if(n.get(1)!==t.databaseId.projectId)throw new He(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new He(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ze(z3(n))}function q3(t,e){return sT(t.databaseId,e)}function aF(t){const e=B3(t);return e.length===4?_n.emptyPath():z3(e)}function Q1(t){return new _n(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function z3(t){return Xt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ck(t,e,n){return{name:X1(t,e),fields:n.value.mapValue.fields}}function sF(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:nt(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(h,p){return h.useProto3Json?(Xt(p===void 0||typeof p=="string",58123),vr.fromBase64String(p||"")):(Xt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),vr.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(h){const p=h.code===void 0?_e.UNKNOWN:L3(h.code);return new He(p,h.message||"")})(l);n=new $3(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=wb(t,r.document.name),s=Sa(r.document.updateTime),l=r.document.createTime?Sa(r.document.createTime):at.min(),c=new Gr({mapValue:{fields:r.document.fields}}),f=Ar.newFoundDocument(i,s,l,c),h=r.targetIds||[],p=r.removedTargetIds||[];n=new Dm(h,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=wb(t,r.document),s=r.readTime?Sa(r.readTime):at.min(),l=Ar.newNoDocument(i,s),c=r.removedTargetIds||[];n=new Dm([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=wb(t,r.document),s=r.removedTargetIds||[];n=new Dm([],s,i,null)}else{if(!("filter"in e))return nt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new Y7(i,s),c=r.targetId;n=new V3(c,l)}}return n}function oF(t,e){let n;if(e instanceof Pd)n={update:ck(t,e.key,e.value)};else if(e instanceof D3)n={delete:X1(t,e.key)};else if(e instanceof Co)n={update:ck(t,e.key,e.data),updateMask:gF(e.fieldMask)};else{if(!(e instanceof G7))return nt(16599,{Vt:e.type});n={verify:X1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const c=l.transform;if(c instanceof Jm)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof $h)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Uh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Zm)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw nt(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:iF(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:nt(27497)})(t,e.precondition)),n}function lF(t,e){return t&&t.length>0?(Xt(e!==void 0,14353),t.map((n=>(function(i,s){let l=i.updateTime?Sa(i.updateTime):Sa(s);return l.isEqual(at.min())&&(l=Sa(s)),new z7(l,i.transformResults||[])})(n,e)))):[]}function uF(t,e){return{documents:[q3(t,e.path)]}}function cF(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=q3(t,i);const s=(function(h){if(h.length!==0)return H3(ka.create(h,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(h){if(h.length!==0)return h.map((p=>(function(v){return{field:Ku(v.field),direction:dF(v.dir)}})(p)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=W1(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function fF(t){let e=aF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Xt(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=(function(m){const v=F3(m);return v instanceof ka&&x3(v)?v.getFilters():[v]})(n.where));let l=[];n.orderBy&&(l=(function(m){return m.map((v=>(function(E){return new Qm(Wu(E.field),(function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(v)))})(n.orderBy));let c=null;n.limit&&(c=(function(m){let v;return v=typeof m=="object"?m.value:m,hy(v)?null:v})(n.limit));let f=null;n.startAt&&(f=(function(m){const v=!!m.before,_=m.values||[];return new Xm(_,v)})(n.startAt));let h=null;return n.endAt&&(h=(function(m){const v=!m.before,_=m.values||[];return new Xm(_,v)})(n.endAt)),I7(e,i,l,s,c,"F",f,h)}function hF(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return nt(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function F3(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Wu(n.unaryFilter.field);return Yn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Wu(n.unaryFilter.field);return Yn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Wu(n.unaryFilter.field);return Yn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Wu(n.unaryFilter.field);return Yn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return nt(61313);default:return nt(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Yn.create(Wu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return nt(58110);default:return nt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ka.create(n.compositeFilter.filters.map((r=>F3(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return nt(1026)}})(n.compositeFilter.op))})(t):nt(30097,{filter:t})}function dF(t){return eF[t]}function pF(t){return tF[t]}function mF(t){return nF[t]}function Ku(t){return{fieldPath:t.canonicalString()}}function Wu(t){return yr.fromServerFormat(t.fieldPath)}function H3(t){return t instanceof Yn?(function(n){if(n.op==="=="){if(QI(n.value))return{unaryFilter:{field:Ku(n.field),op:"IS_NAN"}};if(XI(n.value))return{unaryFilter:{field:Ku(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(QI(n.value))return{unaryFilter:{field:Ku(n.field),op:"IS_NOT_NAN"}};if(XI(n.value))return{unaryFilter:{field:Ku(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ku(n.field),op:pF(n.op),value:n.value}}})(t):t instanceof ka?(function(n){const r=n.getFilters().map((i=>H3(i)));return r.length===1?r[0]:{compositeFilter:{op:mF(n.op),filters:r}}})(t):nt(54877,{filter:t})}function gF(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function G3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n,r,i,s=at.min(),l=at.min(),c=vr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new fo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e){this.yt=e}}function vF(t){const e=fF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?K1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(){this.Cn=new xF}addToCollectionParentIndex(e,n){return this.Cn.add(n),be.resolve()}getCollectionParents(e,n){return be.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return be.resolve()}deleteFieldIndex(e,n){return be.resolve()}deleteAllFieldIndexes(e){return be.resolve()}createTargetIndexes(e,n){return be.resolve()}getDocumentsMatchingTarget(e,n){return be.resolve(null)}getIndexType(e,n){return be.resolve(0)}getFieldIndexes(e,n){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}getMinOffset(e,n){return be.resolve(_o.min())}getMinOffsetFromCollectionGroup(e,n){return be.resolve(_o.min())}updateCollectionGroup(e,n,r){return be.resolve()}updateIndexEntries(e,n){return be.resolve()}}class xF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Zn(_n.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Zn(_n.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},K3=41943040;class Hr{static withCacheSize(e){return new Hr(e,Hr.DEFAULT_COLLECTION_PERCENTILE,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hr.DEFAULT_COLLECTION_PERCENTILE=10,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hr.DEFAULT=new Hr(K3,Hr.DEFAULT_COLLECTION_PERCENTILE,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hr.DISABLED=new Hr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new gc(0)}static cr(){return new gc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk="LruGarbageCollector",_F=1048576;function dk([t,e],[n,r]){const i=Ct(t,n);return i===0?Ct(e,r):i}class wF{constructor(e){this.Ir=e,this.buffer=new Zn(dk),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();dk(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class SF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){De(hk,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Yc(n)?De(hk,"Ignoring IndexedDB error during garbage collection: ",n):await Wc(n)}await this.Vr(3e5)}))}}class EF{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return be.resolve(fy.ce);const r=new wF(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(De("LruGarbageCollector","Garbage collection skipped; disabled"),be.resolve(fk)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fk):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,l,c,f,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(De("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,l=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(r=m,c=Date.now(),this.removeTargets(e,r,n)))).next((m=>(s=m,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(h=Date.now(),Hu()<=Ot.DEBUG&&De("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${s} targets in `+(f-c)+`ms
	Removed ${m} documents in `+(h-f)+`ms
Total Duration: ${h-p}ms`),be.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m}))))}}function TF(t,e){return new EF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(){this.changes=new Fl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ar.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?be.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Th(r.mutation,i,hi.empty(),mn.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,It()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=It()){const i=wl();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let l=dh();return s.forEach(((c,f)=>{l=l.insert(c,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=wl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,It())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,i){let s=ys();const l=Eh(),c=(function(){return Eh()})();return n.forEach(((f,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof Co)?s=s.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),Th(p.mutation,h,p.mutation.getFieldMask(),mn.now())):l.set(h.key,hi.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((h,p)=>l.set(h,p))),n.forEach(((h,p)=>c.set(h,new OF(p,l.get(h)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Eh();let i=new wn(((l,c)=>l-c)),s=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((f=>{const h=n.get(f);if(h===null)return;let p=r.get(f)||hi.empty();p=c.applyToLocalView(h,p),r.set(f,p);const m=(i.get(c.batchId)||It()).add(f);i=i.insert(c.batchId,m)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),h=f.key,p=f.value,m=C3();p.forEach((v=>{if(!s.has(v)){const _=j3(n.get(v),r.get(v));_!==null&&m.set(v,_),s=s.add(v)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,m))}return be.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Ze.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):k7(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):be.resolve(wl());let c=Mh,f=s;return l.next((h=>be.forEach(h,((p,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),s.get(p)?be.resolve():this.remoteDocumentCache.getEntry(e,p).next((v=>{f=f.insert(p,v)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,f,h,It()))).next((p=>({batchId:c,changes:O3(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ze(n)).next((r=>{let i=dh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=dh();return this.indexManager.getCollectionParents(e,s).next((c=>be.forEach(c,(f=>{const h=(function(m,v){return new py(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((p=>{p.forEach(((m,v)=>{l=l.insert(m,v)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((l=>{s.forEach(((f,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,Ar.newInvalidDocument(p)))}));let c=dh();return l.forEach(((f,h)=>{const p=s.get(f);p!==void 0&&Th(p.mutation,h,hi.empty(),mn.now()),gy(n,h)&&(c=c.insert(f,h))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return be.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Sa(i.createTime)}})(n)),be.resolve()}getNamedQuery(e,n){return be.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:vF(i.bundledQuery),readTime:Sa(i.readTime)}})(n)),be.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(){this.overlays=new wn(Ze.comparator),this.qr=new Map}getOverlay(e,n){return be.resolve(this.overlays.get(n))}getOverlays(e,n){const r=wl();return be.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),be.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),be.resolve()}getOverlaysForCollection(e,n,r){const i=wl(),s=n.length+1,l=new Ze(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&f.largestBatchId>r&&i.set(f.getKey(),f)}return be.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new wn(((h,p)=>h-p));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=wl(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const c=wl(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,p)=>c.set(h,p))),!(c.size()>=i)););return be.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new W7(n,r));let s=this.qr.get(n);s===void 0&&(s=It(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(){this.sessionToken=vr.EMPTY_BYTE_STRING}getSessionToken(e){return be.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,be.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(){this.Qr=new Zn(nr.$r),this.Ur=new Zn(nr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new nr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new nr(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ze(new _n([])),r=new nr(n,e),i=new nr(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ze(new _n([])),r=new nr(n,e),i=new nr(n,e+1);let s=It();return this.Ur.forEachInRange([r,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new nr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class nr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ze.comparator(e.key,n.key)||Ct(e.Yr,n.Yr)}static Kr(e,n){return Ct(e.Yr,n.Yr)||Ze.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Zn(nr.$r)}checkEmpty(e){return be.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new K7(s,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Zr=this.Zr.add(new nr(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return be.resolve(l)}lookupMutationBatch(e,n){return be.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return be.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(this.mutationQueue.length===0?QE:this.tr-1)}getAllMutationBatches(e){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new nr(n,0),i=new nr(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(l=>{const c=this.Xr(l.Yr);s.push(c)})),be.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Zn(Ct);return n.forEach((i=>{const s=new nr(i,0),l=new nr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(c=>{r=r.add(c.Yr)}))})),be.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ze.isDocumentKey(s)||(s=s.child(""));const l=new nr(new Ze(s),0);let c=new Zn(Ct);return this.Zr.forEachWhile((f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(f.Yr)),!0)}),l),be.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Xt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return be.forEach(n.mutations,(i=>{const s=new nr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new nr(n,0),i=this.Zr.firstAfterOrEqual(r);return be.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,be.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e){this.ri=e,this.docs=(function(){return new wn(Ze.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return be.resolve(r?r.document.mutableCopy():Ar.newInvalidDocument(n))}getEntries(e,n){let r=ys();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ar.newInvalidDocument(i))})),be.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ys();const l=n.path,c=new Ze(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:h,value:{document:p}}=f.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||o7(s7(p),r)<=0||(i.has(p.key)||gy(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return be.resolve(s)}getAllFromCollectionGroup(e,n,r,i){nt(9500)}ii(e,n){return be.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new jF(this)}getSize(e){return be.resolve(this.size)}}class jF extends AF{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),be.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e){this.persistence=e,this.si=new Fl((n=>eT(n)),tT),this.lastRemoteSnapshotVersion=at.min(),this.highestTargetId=0,this.oi=0,this._i=new oT,this.targetCount=0,this.ai=gc.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),be.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new gc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,be.resolve()}updateTargetData(e,n){return this.Pr(n),be.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),be.waitFor(s).next((()=>i))}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return be.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),be.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),be.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),be.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return be.resolve(r)}containsKey(e,n){return be.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e,n){this.ui={},this.overlays={},this.ci=new fy(0),this.li=!1,this.li=!0,this.hi=new PF,this.referenceDelegate=e(this),this.Pi=new MF(this),this.indexManager=new bF,this.remoteDocumentCache=(function(i){return new RF(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new yF(n),this.Ii=new IF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new NF(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){De("MemoryPersistence","Starting transaction:",e);const i=new DF(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return be.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class DF extends u7{constructor(e){super(),this.currentSequenceNumber=e}}class lT{constructor(e){this.persistence=e,this.Ri=new oT,this.Vi=null}static mi(e){return new lT(e)}get fi(){if(this.Vi)return this.Vi;throw nt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),be.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),be.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),be.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.fi,(r=>{const i=Ze.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,at.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return be.or([()=>be.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class tg{constructor(e,n){this.persistence=e,this.pi=new Fl((r=>h7(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=TF(this,n)}static mi(e,n){return new tg(e,n)}Ei(){}di(e){return be.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return be.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?be.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,s.removeEntry(l,at.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),be.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),be.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),be.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),be.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rm(e.data.value)),n}br(e,n,r){return be.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return be.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=It(),i=It();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new uT(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return AB()?8:c7(Cr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new LF;return this.Ss(e,n,l).next((c=>{if(s.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Hu()<=Ot.DEBUG&&De("QueryEngine","SDK will not create cache indexes for query:",Gu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),be.resolve()):(Hu()<=Ot.DEBUG&&De("QueryEngine","Query:",Gu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Hu()<=Ot.DEBUG&&De("QueryEngine","The SDK decides to create cache indexes for query:",Gu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_a(n))):be.resolve())}ys(e,n){if(tk(n))return be.resolve(null);let r=_a(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=K1(n,null,"F"),r=_a(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=It(...s);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((f=>{const h=this.Ds(n,c);return this.Cs(n,h,l,f.readTime)?this.ys(e,K1(n,null,"F")):this.vs(e,h,n,f)}))))})))))}ws(e,n,r,i){return tk(n)||i.isEqual(at.min())?be.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(n,s);return this.Cs(n,l,r,i)?be.resolve(null):(Hu()<=Ot.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Gu(n)),this.vs(e,l,n,a7(i,Mh)).next((c=>c)))}))}Ds(e,n){let r=new Zn(T3(e));return n.forEach(((i,s)=>{gy(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Hu()<=Ot.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",Gu(n)),this.ps.getDocumentsMatchingQuery(e,n,_o.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="LocalStore",$F=3e8;class UF{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new wn(Ct),this.xs=new Fl((s=>eT(s)),tT),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function BF(t,e,n,r){return new UF(t,e,n,r)}async function Y3(t,e){const n=ft(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],c=[];let f=It();for(const h of i){l.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}for(const h of s){c.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}return n.localDocuments.getDocuments(r,f).next((h=>({Ls:h,removedBatchIds:l,addedBatchIds:c})))}))}))}function qF(t,e){const n=ft(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,f,h,p){const m=h.batch,v=m.keys();let _=be.resolve();return v.forEach((E=>{_=_.next((()=>p.getEntry(f,E))).next((S=>{const w=h.docVersions.get(E);Xt(w!==null,48541),S.version.compareTo(w)<0&&(m.applyToRemoteDocument(S,h),S.isValidDocument()&&(S.setReadTime(h.commitVersion),p.addEntry(S)))}))})),_.next((()=>c.mutationQueue.removeMutationBatch(f,m)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let f=It();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(f=f.add(c.batch.mutations[h].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function X3(t){const e=ft(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function zF(t,e){const n=ft(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((p,m)=>{const v=i.get(m);if(!v)return;c.push(n.Pi.removeMatchingKeys(s,p.removedDocuments,m).next((()=>n.Pi.addMatchingKeys(s,p.addedDocuments,m))));let _=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?_=_.withResumeToken(vr.EMPTY_BYTE_STRING,at.min()).withLastLimboFreeSnapshotVersion(at.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,r)),i=i.insert(m,_),(function(S,w,A){return S.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=$F?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0})(v,_,p)&&c.push(n.Pi.updateTargetData(s,_))}));let f=ys(),h=It();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))})),c.push(FF(s,l,e.documentUpdates).next((p=>{f=p.ks,h=p.qs}))),!r.isEqual(at.min())){const p=n.Pi.getLastRemoteSnapshotVersion(s).next((m=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));c.push(p)}return be.waitFor(c).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,f,h))).next((()=>f))})).then((s=>(n.Ms=i,s)))}function FF(t,e,n){let r=It(),i=It();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=ys();return n.forEach(((c,f)=>{const h=s.get(c);f.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),f.isNoDocument()&&f.version.isEqual(at.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):De(cT,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",f.version)})),{ks:l,qs:i}}))}function HF(t,e){const n=ft(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=QE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function GF(t,e){const n=ft(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,be.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new fo(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function J1(t,e,n){const r=ft(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Yc(l))throw l;De(cT,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function pk(t,e,n){const r=ft(t);let i=at.min(),s=It();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,h,p){const m=ft(f),v=m.xs.get(p);return v!==void 0?be.resolve(m.Ms.get(v)):m.Pi.getTargetData(h,p)})(r,l,_a(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((f=>{s=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:at.min(),n?s:It()))).next((c=>(KF(r,N7(e),c),{documents:c,Qs:s})))))}function KF(t,e,n){let r=t.Os.get(e)||at.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class mk{constructor(){this.activeTargetIds=V7()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WF{constructor(){this.Mo=new mk,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new mk,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk="ConnectivityMonitor";class yk{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){De(gk,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){De(gk,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dm=null;function Z1(){return dm===null?dm=(function(){return 268435456+Math.round(2147483648*Math.random())})():dm++,"0x"+dm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="RestConnection",XF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QF{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Wm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const l=Z1(),c=this.zo(e,n.toUriEncodedString());De(Sb,`Sending RPC '${e}' ${l}:`,c,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,s);const{host:h}=new URL(c),p=Hc(h);return this.Jo(e,c,f,r,p).then((m=>(De(Sb,`Received RPC '${e}' ${l}: `,m),m)),(m=>{throw hc(Sb,`RPC '${e}' ${l} failed with error: `,m,"url: ",c,"request:",r),m}))}Ho(e,n,r,i,s,l){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Kc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=XF[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="WebChannelConnection";class ZF extends QF{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const l=Z1();return new Promise(((c,f)=>{const h=new e3;h.setWithCredentials(!0),h.listenOnce(t3.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Nm.NO_ERROR:const m=h.getResponseJson();De(Sr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(m)),c(m);break;case Nm.TIMEOUT:De(Sr,`RPC '${e}' ${l} timed out`),f(new He(_e.DEADLINE_EXCEEDED,"Request time out"));break;case Nm.HTTP_ERROR:const v=h.getStatus();if(De(Sr,`RPC '${e}' ${l} failed with status:`,v,"response text:",h.getResponseText()),v>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const E=_==null?void 0:_.error;if(E&&E.status&&E.message){const S=(function(A){const I=A.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(I)>=0?I:_e.UNKNOWN})(E.status);f(new He(S,E.message))}else f(new He(_e.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new He(_e.UNAVAILABLE,"Connection failed."));break;default:nt(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{De(Sr,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(i);De(Sr,`RPC '${e}' ${l} sending request:`,i),h.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=Z1(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=i3(),c=r3(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const p=s.join("");De(Sr,`Creating RPC '${e}' stream ${i}: ${p}`,f);const m=l.createWebChannel(p,f);this.I_(m);let v=!1,_=!1;const E=new JF({Yo:w=>{_?De(Sr,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(v||(De(Sr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),v=!0),De(Sr,`RPC '${e}' stream ${i} sending:`,w),m.send(w))},Zo:()=>m.close()}),S=(w,A,I)=>{w.listen(A,(k=>{try{I(k)}catch(V){setTimeout((()=>{throw V}),0)}}))};return S(m,hh.EventType.OPEN,(()=>{_||(De(Sr,`RPC '${e}' stream ${i} transport opened.`),E.o_())})),S(m,hh.EventType.CLOSE,(()=>{_||(_=!0,De(Sr,`RPC '${e}' stream ${i} transport closed`),E.a_(),this.E_(m))})),S(m,hh.EventType.ERROR,(w=>{_||(_=!0,hc(Sr,`RPC '${e}' stream ${i} transport errored. Name:`,w.name,"Message:",w.message),E.a_(new He(_e.UNAVAILABLE,"The operation could not be completed")))})),S(m,hh.EventType.MESSAGE,(w=>{var A;if(!_){const I=w.data[0];Xt(!!I,16349);const k=I,V=(k==null?void 0:k.error)||((A=k[0])==null?void 0:A.error);if(V){De(Sr,`RPC '${e}' stream ${i} received error:`,V);const C=V.status;let j=(function(R){const B=qn[R];if(B!==void 0)return L3(B)})(C),O=V.message;j===void 0&&(j=_e.INTERNAL,O="Unknown error status: "+C+" with message "+V.message),_=!0,E.a_(new He(j,O)),m.close()}else De(Sr,`RPC '${e}' stream ${i} received:`,I),E.u_(I)}})),S(c,n3.STAT_EVENT,(w=>{w.stat===B1.PROXY?De(Sr,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===B1.NOPROXY&&De(Sr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Eb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(t){return new rF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&De("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk="PersistentStream";class J3{constructor(e,n,r,i,s,l,c,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Q3(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===_e.RESOURCE_EXHAUSTED?(gs(n.toString()),gs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===_e.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new He(_e.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return De(vk,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(De(vk,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class eH extends J3{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=sF(this.serializer,e),r=(function(s){if(!("targetChange"in s))return at.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?at.min():l.readTime?Sa(l.readTime):at.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Q1(this.serializer),n.addTarget=(function(s,l){let c;const f=l.target;if(c=G1(f)?{documents:uF(s,f)}:{query:cF(s,f).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=U3(s,l.resumeToken);const h=W1(s,l.expectedCount);h!==null&&(c.expectedCount=h)}else if(l.snapshotVersion.compareTo(at.min())>0){c.readTime=eg(s,l.snapshotVersion.toTimestamp());const h=W1(s,l.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const r=hF(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Q1(this.serializer),n.removeTarget=e,this.q_(n)}}class tH extends J3{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Xt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=lF(e.writeResults,e.commitTime),r=Sa(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Q1(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>oF(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{}class rH extends nH{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new He(_e.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,Y1(n,r),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new He(_e.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,Y1(n,r),i,l,c,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new He(_e.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class iH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gs(n),this.aa=!1):De("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dl="RemoteStore";class aH{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Hl(this)&&(De(Dl,"Restarting streams for network reachability change."),await(async function(f){const h=ft(f);h.Ea.add(4),await Rd(h),h.Ra.set("Unknown"),h.Ea.delete(4),await _y(h)})(this))}))})),this.Ra=new iH(r,i)}}async function _y(t){if(Hl(t))for(const e of t.da)await e(!0)}async function Rd(t){for(const e of t.da)await e(!1)}function Z3(t,e){const n=ft(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),pT(n)?dT(n):Xc(n).O_()&&hT(n,e))}function fT(t,e){const n=ft(t),r=Xc(n);n.Ia.delete(e),r.O_()&&e5(n,e),n.Ia.size===0&&(r.O_()?r.L_():Hl(n)&&n.Ra.set("Unknown"))}function hT(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(at.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xc(t).Y_(e)}function e5(t,e){t.Va.Ue(e),Xc(t).Z_(e)}function dT(t){t.Va=new Z7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Xc(t).start(),t.Ra.ua()}function pT(t){return Hl(t)&&!Xc(t).x_()&&t.Ia.size>0}function Hl(t){return ft(t).Ea.size===0}function t5(t){t.Va=void 0}async function sH(t){t.Ra.set("Online")}async function oH(t){t.Ia.forEach(((e,n)=>{hT(t,e)}))}async function lH(t,e){t5(t),pT(t)?(t.Ra.ha(e),dT(t)):t.Ra.set("Unknown")}async function uH(t,e,n){if(t.Ra.set("Online"),e instanceof $3&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const c of s.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){De(Dl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ng(t,r)}else if(e instanceof Dm?t.Va.Ze(e):e instanceof V3?t.Va.st(e):t.Va.tt(e),!n.isEqual(at.min()))try{const r=await X3(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const c=s.Va.Tt(l);return c.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const p=s.Ia.get(h);p&&s.Ia.set(h,p.withResumeToken(f.resumeToken,l))}})),c.targetMismatches.forEach(((f,h)=>{const p=s.Ia.get(f);if(!p)return;s.Ia.set(f,p.withResumeToken(vr.EMPTY_BYTE_STRING,p.snapshotVersion)),e5(s,f);const m=new fo(p.target,f,h,p.sequenceNumber);hT(s,m)})),s.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){De(Dl,"Failed to raise snapshot:",r),await ng(t,r)}}async function ng(t,e,n){if(!Yc(e))throw e;t.Ea.add(1),await Rd(t),t.Ra.set("Offline"),n||(n=()=>X3(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{De(Dl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await _y(t)}))}function n5(t,e){return e().catch((n=>ng(t,n,e)))}async function wy(t){const e=ft(t),n=To(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:QE;for(;cH(e);)try{const i=await HF(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,fH(e,i)}catch(i){await ng(e,i)}r5(e)&&i5(e)}function cH(t){return Hl(t)&&t.Ta.length<10}function fH(t,e){t.Ta.push(e);const n=To(t);n.O_()&&n.X_&&n.ea(e.mutations)}function r5(t){return Hl(t)&&!To(t).x_()&&t.Ta.length>0}function i5(t){To(t).start()}async function hH(t){To(t).ra()}async function dH(t){const e=To(t);for(const n of t.Ta)e.ea(n.mutations)}async function pH(t,e,n){const r=t.Ta.shift(),i=iT.from(r,e,n);await n5(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await wy(t)}async function mH(t,e){e&&To(t).X_&&await(async function(r,i){if((function(l){return X7(l)&&l!==_e.ABORTED})(i.code)){const s=r.Ta.shift();To(r).B_(),await n5(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await wy(r)}})(t,e),r5(t)&&i5(t)}async function bk(t,e){const n=ft(t);n.asyncQueue.verifyOperationInProgress(),De(Dl,"RemoteStore received new credentials");const r=Hl(n);n.Ea.add(3),await Rd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await _y(n)}async function gH(t,e){const n=ft(t);e?(n.Ea.delete(2),await _y(n)):e||(n.Ea.add(2),await Rd(n),n.Ra.set("Unknown"))}function Xc(t){return t.ma||(t.ma=(function(n,r,i){const s=ft(n);return s.sa(),new eH(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:sH.bind(null,t),t_:oH.bind(null,t),r_:lH.bind(null,t),H_:uH.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),pT(t)?dT(t):t.Ra.set("Unknown")):(await t.ma.stop(),t5(t))}))),t.ma}function To(t){return t.fa||(t.fa=(function(n,r,i){const s=ft(n);return s.sa(),new tH(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:hH.bind(null,t),r_:mH.bind(null,t),ta:dH.bind(null,t),na:pH.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await wy(t)):(await t.fa.stop(),t.Ta.length>0&&(De(Dl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new vo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,c=new mT(e,n,l,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new He(_e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gT(t,e){if(gs("AsyncQueue",`${e}: ${t}`),Yc(t))return new He(_e.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{static emptySet(e){return new ic(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ze.comparator(n.key,r.key):(n,r)=>Ze.comparator(n.key,r.key),this.keyedMap=dh(),this.sortedSet=new wn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ic)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ic;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(){this.ga=new wn(Ze.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):nt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class yc{constructor(e,n,r,i,s,l,c,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new yc(e,n,ic.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&my(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yH{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class vH{constructor(){this.queries=_k(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ft(n),s=i.queries;i.queries=_k(),s.forEach(((l,c)=>{for(const f of c.Sa)f.onError(r)}))})(this,new He(_e.ABORTED,"Firestore shutting down"))}}function _k(){return new Fl((t=>E3(t)),my)}async function bH(t,e){const n=ft(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new yH,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=gT(l,`Initialization of query '${Gu(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&yT(n)}async function xH(t,e){const n=ft(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function _H(t,e){const n=ft(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const c of l.Sa)c.Fa(i)&&(r=!0);l.wa=i}}r&&yT(n)}function wH(t,e,n){const r=ft(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function yT(t){t.Ca.forEach((e=>{e.next()}))}var eS,wk;(wk=eS||(eS={})).Ma="default",wk.Cache="cache";class SH{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new yc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=yc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==eS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e){this.key=e}}class s5{constructor(e){this.key=e}}class EH{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=It(),this.mutatedKeys=It(),this.eu=T3(e),this.tu=new ic(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new xk,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,m)=>{const v=i.get(p),_=gy(this.query,m)?m:null,E=!!v&&this.mutatedKeys.has(v.key),S=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let w=!1;v&&_?v.data.isEqual(_.data)?E!==S&&(r.track({type:3,doc:_}),w=!0):this.su(v,_)||(r.track({type:2,doc:_}),w=!0,(f&&this.eu(_,f)>0||h&&this.eu(_,h)<0)&&(c=!0)):!v&&_?(r.track({type:0,doc:_}),w=!0):v&&!_&&(r.track({type:1,doc:v}),w=!0,(f||h)&&(c=!0)),w&&(_?(l=l.add(_),s=S?s.add(p):s.delete(p)):(l=l.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{tu:l,iu:r,Cs:c,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,m)=>(function(_,E){const S=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nt(20277,{Rt:w})}};return S(_)-S(E)})(p.type,m.type)||this.eu(p.doc,m.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,h=f!==this.Za;return this.Za=f,l.length!==0||h?{snapshot:new yc(this.query,e.tu,s,l,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xk,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=It(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new s5(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new a5(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=It();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return yc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const vT="SyncEngine";class TH{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class AH{constructor(e){this.key=e,this.hu=!1}}class OH{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Fl((c=>E3(c)),my),this.Iu=new Map,this.Eu=new Set,this.du=new wn(Ze.comparator),this.Au=new Map,this.Ru=new oT,this.Vu={},this.mu=new Map,this.fu=gc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function CH(t,e,n=!0){const r=h5(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await o5(r,e,n,!0),i}async function IH(t,e){const n=h5(t);await o5(n,e,!0,!1)}async function o5(t,e,n,r){const i=await GF(t.localStore,_a(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let c;return r&&(c=await kH(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&Z3(t.remoteStore,i),c}async function kH(t,e,n,r,i){t.pu=(m,v,_)=>(async function(S,w,A,I){let k=w.view.ru(A);k.Cs&&(k=await pk(S.localStore,w.query,!1).then((({documents:O})=>w.view.ru(O,k))));const V=I&&I.targetChanges.get(w.targetId),C=I&&I.targetMismatches.get(w.targetId)!=null,j=w.view.applyChanges(k,S.isPrimaryClient,V,C);return Ek(S,w.targetId,j.au),j.snapshot})(t,m,v,_);const s=await pk(t.localStore,e,!0),l=new EH(e,s.Qs),c=l.ru(s.documents),f=Nd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=l.applyChanges(c,t.isPrimaryClient,f);Ek(t,n,h.au);const p=new TH(e,n,l);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function PH(t,e,n){const r=ft(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((l=>!my(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await J1(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&fT(r.remoteStore,i.targetId),tS(r,i.targetId)})).catch(Wc)):(tS(r,i.targetId),await J1(r.localStore,i.targetId,!0))}async function NH(t,e){const n=ft(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),fT(n.remoteStore,r.targetId))}async function RH(t,e,n){const r=UH(t);try{const i=await(function(l,c){const f=ft(l),h=mn.now(),p=c.reduce(((_,E)=>_.add(E.key)),It());let m,v;return f.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let E=ys(),S=It();return f.Ns.getEntries(_,p).next((w=>{E=w,E.forEach(((A,I)=>{I.isValidDocument()||(S=S.add(A))}))})).next((()=>f.localDocuments.getOverlayedDocuments(_,E))).next((w=>{m=w;const A=[];for(const I of c){const k=H7(I,m.get(I.key).overlayedDocument);k!=null&&A.push(new Co(I.key,k,y3(k.value.mapValue),wa.exists(!0)))}return f.mutationQueue.addMutationBatch(_,h,A,c)})).next((w=>{v=w;const A=w.applyToLocalDocumentSet(m,S);return f.documentOverlayCache.saveOverlays(_,w.batchId,A)}))})).then((()=>({batchId:v.batchId,changes:O3(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,f){let h=l.Vu[l.currentUser.toKey()];h||(h=new wn(Ct)),h=h.insert(c,f),l.Vu[l.currentUser.toKey()]=h})(r,i.batchId,n),await jd(r,i.changes),await wy(r.remoteStore)}catch(i){const s=gT(i,"Failed to persist write");n.reject(s)}}async function l5(t,e){const n=ft(t);try{const r=await zF(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=n.Au.get(s);l&&(Xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Xt(l.hu,14607):i.removedDocuments.size>0&&(Xt(l.hu,42227),l.hu=!1))})),await jd(n,r,e)}catch(r){await Wc(r)}}function Sk(t,e,n){const r=ft(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const f=ft(l);f.onlineState=c;let h=!1;f.queries.forEach(((p,m)=>{for(const v of m.Sa)v.va(c)&&(h=!0)})),h&&yT(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jH(t,e,n){const r=ft(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let l=new wn(Ze.comparator);l=l.insert(s,Ar.newNoDocument(s,at.min()));const c=It().add(s),f=new by(at.min(),new Map,new wn(Ct),l,c);await l5(r,f),r.du=r.du.remove(s),r.Au.delete(e),bT(r)}else await J1(r.localStore,e,!1).then((()=>tS(r,e,n))).catch(Wc)}async function MH(t,e){const n=ft(t),r=e.batch.batchId;try{const i=await qF(n.localStore,e);c5(n,r,null),u5(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await jd(n,i)}catch(i){await Wc(i)}}async function DH(t,e,n){const r=ft(t);try{const i=await(function(l,c){const f=ft(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return f.mutationQueue.lookupMutationBatch(h,c).next((m=>(Xt(m!==null,37113),p=m.keys(),f.mutationQueue.removeMutationBatch(h,m)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,p,c))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>f.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);c5(r,e,n),u5(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await jd(r,i)}catch(i){await Wc(i)}}function u5(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function c5(t,e,n){const r=ft(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function tS(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||f5(t,r)}))}function f5(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(fT(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),bT(t))}function Ek(t,e,n){for(const r of n)r instanceof a5?(t.Ru.addReference(r.key,e),LH(t,r)):r instanceof s5?(De(vT,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||f5(t,r.key)):nt(19791,{wu:r})}function LH(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(De(vT,"New document in limbo: "+n),t.Eu.add(r),bT(t))}function bT(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ze(_n.fromString(e)),r=t.fu.next();t.Au.set(r,new AH(n)),t.du=t.du.insert(n,r),Z3(t.remoteStore,new fo(_a(nT(n.path)),r,"TargetPurposeLimboResolution",fy.ce))}}async function jd(t,e,n){const r=ft(t),i=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,f)=>{l.push(r.pu(f,e,n).then((h=>{var p;if((h||n)&&r.isPrimaryClient){const m=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(f.targetId,m?"current":"not-current")}if(h){i.push(h);const m=uT.As(f.targetId,h);s.push(m)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(f,h){const p=ft(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>be.forEach(h,(v=>be.forEach(v.Es,(_=>p.persistence.referenceDelegate.addReference(m,v.targetId,_))).next((()=>be.forEach(v.ds,(_=>p.persistence.referenceDelegate.removeReference(m,v.targetId,_)))))))))}catch(m){if(!Yc(m))throw m;De(cT,"Failed to update sequence numbers: "+m)}for(const m of h){const v=m.targetId;if(!m.fromCache){const _=p.Ms.get(v),E=_.snapshotVersion,S=_.withLastLimboFreeSnapshotVersion(E);p.Ms=p.Ms.insert(v,S)}}})(r.localStore,s))}async function VH(t,e){const n=ft(t);if(!n.currentUser.isEqual(e)){De(vT,"User change. New user:",e.toKey());const r=await Y3(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((c=>{c.forEach((f=>{f.reject(new He(_e.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await jd(n,r.Ls)}}function $H(t,e){const n=ft(t),r=n.Au.get(e);if(r&&r.hu)return It().add(r.key);{let i=It();const s=n.Iu.get(e);if(!s)return i;for(const l of s){const c=n.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}function h5(t){const e=ft(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=l5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$H.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jH.bind(null,e),e.Pu.H_=_H.bind(null,e.eventManager),e.Pu.yu=wH.bind(null,e.eventManager),e}function UH(t){const e=ft(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DH.bind(null,e),e}class rg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xy(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return BF(this.persistence,new VF,e.initialUser,this.serializer)}Cu(e){return new W3(lT.mi,this.serializer)}Du(e){return new WF}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rg.provider={build:()=>new rg};class BH extends rg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xt(this.persistence.referenceDelegate instanceof tg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new SF(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Hr.withCacheSize(this.cacheSizeBytes):Hr.DEFAULT;return new W3((r=>tg.mi(r,n)),this.serializer)}}class nS{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Sk(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=VH.bind(null,this.syncEngine),await gH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new vH})()}createDatastore(e){const n=xy(e.databaseInfo.databaseId),r=(function(s){return new ZF(s)})(e.databaseInfo);return(function(s,l,c,f){return new rH(s,l,c,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,l,c){return new aH(r,i,s,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>Sk(this.syncEngine,n,0)),(function(){return yk.v()?new yk:new YF})())}createSyncEngine(e,n){return(function(i,s,l,c,f,h,p){const m=new OH(i,s,l,c,f,h);return p&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const s=ft(i);De(Dl,"RemoteStore shutting down."),s.Ea.add(5),await Rd(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}nS.provider={build:()=>new nS};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qH{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="FirestoreClient";class zH{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Tr.UNAUTHENTICATED,this.clientId=YE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{De(Ao,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(De(Ao,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=gT(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Tb(t,e){t.asyncQueue.verifyOperationInProgress(),De(Ao,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await Y3(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Tk(t,e){t.asyncQueue.verifyOperationInProgress();const n=await FH(t);De(Ao,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>bk(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>bk(e.remoteStore,i))),t._onlineComponents=e}async function FH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){De(Ao,"Using user provided OfflineComponentProvider");try{await Tb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===_e.FAILED_PRECONDITION||i.code===_e.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;hc("Error using user provided cache. Falling back to memory cache: "+n),await Tb(t,new rg)}}else De(Ao,"Using default OfflineComponentProvider"),await Tb(t,new BH(void 0));return t._offlineComponents}async function d5(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(De(Ao,"Using user provided OnlineComponentProvider"),await Tk(t,t._uninitializedComponentsProvider._online)):(De(Ao,"Using default OnlineComponentProvider"),await Tk(t,new nS))),t._onlineComponents}function HH(t){return d5(t).then((e=>e.syncEngine))}async function GH(t){const e=await d5(t),n=e.eventManager;return n.onListen=CH.bind(null,e.syncEngine),n.onUnlisten=PH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=IH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=NH.bind(null,e.syncEngine),n}function KH(t,e,n={}){const r=new vo;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,c,f,h){const p=new qH({next:v=>{p.Nu(),l.enqueueAndForget((()=>xH(s,m)));const _=v.docs.has(c);!_&&v.fromCache?h.reject(new He(_e.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&v.fromCache&&f&&f.source==="server"?h.reject(new He(_e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(v)},error:v=>h.reject(v)}),m=new SH(nT(c.path),p,{includeMetadataChanges:!0,qa:!0});return bH(s,m)})(await GH(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p5(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5="firestore.googleapis.com",Ok=!0;class Ck{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new He(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=m5,this.ssl=Ok}else this.host=e.host,this.ssl=e.ssl??Ok;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=K3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_F)throw new He(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}i7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=p5(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new He(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new He(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new He(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xT{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ck({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new He(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new He(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ck(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new K8;switch(r.type){case"firstParty":return new Q8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new He(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Ak.get(n);r&&(De("ComponentProvider","Removing Datastore"),Ak.delete(n),r.terminate())})(this),Promise.resolve()}}function WH(t,e,n,r={}){var h;t=Ml(t,xT);const i=Hc(e),s=t._getSettings(),l={...s,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(mL(`https://${c}`),gL("Firestore",!0)),s.host!==m5&&s.host!==c&&hc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...s,host:c,ssl:i,emulatorOptions:r};if(!Pl(f,l)&&(t._setSettings(f),r.mockUserToken)){let p,m;if(typeof r.mockUserToken=="string")p=r.mockUserToken,m=Tr.MOCK_USER;else{p=yB(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new He(_e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Tr(v)}t._authCredentials=new W8(new s3(p,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _T(this.firestore,e,this._query)}}class Qn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qn(this.firestore,e,this._key)}toJSON(){return{type:Qn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(kd(n,Qn._jsonSchema))return new Qn(e,r||null,new Ze(_n.fromString(n.referencePath)))}}Qn._jsonSchemaVersion="firestore/documentReference/1.0",Qn._jsonSchema={type:Fn("string",Qn._jsonSchemaVersion),referencePath:Fn("string")};class Bh extends _T{constructor(e,n,r){super(e,n,nT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qn(this.firestore,null,new Ze(e))}withConverter(e){return new Bh(this.firestore,e,this._path)}}function rS(t,e,...n){if(t=Ir(t),arguments.length===1&&(e=YE.newId()),r7("doc","path",e),t instanceof xT){const r=_n.fromString(e,...n);return qI(r),new Qn(t,null,new Ze(r))}{if(!(t instanceof Qn||t instanceof Bh))throw new He(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_n.fromString(e,...n));return qI(r),new Qn(t.firestore,t instanceof Bh?t.converter:null,new Ze(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik="AsyncQueue";class kk{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Q3(this,"async_queue_retry"),this._c=()=>{const r=Eb();r&&De(Ik,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Eb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Eb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new vo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Yc(e))throw e;De(Ik,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,gs("INTERNAL UNHANDLED ERROR: ",Pk(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=mT.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&nt(47125,{Pc:Pk(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Pk(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Sy extends xT{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new kk,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kk(e),this._firestoreClient=void 0,await e}}}function YH(t,e){const n=typeof t=="object"?t:xL(),r=typeof t=="string"?t:Wm,i=LE(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=mB("firestore");s&&WH(i,...s)}return i}function g5(t){if(t._terminated)throw new He(_e.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||XH(t),t._firestoreClient}function XH(t){var r,i,s;const e=t._freezeSettings(),n=(function(c,f,h,p){return new m7(c,f,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p5(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new zH(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ni(vr.fromBase64String(e))}catch(n){throw new He(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ni(vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ni._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(kd(e,Ni._jsonSchema))return Ni.fromBase64String(e.bytes)}}Ni._jsonSchemaVersion="firestore/bytes/1.0",Ni._jsonSchema={type:Fn("string",Ni._jsonSchemaVersion),bytes:Fn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new He(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new He(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new He(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ct(this._lat,e._lat)||Ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ea._jsonSchemaVersion}}static fromJSON(e){if(kd(e,Ea._jsonSchema))return new Ea(e.latitude,e.longitude)}}Ea._jsonSchemaVersion="firestore/geoPoint/1.0",Ea._jsonSchema={type:Fn("string",Ea._jsonSchemaVersion),latitude:Fn("number"),longitude:Fn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ta._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(kd(e,Ta._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ta(e.vectorValues);throw new He(_e.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ta._jsonSchemaVersion="firestore/vectorValue/1.0",Ta._jsonSchema={type:Fn("string",Ta._jsonSchemaVersion),vectorValues:Fn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QH=/^__.*__$/;class JH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Co(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pd(e,this.data,n,this.fieldTransforms)}}class y5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Co(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function v5(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nt(40011,{Ac:t})}}class ST{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ST({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ig(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(v5(this.Ac)&&QH.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ZH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||xy(e)}Cc(e,n,r,i=!1){return new ST({Ac:e,methodName:n,Dc:r,path:yr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function b5(t){const e=t._freezeSettings(),n=xy(t._databaseId);return new ZH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function eG(t,e,n,r,i,s={}){const l=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);ET("Data must be an object, but it was:",l,r);const c=x5(r,l);let f,h;if(s.merge)f=new hi(l.fieldMask),h=l.fieldTransforms;else if(s.mergeFields){const p=[];for(const m of s.mergeFields){const v=iS(e,m,n);if(!l.contains(v))throw new He(_e.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);w5(p,v)||p.push(v)}f=new hi(p),h=l.fieldTransforms.filter((m=>f.covers(m.field)))}else f=null,h=l.fieldTransforms;return new JH(new Gr(c),f,h)}class Ty extends wT{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ty}}function tG(t,e,n,r){const i=t.Cc(1,e,n);ET("Data must be an object, but it was:",i,r);const s=[],l=Gr.empty();Oo(r,((f,h)=>{const p=TT(e,f,n);h=Ir(h);const m=i.yc(p);if(h instanceof Ty)s.push(p);else{const v=Ay(h,m);v!=null&&(s.push(p),l.set(p,v))}}));const c=new hi(s);return new y5(l,c,i.fieldTransforms)}function nG(t,e,n,r,i,s){const l=t.Cc(1,e,n),c=[iS(e,r,n)],f=[i];if(s.length%2!=0)throw new He(_e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)c.push(iS(e,s[v])),f.push(s[v+1]);const h=[],p=Gr.empty();for(let v=c.length-1;v>=0;--v)if(!w5(h,c[v])){const _=c[v];let E=f[v];E=Ir(E);const S=l.yc(_);if(E instanceof Ty)h.push(_);else{const w=Ay(E,S);w!=null&&(h.push(_),p.set(_,w))}}const m=new hi(h);return new y5(p,m,l.fieldTransforms)}function Ay(t,e){if(_5(t=Ir(t)))return ET("Unsupported field value:",e,t),x5(t,e);if(t instanceof wT)return(function(r,i){if(!v5(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let l=0;for(const c of r){let f=Ay(c,i.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Ir(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $7(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=mn.fromDate(r);return{timestampValue:eg(i.serializer,s)}}if(r instanceof mn){const s=new mn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:eg(i.serializer,s)}}if(r instanceof Ea)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ni)return{bytesValue:U3(i.serializer,r._byteString)};if(r instanceof Qn){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:sT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ta)return(function(l,c){return{mapValue:{fields:{[m3]:{stringValue:g3},[Ym]:{arrayValue:{values:l.toArray().map((h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return rT(c.serializer,h)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${XE(r)}`)})(t,e)}function x5(t,e){const n={};return u3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oo(t,((r,i)=>{const s=Ay(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function _5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mn||t instanceof Ea||t instanceof Ni||t instanceof Qn||t instanceof wT||t instanceof Ta)}function ET(t,e,n){if(!_5(n)||!o3(n)){const r=XE(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function iS(t,e,n){if((e=Ir(e))instanceof Ey)return e._internalPath;if(typeof e=="string")return TT(t,e);throw ig("Field path arguments must be of type string or ",t,!1,void 0,n)}const rG=new RegExp("[~\\*/\\[\\]]");function TT(t,e,n){if(e.search(rG)>=0)throw ig(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ey(...e.split("."))._internalPath}catch{throw ig(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ig(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(s||l)&&(f+=" (found",s&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new He(_e.INVALID_ARGUMENT,c+t+f)}function w5(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(E5("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iG extends S5{data(){return super.data()}}function E5(t,e){return typeof e=="string"?TT(t,e):e instanceof Ey?e._internalPath:e._delegate._internalPath}class aG{convertValue(e,n="none"){switch(Eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(So(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw nt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Oo(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[Ym].arrayValue)==null?void 0:i.values)==null?void 0:s.map((l=>Mn(l.doubleValue)));return new Ta(n)}convertGeoPoint(e){return new Ea(Mn(e.latitude),Mn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=dy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Dh(e));default:return null}}convertTimestamp(e){const n=wo(e);return new mn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=_n.fromString(e);Xt(G3(r),9688,{name:e});const i=new Lh(r.get(1),r.get(3)),s=new Ze(r.popFirst(5));return i.isEqual(n)||gs(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sG(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class mh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cl extends S5{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(E5("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new He(_e.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Cl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Cl._jsonSchemaVersion="firestore/documentSnapshot/1.0",Cl._jsonSchema={type:Fn("string",Cl._jsonSchemaVersion),bundleSource:Fn("string","DocumentSnapshot"),bundleName:Fn("string"),bundle:Fn("string")};class Lm extends Cl{data(e={}){return super.data(e)}}class Ah{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new mh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Lm(this._firestore,this._userDataWriter,r.key,r,new mh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new He(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const f=new Lm(i._firestore,i._userDataWriter,c.doc.key,c.doc,new mh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>s||c.type!==3)).map((c=>{const f=new Lm(i._firestore,i._userDataWriter,c.doc.key,c.doc,new mh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:oG(c.type),doc:f,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new He(_e.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ah._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=YE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function oG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lG(t){t=Ml(t,Qn);const e=Ml(t.firestore,Sy);return KH(g5(e),t._key).then((n=>fG(e,t,n)))}Ah._jsonSchemaVersion="firestore/querySnapshot/1.0",Ah._jsonSchema={type:Fn("string",Ah._jsonSchemaVersion),bundleSource:Fn("string","QuerySnapshot"),bundleName:Fn("string"),bundle:Fn("string")};class uG extends aG{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ni(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qn(this.firestore,null,n)}}function aS(t,e,n){t=Ml(t,Qn);const r=Ml(t.firestore,Sy),i=sG(t.converter,e,n);return T5(r,[eG(b5(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,wa.none())])}function cG(t,e,n,...r){t=Ml(t,Qn);const i=Ml(t.firestore,Sy),s=b5(i);let l;return l=typeof(e=Ir(e))=="string"||e instanceof Ey?nG(s,"updateDoc",t._key,e,n,r):tG(s,"updateDoc",t._key,e),T5(i,[l.toMutation(t._key,wa.exists(!0))])}function T5(t,e){return(function(r,i){const s=new vo;return r.asyncQueue.enqueueAndForget((async()=>RH(await HH(r),i,s))),s.promise})(g5(t),e)}function fG(t,e,n){const r=n.docs.get(e._key),i=new uG(t);return new Cl(t,i,e._key,r,new mh(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Kc=i})(Gc),uc(new Nl("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),c=new Sy(new Y8(r.getProvider("auth-internal")),new J8(l,r.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new He(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lh(h.options.projectId,p)})(l,i),l);return s={useFetchStreams:n,...s},c._setSettings(s),c}),"PUBLIC").setMultipleInstances(!0)),go(VI,$I,e),go(VI,$I,"esm2020")})();var hG="firebase",dG="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */go(hG,dG,"app");const pG={apiKey:"AIzaSyDkU88zoYfO7URAqi19qtIDGs25zkgJ4_g",authDomain:"ai-code-typer-db.firebaseapp.com",projectId:"ai-code-typer-db",storageBucket:"ai-code-typer-db.firebasestorage.app",messagingSenderId:"713662672910",appId:"1:713662672910:web:990f2412b177a3e5fd8c5f",measurementId:"G-N1NK71JBG7"},A5=bL(pG),Vu=H8(A5),mG=new as,sS=YH(A5),O5=U.createContext(null),Oy=()=>{const t=U.useContext(O5);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},gG=()=>{function t(e,n){const r=localStorage.getItem(e);if(!r)return n;try{return JSON.parse(r)}catch{return n}}return{theme:localStorage.getItem("theme")||"light",languageId:localStorage.getItem("selectedLanguage")||"python",snippetLength:localStorage.getItem("snippetLength")||"medium",snippetLevel:localStorage.getItem("snippetLevel")||"medium",blockOnErrorThreshold:Number(localStorage.getItem("blockOnErrorThreshold"))||2,fontSize:localStorage.getItem("fontSize")||"md",showKeyboard:localStorage.getItem("showKeyboard")?localStorage.getItem("showKeyboard")==="true":window.innerWidth>=768,showHandGuide:localStorage.getItem("showHandGuide")!=="false",wpmGoal:Number(localStorage.getItem("wpmGoal"))||20,accuracyGoal:Number(localStorage.getItem("accuracyGoal"))||95,timeGoal:Number(localStorage.getItem("timeGoal"))||15,lastSetupTab:localStorage.getItem("setupTab")||"generate",lastPracticeMode:localStorage.getItem("practiceMode")||"code",generalContentTypes:t("generalContentTypes",["characters"])}},yG=({children:t})=>{const[e,n]=U.useState(null),[r,i]=U.useState(null),[s,l]=U.useState(!0),[c,f]=U.useState("idle"),h=async _=>{try{f("syncing");const E=localStorage.getItem("practiceHistory"),S=E?JSON.parse(E):[],w=gG(),A=rS(sS,"users",_),I=await lG(A);let k=[],V,C=!1;if(I.exists()){const P=I.data();k=P.history||[],V=P.preferences,C=!0}let j=k,O=!1;if(S.length>0){const P=new Set(k.map(B=>B.id)),R=S.filter(B=>!P.has(B.id));R.length>0&&(j=[...k,...R],O=!0),localStorage.removeItem("practiceHistory"),localStorage.removeItem("keyErrorStats"),localStorage.removeItem("keyAttemptStats")}return(O||!C)&&(C?O&&await cG(A,{history:j}):await aS(A,{history:j})),f("synced"),{history:j,preferences:w}}catch(E){return console.error("Sync failed:",E),f("error"),null}};U.useEffect(()=>{const _=Rz(Vu,async E=>{if(E){n(E);const S=await h(E.uid);S&&i(S)}else n(null),i(null);l(!1)});return()=>{_()}},[]);const p=async()=>{try{await e8(Vu,mG)}catch(_){throw console.error("Login failed:",_),_}},m=async()=>{try{await jz(Vu)}catch(_){console.error("Logout failed:",_)}},v=async _=>{if(Vu.currentUser)try{await kz(Vu.currentUser,_),n({...Vu.currentUser,..._})}catch(E){throw console.error("Failed to update profile",E),E}};return x.jsx(O5.Provider,{value:{user:e,userData:r,loading:s,loginWithGoogle:p,logout:m,syncStatus:c,updateUserProfile:v},children:t})},Cn=[{id:"python",name:"Python",prismAlias:"python"},{id:"javascript",name:"JavaScript",prismAlias:"javascript"},{id:"typescript",name:"TypeScript",prismAlias:"typescript"},{id:"cpp",name:"C++",prismAlias:"cpp"},{id:"java",name:"Java",prismAlias:"java"},{id:"csharp",name:"C#",prismAlias:"csharp"},{id:"c",name:"C",prismAlias:"c"},{id:"go",name:"Go",prismAlias:"go"},{id:"rust",name:"Rust",prismAlias:"rust"},{id:"php",name:"PHP",prismAlias:"php"},{id:"ruby",name:"Ruby",prismAlias:"ruby"},{id:"swift",name:"Swift",prismAlias:"swift"},{id:"kotlin",name:"Kotlin",prismAlias:"kotlin"},{id:"html",name:"HTML",prismAlias:"html"},{id:"css",name:"CSS",prismAlias:"css"},{id:"sql",name:"SQL",prismAlias:"sql"}],vG="https://ai-code-typer-proxy.khannaseem1704.workers.dev",bG={easy:"basic syntax and concepts, like variable declaration and simple loops",medium:"intermediate concepts, like functions, classes, or common library usage",hard:"advanced or complex topics, like asynchronous programming, data structures, or algorithms"},Cy={short:"5-10 lines",medium:"15-20 lines",long:"25-30 lines"},Iy=async(t,e)=>{var i,s,l,c,f,h;let r=null;for(let p=0;p<=3;p++)try{const v=await fetch(vG,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:t,systemInstruction:e||`You are a code generation engine for a typing practice app.
Your task is to provide a code snippet based on the user's request.
The snippet MUST be clean, raw code.
ABSOLUTELY NO explanations, comments, markdown backticks(\`\`\`), or any text other than the code itself.
The code must be syntactically correct for the requested language.`})});if(v.status===429)throw new Error("429: Too Many Requests");if(!v.ok){let w=v.statusText,A=!1;try{const I=await v.json();I!=null&&I.error&&(w=JSON.stringify(I.error),(I.error.code===429||I.error.status==="RESOURCE_EXHAUSTED"||(i=I.error.message)!=null&&i.toLowerCase().includes("quota"))&&(A=!0))}catch{try{const k=await v.text();k&&(w=`${v.status} - ${k}`,k.toLowerCase().includes("quota")&&(A=!0))}catch{}}throw A?new Error("Quota Exceeded: The AI service daily limit has been reached."):v.status===503||w.includes('"status":"UNAVAILABLE"')||w.includes("overloaded")?new Error('AI Service Overloaded: The model is currently overloaded. Please try again in a few moments or use the "Upload Text" option instead.'):new Error(`Worker Error: ${w}`)}const _=await v.json(),E=(h=(f=(c=(l=(s=_==null?void 0:_.candidates)==null?void 0:s[0])==null?void 0:l.content)==null?void 0:c.parts)==null?void 0:f[0])==null?void 0:h.text;if(!E)throw new Error(_.error||"The AI returned an empty snippet. Please try again.");return E.replace(/^```(?:\w+\n)?/,"").replace(/```$/,"").trim()}catch(m){r=m;const v=m instanceof Error&&m.message.includes("429"),_=m instanceof Error&&m.message.includes("AI Service Overloaded"),E=m instanceof Error&&m.message.includes("Quota Exceeded");if((v||_)&&!E&&p<3){const S=Math.pow(2,p)*1e3;await new Promise(w=>setTimeout(w,S));continue}break}throw console.error("Error generating snippet:",r),r?r.message.includes("Quota Exceeded")?r:r.message.includes("AI Service Overloaded")?new Error("AI model is overloaded. Try Upload Text option or wait a moment and retry."):r.message.includes("429")?new Error("AI service is busy. Please try again shortly."):r:new Error("Unknown error generating snippet.")},Nk=async(t,e,n)=>{const r=`Generate a code snippet in ${t.name}. 
The snippet should be ${Cy[e]} long.
The difficulty level should be ${bG[n]}.`,i=`You are a strict code generation engine.
  RULES:
  1. Generate ONLY valid, clean, compilable code in ${t.name}.
  2. NO comments. NO explanation. NO markdown. NO backticks.
  3. CODE MUST BE REAL, FUNCTIONAL, AND GRAMMATICALLY CORRECT for the language.
  4. DO NOT write pseudo-code or fake logic.
  5. CRITICAL: INDENTATION MUST USE TAB CHARACTERS (	). NEVER USE SPACES FOR INDENTATION.
  6. Do not convert tabs to spaces. Use actual tab characters.`;return Iy(r,i)},Rk=async(t,e,n,r)=>{const s=`Generate a TARGETED PRACTICE snippet.
  
  Target Keys: [${e.map(l=>l===" "?"space":l===`
`?"newline":l==="	"?"tab":l).join(", ")}]
  Language Style: ${t.name} (but NOT functional code)
  Length: ${Cy[n]}
  
  CRITICAL RULES:
  1. The snippet must be MEANINGLESS but READABLE (pseudo-code sentences, fake logic).
  2. The Target Keys must appear 5x MORE FREQUENTLY than normal.
  3. Do NOT generate real working code. It should feel like muscle memory training.
  4. Use structure (brackets, indentation) if the language uses them.
  5. NO explanations, NO comments, ONLY the raw snippet.
  
  Examples of style:
  - "while w wraps words { ww }"
  - "Tab shifts w into wider waves { }"
  - "x = (x + x) * x; // x marks the spot"
  
  Generate the snippet now.`;return Iy(s)},xG=async(t,e,n=["characters"])=>{const r=n.includes("characters"),i=n.includes("numbers"),s=n.includes("symbols");let l="";r&&i&&s?l=`Generate a text that heavily mixes words, numbers, and symbols.
    - CRITICAL REQUIREMENT: Every single sentence or line MUST contain at least one number AND one symbol.
    - Style: Technical data logs, complex passwords, inventory lists, or code-like pseudo text.
    - Example format: "User_ID: #4928 @ 10:45PM (Status: 99% Verified!)"`:r&&i?l=`Generate a text containing words and numbers. 
    - Style: Addresses, historical dates, scientific facts with measurements, or financial summaries.
    - CRITICAL REQUIREMENT: Frequent use of digits mixed with sentences. Do NOT use complex symbols like @#$%^ (only basic punctuation like . , is allowed).
    - Example format: "On July 4th, 1776, approximately 2.5 million people lived there."`:r&&s?l=`Generate a text containing words and symbols.
    - Style: Dialogues with heavy punctuation, code comments, or expressive writing.
    - CRITICAL REQUIREMENT: Frequent use of brackets (), [], {}, punctuation !?.,:; and symbols @#&. Do NOT use numbers 0-9.
    - Example format: "Hello (world)! Waiting for response... [OK] -> {verified}."`:i&&s?l=`Generate a sequence of Numbers and Symbols ONLY.
    - ABSOLUTELY FORBIDDEN: DO NOT INCLUDE ANY ALPHABET CHARACTERS (A-Z, a-z).
    - Style: Math equations, currency calculations, or abstract data strings.
    - Example format: "123+456=$579; (80% * 10) = #800 // 99.9"`:i?l=`Generate a sequence of Numbers ONLY.
    - ABSOLUTELY FORBIDDEN: DO NOT INCLUDE LETTERS OR SYMBOLS (except decimal points).
    - Style: Phone numbers, years, zip codes, or raw data streams.
    - Example format: "1990 2023 8837 1.45 00392 998 112"`:s?l=`Generate a sequence of Symbols ONLY.
    - ABSOLUTELY FORBIDDEN: DO NOT INCLUDE LETTERS OR NUMBERS.
    - Style: Random symbol patterns for pinky finger practice.
    - Example format: "!@# $ %^ &*() _+ {} [] : ; < > ?"`:l=`Generate standard English paragraphs.
    - Style: Informative, story-telling, or essays.
    - Requirement: Standard grammar and punctuation. Minimize numbers and complex symbols.`;let c="";e==="easy"&&(c="Use simple, repetitive patterns and lower density of complex items."),e==="medium"&&(c="Use varied patterns and moderate density of selected elements."),e==="hard"&&(c="Maximize the density, randomness, and complexity of the selected elements. Make it challenging.");const f=`Generate a random typing practice snippet.
The length should be roughly ${Cy[t]}.
${l}
${c}`;return Iy(f,`You are a text generation engine for a general typing practice app. 
  RULES:
  1. Generate ONLY normal English text or mixed content based on instructions.
  2. ABSOLUTELY NO PROGRAMMING CODE.
  3. NO function-like patterns, NO classes, NO loops, NO braces like {}, [], () used in a code style.
  4. NO variable-like words (temp1, obj2, xValue).
  5. Format naturally with line breaks every 8-12 words.
  6. NO markdown, headers, or backticks.`)},_G=async(t,e="medium")=>{const n=Object.entries(t).map(([h,p])=>({key:h,errorRate:p.attempts>0?p.errors/p.attempts*100:0})).sort((h,p)=>p.errorRate-h.errorRate),r=n.slice(0,5),i=n.slice(5).filter(h=>h.errorRate>=10),s=[...r,...i].slice(0,7);if(s.length===0)throw new Error("No error history available for practice.");const c=`
  generate a paragraph of Abstract Prose / Creative Writing.
  
  The text must differ from normal writing because it must aggressively use these specific characters: [${s.map(h=>h.key===" "?"space":h.key===`
`?"newline":h.key==="	"?"tab":h.key).join(", ")}]
  
  STRICT RULES FOR SYMBOL USAGE (Do Not Write Code):
  1. If keys are '{}' or '[]': Use them to enclose feelings or whispers inside sentences. 
     - BAD: function { return }
     - GOOD: "I felt {lonely} but [strong] inside."
  2. If keys are '()' : Use them for side comments.
     - GOOD: "The sky (which was blue) turned grey."
  3. If keys are ';': Use them to connect two long sentences.
     - GOOD: "The rain stopped; silence followed."
  4. If keys are '$' or '#': Use them as modern slang.
     - GOOD: "I have $zero #motivation today."
  
  REQUIREMENTS:
  - Length: ${Cy[e]}
  - Structure: A flowing paragraph of English text. 
  - ABSOLUTELY NO PROGRAMMING SYNTAX (No function, var, const, return, import).
  
  Write the text now.
  `;return Iy(c,`
  You are a Creative Writer, NOT a programmer.
  Your task is to write English paragraphs that look like experimental literature.
  
  CRITICAL INTERVENTION: 
  The user is trying to trick you into writing code by asking for symbols like { } ; ( ) [ ]. 
  DO NOT FALL FOR IT. 
  
  If you see '{', treat it as a fancy bracket for emphasis in a story.
  If you see ';', treat it as a punctuation mark in a novel.
  
  Output MUST be plain text prose.
  `)},oS=t=>{const e={},n={};for(const r of t){if(r.errorMap)for(const[i,s]of Object.entries(r.errorMap))e[i]=(e[i]||0)+s;if(r.attemptMap)for(const[i,s]of Object.entries(r.attemptMap))n[i]=(n[i]||0)+s}return{keyErrorStats:e,keyAttemptStats:n}},wG=t=>{const e=new Date().toISOString().split("T")[0],n=localStorage.getItem("dailyPracticeDate");let r=Number(localStorage.getItem("dailyPracticeTime")||"0");return n!==e&&(r=0,localStorage.setItem("dailyPracticeDate",e)),r+=t,localStorage.setItem("dailyPracticeTime",String(r)),r},C5=t=>{const e=["theme","selectedLanguage","practiceHistory","keyErrorStats","keyAttemptStats","wpmGoal","accuracyGoal","setupTab","timeGoal","dailyPracticeDate","dailyPracticeTime","generalContentTypes","snippetLength","snippetLevel","blockOnErrorThreshold","fontSize","showKeyboard","showHandGuide","practiceMode"],n={};e.forEach(S=>{if(t&&t[S]!==void 0)n[S]=t[S];else{const w=localStorage.getItem(S);if(w!==null)try{n[S]=JSON.parse(w)}catch{n[S]=w}}});const r=JSON.stringify(n,null,2),i=new Blob([r],{type:"application/json"}),s=new Date,l=s.getFullYear(),c=String(s.getMonth()+1).padStart(2,"0"),f=String(s.getDate()).padStart(2,"0"),h=String(s.getHours()).padStart(2,"0"),p=String(s.getMinutes()).padStart(2,"0"),m=String(s.getSeconds()).padStart(2,"0"),_=`ai-code-typer-backup-${`${l}-${c}-${f}-${h}-${p}-${m}`}.json`,E=document.createElement("a");E.href=URL.createObjectURL(i),E.download=_,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(E.href)},SG=(t,e)=>{let n;try{n=JSON.parse(t)}catch{throw new Error("Invalid JSON file. Could not parse data.")}if(typeof n!="object"||n===null||Array.isArray(n))throw new Error("Invalid backup file format: not a JSON object.");if(!["theme","selectedLanguage","practiceHistory","keyErrorStats","wpmGoal"].some(h=>h in n))throw new Error("File does not appear to be a valid AI Code Typer backup.");Object.keys(n).forEach(h=>{if(h!=="practiceHistory"&&h!=="keyErrorStats"&&h!=="keyAttemptStats"){const p=n[h],m=typeof p=="string"?p:JSON.stringify(p);localStorage.setItem(h,m)}});let s=[];const l=Array.isArray(n.practiceHistory)?n.practiceHistory:[];if(e==="merge"){const h=localStorage.getItem("practiceHistory"),p=h?JSON.parse(h):[],m=new Set(p.map(_=>_.timestamp)),v=l.filter(_=>!m.has(_.timestamp));s=[...p,...v],s.sort((_,E)=>_.timestamp-E.timestamp)}else s=l;let{keyErrorStats:c,keyAttemptStats:f}=oS(s);Object.keys(c).length===0&&n.keyErrorStats&&Object.keys(n.keyErrorStats).length>0&&e==="replace"&&(c=n.keyErrorStats),Object.keys(f).length===0&&n.keyAttemptStats&&Object.keys(n.keyAttemptStats).length>0&&e==="replace"&&(f=n.keyAttemptStats),localStorage.setItem("practiceHistory",JSON.stringify(s)),localStorage.setItem("keyErrorStats",JSON.stringify(c)),localStorage.setItem("keyAttemptStats",JSON.stringify(f))},jk={id:"custom",name:"Custom",prismAlias:"clike"},$u=["sm","md","lg","xl"],EG=t=>{const e=t.lastIndexOf(".");if(e<0)return jk;const n=t.substring(e).toLowerCase();return{".py":Cn.find(i=>i.id==="python"),".js":Cn.find(i=>i.id==="javascript"),".jsx":Cn.find(i=>i.id==="javascript"),".ts":Cn.find(i=>i.id==="typescript"),".tsx":Cn.find(i=>i.id==="typescript"),".java":Cn.find(i=>i.id==="java"),".cpp":Cn.find(i=>i.id==="cpp"),".cc":Cn.find(i=>i.id==="cpp"),".cxx":Cn.find(i=>i.id==="cpp"),".h":Cn.find(i=>i.id==="cpp"),".hpp":Cn.find(i=>i.id==="cpp"),".go":Cn.find(i=>i.id==="go"),".rs":Cn.find(i=>i.id==="rust")}[n]||jk},Zf=t=>t.split(`
`).map(e=>{const n=e.match(/^ +/);if(n){const r=n[0].length;if(r>0&&r%4===0){const i=r/4;return"	".repeat(i)+e.substring(r)}}return e}).join(`
`);function ro(t,e){if(typeof window>"u")return e;try{const n=localStorage.getItem(t);return n?JSON.parse(n):e}catch(n){return console.warn(`Failed to parse localStorage key "${t}":`,n),e}}const Sn=U.createContext(null),TG=({children:t})=>{const{user:e,syncStatus:n,userData:r,loading:i}=Oy(),[s,l]=U.useState(()=>{const ie=localStorage.getItem("theme");return ie||"light"}),[c,f]=U.useState(()=>{const ie=localStorage.getItem("selectedLanguage");return Cn.find(Pe=>Pe.id===(ie||"python"))||Cn[0]}),[h,p]=U.useState(()=>localStorage.getItem("practiceMode")||"code"),[m,v]=U.useState(()=>ro("generalContentTypes",["characters"])),[_,E]=U.useState(""),[S,w]=U.useState(!1),[A,I]=U.useState(null),[k,V]=U.useState(!1),[C,j]=U.useState(()=>localStorage.getItem("snippetLength")||"short"),[O,P]=U.useState(()=>localStorage.getItem("snippetLevel")||"easy"),[R,B]=U.useState(2),[D,$]=U.useState(()=>{const ie=localStorage.getItem("fontSize");return ie&&$u.includes(ie)?ie:"md"}),[L,Q]=U.useState(()=>typeof window<"u"?window.innerWidth>=768:!0),[J,F]=U.useState(!0),[Y,ee]=U.useState("home"),ue=U.useRef(null),[ve,H]=U.useState(!1),[W,oe]=U.useState(0),me=W>0,we=U.useCallback(()=>oe(ie=>ie+1),[]),Se=U.useCallback(()=>oe(ie=>Math.max(0,ie-1)),[]),[Re,$e]=U.useState(()=>ro("practiceHistory",[])),[ye,Ee]=U.useState(()=>ro("keyErrorStats",{})),[Ne,ne]=U.useState(()=>ro("keyAttemptStats",{})),[Ge,xe]=U.useState(()=>parseInt(localStorage.getItem("wpmGoal")||"20",10)),[Te,Be]=U.useState(()=>parseInt(localStorage.getItem("accuracyGoal")||"95",10)),[We,st]=U.useState(()=>parseInt(localStorage.getItem("timeGoal")||"15",10)),[Ye,qe]=U.useState(()=>{const ie=new Date().toISOString().split("T")[0];return localStorage.getItem("dailyPracticeDate")===ie?Number(localStorage.getItem("dailyPracticeTime")||"0"):(localStorage.setItem("dailyPracticeTime","0"),localStorage.setItem("dailyPracticeDate",ie),0)}),[_t,Dt]=U.useState(!1),[En,Ie]=U.useState([]),[ht,xt]=U.useState(null),[Vt,Zt]=U.useState(null),[en,bn]=U.useState(()=>localStorage.getItem("setupTab")||"generate"),[kt,he]=U.useState([]),[Ae,Ke]=U.useState(-1),[Pt,ot]=U.useState(null),Kt=U.useRef(null),[Nt,dt]=U.useState(0),$t=U.useCallback((ie,Pe,Me=4e3)=>{Kt.current&&clearTimeout(Kt.current),ot({message:ie,type:Pe}),Kt.current=window.setTimeout(()=>{ot(null)},Me)},[]),Ue=!!_,Oe=ie=>{l(ie),document.documentElement.classList.toggle("dark",ie==="dark"),localStorage.setItem("theme",ie)},je=()=>Oe(s==="light"?"dark":"light"),pt=ie=>{f(ie),localStorage.setItem("selectedLanguage",ie.id)},jt=ie=>{j(ie),localStorage.setItem("snippetLength",ie)},or=ie=>{P(ie),localStorage.setItem("snippetLevel",ie)},Vr=ie=>{B(ie),localStorage.setItem("blockOnErrorThreshold",String(ie))},Dn=ie=>{$(ie),localStorage.setItem("fontSize",ie)},Yr=()=>{const ie=$u.indexOf(D);ie<$u.length-1&&Dn($u[ie+1])},sf=()=>{const ie=$u.indexOf(D);ie>0&&Dn($u[ie-1])},Ma=ie=>{Q(ie),localStorage.setItem("showKeyboard",String(ie))},jo=()=>Ma(!L),Mo=ie=>{F(ie),localStorage.setItem("showHandGuide",String(ie))},Da=()=>Mo(!J),Li=ie=>{bn(ie),localStorage.setItem("setupTab",ie)},Ql=ie=>{p(ie),localStorage.setItem("practiceMode",ie)},Xr=ie=>{v(ie),localStorage.setItem("generalContentTypes",JSON.stringify(ie))},Qr=(ie,Pe,Me)=>{xe(ie),Be(Pe),st(Me),localStorage.setItem("wpmGoal",String(ie)),localStorage.setItem("accuracyGoal",String(Pe)),localStorage.setItem("timeGoal",String(Me))};U.useEffect(()=>{if(n==="synced"){const ie=localStorage.getItem("practiceHistory");if(ie){console.log("Sync complete. Hydrating from local storage.");try{const Pe=JSON.parse(ie);if(Array.isArray(Pe)&&Pe.length>0){$e(Pe);const{keyErrorStats:Me,keyAttemptStats:Qe}=oS(Pe);Ee(Me),ne(Qe)}}catch(Pe){console.error("Failed to hydrate",Pe)}}}},[n]),U.useEffect(()=>{if(r){if(r.history){$e(r.history);const{keyErrorStats:ie,keyAttemptStats:Pe}=oS(r.history);Ee(ie),ne(Pe)}Pn(!0)}else e||Pn(!0)},[r,e]);const[kn,Pn]=U.useState(!1);U.useEffect(()=>{const ie=Qe=>{Qe.key==="Alt"&&(Qe.preventDefault(),Dt(!0))},Pe=Qe=>{Qe.key==="Alt"&&Dt(!1)},Me=()=>{Dt(!1)};return window.addEventListener("keydown",ie),window.addEventListener("keyup",Pe),window.addEventListener("blur",Me),()=>{window.removeEventListener("keydown",ie),window.removeEventListener("keyup",Pe),window.removeEventListener("blur",Me)}},[]);const $r=()=>H(!0),Vi=()=>H(!1),As=ie=>{ie!==Y&&(ue.current=Y),ee(ie)},Jl=()=>ue.current,Zl=U.useCallback(ie=>{Zt(()=>ie)},[]),mi=U.useCallback(()=>{Vt&&Vt()},[Vt]),$i=()=>{he([]),Ke(-1)},br=U.useCallback(async ie=>{if(S)return!1;const Pe=(ie==null?void 0:ie.mode)||h,Me=(ie==null?void 0:ie.length)||C,Qe=(ie==null?void 0:ie.level)||O,lt=(ie==null?void 0:ie.contentTypes)||m;w(!0),E(""),I(null),V(!1),Pe!=="targeted"&&Ie([]);try{let mt="";if(Pe==="code")mt=await Nk(c,Me,Qe);else if(Pe==="targeted"){const Lt=En;Lt.length>0?mt=await Rk(c,Lt,Me,Qe):mt=await Nk(c,Me,Qe)}else Pe==="general"&&(mt=await xG(Me,Qe,lt));return E(Zf(mt)),dt(Lt=>Lt+1),!0}catch(mt){const Lt=mt instanceof Error?mt.message:"Failed to generate snippet. Please try again.";return I(Lt),dt(_r=>_r+1),console.error(mt),!1}finally{w(!1)}},[c,C,O,S,h,m,En]),xr=(ie,Pe)=>{$i();const Me=Zf(ie);E(Me),V(!0),Ie([]),dt(Qe=>Qe+1),Pe&&p(Pe)},kr=U.useCallback(async(ie,Pe)=>{if(!S){p("targeted"),Ie(ie),$i(),E(""),I(null),V(!1),w(!0);try{const Me=await Rk(c,ie,Pe.length,Pe.level);E(Zf(Me)),dt(Qe=>Qe+1)}catch(Me){const Qe=Me instanceof Error?Me.message:"Failed to fetch a targeted snippet. Please try again.";I(Qe),dt(lt=>lt+1),console.error(Me)}finally{w(!1)}}},[c,S]),gi=U.useCallback(async()=>{if(S)return;const ie=Object.entries(ye).filter(([Pe,Me])=>Me>0).sort((Pe,Me)=>Me[1]-Pe[1]).map(([Pe])=>Pe);if(ie.length===0){$t("No error history found! Practice more to generate error data.","info");return}p("error-training"),Ie(ie),$i(),E(""),I(null),V(!1),w(!0);try{const Pe={};ie.forEach(Qe=>{const lt=ye[Qe]||0,mt=Ne[Qe]||lt;Pe[Qe]={errors:lt,attempts:mt}});const Me=await _G(Pe,C);E(Zf(Me)),dt(Qe=>Qe+1)}catch(Pe){const Me=Pe instanceof Error?Pe.message:"Failed to generate error practice snippet.";I(Me),dt(Qe=>Qe+1),console.error(Pe)}finally{w(!1)}},[ye,Ne,S,$t,C]),xn=U.useCallback(ie=>{if(kt[ie]){const Pe=kt[ie];E(Pe.code),f(Pe.language),Ke(ie),V(!0),Ie([]),I(null),w(!1),dt(Me=>Me+1)}},[kt]),Do=async ie=>{w(!0),E(""),$i();const Pe=Me=>new Promise((Qe,lt)=>{const mt=new FileReader;mt.onload=Lt=>{var lr;const _r=(lr=Lt.target)==null?void 0:lr.result,sa=_r.trim(),tu=_r.replace(/\r\n?/g,`
`),oa=Zf(tu);Qe({code:oa,name:Me.name,language:EG(Me.name),isValid:sa.length>=2})},mt.onerror=Lt=>lt(Lt),mt.readAsText(Me)});try{const Me=await Promise.all(ie.map(Pe)),Qe=Me.filter(Lt=>Lt.isValid),lt=Me.filter(Lt=>!Lt.isValid);if(lt.length>0){const Lt=lt.map(_r=>_r.name).join(", ");$t(`Ignored files with less than 2 characters: ${Lt}`,"warning",6e3)}if(Qe.length===0)throw $t("All selected files are invalid. Code must be at least 2 characters long.","error"),new Error("All selected files are invalid.");he(Qe);const mt=Qe[0];E(mt.code),f(mt.language),Ke(0),V(!0),I(null),dt(Lt=>Lt+1)}catch(Me){const Qe=Me instanceof Error?Me.message:"Failed to process files.";throw I(Qe),dt(lt=>lt+1),console.error(Me),Me}finally{w(!1)}},La=U.useCallback(()=>{const ie=Ae+1;ie<kt.length&&xn(ie)},[Ae,kt,xn]),Jr=async ie=>{if(e)try{console.log("Saving history to cloud...",ie.length),await aS(rS(sS,"users",e.uid),{history:ie},{merge:!0}),console.log("Cloud save successful.")}catch(Pe){console.error("Failed to save history:",Pe),$t("Failed to sync with cloud. Please check your connection.","error")}},yi=ie=>{const Pe={...ie};h==="general"&&(Pe.language="General");let Me=[];$e(lt=>{const mt=lt.findIndex(Lt=>Lt.id===Pe.id);return mt>=0?(Me=[...lt],Me[mt]=Pe):Me=[...lt,Pe].slice(-100),Me}),localStorage.setItem("practiceHistory",JSON.stringify(Me)),Jr(Me);const Qe=wG(Pe.duration);qe(Qe),ie.errorMap&&Ee(lt=>{const mt={...lt};for(const[Lt,_r]of Object.entries(ie.errorMap))mt[Lt]=(mt[Lt]||0)+_r;return mt}),ie.attemptMap&&ne(lt=>{const mt={...lt};for(const[Lt,_r]of Object.entries(ie.attemptMap))mt[Lt]=(mt[Lt]||0)+_r;return mt})},Lo=()=>Dt(!0),Vo=()=>Dt(!1),$o=U.useCallback(()=>{const ie=localStorage.getItem("theme");l(ie||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"));const Pe=localStorage.getItem("selectedLanguage");f(Cn.find(lt=>lt.id===Pe)||Cn[0]),$e(ro("practiceHistory",[])),Ee(ro("keyErrorStats",{})),ne(ro("keyAttemptStats",{})),xe(parseInt(localStorage.getItem("wpmGoal")||"20",10)),Be(parseInt(localStorage.getItem("accuracyGoal")||"95",10)),st(parseInt(localStorage.getItem("timeGoal")||"15",10));const Me=new Date().toISOString().split("T")[0],Qe=localStorage.getItem("dailyPracticeDate");qe(Qe===Me?Number(localStorage.getItem("dailyPracticeTime")||"0"):0),bn(localStorage.getItem("setupTab")||"generate"),v(ro("generalContentTypes",["characters"]))},[]),eu=U.useCallback(async(ie,Pe,Me,Qe,lt)=>{Me?(xr(Me,Qe),Vi(),As("practice")):(ie&&j(ie),Pe&&P(Pe),Qe&&p(Qe),lt&&v(lt),Vi(),As("practice"),await br({length:ie||C,level:Pe||O,mode:Qe||h,contentTypes:lt||m}))},[Vi,xr,br,C,O,h,m,As]),Os=U.useCallback(()=>{kt.length>0&&Ae<kt.length-1?La():br()},[kt,Ae,La,br]),Pr=U.useCallback(()=>{dt(ie=>ie+1)},[]),Tn=U.useCallback(()=>{$r(),dt(ie=>ie+1)},[$r]),Ln=U.useCallback(ie=>{const Pe=Re.find(mt=>mt.timestamp===ie);if(!Pe)return;const Me=Re.filter(mt=>mt.timestamp!==ie);$e(Me),localStorage.setItem("practiceHistory",JSON.stringify(Me));const Qe=new Date(Pe.timestamp).toDateString(),lt=new Date().toDateString();if(Qe===lt){qe(Lt=>Math.max(0,Lt-Pe.duration));const mt=Number(localStorage.getItem("dailyPracticeTime")||"0");localStorage.setItem("dailyPracticeTime",String(Math.max(0,mt-Pe.duration)))}Jr(Me)},[Re,e]),aa=U.useCallback(async()=>{if($e([]),qe(0),Ee({}),ne({}),l("light"),f(Cn.find(Pe=>Pe.id==="python")||Cn[0]),p("code"),v(["characters"]),j("medium"),P("medium"),B(2),$("medium"),xe(20),Be(95),st(15),Q(window.innerWidth>=768),F(!0),["practiceHistory","keyErrorStats","keyAttemptStats","dailyPracticeTime","dailyPracticeDate","theme","selectedLanguage","generalContentTypes","snippetLength","snippetLevel","blockOnErrorThreshold","fontSize","wpmGoal","accuracyGoal","timeGoal","setupTab","sessionResultToShow","continuedSession","showKeyboard"].forEach(Pe=>localStorage.removeItem(Pe)),e)try{console.log("Wiping cloud data..."),await aS(rS(sS,"users",e.uid),{history:[],preferences:{theme:"dark",languageId:Cn[0].id}}),console.log("Cloud wipe successful."),$t("All history and preferences cleared from device and cloud.","info")}catch(Pe){console.error("Failed to wipe cloud data:",Pe),$t("Failed to clear cloud data. Please check connection.","error")}else $t("All local history and preferences cleared.","info")},[e,$t]),Uo={theme:s,toggleTheme:je,selectedLanguage:c,setSelectedLanguage:pt,snippet:_,isLoadingSnippet:S,snippetError:A,fetchNewSnippet:br,startCustomSession:xr,startTargetedSession:kr,startErrorPracticeSession:gi,isCustomSession:k,isMultiFileSession:kt.length>0,snippetLength:C,setSnippetLength:jt,snippetLevel:O,setSnippetLevel:or,blockOnErrorThreshold:R,setBlockOnErrorThreshold:Vr,fontSize:D,increaseFontSize:Yr,decreaseFontSize:sf,showKeyboard:L,toggleKeyboard:jo,showHandGuide:J,toggleHandGuide:Da,page:Y,navigateTo:As,getPreviousPage:Jl,isSetupModalOpen:ve,openSetupModal:$r,closeSetupModal:Vi,isInitialSetupComplete:Ue,setupTab:en,setSetupTab:Li,practiceHistory:Re,addPracticeResult:yi,keyErrorStats:ye,keyAttemptStats:Ne,wpmGoal:Ge,accuracyGoal:Te,timeGoal:We,dailyPracticeTime:Ye,setGoals:Qr,isAccessKeyMenuVisible:_t,showAccessKeyMenu:Lo,hideAccessKeyMenu:Vo,currentTargetedKeys:En,setCurrentTargetedKeys:Ie,lastPracticeAction:ht,setLastPracticeAction:xt,setRequestFocusOnCodeCallback:Zl,requestFocusOnCode:mi,practiceQueue:kt,currentQueueIndex:Ae,startMultiFileSession:Do,loadNextSnippetInQueue:La,alertMessage:Pt,showAlert:$t,reloadDataFromStorage:$o,practiceMode:h,setPracticeMode:Ql,generalContentTypes:m,setGeneralContentTypes:Xr,sessionResetKey:Nt,handleStartFromSetup:eu,handleNextSnippet:Os,handlePracticeSame:Pr,handleSetupNew:Tn,deletePracticeSession:Ln,clearPracticeHistory:aa,isAnyModalOpen:me,registerModalOpen:we,registerModalClose:Se};return x.jsx(Sn.Provider,{value:Uo,children:t})},AG=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("circle",{cx:"12",cy:"12",r:"5"}),x.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),x.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),x.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),x.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),x.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),x.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),x.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),x.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),OG=t=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:x.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),CG=t=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",...t,children:x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.5,4H3.5C2.67,4,2,4.67,2,5.5v13C2,19.33,2.67,20,3.5,20h17c0.83,0,1.5-0.67,1.5-1.5V5.5C22,4.67,21.33,4,20.5,4z M6.4,8.4H4V6h2.4V8.4z M9.6,8.4H7.2V6h2.4V8.4z M12.8,8.4h-2.4V6h2.4V8.4z M16,8.4h-2.4V6h2.4V8.4z M19.2,8.4H16.8V6h2.4V8.4z M6.4,12H4V9.6h2.4V12z M9.6,12H7.2V9.6h2.4V12z M12.8,12h-2.4V9.6h2.4V12z M16,12h-2.4V9.6h2.4V12z M19.2,12H16.8V9.6h2.4V12z M16,16.4H8V14h8V16.4z"})}),Mk=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M12 20V10"}),x.jsx("path",{d:"M18 20V4"}),x.jsx("path",{d:"M6 20V16"})]}),Dk=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),x.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),ui=(t,e,n={})=>{const r=U.useContext(Sn);U.useEffect(()=>{if(!t||n.disabled||!e)return;const i=s=>{s.altKey&&s.key.toLowerCase()===t.toLowerCase()&&(s.preventDefault(),e(),r==null||r.hideAccessKeyMenu())};return window.addEventListener("keydown",i),()=>{window.removeEventListener("keydown",i)}},[t,e,n.disabled,r])},I5=({label:t})=>x.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 bg-black text-white dark:bg-white dark:text-black border border-white dark:border-black rounded-[2px] px-1.5 py-0 text-[10px] leading-tight font-sans font-bold z-50 shadow-sm pointer-events-none uppercase tracking-tighter min-w-[16px] text-center",children:t});var AT=lL();const IG=Gt(AT),gr=U.forwardRef(({children:t,className:e="",...n},r)=>x.jsx("div",{ref:r,className:`glass-card rounded-xl ${e}`,...n,children:t})),OT=U.createContext(!1),Lk=document.getElementById("modal-root"),Io=({isOpen:t,onClose:e,title:n,children:r})=>{const i=U.useRef(null),s=U.useContext(Sn);if(ui("X",e,{disabled:!t}),U.useEffect(()=>{if(t)return s==null||s.registerModalOpen(),()=>{s==null||s.registerModalClose()}},[t,s]),U.useEffect(()=>{const c=document.getElementById("root"),f=h=>{h.key==="Escape"&&e()};return t&&(c==null||c.classList.add("modal-open-blur"),document.addEventListener("keydown",f)),()=>{c==null||c.classList.remove("modal-open-blur"),document.removeEventListener("keydown",f)}},[t,e]),!t||!Lk)return null;const l=x.jsx("div",{className:"fixed top-0 left-0 w-[100vw] h-[100vh] z-[9999] flex items-center justify-center bg-black/70 p-4",onMouseDown:c=>{c.target===c.currentTarget&&e()},children:x.jsx(gr,{ref:i,className:"w-full max-w-md max-h-[90vh] overflow-y-auto custom-scrollbar p-6 animate-fade-in-up",children:x.jsxs(OT.Provider,{value:!0,children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:n}),x.jsx(Fe,{variant:"ghost",size:"icon",onClick:e,className:"-m-2","aria-label":"Close",title:"Close (Alt+X)",accessKeyChar:"X",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),x.jsx("div",{children:r})]})})});return AT.createPortal(l,Lk)},Fe=U.forwardRef(({children:t,className:e="",variant:n="primary",size:r="md",accessKeyChar:i,accessKeyLabel:s,accessKey:l,...c},f)=>{const h=U.useContext(Sn),p=U.useContext(OT),m=U.useRef(null);U.useImperativeHandle(f,()=>m.current);const v=i||l;ui(v,()=>{var A;return(A=m.current)==null?void 0:A.click()},{disabled:c.disabled});const _="font-medium rounded-lg transition-all duration-200 relative inline-flex items-center justify-center",E={primary:"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white shadow-md hover:opacity-90 disabled:opacity-50 glow-hover",secondary:"bg-slate-200 text-slate-700 hover:bg-slate-300 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600 disabled:opacity-50",ghost:"bg-transparent text-slate-600 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700 disabled:opacity-50",outline:"bg-transparent border border-slate-300 text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:border-slate-600 dark:hover:bg-slate-700 disabled:opacity-50",destructive:"bg-red-500 text-white hover:bg-red-600 disabled:opacity-50"},S={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-4 py-2",lg:"text-base px-6 py-3",icon:"p-2"},w=(h==null?void 0:h.isAccessKeyMenuVisible)&&v&&!c.disabled&&(p||!(h!=null&&h.isAnyModalOpen));return x.jsxs("button",{ref:m,className:`${_} ${E[n]} ${S[r]} ${e}`,...c,children:[w&&x.jsx(I5,{label:s||v}),t]})});Fe.displayName="Button";const kG=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M2.5 16.5 7 5l4.5 11.5"}),x.jsx("path",{d:"M4 13h6"}),x.jsx("path",{d:"M15 12h6"}),x.jsx("path",{d:"M18 9v6"})]}),PG=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M4.5 16.5 7 9l2.5 7.5"}),x.jsx("path",{d:"M5.5 14h3"}),x.jsx("path",{d:"M15 12h6"})]}),Vk=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M3 6h18"}),x.jsx("path",{d:"M3 9h14"}),x.jsx("path",{d:"M3 12h18"}),x.jsx("path",{d:"M3 15h14"}),x.jsx("path",{d:"M3 18h18"})]}),NG=({className:t="w-6 h-6"})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]});class RG{constructor(){this.unlocked=!1,this.ctx=new(window.AudioContext||window.webkitAudioContext)}async unlock(){if(!this.unlocked)try{this.ctx.state==="closed"&&(this.ctx=new(window.AudioContext||window.webkitAudioContext)),this.ctx.state==="suspended"&&await this.ctx.resume(),this.unlocked=!0}catch(e){console.warn("AudioContext unlock failed:",e)}}playClicky(e=.3){if(!this.unlocked)return;const n=this.ctx.currentTime,r=this.ctx.createOscillator(),i=this.ctx.createOscillator(),s=this.ctx.createGain();r.connect(s),i.connect(s),s.connect(this.ctx.destination),r.type="square",r.frequency.setValueAtTime(3e3,n),r.frequency.exponentialRampToValueAtTime(1500,n+.005),i.type="sawtooth",i.frequency.setValueAtTime(800,n),i.frequency.exponentialRampToValueAtTime(200,n+.015),s.gain.setValueAtTime(e*.6,n),s.gain.exponentialRampToValueAtTime(.001,n+.03),r.start(n),r.stop(n+.03),i.start(n),i.stop(n+.03),r.onended=()=>{r.disconnect(),i.disconnect(),s.disconnect()}}playTactile(e=.3){if(!this.unlocked)return;const n=this.ctx.currentTime,r=this.ctx.createOscillator(),i=this.ctx.createGain();r.connect(i),i.connect(this.ctx.destination),r.type="triangle",r.frequency.setValueAtTime(600,n),r.frequency.exponentialRampToValueAtTime(150,n+.02),i.gain.setValueAtTime(e*.4,n),i.gain.exponentialRampToValueAtTime(.001,n+.025),r.start(n),r.stop(n+.025),r.onended=()=>{r.disconnect(),i.disconnect()}}playThock(e=.3){if(!this.unlocked)return;const n=this.ctx.currentTime,r=this.ctx.createOscillator(),i=this.ctx.createOscillator(),s=this.ctx.createGain();r.connect(s),i.connect(s),s.connect(this.ctx.destination),r.type="sine",r.frequency.setValueAtTime(100,n),r.frequency.exponentialRampToValueAtTime(40,n+.04),i.type="triangle",i.frequency.setValueAtTime(250,n),i.frequency.exponentialRampToValueAtTime(80,n+.03),s.gain.setValueAtTime(e*.5,n),s.gain.exponentialRampToValueAtTime(.001,n+.06),r.start(n),r.stop(n+.06),i.start(n),i.stop(n+.06),r.onended=()=>{r.disconnect(),i.disconnect(),s.disconnect()}}playError(e=.3){if(!this.unlocked)return;const n=this.ctx.currentTime,r=this.ctx.createOscillator(),i=this.ctx.createGain();r.connect(i),i.connect(this.ctx.destination),r.type="sine",r.frequency.setValueAtTime(350,n),r.frequency.linearRampToValueAtTime(280,n+.1),i.gain.setValueAtTime(0,n),i.gain.linearRampToValueAtTime(e*.15,n+.02),i.gain.linearRampToValueAtTime(e*.1,n+.06),i.gain.linearRampToValueAtTime(0,n+.1),r.start(n),r.stop(n+.1),r.onended=()=>{r.disconnect(),i.disconnect()}}playStar(e,n=.3){if(!this.unlocked)return;const r=this.ctx.currentTime,i=784+e*55,s=this.ctx.createOscillator(),l=this.ctx.createGain();s.connect(l),l.connect(this.ctx.destination),s.type="sine",s.frequency.setValueAtTime(i,r),l.gain.setValueAtTime(0,r),l.gain.linearRampToValueAtTime(n*.3,r+.01),l.gain.exponentialRampToValueAtTime(.001,r+.1),s.start(r),s.stop(r+.1),s.onended=()=>{s.disconnect(),l.disconnect()}}}class jG{constructor(){this.lastTypingSoundTime=0,this.TYPING_THROTTLE_MS=20,this.audio=new RG,this.settings=this.loadSettings(),this.setupAudioUnlock()}setupAudioUnlock(){const e=()=>{this.audio.unlock(),document.removeEventListener("click",e),document.removeEventListener("keydown",e),document.removeEventListener("pointerdown",e)};document.addEventListener("click",e,{once:!0}),document.addEventListener("keydown",e,{once:!0}),document.addEventListener("pointerdown",e,{once:!0})}loadSettings(){const e=localStorage.getItem("appSettings");return e?JSON.parse(e):{sound:{typingSoundEnabled:!0,errorSoundEnabled:!0,successSoundEnabled:!0,volume:.5,keyboardStyle:"tactile"},visuals:{showHandGuide:!0,autoDisableHandGuideAt:95},mobile:{disableHandGuideOnMobile:!0}}}updateSettings(e){this.settings={...this.settings,...e,sound:{...this.settings.sound,...e.sound},visuals:{...this.settings.visuals,...e.visuals},mobile:{...this.settings.mobile,...e.mobile}},localStorage.setItem("appSettings",JSON.stringify(this.settings))}playTyping(){if(!this.settings.sound.typingSoundEnabled)return;const e=Date.now();if(e-this.lastTypingSoundTime<this.TYPING_THROTTLE_MS)return;this.lastTypingSoundTime=e;const{keyboardStyle:n}=this.settings.sound,r=this.settings.sound.volume;switch(n){case"clicky":this.audio.playClicky(r);break;case"tactile":this.audio.playTactile(r);break;case"thock":this.audio.playThock(r);break}}playError(){this.settings.sound.errorSoundEnabled&&this.audio.playError(this.settings.sound.volume)}playStar(e){this.settings.sound.successSoundEnabled&&this.audio.playStar(e,this.settings.sound.volume)}getSettings(){return this.settings}shouldShowHandGuide(e){const{showHandGuide:n,autoDisableHandGuideAt:r}=this.settings.visuals;return!(!n||e&&e>=r||this.settings.mobile.disableHandGuideOnMobile&&window.innerWidth<768)}}const uo=new jG,MG=()=>{const[t,e]=U.useState(uo.getSettings()),n=(i,s,l)=>{const c={...t,[i]:{...t[i],[s]:l}};uo.updateSettings(c),e(uo.getSettings())},r=({checked:i,onChange:s,label:l,icon:c})=>x.jsxs("label",{className:"flex items-center justify-between py-3 cursor-pointer group",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[c&&x.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:c}),x.jsx("span",{className:"text-slate-700 dark:text-slate-200 font-medium",children:l})]}),x.jsx("div",{className:`relative w-11 h-6 rounded-full transition-colors duration-200 ${i?"bg-primary-500":"bg-slate-300 dark:bg-slate-600"}`,onClick:()=>s(!i),children:x.jsx("div",{className:`absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full shadow-md transition-transform duration-200 ${i?"translate-x-5":"translate-x-0"}`})})]});return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("section",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-xl p-5",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("svg",{className:"w-5 h-5 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"})}),x.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Sound Effects"})]}),x.jsx("div",{className:`relative w-11 h-6 rounded-full transition-colors duration-200 cursor-pointer ${t.sound.typingSoundEnabled||t.sound.errorSoundEnabled||t.sound.successSoundEnabled?"bg-primary-500":"bg-slate-300 dark:bg-slate-600"}`,onClick:()=>{const s=!(t.sound.typingSoundEnabled&&t.sound.errorSoundEnabled&&t.sound.successSoundEnabled),l={...t,sound:{...t.sound,typingSoundEnabled:s,errorSoundEnabled:s,successSoundEnabled:s}};uo.updateSettings(l),e(uo.getSettings())},title:t.sound.typingSoundEnabled&&t.sound.errorSoundEnabled&&t.sound.successSoundEnabled?"Disable all sounds":"Enable all sounds",children:x.jsx("div",{className:`absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full shadow-md transition-transform duration-200 ${t.sound.typingSoundEnabled||t.sound.errorSoundEnabled||t.sound.successSoundEnabled?"translate-x-5":"translate-x-0"}`})})]}),x.jsxs("div",{className:"space-y-1 divide-y divide-slate-200 dark:divide-slate-700",children:[x.jsx(r,{checked:t.sound.typingSoundEnabled,onChange:i=>n("sound","typingSoundEnabled",i),label:"Typing Sounds",icon:x.jsx("span",{children:""})}),x.jsx(r,{checked:t.sound.errorSoundEnabled,onChange:i=>n("sound","errorSoundEnabled",i),label:"Error Sounds",icon:x.jsx("span",{children:""})}),x.jsx(r,{checked:t.sound.successSoundEnabled,onChange:i=>n("sound","successSoundEnabled",i),label:"Success Sounds",icon:x.jsx("span",{children:""})})]}),x.jsxs("div",{className:"mt-5 pt-4 border-t border-slate-200 dark:border-slate-700",children:[x.jsxs("div",{className:"flex justify-between items-center mb-3",children:[x.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Volume"}),x.jsxs("span",{className:"text-sm font-semibold text-primary-600 dark:text-primary-400 bg-primary-50 dark:bg-primary-900/30 px-2 py-0.5 rounded",children:[Math.round(t.sound.volume*100),"%"]})]}),x.jsx("input",{type:"range",min:"0",max:"100",value:t.sound.volume*100,onChange:i=>n("sound","volume",Number(i.target.value)/100),className:"w-full h-2 bg-slate-200 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-primary-500"})]}),x.jsxs("div",{className:"mt-5 pt-4 border-t border-slate-200 dark:border-slate-700",children:[x.jsx("label",{className:"block mb-2 text-sm font-medium text-slate-600 dark:text-slate-300",children:"Keyboard Style"}),x.jsxs("select",{value:t.sound.keyboardStyle,onChange:i=>n("sound","keyboardStyle",i.target.value),className:"w-full p-3 border border-slate-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100 focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",children:[x.jsx("option",{value:"clicky",children:" Clicky (Cherry MX Blue)"}),x.jsx("option",{value:"tactile",children:" Tactile (Cherry MX Brown)"}),x.jsx("option",{value:"thock",children:" Thock (Topre)"})]})]})]}),x.jsx("section",{className:"bg-gradient-to-r from-primary-50 to-purple-50 dark:from-primary-900/20 dark:to-purple-900/20 rounded-xl p-5",children:x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx("div",{className:"text-2xl",children:""}),x.jsxs("div",{children:[x.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-100 mb-1",children:"Pro Tip"}),x.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:'Different keyboard sounds can help you develop muscle memory. Try "Thock" for a satisfying deep sound!'})]})]})})]})},$k=["sm","md","lg","xl"],DG=()=>{const t=U.useContext(Sn);if(!t)throw new Error("AppContext not found");const{theme:e,toggleTheme:n,fontSize:r,increaseFontSize:i,decreaseFontSize:s,showKeyboard:l,toggleKeyboard:c,page:f,navigateTo:h,requestFocusOnCode:p,isSetupModalOpen:m}=t,{user:v,loginWithGoogle:_,loading:E}=Oy(),[S,w]=U.useState(!1),[A,I]=U.useState(!1);ui("U",()=>h("profile"),{disabled:m||!v});const k=P=>{P(),f==="practice"&&p()},V=({page:P,label:R,icon:B,accessKeyChar:D,onClick:$,className:L,showLabelAlways:Q})=>x.jsxs(Fe,{onClick:$,variant:f===P?"primary":"ghost",size:"sm",className:`!py-2 !gap-2 ${L||""}`,accessKeyChar:D,disabled:m,children:[B,x.jsx("span",{className:Q?"inline":"hidden sm:inline",children:R})]}),C=$k.indexOf(r),j=C>0,O=C<$k.length-1;return x.jsxs("header",{className:"glass fixed top-0 left-0 right-0 z-40 border-b border-slate-200/50 dark:border-slate-700/50 transition-all duration-300",children:[x.jsx("div",{className:"container mx-auto px-4",children:x.jsxs("div",{className:"flex items-center justify-between h-16",children:[x.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[x.jsxs("h1",{className:"text-xl font-bold bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 dark:from-indigo-400 dark:via-purple-400 dark:to-pink-400 bg-clip-text text-transparent cursor-pointer whitespace-nowrap",onClick:()=>h("home"),children:[x.jsx("span",{className:"hidden md:inline",children:"AI Code Typer"}),x.jsx("span",{className:"inline md:hidden",children:"ACT"})]}),x.jsxs("nav",{className:"hidden md:flex items-center gap-1 sm:gap-2",children:[x.jsx(V,{page:"home",label:"Home",icon:x.jsx(Dk,{className:"w-5 h-5"}),accessKeyChar:"H",onClick:()=>h("home")}),x.jsx(V,{page:"practice",label:"Practice",icon:x.jsx(Vk,{className:"w-5 h-5"}),accessKeyChar:"P",onClick:()=>{t.snippet?h("practice"):t.openSetupModal()}}),x.jsx(V,{page:"dashboard",label:"Dashboard",icon:x.jsx(Mk,{className:"w-5 h-5"}),accessKeyChar:"D",onClick:()=>h("dashboard")})]})]}),x.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[x.jsx(Fe,{variant:"ghost",size:"icon",onClick:()=>k(n),"aria-label":"Toggle theme",accessKeyChar:"M",disabled:m,children:e==="light"?x.jsx(OG,{className:"w-6 h-6"}):x.jsx(AG,{className:"w-6 h-6"})}),f==="practice"&&x.jsxs(x.Fragment,{children:[x.jsx(Fe,{variant:"ghost",size:"icon",onClick:()=>k(s),disabled:!j||m,"aria-label":"Decrease font size",accessKeyChar:"-",children:x.jsx(PG,{className:"w-6 h-6"})}),x.jsx(Fe,{variant:"ghost",size:"icon",onClick:()=>k(i),disabled:!O||m,"aria-label":"Increase font size",accessKeyChar:"=",children:x.jsx(kG,{className:"w-6 h-6"})}),x.jsx(Fe,{variant:l?"secondary":"ghost",size:"icon",onClick:()=>k(c),"aria-label":"Toggle keyboard",title:"Toggle keyboard",disabled:m,accessKeyChar:"K",children:x.jsx(CG,{className:"w-6 h-6"})}),x.jsx(Fe,{variant:"ghost",size:"icon",onClick:()=>I(!0),"aria-label":"Settings",title:"Settings (Sound & Visuals)",disabled:m,accessKeyChar:"S",children:x.jsx(NG,{className:"w-6 h-6"})})]}),E?x.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-200 dark:bg-slate-700 animate-pulse border-2 border-slate-100 dark:border-slate-800"}):v?x.jsx("button",{onClick:()=>h("profile"),className:"relative group outline-none","aria-label":"User Profile",children:x.jsx("img",{src:v.photoURL||`https://ui-avatars.com/api/?name=${v.displayName}`,alt:"Profile",className:`w-8 h-8 rounded-full border-2 border-slate-200 dark:border-slate-700 transition-transform group-hover:scale-105 ${f==="profile"?"ring-2 ring-primary-500 ring-offset-2 dark:ring-offset-slate-900":""}`})}):x.jsx(Fe,{variant:"primary",size:"sm",onClick:_,className:"hidden sm:flex",children:"Sign In"}),!E&&!v&&x.jsx(Fe,{variant:"ghost",size:"icon",onClick:_,className:"sm:hidden text-primary-600 dark:text-primary-400",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-6 h-6",children:[x.jsx("path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}),x.jsx("polyline",{points:"10 17 15 12 10 7"}),x.jsx("line",{x1:"15",x2:"3",y1:"12",y2:"12"})]})})]})]})}),S&&x.jsx("div",{className:"md:hidden border-t border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 absolute w-full left-0 shadow-lg z-50",children:x.jsxs("div",{className:"flex flex-col p-4 space-y-2",children:[x.jsx(V,{page:"home",label:"Home",icon:x.jsx(Dk,{className:"w-5 h-5"}),accessKeyChar:"H",onClick:()=>{h("home"),w(!1)},className:"w-full justify-start",showLabelAlways:!0}),x.jsx(V,{page:"practice",label:"Practice",icon:x.jsx(Vk,{className:"w-5 h-5"}),accessKeyChar:"P",onClick:()=>{t.snippet?h("practice"):t.openSetupModal(),w(!1)},className:"w-full justify-start",showLabelAlways:!0}),x.jsx(V,{page:"dashboard",label:"Dashboard",icon:x.jsx(Mk,{className:"w-5 h-5"}),accessKeyChar:"D",onClick:()=>{h("dashboard"),w(!1)},className:"w-full justify-start",showLabelAlways:!0})]})}),x.jsx(Io,{isOpen:A,onClose:()=>I(!1),title:"Settings",children:x.jsx(MG,{})})]})},Ab=({title:t,description:e,icon:n})=>x.jsxs(gr,{className:"p-6 text-center hover:scale-105 transition-transform duration-300",children:[x.jsx("div",{className:"text-5xl mb-4",children:n}),x.jsx("h3",{className:"text-xl font-semibold mb-2 bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 dark:from-indigo-400 dark:via-purple-400 dark:to-pink-400 bg-clip-text text-transparent",children:t}),x.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:e})]}),LG=({onStartPractice:t})=>{const e=U.useContext(Sn);if(!e)throw new Error("AppContext not found");const{startCustomSession:n,fetchNewSnippet:r,isSetupModalOpen:i,openSetupModal:s,closeSetupModal:l}=e;return U.useEffect(()=>{const c=f=>{i||f.target.closest("input, textarea, select, button")||(f.key==="Enter"||f.key===" "||f.key==="Enter"&&f.ctrlKey)&&(f.preventDefault(),s())};return window.addEventListener("keydown",c),()=>{window.removeEventListener("keydown",c)}},[i,s]),x.jsx(x.Fragment,{children:x.jsxs("div",{className:"h-full overflow-y-auto custom-scrollbar",children:[x.jsxs("div",{className:"relative min-h-[70vh] flex items-center justify-center px-4 py-12",children:[x.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-gradient-to-r from-indigo-400 to-purple-400 rounded-full blur-3xl opacity-20 animate-pulse"}),x.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full blur-3xl opacity-20 animate-pulse",style:{animationDelay:"1s"}}),x.jsxs("div",{className:"relative z-10 text-center max-w-5xl mx-auto",children:[x.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full glass mb-8 animate-fade-in-up",children:[x.jsx("span",{className:"text-2xl",children:""}),x.jsx("span",{className:"text-sm font-medium bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 dark:from-indigo-400 dark:via-purple-400 dark:to-pink-400 bg-clip-text text-transparent",children:"AI-Powered Typing Practice"})]}),x.jsxs("h1",{className:"text-5xl sm:text-6xl md:text-7xl lg:text-8xl font-extrabold tracking-tight mb-6 leading-tight",children:[x.jsx("span",{className:"text-slate-900 dark:text-white",children:"Sharpen Your"}),x.jsx("br",{}),x.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 animate-fade-in-up",children:"Coding Speed"})]}),x.jsx("p",{className:"max-w-2xl mx-auto text-lg md:text-xl text-slate-600 dark:text-slate-300 mb-10 animate-fade-in-up",style:{animationDelay:"0.2s"},children:"Practice typing real code snippets generated by AI. Boost your accuracy, increase your WPM, and master your favorite programming language's syntax."}),x.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:"0.3s"},children:x.jsxs(Fe,{size:"lg",onClick:s,className:"text-lg px-8 py-4 group",children:["Start Practicing Now",x.jsx("svg",{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})}),x.jsx("div",{className:"mt-16 flex items-center justify-center gap-8 md:gap-16 animate-fade-in",style:{animationDelay:"0.5s"},children:[{value:"10+",label:"Languages"},{value:"AI",label:"Generated"},{value:"",label:"Practice"}].map((c,f)=>x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 dark:from-indigo-400 dark:via-purple-400 dark:to-pink-400 bg-clip-text text-transparent",children:c.value}),x.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:c.label})]},f))})]})]}),x.jsx("div",{className:"max-w-6xl mx-auto px-4 py-20",children:x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[x.jsx(Ab,{title:"AI-Powered Snippets",description:"Endless, unique practice sessions with code generated by Google's Gemini.",icon:""}),x.jsx(Ab,{title:"Real-time Feedback",description:"Instantly track your Words Per Minute (WPM) and typing accuracy as you go.",icon:""}),x.jsx(Ab,{title:"Syntax Focused",description:"Get comfortable with language-specific syntax, not just random words.",icon:""})]})})]})})};var Yu=(t=>(t[t.Idle=0]="Idle",t[t.Correct=1]="Correct",t[t.Incorrect=2]="Incorrect",t[t.Warning=3]="Warning",t))(Yu||{});const VG=(t,e,n={})=>{const{onPause:r,onResume:i}=n,[s,l]=U.useState(null),[c,f]=U.useState(Array(t.length).fill(0)),[h,p]=U.useState(""),[m,v]=U.useState(0),[_,E]=U.useState(100),[S,w]=U.useState(0),[A,I]=U.useState(0),[k,V]=U.useState(0),C=U.useRef(0),[j,O]=U.useState(!1),[P,R]=U.useState(!1),[B,D]=U.useState(!1),$=U.useRef({isPaused:!1,isFinished:!1,startTime:null,isTypingStarted:!1});U.useEffect(()=>{$.current={...$.current,isPaused:B,isFinished:j,startTime:s}}),U.useEffect(()=>{C.current=k},[k]);const L=U.useRef(null),Q=U.useRef(null),J=h.length,F=U.useRef(null),Y=U.useRef(0),ee=U.useRef(null),ue=U.useRef({}),ve=U.useRef({}),H=U.useCallback(()=>{L.current&&(clearTimeout(L.current),L.current=null)},[]),W=U.useCallback(()=>{F.current&&(clearInterval(F.current),F.current=null)},[]),oe=U.useCallback(()=>{const{isPaused:ne,isFinished:Ge,startTime:xe}=$.current;ne||Ge||!xe||(H(),W(),ee.current&&(Y.current+=Date.now()-ee.current),D(!0),r&&r())},[r,H,W]),me=U.useCallback(()=>{H(),$.current.isFinished||(L.current=window.setTimeout(oe,5e3))},[H,oe]),we=U.useCallback(()=>{W(),ee.current=Date.now(),F.current=window.setInterval(()=>{if(ee.current){const ne=Date.now()-ee.current;I((Y.current+ne)/1e3)}},100)},[W]),Se=U.useCallback(()=>{const{isPaused:ne,isFinished:Ge}=$.current;!ne||Ge||(D(!1),we(),me(),i&&i())},[i,me,we]),Re=U.useCallback(()=>{W(),l(null),f(Array(t.length).fill(0)),p(""),v(0),E(100),w(0),I(0),V(0),C.current=0,O(!1),R(!1),D(!1),Y.current=0,ee.current=null,$.current.isTypingStarted=!1,ue.current={},ve.current={};const ne={};for(const Ge of t)ne[Ge]=(ne[Ge]||0)+1;ve.current=ne,Q.current&&clearTimeout(Q.current),H()},[t,H,W]);U.useEffect(()=>{Re()},[Re]);const $e=U.useCallback(ne=>{const Ge=ne.length===1,xe=["Tab","Control","Shift","Enter","Backspace"].includes(ne);if(!($.current.isFinished||t.length===0)&&!(!Ge&&!xe))if($.current.isPaused?Se():$.current.isTypingStarted&&me(),$.current.isTypingStarted||(l(Date.now()),we(),me(),$.current.isTypingStarted=!0),Q.current&&clearTimeout(Q.current),R(!1),ne==="Backspace")V(0),C.current=0,J>0&&(c[J-1]===2&&w(Te=>Math.max(0,Te-1)),p(Te=>Te.slice(0,-1)),f(Te=>{const Be=[...Te];return Be[J-1]=0,Be}));else{const Te=ne==="Enter"?`
`:ne==="Tab"?"	":Ge?ne:null;if(Te!==null&&J<t.length){const Be=t[J],We=Te===Be;if(We)uo.playTyping(),V(0),C.current=0;else{ue.current[Be]=(ue.current[Be]||0)+1,w(_t=>_t+1),uo.playError();const st=C.current+1;if(V(st),C.current=st,e>0&&st>=e){R(!0),Q.current=window.setTimeout(()=>R(!1),200),f(_t=>{const Dt=[..._t];return Dt[J]=2,Dt});return}}if(p(st=>st+Te),f(st=>{const Ye=[...st];return We?Ye[J]=1:Ye[J]=2,Ye}),J+1===t.length){H(),W();const Ye=(Y.current+(ee.current?Date.now()-ee.current:0))/1e3;I(Ye);const qe=Ye/60,_t=t.length/5,Dt=qe>0?Math.round(_t/qe):0;v(Dt),w(En=>{const Ie=En+(We?0:1),ht=Math.max(0,(t.length-Ie)/t.length*100);return E(parseFloat(ht.toFixed(2))),En}),O(!0)}}else if(Te!==null&&J===t.length){const Be=C.current+1;V(Be),C.current=Be,w(We=>We+1),R(!0),Q.current=window.setTimeout(()=>R(!1),200)}}},[J,t,S,e,Se,H,me,we,W]);U.useEffect(()=>{if(s&&!j){const ne=Y.current+(ee.current&&!B?Date.now()-ee.current:0),Ge=ne/6e4,xe=ne/1e3,Te=h.length/5;Ge>0&&(h.length>1||xe>1)?v(Math.round(Te/Ge)):v(0);const Be=h.length;if(Be>0){const We=h.split("").filter((st,Ye)=>st===t[Ye]).length;E(parseFloat((We/Be*100).toFixed(2)))}else E(100)}else s||(v(0),E(100))},[h,s,j,B,t]),U.useEffect(()=>W,[W]);const ye=U.useCallback(()=>{const ne=Y.current+(ee.current&&!$.current.isPaused?Date.now()-ee.current:0);return{startTime:$.current.startTime,charStates:c,typedText:h,errors:S,consecutiveErrors:k,isFinished:j,accumulatedDuration:ne,errorMap:ue.current,attemptMap:ve.current,isTypingStarted:$.current.isTypingStarted}},[c,h,S,k,j]),Ee=U.useCallback(ne=>{W(),l(ne.startTime),f(ne.charStates),p(ne.typedText),w(ne.errors),V(ne.consecutiveErrors),C.current=ne.consecutiveErrors,O(ne.isFinished),Y.current=ne.accumulatedDuration,ee.current=null,ue.current=ne.errorMap,ve.current=ne.attemptMap,$.current.isTypingStarted=ne.isTypingStarted,$.current.startTime=ne.startTime,I(ne.accumulatedDuration/1e3),D(!0)},[W]),Ne=U.useCallback(()=>{$.current.isPaused?Se():oe()},[oe,Se]);return{charStates:c,typedText:h,wpm:m,accuracy:_,errors:S,consecutiveErrors:k,duration:A,isFinished:j,currentIndex:J,isError:P,isPaused:B,handleKeyDown:$e,pauseGame:oe,resumeGame:Se,togglePause:Ne,reset:Re,clearAutoPauseTimer:H,resetIdleTimer:me,errorMap:ue.current,attemptMap:ve.current,getSavableState:ye,restoreState:Ee}},$G=({code:t,charStates:e,currentIndex:n,languageAlias:r,isError:i,cursorRef:s})=>{const[l,c]=U.useState([{chars:[],lineNumber:1}]),f=U.useContext(Sn);if(!f)throw new Error("AppContext not found");const{fontSize:h}=f,p=e!==void 0&&n!==void 0,m={sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"}[h];U.useEffect(()=>{const _=[];if(t&&r&&typeof Prism<"u"&&Prism.languages[r])try{const S=Prism.tokenize(t,Prism.languages[r]);let w=0;const A=I=>{for(const k of I)if(typeof k=="string")for(const V of k)_.push({char:V,classNames:["token","plain"],originalIndex:w++});else{const V=["token",k.type];if(k.alias){const C=Array.isArray(k.alias)?k.alias:[k.alias];V.push(...C)}if(typeof k.content=="string")for(const C of k.content)_.push({char:C,classNames:V,originalIndex:w++});else Array.isArray(k.content)&&A(k.content)}};if(A(S),_.map(I=>I.char).join("")!==t)throw new Error("Tokenization resulted in content mismatch.")}catch(S){console.error("Prism tokenization failed, falling back to plain text.",S),_.length=0,_.push(...t.split("").map((w,A)=>({char:w,classNames:[],originalIndex:A})))}else _.push(...t.split("").map((S,w)=>({char:S,classNames:[],originalIndex:w})));const E=[];if(t){let S=[],w=1;for(const A of _)S.push(A),A.char===`
`&&(E.push({chars:S,lineNumber:w++}),S=[]);S.length>0&&E.push({chars:S,lineNumber:w}),E.length===0&&E.push({chars:[],lineNumber:1})}else E.push({chars:[],lineNumber:1});c(E)},[t,r]);const v=_=>{const E=_.originalIndex,S=p&&E===n;let w,A=Yu.Idle;if(p)if(E<n)switch(A=e[E],A){case Yu.Correct:w="text-primary-500 dark:text-primary-400";break;case Yu.Incorrect:w="text-red-500 bg-red-500/20 rounded-sm";break;case Yu.Warning:w="text-yellow-600 dark:text-yellow-400 bg-yellow-500/20 rounded-sm";break;default:w="text-gray-400";break}else w="text-gray-600 dark:text-gray-400";else w=_.classNames.join(" ");p&&E>n&&(w="text-gray-600 dark:text-gray-400");const I=_.char===`
`,k=p&&E<n&&A===Yu.Incorrect||p&&S&&i;return x.jsxs("span",{ref:S?s:void 0,className:"relative inline-block",children:[p&&S&&!i&&x.jsx("span",{className:"absolute top-0 left-0 w-0.5 h-full bg-primary-400 animate-blink rounded-full"}),x.jsx("span",{className:`${w} ${p&&S&&i?"bg-red-500/20 rounded-sm":""}`,children:I?k?x.jsx("span",{className:"text-red-500 bg-red-500/20 px-1 select-none",children:""}):"":_.char})]},E)};return x.jsx("div",{className:`font-mono leading-relaxed tracking-wide ${m} [tab-size:4] typography-boost`,children:l.map(({chars:_,lineNumber:E},S)=>{const w=_.length===1&&_[0].char===`
`,I=S===l.length-1&&p&&n===t.length&&t.length>0;return x.jsxs("div",{className:"flex",children:[x.jsx("div",{className:"text-right pr-4 text-gray-500 dark:text-gray-400 select-none flex-shrink-0 w-10 sm:w-12","aria-hidden":"true",children:E}),x.jsxs("div",{className:"flex-1 min-w-0 whitespace-pre-wrap break-all",children:[_.map(v),w&&x.jsx("span",{className:"opacity-0 select-none",children:""}),I&&x.jsxs("span",{ref:s,className:"relative inline-block w-0",children:["",i?x.jsx("span",{className:"absolute top-0 left-0 w-2 h-full bg-red-500/50 animate-pulse rounded-sm"}):x.jsx("span",{className:"absolute top-0 left-0 w-0.5 h-full bg-primary-400 animate-blink rounded-full"})]})]})]},S)})})},ac=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),x.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),x.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),ag=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M23 4v6h-6"}),x.jsx("path",{d:"M1 20v-6h6"}),x.jsx("path",{d:"M3.5 9a9 9 0 0 1 14.8-2.6L23 10"}),x.jsx("path",{d:"M21.5 15a9 9 0 0 1-14.8 2.6L1 14"})]}),UG=()=>{const t=U.useContext(Sn);if(!t)throw new Error("AppContext not found");const{fontSize:e}=t,n={sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"}[e],r=[{width:"75%"},{width:"90%"},{width:"80%"},{width:"60%"},{width:"95%"},{width:"70%"},{width:"85%"},{width:"50%"}];return x.jsx("div",{className:`animate-pulse font-mono leading-relaxed tracking-wide ${n} typography-boost`,children:r.map((i,s)=>x.jsxs("div",{className:"flex mb-1 h-5 sm:h-6",children:[x.jsx("div",{className:"text-right pr-4 text-transparent bg-slate-300 dark:bg-slate-700 rounded-md select-none flex-shrink-0 w-10 sm:w-12","aria-hidden":"true",children:s+1}),x.jsx("div",{className:"flex-1 min-w-0 flex items-center",children:x.jsx("div",{className:"h-full bg-slate-300 dark:bg-slate-700 rounded-md",style:{width:i.width}})})]},s))})},lS=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("rect",{x:"6",y:"4",width:"4",height:"16"}),x.jsx("rect",{x:"14",y:"4",width:"4",height:"16"})]}),BG=G.forwardRef(({value:t,onValueChange:e,snippet:n,languageAlias:r,charStates:i,currentIndex:s,isError:l,isLoading:c,error:f,isPaused:h,disabled:p=!1,onRetry:m,className:v=""},_)=>{const E=U.useRef(null),S=U.useRef(null),w=U.useRef(null),A=U.useRef(null);U.useContext(Sn);const[I,k]=U.useState(()=>typeof window<"u"&&window.visualViewport?window.visualViewport.height:typeof window<"u"?window.innerHeight:600);U.useEffect(()=>{const j=()=>{window.visualViewport&&k(window.visualViewport.height)};return window.visualViewport&&(window.visualViewport.addEventListener("resize",j),window.visualViewport.addEventListener("scroll",j)),()=>{window.visualViewport&&(window.visualViewport.removeEventListener("resize",j),window.visualViewport.removeEventListener("scroll",j))}},[]),G.useImperativeHandle(_,()=>({focus:()=>{var j;(j=E.current)==null||j.focus()}})),U.useEffect(()=>{var j;!c&&!f&&!h&&!p&&((j=E.current)==null||j.focus())},[c,f,h,p]);const V=()=>{var j;p||(j=E.current)==null||j.focus()},C=j=>{e(j.target.value)};return U.useEffect(()=>{const j=w.current;j&&!h&&j.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},[s,h]),x.jsxs("div",{ref:S,className:`relative flex-grow min-h-0 w-full flex flex-col ${l?"animate-shake":""} ${v}`,onClick:V,style:{maxHeight:`${I}px`,transition:"max-height 0.3s ease-out"},children:[x.jsx("textarea",{ref:E,className:"absolute opacity-0 w-px h-px p-0 m-0 border-0 -z-10",value:t,onChange:C,disabled:p,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",tabIndex:0}),h&&x.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center rounded-lg z-20 pointer-events-none animate-fade-in-up",children:x.jsxs("div",{className:"bg-white/90 dark:bg-slate-800/90 p-6 rounded-xl shadow-2xl border border-slate-200 dark:border-slate-700 backdrop-blur-sm",children:[x.jsxs("div",{className:"flex items-center gap-3 text-2xl font-bold text-slate-800 dark:text-slate-100 mb-2",children:[x.jsx(lS,{className:"w-8 h-8 text-primary-500"}),x.jsx("span",{children:"Paused"})]}),x.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-center",children:"Press any key to resume"})]})}),x.jsx(gr,{className:"h-full overflow-hidden flex flex-col relative w-full group",children:x.jsx("div",{className:"flex-grow overflow-y-auto custom-scrollbar relative",ref:A,children:x.jsx("div",{className:"p-4 md:p-6 min-h-full font-mono leading-relaxed",children:c?x.jsx(UG,{}):f?x.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-red-500 p-8 text-center animate-fade-in",children:[x.jsx(ac,{className:"w-12 h-12 mb-4 opacity-80"}),x.jsx("p",{className:"text-lg font-medium mb-4",children:f}),x.jsxs(Fe,{onClick:m,variant:"primary",children:[x.jsx(ag,{className:"w-4 h-4 mr-2"})," Try Again"]})]}):x.jsx($G,{code:n,languageAlias:r,charStates:i,currentIndex:s,isError:l,cursorRef:w})})})})]})}),k5=G.memo(BG);k5.displayName="CodeEditor";const jr=({label:t,value:e})=>x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:t}),x.jsx("span",{className:"text-3xl font-bold text-primary-600 dark:text-primary-400",children:e})]}),qG=t=>{if(isNaN(t)||t<0)return"0:00";const e=Math.floor(t/60),n=Math.floor(t%60);return`${e}:${n.toString().padStart(2,"0")}`},zG=({wpm:t,accuracy:e,errors:n,progress:r,timer:i,duration:s})=>{const l=i!==void 0?i:s||0;return x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-x-8 gap-y-2 md:gap-8 min-w-[200px]",children:[x.jsx(jr,{label:"WPM",value:t}),x.jsx(jr,{label:"Accuracy",value:`${e}%`}),x.jsx(jr,{label:"Errors",value:n}),x.jsx(jr,{label:"Time",value:qG(l)})]})},FG=[["`","1","2","3","4","5","6","7","8","9","0","-","=","Backspace"],["Tab","q","w","e","r","t","y","u","i","o","p","[","]","\\"],["CapsLock","a","s","d","f","g","h","j","k","l",";","'","Enter"],["Shift","z","x","c","v","b","n","m",",",".","/","Shift"],[" "]],HG=[["~","!","@","#","$","%","^","&","*","(",")","_","+","Backspace"],["Tab","Q","W","E","R","T","Y","U","I","O","P","{","}","|"],["CapsLock","A","S","D","F","G","H","J","K","L",":",'"',"Enter"],["Shift","Z","X","C","V","B","N","M","<",">","?","Shift"],[" "]],GG=new Set(["`","1","2","3","4","5","q","w","e","r","t","a","s","d","f","g","z","x","c","v","b"]),KG=new Set(["6","7","8","9","0","-","=","y","u","i","o","p","[","]","\\","h","j","k","l",";","'","n","m",",",".","/"]),Uk={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=","{":"[","}":"]","|":"\\",":":";",'"':"'","<":",",">":".","?":"/"},Bk={Backspace:"flex-grow-[2]",Tab:"flex-grow-[1.5]","\\":"flex-grow-[1.5]","|":"flex-grow-[1.5]",CapsLock:"flex-grow-[1.8]",Enter:"flex-grow-[2.2]",Shift:"flex-grow-[2.5]"," ":"flex-grow-[8]"},WG={"`":"left-pinky","~":"left-pinky",1:"left-pinky","!":"left-pinky",Tab:"left-pinky",q:"left-pinky",Q:"left-pinky",CapsLock:"left-pinky",a:"left-pinky",A:"left-pinky",Shift_left:"left-pinky",z:"left-pinky",Z:"left-pinky",2:"left-ring","@":"left-ring",w:"left-ring",W:"left-ring",s:"left-ring",S:"left-ring",x:"left-ring",X:"left-ring",3:"left-middle","#":"left-middle",e:"left-middle",E:"left-middle",d:"left-middle",D:"left-middle",c:"left-middle",C:"left-middle",4:"left-index",$:"left-index",r:"left-index",R:"left-index",f:"left-index",F:"left-index",v:"left-index",V:"left-index",5:"left-index","%":"left-index",t:"left-index",T:"left-index",g:"left-index",G:"left-index",b:"left-index",B:"left-index",6:"right-index","^":"right-index",y:"right-index",Y:"right-index",h:"right-index",H:"right-index",n:"right-index",N:"right-index",7:"right-index","&":"right-index",u:"right-index",U:"right-index",j:"right-index",J:"right-index",m:"right-index",M:"right-index",8:"right-middle","*":"right-middle",i:"right-middle",I:"right-middle",k:"right-middle",K:"right-middle",",":"right-middle","<":"right-middle",9:"right-ring","(":"right-ring",o:"right-ring",O:"right-ring",l:"right-ring",L:"right-ring",".":"right-ring",">":"right-ring",0:"right-pinky",")":"right-pinky","-":"right-pinky",_:"right-pinky","=":"right-pinky","+":"right-pinky",Backspace:"right-pinky",p:"right-pinky",P:"right-pinky","[":"right-pinky","{":"right-pinky","]":"right-pinky","}":"right-pinky","\\":"right-pinky","|":"right-pinky",Enter:"right-pinky",";":"right-pinky",":":"right-pinky","'":"right-pinky",'"':"right-pinky",Shift_right:"right-pinky","/":"right-pinky","?":"right-pinky"," ":"thumb"},Ob={"left-pinky":"bg-blue-500 text-white","left-ring":"bg-green-500 text-white","left-middle":"bg-yellow-500 text-black","left-index":"bg-red-500 text-white",thumb:"bg-purple-500 text-white","right-index":"bg-red-500 text-white","right-middle":"bg-yellow-500 text-black","right-ring":"bg-green-500 text-white","right-pinky":"bg-blue-500 text-white",special:"bg-slate-300 dark:bg-slate-600"},YG=({nextKey:t,activeKey:e,isShiftActive:n,showHandGuide:r})=>{const i=U.useContext(Sn),s=r??(i==null?void 0:i.showHandGuide)??!0,l=e??t,c=n??(/[A-Z!@#$%^&*()_+{}|:"<>?~]/.test(l)||Object.keys(Uk).includes(l)),f=c?HG:FG;let h=l;l===" "&&(h=" "),l===`
`&&(h="Enter"),l==="	"&&(h="Tab");let p="none";if(c){const v=Uk[l]||l.toLowerCase();GG.has(v)?p="right":KG.has(v)&&(p="left")}const m=v=>{const _=WG[v];return _?Ob[_]:Ob.special};return x.jsx("div",{className:"w-full max-w-4xl mx-auto p-1 sm:p-2 bg-slate-200 dark:bg-slate-800 rounded-lg shadow-lg",children:x.jsx("div",{className:"flex flex-col gap-1",children:f.map((v,_)=>x.jsx("div",{className:"flex gap-1 w-full justify-center",children:v.map((E,S)=>{let w=h===E,A=E;if(E==="Shift"){const C=S===0;A=C?"Shift_left":"Shift_right",c&&(C&&p==="left"&&(w=!0),!C&&p==="right"&&(w=!0))}const I=E===" ",k=s?m(A):"bg-slate-50 dark:bg-slate-700 text-slate-800 dark:text-slate-200 shadow-sm",V="bg-[#3A3A3A] text-white dark:bg-[#E5E5E5] dark:text-black shadow-lg scale-105 ring-2 ring-primary-300 dark:ring-primary-700 z-10";return I?x.jsx("div",{className:`h-8 sm:h-10 md:h-12 rounded-md transition-all duration-100 flex-shrink-0 ${Bk[E]} ${w?V+" animate-pulse":s?Ob.thumb:k}`},`${_}-${S}`):x.jsx("div",{className:`
                                        h-8 sm:h-10 md:h-12 flex-1 flex items-center justify-center 
                                        rounded-md font-sans text-sm sm:text-base font-medium
                                        transition-all duration-100 select-none flex-shrink-0
                                        ${Bk[E]||"min-w-[1.5rem] sm:min-w-[2rem] md:min-w-[2.5rem]"}
                                        ${w?V:k}
                                    `,children:E},`${_}-${S}`)})},_))})})},XG=({stars:t,animated:e=!1})=>x.jsx("div",{className:"flex gap-3 mb-8 justify-center",children:[1,2,3,4,5].map(n=>x.jsx(QG,{filled:n<=t,delay:e?n*150:0,animated:e},n))}),QG=({filled:t,delay:e,animated:n})=>x.jsxs("div",{className:"relative",style:{animation:n&&t?`star-pop 0.6s ease ${e}ms both`:"none"},children:[x.jsx("style",{children:`
                @keyframes star-pop {
                    0% { transform: scale(0) rotate(-30deg); opacity: 0; }
                    50% { transform: scale(1.3) rotate(10deg); opacity: 1; }
                    70% { transform: scale(0.9) rotate(-5deg); }
                    100% { transform: scale(1) rotate(0deg); opacity: 1; }
                }
                @keyframes star-glow {
                    0%, 100% { filter: drop-shadow(0 0 6px rgba(251, 191, 36, 0.6)); }
                    50% { filter: drop-shadow(0 0 12px rgba(251, 191, 36, 0.9)); }
                }
                @keyframes unfilled-fade {
                    0% { opacity: 0; transform: scale(0.8); }
                    100% { opacity: 1; transform: scale(1); }
                }
            `}),x.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",className:`transition-all duration-300 ${t?"drop-shadow-lg":""}`,style:{animation:t&&n?`star-glow 2s ease-in-out ${e+600}ms infinite`:!t&&n?`unfilled-fade 0.4s ease ${e}ms both`:"none"},children:t?x.jsxs(x.Fragment,{children:[x.jsx("defs",{children:x.jsxs("linearGradient",{id:`starGradient-${e}`,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[x.jsx("stop",{offset:"0%",stopColor:"#fcd34d"}),x.jsx("stop",{offset:"50%",stopColor:"#fbbf24"}),x.jsx("stop",{offset:"100%",stopColor:"#f59e0b"})]})}),x.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z",fill:`url(#starGradient-${e})`,stroke:"#f59e0b",strokeWidth:"0.5",strokeLinejoin:"round"})]}):x.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z",fill:"none",stroke:"#d1d5db",strokeWidth:"1.5",strokeLinejoin:"round"})})]}),qk=({value:t,max:e,label:n,color:r})=>{const i=Math.min(t/e*100,100),s=2*Math.PI*40,l=`${i/100*s} ${s}`,c={purple:"stroke-purple-500",blue:"stroke-blue-500",green:"stroke-green-500"};return x.jsxs("div",{className:"relative w-32 h-32",children:[x.jsxs("svg",{viewBox:"0 0 100 100",className:"transform -rotate-90",children:[x.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"currentColor",strokeWidth:"8",className:"text-slate-200 dark:text-slate-700"}),x.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",strokeWidth:"8",strokeLinecap:"round",className:`${c[r]} transition-all duration-800 ease-out`,style:{strokeDasharray:l,strokeDashoffset:0}})]}),x.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[x.jsx("span",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:Math.round(t)}),x.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:n})]})]})},JG=()=>{const[t,e]=U.useState([]);return U.useEffect(()=>{const n=["#ff6b6b","#4ecdc4","#45b7d1","#f9ca24","#6c5ce7","#a29bfe"],r=Array.from({length:50},(s,l)=>({id:l,left:Math.random()*100,delay:Math.random()*.5,color:n[Math.floor(Math.random()*n.length)]}));e(r);const i=setTimeout(()=>{e([])},3e3);return()=>clearTimeout(i)},[]),x.jsx("div",{className:"fixed inset-0 pointer-events-none z-50",children:t.map(n=>x.jsx("div",{className:"absolute w-2 h-2 rounded-full animate-confetti",style:{left:`${n.left}%`,top:"-10px",backgroundColor:n.color,animationDelay:`${n.delay}s`}},n.id))})};function ZG(t,e,n,r){const i=Math.min(t/n,1.2),l=(Math.min(e/r,1)*.6+i*.4)*5,c=Math.round(l);return Math.min(Math.max(c,1),5)}function eK(t){switch(t){case 5:return" PERFECT! You're a typing master!";case 4:return" EXCELLENT! Outstanding performance!";case 3:return" GREAT JOB! You're improving!";case 2:return" GOOD TRY! Keep practicing!";default:return" KEEP GOING! You've got this!"}}const tK=t=>{if(isNaN(t)||t<0)return"0:00";const e=Math.floor(t/60),n=Math.floor(t%60);return`${e}:${n.toString().padStart(2,"0")}`},nK=({isOpen:t,onClose:e,onPracticeSame:n,onNewSnippet:r,onViewProgress:i,isCustomSession:s,lastPracticeAction:l,stats:c,title:f,isEarlyExit:h=!1,isMultiFileSession:p=!1,onNextSnippet:m,hasNextSnippet:v=!1,sessionErrorMap:_={},sessionAttemptMap:E={},saveStatus:S})=>{const[w,A]=U.useState(0),I=U.useRef([]),k=U.useContext(Sn),{wpmGoal:V=20,accuracyGoal:C=95}=k||{},j=ZG(c.wpm,c.accuracy,V,C),O=eK(j),[P,R]=U.useState(0);U.useEffect(()=>{if(!t){R(0);return}const $=[{delay:0,stage:1},{delay:500,stage:2},{delay:1500,stage:3},{delay:2300,stage:4}].map(({delay:L,stage:Q})=>setTimeout(()=>R(Q),L));return()=>$.forEach(clearTimeout)},[t]),U.useEffect(()=>{if(!t||P<2)return;const D=Math.floor(j),$=[];for(let L=1;L<=D;L++){const Q=window.setTimeout(()=>{uo.playStar(L)},L*200);$.push(Q)}return()=>$.forEach(clearTimeout)},[t,P,j]);const B=U.useMemo(()=>{const D={label:"New Snippet",action:r},$={label:"Practice Same Code",action:n},L={label:"View Your Progress",action:i},Q={label:"Next Snippet",action:m},J={label:"Resume",action:e};let F=[];return v&&m&&F.push(Q),h?F.push(J,D,$,L):(l==="practice_same"&&!p?F.push($,D):F.push(D,$),F.push(L)),F},[h,p,l,r,n,i,m,v,e]);return U.useEffect(()=>{I.current=I.current.slice(0,B.length)},[B]),U.useEffect(()=>{t&&(A(0),setTimeout(()=>{var $;($=I.current[0])==null||$.focus()},100))},[t]),U.useEffect(()=>{const D=$=>{var L,Q;if(t&&$.key!=="Tab")if($.key==="ArrowDown"||$.key==="ArrowUp"){$.preventDefault();const J=$.key==="ArrowDown"?1:-1,F=(w+J+B.length)%B.length;A(F),(L=I.current[F])==null||L.focus()}else $.key==="Enter"&&($.preventDefault(),(Q=I.current[w])==null||Q.click())};return window.addEventListener("keydown",D),()=>{window.removeEventListener("keydown",D)}},[t,B,w]),x.jsxs(Io,{isOpen:t,onClose:e,title:f,children:[x.jsxs("div",{className:"space-y-6",children:[P>=2&&x.jsx("div",{className:"text-center",children:x.jsx(XG,{stars:j,animated:!0})}),P>=3&&x.jsxs("div",{className:"flex gap-8 justify-center mb-6",children:[x.jsx(qk,{value:c.accuracy,max:100,label:"accuracy",color:"purple"}),x.jsx(qk,{value:c.wpm,max:V,label:"wpm",color:"blue"})]}),P>=4&&x.jsx("p",{className:"text-lg text-center font-medium text-slate-700 dark:text-slate-300 animate-fade-in",children:O}),x.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[x.jsx(jr,{label:"Errors",value:c.errors}),x.jsx(jr,{label:"Duration",value:tK(c.duration)})]}),(h||S&&!S.saved)&&x.jsx("div",{className:`text-center py-2 px-4 rounded-md ${S!=null&&S.saved?"bg-green-50 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-amber-50 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400"}`,children:x.jsx("p",{className:"font-medium",children:S!=null&&S.saved?"Progress Saved":(S==null?void 0:S.reason)||"Session Ended Early (Not Saved)"})}),x.jsx("div",{className:"flex flex-col gap-3",children:B.map((D,$)=>x.jsx(Fe,{ref:L=>{I.current[$]=L},size:"lg",className:"w-full",onClick:D.action,variant:$===w?"primary":"secondary",onMouseEnter:()=>A($),onFocus:()=>A($),children:D.label},D.label))})]}),P>=4&&j>=4&&x.jsx(JG,{})]})},rK=t=>{switch(t){case" ":return"Space ()";case`
`:return"Enter ()";case"	":return"Tab ()";default:return t}},iK=({char:t,beforeRate:e,afterRate:n})=>{const r=rK(t);let i="text-slate-500 dark:text-slate-400";return n<e&&(i="text-green-500 font-bold"),n>e&&(i="text-red-500 font-bold"),x.jsxs("div",{className:"grid grid-cols-3 items-center text-center text-sm p-2 rounded-md bg-slate-100 dark:bg-slate-700/50",children:[x.jsx("span",{className:"font-mono font-semibold bg-slate-200 dark:bg-slate-600 px-2 py-1 rounded-md justify-self-center",children:r}),x.jsxs("span",{children:[e.toFixed(1),"%"]}),x.jsxs("span",{className:i,children:[n.toFixed(1),"%"]})]})},aK=({isOpen:t,onClose:e,onPracticeAgain:n,onReturnToDashboard:r,stats:i,sessionErrorMap:s={},sessionAttemptMap:l={}})=>{const c=U.useContext(Sn);if(!c)throw new Error("AppContext not found");const{keyErrorStats:f,keyAttemptStats:h,currentTargetedKeys:p}=c,m=U.useMemo(()=>{if(!t)return{results:[],verdict:""};try{let w=0;const A=p.map(k=>{const V=(s==null?void 0:s[k])||0,C=(l==null?void 0:l[k])||0,j=(f==null?void 0:f[k])||0,O=((h==null?void 0:h[k])||0)<j?j:(h==null?void 0:h[k])||0,P=j-V,R=O-C,B=R>0?P/R*100:0,D=C>0?V/C*100:0;return D<B&&w++,{key:k,beforeRate:B,afterRate:D}});let I=`You focused on ${p.length} keys. Keep practicing!`;return w===p.length&&p.length>0?I="Amazing focus! You reduced your error rate on all target keys.":w>p.length/2&&(I=`You successfully reduced your error rate on ${w} out of ${p.length} keys. Great work!`),{results:A,verdict:I}}catch(w){return console.error("Error calculating targeted results:",w),{results:[],verdict:"Could not calculate statistics."}}},[t,p,f,h,s,l]),[v,_]=G.useState(0),E=G.useRef([]),S=U.useMemo(()=>[{label:"Practice Again (Same Keys)",action:n,variant:"primary"},{label:"Return to Dashboard",action:r,variant:"secondary"}],[n,r]);return U.useEffect(()=>{E.current=E.current.slice(0,S.length)},[S]),U.useEffect(()=>{t&&(_(0),setTimeout(()=>{var w;(w=E.current[0])==null||w.focus()},100))},[t]),U.useEffect(()=>{const w=A=>{var I,k;if(t&&A.key!=="Tab")if(A.key==="ArrowDown"||A.key==="ArrowUp"){A.preventDefault();const V=A.key==="ArrowDown"?1:-1,C=(v+V+S.length)%S.length;_(C),(I=E.current[C])==null||I.focus()}else A.key==="Enter"&&(A.preventDefault(),(k=E.current[v])==null||k.click())};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[t,S,v]),x.jsx(Io,{isOpen:t,onClose:e,title:"Targeted Practice Results",children:x.jsxs("div",{className:"space-y-6",children:[x.jsx("p",{className:"text-center text-sm text-slate-600 dark:text-slate-300",children:"Here's how your performance on the targeted keys changed from your historical average to this session."}),x.jsxs(gr,{className:"p-4 bg-slate-50 dark:bg-slate-900/50",children:[x.jsxs("div",{className:"grid grid-cols-3 items-center text-center font-semibold text-xs text-slate-500 dark:text-slate-400 mb-2 mr-2",children:[x.jsx("span",{children:"Key"}),x.jsx("span",{children:"Before"}),x.jsx("span",{children:"After"})]}),x.jsx("div",{className:"space-y-1 max-h-[300px] overflow-y-auto custom-scrollbar pr-1",children:m.results.map(w=>x.jsx(iK,{char:w.key,...w},w.key))})]}),x.jsx("p",{className:"text-center text-sm font-semibold text-slate-700 dark:text-slate-200",children:m.verdict}),x.jsx("div",{className:"flex flex-col gap-3 pt-2",children:S.map((w,A)=>x.jsx(Fe,{ref:I=>{E.current[A]=I},size:"lg",className:"w-full",onClick:w.action,variant:A===v?"primary":"secondary",onMouseEnter:()=>_(A),onFocus:()=>_(A),children:w.label},A))})]})})},sK=({isOpen:t,onRestart:e})=>{const n=U.useRef(null);return U.useEffect(()=>{if(t){const r=setTimeout(()=>{var i;(i=n.current)==null||i.focus()},100);return()=>clearTimeout(r)}},[t]),t?x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/80 backdrop-blur-sm animate-fade-in",onClick:r=>r.stopPropagation(),children:x.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl p-8 max-w-md w-full text-center border border-slate-200 dark:border-slate-700 transform scale-100 animate-fade-in-up",children:[x.jsx("div",{className:"flex justify-center mb-6",children:x.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center",children:x.jsx(ac,{className:"w-8 h-8 text-red-500 dark:text-red-400"})})}),x.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2",children:"Whoa, slow down!"}),x.jsxs("p",{className:"text-slate-600 dark:text-slate-400 mb-8 leading-relaxed",children:["We detected a lot of errors in a row.",x.jsx("br",{}),"Please focus on your ",x.jsx("strong",{children:"accuracy"})," and try again."]}),x.jsx("div",{className:"flex justify-center",children:x.jsxs(Fe,{ref:n,onClick:e,onKeyDown:r=>{r.key==="Enter"&&(r.stopPropagation(),r.preventDefault(),e())},variant:"primary",size:"lg",className:"w-full sm:w-auto min-w-[160px]",children:[x.jsx(ag,{className:"w-5 h-5 mr-2"}),"Restart Snippet"]})})]})}):null},oK=({isOpen:t,onClose:e,items:n,title:r="Actions"})=>{if(!t)return null;const i=document.getElementById("modal-root");return i?IG.createPortal(x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 animate-fade-in",onClick:e}),x.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 animate-slide-up",children:x.jsxs("div",{className:"glass-card rounded-t-2xl mx-2 mb-2 overflow-hidden",children:[x.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-slate-200/50 dark:border-slate-700/50",children:[x.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-200",children:r}),x.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-slate-200/50 dark:hover:bg-slate-700/50 transition-colors",children:x.jsx("svg",{className:"w-5 h-5 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),x.jsx("div",{className:"p-2 max-h-[60vh] overflow-y-auto custom-scrollbar",children:n.map((s,l)=>x.jsxs("button",{onClick:()=>{s.onClick(),e()},disabled:s.disabled,className:`
                                    w-full flex items-center gap-3 px-4 py-3 rounded-xl
                                    text-left transition-all duration-150
                                    ${s.disabled?"opacity-50 cursor-not-allowed":"hover:bg-primary-50 dark:hover:bg-primary-900/30 active:scale-[0.98]"}
                                `,children:[x.jsx("span",{className:"flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-lg bg-primary-100 dark:bg-primary-900/50 text-primary-600 dark:text-primary-400",children:s.icon}),x.jsx("span",{className:"flex-1 font-medium text-slate-700 dark:text-slate-300",children:s.label}),s.shortcut&&x.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded",children:s.shortcut})]},l))})]})})]}),i):null},zk=t=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:x.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})}),Fk=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"}),x.jsx("path",{d:"m5 2 4 4"})]}),uS=t=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:x.jsx("polyline",{points:"20 6 9 17 4 12"})}),lK=U.forwardRef(({trigger:t,children:e},n)=>{const[r,i]=U.useState(!1),[s,l]=U.useState(-1),c=U.useRef(null),f=U.useRef(null),h=U.useRef(null),p=U.useMemo(()=>G.Children.toArray(e).filter(A=>G.isValidElement(A)&&A.type===cS),[e]),m=U.useCallback(()=>{var A;i(!1),(A=h.current)==null||A.focus()},[]);U.useImperativeHandle(n,()=>({close:m}));const v=()=>{i(A=>!A)};U.useEffect(()=>{var A;if(r){const I=p.findIndex(V=>V.props.isActive);l(I>-1?I:0),(A=f.current)==null||A.focus();const k=V=>{c.current&&!c.current.contains(V.target)&&m()};return document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}}},[r,p,m]),U.useEffect(()=>{if(r&&s>=0&&f.current){const I=Array.from(f.current.querySelectorAll('[role="menuitem"]'))[s];I&&I.scrollIntoView({block:"nearest"})}},[r,s]);const _=A=>{var I;if(p.length!==0)switch(A.key){case"ArrowDown":A.preventDefault(),l(k=>(k+1)%p.length);break;case"ArrowUp":A.preventDefault(),l(k=>(k-1+p.length)%p.length);break;case"Enter":case" ":A.preventDefault(),s>=0&&((I=p[s])==null||I.props.onClick(),i(!1));break;case"Escape":case"Tab":A.preventDefault(),m();break}};let E=-1;const S=G.Children.map(e,A=>{if(G.isValidElement(A)&&A.type===cS){E++;const I=E,k=A.props.onClick;return G.cloneElement(A,{isHighlighted:I===s,onMouseEnter:()=>l(I),onClick:()=>{k&&k(),i(!1)}})}return A}),w=G.cloneElement(t,{ref:h,onClick:A=>{v(),t.props.onClick&&t.props.onClick(A)},"aria-haspopup":"true","aria-expanded":r});return x.jsxs("div",{className:"relative inline-block text-left",ref:c,children:[w,r&&x.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white dark:bg-slate-800 ring-1 ring-black ring-opacity-5 focus:outline-none border border-slate-200 dark:border-slate-700 z-10 animate-fade-in-up",children:x.jsx("div",{ref:f,onKeyDown:_,tabIndex:-1,className:"py-1 focus:outline-none",role:"menu","aria-orientation":"vertical",children:S})})]})}),cS=({onClick:t,children:e,isActive:n=!1,isHighlighted:r=!1,onMouseEnter:i})=>{const s=r?"bg-primary-500 text-white":"text-gray-700 dark:text-gray-200";return x.jsxs("a",{href:"#",onClick:l=>{l.preventDefault(),t()},onMouseEnter:i,className:`flex items-center justify-between px-4 py-2 text-sm focus:outline-none transition-colors ${s}`,role:"menuitem",tabIndex:-1,children:[x.jsx("span",{className:n?"font-semibold":"font-normal",children:e}),n&&x.jsx(uS,{className:"w-4 h-4 text-primary-500"})]})},Hk=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("circle",{cx:"12",cy:"12",r:"10"}),x.jsx("line",{x1:"4.93",y1:"4.93",x2:"19.07",y2:"19.07"})]}),Gk=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),x.jsx("polyline",{points:"14 2 14 8 20 8"}),x.jsx("path",{d:"m10 13-2 2 2 2"}),x.jsx("path",{d:"m14 17 2-2-2-2"})]}),Kk=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),Wk=({className:t="w-6 h-6"})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),uK=({className:t})=>x.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})}),ns=[{label:"Off",value:0},{label:"After 1 Error",value:1},{label:"After 2 Errors",value:2},{label:"After 3 Errors",value:3}],cK=()=>{const t=U.useContext(Sn);if(!t)return null;const{practiceQueue:e,currentQueueIndex:n}=t;return x.jsxs("div",{className:"flex flex-col gap-2 h-full",children:[x.jsx("h3",{className:"font-semibold text-slate-700 dark:text-slate-300 px-2",children:"Queue"}),x.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 px-2 custom-scrollbar",children:e.map((r,i)=>x.jsxs("div",{className:`p-2 rounded text-xs border ${i===n?"bg-blue-50 dark:bg-blue-900/30 border-blue-200 dark:border-blue-700":"bg-slate-50 dark:bg-slate-800 border-transparent"}`,children:[x.jsxs("div",{className:`font-medium mb-1 ${i===n?"text-blue-600 dark:text-blue-400":"text-slate-500"}`,children:["Snippet ",i+1]}),x.jsxs("div",{className:"font-mono text-slate-600 dark:text-slate-400 truncate opacity-75",children:[r.substring(0,40).replace(/\n/g," "),"..."]})]},i))})]})},fK=()=>{var dt,$t;const t=U.useContext(Sn);if(!t)return null;const{snippet:e,isLoadingSnippet:n,snippetError:r,selectedLanguage:i,fetchNewSnippet:s,showKeyboard:l,showHandGuide:c,toggleHandGuide:f,addPracticeResult:h,startCustomSession:p,navigateTo:m,isCustomSession:v,currentTargetedKeys:_,setCurrentTargetedKeys:E,setLastPracticeAction:S,lastPracticeAction:w,startTargetedSession:A,blockOnErrorThreshold:I,setBlockOnErrorThreshold:k,setRequestFocusOnCodeCallback:V,requestFocusOnCode:C,practiceQueue:j,currentQueueIndex:O,loadNextSnippetInQueue:P,isSetupModalOpen:R,openSetupModal:B,closeSetupModal:D,isInitialSetupComplete:$,restorePracticeSession:L,sessionResetKey:Q,practiceMode:J}=t,F=U.useRef(Date.now().toString()),[Y,ee]=U.useState(!1),[ue,ve]=U.useState(!1),[H,W]=U.useState({wpm:0,accuracy:0,errors:0,duration:0,errorMap:{},attemptMap:{}}),[oe,me]=U.useState(!1),[we,Se]=U.useState(!1),[Re,$e]=U.useState(!1),[ye,Ee]=U.useState(null),[Ne,ne]=U.useState(null),[Ge,xe]=U.useState(!1),[Te,Be]=U.useState(!1),We=async()=>{const Ue=Oe=>{try{const je=document.createElement("textarea");je.value=Oe,je.style.position="fixed",je.style.left="-9999px",je.style.top="0",document.body.appendChild(je),je.focus(),je.select();const pt=document.execCommand("copy");if(document.body.removeChild(je),pt)xe(!0),setTimeout(()=>xe(!1),2e3),t==null||t.showAlert("Code copied to clipboard!","info");else throw new Error("Fallback copy failed")}catch(je){console.error("Fallback copy failed: ",je),t==null||t.showAlert("Failed to copy code.","error")}};if(navigator.clipboard&&navigator.clipboard.writeText)try{await navigator.clipboard.writeText(e),xe(!0),setTimeout(()=>xe(!1),2e3),t==null||t.showAlert("Code copied to clipboard!","info")}catch(Oe){console.warn("Clipboard API failed, trying fallback...",Oe),Ue(e)}else Ue(e)},st=U.useRef(null),Ye=U.useRef(null),qe=U.useRef(null),_t=U.useRef(!1),Dt=U.useCallback(()=>C(),[C]),En=U.useCallback(()=>C(),[C]),Ie=VG(e,I,{onPause:Dt,onResume:En}),ht=U.useRef(Ie);U.useLayoutEffect(()=>{ht.current=Ie},[Ie]);const xt=e[Ie.currentIndex]||"";U.useEffect(()=>{ht.current.reset(),F.current=Date.now().toString(),C()},[Q,C]);const Vt=U.useCallback(()=>{ht.current.reset(),F.current=Date.now().toString(),C()},[C]),Zt=U.useCallback(()=>{ht.current.togglePause(),C()},[C]),en=U.useCallback(()=>{B()},[B]),bn=U.useCallback(()=>{console.log("handleEndSession triggered");try{$e(!0);const Ue={wpm:ht.current.wpm,accuracy:ht.current.accuracy,errors:ht.current.errors,duration:ht.current.duration,errorMap:ht.current.errorMap,attemptMap:ht.current.attemptMap};W(Ue);const Oe=ht.current.currentIndex,je=e.length,pt=je>0?Oe/je*100:0,jt=ht.current.duration,or=Oe>=20,Vr=pt>=100,Dn=(pt>=70||Oe>=150)&&jt>=10;if(or&&(Vr||Dn))h({id:F.current,date:Date.now(),wpm:Ue.wpm,accuracy:Ue.accuracy,duration:Ue.duration,errors:Ue.errors,language:i.name,snippetLength:e.length,timestamp:Date.now(),linesTyped:ht.current.typedText.split(`
`).length,errorMap:Ue.errorMap,attemptMap:Ue.attemptMap}),Ee({saved:!0});else{let Yr="Session not saved.";or?Dn||(Yr="Not saved: Duration under 10s or progress too low (<70% or <150 chars)."):Yr="Not saved: Less than 20 characters typed.",Ee({saved:!1,reason:Yr})}}catch(Ue){console.error("Error in handleEndSession:",Ue),Ee({saved:!1,reason:"Error saving session: "+(Ue instanceof Error?Ue.message:String(Ue))})}finally{ee(!0)}},[h,i.name,e]),kt=U.useCallback(()=>{ee(!1),ve(!1),Vt(),C()},[Vt,C]),he=U.useCallback(()=>{ee(!1),ve(!1),P(),F.current=Date.now().toString(),C()},[P,C]);U.useEffect(()=>{const Ue=localStorage.getItem("sessionResultToShow");if(Ue){_t.current=!0,localStorage.removeItem("sessionResultToShow");try{const je=JSON.parse(Ue);W(je.stats),$e(je.isEarlyExit),S(je.lastPracticeAction),je.currentTargetedKeys&&je.currentTargetedKeys.length>0?(E(je.currentTargetedKeys),ve(!0)):ee(!0)}catch(je){console.error("Failed to parse session result",je)}return}const Oe=localStorage.getItem("continuedSession");if(Oe){_t.current=!0,localStorage.removeItem("continuedSession");try{const je=JSON.parse(Oe);L(je.context),ne(je)}catch(je){console.error("Failed to parse continued session",je)}}},[L,E]),U.useEffect(()=>{if(Ie.isFinished&&!we&&!Y&&!ue){Se(!0);const Ue={wpm:Ie.wpm,accuracy:Ie.accuracy,errors:Ie.errors,duration:Ie.duration,errorMap:Ie.errorMap,attemptMap:Ie.attemptMap};W(Ue),$e(!1);let Oe=i.name;J==="error-training"?Oe="Error Practice":J==="targeted"?Oe="Targeted Practice":J==="general"&&(Oe="General Typing");let je=!0,pt="";if(v){const jt=e.length,or=Ie.duration;(jt<150||or<10)&&(je=!1,pt="Session not saved: Custom snippets must be >150 chars and >10s duration.")}je?(h({id:F.current,date:Date.now(),wpm:Ie.wpm,accuracy:Ie.accuracy,duration:Ie.duration,errors:Ie.errors,language:Oe,snippetLength:e.length,timestamp:Date.now(),linesTyped:Ie.typedText.split(`
`).length,errorMap:Ie.errorMap,attemptMap:Ie.attemptMap}),Ee({saved:!0})):Ee({saved:!1,reason:pt}),_.length>0?ve(!0):ee(!0)}else Ie.isFinished||Se(!1)},[Ie.isFinished,we,Y,ue,Ie.wpm,Ie.accuracy,Ie.errors,Ie.duration,Ie.errorMap,Ie.attemptMap,h,i.name,e.length,_]);const[Ae,Ke]=U.useState(!1);U.useEffect(()=>{Ie.consecutiveErrors>=10&&!Ae&&!Ie.isFinished&&(Ke(!0),ht.current.pauseGame())},[Ie.consecutiveErrors,Ae,Ie.isFinished]);const Pt=U.useCallback(()=>{Ke(!1),Vt()},[Vt]),ot=U.useCallback(Ue=>{if(!(Y||ue||R||Ae)&&Ue.altKey)switch(Ue.key.toLowerCase()){case"c":Ue.preventDefault(),We();break;case"n":Ue.preventDefault(),en();break;case"e":Ue.preventDefault(),bn();break;case"r":Ue.preventDefault(),Vt();break;case"p":Ue.preventDefault(),Zt();break;case"g":Ue.preventDefault(),f();break;case"b":Ue.preventDefault();const je=(ns.findIndex(pt=>pt.value===I)+1)%ns.length;k(ns[je].value);break}},[Y,ue,R,en,bn,Vt,Zt,f,I,k]);U.useEffect(()=>(window.addEventListener("keydown",ot),()=>window.removeEventListener("keydown",ot)),[ot]);const Kt=()=>typeof window<"u"&&window.innerWidth<768;U.useEffect(()=>{const Ue=Oe=>{const je=ht.current;if(Y||ue||R||Ae||Oe.altKey||Oe.ctrlKey||Oe.metaKey)return;if(Oe.repeat){Oe.preventDefault();return}const pt=Oe.key;pt==="Tab"&&Oe.preventDefault(),Oe.getModifierState("CapsLock")?me(!0):me(!1);const jt=pt.length===1,or=["Backspace","Enter","Tab"].includes(pt);if(jt||or){Oe.preventDefault();let Vr=pt;Kt()&&pt===" "&&e[je.currentIndex]==="	"&&(Vr="Tab"),je.handleKeyDown(Vr),C()}};return window.addEventListener("keydown",Ue),()=>window.removeEventListener("keydown",Ue)},[Y,ue,R,C,e]);const Nt=Ue=>{const Oe=ht.current.typedText;if(Ue.length>Oe.length+1){const je=Ue.slice(Oe.length);for(const pt of je)ht.current.handleKeyDown(pt);C()}else if(Ue.length===Oe.length+1){let je=Ue.slice(-1);Kt()&&je===" "&&e[ht.current.currentIndex]==="	"&&(je="Tab"),ht.current.handleKeyDown(je),C()}else Ue.length===Oe.length-1&&(ht.current.handleKeyDown("Backspace"),C())};return x.jsxs("div",{className:"flex flex-col h-[100dvh] max-w-full mx-auto w-full overflow-hidden",ref:st,children:[oe&&x.jsx("div",{className:"fixed top-20 inset-x-0 z-50 flex justify-center pointer-events-none",children:x.jsxs("div",{className:"bg-yellow-400 text-yellow-900 px-4 py-2 rounded-md shadow-lg flex items-center gap-2 animate-fade-in-up pointer-events-auto",children:[x.jsx(ac,{className:"w-5 h-5"}),x.jsx("span",{className:"font-semibold",children:"Caps Lock is On"})]})}),x.jsx("div",{className:"w-full max-w-[1100px] mx-auto mb-2 pt-2 flex-shrink-0 px-3 md:px-4",children:x.jsx("div",{className:"glass-card rounded-xl p-3 md:p-4",children:x.jsx(zG,{wpm:Ie.wpm,accuracy:Ie.accuracy,errors:Ie.errors,progress:e.length>0?Math.round(Ie.currentIndex/e.length*100):0,timer:Ie.duration})})}),x.jsxs("div",{className:"w-full max-w-[1100px] mx-auto mb-2 flex-shrink-0 px-3 md:px-4",children:[x.jsxs("div",{className:"hidden md:flex flex-wrap items-center justify-center gap-2",children:[x.jsxs(Fe,{onClick:en,variant:"primary",disabled:R,title:"New Snippet (Alt+N)",accessKey:"n",size:"sm",className:"btn-press glow-hover",children:[x.jsx(Gk,{className:"w-4 h-4 mr-2"}),"New"]}),x.jsxs(Fe,{onClick:bn,variant:"outline",disabled:R||Ie.isFinished,title:"End Session (Alt+E)",accessKey:"e",size:"sm",className:"btn-press",children:[x.jsx(Kk,{className:"w-4 h-4 mr-2"}),"End"]}),x.jsxs(Fe,{onClick:Vt,variant:"outline",disabled:R,title:"Reset (Alt+R)",accessKey:"r",size:"sm",className:"btn-press",children:[x.jsx(ag,{className:"w-4 h-4 mr-2"}),"Reset"]}),x.jsxs(Fe,{onClick:Zt,variant:"outline",disabled:R||Ie.isFinished,title:Ie.isPaused?"Resume (Alt+P)":"Pause (Alt+P)",accessKey:"p",size:"sm",className:"btn-press",children:[Ie.isPaused?x.jsx(zk,{className:"w-4 h-4 mr-2"}):x.jsx(lS,{className:"w-4 h-4 mr-2"}),Ie.isPaused?"Resume":"Pause"]}),x.jsxs(Fe,{onClick:We,variant:"outline",disabled:R,title:"Copy Code (Alt+C)",accessKey:"c",size:"sm",className:"btn-press",children:[Ge?x.jsx(uS,{className:"w-4 h-4 mr-2 text-green-500"}):x.jsx(Wk,{className:"w-4 h-4 mr-2"}),Ge?"Copied":"Copy"]}),x.jsx(lK,{ref:Ye,trigger:x.jsxs(Fe,{variant:"outline",title:"Block on Error Settings (Alt+B)",accessKey:"b",size:"sm",className:"btn-press",children:[x.jsx(Hk,{className:"w-4 h-4 mr-2"}),x.jsxs("span",{className:"hidden sm:inline",children:["Block: ",(dt=ns.find(Ue=>Ue.value===I))==null?void 0:dt.label]})]}),children:ns.map(({label:Ue,value:Oe})=>x.jsx(cS,{onClick:()=>{k(Oe),C()},isActive:I===Oe,children:Ue},Oe))}),x.jsxs(Fe,{variant:"outline",onClick:()=>{f(),C()},title:"Toggle Hand Guide (Alt+G)",disabled:R,accessKey:"g",size:"sm",className:"btn-press",children:[x.jsx(Fk,{className:"w-4 h-4 sm:mr-2"}),x.jsx("span",{className:"hidden sm:inline",children:"Hand Guide"})]})]}),x.jsxs("div",{className:"flex md:hidden items-center justify-center gap-2",children:[x.jsxs(Fe,{onClick:en,variant:"primary",disabled:R,title:"New Snippet",size:"sm",className:"btn-press glow-hover flex-1 max-w-[140px]",children:[x.jsx(Gk,{className:"w-4 h-4 mr-2"}),"New"]}),x.jsx(Fe,{onClick:Zt,variant:"outline",disabled:R||Ie.isFinished,title:Ie.isPaused?"Resume":"Pause",size:"sm",className:"btn-press",children:Ie.isPaused?x.jsx(zk,{className:"w-5 h-5"}):x.jsx(lS,{className:"w-5 h-5"})}),x.jsx(Fe,{onClick:Vt,variant:"outline",disabled:R,title:"Reset",size:"sm",className:"btn-press",children:x.jsx(ag,{className:"w-5 h-5"})}),x.jsx(Fe,{onClick:()=>Be(!0),variant:"outline",disabled:R,title:"More Options",size:"sm",className:"btn-press",children:x.jsx(uK,{className:"w-5 h-5"})})]}),x.jsx(oK,{isOpen:Te,onClose:()=>Be(!1),title:"More Actions",items:[{label:"End Session",icon:x.jsx(Kk,{className:"w-4 h-4"}),onClick:bn,disabled:R||Ie.isFinished,shortcut:"Alt+E"},{label:Ge?"Copied!":"Copy Code",icon:Ge?x.jsx(uS,{className:"w-4 h-4"}):x.jsx(Wk,{className:"w-4 h-4"}),onClick:We,disabled:R,shortcut:"Alt+C"},{label:c?"Hide Hand Guide":"Show Hand Guide",icon:x.jsx(Fk,{className:"w-4 h-4"}),onClick:()=>{f(),C()},disabled:R,shortcut:"Alt+G"},{label:`Error Block: ${($t=ns.find(Ue=>Ue.value===I))==null?void 0:$t.label}`,icon:x.jsx(Hk,{className:"w-4 h-4"}),onClick:()=>{const Oe=(ns.findIndex(je=>je.value===I)+1)%ns.length;k(ns[Oe].value),C()},shortcut:"Alt+B"}]})]}),x.jsxs("div",{className:"w-full mx-auto flex-grow min-h-0 flex flex-col md:flex-row gap-4 overflow-hidden px-4",children:[x.jsx(k5,{ref:qe,value:Ie.typedText,onValueChange:Nt,snippet:e,languageAlias:i.prismAlias,charStates:Ie.charStates,currentIndex:Ie.currentIndex,isError:Ie.isError,isLoading:n,error:r,isPaused:Ie.isPaused,disabled:Ae,onRetry:()=>s(),className:"flex-grow h-full overflow-y-auto"}),j.length>1&&x.jsx("div",{className:"hidden md:flex flex-col gap-4 w-64 flex-shrink-0 h-full overflow-hidden",children:x.jsx(cK,{})})]}),l&&x.jsx("div",{className:"flex-shrink-0 w-full max-w-[1100px] mx-auto mt-2 mb-2 px-2",children:x.jsx(YG,{activeKey:xt,isShiftActive:/[A-Z!@#$%^&*()_+{}|:"<>?~]/.test(xt),showHandGuide:c})}),x.jsx(nK,{isOpen:Y,title:Re?"Session Ended":"Session Complete",onClose:()=>{Re?(ee(!1),C()):kt()},onPracticeSame:kt,onNewSnippet:en,onViewProgress:()=>{ee(!1),m("dashboard")},isCustomSession:v,lastPracticeAction:w,stats:H,isEarlyExit:Re,onNextSnippet:he,hasNextSnippet:j.length>1&&O<j.length-1,sessionErrorMap:H.errorMap,sessionAttemptMap:H.attemptMap,saveStatus:ye}),x.jsx(aK,{isOpen:ue,onClose:()=>{ve(!1),C()},stats:H,onPracticeAgain:kt,onReturnToDashboard:()=>{ve(!1),m("dashboard")},sessionErrorMap:H.errorMap,sessionAttemptMap:H.attemptMap}),x.jsx(sK,{isOpen:Ae,onRestart:Pt})]})},hK=({isOpen:t,onClose:e,onSave:n,currentWpmGoal:r,currentAccuracyGoal:i,currentTimeGoal:s})=>{const[l,c]=U.useState(String(r)),[f,h]=U.useState(String(i)),[p,m]=U.useState(String(s));U.useEffect(()=>{t&&(c(String(r)),h(String(i)),m(String(s)))},[t,r,i,s]);const v=()=>{const _=parseInt(l,10)||0,E=parseInt(f,10)||0,S=parseInt(p,10)||0;n(_,E,S)};return x.jsx(Io,{isOpen:t,onClose:e,title:"Edit Your Goals",children:x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{htmlFor:"time-goal",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Daily Time Goal (Minutes)"}),x.jsx("input",{id:"time-goal",type:"number",min:"0",value:p,onChange:_=>m(_.target.value),className:"w-full p-2 bg-slate-200 dark:bg-slate-700 dark:text-slate-50 dark:placeholder-slate-400 border border-slate-300 dark:border-slate-500 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"e.g., 15"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{htmlFor:"wpm-goal",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"WPM Goal"}),x.jsx("input",{id:"wpm-goal",type:"number",value:l,onChange:_=>c(_.target.value),className:"w-full p-2 bg-slate-200 dark:bg-slate-700 dark:text-slate-50 dark:placeholder-slate-400 border border-slate-300 dark:border-slate-500 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"e.g., 80"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{htmlFor:"accuracy-goal",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Accuracy Goal (%)"}),x.jsx("input",{id:"accuracy-goal",type:"number",min:"0",max:"100",value:f,onChange:_=>h(_.target.value),className:"w-full p-2 bg-slate-200 dark:bg-slate-700 dark:text-slate-50 dark:placeholder-slate-400 border border-slate-300 dark:border-slate-500 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"e.g., 99"})]}),x.jsxs("div",{className:"flex justify-end items-center gap-2 mt-4",children:[x.jsx(Fe,{variant:"ghost",onClick:e,children:"Cancel"}),x.jsx(Fe,{onClick:v,children:"Save Goals"})]})]})})},P5=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"}),x.jsx("path",{d:"m15 5 4 4"})]}),gh=U.forwardRef(({options:t,selectedValue:e,onSelect:n,disabled:r=!1,accessKeyChars:i},s)=>{const l=U.useContext(Sn),c=U.useContext(OT),f=p=>{if(r)return;const m=t.findIndex(v=>v.value===e);if(p.key==="ArrowRight"){p.preventDefault();const v=(m+1)%t.length;n(t[v].value)}else if(p.key==="ArrowLeft"){p.preventDefault();const v=(m-1+t.length)%t.length;n(t[v].value)}},h=(l==null?void 0:l.isAccessKeyMenuVisible)&&(c||!(l!=null&&l.isAnyModalOpen));return x.jsx("div",{ref:s,role:"group",tabIndex:r?-1:0,className:"flex justify-center items-center gap-1 bg-slate-200 dark:bg-slate-700 p-1 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-slate-900",onKeyDown:f,children:t.map(({label:p,value:m},v)=>x.jsxs(Fe,{variant:e===m?"primary":"ghost",size:"sm",className:`relative ${e===m?"":"text-gray-600 dark:text-gray-300"}`,onClick:()=>n(m),disabled:r,tabIndex:-1,children:[h&&(i==null?void 0:i[v])&&x.jsx(I5,{label:i[v]}),p]},m))})});function N5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=N5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function bt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=N5(t))&&(r&&(r+=" "),r+=e);return r}var Cb,Yk;function Wr(){if(Yk)return Cb;Yk=1;var t=Array.isArray;return Cb=t,Cb}var Ib,Xk;function R5(){if(Xk)return Ib;Xk=1;var t=typeof om=="object"&&om&&om.Object===Object&&om;return Ib=t,Ib}var kb,Qk;function Ra(){if(Qk)return kb;Qk=1;var t=R5(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return kb=n,kb}var Pb,Jk;function Md(){if(Jk)return Pb;Jk=1;var t=Ra(),e=t.Symbol;return Pb=e,Pb}var Nb,Zk;function dK(){if(Zk)return Nb;Zk=1;var t=Md(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(l){var c=n.call(l,i),f=l[i];try{l[i]=void 0;var h=!0}catch{}var p=r.call(l);return h&&(c?l[i]=f:delete l[i]),p}return Nb=s,Nb}var Rb,eP;function pK(){if(eP)return Rb;eP=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return Rb=n,Rb}var jb,tP;function ws(){if(tP)return jb;tP=1;var t=Md(),e=dK(),n=pK(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function l(c){return c==null?c===void 0?i:r:s&&s in Object(c)?e(c):n(c)}return jb=l,jb}var Mb,nP;function Ss(){if(nP)return Mb;nP=1;function t(e){return e!=null&&typeof e=="object"}return Mb=t,Mb}var Db,rP;function Qc(){if(rP)return Db;rP=1;var t=ws(),e=Ss(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return Db=r,Db}var Lb,iP;function CT(){if(iP)return Lb;iP=1;var t=Wr(),e=Qc(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){if(t(s))return!1;var c=typeof s;return c=="number"||c=="symbol"||c=="boolean"||s==null||e(s)?!0:r.test(s)||!n.test(s)||l!=null&&s in Object(l)}return Lb=i,Lb}var Vb,aP;function ko(){if(aP)return Vb;aP=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return Vb=t,Vb}var $b,sP;function IT(){if(sP)return $b;sP=1;var t=ws(),e=ko(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function l(c){if(!e(c))return!1;var f=t(c);return f==r||f==i||f==n||f==s}return $b=l,$b}var Ub,oP;function mK(){if(oP)return Ub;oP=1;var t=Ra(),e=t["__core-js_shared__"];return Ub=e,Ub}var Bb,lP;function gK(){if(lP)return Bb;lP=1;var t=mK(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return Bb=n,Bb}var qb,uP;function j5(){if(uP)return qb;uP=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return qb=n,qb}var zb,cP;function yK(){if(cP)return zb;cP=1;var t=IT(),e=gK(),n=ko(),r=j5(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,f=l.toString,h=c.hasOwnProperty,p=RegExp("^"+f.call(h).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(v){if(!n(v)||e(v))return!1;var _=t(v)?p:s;return _.test(r(v))}return zb=m,zb}var Fb,fP;function vK(){if(fP)return Fb;fP=1;function t(e,n){return e==null?void 0:e[n]}return Fb=t,Fb}var Hb,hP;function Gl(){if(hP)return Hb;hP=1;var t=yK(),e=vK();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return Hb=n,Hb}var Gb,dP;function ky(){if(dP)return Gb;dP=1;var t=Gl(),e=t(Object,"create");return Gb=e,Gb}var Kb,pP;function bK(){if(pP)return Kb;pP=1;var t=ky();function e(){this.__data__=t?t(null):{},this.size=0}return Kb=e,Kb}var Wb,mP;function xK(){if(mP)return Wb;mP=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return Wb=t,Wb}var Yb,gP;function _K(){if(gP)return Yb;gP=1;var t=ky(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var l=this.__data__;if(t){var c=l[s];return c===e?void 0:c}return r.call(l,s)?l[s]:void 0}return Yb=i,Yb}var Xb,yP;function wK(){if(yP)return Xb;yP=1;var t=ky(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return Xb=r,Xb}var Qb,vP;function SK(){if(vP)return Qb;vP=1;var t=ky(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return Qb=n,Qb}var Jb,bP;function EK(){if(bP)return Jb;bP=1;var t=bK(),e=xK(),n=_K(),r=wK(),i=SK();function s(l){var c=-1,f=l==null?0:l.length;for(this.clear();++c<f;){var h=l[c];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Jb=s,Jb}var Zb,xP;function TK(){if(xP)return Zb;xP=1;function t(){this.__data__=[],this.size=0}return Zb=t,Zb}var ex,_P;function kT(){if(_P)return ex;_P=1;function t(e,n){return e===n||e!==e&&n!==n}return ex=t,ex}var tx,wP;function Py(){if(wP)return tx;wP=1;var t=kT();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return tx=e,tx}var nx,SP;function AK(){if(SP)return nx;SP=1;var t=Py(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,l=t(s,i);if(l<0)return!1;var c=s.length-1;return l==c?s.pop():n.call(s,l,1),--this.size,!0}return nx=r,nx}var rx,EP;function OK(){if(EP)return rx;EP=1;var t=Py();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return rx=e,rx}var ix,TP;function CK(){if(TP)return ix;TP=1;var t=Py();function e(n){return t(this.__data__,n)>-1}return ix=e,ix}var ax,AP;function IK(){if(AP)return ax;AP=1;var t=Py();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return ax=e,ax}var sx,OP;function Ny(){if(OP)return sx;OP=1;var t=TK(),e=AK(),n=OK(),r=CK(),i=IK();function s(l){var c=-1,f=l==null?0:l.length;for(this.clear();++c<f;){var h=l[c];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,sx=s,sx}var ox,CP;function PT(){if(CP)return ox;CP=1;var t=Gl(),e=Ra(),n=t(e,"Map");return ox=n,ox}var lx,IP;function kK(){if(IP)return lx;IP=1;var t=EK(),e=Ny(),n=PT();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return lx=r,lx}var ux,kP;function PK(){if(kP)return ux;kP=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return ux=t,ux}var cx,PP;function Ry(){if(PP)return cx;PP=1;var t=PK();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return cx=e,cx}var fx,NP;function NK(){if(NP)return fx;NP=1;var t=Ry();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return fx=e,fx}var hx,RP;function RK(){if(RP)return hx;RP=1;var t=Ry();function e(n){return t(this,n).get(n)}return hx=e,hx}var dx,jP;function jK(){if(jP)return dx;jP=1;var t=Ry();function e(n){return t(this,n).has(n)}return dx=e,dx}var px,MP;function MK(){if(MP)return px;MP=1;var t=Ry();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return px=e,px}var mx,DP;function NT(){if(DP)return mx;DP=1;var t=kK(),e=NK(),n=RK(),r=jK(),i=MK();function s(l){var c=-1,f=l==null?0:l.length;for(this.clear();++c<f;){var h=l[c];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,mx=s,mx}var gx,LP;function M5(){if(LP)return gx;LP=1;var t=NT(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var l=arguments,c=i?i.apply(this,l):l[0],f=s.cache;if(f.has(c))return f.get(c);var h=r.apply(this,l);return s.cache=f.set(c,h)||f,h};return s.cache=new(n.Cache||t),s}return n.Cache=t,gx=n,gx}var yx,VP;function DK(){if(VP)return yx;VP=1;var t=M5(),e=500;function n(r){var i=t(r,function(l){return s.size===e&&s.clear(),l}),s=i.cache;return i}return yx=n,yx}var vx,$P;function LK(){if($P)return vx;$P=1;var t=DK(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(l,c,f,h){s.push(f?h.replace(n,"$1"):c||l)}),s});return vx=r,vx}var bx,UP;function RT(){if(UP)return bx;UP=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=Array(i);++r<i;)s[r]=n(e[r],r,e);return s}return bx=t,bx}var xx,BP;function VK(){if(BP)return xx;BP=1;var t=Md(),e=RT(),n=Wr(),r=Qc(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function l(c){if(typeof c=="string")return c;if(n(c))return e(c,l)+"";if(r(c))return s?s.call(c):"";var f=c+"";return f=="0"&&1/c==-1/0?"-0":f}return xx=l,xx}var _x,qP;function D5(){if(qP)return _x;qP=1;var t=VK();function e(n){return n==null?"":t(n)}return _x=e,_x}var wx,zP;function L5(){if(zP)return wx;zP=1;var t=Wr(),e=CT(),n=LK(),r=D5();function i(s,l){return t(s)?s:e(s,l)?[s]:n(r(s))}return wx=i,wx}var Sx,FP;function jy(){if(FP)return Sx;FP=1;var t=Qc();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Sx=e,Sx}var Ex,HP;function jT(){if(HP)return Ex;HP=1;var t=L5(),e=jy();function n(r,i){i=t(i,r);for(var s=0,l=i.length;r!=null&&s<l;)r=r[e(i[s++])];return s&&s==l?r:void 0}return Ex=n,Ex}var Tx,GP;function V5(){if(GP)return Tx;GP=1;var t=jT();function e(n,r,i){var s=n==null?void 0:t(n,r);return s===void 0?i:s}return Tx=e,Tx}var $K=V5();const di=Gt($K);var Ax,KP;function UK(){if(KP)return Ax;KP=1;function t(e){return e==null}return Ax=t,Ax}var BK=UK();const ct=Gt(BK);var Ox,WP;function qK(){if(WP)return Ox;WP=1;var t=ws(),e=Wr(),n=Ss(),r="[object String]";function i(s){return typeof s=="string"||!e(s)&&n(s)&&t(s)==r}return Ox=i,Ox}var zK=qK();const Ll=Gt(zK);var FK=IT();const rt=Gt(FK);var HK=ko();const Jc=Gt(HK);var Cx={exports:{}},Wt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YP;function GK(){if(YP)return Wt;YP=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),E;E=Symbol.for("react.module.reference");function S(w){if(typeof w=="object"&&w!==null){var A=w.$$typeof;switch(A){case t:switch(w=w.type,w){case n:case i:case r:case h:case p:return w;default:switch(w=w&&w.$$typeof,w){case c:case l:case f:case v:case m:case s:return w;default:return A}}case e:return A}}}return Wt.ContextConsumer=l,Wt.ContextProvider=s,Wt.Element=t,Wt.ForwardRef=f,Wt.Fragment=n,Wt.Lazy=v,Wt.Memo=m,Wt.Portal=e,Wt.Profiler=i,Wt.StrictMode=r,Wt.Suspense=h,Wt.SuspenseList=p,Wt.isAsyncMode=function(){return!1},Wt.isConcurrentMode=function(){return!1},Wt.isContextConsumer=function(w){return S(w)===l},Wt.isContextProvider=function(w){return S(w)===s},Wt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},Wt.isForwardRef=function(w){return S(w)===f},Wt.isFragment=function(w){return S(w)===n},Wt.isLazy=function(w){return S(w)===v},Wt.isMemo=function(w){return S(w)===m},Wt.isPortal=function(w){return S(w)===e},Wt.isProfiler=function(w){return S(w)===i},Wt.isStrictMode=function(w){return S(w)===r},Wt.isSuspense=function(w){return S(w)===h},Wt.isSuspenseList=function(w){return S(w)===p},Wt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===i||w===r||w===h||w===p||w===_||typeof w=="object"&&w!==null&&(w.$$typeof===v||w.$$typeof===m||w.$$typeof===s||w.$$typeof===l||w.$$typeof===f||w.$$typeof===E||w.getModuleId!==void 0)},Wt.typeOf=S,Wt}var XP;function KK(){return XP||(XP=1,Cx.exports=GK()),Cx.exports}var WK=KK(),Ix,QP;function $5(){if(QP)return Ix;QP=1;var t=ws(),e=Ss(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return Ix=r,Ix}var kx,JP;function YK(){if(JP)return kx;JP=1;var t=$5();function e(n){return t(n)&&n!=+n}return kx=e,kx}var XK=YK();const Dd=Gt(XK);var QK=$5();const JK=Gt(QK);var Mr=function(e){return e===0?0:e>0?1:-1},Sl=function(e){return Ll(e)&&e.indexOf("%")===e.length-1},Ce=function(e){return JK(e)&&!Dd(e)},ZK=function(e){return ct(e)},Jn=function(e){return Ce(e)||Ll(e)},eW=0,Zc=function(e){var n=++eW;return"".concat(e||"").concat(n)},Dr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ce(e)&&!Ll(e))return r;var s;if(Sl(e)){var l=e.indexOf("%");s=n*parseFloat(e.slice(0,l))/100}else s=+e;return Dd(s)&&(s=r),i&&s>n&&(s=n),s},co=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},tW=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},ci=function(e,n){return Ce(e)&&Ce(n)?function(r){return e+r*(n-e)}:function(){return n}};function sg(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):di(r,e))===n})}var nW=function(e,n){return Ce(e)&&Ce(n)?e-n:Ll(e)&&Ll(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function sc(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function fS(t){"@babel/helpers - typeof";return fS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fS(t)}var rW=["viewBox","children"],iW=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ZP=["points","pathLength"],Px={svg:rW,polygon:ZP,polyline:ZP},MT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],og=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(U.isValidElement(e)&&(r=e.props),!Jc(r))return null;var i={};return Object.keys(r).forEach(function(s){MT.includes(s)&&(i[s]=n||function(l){return r[s](r,l)})}),i},aW=function(e,n,r){return function(i){return e(n,r,i),null}},Vl=function(e,n,r){if(!Jc(e)||fS(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var l=e[s];MT.includes(s)&&typeof l=="function"&&(i||(i={}),i[s]=aW(l,n,r))}),i},sW=["children"],oW=["children"];function eN(t,e){if(t==null)return{};var n=lW(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hS(t){"@babel/helpers - typeof";return hS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hS(t)}var tN={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},fs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},nN=null,Nx=null,DT=function t(e){if(e===nN&&Array.isArray(Nx))return Nx;var n=[];return U.Children.forEach(e,function(r){ct(r)||(WK.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Nx=n,nN=e,n};function pi(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return fs(i)}):r=[fs(e)],DT(t).forEach(function(i){var s=di(i,"type.displayName")||di(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function li(t,e){var n=pi(t,e);return n&&n[0]}var rN=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Ce(r)||r<=0||!Ce(i)||i<=0)},uW=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],cW=function(e){return e&&e.type&&Ll(e.type)&&uW.indexOf(e.type)>=0},fW=function(e){return e&&hS(e)==="object"&&"clipDot"in e},hW=function(e,n,r,i){var s,l=(s=Px==null?void 0:Px[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!rt(e)&&(i&&l.includes(n)||iW.includes(n))||r&&MT.includes(n)},Je=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(U.isValidElement(e)&&(i=e.props),!Jc(i))return null;var s={};return Object.keys(i).forEach(function(l){var c;hW((c=i)===null||c===void 0?void 0:c[l],l,n,r)&&(s[l]=i[l])}),s},dS=function t(e,n){if(e===n)return!0;var r=U.Children.count(e);if(r!==U.Children.count(n))return!1;if(r===0)return!0;if(r===1)return iN(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],l=n[i];if(Array.isArray(s)||Array.isArray(l)){if(!t(s,l))return!1}else if(!iN(s,l))return!1}return!0},iN=function(e,n){if(ct(e)&&ct(n))return!0;if(!ct(e)&&!ct(n)){var r=e.props||{},i=r.children,s=eN(r,sW),l=n.props||{},c=l.children,f=eN(l,oW);return i&&c?sc(s,f)&&dS(i,c):!i&&!c?sc(s,f):!1}return!1},aN=function(e,n){var r=[],i={};return DT(e).forEach(function(s,l){if(cW(s))r.push(s);else if(s){var c=fs(s.type),f=n[c]||{},h=f.handler,p=f.once;if(h&&(!p||!i[c])){var m=h(s,c,l);r.push(m),i[c]=!0}}}),r},dW=function(e){var n=e&&e.type;return n&&tN[n]?tN[n]:null},pW=function(e,n){return DT(n).indexOf(e)},mW=["children","width","height","viewBox","className","style","title","desc"];function pS(){return pS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pS.apply(this,arguments)}function gW(t,e){if(t==null)return{};var n=yW(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mS(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,l=t.style,c=t.title,f=t.desc,h=gW(t,mW),p=i||{width:n,height:r,x:0,y:0},m=bt("recharts-surface",s);return G.createElement("svg",pS({},Je(h,!0,"svg"),{className:m,width:n,height:r,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),G.createElement("title",null,c),G.createElement("desc",null,f),e)}var vW=["children","className"];function gS(){return gS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gS.apply(this,arguments)}function bW(t,e){if(t==null)return{};var n=xW(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var qt=G.forwardRef(function(t,e){var n=t.children,r=t.className,i=bW(t,vW),s=bt("recharts-layer",r);return G.createElement("g",gS({className:s},Je(i,!0),{ref:e}),n)}),na=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]},Rx,sN;function _W(){if(sN)return Rx;sN=1;function t(e,n,r){var i=-1,s=e.length;n<0&&(n=-n>s?0:s+n),r=r>s?s:r,r<0&&(r+=s),s=n>r?0:r-n>>>0,n>>>=0;for(var l=Array(s);++i<s;)l[i]=e[i+n];return l}return Rx=t,Rx}var jx,oN;function wW(){if(oN)return jx;oN=1;var t=_W();function e(n,r,i){var s=n.length;return i=i===void 0?s:i,!r&&i>=s?n:t(n,r,i)}return jx=e,jx}var Mx,lN;function U5(){if(lN)return Mx;lN=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",l="\\u200d",c=RegExp("["+l+t+i+s+"]");function f(h){return c.test(h)}return Mx=f,Mx}var Dx,uN;function SW(){if(uN)return Dx;uN=1;function t(e){return e.split("")}return Dx=t,Dx}var Lx,cN;function EW(){if(cN)return Lx;cN=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",l="["+t+"]",c="["+i+"]",f="\\ud83c[\\udffb-\\udfff]",h="(?:"+c+"|"+f+")",p="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",_="\\u200d",E=h+"?",S="["+s+"]?",w="(?:"+_+"(?:"+[p,m,v].join("|")+")"+S+E+")*",A=S+E+w,I="(?:"+[p+c+"?",c,m,v,l].join("|")+")",k=RegExp(f+"(?="+f+")|"+I+A,"g");function V(C){return C.match(k)||[]}return Lx=V,Lx}var Vx,fN;function TW(){if(fN)return Vx;fN=1;var t=SW(),e=U5(),n=EW();function r(i){return e(i)?n(i):t(i)}return Vx=r,Vx}var $x,hN;function AW(){if(hN)return $x;hN=1;var t=wW(),e=U5(),n=TW(),r=D5();function i(s){return function(l){l=r(l);var c=e(l)?n(l):void 0,f=c?c[0]:l.charAt(0),h=c?t(c,1).join(""):l.slice(1);return f[s]()+h}}return $x=i,$x}var Ux,dN;function OW(){if(dN)return Ux;dN=1;var t=AW(),e=t("toUpperCase");return Ux=e,Ux}var CW=OW();const My=Gt(CW);function cn(t){return function(){return t}}const B5=Math.cos,lg=Math.sin,ia=Math.sqrt,ug=Math.PI,Dy=2*ug,yS=Math.PI,vS=2*yS,ml=1e-6,IW=vS-ml;function q5(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function kW(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return q5;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class PW{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?q5:kW(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,c=this._y1,f=r-e,h=i-n,p=l-e,m=c-n,v=p*p+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>ml)if(!(Math.abs(m*f-h*p)>ml)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-l,E=i-c,S=f*f+h*h,w=_*_+E*E,A=Math.sqrt(S),I=Math.sqrt(v),k=s*Math.tan((yS-Math.acos((S+v-w)/(2*A*I)))/2),V=k/I,C=k/A;Math.abs(V-1)>ml&&this._append`L${e+V*p},${n+V*m}`,this._append`A${s},${s},0,0,${+(m*_>p*E)},${this._x1=e+C*f},${this._y1=n+C*h}`}}arc(e,n,r,i,s,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),f=r*Math.sin(i),h=e+c,p=n+f,m=1^l,v=l?i-s:s-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>ml||Math.abs(this._y1-p)>ml)&&this._append`L${h},${p}`,r&&(v<0&&(v=v%vS+vS),v>IW?this._append`A${r},${r},0,1,${m},${e-c},${n-f}A${r},${r},0,1,${m},${this._x1=h},${this._y1=p}`:v>ml&&this._append`A${r},${r},0,${+(v>=yS)},${m},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function LT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new PW(e)}function VT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function z5(t){this._context=t}z5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ly(t){return new z5(t)}function F5(t){return t[0]}function H5(t){return t[1]}function G5(t,e){var n=cn(!0),r=null,i=Ly,s=null,l=LT(c);t=typeof t=="function"?t:t===void 0?F5:cn(t),e=typeof e=="function"?e:e===void 0?H5:cn(e);function c(f){var h,p=(f=VT(f)).length,m,v=!1,_;for(r==null&&(s=i(_=l())),h=0;h<=p;++h)!(h<p&&n(m=f[h],h,f))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+t(m,h,f),+e(m,h,f));if(_)return s=null,_+""||null}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:cn(+f),c):t},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:cn(+f),c):e},c.defined=function(f){return arguments.length?(n=typeof f=="function"?f:cn(!!f),c):n},c.curve=function(f){return arguments.length?(i=f,r!=null&&(s=i(r)),c):i},c.context=function(f){return arguments.length?(f==null?r=s=null:s=i(r=f),c):r},c}function pm(t,e,n){var r=null,i=cn(!0),s=null,l=Ly,c=null,f=LT(h);t=typeof t=="function"?t:t===void 0?F5:cn(+t),e=typeof e=="function"?e:cn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?H5:cn(+n);function h(m){var v,_,E,S=(m=VT(m)).length,w,A=!1,I,k=new Array(S),V=new Array(S);for(s==null&&(c=l(I=f())),v=0;v<=S;++v){if(!(v<S&&i(w=m[v],v,m))===A)if(A=!A)_=v,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),E=v-1;E>=_;--E)c.point(k[E],V[E]);c.lineEnd(),c.areaEnd()}A&&(k[v]=+t(w,v,m),V[v]=+e(w,v,m),c.point(r?+r(w,v,m):k[v],n?+n(w,v,m):V[v]))}if(I)return c=null,I+""||null}function p(){return G5().defined(i).curve(l).context(s)}return h.x=function(m){return arguments.length?(t=typeof m=="function"?m:cn(+m),r=null,h):t},h.x0=function(m){return arguments.length?(t=typeof m=="function"?m:cn(+m),h):t},h.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:cn(+m),h):r},h.y=function(m){return arguments.length?(e=typeof m=="function"?m:cn(+m),n=null,h):e},h.y0=function(m){return arguments.length?(e=typeof m=="function"?m:cn(+m),h):e},h.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:cn(+m),h):n},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(n)},h.lineX1=function(){return p().x(r).y(e)},h.defined=function(m){return arguments.length?(i=typeof m=="function"?m:cn(!!m),h):i},h.curve=function(m){return arguments.length?(l=m,s!=null&&(c=l(s)),h):l},h.context=function(m){return arguments.length?(m==null?s=c=null:c=l(s=m),h):s},h}class K5{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function NW(t){return new K5(t,!0)}function RW(t){return new K5(t,!1)}const $T={draw(t,e){const n=ia(e/ug);t.moveTo(n,0),t.arc(0,0,n,0,Dy)}},jW={draw(t,e){const n=ia(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},W5=ia(1/3),MW=W5*2,DW={draw(t,e){const n=ia(e/MW),r=n*W5;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},LW={draw(t,e){const n=ia(e),r=-n/2;t.rect(r,r,n,n)}},VW=.8908130915292852,Y5=lg(ug/10)/lg(7*ug/10),$W=lg(Dy/10)*Y5,UW=-B5(Dy/10)*Y5,BW={draw(t,e){const n=ia(e*VW),r=$W*n,i=UW*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const l=Dy*s/5,c=B5(l),f=lg(l);t.lineTo(f*n,-c*n),t.lineTo(c*r-f*i,f*r+c*i)}t.closePath()}},Bx=ia(3),qW={draw(t,e){const n=-ia(e/(Bx*3));t.moveTo(0,n*2),t.lineTo(-Bx*n,-n),t.lineTo(Bx*n,-n),t.closePath()}},Ii=-.5,ki=ia(3)/2,bS=1/ia(12),zW=(bS/2+1)*3,FW={draw(t,e){const n=ia(e/zW),r=n/2,i=n*bS,s=r,l=n*bS+n,c=-s,f=l;t.moveTo(r,i),t.lineTo(s,l),t.lineTo(c,f),t.lineTo(Ii*r-ki*i,ki*r+Ii*i),t.lineTo(Ii*s-ki*l,ki*s+Ii*l),t.lineTo(Ii*c-ki*f,ki*c+Ii*f),t.lineTo(Ii*r+ki*i,Ii*i-ki*r),t.lineTo(Ii*s+ki*l,Ii*l-ki*s),t.lineTo(Ii*c+ki*f,Ii*f-ki*c),t.closePath()}};function HW(t,e){let n=null,r=LT(i);t=typeof t=="function"?t:cn(t||$T),e=typeof e=="function"?e:cn(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:cn(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:cn(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function cg(){}function fg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function X5(t){this._context=t}X5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:fg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:fg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function GW(t){return new X5(t)}function Q5(t){this._context=t}Q5.prototype={areaStart:cg,areaEnd:cg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:fg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function KW(t){return new Q5(t)}function J5(t){this._context=t}J5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:fg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function WW(t){return new J5(t)}function Z5(t){this._context=t}Z5.prototype={areaStart:cg,areaEnd:cg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function YW(t){return new Z5(t)}function pN(t){return t<0?-1:1}function mN(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),c=(s*i+l*r)/(r+i);return(pN(s)+pN(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(c))||0}function gN(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function qx(t,e,n){var r=t._x0,i=t._y0,s=t._x1,l=t._y1,c=(s-r)/3;t._context.bezierCurveTo(r+c,i+c*e,s-c,l-c*n,s,l)}function hg(t){this._context=t}hg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qx(this,this._t0,gN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,qx(this,gN(this,n=mN(this,t,e)),n);break;default:qx(this,this._t0,n=mN(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function e6(t){this._context=new t6(t)}(e6.prototype=Object.create(hg.prototype)).point=function(t,e){hg.prototype.point.call(this,e,t)};function t6(t){this._context=t}t6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function XW(t){return new hg(t)}function QW(t){return new e6(t)}function n6(t){this._context=t}n6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=yN(t),i=yN(e),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function yN(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),l=new Array(n);for(i[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function JW(t){return new n6(t)}function Vy(t,e){this._context=t,this._t=e}Vy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function ZW(t){return new Vy(t,.5)}function eY(t){return new Vy(t,0)}function tY(t){return new Vy(t,1)}function vc(t,e){if((l=t.length)>1)for(var n=1,r,i,s=t[e[0]],l,c=s.length;n<l;++n)for(i=s,s=t[e[n]],r=0;r<c;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function xS(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function nY(t,e){return t[e]}function rY(t){const e=[];return e.key=t,e}function iY(){var t=cn([]),e=xS,n=vc,r=nY;function i(s){var l=Array.from(t.apply(this,arguments),rY),c,f=l.length,h=-1,p;for(const m of s)for(c=0,++h;c<f;++c)(l[c][h]=[0,+r(m,l[c].key,h,s)]).data=m;for(c=0,p=VT(e(l));c<f;++c)l[p[c]].index=c;return n(l,p),l}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:cn(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:cn(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?xS:typeof s=="function"?s:cn(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??vc,i):n},i}function aY(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,l;i<s;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}vc(t,e)}}function sY(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var l=0,c=0;l<i;++l)c+=t[l][n][1]||0;r[n][1]+=r[n][0]=-c/2}vc(t,e)}}function oY(t,e){if(!(!((l=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,l;r<s;++r){for(var c=0,f=0,h=0;c<l;++c){for(var p=t[e[c]],m=p[r][1]||0,v=p[r-1][1]||0,_=(m-v)/2,E=0;E<c;++E){var S=t[e[E]],w=S[r][1]||0,A=S[r-1][1]||0;_+=w-A}f+=m,h+=_*m}i[r-1][1]+=i[r-1][0]=n,f&&(n-=h/f)}i[r-1][1]+=i[r-1][0]=n,vc(t,e)}}function qh(t){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qh(t)}var lY=["type","size","sizeType"];function _S(){return _S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_S.apply(this,arguments)}function vN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vN(Object(n),!0).forEach(function(r){uY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uY(t,e,n){return e=cY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cY(t){var e=fY(t,"string");return qh(e)=="symbol"?e:e+""}function fY(t,e){if(qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hY(t,e){if(t==null)return{};var n=dY(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var r6={symbolCircle:$T,symbolCross:jW,symbolDiamond:DW,symbolSquare:LW,symbolStar:BW,symbolTriangle:qW,symbolWye:FW},pY=Math.PI/180,mY=function(e){var n="symbol".concat(My(e));return r6[n]||$T},gY=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*pY;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},yY=function(e,n){r6["symbol".concat(My(e))]=n},UT=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,l=e.sizeType,c=l===void 0?"area":l,f=hY(e,lY),h=bN(bN({},f),{},{type:r,size:s,sizeType:c}),p=function(){var w=mY(r),A=HW().type(w).size(gY(s,c,r));return A()},m=h.className,v=h.cx,_=h.cy,E=Je(h,!0);return v===+v&&_===+_&&s===+s?G.createElement("path",_S({},E,{className:bt("recharts-symbols",m),transform:"translate(".concat(v,", ").concat(_,")"),d:p()})):null};UT.registerSymbol=yY;function bc(t){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(t)}function wS(){return wS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wS.apply(this,arguments)}function xN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xN(Object(n),!0).forEach(function(r){zh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a6(r.key),r)}}function _Y(t,e,n){return e&&xY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wY(t,e,n){return e=dg(e),SY(t,i6()?Reflect.construct(e,n||[],dg(t).constructor):e.apply(t,n))}function SY(t,e){if(e&&(bc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EY(t)}function EY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i6=function(){return!!t})()}function dg(t){return dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dg(t)}function TY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SS(t,e)}function SS(t,e){return SS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},SS(t,e)}function zh(t,e,n){return e=a6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a6(t){var e=AY(t,"string");return bc(e)=="symbol"?e:e+""}function AY(t,e){if(bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Pi=32,BT=(function(t){function e(){return bY(this,e),wY(this,e,arguments)}return TY(e,t),_Y(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=Pi/2,l=Pi/6,c=Pi/3,f=r.inactive?i:r.color;if(r.type==="plainline")return G.createElement("line",{strokeWidth:4,fill:"none",stroke:f,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:Pi,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return G.createElement("path",{strokeWidth:4,fill:"none",stroke:f,d:"M0,".concat(s,"h").concat(c,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*c,",").concat(s,`
            H`).concat(Pi,"M").concat(2*c,",").concat(s,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(c,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return G.createElement("path",{stroke:"none",fill:f,d:"M0,".concat(Pi/8,"h").concat(Pi,"v").concat(Pi*3/4,"h").concat(-Pi,"z"),className:"recharts-legend-icon"});if(G.isValidElement(r.legendIcon)){var h=vY({},r);return delete h.legendIcon,G.cloneElement(r.legendIcon,h)}return G.createElement(UT,{fill:f,cx:s,cy:s,size:Pi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,l=i.iconSize,c=i.layout,f=i.formatter,h=i.inactiveColor,p={x:0,y:0,width:Pi,height:Pi},m={display:c==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(_,E){var S=_.formatter||f,w=bt(zh(zh({"recharts-legend-item":!0},"legend-item-".concat(E),!0),"inactive",_.inactive));if(_.type==="none")return null;var A=rt(_.value)?null:_.value;na(!rt(_.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var I=_.inactive?h:_.color;return G.createElement("li",wS({className:w,style:m,key:"legend-item-".concat(E)},Vl(r.props,_,E)),G.createElement(mS,{width:l,height:l,viewBox:p,style:v},r.renderIcon(_)),G.createElement("span",{className:"recharts-legend-item-text",style:{color:I}},S?S(A,_,E):A))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,l=r.align;if(!i||!i.length)return null;var c={padding:0,margin:0,textAlign:s==="horizontal"?l:"left"};return G.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])})(U.PureComponent);zh(BT,"displayName","Legend");zh(BT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var zx,_N;function OY(){if(_N)return zx;_N=1;var t=Ny();function e(){this.__data__=new t,this.size=0}return zx=e,zx}var Fx,wN;function CY(){if(wN)return Fx;wN=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return Fx=t,Fx}var Hx,SN;function IY(){if(SN)return Hx;SN=1;function t(e){return this.__data__.get(e)}return Hx=t,Hx}var Gx,EN;function kY(){if(EN)return Gx;EN=1;function t(e){return this.__data__.has(e)}return Gx=t,Gx}var Kx,TN;function PY(){if(TN)return Kx;TN=1;var t=Ny(),e=PT(),n=NT(),r=200;function i(s,l){var c=this.__data__;if(c instanceof t){var f=c.__data__;if(!e||f.length<r-1)return f.push([s,l]),this.size=++c.size,this;c=this.__data__=new n(f)}return c.set(s,l),this.size=c.size,this}return Kx=i,Kx}var Wx,AN;function s6(){if(AN)return Wx;AN=1;var t=Ny(),e=OY(),n=CY(),r=IY(),i=kY(),s=PY();function l(c){var f=this.__data__=new t(c);this.size=f.size}return l.prototype.clear=e,l.prototype.delete=n,l.prototype.get=r,l.prototype.has=i,l.prototype.set=s,Wx=l,Wx}var Yx,ON;function NY(){if(ON)return Yx;ON=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return Yx=e,Yx}var Xx,CN;function RY(){if(CN)return Xx;CN=1;function t(e){return this.__data__.has(e)}return Xx=t,Xx}var Qx,IN;function o6(){if(IN)return Qx;IN=1;var t=NT(),e=NY(),n=RY();function r(i){var s=-1,l=i==null?0:i.length;for(this.__data__=new t;++s<l;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,Qx=r,Qx}var Jx,kN;function l6(){if(kN)return Jx;kN=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return Jx=t,Jx}var Zx,PN;function u6(){if(PN)return Zx;PN=1;function t(e,n){return e.has(n)}return Zx=t,Zx}var e_,NN;function c6(){if(NN)return e_;NN=1;var t=o6(),e=l6(),n=u6(),r=1,i=2;function s(l,c,f,h,p,m){var v=f&r,_=l.length,E=c.length;if(_!=E&&!(v&&E>_))return!1;var S=m.get(l),w=m.get(c);if(S&&w)return S==c&&w==l;var A=-1,I=!0,k=f&i?new t:void 0;for(m.set(l,c),m.set(c,l);++A<_;){var V=l[A],C=c[A];if(h)var j=v?h(C,V,A,c,l,m):h(V,C,A,l,c,m);if(j!==void 0){if(j)continue;I=!1;break}if(k){if(!e(c,function(O,P){if(!n(k,P)&&(V===O||p(V,O,f,h,m)))return k.push(P)})){I=!1;break}}else if(!(V===C||p(V,C,f,h,m))){I=!1;break}}return m.delete(l),m.delete(c),I}return e_=s,e_}var t_,RN;function jY(){if(RN)return t_;RN=1;var t=Ra(),e=t.Uint8Array;return t_=e,t_}var n_,jN;function MY(){if(jN)return n_;jN=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,s){r[++n]=[s,i]}),r}return n_=t,n_}var r_,MN;function qT(){if(MN)return r_;MN=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return r_=t,r_}var i_,DN;function DY(){if(DN)return i_;DN=1;var t=Md(),e=jY(),n=kT(),r=c6(),i=MY(),s=qT(),l=1,c=2,f="[object Boolean]",h="[object Date]",p="[object Error]",m="[object Map]",v="[object Number]",_="[object RegExp]",E="[object Set]",S="[object String]",w="[object Symbol]",A="[object ArrayBuffer]",I="[object DataView]",k=t?t.prototype:void 0,V=k?k.valueOf:void 0;function C(j,O,P,R,B,D,$){switch(P){case I:if(j.byteLength!=O.byteLength||j.byteOffset!=O.byteOffset)return!1;j=j.buffer,O=O.buffer;case A:return!(j.byteLength!=O.byteLength||!D(new e(j),new e(O)));case f:case h:case v:return n(+j,+O);case p:return j.name==O.name&&j.message==O.message;case _:case S:return j==O+"";case m:var L=i;case E:var Q=R&l;if(L||(L=s),j.size!=O.size&&!Q)return!1;var J=$.get(j);if(J)return J==O;R|=c,$.set(j,O);var F=r(L(j),L(O),R,B,D,$);return $.delete(j),F;case w:if(V)return V.call(j)==V.call(O)}return!1}return i_=C,i_}var a_,LN;function f6(){if(LN)return a_;LN=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return a_=t,a_}var s_,VN;function LY(){if(VN)return s_;VN=1;var t=f6(),e=Wr();function n(r,i,s){var l=i(r);return e(r)?l:t(l,s(r))}return s_=n,s_}var o_,$N;function VY(){if($N)return o_;$N=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,l=[];++r<i;){var c=e[r];n(c,r,e)&&(l[s++]=c)}return l}return o_=t,o_}var l_,UN;function $Y(){if(UN)return l_;UN=1;function t(){return[]}return l_=t,l_}var u_,BN;function UY(){if(BN)return u_;BN=1;var t=VY(),e=$Y(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(l){return l==null?[]:(l=Object(l),t(i(l),function(c){return r.call(l,c)}))}:e;return u_=s,u_}var c_,qN;function BY(){if(qN)return c_;qN=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return c_=t,c_}var f_,zN;function qY(){if(zN)return f_;zN=1;var t=ws(),e=Ss(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return f_=r,f_}var h_,FN;function zT(){if(FN)return h_;FN=1;var t=qY(),e=Ss(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(l){return e(l)&&r.call(l,"callee")&&!i.call(l,"callee")};return h_=s,h_}var yh={exports:{}},d_,HN;function zY(){if(HN)return d_;HN=1;function t(){return!1}return d_=t,d_}yh.exports;var GN;function h6(){return GN||(GN=1,(function(t,e){var n=Ra(),r=zY(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,l=s&&s.exports===i,c=l?n.Buffer:void 0,f=c?c.isBuffer:void 0,h=f||r;t.exports=h})(yh,yh.exports)),yh.exports}var p_,KN;function FT(){if(KN)return p_;KN=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return p_=n,p_}var m_,WN;function HT(){if(WN)return m_;WN=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return m_=e,m_}var g_,YN;function FY(){if(YN)return g_;YN=1;var t=ws(),e=HT(),n=Ss(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Function]",h="[object Map]",p="[object Number]",m="[object Object]",v="[object RegExp]",_="[object Set]",E="[object String]",S="[object WeakMap]",w="[object ArrayBuffer]",A="[object DataView]",I="[object Float32Array]",k="[object Float64Array]",V="[object Int8Array]",C="[object Int16Array]",j="[object Int32Array]",O="[object Uint8Array]",P="[object Uint8ClampedArray]",R="[object Uint16Array]",B="[object Uint32Array]",D={};D[I]=D[k]=D[V]=D[C]=D[j]=D[O]=D[P]=D[R]=D[B]=!0,D[r]=D[i]=D[w]=D[s]=D[A]=D[l]=D[c]=D[f]=D[h]=D[p]=D[m]=D[v]=D[_]=D[E]=D[S]=!1;function $(L){return n(L)&&e(L.length)&&!!D[t(L)]}return g_=$,g_}var y_,XN;function d6(){if(XN)return y_;XN=1;function t(e){return function(n){return e(n)}}return y_=t,y_}var vh={exports:{}};vh.exports;var QN;function HY(){return QN||(QN=1,(function(t,e){var n=R5(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,l=s&&n.process,c=(function(){try{var f=i&&i.require&&i.require("util").types;return f||l&&l.binding&&l.binding("util")}catch{}})();t.exports=c})(vh,vh.exports)),vh.exports}var v_,JN;function p6(){if(JN)return v_;JN=1;var t=FY(),e=d6(),n=HY(),r=n&&n.isTypedArray,i=r?e(r):t;return v_=i,v_}var b_,ZN;function GY(){if(ZN)return b_;ZN=1;var t=BY(),e=zT(),n=Wr(),r=h6(),i=FT(),s=p6(),l=Object.prototype,c=l.hasOwnProperty;function f(h,p){var m=n(h),v=!m&&e(h),_=!m&&!v&&r(h),E=!m&&!v&&!_&&s(h),S=m||v||_||E,w=S?t(h.length,String):[],A=w.length;for(var I in h)(p||c.call(h,I))&&!(S&&(I=="length"||_&&(I=="offset"||I=="parent")||E&&(I=="buffer"||I=="byteLength"||I=="byteOffset")||i(I,A)))&&w.push(I);return w}return b_=f,b_}var x_,eR;function KY(){if(eR)return x_;eR=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return x_=e,x_}var __,tR;function m6(){if(tR)return __;tR=1;function t(e,n){return function(r){return e(n(r))}}return __=t,__}var w_,nR;function WY(){if(nR)return w_;nR=1;var t=m6(),e=t(Object.keys,Object);return w_=e,w_}var S_,rR;function YY(){if(rR)return S_;rR=1;var t=KY(),e=WY(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var l=[];for(var c in Object(s))r.call(s,c)&&c!="constructor"&&l.push(c);return l}return S_=i,S_}var E_,iR;function Ld(){if(iR)return E_;iR=1;var t=IT(),e=HT();function n(r){return r!=null&&e(r.length)&&!t(r)}return E_=n,E_}var T_,aR;function $y(){if(aR)return T_;aR=1;var t=GY(),e=YY(),n=Ld();function r(i){return n(i)?t(i):e(i)}return T_=r,T_}var A_,sR;function XY(){if(sR)return A_;sR=1;var t=LY(),e=UY(),n=$y();function r(i){return t(i,n,e)}return A_=r,A_}var O_,oR;function QY(){if(oR)return O_;oR=1;var t=XY(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,l,c,f,h,p){var m=c&e,v=t(s),_=v.length,E=t(l),S=E.length;if(_!=S&&!m)return!1;for(var w=_;w--;){var A=v[w];if(!(m?A in l:r.call(l,A)))return!1}var I=p.get(s),k=p.get(l);if(I&&k)return I==l&&k==s;var V=!0;p.set(s,l),p.set(l,s);for(var C=m;++w<_;){A=v[w];var j=s[A],O=l[A];if(f)var P=m?f(O,j,A,l,s,p):f(j,O,A,s,l,p);if(!(P===void 0?j===O||h(j,O,c,f,p):P)){V=!1;break}C||(C=A=="constructor")}if(V&&!C){var R=s.constructor,B=l.constructor;R!=B&&"constructor"in s&&"constructor"in l&&!(typeof R=="function"&&R instanceof R&&typeof B=="function"&&B instanceof B)&&(V=!1)}return p.delete(s),p.delete(l),V}return O_=i,O_}var C_,lR;function JY(){if(lR)return C_;lR=1;var t=Gl(),e=Ra(),n=t(e,"DataView");return C_=n,C_}var I_,uR;function ZY(){if(uR)return I_;uR=1;var t=Gl(),e=Ra(),n=t(e,"Promise");return I_=n,I_}var k_,cR;function g6(){if(cR)return k_;cR=1;var t=Gl(),e=Ra(),n=t(e,"Set");return k_=n,k_}var P_,fR;function eX(){if(fR)return P_;fR=1;var t=Gl(),e=Ra(),n=t(e,"WeakMap");return P_=n,P_}var N_,hR;function tX(){if(hR)return N_;hR=1;var t=JY(),e=PT(),n=ZY(),r=g6(),i=eX(),s=ws(),l=j5(),c="[object Map]",f="[object Object]",h="[object Promise]",p="[object Set]",m="[object WeakMap]",v="[object DataView]",_=l(t),E=l(e),S=l(n),w=l(r),A=l(i),I=s;return(t&&I(new t(new ArrayBuffer(1)))!=v||e&&I(new e)!=c||n&&I(n.resolve())!=h||r&&I(new r)!=p||i&&I(new i)!=m)&&(I=function(k){var V=s(k),C=V==f?k.constructor:void 0,j=C?l(C):"";if(j)switch(j){case _:return v;case E:return c;case S:return h;case w:return p;case A:return m}return V}),N_=I,N_}var R_,dR;function nX(){if(dR)return R_;dR=1;var t=s6(),e=c6(),n=DY(),r=QY(),i=tX(),s=Wr(),l=h6(),c=p6(),f=1,h="[object Arguments]",p="[object Array]",m="[object Object]",v=Object.prototype,_=v.hasOwnProperty;function E(S,w,A,I,k,V){var C=s(S),j=s(w),O=C?p:i(S),P=j?p:i(w);O=O==h?m:O,P=P==h?m:P;var R=O==m,B=P==m,D=O==P;if(D&&l(S)){if(!l(w))return!1;C=!0,R=!1}if(D&&!R)return V||(V=new t),C||c(S)?e(S,w,A,I,k,V):n(S,w,O,A,I,k,V);if(!(A&f)){var $=R&&_.call(S,"__wrapped__"),L=B&&_.call(w,"__wrapped__");if($||L){var Q=$?S.value():S,J=L?w.value():w;return V||(V=new t),k(Q,J,A,I,V)}}return D?(V||(V=new t),r(S,w,A,I,k,V)):!1}return R_=E,R_}var j_,pR;function GT(){if(pR)return j_;pR=1;var t=nX(),e=Ss();function n(r,i,s,l,c){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,s,l,n,c)}return j_=n,j_}var M_,mR;function rX(){if(mR)return M_;mR=1;var t=s6(),e=GT(),n=1,r=2;function i(s,l,c,f){var h=c.length,p=h,m=!f;if(s==null)return!p;for(s=Object(s);h--;){var v=c[h];if(m&&v[2]?v[1]!==s[v[0]]:!(v[0]in s))return!1}for(;++h<p;){v=c[h];var _=v[0],E=s[_],S=v[1];if(m&&v[2]){if(E===void 0&&!(_ in s))return!1}else{var w=new t;if(f)var A=f(E,S,_,s,l,w);if(!(A===void 0?e(S,E,n|r,f,w):A))return!1}}return!0}return M_=i,M_}var D_,gR;function y6(){if(gR)return D_;gR=1;var t=ko();function e(n){return n===n&&!t(n)}return D_=e,D_}var L_,yR;function iX(){if(yR)return L_;yR=1;var t=y6(),e=$y();function n(r){for(var i=e(r),s=i.length;s--;){var l=i[s],c=r[l];i[s]=[l,c,t(c)]}return i}return L_=n,L_}var V_,vR;function v6(){if(vR)return V_;vR=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return V_=t,V_}var $_,bR;function aX(){if(bR)return $_;bR=1;var t=rX(),e=iX(),n=v6();function r(i){var s=e(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(l){return l===i||t(l,i,s)}}return $_=r,$_}var U_,xR;function sX(){if(xR)return U_;xR=1;function t(e,n){return e!=null&&n in Object(e)}return U_=t,U_}var B_,_R;function oX(){if(_R)return B_;_R=1;var t=L5(),e=zT(),n=Wr(),r=FT(),i=HT(),s=jy();function l(c,f,h){f=t(f,c);for(var p=-1,m=f.length,v=!1;++p<m;){var _=s(f[p]);if(!(v=c!=null&&h(c,_)))break;c=c[_]}return v||++p!=m?v:(m=c==null?0:c.length,!!m&&i(m)&&r(_,m)&&(n(c)||e(c)))}return B_=l,B_}var q_,wR;function lX(){if(wR)return q_;wR=1;var t=sX(),e=oX();function n(r,i){return r!=null&&e(r,i,t)}return q_=n,q_}var z_,SR;function uX(){if(SR)return z_;SR=1;var t=GT(),e=V5(),n=lX(),r=CT(),i=y6(),s=v6(),l=jy(),c=1,f=2;function h(p,m){return r(p)&&i(m)?s(l(p),m):function(v){var _=e(v,p);return _===void 0&&_===m?n(v,p):t(m,_,c|f)}}return z_=h,z_}var F_,ER;function ef(){if(ER)return F_;ER=1;function t(e){return e}return F_=t,F_}var H_,TR;function cX(){if(TR)return H_;TR=1;function t(e){return function(n){return n==null?void 0:n[e]}}return H_=t,H_}var G_,AR;function fX(){if(AR)return G_;AR=1;var t=jT();function e(n){return function(r){return t(r,n)}}return G_=e,G_}var K_,OR;function hX(){if(OR)return K_;OR=1;var t=cX(),e=fX(),n=CT(),r=jy();function i(s){return n(s)?t(r(s)):e(s)}return K_=i,K_}var W_,CR;function ja(){if(CR)return W_;CR=1;var t=aX(),e=uX(),n=ef(),r=Wr(),i=hX();function s(l){return typeof l=="function"?l:l==null?n:typeof l=="object"?r(l)?e(l[0],l[1]):t(l):i(l)}return W_=s,W_}var Y_,IR;function b6(){if(IR)return Y_;IR=1;function t(e,n,r,i){for(var s=e.length,l=r+(i?1:-1);i?l--:++l<s;)if(n(e[l],l,e))return l;return-1}return Y_=t,Y_}var X_,kR;function dX(){if(kR)return X_;kR=1;function t(e){return e!==e}return X_=t,X_}var Q_,PR;function pX(){if(PR)return Q_;PR=1;function t(e,n,r){for(var i=r-1,s=e.length;++i<s;)if(e[i]===n)return i;return-1}return Q_=t,Q_}var J_,NR;function mX(){if(NR)return J_;NR=1;var t=b6(),e=dX(),n=pX();function r(i,s,l){return s===s?n(i,s,l):t(i,e,l)}return J_=r,J_}var Z_,RR;function gX(){if(RR)return Z_;RR=1;var t=mX();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return Z_=e,Z_}var ew,jR;function yX(){if(jR)return ew;jR=1;function t(e,n,r){for(var i=-1,s=e==null?0:e.length;++i<s;)if(r(n,e[i]))return!0;return!1}return ew=t,ew}var tw,MR;function vX(){if(MR)return tw;MR=1;function t(){}return tw=t,tw}var nw,DR;function bX(){if(DR)return nw;DR=1;var t=g6(),e=vX(),n=qT(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(s){return new t(s)}:e;return nw=i,nw}var rw,LR;function xX(){if(LR)return rw;LR=1;var t=o6(),e=gX(),n=yX(),r=u6(),i=bX(),s=qT(),l=200;function c(f,h,p){var m=-1,v=e,_=f.length,E=!0,S=[],w=S;if(p)E=!1,v=n;else if(_>=l){var A=h?null:i(f);if(A)return s(A);E=!1,v=r,w=new t}else w=h?[]:S;e:for(;++m<_;){var I=f[m],k=h?h(I):I;if(I=p||I!==0?I:0,E&&k===k){for(var V=w.length;V--;)if(w[V]===k)continue e;h&&w.push(k),S.push(I)}else v(w,k,p)||(w!==S&&w.push(k),S.push(I))}return S}return rw=c,rw}var iw,VR;function _X(){if(VR)return iw;VR=1;var t=ja(),e=xX();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return iw=n,iw}var wX=_X();const $R=Gt(wX);function x6(t,e,n){return e===!0?$R(t,n):rt(e)?$R(t,e):t}function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}var SX=["ref"];function UR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(n),!0).forEach(function(r){Uy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w6(r.key),r)}}function TX(t,e,n){return e&&BR(t.prototype,e),n&&BR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function AX(t,e,n){return e=pg(e),OX(t,_6()?Reflect.construct(e,n||[],pg(t).constructor):e.apply(t,n))}function OX(t,e){if(e&&(xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CX(t)}function CX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_6=function(){return!!t})()}function pg(t){return pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pg(t)}function IX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ES(t,e)}function ES(t,e){return ES=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ES(t,e)}function Uy(t,e,n){return e=w6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w6(t){var e=kX(t,"string");return xc(e)=="symbol"?e:e+""}function kX(t,e){if(xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function PX(t,e){if(t==null)return{};var n=NX(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function RX(t){return t.value}function jX(t,e){if(G.isValidElement(t))return G.cloneElement(t,e);if(typeof t=="function")return G.createElement(t,e);e.ref;var n=PX(e,SX);return G.createElement(BT,n)}var qR=1,bo=(function(t){function e(){var n;EX(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=AX(this,e,[].concat(i)),Uy(n,"lastBoundingBox",{width:-1,height:-1}),n}return IX(e,t),TX(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>qR||Math.abs(i.height-this.lastBoundingBox.height)>qR)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?rs({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,l=i.align,c=i.verticalAlign,f=i.margin,h=i.chartWidth,p=i.chartHeight,m,v;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(l==="center"&&s==="vertical"){var _=this.getBBoxSnapshot();m={left:((h||0)-_.width)/2}}else m=l==="right"?{right:f&&f.right||0}:{left:f&&f.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(c==="middle"){var E=this.getBBoxSnapshot();v={top:((p||0)-E.height)/2}}else v=c==="bottom"?{bottom:f&&f.bottom||0}:{top:f&&f.top||0};return rs(rs({},m),v)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,l=i.width,c=i.height,f=i.wrapperStyle,h=i.payloadUniqBy,p=i.payload,m=rs(rs({position:"absolute",width:l||"auto",height:c||"auto"},this.getDefaultPosition(f)),f);return G.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(_){r.wrapperNode=_}},jX(s,rs(rs({},this.props),{},{payload:x6(p,h,RX)})))}}],[{key:"getWithHeight",value:function(r,i){var s=rs(rs({},this.defaultProps),r.props),l=s.layout;return l==="vertical"&&Ce(r.props.height)?{height:r.props.height}:l==="horizontal"?{width:r.props.width||i}:null}}])})(U.PureComponent);Uy(bo,"displayName","Legend");Uy(bo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var aw,zR;function MX(){if(zR)return aw;zR=1;var t=Md(),e=zT(),n=Wr(),r=t?t.isConcatSpreadable:void 0;function i(s){return n(s)||e(s)||!!(r&&s&&s[r])}return aw=i,aw}var sw,FR;function S6(){if(FR)return sw;FR=1;var t=f6(),e=MX();function n(r,i,s,l,c){var f=-1,h=r.length;for(s||(s=e),c||(c=[]);++f<h;){var p=r[f];i>0&&s(p)?i>1?n(p,i-1,s,l,c):t(c,p):l||(c[c.length]=p)}return c}return sw=n,sw}var ow,HR;function DX(){if(HR)return ow;HR=1;function t(e){return function(n,r,i){for(var s=-1,l=Object(n),c=i(n),f=c.length;f--;){var h=c[e?f:++s];if(r(l[h],h,l)===!1)break}return n}}return ow=t,ow}var lw,GR;function LX(){if(GR)return lw;GR=1;var t=DX(),e=t();return lw=e,lw}var uw,KR;function E6(){if(KR)return uw;KR=1;var t=LX(),e=$y();function n(r,i){return r&&t(r,i,e)}return uw=n,uw}var cw,WR;function VX(){if(WR)return cw;WR=1;var t=Ld();function e(n,r){return function(i,s){if(i==null)return i;if(!t(i))return n(i,s);for(var l=i.length,c=r?l:-1,f=Object(i);(r?c--:++c<l)&&s(f[c],c,f)!==!1;);return i}}return cw=e,cw}var fw,YR;function KT(){if(YR)return fw;YR=1;var t=E6(),e=VX(),n=e(t);return fw=n,fw}var hw,XR;function T6(){if(XR)return hw;XR=1;var t=KT(),e=Ld();function n(r,i){var s=-1,l=e(r)?Array(r.length):[];return t(r,function(c,f,h){l[++s]=i(c,f,h)}),l}return hw=n,hw}var dw,QR;function $X(){if(QR)return dw;QR=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return dw=t,dw}var pw,JR;function UX(){if(JR)return pw;JR=1;var t=Qc();function e(n,r){if(n!==r){var i=n!==void 0,s=n===null,l=n===n,c=t(n),f=r!==void 0,h=r===null,p=r===r,m=t(r);if(!h&&!m&&!c&&n>r||c&&f&&p&&!h&&!m||s&&f&&p||!i&&p||!l)return 1;if(!s&&!c&&!m&&n<r||m&&i&&l&&!s&&!c||h&&i&&l||!f&&l||!p)return-1}return 0}return pw=e,pw}var mw,ZR;function BX(){if(ZR)return mw;ZR=1;var t=UX();function e(n,r,i){for(var s=-1,l=n.criteria,c=r.criteria,f=l.length,h=i.length;++s<f;){var p=t(l[s],c[s]);if(p){if(s>=h)return p;var m=i[s];return p*(m=="desc"?-1:1)}}return n.index-r.index}return mw=e,mw}var gw,ej;function qX(){if(ej)return gw;ej=1;var t=RT(),e=jT(),n=ja(),r=T6(),i=$X(),s=d6(),l=BX(),c=ef(),f=Wr();function h(p,m,v){m.length?m=t(m,function(S){return f(S)?function(w){return e(w,S.length===1?S[0]:S)}:S}):m=[c];var _=-1;m=t(m,s(n));var E=r(p,function(S,w,A){var I=t(m,function(k){return k(S)});return{criteria:I,index:++_,value:S}});return i(E,function(S,w){return l(S,w,v)})}return gw=h,gw}var yw,tj;function zX(){if(tj)return yw;tj=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return yw=t,yw}var vw,nj;function FX(){if(nj)return vw;nj=1;var t=zX(),e=Math.max;function n(r,i,s){return i=e(i===void 0?r.length-1:i,0),function(){for(var l=arguments,c=-1,f=e(l.length-i,0),h=Array(f);++c<f;)h[c]=l[i+c];c=-1;for(var p=Array(i+1);++c<i;)p[c]=l[c];return p[i]=s(h),t(r,this,p)}}return vw=n,vw}var bw,rj;function HX(){if(rj)return bw;rj=1;function t(e){return function(){return e}}return bw=t,bw}var xw,ij;function A6(){if(ij)return xw;ij=1;var t=Gl(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return xw=e,xw}var _w,aj;function GX(){if(aj)return _w;aj=1;var t=HX(),e=A6(),n=ef(),r=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:n;return _w=r,_w}var ww,sj;function KX(){if(sj)return ww;sj=1;var t=800,e=16,n=Date.now;function r(i){var s=0,l=0;return function(){var c=n(),f=e-(c-l);if(l=c,f>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return ww=r,ww}var Sw,oj;function WX(){if(oj)return Sw;oj=1;var t=GX(),e=KX(),n=e(t);return Sw=n,Sw}var Ew,lj;function YX(){if(lj)return Ew;lj=1;var t=ef(),e=FX(),n=WX();function r(i,s){return n(e(i,s,t),i+"")}return Ew=r,Ew}var Tw,uj;function By(){if(uj)return Tw;uj=1;var t=kT(),e=Ld(),n=FT(),r=ko();function i(s,l,c){if(!r(c))return!1;var f=typeof l;return(f=="number"?e(c)&&n(l,c.length):f=="string"&&l in c)?t(c[l],s):!1}return Tw=i,Tw}var Aw,cj;function XX(){if(cj)return Aw;cj=1;var t=S6(),e=qX(),n=YX(),r=By(),i=n(function(s,l){if(s==null)return[];var c=l.length;return c>1&&r(s,l[0],l[1])?l=[]:c>2&&r(l[0],l[1],l[2])&&(l=[l[0]]),e(s,t(l,1),[])});return Aw=i,Aw}var QX=XX();const WT=Gt(QX);function Fh(t){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(t)}function TS(){return TS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TS.apply(this,arguments)}function JX(t,e){return nQ(t)||tQ(t,e)||eQ(t,e)||ZX()}function ZX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eQ(t,e){if(t){if(typeof t=="string")return fj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fj(t,e)}}function fj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,c=[],f=!0,h=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function nQ(t){if(Array.isArray(t))return t}function hj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ow(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hj(Object(n),!0).forEach(function(r){rQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rQ(t,e,n){return e=iQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iQ(t){var e=aQ(t,"string");return Fh(e)=="symbol"?e:e+""}function aQ(t,e){if(Fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sQ(t){return Array.isArray(t)&&Jn(t[0])&&Jn(t[1])?t.join(" ~ "):t}var oQ=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,l=e.itemStyle,c=l===void 0?{}:l,f=e.labelStyle,h=f===void 0?{}:f,p=e.payload,m=e.formatter,v=e.itemSorter,_=e.wrapperClassName,E=e.labelClassName,S=e.label,w=e.labelFormatter,A=e.accessibilityLayer,I=A===void 0?!1:A,k=function(){if(p&&p.length){var $={padding:0,margin:0},L=(v?WT(p,v):p).map(function(Q,J){if(Q.type==="none")return null;var F=Ow({display:"block",paddingTop:4,paddingBottom:4,color:Q.color||"#000"},c),Y=Q.formatter||m||sQ,ee=Q.value,ue=Q.name,ve=ee,H=ue;if(Y&&ve!=null&&H!=null){var W=Y(ee,ue,Q,J,p);if(Array.isArray(W)){var oe=JX(W,2);ve=oe[0],H=oe[1]}else ve=W}return G.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(J),style:F},Jn(H)?G.createElement("span",{className:"recharts-tooltip-item-name"},H):null,Jn(H)?G.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,G.createElement("span",{className:"recharts-tooltip-item-value"},ve),G.createElement("span",{className:"recharts-tooltip-item-unit"},Q.unit||""))});return G.createElement("ul",{className:"recharts-tooltip-item-list",style:$},L)}return null},V=Ow({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),C=Ow({margin:0},h),j=!ct(S),O=j?S:"",P=bt("recharts-default-tooltip",_),R=bt("recharts-tooltip-label",E);j&&w&&p!==void 0&&p!==null&&(O=w(S,p));var B=I?{role:"status","aria-live":"assertive"}:{};return G.createElement("div",TS({className:P,style:V},B),G.createElement("p",{className:R,style:C},G.isValidElement(O)?O:"".concat(O)),k())};function Hh(t){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hh(t)}function mm(t,e,n){return e=lQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lQ(t){var e=uQ(t,"string");return Hh(e)=="symbol"?e:e+""}function uQ(t,e){if(Hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eh="recharts-tooltip-wrapper",cQ={visibility:"hidden"};function fQ(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return bt(eh,mm(mm(mm(mm({},"".concat(eh,"-right"),Ce(n)&&e&&Ce(e.x)&&n>=e.x),"".concat(eh,"-left"),Ce(n)&&e&&Ce(e.x)&&n<e.x),"".concat(eh,"-bottom"),Ce(r)&&e&&Ce(e.y)&&r>=e.y),"".concat(eh,"-top"),Ce(r)&&e&&Ce(e.y)&&r<e.y))}function dj(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,l=t.reverseDirection,c=t.tooltipDimension,f=t.viewBox,h=t.viewBoxDimension;if(s&&Ce(s[r]))return s[r];var p=n[r]-c-i,m=n[r]+i;if(e[r])return l[r]?p:m;if(l[r]){var v=p,_=f[r];return v<_?Math.max(m,f[r]):Math.max(p,f[r])}var E=m+c,S=f[r]+h;return E>S?Math.max(p,f[r]):Math.max(m,f[r])}function hQ(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function dQ(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,l=t.tooltipBox,c=t.useTranslate3d,f=t.viewBox,h,p,m;return l.height>0&&l.width>0&&n?(p=dj({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),m=dj({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),h=hQ({translateX:p,translateY:m,useTranslate3d:c})):h=cQ,{cssProperties:h,cssClasses:fQ({translateX:p,translateY:m,coordinate:n})}}function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function pj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pj(Object(n),!0).forEach(function(r){OS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C6(r.key),r)}}function gQ(t,e,n){return e&&mQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yQ(t,e,n){return e=mg(e),vQ(t,O6()?Reflect.construct(e,n||[],mg(t).constructor):e.apply(t,n))}function vQ(t,e){if(e&&(_c(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bQ(t)}function bQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O6=function(){return!!t})()}function mg(t){return mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mg(t)}function xQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AS(t,e)}function AS(t,e){return AS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AS(t,e)}function OS(t,e,n){return e=C6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C6(t){var e=_Q(t,"string");return _c(e)=="symbol"?e:e+""}function _Q(t,e){if(_c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gj=1,wQ=(function(t){function e(){var n;pQ(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=yQ(this,e,[].concat(i)),OS(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),OS(n,"handleKeyDown",function(l){if(l.key==="Escape"){var c,f,h,p;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(f=n.props.coordinate)===null||f===void 0?void 0:f.x)!==null&&c!==void 0?c:0,y:(h=(p=n.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&h!==void 0?h:0}})}}),n}return xQ(e,t),gQ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>gj||Math.abs(r.height-this.state.lastBoundingBox.height)>gj)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,l=i.allowEscapeViewBox,c=i.animationDuration,f=i.animationEasing,h=i.children,p=i.coordinate,m=i.hasPayload,v=i.isAnimationActive,_=i.offset,E=i.position,S=i.reverseDirection,w=i.useTranslate3d,A=i.viewBox,I=i.wrapperStyle,k=dQ({allowEscapeViewBox:l,coordinate:p,offsetTopLeft:_,position:E,reverseDirection:S,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:A}),V=k.cssClasses,C=k.cssProperties,j=mj(mj({transition:v&&s?"transform ".concat(c,"ms ").concat(f):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&m?"visible":"hidden",position:"absolute",top:0,left:0},I);return G.createElement("div",{tabIndex:-1,className:V,style:j,ref:function(P){r.wrapperNode=P}},h)}}])})(U.PureComponent),SQ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Kl={isSsr:SQ()};function wc(t){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc(t)}function yj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yj(Object(n),!0).forEach(function(r){YT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k6(r.key),r)}}function AQ(t,e,n){return e&&TQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function OQ(t,e,n){return e=gg(e),CQ(t,I6()?Reflect.construct(e,n||[],gg(t).constructor):e.apply(t,n))}function CQ(t,e){if(e&&(wc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IQ(t)}function IQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I6=function(){return!!t})()}function gg(t){return gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gg(t)}function kQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CS(t,e)}function CS(t,e){return CS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},CS(t,e)}function YT(t,e,n){return e=k6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k6(t){var e=PQ(t,"string");return wc(e)=="symbol"?e:e+""}function PQ(t,e){if(wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function NQ(t){return t.dataKey}function RQ(t,e){return G.isValidElement(t)?G.cloneElement(t,e):typeof t=="function"?G.createElement(t,e):G.createElement(oQ,e)}var Yi=(function(t){function e(){return EQ(this,e),OQ(this,e,arguments)}return kQ(e,t),AQ(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,l=i.allowEscapeViewBox,c=i.animationDuration,f=i.animationEasing,h=i.content,p=i.coordinate,m=i.filterNull,v=i.isAnimationActive,_=i.offset,E=i.payload,S=i.payloadUniqBy,w=i.position,A=i.reverseDirection,I=i.useTranslate3d,k=i.viewBox,V=i.wrapperStyle,C=E??[];m&&C.length&&(C=x6(E.filter(function(O){return O.value!=null&&(O.hide!==!0||r.props.includeHidden)}),S,NQ));var j=C.length>0;return G.createElement(wQ,{allowEscapeViewBox:l,animationDuration:c,animationEasing:f,isAnimationActive:v,active:s,coordinate:p,hasPayload:j,offset:_,position:w,reverseDirection:A,useTranslate3d:I,viewBox:k,wrapperStyle:V},RQ(h,vj(vj({},this.props),{},{payload:C})))}}])})(U.PureComponent);YT(Yi,"displayName","Tooltip");YT(Yi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Kl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Cw,bj;function jQ(){if(bj)return Cw;bj=1;var t=Ra(),e=function(){return t.Date.now()};return Cw=e,Cw}var Iw,xj;function MQ(){if(xj)return Iw;xj=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return Iw=e,Iw}var kw,_j;function DQ(){if(_j)return kw;_j=1;var t=MQ(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return kw=n,kw}var Pw,wj;function P6(){if(wj)return Pw;wj=1;var t=DQ(),e=ko(),n=Qc(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;function f(h){if(typeof h=="number")return h;if(n(h))return r;if(e(h)){var p=typeof h.valueOf=="function"?h.valueOf():h;h=e(p)?p+"":p}if(typeof h!="string")return h===0?h:+h;h=t(h);var m=s.test(h);return m||l.test(h)?c(h.slice(2),m?2:8):i.test(h)?r:+h}return Pw=f,Pw}var Nw,Sj;function LQ(){if(Sj)return Nw;Sj=1;var t=ko(),e=jQ(),n=P6(),r="Expected a function",i=Math.max,s=Math.min;function l(c,f,h){var p,m,v,_,E,S,w=0,A=!1,I=!1,k=!0;if(typeof c!="function")throw new TypeError(r);f=n(f)||0,t(h)&&(A=!!h.leading,I="maxWait"in h,v=I?i(n(h.maxWait)||0,f):v,k="trailing"in h?!!h.trailing:k);function V(L){var Q=p,J=m;return p=m=void 0,w=L,_=c.apply(J,Q),_}function C(L){return w=L,E=setTimeout(P,f),A?V(L):_}function j(L){var Q=L-S,J=L-w,F=f-Q;return I?s(F,v-J):F}function O(L){var Q=L-S,J=L-w;return S===void 0||Q>=f||Q<0||I&&J>=v}function P(){var L=e();if(O(L))return R(L);E=setTimeout(P,j(L))}function R(L){return E=void 0,k&&p?V(L):(p=m=void 0,_)}function B(){E!==void 0&&clearTimeout(E),w=0,p=S=m=E=void 0}function D(){return E===void 0?_:R(e())}function $(){var L=e(),Q=O(L);if(p=arguments,m=this,S=L,Q){if(E===void 0)return C(S);if(I)return clearTimeout(E),E=setTimeout(P,f),V(S)}return E===void 0&&(E=setTimeout(P,f)),_}return $.cancel=B,$.flush=D,$}return Nw=l,Nw}var Rw,Ej;function VQ(){if(Ej)return Rw;Ej=1;var t=LQ(),e=ko(),n="Expected a function";function r(i,s,l){var c=!0,f=!0;if(typeof i!="function")throw new TypeError(n);return e(l)&&(c="leading"in l?!!l.leading:c,f="trailing"in l?!!l.trailing:f),t(i,s,{leading:c,maxWait:s,trailing:f})}return Rw=r,Rw}var $Q=VQ();const N6=Gt($Q);function Gh(t){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gh(t)}function Tj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Tj(Object(n),!0).forEach(function(r){UQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UQ(t,e,n){return e=BQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BQ(t){var e=qQ(t,"string");return Gh(e)=="symbol"?e:e+""}function qQ(t,e){if(Gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zQ(t,e){return KQ(t)||GQ(t,e)||HQ(t,e)||FQ()}function FQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HQ(t,e){if(t){if(typeof t=="string")return Aj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Aj(t,e)}}function Aj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function GQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,c=[],f=!0,h=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function KQ(t){if(Array.isArray(t))return t}var R6=U.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,l=s===void 0?"100%":s,c=t.height,f=c===void 0?"100%":c,h=t.minWidth,p=h===void 0?0:h,m=t.minHeight,v=t.maxHeight,_=t.children,E=t.debounce,S=E===void 0?0:E,w=t.id,A=t.className,I=t.onResize,k=t.style,V=k===void 0?{}:k,C=U.useRef(null),j=U.useRef();j.current=I,U.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var O=U.useState({containerWidth:i.width,containerHeight:i.height}),P=zQ(O,2),R=P[0],B=P[1],D=U.useCallback(function(L,Q){B(function(J){var F=Math.round(L),Y=Math.round(Q);return J.containerWidth===F&&J.containerHeight===Y?J:{containerWidth:F,containerHeight:Y}})},[]);U.useEffect(function(){var L=function(ue){var ve,H=ue[0].contentRect,W=H.width,oe=H.height;D(W,oe),(ve=j.current)===null||ve===void 0||ve.call(j,W,oe)};S>0&&(L=N6(L,S,{trailing:!0,leading:!1}));var Q=new ResizeObserver(L),J=C.current.getBoundingClientRect(),F=J.width,Y=J.height;return D(F,Y),Q.observe(C.current),function(){Q.disconnect()}},[D,S]);var $=U.useMemo(function(){var L=R.containerWidth,Q=R.containerHeight;if(L<0||Q<0)return null;na(Sl(l)||Sl(f),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,f),na(!n||n>0,"The aspect(%s) must be greater than zero.",n);var J=Sl(l)?L:l,F=Sl(f)?Q:f;n&&n>0&&(J?F=J/n:F&&(J=F*n),v&&F>v&&(F=v)),na(J>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,J,F,l,f,p,m,n);var Y=!Array.isArray(_)&&fs(_.type).endsWith("Chart");return G.Children.map(_,function(ee){return G.isValidElement(ee)?U.cloneElement(ee,gm({width:J,height:F},Y?{style:gm({height:"100%",width:"100%",maxHeight:F,maxWidth:J},ee.props.style)}:{})):ee})},[n,_,f,v,m,p,R,l]);return G.createElement("div",{id:w?"".concat(w):void 0,className:bt("recharts-responsive-container",A),style:gm(gm({},V),{},{width:l,height:f,minWidth:p,minHeight:m,maxHeight:v}),ref:C},$)}),qy=function(e){return null};qy.displayName="Cell";function Kh(t){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kh(t)}function Oj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Oj(Object(n),!0).forEach(function(r){WQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WQ(t,e,n){return e=YQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YQ(t){var e=XQ(t,"string");return Kh(e)=="symbol"?e:e+""}function XQ(t,e){if(Kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uu={widthCache:{},cacheCount:0},QQ=2e3,JQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Cj="recharts_measurement_span";function ZQ(t){var e=IS({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Oh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Kl.isSsr)return{width:0,height:0};var r=ZQ(n),i=JSON.stringify({text:e,copyStyle:r});if(Uu.widthCache[i])return Uu.widthCache[i];try{var s=document.getElementById(Cj);s||(s=document.createElement("span"),s.setAttribute("id",Cj),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var l=IS(IS({},JQ),r);Object.assign(s.style,l),s.textContent="".concat(e);var c=s.getBoundingClientRect(),f={width:c.width,height:c.height};return Uu.widthCache[i]=f,++Uu.cacheCount>QQ&&(Uu.cacheCount=0,Uu.widthCache={}),f}catch{return{width:0,height:0}}},eJ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Wh(t){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wh(t)}function yg(t,e){return iJ(t)||rJ(t,e)||nJ(t,e)||tJ()}function tJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nJ(t,e){if(t){if(typeof t=="string")return Ij(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ij(t,e)}}function Ij(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,c=[],f=!0,h=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function iJ(t){if(Array.isArray(t))return t}function aJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oJ(r.key),r)}}function sJ(t,e,n){return e&&kj(t.prototype,e),n&&kj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function oJ(t){var e=lJ(t,"string");return Wh(e)=="symbol"?e:e+""}function lJ(t,e){if(Wh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Pj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Nj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,cJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,j6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},fJ=Object.keys(j6),Xu="NaN";function hJ(t,e){return t*j6[e]}var ym=(function(){function t(e,n){aJ(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!uJ.test(n)&&(this.num=NaN,this.unit=""),fJ.includes(n)&&(this.num=hJ(e,n),this.unit="px")}return sJ(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=cJ.exec(n))!==null&&r!==void 0?r:[],s=yg(i,3),l=s[1],c=s[2];return new t(parseFloat(l),c??"")}}])})();function M6(t){if(t.includes(Xu))return Xu;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=Pj.exec(e))!==null&&n!==void 0?n:[],i=yg(r,4),s=i[1],l=i[2],c=i[3],f=ym.parse(s??""),h=ym.parse(c??""),p=l==="*"?f.multiply(h):f.divide(h);if(p.isNaN())return Xu;e=e.replace(Pj,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,v=(m=Nj.exec(e))!==null&&m!==void 0?m:[],_=yg(v,4),E=_[1],S=_[2],w=_[3],A=ym.parse(E??""),I=ym.parse(w??""),k=S==="+"?A.add(I):A.subtract(I);if(k.isNaN())return Xu;e=e.replace(Nj,k.toString())}return e}var Rj=/\(([^()]*)\)/;function dJ(t){for(var e=t;e.includes("(");){var n=Rj.exec(e),r=yg(n,2),i=r[1];e=e.replace(Rj,M6(i))}return e}function pJ(t){var e=t.replace(/\s+/g,"");return e=dJ(e),e=M6(e),e}function mJ(t){try{return pJ(t)}catch{return Xu}}function jw(t){var e=mJ(t.slice(5,-1));return e===Xu?"":e}var gJ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],yJ=["dx","dy","angle","className","breakAll"];function kS(){return kS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kS.apply(this,arguments)}function jj(t,e){if(t==null)return{};var n=vJ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Mj(t,e){return wJ(t)||_J(t,e)||xJ(t,e)||bJ()}function bJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xJ(t,e){if(t){if(typeof t=="string")return Dj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dj(t,e)}}function Dj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _J(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,c=[],f=!0,h=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function wJ(t){if(Array.isArray(t))return t}var D6=/[ \f\n\r\t\v\u2028\u2029]+/,L6=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];ct(n)||(r?s=n.toString().split(""):s=n.toString().split(D6));var l=s.map(function(f){return{word:f,width:Oh(f,i).width}}),c=r?0:Oh("",i).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}},SJ=function(e,n,r,i,s){var l=e.maxLines,c=e.children,f=e.style,h=e.breakAll,p=Ce(l),m=c,v=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return J.reduce(function(F,Y){var ee=Y.word,ue=Y.width,ve=F[F.length-1];if(ve&&(i==null||s||ve.width+ue+r<Number(i)))ve.words.push(ee),ve.width+=ue+r;else{var H={words:[ee],width:ue};F.push(H)}return F},[])},_=v(n),E=function(J){return J.reduce(function(F,Y){return F.width>Y.width?F:Y})};if(!p)return _;for(var S="",w=function(J){var F=m.slice(0,J),Y=L6({breakAll:h,style:f,children:F+S}).wordsWithComputedWidth,ee=v(Y),ue=ee.length>l||E(ee).width>Number(i);return[ue,ee]},A=0,I=m.length-1,k=0,V;A<=I&&k<=m.length-1;){var C=Math.floor((A+I)/2),j=C-1,O=w(j),P=Mj(O,2),R=P[0],B=P[1],D=w(C),$=Mj(D,1),L=$[0];if(!R&&!L&&(A=C+1),R&&L&&(I=C-1),!R&&L){V=B;break}k++}return V||_},Lj=function(e){var n=ct(e)?[]:e.toString().split(D6);return[{words:n}]},EJ=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,l=e.breakAll,c=e.maxLines;if((n||r)&&!Kl.isSsr){var f,h,p=L6({breakAll:l,children:i,style:s});if(p){var m=p.wordsWithComputedWidth,v=p.spaceWidth;f=m,h=v}else return Lj(i);return SJ({breakAll:l,children:i,maxLines:c,style:s},f,h,n,r)}return Lj(i)},Vj="#808080",$l=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,l=e.lineHeight,c=l===void 0?"1em":l,f=e.capHeight,h=f===void 0?"0.71em":f,p=e.scaleToFit,m=p===void 0?!1:p,v=e.textAnchor,_=v===void 0?"start":v,E=e.verticalAnchor,S=E===void 0?"end":E,w=e.fill,A=w===void 0?Vj:w,I=jj(e,gJ),k=U.useMemo(function(){return EJ({breakAll:I.breakAll,children:I.children,maxLines:I.maxLines,scaleToFit:m,style:I.style,width:I.width})},[I.breakAll,I.children,I.maxLines,m,I.style,I.width]),V=I.dx,C=I.dy,j=I.angle,O=I.className,P=I.breakAll,R=jj(I,yJ);if(!Jn(r)||!Jn(s))return null;var B=r+(Ce(V)?V:0),D=s+(Ce(C)?C:0),$;switch(S){case"start":$=jw("calc(".concat(h,")"));break;case"middle":$=jw("calc(".concat((k.length-1)/2," * -").concat(c," + (").concat(h," / 2))"));break;default:$=jw("calc(".concat(k.length-1," * -").concat(c,")"));break}var L=[];if(m){var Q=k[0].width,J=I.width;L.push("scale(".concat((Ce(J)?J/Q:1)/Q,")"))}return j&&L.push("rotate(".concat(j,", ").concat(B,", ").concat(D,")")),L.length&&(R.transform=L.join(" ")),G.createElement("text",kS({},Je(R,!0),{x:B,y:D,className:bt("recharts-text",O),textAnchor:_,fill:A.includes("url")?Vj:A}),k.map(function(F,Y){var ee=F.words.join(P?"":" ");return G.createElement("tspan",{x:B,dy:Y===0?$:c,key:"".concat(ee,"-").concat(Y)},ee)}))};function xo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function TJ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function XT(t){let e,n,r;t.length!==2?(e=xo,n=(c,f)=>xo(t(c),f),r=(c,f)=>t(c)-f):(e=t===xo||t===TJ?t:AJ,n=t,r=t);function i(c,f,h=0,p=c.length){if(h<p){if(e(f,f)!==0)return p;do{const m=h+p>>>1;n(c[m],f)<0?h=m+1:p=m}while(h<p)}return h}function s(c,f,h=0,p=c.length){if(h<p){if(e(f,f)!==0)return p;do{const m=h+p>>>1;n(c[m],f)<=0?h=m+1:p=m}while(h<p)}return h}function l(c,f,h=0,p=c.length){const m=i(c,f,h,p-1);return m>h&&r(c[m-1],f)>-r(c[m],f)?m-1:m}return{left:i,center:l,right:s}}function AJ(){return 0}function V6(t){return t===null?NaN:+t}function*OJ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const CJ=XT(xo),Vd=CJ.right;XT(V6).center;class $j extends Map{constructor(e,n=PJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Uj(this,e))}has(e){return super.has(Uj(this,e))}set(e,n){return super.set(IJ(this,e),n)}delete(e){return super.delete(kJ(this,e))}}function Uj({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function IJ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function kJ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function PJ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function NJ(t=xo){if(t===xo)return $6;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function $6(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const RJ=Math.sqrt(50),jJ=Math.sqrt(10),MJ=Math.sqrt(2);function vg(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),l=s>=RJ?10:s>=jJ?5:s>=MJ?2:1;let c,f,h;return i<0?(h=Math.pow(10,-i)/l,c=Math.round(t*h),f=Math.round(e*h),c/h<t&&++c,f/h>e&&--f,h=-h):(h=Math.pow(10,i)*l,c=Math.round(t/h),f=Math.round(e/h),c*h<t&&++c,f*h>e&&--f),f<c&&.5<=n&&n<2?vg(t,e,n*2):[c,f,h]}function PS(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,l]=r?vg(e,t,n):vg(t,e,n);if(!(s>=i))return[];const c=s-i+1,f=new Array(c);if(r)if(l<0)for(let h=0;h<c;++h)f[h]=(s-h)/-l;else for(let h=0;h<c;++h)f[h]=(s-h)*l;else if(l<0)for(let h=0;h<c;++h)f[h]=(i+h)/-l;else for(let h=0;h<c;++h)f[h]=(i+h)*l;return f}function NS(t,e,n){return e=+e,t=+t,n=+n,vg(t,e,n)[2]}function RS(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?NS(e,t,n):NS(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Bj(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function qj(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function U6(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?$6:NJ(i);r>n;){if(r-n>600){const f=r-n+1,h=e-n+1,p=Math.log(f),m=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*m*(f-m)/f)*(h-f/2<0?-1:1),_=Math.max(n,Math.floor(e-h*m/f+v)),E=Math.min(r,Math.floor(e+(f-h)*m/f+v));U6(t,e,_,E,i)}const s=t[e];let l=n,c=r;for(th(t,n,e),i(t[r],s)>0&&th(t,n,r);l<c;){for(th(t,l,c),++l,--c;i(t[l],s)<0;)++l;for(;i(t[c],s)>0;)--c}i(t[n],s)===0?th(t,n,c):(++c,th(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function th(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function DJ(t,e,n){if(t=Float64Array.from(OJ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return qj(t);if(e>=1)return Bj(t);var r,i=(r-1)*e,s=Math.floor(i),l=Bj(U6(t,s).subarray(0,s+1)),c=qj(t.subarray(s+1));return l+(c-l)*(i-s)}}function LJ(t,e,n=V6){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),l=+n(t[s],s,t),c=+n(t[s+1],s+1,t);return l+(c-l)*(i-s)}}function VJ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Di(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Es(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const jS=Symbol("implicit");function QT(){var t=new $j,e=[],n=[],r=jS;function i(s){let l=t.get(s);if(l===void 0){if(r!==jS)return r;t.set(s,l=e.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new $j;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return QT(e,n).unknown(r)},Di.apply(i,arguments),i}function Yh(){var t=QT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,l,c=!1,f=0,h=0,p=.5;delete t.unknown;function m(){var v=e().length,_=i<r,E=_?i:r,S=_?r:i;s=(S-E)/Math.max(1,v-f+h*2),c&&(s=Math.floor(s)),E+=(S-E-s*(v-f))*p,l=s*(1-f),c&&(E=Math.round(E),l=Math.round(l));var w=VJ(v).map(function(A){return E+s*A});return n(_?w.reverse():w)}return t.domain=function(v){return arguments.length?(e(v),m()):e()},t.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,c=!0,m()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(v){return arguments.length?(c=!!v,m()):c},t.padding=function(v){return arguments.length?(f=Math.min(1,h=+v),m()):f},t.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),m()):f},t.paddingOuter=function(v){return arguments.length?(h=+v,m()):h},t.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),m()):p},t.copy=function(){return Yh(e(),[r,i]).round(c).paddingInner(f).paddingOuter(h).align(p)},Di.apply(m(),arguments)}function B6(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return B6(e())},t}function Ch(){return B6(Yh.apply(null,arguments).paddingInner(1))}function JT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function q6(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function $d(){}var Xh=.7,bg=1/Xh,oc="\\s*([+-]?\\d+)\\s*",Qh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Aa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$J=/^#([0-9a-f]{3,8})$/,UJ=new RegExp(`^rgb\\(${oc},${oc},${oc}\\)$`),BJ=new RegExp(`^rgb\\(${Aa},${Aa},${Aa}\\)$`),qJ=new RegExp(`^rgba\\(${oc},${oc},${oc},${Qh}\\)$`),zJ=new RegExp(`^rgba\\(${Aa},${Aa},${Aa},${Qh}\\)$`),FJ=new RegExp(`^hsl\\(${Qh},${Aa},${Aa}\\)$`),HJ=new RegExp(`^hsla\\(${Qh},${Aa},${Aa},${Qh}\\)$`),zj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};JT($d,Jh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Fj,formatHex:Fj,formatHex8:GJ,formatHsl:KJ,formatRgb:Hj,toString:Hj});function Fj(){return this.rgb().formatHex()}function GJ(){return this.rgb().formatHex8()}function KJ(){return z6(this).formatHsl()}function Hj(){return this.rgb().formatRgb()}function Jh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=$J.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Gj(e):n===3?new Kr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?vm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?vm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=UJ.exec(t))?new Kr(e[1],e[2],e[3],1):(e=BJ.exec(t))?new Kr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=qJ.exec(t))?vm(e[1],e[2],e[3],e[4]):(e=zJ.exec(t))?vm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=FJ.exec(t))?Yj(e[1],e[2]/100,e[3]/100,1):(e=HJ.exec(t))?Yj(e[1],e[2]/100,e[3]/100,e[4]):zj.hasOwnProperty(t)?Gj(zj[t]):t==="transparent"?new Kr(NaN,NaN,NaN,0):null}function Gj(t){return new Kr(t>>16&255,t>>8&255,t&255,1)}function vm(t,e,n,r){return r<=0&&(t=e=n=NaN),new Kr(t,e,n,r)}function WJ(t){return t instanceof $d||(t=Jh(t)),t?(t=t.rgb(),new Kr(t.r,t.g,t.b,t.opacity)):new Kr}function MS(t,e,n,r){return arguments.length===1?WJ(t):new Kr(t,e,n,r??1)}function Kr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}JT(Kr,MS,q6($d,{brighter(t){return t=t==null?bg:Math.pow(bg,t),new Kr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Xh:Math.pow(Xh,t),new Kr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Kr(Il(this.r),Il(this.g),Il(this.b),xg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Kj,formatHex:Kj,formatHex8:YJ,formatRgb:Wj,toString:Wj}));function Kj(){return`#${El(this.r)}${El(this.g)}${El(this.b)}`}function YJ(){return`#${El(this.r)}${El(this.g)}${El(this.b)}${El((isNaN(this.opacity)?1:this.opacity)*255)}`}function Wj(){const t=xg(this.opacity);return`${t===1?"rgb(":"rgba("}${Il(this.r)}, ${Il(this.g)}, ${Il(this.b)}${t===1?")":`, ${t})`}`}function xg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Il(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function El(t){return t=Il(t),(t<16?"0":"")+t.toString(16)}function Yj(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Zi(t,e,n,r)}function z6(t){if(t instanceof Zi)return new Zi(t.h,t.s,t.l,t.opacity);if(t instanceof $d||(t=Jh(t)),!t)return new Zi;if(t instanceof Zi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,c=s-i,f=(s+i)/2;return c?(e===s?l=(n-r)/c+(n<r)*6:n===s?l=(r-e)/c+2:l=(e-n)/c+4,c/=f<.5?s+i:2-s-i,l*=60):c=f>0&&f<1?0:l,new Zi(l,c,f,t.opacity)}function XJ(t,e,n,r){return arguments.length===1?z6(t):new Zi(t,e,n,r??1)}function Zi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}JT(Zi,XJ,q6($d,{brighter(t){return t=t==null?bg:Math.pow(bg,t),new Zi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Xh:Math.pow(Xh,t),new Zi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Kr(Mw(t>=240?t-240:t+120,i,r),Mw(t,i,r),Mw(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Zi(Xj(this.h),bm(this.s),bm(this.l),xg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=xg(this.opacity);return`${t===1?"hsl(":"hsla("}${Xj(this.h)}, ${bm(this.s)*100}%, ${bm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Xj(t){return t=(t||0)%360,t<0?t+360:t}function bm(t){return Math.max(0,Math.min(1,t||0))}function Mw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ZT=t=>()=>t;function QJ(t,e){return function(n){return t+n*e}}function JJ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function ZJ(t){return(t=+t)==1?F6:function(e,n){return n-e?JJ(e,n,t):ZT(isNaN(e)?n:e)}}function F6(t,e){var n=e-t;return n?QJ(t,n):ZT(isNaN(t)?e:t)}const Qj=(function t(e){var n=ZJ(e);function r(i,s){var l=n((i=MS(i)).r,(s=MS(s)).r),c=n(i.g,s.g),f=n(i.b,s.b),h=F6(i.opacity,s.opacity);return function(p){return i.r=l(p),i.g=c(p),i.b=f(p),i.opacity=h(p),i+""}}return r.gamma=t,r})(1);function eZ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function tZ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function nZ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=tf(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(c){for(l=0;l<r;++l)s[l]=i[l](c);return s}}function rZ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function _g(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function iZ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=tf(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var DS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Dw=new RegExp(DS.source,"g");function aZ(t){return function(){return t}}function sZ(t){return function(e){return t(e)+""}}function oZ(t,e){var n=DS.lastIndex=Dw.lastIndex=0,r,i,s,l=-1,c=[],f=[];for(t=t+"",e=e+"";(r=DS.exec(t))&&(i=Dw.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),c[l]?c[l]+=s:c[++l]=s),(r=r[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,f.push({i:l,x:_g(r,i)})),n=Dw.lastIndex;return n<e.length&&(s=e.slice(n),c[l]?c[l]+=s:c[++l]=s),c.length<2?f[0]?sZ(f[0].x):aZ(e):(e=f.length,function(h){for(var p=0,m;p<e;++p)c[(m=f[p]).i]=m.x(h);return c.join("")})}function tf(t,e){var n=typeof e,r;return e==null||n==="boolean"?ZT(e):(n==="number"?_g:n==="string"?(r=Jh(e))?(e=r,Qj):oZ:e instanceof Jh?Qj:e instanceof Date?rZ:tZ(e)?eZ:Array.isArray(e)?nZ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?iZ:_g)(t,e)}function eA(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function lZ(t,e){e===void 0&&(e=t,t=tf);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(l){var c=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[c](l-c)}}function uZ(t){return function(){return t}}function wg(t){return+t}var Jj=[0,1];function Lr(t){return t}function LS(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:uZ(isNaN(e)?NaN:.5)}function cZ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function fZ(t,e,n){var r=t[0],i=t[1],s=e[0],l=e[1];return i<r?(r=LS(i,r),s=n(l,s)):(r=LS(r,i),s=n(s,l)),function(c){return s(r(c))}}function hZ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=LS(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(c){var f=Vd(t,c,1,r)-1;return s[f](i[f](c))}}function Ud(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function zy(){var t=Jj,e=Jj,n=tf,r,i,s,l=Lr,c,f,h;function p(){var v=Math.min(t.length,e.length);return l!==Lr&&(l=cZ(t[0],t[v-1])),c=v>2?hZ:fZ,f=h=null,m}function m(v){return v==null||isNaN(v=+v)?s:(f||(f=c(t.map(r),e,n)))(r(l(v)))}return m.invert=function(v){return l(i((h||(h=c(e,t.map(r),_g)))(v)))},m.domain=function(v){return arguments.length?(t=Array.from(v,wg),p()):t.slice()},m.range=function(v){return arguments.length?(e=Array.from(v),p()):e.slice()},m.rangeRound=function(v){return e=Array.from(v),n=eA,p()},m.clamp=function(v){return arguments.length?(l=v?!0:Lr,p()):l!==Lr},m.interpolate=function(v){return arguments.length?(n=v,p()):n},m.unknown=function(v){return arguments.length?(s=v,m):s},function(v,_){return r=v,i=_,p()}}function tA(){return zy()(Lr,Lr)}function dZ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Sg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Sc(t){return t=Sg(Math.abs(t)),t?t[1]:NaN}function pZ(t,e){return function(n,r){for(var i=n.length,s=[],l=0,c=t[0],f=0;i>0&&c>0&&(f+c+1>r&&(c=Math.max(1,r-f)),s.push(n.substring(i-=c,i+c)),!((f+=c+1)>r));)c=t[l=(l+1)%t.length];return s.reverse().join(e)}}function mZ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var gZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zh(t){if(!(e=gZ.exec(t)))throw new Error("invalid format: "+t);var e;return new nA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Zh.prototype=nA.prototype;function nA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}nA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function yZ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var H6;function vZ(t,e){var n=Sg(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(H6=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Sg(t,Math.max(0,e+s-1))[0]}function Zj(t,e){var n=Sg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const eM={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:dZ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Zj(t*100,e),r:Zj,s:vZ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function tM(t){return t}var nM=Array.prototype.map,rM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function bZ(t){var e=t.grouping===void 0||t.thousands===void 0?tM:pZ(nM.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?tM:mZ(nM.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(m){m=Zh(m);var v=m.fill,_=m.align,E=m.sign,S=m.symbol,w=m.zero,A=m.width,I=m.comma,k=m.precision,V=m.trim,C=m.type;C==="n"?(I=!0,C="g"):eM[C]||(k===void 0&&(k=12),V=!0,C="g"),(w||v==="0"&&_==="=")&&(w=!0,v="0",_="=");var j=S==="$"?n:S==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",O=S==="$"?r:/[%p]/.test(C)?l:"",P=eM[C],R=/[defgprs%]/.test(C);k=k===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function B(D){var $=j,L=O,Q,J,F;if(C==="c")L=P(D)+L,D="";else{D=+D;var Y=D<0||1/D<0;if(D=isNaN(D)?f:P(Math.abs(D),k),V&&(D=yZ(D)),Y&&+D==0&&E!=="+"&&(Y=!1),$=(Y?E==="("?E:c:E==="-"||E==="("?"":E)+$,L=(C==="s"?rM[8+H6/3]:"")+L+(Y&&E==="("?")":""),R){for(Q=-1,J=D.length;++Q<J;)if(F=D.charCodeAt(Q),48>F||F>57){L=(F===46?i+D.slice(Q+1):D.slice(Q))+L,D=D.slice(0,Q);break}}}I&&!w&&(D=e(D,1/0));var ee=$.length+D.length+L.length,ue=ee<A?new Array(A-ee+1).join(v):"";switch(I&&w&&(D=e(ue+D,ue.length?A-L.length:1/0),ue=""),_){case"<":D=$+D+L+ue;break;case"=":D=$+ue+D+L;break;case"^":D=ue.slice(0,ee=ue.length>>1)+$+D+L+ue.slice(ee);break;default:D=ue+$+D+L;break}return s(D)}return B.toString=function(){return m+""},B}function p(m,v){var _=h((m=Zh(m),m.type="f",m)),E=Math.max(-8,Math.min(8,Math.floor(Sc(v)/3)))*3,S=Math.pow(10,-E),w=rM[8+E/3];return function(A){return _(S*A)+w}}return{format:h,formatPrefix:p}}var xm,rA,G6;xZ({thousands:",",grouping:[3],currency:["$",""]});function xZ(t){return xm=bZ(t),rA=xm.format,G6=xm.formatPrefix,xm}function _Z(t){return Math.max(0,-Sc(Math.abs(t)))}function wZ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Sc(e)/3)))*3-Sc(Math.abs(t)))}function SZ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Sc(e)-Sc(t))+1}function K6(t,e,n,r){var i=RS(t,e,n),s;switch(r=Zh(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=wZ(i,l))&&(r.precision=s),G6(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=SZ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=_Z(i))&&(r.precision=s-(r.type==="%")*2);break}}return rA(r)}function Po(t){var e=t.domain;return t.ticks=function(n){var r=e();return PS(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return K6(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,l=r[i],c=r[s],f,h,p=10;for(c<l&&(h=l,l=c,c=h,h=i,i=s,s=h);p-- >0;){if(h=NS(l,c,n),h===f)return r[i]=l,r[s]=c,e(r);if(h>0)l=Math.floor(l/h)*h,c=Math.ceil(c/h)*h;else if(h<0)l=Math.ceil(l*h)/h,c=Math.floor(c*h)/h;else break;f=h}return t},t}function Eg(){var t=tA();return t.copy=function(){return Ud(t,Eg())},Di.apply(t,arguments),Po(t)}function W6(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,wg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return W6(t).unknown(e)},t=arguments.length?Array.from(t,wg):[0,1],Po(n)}function Y6(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],l;return s<i&&(l=n,n=r,r=l,l=i,i=s,s=l),t[n]=e.floor(i),t[r]=e.ceil(s),t}function iM(t){return Math.log(t)}function aM(t){return Math.exp(t)}function EZ(t){return-Math.log(-t)}function TZ(t){return-Math.exp(-t)}function AZ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function OZ(t){return t===10?AZ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function CZ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function sM(t){return(e,n)=>-t(-e,n)}function iA(t){const e=t(iM,aM),n=e.domain;let r=10,i,s;function l(){return i=CZ(r),s=OZ(r),n()[0]<0?(i=sM(i),s=sM(s),t(EZ,TZ)):t(iM,aM),e}return e.base=function(c){return arguments.length?(r=+c,l()):r},e.domain=function(c){return arguments.length?(n(c),l()):n()},e.ticks=c=>{const f=n();let h=f[0],p=f[f.length-1];const m=p<h;m&&([h,p]=[p,h]);let v=i(h),_=i(p),E,S;const w=c==null?10:+c;let A=[];if(!(r%1)&&_-v<w){if(v=Math.floor(v),_=Math.ceil(_),h>0){for(;v<=_;++v)for(E=1;E<r;++E)if(S=v<0?E/s(-v):E*s(v),!(S<h)){if(S>p)break;A.push(S)}}else for(;v<=_;++v)for(E=r-1;E>=1;--E)if(S=v>0?E/s(-v):E*s(v),!(S<h)){if(S>p)break;A.push(S)}A.length*2<w&&(A=PS(h,p,w))}else A=PS(v,_,Math.min(_-v,w)).map(s);return m?A.reverse():A},e.tickFormat=(c,f)=>{if(c==null&&(c=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Zh(f)).precision==null&&(f.trim=!0),f=rA(f)),c===1/0)return f;const h=Math.max(1,r*c/e.ticks().length);return p=>{let m=p/s(Math.round(i(p)));return m*r<r-.5&&(m*=r),m<=h?f(p):""}},e.nice=()=>n(Y6(n(),{floor:c=>s(Math.floor(i(c))),ceil:c=>s(Math.ceil(i(c)))})),e}function X6(){const t=iA(zy()).domain([1,10]);return t.copy=()=>Ud(t,X6()).base(t.base()),Di.apply(t,arguments),t}function oM(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function lM(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function aA(t){var e=1,n=t(oM(e),lM(e));return n.constant=function(r){return arguments.length?t(oM(e=+r),lM(e)):e},Po(n)}function Q6(){var t=aA(zy());return t.copy=function(){return Ud(t,Q6()).constant(t.constant())},Di.apply(t,arguments)}function uM(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function IZ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function kZ(t){return t<0?-t*t:t*t}function sA(t){var e=t(Lr,Lr),n=1;function r(){return n===1?t(Lr,Lr):n===.5?t(IZ,kZ):t(uM(n),uM(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Po(e)}function oA(){var t=sA(zy());return t.copy=function(){return Ud(t,oA()).exponent(t.exponent())},Di.apply(t,arguments),t}function PZ(){return oA.apply(null,arguments).exponent(.5)}function cM(t){return Math.sign(t)*t*t}function NZ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function J6(){var t=tA(),e=[0,1],n=!1,r;function i(s){var l=NZ(t(s));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(s){return t.invert(cM(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,wg)).map(cM)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return J6(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Di.apply(i,arguments),Po(i)}function Z6(){var t=[],e=[],n=[],r;function i(){var l=0,c=Math.max(1,e.length);for(n=new Array(c-1);++l<c;)n[l-1]=LJ(t,l/c);return s}function s(l){return l==null||isNaN(l=+l)?r:e[Vd(n,l)]}return s.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(xo),i()},s.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return Z6().domain(t).range(e).unknown(r)},Di.apply(s,arguments)}function eV(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function l(f){return f!=null&&f<=f?i[Vd(r,f,0,n)]:s}function c(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return l}return l.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,c()):[t,e]},l.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,c()):i.slice()},l.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},l.unknown=function(f){return arguments.length&&(s=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return eV().domain([t,e]).range(i).unknown(s)},Di.apply(Po(l),arguments)}function tV(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Vd(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return tV().domain(t).range(e).unknown(n)},Di.apply(i,arguments)}const Lw=new Date,Vw=new Date;function er(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const l=i(s),c=i.ceil(s);return s-l<c-s?l:c},i.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,c)=>{const f=[];if(s=i.ceil(s),c=c==null?1:Math.floor(c),!(s<l)||!(c>0))return f;let h;do f.push(h=new Date(+s)),e(s,c),t(s);while(h<s&&s<l);return f},i.filter=s=>er(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!s(l););else for(;--c>=0;)for(;e(l,1),!s(l););}),n&&(i.count=(s,l)=>(Lw.setTime(+s),Vw.setTime(+l),t(Lw),t(Vw),Math.floor(n(Lw,Vw))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?l=>r(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const Tg=er(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Tg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?er(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Tg);Tg.range;const ls=1e3,ji=ls*60,us=ji*60,vs=us*24,lA=vs*7,fM=vs*30,$w=vs*365,Tl=er(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ls)},(t,e)=>(e-t)/ls,t=>t.getUTCSeconds());Tl.range;const uA=er(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ls)},(t,e)=>{t.setTime(+t+e*ji)},(t,e)=>(e-t)/ji,t=>t.getMinutes());uA.range;const cA=er(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ji)},(t,e)=>(e-t)/ji,t=>t.getUTCMinutes());cA.range;const fA=er(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ls-t.getMinutes()*ji)},(t,e)=>{t.setTime(+t+e*us)},(t,e)=>(e-t)/us,t=>t.getHours());fA.range;const hA=er(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*us)},(t,e)=>(e-t)/us,t=>t.getUTCHours());hA.range;const Bd=er(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ji)/vs,t=>t.getDate()-1);Bd.range;const Fy=er(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/vs,t=>t.getUTCDate()-1);Fy.range;const nV=er(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/vs,t=>Math.floor(t/vs));nV.range;function Wl(t){return er(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ji)/lA)}const Hy=Wl(0),Ag=Wl(1),RZ=Wl(2),jZ=Wl(3),Ec=Wl(4),MZ=Wl(5),DZ=Wl(6);Hy.range;Ag.range;RZ.range;jZ.range;Ec.range;MZ.range;DZ.range;function Yl(t){return er(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/lA)}const Gy=Yl(0),Og=Yl(1),LZ=Yl(2),VZ=Yl(3),Tc=Yl(4),$Z=Yl(5),UZ=Yl(6);Gy.range;Og.range;LZ.range;VZ.range;Tc.range;$Z.range;UZ.range;const dA=er(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());dA.range;const pA=er(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());pA.range;const bs=er(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());bs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:er(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});bs.range;const xs=er(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());xs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:er(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});xs.range;function rV(t,e,n,r,i,s){const l=[[Tl,1,ls],[Tl,5,5*ls],[Tl,15,15*ls],[Tl,30,30*ls],[s,1,ji],[s,5,5*ji],[s,15,15*ji],[s,30,30*ji],[i,1,us],[i,3,3*us],[i,6,6*us],[i,12,12*us],[r,1,vs],[r,2,2*vs],[n,1,lA],[e,1,fM],[e,3,3*fM],[t,1,$w]];function c(h,p,m){const v=p<h;v&&([h,p]=[p,h]);const _=m&&typeof m.range=="function"?m:f(h,p,m),E=_?_.range(h,+p+1):[];return v?E.reverse():E}function f(h,p,m){const v=Math.abs(p-h)/m,_=XT(([,,w])=>w).right(l,v);if(_===l.length)return t.every(RS(h/$w,p/$w,m));if(_===0)return Tg.every(Math.max(RS(h,p,m),1));const[E,S]=l[v/l[_-1][2]<l[_][2]/v?_-1:_];return E.every(S)}return[c,f]}const[BZ,qZ]=rV(xs,pA,Gy,nV,hA,cA),[zZ,FZ]=rV(bs,dA,Hy,Bd,fA,uA);function Uw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Bw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function nh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function HZ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,l=t.shortDays,c=t.months,f=t.shortMonths,h=rh(i),p=ih(i),m=rh(s),v=ih(s),_=rh(l),E=ih(l),S=rh(c),w=ih(c),A=rh(f),I=ih(f),k={a:Y,A:ee,b:ue,B:ve,c:null,d:yM,e:yM,f:pee,g:Eee,G:Aee,H:fee,I:hee,j:dee,L:iV,m:mee,M:gee,p:H,q:W,Q:xM,s:_M,S:yee,u:vee,U:bee,V:xee,w:_ee,W:wee,x:null,X:null,y:See,Y:Tee,Z:Oee,"%":bM},V={a:oe,A:me,b:we,B:Se,c:null,d:vM,e:vM,f:Pee,g:Bee,G:zee,H:Cee,I:Iee,j:kee,L:sV,m:Nee,M:Ree,p:Re,q:$e,Q:xM,s:_M,S:jee,u:Mee,U:Dee,V:Lee,w:Vee,W:$ee,x:null,X:null,y:Uee,Y:qee,Z:Fee,"%":bM},C={a:B,A:D,b:$,B:L,c:Q,d:mM,e:mM,f:oee,g:pM,G:dM,H:gM,I:gM,j:ree,L:see,m:nee,M:iee,p:R,q:tee,Q:uee,s:cee,S:aee,u:XZ,U:QZ,V:JZ,w:YZ,W:ZZ,x:J,X:F,y:pM,Y:dM,Z:eee,"%":lee};k.x=j(n,k),k.X=j(r,k),k.c=j(e,k),V.x=j(n,V),V.X=j(r,V),V.c=j(e,V);function j(ye,Ee){return function(Ne){var ne=[],Ge=-1,xe=0,Te=ye.length,Be,We,st;for(Ne instanceof Date||(Ne=new Date(+Ne));++Ge<Te;)ye.charCodeAt(Ge)===37&&(ne.push(ye.slice(xe,Ge)),(We=hM[Be=ye.charAt(++Ge)])!=null?Be=ye.charAt(++Ge):We=Be==="e"?" ":"0",(st=Ee[Be])&&(Be=st(Ne,We)),ne.push(Be),xe=Ge+1);return ne.push(ye.slice(xe,Ge)),ne.join("")}}function O(ye,Ee){return function(Ne){var ne=nh(1900,void 0,1),Ge=P(ne,ye,Ne+="",0),xe,Te;if(Ge!=Ne.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(Ee&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(xe=Bw(nh(ne.y,0,1)),Te=xe.getUTCDay(),xe=Te>4||Te===0?Og.ceil(xe):Og(xe),xe=Fy.offset(xe,(ne.V-1)*7),ne.y=xe.getUTCFullYear(),ne.m=xe.getUTCMonth(),ne.d=xe.getUTCDate()+(ne.w+6)%7):(xe=Uw(nh(ne.y,0,1)),Te=xe.getDay(),xe=Te>4||Te===0?Ag.ceil(xe):Ag(xe),xe=Bd.offset(xe,(ne.V-1)*7),ne.y=xe.getFullYear(),ne.m=xe.getMonth(),ne.d=xe.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),Te="Z"in ne?Bw(nh(ne.y,0,1)).getUTCDay():Uw(nh(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(Te+5)%7:ne.w+ne.U*7-(Te+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,Bw(ne)):Uw(ne)}}function P(ye,Ee,Ne,ne){for(var Ge=0,xe=Ee.length,Te=Ne.length,Be,We;Ge<xe;){if(ne>=Te)return-1;if(Be=Ee.charCodeAt(Ge++),Be===37){if(Be=Ee.charAt(Ge++),We=C[Be in hM?Ee.charAt(Ge++):Be],!We||(ne=We(ye,Ne,ne))<0)return-1}else if(Be!=Ne.charCodeAt(ne++))return-1}return ne}function R(ye,Ee,Ne){var ne=h.exec(Ee.slice(Ne));return ne?(ye.p=p.get(ne[0].toLowerCase()),Ne+ne[0].length):-1}function B(ye,Ee,Ne){var ne=_.exec(Ee.slice(Ne));return ne?(ye.w=E.get(ne[0].toLowerCase()),Ne+ne[0].length):-1}function D(ye,Ee,Ne){var ne=m.exec(Ee.slice(Ne));return ne?(ye.w=v.get(ne[0].toLowerCase()),Ne+ne[0].length):-1}function $(ye,Ee,Ne){var ne=A.exec(Ee.slice(Ne));return ne?(ye.m=I.get(ne[0].toLowerCase()),Ne+ne[0].length):-1}function L(ye,Ee,Ne){var ne=S.exec(Ee.slice(Ne));return ne?(ye.m=w.get(ne[0].toLowerCase()),Ne+ne[0].length):-1}function Q(ye,Ee,Ne){return P(ye,e,Ee,Ne)}function J(ye,Ee,Ne){return P(ye,n,Ee,Ne)}function F(ye,Ee,Ne){return P(ye,r,Ee,Ne)}function Y(ye){return l[ye.getDay()]}function ee(ye){return s[ye.getDay()]}function ue(ye){return f[ye.getMonth()]}function ve(ye){return c[ye.getMonth()]}function H(ye){return i[+(ye.getHours()>=12)]}function W(ye){return 1+~~(ye.getMonth()/3)}function oe(ye){return l[ye.getUTCDay()]}function me(ye){return s[ye.getUTCDay()]}function we(ye){return f[ye.getUTCMonth()]}function Se(ye){return c[ye.getUTCMonth()]}function Re(ye){return i[+(ye.getUTCHours()>=12)]}function $e(ye){return 1+~~(ye.getUTCMonth()/3)}return{format:function(ye){var Ee=j(ye+="",k);return Ee.toString=function(){return ye},Ee},parse:function(ye){var Ee=O(ye+="",!1);return Ee.toString=function(){return ye},Ee},utcFormat:function(ye){var Ee=j(ye+="",V);return Ee.toString=function(){return ye},Ee},utcParse:function(ye){var Ee=O(ye+="",!0);return Ee.toString=function(){return ye},Ee}}}var hM={"-":"",_:" ",0:"0"},sr=/^\s*\d+/,GZ=/^%/,KZ=/[\\^$*+?|[\]().{}]/g;function zt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function WZ(t){return t.replace(KZ,"\\$&")}function rh(t){return new RegExp("^(?:"+t.map(WZ).join("|")+")","i")}function ih(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function YZ(t,e,n){var r=sr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function XZ(t,e,n){var r=sr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function QZ(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function JZ(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function ZZ(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function dM(t,e,n){var r=sr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function pM(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function eee(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function tee(t,e,n){var r=sr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function nee(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function mM(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ree(t,e,n){var r=sr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function gM(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function iee(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function aee(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function see(t,e,n){var r=sr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function oee(t,e,n){var r=sr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function lee(t,e,n){var r=GZ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function uee(t,e,n){var r=sr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function cee(t,e,n){var r=sr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function yM(t,e){return zt(t.getDate(),e,2)}function fee(t,e){return zt(t.getHours(),e,2)}function hee(t,e){return zt(t.getHours()%12||12,e,2)}function dee(t,e){return zt(1+Bd.count(bs(t),t),e,3)}function iV(t,e){return zt(t.getMilliseconds(),e,3)}function pee(t,e){return iV(t,e)+"000"}function mee(t,e){return zt(t.getMonth()+1,e,2)}function gee(t,e){return zt(t.getMinutes(),e,2)}function yee(t,e){return zt(t.getSeconds(),e,2)}function vee(t){var e=t.getDay();return e===0?7:e}function bee(t,e){return zt(Hy.count(bs(t)-1,t),e,2)}function aV(t){var e=t.getDay();return e>=4||e===0?Ec(t):Ec.ceil(t)}function xee(t,e){return t=aV(t),zt(Ec.count(bs(t),t)+(bs(t).getDay()===4),e,2)}function _ee(t){return t.getDay()}function wee(t,e){return zt(Ag.count(bs(t)-1,t),e,2)}function See(t,e){return zt(t.getFullYear()%100,e,2)}function Eee(t,e){return t=aV(t),zt(t.getFullYear()%100,e,2)}function Tee(t,e){return zt(t.getFullYear()%1e4,e,4)}function Aee(t,e){var n=t.getDay();return t=n>=4||n===0?Ec(t):Ec.ceil(t),zt(t.getFullYear()%1e4,e,4)}function Oee(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+zt(e/60|0,"0",2)+zt(e%60,"0",2)}function vM(t,e){return zt(t.getUTCDate(),e,2)}function Cee(t,e){return zt(t.getUTCHours(),e,2)}function Iee(t,e){return zt(t.getUTCHours()%12||12,e,2)}function kee(t,e){return zt(1+Fy.count(xs(t),t),e,3)}function sV(t,e){return zt(t.getUTCMilliseconds(),e,3)}function Pee(t,e){return sV(t,e)+"000"}function Nee(t,e){return zt(t.getUTCMonth()+1,e,2)}function Ree(t,e){return zt(t.getUTCMinutes(),e,2)}function jee(t,e){return zt(t.getUTCSeconds(),e,2)}function Mee(t){var e=t.getUTCDay();return e===0?7:e}function Dee(t,e){return zt(Gy.count(xs(t)-1,t),e,2)}function oV(t){var e=t.getUTCDay();return e>=4||e===0?Tc(t):Tc.ceil(t)}function Lee(t,e){return t=oV(t),zt(Tc.count(xs(t),t)+(xs(t).getUTCDay()===4),e,2)}function Vee(t){return t.getUTCDay()}function $ee(t,e){return zt(Og.count(xs(t)-1,t),e,2)}function Uee(t,e){return zt(t.getUTCFullYear()%100,e,2)}function Bee(t,e){return t=oV(t),zt(t.getUTCFullYear()%100,e,2)}function qee(t,e){return zt(t.getUTCFullYear()%1e4,e,4)}function zee(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Tc(t):Tc.ceil(t),zt(t.getUTCFullYear()%1e4,e,4)}function Fee(){return"+0000"}function bM(){return"%"}function xM(t){return+t}function _M(t){return Math.floor(+t/1e3)}var Bu,lV,uV;Hee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Hee(t){return Bu=HZ(t),lV=Bu.format,Bu.parse,uV=Bu.utcFormat,Bu.utcParse,Bu}function Gee(t){return new Date(t)}function Kee(t){return t instanceof Date?+t:+new Date(+t)}function mA(t,e,n,r,i,s,l,c,f,h){var p=tA(),m=p.invert,v=p.domain,_=h(".%L"),E=h(":%S"),S=h("%I:%M"),w=h("%I %p"),A=h("%a %d"),I=h("%b %d"),k=h("%B"),V=h("%Y");function C(j){return(f(j)<j?_:c(j)<j?E:l(j)<j?S:s(j)<j?w:r(j)<j?i(j)<j?A:I:n(j)<j?k:V)(j)}return p.invert=function(j){return new Date(m(j))},p.domain=function(j){return arguments.length?v(Array.from(j,Kee)):v().map(Gee)},p.ticks=function(j){var O=v();return t(O[0],O[O.length-1],j??10)},p.tickFormat=function(j,O){return O==null?C:h(O)},p.nice=function(j){var O=v();return(!j||typeof j.range!="function")&&(j=e(O[0],O[O.length-1],j??10)),j?v(Y6(O,j)):p},p.copy=function(){return Ud(p,mA(t,e,n,r,i,s,l,c,f,h))},p}function Wee(){return Di.apply(mA(zZ,FZ,bs,dA,Hy,Bd,fA,uA,Tl,lV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Yee(){return Di.apply(mA(BZ,qZ,xs,pA,Gy,Fy,hA,cA,Tl,uV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ky(){var t=0,e=1,n,r,i,s,l=Lr,c=!1,f;function h(m){return m==null||isNaN(m=+m)?f:l(i===0?.5:(m=(s(m)-n)*i,c?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([t,e]=m,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(m){return arguments.length?(c=!!m,h):c},h.interpolator=function(m){return arguments.length?(l=m,h):l};function p(m){return function(v){var _,E;return arguments.length?([_,E]=v,l=m(_,E),h):[l(0),l(1)]}}return h.range=p(tf),h.rangeRound=p(eA),h.unknown=function(m){return arguments.length?(f=m,h):f},function(m){return s=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),h}}function No(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function cV(){var t=Po(Ky()(Lr));return t.copy=function(){return No(t,cV())},Es.apply(t,arguments)}function fV(){var t=iA(Ky()).domain([1,10]);return t.copy=function(){return No(t,fV()).base(t.base())},Es.apply(t,arguments)}function hV(){var t=aA(Ky());return t.copy=function(){return No(t,hV()).constant(t.constant())},Es.apply(t,arguments)}function gA(){var t=sA(Ky());return t.copy=function(){return No(t,gA()).exponent(t.exponent())},Es.apply(t,arguments)}function Xee(){return gA.apply(null,arguments).exponent(.5)}function dV(){var t=[],e=Lr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Vd(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(xo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>DJ(t,s/r))},n.copy=function(){return dV(e).domain(t)},Es.apply(n,arguments)}function Wy(){var t=0,e=.5,n=1,r=1,i,s,l,c,f,h=Lr,p,m=!1,v;function _(S){return isNaN(S=+S)?v:(S=.5+((S=+p(S))-s)*(r*S<r*s?c:f),h(m?Math.max(0,Math.min(1,S)):S))}_.domain=function(S){return arguments.length?([t,e,n]=S,i=p(t=+t),s=p(e=+e),l=p(n=+n),c=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),r=s<i?-1:1,_):[t,e,n]},_.clamp=function(S){return arguments.length?(m=!!S,_):m},_.interpolator=function(S){return arguments.length?(h=S,_):h};function E(S){return function(w){var A,I,k;return arguments.length?([A,I,k]=w,h=lZ(S,[A,I,k]),_):[h(0),h(.5),h(1)]}}return _.range=E(tf),_.rangeRound=E(eA),_.unknown=function(S){return arguments.length?(v=S,_):v},function(S){return p=S,i=S(t),s=S(e),l=S(n),c=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),r=s<i?-1:1,_}}function pV(){var t=Po(Wy()(Lr));return t.copy=function(){return No(t,pV())},Es.apply(t,arguments)}function mV(){var t=iA(Wy()).domain([.1,1,10]);return t.copy=function(){return No(t,mV()).base(t.base())},Es.apply(t,arguments)}function gV(){var t=aA(Wy());return t.copy=function(){return No(t,gV()).constant(t.constant())},Es.apply(t,arguments)}function yA(){var t=sA(Wy());return t.copy=function(){return No(t,yA()).exponent(t.exponent())},Es.apply(t,arguments)}function Qee(){return yA.apply(null,arguments).exponent(.5)}const wM=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Yh,scaleDiverging:pV,scaleDivergingLog:mV,scaleDivergingPow:yA,scaleDivergingSqrt:Qee,scaleDivergingSymlog:gV,scaleIdentity:W6,scaleImplicit:jS,scaleLinear:Eg,scaleLog:X6,scaleOrdinal:QT,scalePoint:Ch,scalePow:oA,scaleQuantile:Z6,scaleQuantize:eV,scaleRadial:J6,scaleSequential:cV,scaleSequentialLog:fV,scaleSequentialPow:gA,scaleSequentialQuantile:dV,scaleSequentialSqrt:Xee,scaleSequentialSymlog:hV,scaleSqrt:PZ,scaleSymlog:Q6,scaleThreshold:tV,scaleTime:Wee,scaleUtc:Yee,tickFormat:K6},Symbol.toStringTag,{value:"Module"}));var qw,SM;function Yy(){if(SM)return qw;SM=1;var t=Qc();function e(n,r,i){for(var s=-1,l=n.length;++s<l;){var c=n[s],f=r(c);if(f!=null&&(h===void 0?f===f&&!t(f):i(f,h)))var h=f,p=c}return p}return qw=e,qw}var zw,EM;function yV(){if(EM)return zw;EM=1;function t(e,n){return e>n}return zw=t,zw}var Fw,TM;function Jee(){if(TM)return Fw;TM=1;var t=Yy(),e=yV(),n=ef();function r(i){return i&&i.length?t(i,n,e):void 0}return Fw=r,Fw}var Zee=Jee();const Xy=Gt(Zee);var Hw,AM;function vV(){if(AM)return Hw;AM=1;function t(e,n){return e<n}return Hw=t,Hw}var Gw,OM;function ete(){if(OM)return Gw;OM=1;var t=Yy(),e=vV(),n=ef();function r(i){return i&&i.length?t(i,n,e):void 0}return Gw=r,Gw}var tte=ete();const Qy=Gt(tte);var Kw,CM;function nte(){if(CM)return Kw;CM=1;var t=RT(),e=ja(),n=T6(),r=Wr();function i(s,l){var c=r(s)?t:n;return c(s,e(l,3))}return Kw=i,Kw}var Ww,IM;function rte(){if(IM)return Ww;IM=1;var t=S6(),e=nte();function n(r,i){return t(e(r,i),1)}return Ww=n,Ww}var ite=rte();const ate=Gt(ite);var Yw,kM;function ste(){if(kM)return Yw;kM=1;var t=GT();function e(n,r){return t(n,r)}return Yw=e,Yw}var ote=ste();const qd=Gt(ote);var nf=1e9,lte={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},bA,vn=!0,Mi="[DecimalError] ",kl=Mi+"Invalid argument: ",vA=Mi+"Exponent out of range: ",rf=Math.floor,gl=Math.pow,ute=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,fi,rr=1e7,pn=7,bV=9007199254740991,Cg=rf(bV/pn),Le={};Le.absoluteValue=Le.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Le.comparedTo=Le.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Le.decimalPlaces=Le.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*pn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Le.dividedBy=Le.div=function(t){return hs(this,new this.constructor(t))};Le.dividedToIntegerBy=Le.idiv=function(t){var e=this,n=e.constructor;return ln(hs(e,new n(t),0,1),n.precision)};Le.equals=Le.eq=function(t){return!this.cmp(t)};Le.exponent=function(){return Hn(this)};Le.greaterThan=Le.gt=function(t){return this.cmp(t)>0};Le.greaterThanOrEqualTo=Le.gte=function(t){return this.cmp(t)>=0};Le.isInteger=Le.isint=function(){return this.e>this.d.length-2};Le.isNegative=Le.isneg=function(){return this.s<0};Le.isPositive=Le.ispos=function(){return this.s>0};Le.isZero=function(){return this.s===0};Le.lessThan=Le.lt=function(t){return this.cmp(t)<0};Le.lessThanOrEqualTo=Le.lte=function(t){return this.cmp(t)<1};Le.logarithm=Le.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(fi))throw Error(Mi+"NaN");if(n.s<1)throw Error(Mi+(n.s?"NaN":"-Infinity"));return n.eq(fi)?new r(0):(vn=!1,e=hs(ed(n,s),ed(t,s),s),vn=!0,ln(e,i))};Le.minus=Le.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?wV(e,t):xV(e,(t.s=-t.s,t))};Le.modulo=Le.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Mi+"NaN");return n.s?(vn=!1,e=hs(n,t,0,1).times(t),vn=!0,n.minus(e)):ln(new r(n),i)};Le.naturalExponential=Le.exp=function(){return _V(this)};Le.naturalLogarithm=Le.ln=function(){return ed(this)};Le.negated=Le.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Le.plus=Le.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?xV(e,t):wV(e,(t.s=-t.s,t))};Le.precision=Le.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(kl+t);if(e=Hn(i)+1,r=i.d.length-1,n=r*pn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Le.squareRoot=Le.sqrt=function(){var t,e,n,r,i,s,l,c=this,f=c.constructor;if(c.s<1){if(!c.s)return new f(0);throw Error(Mi+"NaN")}for(t=Hn(c),vn=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=ba(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=rf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=l=n+3;;)if(s=r,r=s.plus(hs(c,s,l+2)).times(.5),ba(s.d).slice(0,l)===(e=ba(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(ln(s,n+1,0),s.times(s).eq(c)){r=s;break}}else if(e!="9999")break;l+=4}return vn=!0,ln(r,n)};Le.times=Le.mul=function(t){var e,n,r,i,s,l,c,f,h,p=this,m=p.constructor,v=p.d,_=(t=new m(t)).d;if(!p.s||!t.s)return new m(0);for(t.s*=p.s,n=p.e+t.e,f=v.length,h=_.length,f<h&&(s=v,v=_,_=s,l=f,f=h,h=l),s=[],l=f+h,r=l;r--;)s.push(0);for(r=h;--r>=0;){for(e=0,i=f+r;i>r;)c=s[i]+_[r]*v[i-r-1]+e,s[i--]=c%rr|0,e=c/rr|0;s[i]=(s[i]+e)%rr|0}for(;!s[--l];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,vn?ln(t,m.precision):t};Le.toDecimalPlaces=Le.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Pa(t,0,nf),e===void 0?e=r.rounding:Pa(e,0,8),ln(n,t+Hn(n)+1,e))};Le.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Ul(r,!0):(Pa(t,0,nf),e===void 0?e=i.rounding:Pa(e,0,8),r=ln(new i(r),t+1,e),n=Ul(r,!0,t+1)),n};Le.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Ul(i):(Pa(t,0,nf),e===void 0?e=s.rounding:Pa(e,0,8),r=ln(new s(i),t+Hn(i)+1,e),n=Ul(r.abs(),!1,t+Hn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Le.toInteger=Le.toint=function(){var t=this,e=t.constructor;return ln(new e(t),Hn(t)+1,e.rounding)};Le.toNumber=function(){return+this};Le.toPower=Le.pow=function(t){var e,n,r,i,s,l,c=this,f=c.constructor,h=12,p=+(t=new f(t));if(!t.s)return new f(fi);if(c=new f(c),!c.s){if(t.s<1)throw Error(Mi+"Infinity");return c}if(c.eq(fi))return c;if(r=f.precision,t.eq(fi))return ln(c,r);if(e=t.e,n=t.d.length-1,l=e>=n,s=c.s,l){if((n=p<0?-p:p)<=bV){for(i=new f(fi),e=Math.ceil(r/pn+4),vn=!1;n%2&&(i=i.times(c),NM(i.d,e)),n=rf(n/2),n!==0;)c=c.times(c),NM(c.d,e);return vn=!0,t.s<0?new f(fi).div(i):ln(i,r)}}else if(s<0)throw Error(Mi+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,vn=!1,i=t.times(ed(c,r+h)),vn=!0,i=_V(i),i.s=s,i};Le.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Hn(i),r=Ul(i,n<=s.toExpNeg||n>=s.toExpPos)):(Pa(t,1,nf),e===void 0?e=s.rounding:Pa(e,0,8),i=ln(new s(i),t,e),n=Hn(i),r=Ul(i,t<=n||n<=s.toExpNeg,t)),r};Le.toSignificantDigits=Le.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Pa(t,1,nf),e===void 0?e=r.rounding:Pa(e,0,8)),ln(new r(n),t,e)};Le.toString=Le.valueOf=Le.val=Le.toJSON=Le[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Hn(t),n=t.constructor;return Ul(t,e<=n.toExpNeg||e>=n.toExpPos)};function xV(t,e){var n,r,i,s,l,c,f,h,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),vn?ln(e,m):e;if(f=t.d,h=e.d,l=t.e,i=e.e,f=f.slice(),s=l-i,s){for(s<0?(r=f,s=-s,c=h.length):(r=h,i=l,c=f.length),l=Math.ceil(m/pn),c=l>c?l+1:c+1,s>c&&(s=c,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(c=f.length,s=h.length,c-s<0&&(s=c,r=h,h=f,f=r),n=0;s;)n=(f[--s]=f[s]+h[s]+n)/rr|0,f[s]%=rr;for(n&&(f.unshift(n),++i),c=f.length;f[--c]==0;)f.pop();return e.d=f,e.e=i,vn?ln(e,m):e}function Pa(t,e,n){if(t!==~~t||t<e||t>n)throw Error(kl+t)}function ba(t){var e,n,r,i=t.length-1,s="",l=t[0];if(i>0){for(s+=l,e=1;e<i;e++)r=t[e]+"",n=pn-r.length,n&&(s+=ao(n)),s+=r;l=t[e],r=l+"",n=pn-r.length,n&&(s+=ao(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var hs=(function(){function t(r,i){var s,l=0,c=r.length;for(r=r.slice();c--;)s=r[c]*i+l,r[c]=s%rr|0,l=s/rr|0;return l&&r.unshift(l),r}function e(r,i,s,l){var c,f;if(s!=l)f=s>l?1:-1;else for(c=f=0;c<s;c++)if(r[c]!=i[c]){f=r[c]>i[c]?1:-1;break}return f}function n(r,i,s){for(var l=0;s--;)r[s]-=l,l=r[s]<i[s]?1:0,r[s]=l*rr+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,l){var c,f,h,p,m,v,_,E,S,w,A,I,k,V,C,j,O,P,R=r.constructor,B=r.s==i.s?1:-1,D=r.d,$=i.d;if(!r.s)return new R(r);if(!i.s)throw Error(Mi+"Division by zero");for(f=r.e-i.e,O=$.length,C=D.length,_=new R(B),E=_.d=[],h=0;$[h]==(D[h]||0);)++h;if($[h]>(D[h]||0)&&--f,s==null?I=s=R.precision:l?I=s+(Hn(r)-Hn(i))+1:I=s,I<0)return new R(0);if(I=I/pn+2|0,h=0,O==1)for(p=0,$=$[0],I++;(h<C||p)&&I--;h++)k=p*rr+(D[h]||0),E[h]=k/$|0,p=k%$|0;else{for(p=rr/($[0]+1)|0,p>1&&($=t($,p),D=t(D,p),O=$.length,C=D.length),V=O,S=D.slice(0,O),w=S.length;w<O;)S[w++]=0;P=$.slice(),P.unshift(0),j=$[0],$[1]>=rr/2&&++j;do p=0,c=e($,S,O,w),c<0?(A=S[0],O!=w&&(A=A*rr+(S[1]||0)),p=A/j|0,p>1?(p>=rr&&(p=rr-1),m=t($,p),v=m.length,w=S.length,c=e(m,S,v,w),c==1&&(p--,n(m,O<v?P:$,v))):(p==0&&(c=p=1),m=$.slice()),v=m.length,v<w&&m.unshift(0),n(S,m,w),c==-1&&(w=S.length,c=e($,S,O,w),c<1&&(p++,n(S,O<w?P:$,w))),w=S.length):c===0&&(p++,S=[0]),E[h++]=p,c&&S[0]?S[w++]=D[V]||0:(S=[D[V]],w=1);while((V++<C||S[0]!==void 0)&&I--)}return E[0]||E.shift(),_.e=f,ln(_,l?s+Hn(_)+1:s)}})();function _V(t,e){var n,r,i,s,l,c,f=0,h=0,p=t.constructor,m=p.precision;if(Hn(t)>16)throw Error(vA+Hn(t));if(!t.s)return new p(fi);for(vn=!1,c=m,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(r=Math.log(gl(2,h))/Math.LN10*2+5|0,c+=r,n=i=s=new p(fi),p.precision=c;;){if(i=ln(i.times(t),c),n=n.times(++f),l=s.plus(hs(i,n,c)),ba(l.d).slice(0,c)===ba(s.d).slice(0,c)){for(;h--;)s=ln(s.times(s),c);return p.precision=m,e==null?(vn=!0,ln(s,m)):s}s=l}}function Hn(t){for(var e=t.e*pn,n=t.d[0];n>=10;n/=10)e++;return e}function Xw(t,e,n){if(e>t.LN10.sd())throw vn=!0,n&&(t.precision=n),Error(Mi+"LN10 precision limit exceeded");return ln(new t(t.LN10),e)}function ao(t){for(var e="";t--;)e+="0";return e}function ed(t,e){var n,r,i,s,l,c,f,h,p,m=1,v=10,_=t,E=_.d,S=_.constructor,w=S.precision;if(_.s<1)throw Error(Mi+(_.s?"NaN":"-Infinity"));if(_.eq(fi))return new S(0);if(e==null?(vn=!1,h=w):h=e,_.eq(10))return e==null&&(vn=!0),Xw(S,h);if(h+=v,S.precision=h,n=ba(E),r=n.charAt(0),s=Hn(_),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=ba(_.d),r=n.charAt(0),m++;s=Hn(_),r>1?(_=new S("0."+n),s++):_=new S(r+"."+n.slice(1))}else return f=Xw(S,h+2,w).times(s+""),_=ed(new S(r+"."+n.slice(1)),h-v).plus(f),S.precision=w,e==null?(vn=!0,ln(_,w)):_;for(c=l=_=hs(_.minus(fi),_.plus(fi),h),p=ln(_.times(_),h),i=3;;){if(l=ln(l.times(p),h),f=c.plus(hs(l,new S(i),h)),ba(f.d).slice(0,h)===ba(c.d).slice(0,h))return c=c.times(2),s!==0&&(c=c.plus(Xw(S,h+2,w).times(s+""))),c=hs(c,new S(m),h),S.precision=w,e==null?(vn=!0,ln(c,w)):c;c=f,i+=2}}function PM(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=rf(n/pn),t.d=[],r=(n+1)%pn,n<0&&(r+=pn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=pn;r<i;)t.d.push(+e.slice(r,r+=pn));e=e.slice(r),r=pn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),vn&&(t.e>Cg||t.e<-Cg))throw Error(vA+n)}else t.s=0,t.e=0,t.d=[0];return t}function ln(t,e,n){var r,i,s,l,c,f,h,p,m=t.d;for(l=1,s=m[0];s>=10;s/=10)l++;if(r=e-l,r<0)r+=pn,i=e,h=m[p=0];else{if(p=Math.ceil((r+1)/pn),s=m.length,p>=s)return t;for(h=s=m[p],l=1;s>=10;s/=10)l++;r%=pn,i=r-pn+l}if(n!==void 0&&(s=gl(10,l-i-1),c=h/s%10|0,f=e<0||m[p+1]!==void 0||h%s,f=n<4?(c||f)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||f||n==6&&(r>0?i>0?h/gl(10,l-i):0:m[p-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return f?(s=Hn(t),m.length=1,e=e-s-1,m[0]=gl(10,(pn-e%pn)%pn),t.e=rf(-e/pn)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=p,s=1,p--):(m.length=p+1,s=gl(10,pn-r),m[p]=i>0?(h/gl(10,l-i)%gl(10,i)|0)*s:0),f)for(;;)if(p==0){(m[0]+=s)==rr&&(m[0]=1,++t.e);break}else{if(m[p]+=s,m[p]!=rr)break;m[p--]=0,s=1}for(r=m.length;m[--r]===0;)m.pop();if(vn&&(t.e>Cg||t.e<-Cg))throw Error(vA+Hn(t));return t}function wV(t,e){var n,r,i,s,l,c,f,h,p,m,v=t.constructor,_=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),vn?ln(e,_):e;if(f=t.d,m=e.d,r=e.e,h=t.e,f=f.slice(),l=h-r,l){for(p=l<0,p?(n=f,l=-l,c=m.length):(n=m,r=h,c=f.length),i=Math.max(Math.ceil(_/pn),c)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=f.length,c=m.length,p=i<c,p&&(c=i),i=0;i<c;i++)if(f[i]!=m[i]){p=f[i]<m[i];break}l=0}for(p&&(n=f,f=m,m=n,e.s=-e.s),c=f.length,i=m.length-c;i>0;--i)f[c++]=0;for(i=m.length;i>l;){if(f[--i]<m[i]){for(s=i;s&&f[--s]===0;)f[s]=rr-1;--f[s],f[i]+=rr}f[i]-=m[i]}for(;f[--c]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,vn?ln(e,_):e):new v(0)}function Ul(t,e,n){var r,i=Hn(t),s=ba(t.d),l=s.length;return e?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+ao(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+ao(-i-1)+s,n&&(r=n-l)>0&&(s+=ao(r))):i>=l?(s+=ao(i+1-l),n&&(r=n-i-1)>0&&(s=s+"."+ao(r))):((r=i+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(s+="."),s+=ao(r))),t.s<0?"-"+s:s}function NM(t,e){if(t.length>e)return t.length=e,!0}function SV(t){var e,n,r;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(kl+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return PM(l,s.toString())}else if(typeof s!="string")throw Error(kl+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,ute.test(s))PM(l,s);else throw Error(kl+s)}if(i.prototype=Le,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=SV,i.config=i.set=cte,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function cte(t){if(!t||typeof t!="object")throw Error(Mi+"Object expected");var e,n,r,i=["precision",1,nf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(rf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(kl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(kl+n+": "+r);return this}var bA=SV(lte);fi=new bA(1);const sn=bA;function fte(t){return mte(t)||pte(t)||dte(t)||hte()}function hte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dte(t,e){if(t){if(typeof t=="string")return VS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VS(t,e)}}function pte(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function mte(t){if(Array.isArray(t))return VS(t)}function VS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var gte=function(e){return e},EV={},TV=function(e){return e===EV},RM=function(e){return function n(){return arguments.length===0||arguments.length===1&&TV(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},yte=function t(e,n){return e===1?n:RM(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var l=i.filter(function(c){return c!==EV}).length;return l>=e?n.apply(void 0,i):t(e-l,RM(function(){for(var c=arguments.length,f=new Array(c),h=0;h<c;h++)f[h]=arguments[h];var p=i.map(function(m){return TV(m)?f.shift():m});return n.apply(void 0,fte(p).concat(f))}))})},Jy=function(e){return yte(e.length,e)},$S=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},vte=Jy(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),bte=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return gte;var i=n.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce(function(c,f){return f(c)},s.apply(void 0,arguments))}},US=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},AV=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return n&&s.every(function(c,f){return c===n[f]})||(n=s,r=e.apply(void 0,s)),r}};function xte(t){var e;return t===0?e=1:e=Math.floor(new sn(t).abs().log(10).toNumber())+1,e}function _te(t,e,n){for(var r=new sn(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var wte=Jy(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Ste=Jy(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Ete=Jy(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Zy={rangeStep:_te,getDigitCount:xte,interpolateNumber:wte,uninterpolateNumber:Ste,uninterpolateTruncation:Ete};function BS(t){return Ote(t)||Ate(t)||OV(t)||Tte()}function Tte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ate(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Ote(t){if(Array.isArray(t))return qS(t)}function td(t,e){return kte(t)||Ite(t,e)||OV(t,e)||Cte()}function Cte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OV(t,e){if(t){if(typeof t=="string")return qS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qS(t,e)}}function qS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ite(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var l=t[Symbol.iterator](),c;!(r=(c=l.next()).done)&&(n.push(c.value),!(e&&n.length===e));r=!0);}catch(f){i=!0,s=f}finally{try{!r&&l.return!=null&&l.return()}finally{if(i)throw s}}return n}}function kte(t){if(Array.isArray(t))return t}function CV(t){var e=td(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function IV(t,e,n){if(t.lte(0))return new sn(0);var r=Zy.getDigitCount(t.toNumber()),i=new sn(10).pow(r),s=t.div(i),l=r!==1?.05:.1,c=new sn(Math.ceil(s.div(l).toNumber())).add(n).mul(l),f=c.mul(i);return e?f:new sn(Math.ceil(f))}function Pte(t,e,n){var r=1,i=new sn(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new sn(10).pow(Zy.getDigitCount(t)-1),i=new sn(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new sn(Math.floor(t)))}else t===0?i=new sn(Math.floor((e-1)/2)):n||(i=new sn(Math.floor(t)));var l=Math.floor((e-1)/2),c=bte(vte(function(f){return i.add(new sn(f-l).mul(r)).toNumber()}),$S);return c(0,e)}function kV(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new sn(0),tickMin:new sn(0),tickMax:new sn(0)};var s=IV(new sn(e).sub(t).div(n-1),r,i),l;t<=0&&e>=0?l=new sn(0):(l=new sn(t).add(e).div(2),l=l.sub(new sn(l).mod(s)));var c=Math.ceil(l.sub(t).div(s).toNumber()),f=Math.ceil(new sn(e).sub(l).div(s).toNumber()),h=c+f+1;return h>n?kV(t,e,n,r,i+1):(h<n&&(f=e>0?f+(n-h):f,c=e>0?c:c+(n-h)),{step:s,tickMin:l.sub(new sn(c).mul(s)),tickMax:l.add(new sn(f).mul(s))})}function Nte(t){var e=td(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),c=CV([n,r]),f=td(c,2),h=f[0],p=f[1];if(h===-1/0||p===1/0){var m=p===1/0?[h].concat(BS($S(0,i-1).map(function(){return 1/0}))):[].concat(BS($S(0,i-1).map(function(){return-1/0})),[p]);return n>r?US(m):m}if(h===p)return Pte(h,i,s);var v=kV(h,p,l,s),_=v.step,E=v.tickMin,S=v.tickMax,w=Zy.rangeStep(E,S.add(new sn(.1).mul(_)),_);return n>r?US(w):w}function Rte(t,e){var n=td(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=CV([r,i]),c=td(l,2),f=c[0],h=c[1];if(f===-1/0||h===1/0)return[r,i];if(f===h)return[f];var p=Math.max(e,2),m=IV(new sn(h).sub(f).div(p-1),s,0),v=[].concat(BS(Zy.rangeStep(new sn(f),new sn(h).sub(new sn(.99).mul(m)),m)),[h]);return r>i?US(v):v}var jte=AV(Nte),Mte=AV(Rte),Dte="Invariant failed";function Bl(t,e){throw new Error(Dte)}var Lte=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ac(t){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}function Ig(){return Ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ig.apply(this,arguments)}function Vte(t,e){return qte(t)||Bte(t,e)||Ute(t,e)||$te()}function $te(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ute(t,e){if(t){if(typeof t=="string")return jM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jM(t,e)}}function jM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Bte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,c=[],f=!0,h=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function qte(t){if(Array.isArray(t))return t}function zte(t,e){if(t==null)return{};var n=Fte(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Hte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RV(r.key),r)}}function Kte(t,e,n){return e&&Gte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wte(t,e,n){return e=kg(e),Yte(t,PV()?Reflect.construct(e,n||[],kg(t).constructor):e.apply(t,n))}function Yte(t,e){if(e&&(Ac(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xte(t)}function Xte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PV=function(){return!!t})()}function kg(t){return kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kg(t)}function Qte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zS(t,e)}function zS(t,e){return zS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zS(t,e)}function NV(t,e,n){return e=RV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RV(t){var e=Jte(t,"string");return Ac(e)=="symbol"?e:e+""}function Jte(t,e){if(Ac(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zd=(function(t){function e(){return Hte(this,e),Wte(this,e,arguments)}return Qte(e,t),Kte(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,l=r.width,c=r.dataKey,f=r.data,h=r.dataPointFormatter,p=r.xAxis,m=r.yAxis,v=zte(r,Lte),_=Je(v,!1);this.props.direction==="x"&&p.type!=="number"&&Bl();var E=f.map(function(S){var w=h(S,c),A=w.x,I=w.y,k=w.value,V=w.errorVal;if(!V)return null;var C=[],j,O;if(Array.isArray(V)){var P=Vte(V,2);j=P[0],O=P[1]}else j=O=V;if(s==="vertical"){var R=p.scale,B=I+i,D=B+l,$=B-l,L=R(k-j),Q=R(k+O);C.push({x1:Q,y1:D,x2:Q,y2:$}),C.push({x1:L,y1:B,x2:Q,y2:B}),C.push({x1:L,y1:D,x2:L,y2:$})}else if(s==="horizontal"){var J=m.scale,F=A+i,Y=F-l,ee=F+l,ue=J(k-j),ve=J(k+O);C.push({x1:Y,y1:ve,x2:ee,y2:ve}),C.push({x1:F,y1:ue,x2:F,y2:ve}),C.push({x1:Y,y1:ue,x2:ee,y2:ue})}return G.createElement(qt,Ig({className:"recharts-errorBar",key:"bar-".concat(C.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},_),C.map(function(H){return G.createElement("line",Ig({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return G.createElement(qt,{className:"recharts-errorBars"},E)}}])})(G.Component);NV(zd,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});NV(zd,"displayName","ErrorBar");function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function MM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ul(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MM(Object(n),!0).forEach(function(r){Zte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zte(t,e,n){return e=ene(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ene(t){var e=tne(t,"string");return nd(e)=="symbol"?e:e+""}function tne(t,e){if(nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jV=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,l=li(n,bo);if(!l)return null;var c=bo.defaultProps,f=c!==void 0?ul(ul({},c),l.props):{},h;return l.props&&l.props.payload?h=l.props&&l.props.payload:s==="children"?h=(r||[]).reduce(function(p,m){var v=m.item,_=m.props,E=_.sectors||_.data||[];return p.concat(E.map(function(S){return{type:l.props.iconType||v.props.legendType,value:S.name,color:S.fill,payload:S}}))},[]):h=(r||[]).map(function(p){var m=p.item,v=m.type.defaultProps,_=v!==void 0?ul(ul({},v),m.props):{},E=_.dataKey,S=_.name,w=_.legendType,A=_.hide;return{inactive:A,dataKey:E,type:f.iconType||w||"square",color:xA(m),value:S||E,payload:_}}),ul(ul(ul({},f),bo.getWithHeight(l,i)),{},{payload:h,item:l})};function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function DM(t){return ane(t)||ine(t)||rne(t)||nne()}function nne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rne(t,e){if(t){if(typeof t=="string")return FS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FS(t,e)}}function ine(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ane(t){if(Array.isArray(t))return FS(t)}function FS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function In(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LM(Object(n),!0).forEach(function(r){lc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lc(t,e,n){return e=sne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sne(t){var e=one(t,"string");return rd(e)=="symbol"?e:e+""}function one(t,e){if(rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xn(t,e,n){return ct(t)||ct(e)?n:Jn(e)?di(t,e,n):rt(e)?e(t):n}function Ih(t,e,n,r){var i=ate(t,function(c){return Xn(c,e)});if(n==="number"){var s=i.filter(function(c){return Ce(c)||parseFloat(c)});return s.length?[Qy(s),Xy(s)]:[1/0,-1/0]}var l=r?i.filter(function(c){return!ct(c)}):i;return l.map(function(c){return Jn(c)||c instanceof Date?c:""})}var lne=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,l=-1,c=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(c<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var f=s.range,h=0;h<c;h++){var p=h>0?i[h-1].coordinate:i[c-1].coordinate,m=i[h].coordinate,v=h>=c-1?i[0].coordinate:i[h+1].coordinate,_=void 0;if(Mr(m-p)!==Mr(v-m)){var E=[];if(Mr(v-m)===Mr(f[1]-f[0])){_=v;var S=m+f[1]-f[0];E[0]=Math.min(S,(S+p)/2),E[1]=Math.max(S,(S+p)/2)}else{_=p;var w=v+f[1]-f[0];E[0]=Math.min(m,(w+m)/2),E[1]=Math.max(m,(w+m)/2)}var A=[Math.min(m,(_+m)/2),Math.max(m,(_+m)/2)];if(e>A[0]&&e<=A[1]||e>=E[0]&&e<=E[1]){l=i[h].index;break}}else{var I=Math.min(p,v),k=Math.max(p,v);if(e>(I+m)/2&&e<=(k+m)/2){l=i[h].index;break}}}else for(var V=0;V<c;V++)if(V===0&&e<=(r[V].coordinate+r[V+1].coordinate)/2||V>0&&V<c-1&&e>(r[V].coordinate+r[V-1].coordinate)/2&&e<=(r[V].coordinate+r[V+1].coordinate)/2||V===c-1&&e>(r[V].coordinate+r[V-1].coordinate)/2){l=r[V].index;break}return l},xA=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?In(In({},e.type.defaultProps),e.props):e.props,l=s.stroke,c=s.fill,f;switch(i){case"Line":f=l;break;case"Area":case"Radar":f=l&&l!=="none"?l:c;break;default:f=c;break}return f},une=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var l={},c=Object.keys(s),f=0,h=c.length;f<h;f++)for(var p=s[c[f]].stackGroups,m=Object.keys(p),v=0,_=m.length;v<_;v++){var E=p[m[v]],S=E.items,w=E.cateAxisId,A=S.filter(function(O){return fs(O.type).indexOf("Bar")>=0});if(A&&A.length){var I=A[0].type.defaultProps,k=I!==void 0?In(In({},I),A[0].props):A[0].props,V=k.barSize,C=k[w];l[C]||(l[C]=[]);var j=ct(V)?n:V;l[C].push({item:A[0],stackList:A.slice(1),barSize:ct(j)?void 0:Dr(j,r,0)})}}return l},cne=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,l=s===void 0?[]:s,c=e.maxBarSize,f=l.length;if(f<1)return null;var h=Dr(n,i,0,!0),p,m=[];if(l[0].barSize===+l[0].barSize){var v=!1,_=i/f,E=l.reduce(function(V,C){return V+C.barSize||0},0);E+=(f-1)*h,E>=i&&(E-=(f-1)*h,h=0),E>=i&&_>0&&(v=!0,_*=.9,E=f*_);var S=(i-E)/2>>0,w={offset:S-h,size:0};p=l.reduce(function(V,C){var j={item:C.item,position:{offset:w.offset+w.size+h,size:v?_:C.barSize}},O=[].concat(DM(V),[j]);return w=O[O.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(P){O.push({item:P,position:w})}),O},m)}else{var A=Dr(r,i,0,!0);i-2*A-(f-1)*h<=0&&(h=0);var I=(i-2*A-(f-1)*h)/f;I>1&&(I>>=0);var k=c===+c?Math.min(I,c):I;p=l.reduce(function(V,C,j){var O=[].concat(DM(V),[{item:C.item,position:{offset:A+(I+h)*j+(I-k)/2,size:k}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(P){O.push({item:P,position:O[O.length-1].position})}),O},m)}return p},fne=function(e,n,r,i){var s=r.children,l=r.width,c=r.margin,f=l-(c.left||0)-(c.right||0),h=jV({children:s,legendWidth:f});if(h){var p=i||{},m=p.width,v=p.height,_=h.align,E=h.verticalAlign,S=h.layout;if((S==="vertical"||S==="horizontal"&&E==="middle")&&_!=="center"&&Ce(e[_]))return In(In({},e),{},lc({},_,e[_]+(m||0)));if((S==="horizontal"||S==="vertical"&&_==="center")&&E!=="middle"&&Ce(e[E]))return In(In({},e),{},lc({},E,e[E]+(v||0)))}return e},hne=function(e,n,r){return ct(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},MV=function(e,n,r,i,s){var l=n.props.children,c=pi(l,zd).filter(function(h){return hne(i,s,h.props.direction)});if(c&&c.length){var f=c.map(function(h){return h.props.dataKey});return e.reduce(function(h,p){var m=Xn(p,r);if(ct(m))return h;var v=Array.isArray(m)?[Qy(m),Xy(m)]:[m,m],_=f.reduce(function(E,S){var w=Xn(p,S,0),A=v[0]-Math.abs(Array.isArray(w)?w[0]:w),I=v[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(A,E[0]),Math.max(I,E[1])]},[1/0,-1/0]);return[Math.min(_[0],h[0]),Math.max(_[1],h[1])]},[1/0,-1/0])}return null},dne=function(e,n,r,i,s){var l=n.map(function(c){return MV(e,c,r,s,i)}).filter(function(c){return!ct(c)});return l&&l.length?l.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]):null},DV=function(e,n,r,i,s){var l=n.map(function(f){var h=f.props.dataKey;return r==="number"&&h&&MV(e,f,h,i)||Ih(e,h,r,s)});if(r==="number")return l.reduce(function(f,h){return[Math.min(f[0],h[0]),Math.max(f[1],h[1])]},[1/0,-1/0]);var c={};return l.reduce(function(f,h){for(var p=0,m=h.length;p<m;p++)c[h[p]]||(c[h[p]]=!0,f.push(h[p]));return f},[])},LV=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},VV=function(e,n,r,i){if(i)return e.map(function(f){return f.coordinate});var s,l,c=e.map(function(f){return f.coordinate===n&&(s=!0),f.coordinate===r&&(l=!0),f.coordinate});return s||c.push(n),l||c.push(r),c},cs=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,l=e.type,c=e.range,f=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,h=(n||r)&&l==="category"&&i.bandwidth?i.bandwidth()/f:0;if(h=e.axisType==="angleAxis"&&(c==null?void 0:c.length)>=2?Mr(c[0]-c[1])*2*h:h,n&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(m){var v=s?s.indexOf(m):m;return{coordinate:i(v)+h,value:m,offset:h}});return p.filter(function(m){return!Dd(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,v){return{coordinate:i(m)+h,value:m,index:v,offset:h}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+h,value:m,offset:h}}):i.domain().map(function(m,v){return{coordinate:i(m)+h,value:s?s[m]:m,index:v,offset:h}})},Qw=new WeakMap,_m=function(e,n){if(typeof n!="function")return e;Qw.has(e)||Qw.set(e,new WeakMap);var r=Qw.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},$V=function(e,n,r){var i=e.scale,s=e.type,l=e.layout,c=e.axisType;if(i==="auto")return l==="radial"&&c==="radiusAxis"?{scale:Yh(),realScaleType:"band"}:l==="radial"&&c==="angleAxis"?{scale:Eg(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Ch(),realScaleType:"point"}:s==="category"?{scale:Yh(),realScaleType:"band"}:{scale:Eg(),realScaleType:"linear"};if(Ll(i)){var f="scale".concat(My(i));return{scale:(wM[f]||Ch)(),realScaleType:wM[f]?f:"point"}}return rt(i)?{scale:i}:{scale:Ch(),realScaleType:"point"}},VM=1e-4,UV=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-VM,l=Math.max(i[0],i[1])+VM,c=e(n[0]),f=e(n[r-1]);(c<s||c>l||f<s||f>l)&&e.domain([n[0],n[r-1]])}},pne=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},mne=function(e,n){if(!n||n.length!==2||!Ce(n[0])||!Ce(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!Ce(e[0])||e[0]<r)&&(s[0]=r),(!Ce(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},gne=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,l=0,c=0;c<n;++c){var f=Dd(e[c][r][1])?e[c][r][0]:e[c][r][1];f>=0?(e[c][r][0]=s,e[c][r][1]=s+f,s=e[c][r][1]):(e[c][r][0]=l,e[c][r][1]=l+f,l=e[c][r][1])}},yne=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,l=0;l<n;++l){var c=Dd(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=s,e[l][r][1]=s+c,s=e[l][r][1]):(e[l][r][0]=0,e[l][r][1]=0)}},vne={sign:gne,expand:aY,none:vc,silhouette:sY,wiggle:oY,positive:yne},bne=function(e,n,r){var i=n.map(function(c){return c.props.dataKey}),s=vne[r],l=iY().keys(i).value(function(c,f){return+Xn(c,f,0)}).order(xS).offset(s);return l(e)},xne=function(e,n,r,i,s,l){if(!e)return null;var c=l?n.reverse():n,f={},h=c.reduce(function(m,v){var _,E=(_=v.type)!==null&&_!==void 0&&_.defaultProps?In(In({},v.type.defaultProps),v.props):v.props,S=E.stackId,w=E.hide;if(w)return m;var A=E[r],I=m[A]||{hasStack:!1,stackGroups:{}};if(Jn(S)){var k=I.stackGroups[S]||{numericAxisId:r,cateAxisId:i,items:[]};k.items.push(v),I.hasStack=!0,I.stackGroups[S]=k}else I.stackGroups[Zc("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[v]};return In(In({},m),{},lc({},A,I))},f),p={};return Object.keys(h).reduce(function(m,v){var _=h[v];if(_.hasStack){var E={};_.stackGroups=Object.keys(_.stackGroups).reduce(function(S,w){var A=_.stackGroups[w];return In(In({},S),{},lc({},w,{numericAxisId:r,cateAxisId:i,items:A.items,stackedData:bne(e,A.items,s)}))},E)}return In(In({},m),{},lc({},v,_))},p)},BV=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,l=n.originalDomain,c=n.allowDecimals,f=r||n.scale;if(f!=="auto"&&f!=="linear")return null;if(s&&i==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var h=e.domain();if(!h.length)return null;var p=jte(h,s,c);return e.domain([Qy(p),Xy(p)]),{niceTicks:p}}if(s&&i==="number"){var m=e.domain(),v=Mte(m,s,c);return{niceTicks:v}}return null};function $M(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,l=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ct(i[e.dataKey])){var c=sg(n,"value",i[e.dataKey]);if(c)return c.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var f=Xn(i,ct(l)?e.dataKey:l);return ct(f)?null:e.scale(f)}var UM=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,l=e.entry,c=e.index;if(n.type==="category")return r[c]?r[c].coordinate+i:null;var f=Xn(l,n.dataKey,n.domain[c]);return ct(f)?null:n.scale(f)-s/2+i},_ne=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},wne=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?In(In({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Jn(s)){var l=n[s];if(l){var c=l.items.indexOf(e);return c>=0?l.stackedData[c]:null}}return null},Sne=function(e){return e.reduce(function(n,r){return[Qy(r.concat([n[0]]).filter(Ce)),Xy(r.concat([n[1]]).filter(Ce))]},[1/0,-1/0])},qV=function(e,n,r){return Object.keys(e).reduce(function(i,s){var l=e[s],c=l.stackedData,f=c.reduce(function(h,p){var m=Sne(p.slice(n,r+1));return[Math.min(h[0],m[0]),Math.max(h[1],m[1])]},[1/0,-1/0]);return[Math.min(f[0],i[0]),Math.max(f[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},BM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,HS=function(e,n,r){if(rt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Ce(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(BM.test(e[0])){var s=+BM.exec(e[0])[1];i[0]=n[0]-s}else rt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Ce(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(qM.test(e[1])){var l=+qM.exec(e[1])[1];i[1]=n[1]+l}else rt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Pg=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=WT(n,function(m){return m.coordinate}),l=1/0,c=1,f=s.length;c<f;c++){var h=s[c],p=s[c-1];l=Math.min((h.coordinate||0)-(p.coordinate||0),l)}return l===1/0?0:l}return r?void 0:0},zM=function(e,n,r){return!e||!e.length||qd(e,di(r,"type.defaultProps.domain"))?n:e},zV=function(e,n){var r=e.type.defaultProps?In(In({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,l=r.unit,c=r.formatter,f=r.tooltipType,h=r.chartType,p=r.hide;return In(In({},Je(e,!1)),{},{dataKey:i,unit:l,formatter:c,name:s||i,color:xA(e),value:Xn(n,i),type:f,payload:n,chartType:h,hide:p})};function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function FM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function is(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FM(Object(n),!0).forEach(function(r){FV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FV(t,e,n){return e=Ene(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ene(t){var e=Tne(t,"string");return id(e)=="symbol"?e:e+""}function Tne(t,e){if(id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ane(t,e){return kne(t)||Ine(t,e)||Cne(t,e)||One()}function One(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cne(t,e){if(t){if(typeof t=="string")return HM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HM(t,e)}}function HM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ine(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,c=[],f=!0,h=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function kne(t){if(Array.isArray(t))return t}var Ng=Math.PI/180,Pne=function(e){return e*180/Math.PI},fn=function(e,n,r,i){return{x:e+Math.cos(-Ng*i)*r,y:n+Math.sin(-Ng*i)*r}},HV=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Nne=function(e,n,r,i,s){var l=e.width,c=e.height,f=e.startAngle,h=e.endAngle,p=Dr(e.cx,l,l/2),m=Dr(e.cy,c,c/2),v=HV(l,c,r),_=Dr(e.innerRadius,v,0),E=Dr(e.outerRadius,v,v*.8),S=Object.keys(n);return S.reduce(function(w,A){var I=n[A],k=I.domain,V=I.reversed,C;if(ct(I.range))i==="angleAxis"?C=[f,h]:i==="radiusAxis"&&(C=[_,E]),V&&(C=[C[1],C[0]]);else{C=I.range;var j=C,O=Ane(j,2);f=O[0],h=O[1]}var P=$V(I,s),R=P.realScaleType,B=P.scale;B.domain(k).range(C),UV(B);var D=BV(B,is(is({},I),{},{realScaleType:R})),$=is(is(is({},I),D),{},{range:C,radius:E,realScaleType:R,scale:B,cx:p,cy:m,innerRadius:_,outerRadius:E,startAngle:f,endAngle:h});return is(is({},w),{},FV({},A,$))},{})},Rne=function(e,n){var r=e.x,i=e.y,s=n.x,l=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-l,2))},jne=function(e,n){var r=e.x,i=e.y,s=n.cx,l=n.cy,c=Rne({x:r,y:i},{x:s,y:l});if(c<=0)return{radius:c};var f=(r-s)/c,h=Math.acos(f);return i>l&&(h=2*Math.PI-h),{radius:c,angle:Pne(h),angleInRadian:h}},Mne=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(i,s);return{startAngle:n-l*360,endAngle:r-l*360}},Dne=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),l=Math.floor(i/360),c=Math.min(s,l);return e+c*360},GM=function(e,n){var r=e.x,i=e.y,s=jne({x:r,y:i},n),l=s.radius,c=s.angle,f=n.innerRadius,h=n.outerRadius;if(l<f||l>h)return!1;if(l===0)return!0;var p=Mne(n),m=p.startAngle,v=p.endAngle,_=c,E;if(m<=v){for(;_>v;)_-=360;for(;_<m;)_+=360;E=_>=m&&_<=v}else{for(;_>m;)_-=360;for(;_<v;)_+=360;E=_>=v&&_<=m}return E?is(is({},n),{},{radius:l,angle:Dne(_,n)}):null},GV=function(e){return!U.isValidElement(e)&&!rt(e)&&typeof e!="boolean"?e.className:""};function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}var Lne=["offset"];function Vne(t){return qne(t)||Bne(t)||Une(t)||$ne()}function $ne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Une(t,e){if(t){if(typeof t=="string")return GS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GS(t,e)}}function Bne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qne(t){if(Array.isArray(t))return GS(t)}function GS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zne(t,e){if(t==null)return{};var n=Fne(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function KM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KM(Object(n),!0).forEach(function(r){Hne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hne(t,e,n){return e=Gne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gne(t){var e=Kne(t,"string");return ad(e)=="symbol"?e:e+""}function Kne(t,e){if(ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sd(){return sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sd.apply(this,arguments)}var Wne=function(e){var n=e.value,r=e.formatter,i=ct(e.children)?n:e.children;return rt(r)?r(i):i},Yne=function(e,n){var r=Mr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Xne=function(e,n,r){var i=e.position,s=e.viewBox,l=e.offset,c=e.className,f=s,h=f.cx,p=f.cy,m=f.innerRadius,v=f.outerRadius,_=f.startAngle,E=f.endAngle,S=f.clockWise,w=(m+v)/2,A=Yne(_,E),I=A>=0?1:-1,k,V;i==="insideStart"?(k=_+I*l,V=S):i==="insideEnd"?(k=E-I*l,V=!S):i==="end"&&(k=E+I*l,V=S),V=A<=0?V:!V;var C=fn(h,p,w,k),j=fn(h,p,w,k+(V?1:-1)*359),O="M".concat(C.x,",").concat(C.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(V?0:1,`,
    `).concat(j.x,",").concat(j.y),P=ct(e.id)?Zc("recharts-radial-line-"):e.id;return G.createElement("text",sd({},r,{dominantBaseline:"central",className:bt("recharts-radial-bar-label",c)}),G.createElement("defs",null,G.createElement("path",{id:P,d:O})),G.createElement("textPath",{xlinkHref:"#".concat(P)},n))},Qne=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,l=s.cx,c=s.cy,f=s.innerRadius,h=s.outerRadius,p=s.startAngle,m=s.endAngle,v=(p+m)/2;if(i==="outside"){var _=fn(l,c,h+r,v),E=_.x,S=_.y;return{x:E,y:S,textAnchor:E>=l?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:l,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:l,y:c,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:l,y:c,textAnchor:"middle",verticalAnchor:"end"};var w=(f+h)/2,A=fn(l,c,w,v),I=A.x,k=A.y;return{x:I,y:k,textAnchor:"middle",verticalAnchor:"middle"}},Jne=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,l=n,c=l.x,f=l.y,h=l.width,p=l.height,m=p>=0?1:-1,v=m*i,_=m>0?"end":"start",E=m>0?"start":"end",S=h>=0?1:-1,w=S*i,A=S>0?"end":"start",I=S>0?"start":"end";if(s==="top"){var k={x:c+h/2,y:f-m*i,textAnchor:"middle",verticalAnchor:_};return Wn(Wn({},k),r?{height:Math.max(f-r.y,0),width:h}:{})}if(s==="bottom"){var V={x:c+h/2,y:f+p+v,textAnchor:"middle",verticalAnchor:E};return Wn(Wn({},V),r?{height:Math.max(r.y+r.height-(f+p),0),width:h}:{})}if(s==="left"){var C={x:c-w,y:f+p/2,textAnchor:A,verticalAnchor:"middle"};return Wn(Wn({},C),r?{width:Math.max(C.x-r.x,0),height:p}:{})}if(s==="right"){var j={x:c+h+w,y:f+p/2,textAnchor:I,verticalAnchor:"middle"};return Wn(Wn({},j),r?{width:Math.max(r.x+r.width-j.x,0),height:p}:{})}var O=r?{width:h,height:p}:{};return s==="insideLeft"?Wn({x:c+w,y:f+p/2,textAnchor:I,verticalAnchor:"middle"},O):s==="insideRight"?Wn({x:c+h-w,y:f+p/2,textAnchor:A,verticalAnchor:"middle"},O):s==="insideTop"?Wn({x:c+h/2,y:f+v,textAnchor:"middle",verticalAnchor:E},O):s==="insideBottom"?Wn({x:c+h/2,y:f+p-v,textAnchor:"middle",verticalAnchor:_},O):s==="insideTopLeft"?Wn({x:c+w,y:f+v,textAnchor:I,verticalAnchor:E},O):s==="insideTopRight"?Wn({x:c+h-w,y:f+v,textAnchor:A,verticalAnchor:E},O):s==="insideBottomLeft"?Wn({x:c+w,y:f+p-v,textAnchor:I,verticalAnchor:_},O):s==="insideBottomRight"?Wn({x:c+h-w,y:f+p-v,textAnchor:A,verticalAnchor:_},O):Jc(s)&&(Ce(s.x)||Sl(s.x))&&(Ce(s.y)||Sl(s.y))?Wn({x:c+Dr(s.x,h),y:f+Dr(s.y,p),textAnchor:"end",verticalAnchor:"end"},O):Wn({x:c+h/2,y:f+p/2,textAnchor:"middle",verticalAnchor:"middle"},O)},Zne=function(e){return"cx"in e&&Ce(e.cx)};function ir(t){var e=t.offset,n=e===void 0?5:e,r=zne(t,Lne),i=Wn({offset:n},r),s=i.viewBox,l=i.position,c=i.value,f=i.children,h=i.content,p=i.className,m=p===void 0?"":p,v=i.textBreakAll;if(!s||ct(c)&&ct(f)&&!U.isValidElement(h)&&!rt(h))return null;if(U.isValidElement(h))return U.cloneElement(h,i);var _;if(rt(h)){if(_=U.createElement(h,i),U.isValidElement(_))return _}else _=Wne(i);var E=Zne(s),S=Je(i,!0);if(E&&(l==="insideStart"||l==="insideEnd"||l==="end"))return Xne(i,_,S);var w=E?Qne(i):Jne(i);return G.createElement($l,sd({className:bt("recharts-label",m)},S,w,{breakAll:v}),_)}ir.displayName="Label";var KV=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,l=e.endAngle,c=e.r,f=e.radius,h=e.innerRadius,p=e.outerRadius,m=e.x,v=e.y,_=e.top,E=e.left,S=e.width,w=e.height,A=e.clockWise,I=e.labelViewBox;if(I)return I;if(Ce(S)&&Ce(w)){if(Ce(m)&&Ce(v))return{x:m,y:v,width:S,height:w};if(Ce(_)&&Ce(E))return{x:_,y:E,width:S,height:w}}return Ce(m)&&Ce(v)?{x:m,y:v,width:0,height:0}:Ce(n)&&Ce(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:l||i||0,innerRadius:h||0,outerRadius:p||f||c||0,clockWise:A}:e.viewBox?e.viewBox:{}},ere=function(e,n){return e?e===!0?G.createElement(ir,{key:"label-implicit",viewBox:n}):Jn(e)?G.createElement(ir,{key:"label-implicit",viewBox:n,value:e}):U.isValidElement(e)?e.type===ir?U.cloneElement(e,{key:"label-implicit",viewBox:n}):G.createElement(ir,{key:"label-implicit",content:e,viewBox:n}):rt(e)?G.createElement(ir,{key:"label-implicit",content:e,viewBox:n}):Jc(e)?G.createElement(ir,sd({viewBox:n},e,{key:"label-implicit"})):null:null},tre=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=KV(e),l=pi(i,ir).map(function(f,h){return U.cloneElement(f,{viewBox:n||s,key:"label-".concat(h)})});if(!r)return l;var c=ere(e.label,n||s);return[c].concat(Vne(l))};ir.parseViewBox=KV;ir.renderCallByParent=tre;var Jw,WM;function nre(){if(WM)return Jw;WM=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return Jw=t,Jw}var rre=nre();const ire=Gt(rre);function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}var are=["valueAccessor"],sre=["data","dataKey","clockWise","id","textBreakAll"];function ore(t){return fre(t)||cre(t)||ure(t)||lre()}function lre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ure(t,e){if(t){if(typeof t=="string")return KS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KS(t,e)}}function cre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fre(t){if(Array.isArray(t))return KS(t)}function KS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rg(){return Rg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rg.apply(this,arguments)}function YM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YM(Object(n),!0).forEach(function(r){hre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hre(t,e,n){return e=dre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dre(t){var e=pre(t,"string");return od(e)=="symbol"?e:e+""}function pre(t,e){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QM(t,e){if(t==null)return{};var n=mre(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var gre=function(e){return Array.isArray(e.value)?ire(e.value):e.value};function ds(t){var e=t.valueAccessor,n=e===void 0?gre:e,r=QM(t,are),i=r.data,s=r.dataKey,l=r.clockWise,c=r.id,f=r.textBreakAll,h=QM(r,sre);return!i||!i.length?null:G.createElement(qt,{className:"recharts-label-list"},i.map(function(p,m){var v=ct(s)?n(p,m):Xn(p&&p.payload,s),_=ct(c)?{}:{id:"".concat(c,"-").concat(m)};return G.createElement(ir,Rg({},Je(p,!0),h,_,{parentViewBox:p.parentViewBox,value:v,textBreakAll:f,viewBox:ir.parseViewBox(ct(l)?p:XM(XM({},p),{},{clockWise:l})),key:"label-".concat(m),index:m}))}))}ds.displayName="LabelList";function yre(t,e){return t?t===!0?G.createElement(ds,{key:"labelList-implicit",data:e}):G.isValidElement(t)||rt(t)?G.createElement(ds,{key:"labelList-implicit",data:e,content:t}):Jc(t)?G.createElement(ds,Rg({data:e},t,{key:"labelList-implicit"})):null:null}function vre(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=pi(r,ds).map(function(l,c){return U.cloneElement(l,{data:e,key:"labelList-".concat(c)})});if(!n)return i;var s=yre(t.label,e);return[s].concat(ore(i))}ds.renderCallByParent=vre;function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function WS(){return WS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WS.apply(this,arguments)}function JM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JM(Object(n),!0).forEach(function(r){bre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bre(t,e,n){return e=xre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xre(t){var e=_re(t,"string");return ld(e)=="symbol"?e:e+""}function _re(t,e){if(ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wre=function(e,n){var r=Mr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},wm=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,l=e.sign,c=e.isExternal,f=e.cornerRadius,h=e.cornerIsExternal,p=f*(c?1:-1)+i,m=Math.asin(f/p)/Ng,v=h?s:s+l*m,_=fn(n,r,p,v),E=fn(n,r,i,v),S=h?s-l*m:s,w=fn(n,r,p*Math.cos(m*Ng),S);return{center:_,circleTangency:E,lineTangency:w,theta:m}},WV=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,l=e.startAngle,c=e.endAngle,f=wre(l,c),h=l+f,p=fn(n,r,s,l),m=fn(n,r,s,h),v="M ".concat(p.x,",").concat(p.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(f)>180),",").concat(+(l>h),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var _=fn(n,r,i,l),E=fn(n,r,i,h);v+="L ".concat(E.x,",").concat(E.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(f)>180),",").concat(+(l<=h),`,
            `).concat(_.x,",").concat(_.y," Z")}else v+="L ".concat(n,",").concat(r," Z");return v},Sre=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,l=e.cornerRadius,c=e.forceCornerRadius,f=e.cornerIsExternal,h=e.startAngle,p=e.endAngle,m=Mr(p-h),v=wm({cx:n,cy:r,radius:s,angle:h,sign:m,cornerRadius:l,cornerIsExternal:f}),_=v.circleTangency,E=v.lineTangency,S=v.theta,w=wm({cx:n,cy:r,radius:s,angle:p,sign:-m,cornerRadius:l,cornerIsExternal:f}),A=w.circleTangency,I=w.lineTangency,k=w.theta,V=f?Math.abs(h-p):Math.abs(h-p)-S-k;if(V<0)return c?"M ".concat(E.x,",").concat(E.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):WV({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:h,endAngle:p});var C="M ".concat(E.x,",").concat(E.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(V>180),",").concat(+(m<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(I.x,",").concat(I.y,`
  `);if(i>0){var j=wm({cx:n,cy:r,radius:i,angle:h,sign:m,isExternal:!0,cornerRadius:l,cornerIsExternal:f}),O=j.circleTangency,P=j.lineTangency,R=j.theta,B=wm({cx:n,cy:r,radius:i,angle:p,sign:-m,isExternal:!0,cornerRadius:l,cornerIsExternal:f}),D=B.circleTangency,$=B.lineTangency,L=B.theta,Q=f?Math.abs(h-p):Math.abs(h-p)-R-L;if(Q<0&&l===0)return"".concat(C,"L").concat(n,",").concat(r,"Z");C+="L".concat($.x,",").concat($.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Q>180),",").concat(+(m>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(P.x,",").concat(P.y,"Z")}else C+="L".concat(n,",").concat(r,"Z");return C},Ere={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_A=function(e){var n=ZM(ZM({},Ere),e),r=n.cx,i=n.cy,s=n.innerRadius,l=n.outerRadius,c=n.cornerRadius,f=n.forceCornerRadius,h=n.cornerIsExternal,p=n.startAngle,m=n.endAngle,v=n.className;if(l<s||p===m)return null;var _=bt("recharts-sector",v),E=l-s,S=Dr(c,E,0,!0),w;return S>0&&Math.abs(p-m)<360?w=Sre({cx:r,cy:i,innerRadius:s,outerRadius:l,cornerRadius:Math.min(S,E/2),forceCornerRadius:f,cornerIsExternal:h,startAngle:p,endAngle:m}):w=WV({cx:r,cy:i,innerRadius:s,outerRadius:l,startAngle:p,endAngle:m}),G.createElement("path",WS({},Je(n,!0),{className:_,d:w,role:"img"}))};function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function YS(){return YS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YS.apply(this,arguments)}function eD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eD(Object(n),!0).forEach(function(r){Tre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tre(t,e,n){return e=Are(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Are(t){var e=Ore(t,"string");return ud(e)=="symbol"?e:e+""}function Ore(t,e){if(ud(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nD={curveBasisClosed:KW,curveBasisOpen:WW,curveBasis:GW,curveBumpX:NW,curveBumpY:RW,curveLinearClosed:YW,curveLinear:Ly,curveMonotoneX:XW,curveMonotoneY:QW,curveNatural:JW,curveStep:ZW,curveStepAfter:tY,curveStepBefore:eY},Sm=function(e){return e.x===+e.x&&e.y===+e.y},ah=function(e){return e.x},sh=function(e){return e.y},Cre=function(e,n){if(rt(e))return e;var r="curve".concat(My(e));return(r==="curveMonotone"||r==="curveBump")&&n?nD["".concat(r).concat(n==="vertical"?"Y":"X")]:nD[r]||Ly},Ire=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,l=e.baseLine,c=e.layout,f=e.connectNulls,h=f===void 0?!1:f,p=Cre(r,c),m=h?s.filter(function(S){return Sm(S)}):s,v;if(Array.isArray(l)){var _=h?l.filter(function(S){return Sm(S)}):l,E=m.map(function(S,w){return tD(tD({},S),{},{base:_[w]})});return c==="vertical"?v=pm().y(sh).x1(ah).x0(function(S){return S.base.x}):v=pm().x(ah).y1(sh).y0(function(S){return S.base.y}),v.defined(Sm).curve(p),v(E)}return c==="vertical"&&Ce(l)?v=pm().y(sh).x1(ah).x0(l):Ce(l)?v=pm().x(ah).y1(sh).y0(l):v=G5().x(ah).y(sh),v.defined(Sm).curve(p),v(m)},jg=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var l=r&&r.length?Ire(e):i;return U.createElement("path",YS({},Je(e,!1),og(e),{className:bt("recharts-curve",n),d:l,ref:s}))},Zw={exports:{}},e1,rD;function kre(){if(rD)return e1;rD=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return e1=t,e1}var t1,iD;function Pre(){if(iD)return t1;iD=1;var t=kre();function e(){}function n(){}return n.resetWarningCache=e,t1=function(){function r(l,c,f,h,p,m){if(m!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},t1}var aD;function Nre(){return aD||(aD=1,Zw.exports=Pre()()),Zw.exports}var Rre=Nre();const Yt=Gt(Rre);var jre=Object.getOwnPropertyNames,Mre=Object.getOwnPropertySymbols,Dre=Object.prototype.hasOwnProperty;function sD(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function Em(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,l=s.get(n),c=s.get(r);if(l&&c)return l===r&&c===n;s.set(n,r),s.set(r,n);var f=t(n,r,i);return s.delete(n),s.delete(r),f}}function Lre(t){return t!=null?t[Symbol.toStringTag]:void 0}function oD(t){return jre(t).concat(Mre(t))}var Vre=Object.hasOwn||(function(t,e){return Dre.call(t,e)});function Xl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var $re="__v",Ure="__o",Bre="_owner",lD=Object.getOwnPropertyDescriptor,uD=Object.keys;function qre(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function zre(t,e){return Xl(t.getTime(),e.getTime())}function Fre(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Hre(t,e){return t===e}function cD(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),l,c,f=0;(l=s.next())&&!l.done;){for(var h=e.entries(),p=!1,m=0;(c=h.next())&&!c.done;){if(i[m]){m++;continue}var v=l.value,_=c.value;if(n.equals(v[0],_[0],f,m,t,e,n)&&n.equals(v[1],_[1],v[0],_[0],t,e,n)){p=i[m]=!0;break}m++}if(!p)return!1;f++}return!0}var Gre=Xl;function Kre(t,e,n){var r=uD(t),i=r.length;if(uD(e).length!==i)return!1;for(;i-- >0;)if(!YV(t,e,n,r[i]))return!1;return!0}function oh(t,e,n){var r=oD(t),i=r.length;if(oD(e).length!==i)return!1;for(var s,l,c;i-- >0;)if(s=r[i],!YV(t,e,n,s)||(l=lD(t,s),c=lD(e,s),(l||c)&&(!l||!c||l.configurable!==c.configurable||l.enumerable!==c.enumerable||l.writable!==c.writable)))return!1;return!0}function Wre(t,e){return Xl(t.valueOf(),e.valueOf())}function Yre(t,e){return t.source===e.source&&t.flags===e.flags}function fD(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),l,c;(l=s.next())&&!l.done;){for(var f=e.values(),h=!1,p=0;(c=f.next())&&!c.done;){if(!i[p]&&n.equals(l.value,c.value,l.value,c.value,t,e,n)){h=i[p]=!0;break}p++}if(!h)return!1}return!0}function Xre(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Qre(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function YV(t,e,n,r){return(r===Bre||r===Ure||r===$re)&&(t.$$typeof||e.$$typeof)?!0:Vre(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Jre="[object Arguments]",Zre="[object Boolean]",eie="[object Date]",tie="[object Error]",nie="[object Map]",rie="[object Number]",iie="[object Object]",aie="[object RegExp]",sie="[object Set]",oie="[object String]",lie="[object URL]",uie=Array.isArray,hD=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,dD=Object.assign,cie=Object.prototype.toString.call.bind(Object.prototype.toString);function fie(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,l=t.areNumbersEqual,c=t.areObjectsEqual,f=t.arePrimitiveWrappersEqual,h=t.areRegExpsEqual,p=t.areSetsEqual,m=t.areTypedArraysEqual,v=t.areUrlsEqual,_=t.unknownTagComparators;return function(S,w,A){if(S===w)return!0;if(S==null||w==null)return!1;var I=typeof S;if(I!==typeof w)return!1;if(I!=="object")return I==="number"?l(S,w,A):I==="function"?i(S,w,A):!1;var k=S.constructor;if(k!==w.constructor)return!1;if(k===Object)return c(S,w,A);if(uie(S))return e(S,w,A);if(hD!=null&&hD(S))return m(S,w,A);if(k===Date)return n(S,w,A);if(k===RegExp)return h(S,w,A);if(k===Map)return s(S,w,A);if(k===Set)return p(S,w,A);var V=cie(S);if(V===eie)return n(S,w,A);if(V===aie)return h(S,w,A);if(V===nie)return s(S,w,A);if(V===sie)return p(S,w,A);if(V===iie)return typeof S.then!="function"&&typeof w.then!="function"&&c(S,w,A);if(V===lie)return v(S,w,A);if(V===tie)return r(S,w,A);if(V===Jre)return c(S,w,A);if(V===Zre||V===rie||V===oie)return f(S,w,A);if(_){var C=_[V];if(!C){var j=Lre(S);j&&(C=_[j])}if(C)return C(S,w,A)}return!1}}function hie(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?oh:qre,areDatesEqual:zre,areErrorsEqual:Fre,areFunctionsEqual:Hre,areMapsEqual:r?sD(cD,oh):cD,areNumbersEqual:Gre,areObjectsEqual:r?oh:Kre,arePrimitiveWrappersEqual:Wre,areRegExpsEqual:Yre,areSetsEqual:r?sD(fD,oh):fD,areTypedArraysEqual:r?oh:Xre,areUrlsEqual:Qre,unknownTagComparators:void 0};if(n&&(i=dD({},i,n(i))),e){var s=Em(i.areArraysEqual),l=Em(i.areMapsEqual),c=Em(i.areObjectsEqual),f=Em(i.areSetsEqual);i=dD({},i,{areArraysEqual:s,areMapsEqual:l,areObjectsEqual:c,areSetsEqual:f})}return i}function die(t){return function(e,n,r,i,s,l,c){return t(e,n,c)}}function pie(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(f,h){var p=r(),m=p.cache,v=m===void 0?e?new WeakMap:void 0:m,_=p.meta;return n(f,h,{cache:v,equals:i,meta:_,strict:s})};if(e)return function(f,h){return n(f,h,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var l={cache:void 0,equals:i,meta:void 0,strict:s};return function(f,h){return n(f,h,l)}}var mie=Ro();Ro({strict:!0});Ro({circular:!0});Ro({circular:!0,strict:!0});Ro({createInternalComparator:function(){return Xl}});Ro({strict:!0,createInternalComparator:function(){return Xl}});Ro({circular:!0,createInternalComparator:function(){return Xl}});Ro({circular:!0,createInternalComparator:function(){return Xl},strict:!0});function Ro(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,l=s===void 0?!1:s,c=hie(t),f=fie(c),h=r?r(f):die(f);return pie({circular:n,comparator:f,createState:i,equals:h,strict:l})}function gie(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function pD(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):gie(i)};requestAnimationFrame(r)}function XS(t){"@babel/helpers - typeof";return XS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XS(t)}function yie(t){return _ie(t)||xie(t)||bie(t)||vie()}function vie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bie(t,e){if(t){if(typeof t=="string")return mD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mD(t,e)}}function mD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _ie(t){if(Array.isArray(t))return t}function wie(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var l=s,c=yie(l),f=c[0],h=c.slice(1);if(typeof f=="number"){pD(i.bind(null,h),f);return}i(f),pD(i.bind(null,h));return}XS(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function gD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gD(Object(n),!0).forEach(function(r){XV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XV(t,e,n){return e=Sie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sie(t){var e=Eie(t,"string");return cd(e)==="symbol"?e:String(e)}function Eie(t,e){if(cd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tie=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},Aie=function(e){return e},Oie=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},kh=function(e,n){return Object.keys(n).reduce(function(r,i){return yD(yD({},r),{},XV({},i,e(i,n[i])))},{})},vD=function(e,n,r){return e.map(function(i){return"".concat(Oie(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Cie(t,e){return Pie(t)||kie(t,e)||QV(t,e)||Iie()}function Iie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,c=[],f=!0,h=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function Pie(t){if(Array.isArray(t))return t}function Nie(t){return Mie(t)||jie(t)||QV(t)||Rie()}function Rie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QV(t,e){if(t){if(typeof t=="string")return QS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QS(t,e)}}function jie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mie(t){if(Array.isArray(t))return QS(t)}function QS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Mg=1e-4,JV=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},ZV=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},bD=function(e,n){return function(r){var i=JV(e,n);return ZV(i,r)}},Die=function(e,n){return function(r){var i=JV(e,n),s=[].concat(Nie(i.map(function(l,c){return l*c}).slice(1)),[0]);return ZV(s,r)}},xD=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],l=n[2],c=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,l=1,c=1;break;case"ease":i=.25,s=.1,l=.25,c=1;break;case"ease-in":i=.42,s=0,l=1,c=1;break;case"ease-out":i=.42,s=0,l=.58,c=1;break;case"ease-in-out":i=0,s=0,l=.58,c=1;break;default:{var f=n[0].split("(");if(f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4){var h=f[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),p=Cie(h,4);i=p[0],s=p[1],l=p[2],c=p[3]}}}var m=bD(i,l),v=bD(s,c),_=Die(i,l),E=function(A){return A>1?1:A<0?0:A},S=function(A){for(var I=A>1?1:A,k=I,V=0;V<8;++V){var C=m(k)-I,j=_(k);if(Math.abs(C-I)<Mg||j<Mg)return v(k);k=E(k-C/j)}return v(k)};return S.isStepper=!1,S},Lie=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,l=e.dt,c=l===void 0?17:l,f=function(p,m,v){var _=-(p-m)*r,E=v*s,S=v+(_-E)*c/1e3,w=v*c/1e3+p;return Math.abs(w-m)<Mg&&Math.abs(S)<Mg?[m,0]:[w,S]};return f.isStepper=!0,f.dt=c,f},Vie=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return xD(i);case"spring":return Lie();default:if(i.split("(")[0]==="cubic-bezier")return xD(i)}return typeof i=="function"?i:null};function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}function _D(t){return Bie(t)||Uie(t)||e9(t)||$ie()}function $ie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bie(t){if(Array.isArray(t))return ZS(t)}function wD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wD(Object(n),!0).forEach(function(r){JS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JS(t,e,n){return e=qie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qie(t){var e=zie(t,"string");return fd(e)==="symbol"?e:String(e)}function zie(t,e){if(fd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fie(t,e){return Kie(t)||Gie(t,e)||e9(t,e)||Hie()}function Hie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e9(t,e){if(t){if(typeof t=="string")return ZS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZS(t,e)}}function ZS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,c=[],f=!0,h=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function Kie(t){if(Array.isArray(t))return t}var Dg=function(e,n,r){return e+(n-e)*r},eE=function(e){var n=e.from,r=e.to;return n!==r},Wie=function t(e,n,r){var i=kh(function(s,l){if(eE(l)){var c=e(l.from,l.to,l.velocity),f=Fie(c,2),h=f[0],p=f[1];return pr(pr({},l),{},{from:h,velocity:p})}return l},n);return r<1?kh(function(s,l){return eE(l)?pr(pr({},l),{},{velocity:Dg(l.velocity,i[s].velocity,r),from:Dg(l.from,i[s].from,r)}):l},n):t(e,i,r-1)};const Yie=(function(t,e,n,r,i){var s=Tie(t,e),l=s.reduce(function(w,A){return pr(pr({},w),{},JS({},A,[t[A],e[A]]))},{}),c=s.reduce(function(w,A){return pr(pr({},w),{},JS({},A,{from:t[A],velocity:0,to:e[A]}))},{}),f=-1,h,p,m=function(){return null},v=function(){return kh(function(A,I){return I.from},c)},_=function(){return!Object.values(c).filter(eE).length},E=function(A){h||(h=A);var I=A-h,k=I/n.dt;c=Wie(n,c,k),i(pr(pr(pr({},t),e),v())),h=A,_()||(f=requestAnimationFrame(m))},S=function(A){p||(p=A);var I=(A-p)/r,k=kh(function(C,j){return Dg.apply(void 0,_D(j).concat([n(I)]))},l);if(i(pr(pr(pr({},t),e),k)),I<1)f=requestAnimationFrame(m);else{var V=kh(function(C,j){return Dg.apply(void 0,_D(j).concat([n(1)]))},l);i(pr(pr(pr({},t),e),V))}};return m=n.isStepper?E:S,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(f)}}});function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}var Xie=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Qie(t,e){if(t==null)return{};var n=Jie(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Jie(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function n1(t){return nae(t)||tae(t)||eae(t)||Zie()}function Zie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eae(t,e){if(t){if(typeof t=="string")return tE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tE(t,e)}}function tae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nae(t){if(Array.isArray(t))return tE(t)}function tE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function SD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SD(Object(n),!0).forEach(function(r){bh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bh(t,e,n){return e=t9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t9(r.key),r)}}function aae(t,e,n){return e&&iae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function t9(t){var e=sae(t,"string");return Oc(e)==="symbol"?e:String(e)}function sae(t,e){if(Oc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nE(t,e)}function nE(t,e){return nE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nE(t,e)}function lae(t){var e=uae();return function(){var r=Lg(t),i;if(e){var s=Lg(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return rE(this,i)}}function rE(t,e){if(e&&(Oc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iE(t)}function iE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lg(t){return Lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lg(t)}var Na=(function(t){oae(n,t);var e=lae(n);function n(r,i){var s;rae(this,n),s=e.call(this,r,i);var l=s.props,c=l.isActive,f=l.attributeName,h=l.from,p=l.to,m=l.steps,v=l.children,_=l.duration;if(s.handleStyleChange=s.handleStyleChange.bind(iE(s)),s.changeStyle=s.changeStyle.bind(iE(s)),!c||_<=0)return s.state={style:{}},typeof v=="function"&&(s.state={style:p}),rE(s);if(m&&m.length)s.state={style:m[0].style};else if(h){if(typeof v=="function")return s.state={style:h},rE(s);s.state={style:f?bh({},f,h):h}}else s.state={style:{}};return s}return aae(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,l=i.canBegin;this.mounted=!0,!(!s||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,l=s.isActive,c=s.canBegin,f=s.attributeName,h=s.shouldReAnimate,p=s.to,m=s.from,v=this.state.style;if(c){if(!l){var _={style:f?bh({},f,p):p};this.state&&v&&(f&&v[f]!==p||!f&&v!==p)&&this.setState(_);return}if(!(mie(i.to,p)&&i.canBegin&&i.isActive)){var E=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var S=E||h?m:i.to;if(this.state&&v){var w={style:f?bh({},f,S):S};(f&&v[f]!==S||!f&&v!==S)&&this.setState(w)}this.runAnimation(Wi(Wi({},this.props),{},{from:S,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,l=i.from,c=i.to,f=i.duration,h=i.easing,p=i.begin,m=i.onAnimationEnd,v=i.onAnimationStart,_=Yie(l,c,Vie(h),f,this.changeStyle),E=function(){s.stopJSAnimation=_()};this.manager.start([v,p,E,f,m])}},{key:"runStepAnimation",value:function(i){var s=this,l=i.steps,c=i.begin,f=i.onAnimationStart,h=l[0],p=h.style,m=h.duration,v=m===void 0?0:m,_=function(S,w,A){if(A===0)return S;var I=w.duration,k=w.easing,V=k===void 0?"ease":k,C=w.style,j=w.properties,O=w.onAnimationEnd,P=A>0?l[A-1]:w,R=j||Object.keys(C);if(typeof V=="function"||V==="spring")return[].concat(n1(S),[s.runJSAnimation.bind(s,{from:P.style,to:C,duration:I,easing:V}),I]);var B=vD(R,I,V),D=Wi(Wi(Wi({},P.style),C),{},{transition:B});return[].concat(n1(S),[D,I,O]).filter(Aie)};return this.manager.start([f].concat(n1(l.reduce(_,[p,Math.max(v,c)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=wie());var s=i.begin,l=i.duration,c=i.attributeName,f=i.to,h=i.easing,p=i.onAnimationStart,m=i.onAnimationEnd,v=i.steps,_=i.children,E=this.manager;if(this.unSubscribe=E.subscribe(this.handleStyleChange),typeof h=="function"||typeof _=="function"||h==="spring"){this.runJSAnimation(i);return}if(v.length>1){this.runStepAnimation(i);return}var S=c?bh({},c,f):f,w=vD(Object.keys(S),l,h);E.start([p,s,Wi(Wi({},S),{},{transition:w}),l,m])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var l=i.duration;i.attributeName,i.easing;var c=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var f=Qie(i,Xie),h=U.Children.count(s),p=this.state.style;if(typeof s=="function")return s(p);if(!c||h===0||l<=0)return s;var m=function(_){var E=_.props,S=E.style,w=S===void 0?{}:S,A=E.className,I=U.cloneElement(_,Wi(Wi({},f),{},{style:Wi(Wi({},w),p),className:A}));return I};return h===1?m(U.Children.only(s)):G.createElement("div",null,U.Children.map(s,function(v){return m(v)}))}}]),n})(U.PureComponent);Na.displayName="Animate";Na.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Na.propTypes={from:Yt.oneOfType([Yt.object,Yt.string]),to:Yt.oneOfType([Yt.object,Yt.string]),attributeName:Yt.string,duration:Yt.number,begin:Yt.number,easing:Yt.oneOfType([Yt.string,Yt.func]),steps:Yt.arrayOf(Yt.shape({duration:Yt.number.isRequired,style:Yt.object.isRequired,easing:Yt.oneOfType([Yt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Yt.func]),properties:Yt.arrayOf("string"),onAnimationEnd:Yt.func})),children:Yt.oneOfType([Yt.node,Yt.func]),isActive:Yt.bool,canBegin:Yt.bool,onAnimationEnd:Yt.func,shouldReAnimate:Yt.bool,onAnimationStart:Yt.func,onAnimationReStart:Yt.func};function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}function Vg(){return Vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vg.apply(this,arguments)}function cae(t,e){return pae(t)||dae(t,e)||hae(t,e)||fae()}function fae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hae(t,e){if(t){if(typeof t=="string")return ED(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ED(t,e)}}function ED(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,c=[],f=!0,h=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function pae(t){if(Array.isArray(t))return t}function TD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TD(Object(n),!0).forEach(function(r){mae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mae(t,e,n){return e=gae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gae(t){var e=yae(t,"string");return hd(e)=="symbol"?e:e+""}function yae(t,e){if(hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OD=function(e,n,r,i,s){var l=Math.min(Math.abs(r)/2,Math.abs(i)/2),c=i>=0?1:-1,f=r>=0?1:-1,h=i>=0&&r>=0||i<0&&r<0?1:0,p;if(l>0&&s instanceof Array){for(var m=[0,0,0,0],v=0,_=4;v<_;v++)m[v]=s[v]>l?l:s[v];p="M".concat(e,",").concat(n+c*m[0]),m[0]>0&&(p+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(h,",").concat(e+f*m[0],",").concat(n)),p+="L ".concat(e+r-f*m[1],",").concat(n),m[1]>0&&(p+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(h,`,
        `).concat(e+r,",").concat(n+c*m[1])),p+="L ".concat(e+r,",").concat(n+i-c*m[2]),m[2]>0&&(p+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(h,`,
        `).concat(e+r-f*m[2],",").concat(n+i)),p+="L ".concat(e+f*m[3],",").concat(n+i),m[3]>0&&(p+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(h,`,
        `).concat(e,",").concat(n+i-c*m[3])),p+="Z"}else if(l>0&&s===+s&&s>0){var E=Math.min(l,s);p="M ".concat(e,",").concat(n+c*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(h,",").concat(e+f*E,",").concat(n,`
            L `).concat(e+r-f*E,",").concat(n,`
            A `).concat(E,",").concat(E,",0,0,").concat(h,",").concat(e+r,",").concat(n+c*E,`
            L `).concat(e+r,",").concat(n+i-c*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(h,",").concat(e+r-f*E,",").concat(n+i,`
            L `).concat(e+f*E,",").concat(n+i,`
            A `).concat(E,",").concat(E,",0,0,").concat(h,",").concat(e,",").concat(n+i-c*E," Z")}else p="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return p},vae=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,l=n.y,c=n.width,f=n.height;if(Math.abs(c)>0&&Math.abs(f)>0){var h=Math.min(s,s+c),p=Math.max(s,s+c),m=Math.min(l,l+f),v=Math.max(l,l+f);return r>=h&&r<=p&&i>=m&&i<=v}return!1},bae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wA=function(e){var n=AD(AD({},bae),e),r=U.useRef(),i=U.useState(-1),s=cae(i,2),l=s[0],c=s[1];U.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var V=r.current.getTotalLength();V&&c(V)}catch{}},[]);var f=n.x,h=n.y,p=n.width,m=n.height,v=n.radius,_=n.className,E=n.animationEasing,S=n.animationDuration,w=n.animationBegin,A=n.isAnimationActive,I=n.isUpdateAnimationActive;if(f!==+f||h!==+h||p!==+p||m!==+m||p===0||m===0)return null;var k=bt("recharts-rectangle",_);return I?G.createElement(Na,{canBegin:l>0,from:{width:p,height:m,x:f,y:h},to:{width:p,height:m,x:f,y:h},duration:S,animationEasing:E,isActive:I},function(V){var C=V.width,j=V.height,O=V.x,P=V.y;return G.createElement(Na,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:S,isActive:A,easing:E},G.createElement("path",Vg({},Je(n,!0),{className:k,d:OD(O,P,C,j,v),ref:r})))}):G.createElement("path",Vg({},Je(n,!0),{className:k,d:OD(f,h,p,m,v)}))},xae=["points","className","baseLinePoints","connectNulls"];function Qu(){return Qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qu.apply(this,arguments)}function _ae(t,e){if(t==null)return{};var n=wae(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function CD(t){return Aae(t)||Tae(t)||Eae(t)||Sae()}function Sae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eae(t,e){if(t){if(typeof t=="string")return aE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aE(t,e)}}function Tae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Aae(t){if(Array.isArray(t))return aE(t)}function aE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ID=function(e){return e&&e.x===+e.x&&e.y===+e.y},Oae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){ID(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),ID(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Ph=function(e,n){var r=Oae(e);n&&(r=[r.reduce(function(s,l){return[].concat(CD(s),CD(l))},[])]);var i=r.map(function(s){return s.reduce(function(l,c,f){return"".concat(l).concat(f===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},Cae=function(e,n,r){var i=Ph(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Ph(n.reverse(),r).slice(1))},Iae=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,s=e.connectNulls,l=_ae(e,xae);if(!n||!n.length)return null;var c=bt("recharts-polygon",r);if(i&&i.length){var f=l.stroke&&l.stroke!=="none",h=Cae(n,i,s);return G.createElement("g",{className:c},G.createElement("path",Qu({},Je(l,!0),{fill:h.slice(-1)==="Z"?l.fill:"none",stroke:"none",d:h})),f?G.createElement("path",Qu({},Je(l,!0),{fill:"none",d:Ph(n,s)})):null,f?G.createElement("path",Qu({},Je(l,!0),{fill:"none",d:Ph(i,s)})):null)}var p=Ph(n,s);return G.createElement("path",Qu({},Je(l,!0),{fill:p.slice(-1)==="Z"?l.fill:"none",className:c,d:p}))};function sE(){return sE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sE.apply(this,arguments)}var ev=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,l=bt("recharts-dot",s);return n===+n&&r===+r&&i===+i?U.createElement("circle",sE({},Je(e,!1),og(e),{className:l,cx:n,cy:r,r:i})):null};function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}var kae=["x","y","top","left","width","height","className"];function oE(){return oE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oE.apply(this,arguments)}function kD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kD(Object(n),!0).forEach(function(r){Nae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nae(t,e,n){return e=Rae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rae(t){var e=jae(t,"string");return dd(e)=="symbol"?e:e+""}function jae(t,e){if(dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mae(t,e){if(t==null)return{};var n=Dae(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Lae=function(e,n,r,i,s,l){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(l,",").concat(n,"h").concat(r)},Vae=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,l=e.top,c=l===void 0?0:l,f=e.left,h=f===void 0?0:f,p=e.width,m=p===void 0?0:p,v=e.height,_=v===void 0?0:v,E=e.className,S=Mae(e,kae),w=Pae({x:r,y:s,top:c,left:h,width:m,height:_},S);return!Ce(r)||!Ce(s)||!Ce(m)||!Ce(_)||!Ce(c)||!Ce(h)?null:G.createElement("path",oE({},Je(w,!0),{className:bt("recharts-cross",E),d:Lae(r,s,m,_,c,h)}))},r1,PD;function $ae(){if(PD)return r1;PD=1;var t=Yy(),e=yV(),n=ja();function r(i,s){return i&&i.length?t(i,n(s,2),e):void 0}return r1=r,r1}var Uae=$ae();const Bae=Gt(Uae);var i1,ND;function qae(){if(ND)return i1;ND=1;var t=Yy(),e=ja(),n=vV();function r(i,s){return i&&i.length?t(i,e(s,2),n):void 0}return i1=r,i1}var zae=qae();const Fae=Gt(zae);var Hae=["cx","cy","angle","ticks","axisLine"],Gae=["ticks","tick","angle","tickFormatter","stroke"];function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}function Nh(){return Nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nh.apply(this,arguments)}function RD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RD(Object(n),!0).forEach(function(r){tv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jD(t,e){if(t==null)return{};var n=Kae(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r9(r.key),r)}}function Yae(t,e,n){return e&&MD(t.prototype,e),n&&MD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xae(t,e,n){return e=$g(e),Qae(t,n9()?Reflect.construct(e,n||[],$g(t).constructor):e.apply(t,n))}function Qae(t,e){if(e&&(Cc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jae(t)}function Jae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n9=function(){return!!t})()}function $g(t){return $g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$g(t)}function Zae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lE(t,e)}function lE(t,e){return lE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lE(t,e)}function tv(t,e,n){return e=r9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r9(t){var e=ese(t,"string");return Cc(e)=="symbol"?e:e+""}function ese(t,e){if(Cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nv=(function(t){function e(){return Wae(this,e),Xae(this,e,arguments)}return Zae(e,t),Yae(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,s=this.props,l=s.angle,c=s.cx,f=s.cy;return fn(c,f,i,l)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,s=r.cy,l=r.angle,c=r.ticks,f=Bae(c,function(p){return p.coordinate||0}),h=Fae(c,function(p){return p.coordinate||0});return{cx:i,cy:s,startAngle:l,endAngle:l,innerRadius:h.coordinate||0,outerRadius:f.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,l=r.angle,c=r.ticks,f=r.axisLine,h=jD(r,Hae),p=c.reduce(function(E,S){return[Math.min(E[0],S.coordinate),Math.max(E[1],S.coordinate)]},[1/0,-1/0]),m=fn(i,s,p[0],l),v=fn(i,s,p[1],l),_=cl(cl(cl({},Je(h,!1)),{},{fill:"none"},Je(f,!1)),{},{x1:m.x,y1:m.y,x2:v.x,y2:v.y});return G.createElement("line",Nh({className:"recharts-polar-radius-axis-line"},_))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,l=i.tick,c=i.angle,f=i.tickFormatter,h=i.stroke,p=jD(i,Gae),m=this.getTickTextAnchor(),v=Je(p,!1),_=Je(l,!1),E=s.map(function(S,w){var A=r.getTickValueCoord(S),I=cl(cl(cl(cl({textAnchor:m,transform:"rotate(".concat(90-c,", ").concat(A.x,", ").concat(A.y,")")},v),{},{stroke:"none",fill:h},_),{},{index:w},A),{},{payload:S});return G.createElement(qt,Nh({className:bt("recharts-polar-radius-axis-tick",GV(l)),key:"tick-".concat(S.coordinate)},Vl(r.props,S,w)),e.renderTickItem(l,I,f?f(S.value,w):S.value))});return G.createElement(qt,{className:"recharts-polar-radius-axis-ticks"},E)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.axisLine,l=r.tick;return!i||!i.length?null:G.createElement(qt,{className:bt("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),l&&this.renderTicks(),ir.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,s){var l;return G.isValidElement(r)?l=G.cloneElement(r,i):rt(r)?l=r(i):l=G.createElement($l,Nh({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),l}}])})(U.PureComponent);tv(nv,"displayName","PolarRadiusAxis");tv(nv,"axisType","radiusAxis");tv(nv,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ic(t){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}function bl(){return bl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bl.apply(this,arguments)}function DD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DD(Object(n),!0).forEach(function(r){rv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a9(r.key),r)}}function nse(t,e,n){return e&&LD(t.prototype,e),n&&LD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function rse(t,e,n){return e=Ug(e),ise(t,i9()?Reflect.construct(e,n||[],Ug(t).constructor):e.apply(t,n))}function ise(t,e){if(e&&(Ic(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ase(t)}function ase(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i9=function(){return!!t})()}function Ug(t){return Ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ug(t)}function sse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uE(t,e)}function uE(t,e){return uE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uE(t,e)}function rv(t,e,n){return e=a9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a9(t){var e=ose(t,"string");return Ic(e)=="symbol"?e:e+""}function ose(t,e){if(Ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lse=Math.PI/180,VD=1e-5,iv=(function(t){function e(){return tse(this,e),rse(this,e,arguments)}return sse(e,t),nse(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.cx,l=i.cy,c=i.radius,f=i.orientation,h=i.tickSize,p=h||8,m=fn(s,l,c,r.coordinate),v=fn(s,l,c+(f==="inner"?-1:1)*p,r.coordinate);return{x1:m.x,y1:m.y,x2:v.x,y2:v.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,s=Math.cos(-r.coordinate*lse),l;return s>VD?l=i==="outer"?"start":"end":s<-VD?l=i==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,l=r.radius,c=r.axisLine,f=r.axisLineType,h=fl(fl({},Je(this.props,!1)),{},{fill:"none"},Je(c,!1));if(f==="circle")return G.createElement(ev,bl({className:"recharts-polar-angle-axis-line"},h,{cx:i,cy:s,r:l}));var p=this.props.ticks,m=p.map(function(v){return fn(i,s,l,v.coordinate)});return G.createElement(Iae,bl({className:"recharts-polar-angle-axis-line"},h,{points:m}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,l=i.tick,c=i.tickLine,f=i.tickFormatter,h=i.stroke,p=Je(this.props,!1),m=Je(l,!1),v=fl(fl({},p),{},{fill:"none"},Je(c,!1)),_=s.map(function(E,S){var w=r.getTickLineCoord(E),A=r.getTickTextAnchor(E),I=fl(fl(fl({textAnchor:A},p),{},{stroke:"none",fill:h},m),{},{index:S,payload:E,x:w.x2,y:w.y2});return G.createElement(qt,bl({className:bt("recharts-polar-angle-axis-tick",GV(l)),key:"tick-".concat(E.coordinate)},Vl(r.props,E,S)),c&&G.createElement("line",bl({className:"recharts-polar-angle-axis-tick-line"},v,w)),l&&e.renderTickItem(l,I,f?f(E.value,S):E.value))});return G.createElement(qt,{className:"recharts-polar-angle-axis-ticks"},_)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.radius,l=r.axisLine;return s<=0||!i||!i.length?null:G.createElement(qt,{className:bt("recharts-polar-angle-axis",this.props.className)},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,s){var l;return G.isValidElement(r)?l=G.cloneElement(r,i):rt(r)?l=r(i):l=G.createElement($l,bl({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),l}}])})(U.PureComponent);rv(iv,"displayName","PolarAngleAxis");rv(iv,"axisType","angleAxis");rv(iv,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var a1,$D;function use(){if($D)return a1;$D=1;var t=m6(),e=t(Object.getPrototypeOf,Object);return a1=e,a1}var s1,UD;function cse(){if(UD)return s1;UD=1;var t=ws(),e=use(),n=Ss(),r="[object Object]",i=Function.prototype,s=Object.prototype,l=i.toString,c=s.hasOwnProperty,f=l.call(Object);function h(p){if(!n(p)||t(p)!=r)return!1;var m=e(p);if(m===null)return!0;var v=c.call(m,"constructor")&&m.constructor;return typeof v=="function"&&v instanceof v&&l.call(v)==f}return s1=h,s1}var fse=cse();const hse=Gt(fse);var o1,BD;function dse(){if(BD)return o1;BD=1;var t=ws(),e=Ss(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return o1=r,o1}var pse=dse();const mse=Gt(pse);function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function Bg(){return Bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bg.apply(this,arguments)}function gse(t,e){return xse(t)||bse(t,e)||vse(t,e)||yse()}function yse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vse(t,e){if(t){if(typeof t=="string")return qD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qD(t,e)}}function qD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,c=[],f=!0,h=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function xse(t){if(Array.isArray(t))return t}function zD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zD(Object(n),!0).forEach(function(r){_se(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _se(t,e,n){return e=wse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wse(t){var e=Sse(t,"string");return pd(e)=="symbol"?e:e+""}function Sse(t,e){if(pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HD=function(e,n,r,i,s){var l=r-i,c;return c="M ".concat(e,",").concat(n),c+="L ".concat(e+r,",").concat(n),c+="L ".concat(e+r-l/2,",").concat(n+s),c+="L ".concat(e+r-l/2-i,",").concat(n+s),c+="L ".concat(e,",").concat(n," Z"),c},Ese={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Tse=function(e){var n=FD(FD({},Ese),e),r=U.useRef(),i=U.useState(-1),s=gse(i,2),l=s[0],c=s[1];U.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var k=r.current.getTotalLength();k&&c(k)}catch{}},[]);var f=n.x,h=n.y,p=n.upperWidth,m=n.lowerWidth,v=n.height,_=n.className,E=n.animationEasing,S=n.animationDuration,w=n.animationBegin,A=n.isUpdateAnimationActive;if(f!==+f||h!==+h||p!==+p||m!==+m||v!==+v||p===0&&m===0||v===0)return null;var I=bt("recharts-trapezoid",_);return A?G.createElement(Na,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:v,x:f,y:h},to:{upperWidth:p,lowerWidth:m,height:v,x:f,y:h},duration:S,animationEasing:E,isActive:A},function(k){var V=k.upperWidth,C=k.lowerWidth,j=k.height,O=k.x,P=k.y;return G.createElement(Na,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:S,easing:E},G.createElement("path",Bg({},Je(n,!0),{className:I,d:HD(O,P,V,C,j),ref:r})))}):G.createElement("g",null,G.createElement("path",Bg({},Je(n,!0),{className:I,d:HD(f,h,p,m,v)})))},Ase=["option","shapeType","propTransformer","activeClassName","isActive"];function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}function Ose(t,e){if(t==null)return{};var n=Cse(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function GD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GD(Object(n),!0).forEach(function(r){Ise(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ise(t,e,n){return e=kse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kse(t){var e=Pse(t,"string");return md(e)=="symbol"?e:e+""}function Pse(t,e){if(md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nse(t,e){return qg(qg({},e),t)}function Rse(t,e){return t==="symbols"}function KD(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return G.createElement(wA,n);case"trapezoid":return G.createElement(Tse,n);case"sector":return G.createElement(_A,n);case"symbols":if(Rse(e))return G.createElement(UT,n);break;default:return null}}function jse(t){return U.isValidElement(t)?t.props:t}function s9(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Nse:r,s=t.activeClassName,l=s===void 0?"recharts-active-shape":s,c=t.isActive,f=Ose(t,Ase),h;if(U.isValidElement(e))h=U.cloneElement(e,qg(qg({},f),jse(e)));else if(rt(e))h=e(f);else if(hse(e)&&!mse(e)){var p=i(e,f);h=G.createElement(KD,{shapeType:n,elementProps:p})}else{var m=f;h=G.createElement(KD,{shapeType:n,elementProps:m})}return c?G.createElement(qt,{className:l},h):h}function av(t,e){return e!=null&&"trapezoids"in t.props}function sv(t,e){return e!=null&&"sectors"in t.props}function gd(t,e){return e!=null&&"points"in t.props}function Mse(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function Dse(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Lse(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Vse(t,e){var n;return av(t,e)?n=Mse:sv(t,e)?n=Dse:gd(t,e)&&(n=Lse),n}function $se(t,e){var n;return av(t,e)?n="trapezoids":sv(t,e)?n="sectors":gd(t,e)&&(n="points"),n}function Use(t,e){if(av(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(sv(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return gd(t,e)?e.payload:{}}function Bse(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=$se(n,e),s=Use(n,e),l=r.filter(function(f,h){var p=qd(s,f),m=n.props[i].filter(function(E){var S=Vse(n,e);return S(E,e)}),v=n.props[i].indexOf(m[m.length-1]),_=h===v;return p&&_}),c=r.indexOf(l[l.length-1]);return c}var Vm;function kc(t){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(t)}function Ju(){return Ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ju.apply(this,arguments)}function WD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WD(Object(n),!0).forEach(function(r){Ri(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l9(r.key),r)}}function zse(t,e,n){return e&&YD(t.prototype,e),n&&YD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fse(t,e,n){return e=zg(e),Hse(t,o9()?Reflect.construct(e,n||[],zg(t).constructor):e.apply(t,n))}function Hse(t,e){if(e&&(kc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gse(t)}function Gse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o9=function(){return!!t})()}function zg(t){return zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zg(t)}function Kse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cE(t,e)}function cE(t,e){return cE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cE(t,e)}function Ri(t,e,n){return e=l9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l9(t){var e=Wse(t,"string");return kc(e)=="symbol"?e:e+""}function Wse(t,e){if(kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ts=(function(t){function e(n){var r;return qse(this,e),r=Fse(this,e,[n]),Ri(r,"pieRef",null),Ri(r,"sectorRefs",[]),Ri(r,"id",Zc("recharts-pie-")),Ri(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),rt(i)&&i()}),Ri(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),rt(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Kse(e,t),zse(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.label,c=s.labelLine,f=s.dataKey,h=s.valueKey,p=Je(this.props,!1),m=Je(l,!1),v=Je(c,!1),_=l&&l.offsetRadius||20,E=r.map(function(S,w){var A=(S.startAngle+S.endAngle)/2,I=fn(S.cx,S.cy,S.outerRadius+_,A),k=un(un(un(un({},p),S),{},{stroke:"none"},m),{},{index:w,textAnchor:e.getTextAnchor(I.x,S.cx)},I),V=un(un(un(un({},p),S),{},{fill:"none",stroke:S.fill},v),{},{index:w,points:[fn(S.cx,S.cy,S.outerRadius,A),I]}),C=f;return ct(f)&&ct(h)?C="value":ct(f)&&(C=h),G.createElement(qt,{key:"label-".concat(S.startAngle,"-").concat(S.endAngle,"-").concat(S.midAngle,"-").concat(w)},c&&e.renderLabelLineItem(c,V,"line"),e.renderLabelItem(l,k,Xn(S,C)))});return G.createElement(qt,{className:"recharts-pie-labels"},E)}},{key:"renderSectorsStatically",value:function(r){var i=this,s=this.props,l=s.activeShape,c=s.blendStroke,f=s.inactiveShape;return r.map(function(h,p){if((h==null?void 0:h.startAngle)===0&&(h==null?void 0:h.endAngle)===0&&r.length!==1)return null;var m=i.isActiveIndex(p),v=f&&i.hasActiveIndex()?f:null,_=m?l:v,E=un(un({},h),{},{stroke:c?h.fill:h.stroke,tabIndex:-1});return G.createElement(qt,Ju({ref:function(w){w&&!i.sectorRefs.includes(w)&&i.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},Vl(i.props,h,p),{key:"sector-".concat(h==null?void 0:h.startAngle,"-").concat(h==null?void 0:h.endAngle,"-").concat(h.midAngle,"-").concat(p)}),G.createElement(s9,Ju({option:_,isActive:m,shapeType:"sector"},E)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,s=i.sectors,l=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,m=this.state,v=m.prevSectors,_=m.prevIsAnimationActive;return G.createElement(Na,{begin:c,duration:f,isActive:l,easing:h,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(_),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(E){var S=E.t,w=[],A=s&&s[0],I=A.startAngle;return s.forEach(function(k,V){var C=v&&v[V],j=V>0?di(k,"paddingAngle",0):0;if(C){var O=ci(C.endAngle-C.startAngle,k.endAngle-k.startAngle),P=un(un({},k),{},{startAngle:I+j,endAngle:I+O(S)+j});w.push(P),I=P.endAngle}else{var R=k.endAngle,B=k.startAngle,D=ci(0,R-B),$=D(S),L=un(un({},k),{},{startAngle:I+j,endAngle:I+$+j});w.push(L),I=L.endAngle}}),G.createElement(qt,null,r.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var l=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"ArrowRight":{var c=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[c].focus(),i.setState({sectorToFocus:c});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,s=r.isAnimationActive,l=this.state.prevSectors;return s&&i&&i.length&&(!l||!qd(l,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,s=i.hide,l=i.sectors,c=i.className,f=i.label,h=i.cx,p=i.cy,m=i.innerRadius,v=i.outerRadius,_=i.isAnimationActive,E=this.state.isAnimationFinished;if(s||!l||!l.length||!Ce(h)||!Ce(p)||!Ce(m)||!Ce(v))return null;var S=bt("recharts-pie",c);return G.createElement(qt,{tabIndex:this.props.rootTabIndex,className:S,ref:function(A){r.pieRef=A}},this.renderSectors(),f&&this.renderLabels(l),ir.renderCallByParent(this.props,null,!1),(!_||E)&&ds.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,s){if(G.isValidElement(r))return G.cloneElement(r,i);if(rt(r))return r(i);var l=bt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return G.createElement(jg,Ju({},i,{key:s,type:"linear",className:l}))}},{key:"renderLabelItem",value:function(r,i,s){if(G.isValidElement(r))return G.cloneElement(r,i);var l=s;if(rt(r)&&(l=r(i),G.isValidElement(l)))return l;var c=bt("recharts-pie-label-text",typeof r!="boolean"&&!rt(r)?r.className:"");return G.createElement($l,Ju({},i,{alignmentBaseline:"middle",className:c}),l)}}])})(U.PureComponent);Vm=Ts;Ri(Ts,"displayName","Pie");Ri(Ts,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Kl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ri(Ts,"parseDeltaAngle",function(t,e){var n=Mr(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Ri(Ts,"getRealPieData",function(t){var e=t.data,n=t.children,r=Je(t,!1),i=pi(n,qy);return e&&e.length?e.map(function(s,l){return un(un(un({payload:s},r),s),i&&i[l]&&i[l].props)}):i&&i.length?i.map(function(s){return un(un({},r),s.props)}):[]});Ri(Ts,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,s=e.height,l=HV(i,s),c=r+Dr(t.cx,i,i/2),f=n+Dr(t.cy,s,s/2),h=Dr(t.innerRadius,l,0),p=Dr(t.outerRadius,l,l*.8),m=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:c,cy:f,innerRadius:h,outerRadius:p,maxRadius:m}});Ri(Ts,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?un(un({},e.type.defaultProps),e.props):e.props,i=Vm.getRealPieData(r);if(!i||!i.length)return null;var s=r.cornerRadius,l=r.startAngle,c=r.endAngle,f=r.paddingAngle,h=r.dataKey,p=r.nameKey,m=r.valueKey,v=r.tooltipType,_=Math.abs(r.minAngle),E=Vm.parseCoordinateOfPie(r,n),S=Vm.parseDeltaAngle(l,c),w=Math.abs(S),A=h;ct(h)&&ct(m)?(na(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),A="value"):ct(h)&&(na(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),A=m);var I=i.filter(function(P){return Xn(P,A,0)!==0}).length,k=(w>=360?I:I-1)*f,V=w-I*_-k,C=i.reduce(function(P,R){var B=Xn(R,A,0);return P+(Ce(B)?B:0)},0),j;if(C>0){var O;j=i.map(function(P,R){var B=Xn(P,A,0),D=Xn(P,p,R),$=(Ce(B)?B:0)/C,L;R?L=O.endAngle+Mr(S)*f*(B!==0?1:0):L=l;var Q=L+Mr(S)*((B!==0?_:0)+$*V),J=(L+Q)/2,F=(E.innerRadius+E.outerRadius)/2,Y=[{name:D,value:B,payload:P,dataKey:A,type:v}],ee=fn(E.cx,E.cy,F,J);return O=un(un(un({percent:$,cornerRadius:s,name:D,tooltipPayload:Y,midAngle:J,middleRadius:F,tooltipPosition:ee},P),E),{},{value:Xn(P,A),startAngle:L,endAngle:Q,payload:P,paddingAngle:Mr(S)*f}),O})}return un(un({},E),{},{sectors:j,data:i})});var l1,XD;function Yse(){if(XD)return l1;XD=1;var t=Math.ceil,e=Math.max;function n(r,i,s,l){for(var c=-1,f=e(t((i-r)/(s||1)),0),h=Array(f);f--;)h[l?f:++c]=r,r+=s;return h}return l1=n,l1}var u1,QD;function u9(){if(QD)return u1;QD=1;var t=P6(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*n}return i===i?i:0}return u1=r,u1}var c1,JD;function Xse(){if(JD)return c1;JD=1;var t=Yse(),e=By(),n=u9();function r(i){return function(s,l,c){return c&&typeof c!="number"&&e(s,l,c)&&(l=c=void 0),s=n(s),l===void 0?(l=s,s=0):l=n(l),c=c===void 0?s<l?1:-1:n(c),t(s,l,c,i)}}return c1=r,c1}var f1,ZD;function Qse(){if(ZD)return f1;ZD=1;var t=Xse(),e=t();return f1=e,f1}var Jse=Qse();const Fg=Gt(Jse);function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function e4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function t4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e4(Object(n),!0).forEach(function(r){c9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c9(t,e,n){return e=Zse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zse(t){var e=eoe(t,"string");return yd(e)=="symbol"?e:e+""}function eoe(t,e){if(yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var toe=["Webkit","Moz","O","ms"],noe=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=toe.reduce(function(s,l){return t4(t4({},s),{},c9({},l+r,n))},{});return i[e]=n,i};function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}function Hg(){return Hg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hg.apply(this,arguments)}function n4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function h1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n4(Object(n),!0).forEach(function(r){oi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function roe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h9(r.key),r)}}function ioe(t,e,n){return e&&r4(t.prototype,e),n&&r4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function aoe(t,e,n){return e=Gg(e),soe(t,f9()?Reflect.construct(e,n||[],Gg(t).constructor):e.apply(t,n))}function soe(t,e){if(e&&(Pc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ooe(t)}function ooe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f9=function(){return!!t})()}function Gg(t){return Gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gg(t)}function loe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fE(t,e)}function fE(t,e){return fE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fE(t,e)}function oi(t,e,n){return e=h9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h9(t){var e=uoe(t,"string");return Pc(e)=="symbol"?e:e+""}function uoe(t,e){if(Pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var coe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,l=e.width,c=e.travellerWidth;if(!n||!n.length)return{};var f=n.length,h=Ch().domain(Fg(0,f)).range([s,s+l-c]),p=h.domain().map(function(m){return h(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(r),endX:h(i),scale:h,scaleValues:p}},i4=function(e){return e.changedTouches&&!!e.changedTouches.length},Nc=(function(t){function e(n){var r;return roe(this,e),r=aoe(this,e,[n]),oi(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),oi(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),oi(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,l=i.onDragEnd,c=i.startIndex;l==null||l({endIndex:s,startIndex:c})}),r.detachDragEndListener()}),oi(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),oi(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),oi(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),oi(r,"handleSlideDragStart",function(i){var s=i4(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return loe(e,t),ioe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,l=this.state.scaleValues,c=this.props,f=c.gap,h=c.data,p=h.length-1,m=Math.min(i,s),v=Math.max(i,s),_=e.getIndexInRange(l,m),E=e.getIndexInRange(l,v);return{startIndex:_-_%f,endIndex:E===p?p:E-E%f}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,l=i.tickFormatter,c=i.dataKey,f=Xn(s[r],c,r);return rt(l)?l(f,r):f}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,l=i.startX,c=i.endX,f=this.props,h=f.x,p=f.width,m=f.travellerWidth,v=f.startIndex,_=f.endIndex,E=f.onChange,S=r.pageX-s;S>0?S=Math.min(S,h+p-m-c,h+p-m-l):S<0&&(S=Math.max(S,h-l,h-c));var w=this.getIndex({startX:l+S,endX:c+S});(w.startIndex!==v||w.endIndex!==_)&&E&&E(w),this.setState({startX:l+S,endX:c+S,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=i4(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,l=i.movingTravellerId,c=i.endX,f=i.startX,h=this.state[l],p=this.props,m=p.x,v=p.width,_=p.travellerWidth,E=p.onChange,S=p.gap,w=p.data,A={startX:this.state.startX,endX:this.state.endX},I=r.pageX-s;I>0?I=Math.min(I,m+v-_-h):I<0&&(I=Math.max(I,m-h)),A[l]=h+I;var k=this.getIndex(A),V=k.startIndex,C=k.endIndex,j=function(){var P=w.length-1;return l==="startX"&&(c>f?V%S===0:C%S===0)||c<f&&C===P||l==="endX"&&(c>f?C%S===0:V%S===0)||c>f&&C===P};this.setState(oi(oi({},l,h+I),"brushMoveStartX",r.pageX),function(){E&&j()&&E(k)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,l=this.state,c=l.scaleValues,f=l.startX,h=l.endX,p=this.state[i],m=c.indexOf(p);if(m!==-1){var v=m+r;if(!(v===-1||v>=c.length)){var _=c[v];i==="startX"&&_>=h||i==="endX"&&_<=f||this.setState(oi({},i,_),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,l=r.width,c=r.height,f=r.fill,h=r.stroke;return G.createElement("rect",{stroke:h,fill:f,x:i,y:s,width:l,height:c})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,l=r.width,c=r.height,f=r.data,h=r.children,p=r.padding,m=U.Children.only(h);return m?G.cloneElement(m,{x:i,y:s,width:l,height:c,margin:p,compact:!0,data:f}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,l,c=this,f=this.props,h=f.y,p=f.travellerWidth,m=f.height,v=f.traveller,_=f.ariaLabel,E=f.data,S=f.startIndex,w=f.endIndex,A=Math.max(r,this.props.x),I=h1(h1({},Je(this.props,!1)),{},{x:A,y:h,width:p,height:m}),k=_||"Min value: ".concat((s=E[S])===null||s===void 0?void 0:s.name,", Max value: ").concat((l=E[w])===null||l===void 0?void 0:l.name);return G.createElement(qt,{tabIndex:0,role:"slider","aria-label":k,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),c.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,i))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(v,I))}},{key:"renderSlide",value:function(r,i){var s=this.props,l=s.y,c=s.height,f=s.stroke,h=s.travellerWidth,p=Math.min(r,i)+h,m=Math.max(Math.abs(i-r)-h,0);return G.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:f,fillOpacity:.2,x:p,y:l,width:m,height:c})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,l=r.y,c=r.height,f=r.travellerWidth,h=r.stroke,p=this.state,m=p.startX,v=p.endX,_=5,E={pointerEvents:"none",fill:h};return G.createElement(qt,{className:"recharts-brush-texts"},G.createElement($l,Hg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,v)-_,y:l+c/2},E),this.getTextOfTick(i)),G.createElement($l,Hg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,v)+f+_,y:l+c/2},E),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,l=r.children,c=r.x,f=r.y,h=r.width,p=r.height,m=r.alwaysShowText,v=this.state,_=v.startX,E=v.endX,S=v.isTextActive,w=v.isSlideMoving,A=v.isTravellerMoving,I=v.isTravellerFocused;if(!i||!i.length||!Ce(c)||!Ce(f)||!Ce(h)||!Ce(p)||h<=0||p<=0)return null;var k=bt("recharts-brush",s),V=G.Children.count(l)===1,C=noe("userSelect","none");return G.createElement(qt,{className:k,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),V&&this.renderPanorama(),this.renderSlide(_,E),this.renderTravellerLayer(_,"startX"),this.renderTravellerLayer(E,"endX"),(S||w||A||I||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,l=r.width,c=r.height,f=r.stroke,h=Math.floor(s+c/2)-1;return G.createElement(G.Fragment,null,G.createElement("rect",{x:i,y:s,width:l,height:c,fill:f,stroke:"none"}),G.createElement("line",{x1:i+1,y1:h,x2:i+l-1,y2:h,fill:"none",stroke:"#fff"}),G.createElement("line",{x1:i+1,y1:h+2,x2:i+l-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return G.isValidElement(r)?s=G.cloneElement(r,i):rt(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,l=r.width,c=r.x,f=r.travellerWidth,h=r.updateId,p=r.startIndex,m=r.endIndex;if(s!==i.prevData||h!==i.prevUpdateId)return h1({prevData:s,prevTravellerWidth:f,prevUpdateId:h,prevX:c,prevWidth:l},s&&s.length?coe({data:s,width:l,x:c,travellerWidth:f,startIndex:p,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(l!==i.prevWidth||c!==i.prevX||f!==i.prevTravellerWidth)){i.scale.range([c,c+l-f]);var v=i.scale.domain().map(function(_){return i.scale(_)});return{prevData:s,prevTravellerWidth:f,prevUpdateId:h,prevX:c,prevWidth:l,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,l=0,c=s-1;c-l>1;){var f=Math.floor((l+c)/2);r[f]>i?c=f:l=f}return i>=r[c]?c:l}}])})(U.PureComponent);oi(Nc,"displayName","Brush");oi(Nc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var d1,a4;function foe(){if(a4)return d1;a4=1;var t=KT();function e(n,r){var i;return t(n,function(s,l,c){return i=r(s,l,c),!i}),!!i}return d1=e,d1}var p1,s4;function hoe(){if(s4)return p1;s4=1;var t=l6(),e=ja(),n=foe(),r=Wr(),i=By();function s(l,c,f){var h=r(l)?t:n;return f&&i(l,c,f)&&(c=void 0),h(l,e(c,3))}return p1=s,p1}var doe=hoe();const poe=Gt(doe);var Oa=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},m1,o4;function moe(){if(o4)return m1;o4=1;var t=A6();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return m1=e,m1}var g1,l4;function goe(){if(l4)return g1;l4=1;var t=moe(),e=E6(),n=ja();function r(i,s){var l={};return s=n(s,3),e(i,function(c,f,h){t(l,f,s(c,f,h))}),l}return g1=r,g1}var yoe=goe();const voe=Gt(yoe);var y1,u4;function boe(){if(u4)return y1;u4=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return y1=t,y1}var v1,c4;function xoe(){if(c4)return v1;c4=1;var t=KT();function e(n,r){var i=!0;return t(n,function(s,l,c){return i=!!r(s,l,c),i}),i}return v1=e,v1}var b1,f4;function _oe(){if(f4)return b1;f4=1;var t=boe(),e=xoe(),n=ja(),r=Wr(),i=By();function s(l,c,f){var h=r(l)?t:e;return f&&i(l,c,f)&&(c=void 0),h(l,n(c,3))}return b1=s,b1}var woe=_oe();const d9=Gt(woe);var Soe=["x","y"];function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function hE(){return hE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hE.apply(this,arguments)}function h4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?h4(Object(n),!0).forEach(function(r){Eoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eoe(t,e,n){return e=Toe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Toe(t){var e=Aoe(t,"string");return vd(e)=="symbol"?e:e+""}function Aoe(t,e){if(vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ooe(t,e){if(t==null)return{};var n=Coe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Coe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ioe(t,e){var n=t.x,r=t.y,i=Ooe(t,Soe),s="".concat(n),l=parseInt(s,10),c="".concat(r),f=parseInt(c,10),h="".concat(e.height||i.height),p=parseInt(h,10),m="".concat(e.width||i.width),v=parseInt(m,10);return lh(lh(lh(lh(lh({},e),i),l?{x:l}:{}),f?{y:f}:{}),{},{height:p,width:v,name:e.name,radius:e.radius})}function d4(t){return G.createElement(s9,hE({shapeType:"rectangle",propTransformer:Ioe,activeClassName:"recharts-active-bar"},t))}var koe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=Ce(r)||ZK(r);return s?e(r,i):(s||Bl(),n)}},Poe=["value","background"],p9;function Rc(t){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rc(t)}function Noe(t,e){if(t==null)return{};var n=Roe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Roe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Kg(){return Kg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kg.apply(this,arguments)}function p4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p4(Object(n),!0).forEach(function(r){ho(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function joe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g9(r.key),r)}}function Moe(t,e,n){return e&&m4(t.prototype,e),n&&m4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Doe(t,e,n){return e=Wg(e),Loe(t,m9()?Reflect.construct(e,n||[],Wg(t).constructor):e.apply(t,n))}function Loe(t,e){if(e&&(Rc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Voe(t)}function Voe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m9=function(){return!!t})()}function Wg(t){return Wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wg(t)}function $oe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dE(t,e)}function dE(t,e){return dE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dE(t,e)}function ho(t,e,n){return e=g9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g9(t){var e=Uoe(t,"string");return Rc(e)=="symbol"?e:e+""}function Uoe(t,e){if(Rc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fd=(function(t){function e(){var n;joe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Doe(this,e,[].concat(i)),ho(n,"state",{isAnimationFinished:!1}),ho(n,"id",Zc("recharts-bar-")),ho(n,"handleAnimationEnd",function(){var l=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),l&&l()}),ho(n,"handleAnimationStart",function(){var l=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),l&&l()}),n}return $oe(e,t),Moe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,l=s.shape,c=s.dataKey,f=s.activeIndex,h=s.activeBar,p=Je(this.props,!1);return r&&r.map(function(m,v){var _=v===f,E=_?h:l,S=zn(zn(zn({},p),m),{},{isActive:_,option:E,index:v,dataKey:c,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return G.createElement(qt,Kg({className:"recharts-bar-rectangle"},Vl(i.props,m,v),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(v)}),G.createElement(d4,S))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,l=i.layout,c=i.isAnimationActive,f=i.animationBegin,h=i.animationDuration,p=i.animationEasing,m=i.animationId,v=this.state.prevData;return G.createElement(Na,{begin:f,duration:h,isActive:c,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var E=_.t,S=s.map(function(w,A){var I=v&&v[A];if(I){var k=ci(I.x,w.x),V=ci(I.y,w.y),C=ci(I.width,w.width),j=ci(I.height,w.height);return zn(zn({},w),{},{x:k(E),y:V(E),width:C(E),height:j(E)})}if(l==="horizontal"){var O=ci(0,w.height),P=O(E);return zn(zn({},w),{},{y:w.y+w.height-P,height:P})}var R=ci(0,w.width),B=R(E);return zn(zn({},w),{},{width:B})});return G.createElement(qt,null,r.renderRectanglesStatically(S))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,l=this.state.prevData;return s&&i&&i.length&&(!l||!qd(l,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,l=i.dataKey,c=i.activeIndex,f=Je(this.props.background,!1);return s.map(function(h,p){h.value;var m=h.background,v=Noe(h,Poe);if(!m)return null;var _=zn(zn(zn(zn(zn({},v),{},{fill:"#eee"},m),f),Vl(r.props,h,p)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:l,index:p,className:"recharts-bar-background-rectangle"});return G.createElement(d4,Kg({key:"background-bar-".concat(p),option:r.props.background,isActive:p===c},_))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.data,c=s.xAxis,f=s.yAxis,h=s.layout,p=s.children,m=pi(p,zd);if(!m)return null;var v=h==="vertical"?l[0].height/2:l[0].width/2,_=function(w,A){var I=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:I,errorVal:Xn(w,A)}},E={clipPath:r?"url(#clipPath-".concat(i,")"):null};return G.createElement(qt,E,m.map(function(S){return G.cloneElement(S,{key:"error-bar-".concat(i,"-").concat(S.props.dataKey),data:l,xAxis:c,yAxis:f,layout:h,offset:v,dataPointFormatter:_})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,l=r.className,c=r.xAxis,f=r.yAxis,h=r.left,p=r.top,m=r.width,v=r.height,_=r.isAnimationActive,E=r.background,S=r.id;if(i||!s||!s.length)return null;var w=this.state.isAnimationFinished,A=bt("recharts-bar",l),I=c&&c.allowDataOverflow,k=f&&f.allowDataOverflow,V=I||k,C=ct(S)?this.id:S;return G.createElement(qt,{className:A},I||k?G.createElement("defs",null,G.createElement("clipPath",{id:"clipPath-".concat(C)},G.createElement("rect",{x:I?h:h-m/2,y:k?p:p-v/2,width:I?m:m*2,height:k?v:v*2}))):null,G.createElement(qt,{className:"recharts-bar-rectangles",clipPath:V?"url(#clipPath-".concat(C,")"):null},E?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(V,C),(!_||w)&&ds.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(U.PureComponent);p9=Fd;ho(Fd,"displayName","Bar");ho(Fd,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Kl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ho(Fd,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,l=t.yAxis,c=t.xAxisTicks,f=t.yAxisTicks,h=t.stackedData,p=t.dataStartIndex,m=t.displayedData,v=t.offset,_=pne(r,n);if(!_)return null;var E=e.layout,S=n.type.defaultProps,w=S!==void 0?zn(zn({},S),n.props):n.props,A=w.dataKey,I=w.children,k=w.minPointSize,V=E==="horizontal"?l:s,C=h?V.scale.domain():null,j=_ne({numericAxis:V}),O=pi(I,qy),P=m.map(function(R,B){var D,$,L,Q,J,F;h?D=mne(h[p+B],C):(D=Xn(R,A),Array.isArray(D)||(D=[j,D]));var Y=koe(k,p9.defaultProps.minPointSize)(D[1],B);if(E==="horizontal"){var ee,ue=[l.scale(D[0]),l.scale(D[1])],ve=ue[0],H=ue[1];$=UM({axis:s,ticks:c,bandSize:i,offset:_.offset,entry:R,index:B}),L=(ee=H??ve)!==null&&ee!==void 0?ee:void 0,Q=_.size;var W=ve-H;if(J=Number.isNaN(W)?0:W,F={x:$,y:l.y,width:Q,height:l.height},Math.abs(Y)>0&&Math.abs(J)<Math.abs(Y)){var oe=Mr(J||Y)*(Math.abs(Y)-Math.abs(J));L-=oe,J+=oe}}else{var me=[s.scale(D[0]),s.scale(D[1])],we=me[0],Se=me[1];if($=we,L=UM({axis:l,ticks:f,bandSize:i,offset:_.offset,entry:R,index:B}),Q=Se-we,J=_.size,F={x:s.x,y:L,width:s.width,height:J},Math.abs(Y)>0&&Math.abs(Q)<Math.abs(Y)){var Re=Mr(Q||Y)*(Math.abs(Y)-Math.abs(Q));Q+=Re}}return zn(zn(zn({},R),{},{x:$,y:L,width:Q,height:J,value:h?D:D[1],payload:R,background:F},O&&O[B]&&O[B].props),{},{tooltipPayload:[zV(n,R)],tooltipPosition:{x:$+Q/2,y:L+J/2}})});return zn({data:P,layout:E},v)});function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function Boe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y9(r.key),r)}}function qoe(t,e,n){return e&&g4(t.prototype,e),n&&g4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function y4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y4(Object(n),!0).forEach(function(r){ov(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ov(t,e,n){return e=y9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y9(t){var e=zoe(t,"string");return bd(e)=="symbol"?e:e+""}function zoe(t,e){if(bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Foe=function(e,n,r,i,s){var l=e.width,c=e.height,f=e.layout,h=e.children,p=Object.keys(n),m={left:r.left,leftMirror:r.left,right:l-r.right,rightMirror:l-r.right,top:r.top,topMirror:r.top,bottom:c-r.bottom,bottomMirror:c-r.bottom},v=!!li(h,Fd);return p.reduce(function(_,E){var S=n[E],w=S.orientation,A=S.domain,I=S.padding,k=I===void 0?{}:I,V=S.mirror,C=S.reversed,j="".concat(w).concat(V?"Mirror":""),O,P,R,B,D;if(S.type==="number"&&(S.padding==="gap"||S.padding==="no-gap")){var $=A[1]-A[0],L=1/0,Q=S.categoricalDomain.sort(nW);if(Q.forEach(function(me,we){we>0&&(L=Math.min((me||0)-(Q[we-1]||0),L))}),Number.isFinite(L)){var J=L/$,F=S.layout==="vertical"?r.height:r.width;if(S.padding==="gap"&&(O=J*F/2),S.padding==="no-gap"){var Y=Dr(e.barCategoryGap,J*F),ee=J*F/2;O=ee-Y-(ee-Y)/F*Y}}}i==="xAxis"?P=[r.left+(k.left||0)+(O||0),r.left+r.width-(k.right||0)-(O||0)]:i==="yAxis"?P=f==="horizontal"?[r.top+r.height-(k.bottom||0),r.top+(k.top||0)]:[r.top+(k.top||0)+(O||0),r.top+r.height-(k.bottom||0)-(O||0)]:P=S.range,C&&(P=[P[1],P[0]]);var ue=$V(S,s,v),ve=ue.scale,H=ue.realScaleType;ve.domain(A).range(P),UV(ve);var W=BV(ve,Xi(Xi({},S),{},{realScaleType:H}));i==="xAxis"?(D=w==="top"&&!V||w==="bottom"&&V,R=r.left,B=m[j]-D*S.height):i==="yAxis"&&(D=w==="left"&&!V||w==="right"&&V,R=m[j]-D*S.width,B=r.top);var oe=Xi(Xi(Xi({},S),W),{},{realScaleType:H,x:R,y:B,scale:ve,width:i==="xAxis"?r.width:S.width,height:i==="yAxis"?r.height:S.height});return oe.bandSize=Pg(oe,W),!S.hide&&i==="xAxis"?m[j]+=(D?-1:1)*oe.height:S.hide||(m[j]+=(D?-1:1)*oe.width),Xi(Xi({},_),{},ov({},E,oe))},{})},v9=function(e,n){var r=e.x,i=e.y,s=n.x,l=n.y;return{x:Math.min(r,s),y:Math.min(i,l),width:Math.abs(s-r),height:Math.abs(l-i)}},Hoe=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return v9({x:n,y:r},{x:i,y:s})},b9=(function(){function t(e){Boe(this,t),this.scale=e}return qoe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(n)+c}default:return this.scale(n)}if(i){var f=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+f}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();ov(b9,"EPS",1e-4);var SA=function(e){var n=Object.keys(e).reduce(function(r,i){return Xi(Xi({},r),{},ov({},i,b9.create(e[i])))},{});return Xi(Xi({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=s.bandAware,c=s.position;return voe(i,function(f,h){return n[h].apply(f,{bandAware:l,position:c})})},isInRange:function(i){return d9(i,function(s,l){return n[l].isInRange(s)})}})};function Goe(t){return(t%180+180)%180}var Koe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Goe(i),l=s*Math.PI/180,c=Math.atan(r/n),f=l>c&&l<Math.PI-c?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},x1,v4;function Woe(){if(v4)return x1;v4=1;var t=ja(),e=Ld(),n=$y();function r(i){return function(s,l,c){var f=Object(s);if(!e(s)){var h=t(l,3);s=n(s),l=function(m){return h(f[m],m,f)}}var p=i(s,l,c);return p>-1?f[h?s[p]:p]:void 0}}return x1=r,x1}var _1,b4;function Yoe(){if(b4)return _1;b4=1;var t=u9();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return _1=e,_1}var w1,x4;function Xoe(){if(x4)return w1;x4=1;var t=b6(),e=ja(),n=Yoe(),r=Math.max;function i(s,l,c){var f=s==null?0:s.length;if(!f)return-1;var h=c==null?0:n(c);return h<0&&(h=r(f+h,0)),t(s,e(l,3),h)}return w1=i,w1}var S1,_4;function Qoe(){if(_4)return S1;_4=1;var t=Woe(),e=Xoe(),n=t(e);return S1=n,S1}var Joe=Qoe();const Zoe=Gt(Joe);var ele=M5();const tle=Gt(ele);var nle=tle(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),EA=U.createContext(void 0),TA=U.createContext(void 0),x9=U.createContext(void 0),_9=U.createContext({}),w9=U.createContext(void 0),S9=U.createContext(0),E9=U.createContext(0),w4=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,l=e.clipPathId,c=e.children,f=e.width,h=e.height,p=nle(s);return G.createElement(EA.Provider,{value:r},G.createElement(TA.Provider,{value:i},G.createElement(_9.Provider,{value:s},G.createElement(x9.Provider,{value:p},G.createElement(w9.Provider,{value:l},G.createElement(S9.Provider,{value:h},G.createElement(E9.Provider,{value:f},c)))))))},rle=function(){return U.useContext(w9)},T9=function(e){var n=U.useContext(EA);n==null&&Bl();var r=n[e];return r==null&&Bl(),r},ile=function(){var e=U.useContext(EA);return co(e)},ale=function(){var e=U.useContext(TA),n=Zoe(e,function(r){return d9(r.domain,Number.isFinite)});return n||co(e)},A9=function(e){var n=U.useContext(TA);n==null&&Bl();var r=n[e];return r==null&&Bl(),r},sle=function(){var e=U.useContext(x9);return e},ole=function(){return U.useContext(_9)},AA=function(){return U.useContext(E9)},OA=function(){return U.useContext(S9)};function jc(t){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(t)}function lle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ule(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C9(r.key),r)}}function cle(t,e,n){return e&&ule(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fle(t,e,n){return e=Yg(e),hle(t,O9()?Reflect.construct(e,n||[],Yg(t).constructor):e.apply(t,n))}function hle(t,e){if(e&&(jc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dle(t)}function dle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O9=function(){return!!t})()}function Yg(t){return Yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yg(t)}function ple(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pE(t,e)}function pE(t,e){return pE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pE(t,e)}function S4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function E4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S4(Object(n),!0).forEach(function(r){CA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CA(t,e,n){return e=C9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C9(t){var e=mle(t,"string");return jc(e)=="symbol"?e:e+""}function mle(t,e){if(jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function gle(t,e){return xle(t)||ble(t,e)||vle(t,e)||yle()}function yle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vle(t,e){if(t){if(typeof t=="string")return T4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T4(t,e)}}function T4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ble(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,c=[],f=!0,h=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function xle(t){if(Array.isArray(t))return t}function mE(){return mE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mE.apply(this,arguments)}var _le=function(e,n){var r;return G.isValidElement(e)?r=G.cloneElement(e,n):rt(e)?r=e(n):r=G.createElement("line",mE({},n,{className:"recharts-reference-line-line"})),r},wle=function(e,n,r,i,s,l,c,f,h){var p=s.x,m=s.y,v=s.width,_=s.height;if(r){var E=h.y,S=e.y.apply(E,{position:l});if(Oa(h,"discard")&&!e.y.isInRange(S))return null;var w=[{x:p+v,y:S},{x:p,y:S}];return f==="left"?w.reverse():w}if(n){var A=h.x,I=e.x.apply(A,{position:l});if(Oa(h,"discard")&&!e.x.isInRange(I))return null;var k=[{x:I,y:m+_},{x:I,y:m}];return c==="top"?k.reverse():k}if(i){var V=h.segment,C=V.map(function(j){return e.apply(j,{position:l})});return Oa(h,"discard")&&poe(C,function(j){return!e.isInRange(j)})?null:C}return null};function Sle(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,l=t.shape,c=t.className,f=t.alwaysShow,h=rle(),p=T9(i),m=A9(s),v=sle();if(!h||!v)return null;na(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var _=SA({x:p.scale,y:m.scale}),E=Jn(e),S=Jn(n),w=r&&r.length===2,A=wle(_,E,S,w,v,t.position,p.orientation,m.orientation,t);if(!A)return null;var I=gle(A,2),k=I[0],V=k.x,C=k.y,j=I[1],O=j.x,P=j.y,R=Oa(t,"hidden")?"url(#".concat(h,")"):void 0,B=E4(E4({clipPath:R},Je(t,!0)),{},{x1:V,y1:C,x2:O,y2:P});return G.createElement(qt,{className:bt("recharts-reference-line",c)},_le(l,B),ir.renderCallByParent(t,Hoe({x1:V,y1:C,x2:O,y2:P})))}var IA=(function(t){function e(){return lle(this,e),fle(this,e,arguments)}return ple(e,t),cle(e,[{key:"render",value:function(){return G.createElement(Sle,this.props)}}])})(G.Component);CA(IA,"displayName","ReferenceLine");CA(IA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function gE(){return gE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gE.apply(this,arguments)}function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function A4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A4(Object(n),!0).forEach(function(r){lv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ele(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k9(r.key),r)}}function Ale(t,e,n){return e&&Tle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ole(t,e,n){return e=Xg(e),Cle(t,I9()?Reflect.construct(e,n||[],Xg(t).constructor):e.apply(t,n))}function Cle(t,e){if(e&&(Mc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ile(t)}function Ile(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I9=function(){return!!t})()}function Xg(t){return Xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xg(t)}function kle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yE(t,e)}function yE(t,e){return yE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yE(t,e)}function lv(t,e,n){return e=k9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k9(t){var e=Ple(t,"string");return Mc(e)=="symbol"?e:e+""}function Ple(t,e){if(Mc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Nle=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,l=SA({x:i.scale,y:s.scale}),c=l.apply({x:n,y:r},{bandAware:!0});return Oa(e,"discard")&&!l.isInRange(c)?null:c},uv=(function(t){function e(){return Ele(this,e),Ole(this,e,arguments)}return kle(e,t),Ale(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,l=r.r,c=r.alwaysShow,f=r.clipPathId,h=Jn(i),p=Jn(s);if(na(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!p)return null;var m=Nle(this.props);if(!m)return null;var v=m.x,_=m.y,E=this.props,S=E.shape,w=E.className,A=Oa(this.props,"hidden")?"url(#".concat(f,")"):void 0,I=O4(O4({clipPath:A},Je(this.props,!0)),{},{cx:v,cy:_});return G.createElement(qt,{className:bt("recharts-reference-dot",w)},e.renderDot(S,I),ir.renderCallByParent(this.props,{x:v-l,y:_-l,width:2*l,height:2*l}))}}])})(G.Component);lv(uv,"displayName","ReferenceDot");lv(uv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});lv(uv,"renderDot",function(t,e){var n;return G.isValidElement(t)?n=G.cloneElement(t,e):rt(t)?n=t(e):n=G.createElement(ev,gE({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function vE(){return vE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vE.apply(this,arguments)}function Dc(t){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(t)}function C4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function I4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C4(Object(n),!0).forEach(function(r){cv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,N9(r.key),r)}}function Mle(t,e,n){return e&&jle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dle(t,e,n){return e=Qg(e),Lle(t,P9()?Reflect.construct(e,n||[],Qg(t).constructor):e.apply(t,n))}function Lle(t,e){if(e&&(Dc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vle(t)}function Vle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P9=function(){return!!t})()}function Qg(t){return Qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qg(t)}function $le(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bE(t,e)}function bE(t,e){return bE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bE(t,e)}function cv(t,e,n){return e=N9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N9(t){var e=Ule(t,"string");return Dc(e)=="symbol"?e:e+""}function Ule(t,e){if(Dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ble=function(e,n,r,i,s){var l=s.x1,c=s.x2,f=s.y1,h=s.y2,p=s.xAxis,m=s.yAxis;if(!p||!m)return null;var v=SA({x:p.scale,y:m.scale}),_={x:e?v.x.apply(l,{position:"start"}):v.x.rangeMin,y:r?v.y.apply(f,{position:"start"}):v.y.rangeMin},E={x:n?v.x.apply(c,{position:"end"}):v.x.rangeMax,y:i?v.y.apply(h,{position:"end"}):v.y.rangeMax};return Oa(s,"discard")&&(!v.isInRange(_)||!v.isInRange(E))?null:v9(_,E)},fv=(function(t){function e(){return Rle(this,e),Dle(this,e,arguments)}return $le(e,t),Mle(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,l=r.y1,c=r.y2,f=r.className,h=r.alwaysShow,p=r.clipPathId;na(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Jn(i),v=Jn(s),_=Jn(l),E=Jn(c),S=this.props.shape;if(!m&&!v&&!_&&!E&&!S)return null;var w=Ble(m,v,_,E,this.props);if(!w&&!S)return null;var A=Oa(this.props,"hidden")?"url(#".concat(p,")"):void 0;return G.createElement(qt,{className:bt("recharts-reference-area",f)},e.renderRect(S,I4(I4({clipPath:A},Je(this.props,!0)),w)),ir.renderCallByParent(this.props,w))}}])})(G.Component);cv(fv,"displayName","ReferenceArea");cv(fv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});cv(fv,"renderRect",function(t,e){var n;return G.isValidElement(t)?n=G.cloneElement(t,e):rt(t)?n=t(e):n=G.createElement(wA,vE({},e,{className:"recharts-reference-area-rect"})),n});function R9(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function qle(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Koe(r,n)}function zle(t,e,n){var r=n==="width",i=t.x,s=t.y,l=t.width,c=t.height;return e===1?{start:r?i:s,end:r?i+l:s+c}:{start:r?i+l:s+c,end:r?i:s}}function Jg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function Fle(t,e){return R9(t,e+1)}function Hle(t,e,n,r,i){for(var s=(r||[]).slice(),l=e.start,c=e.end,f=0,h=1,p=l,m=function(){var E=r==null?void 0:r[f];if(E===void 0)return{v:R9(r,h)};var S=f,w,A=function(){return w===void 0&&(w=n(E,S)),w},I=E.coordinate,k=f===0||Jg(t,I,A,p,c);k||(f=0,p=l,h+=1),k&&(p=I+t*(A()/2+i),f+=h)},v;h<=s.length;)if(v=m(),v)return v.v;return[]}function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}function k4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k4(Object(n),!0).forEach(function(r){Gle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gle(t,e,n){return e=Kle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kle(t){var e=Wle(t,"string");return xd(e)=="symbol"?e:e+""}function Wle(t,e){if(xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yle(t,e,n,r,i){for(var s=(r||[]).slice(),l=s.length,c=e.start,f=e.end,h=function(v){var _=s[v],E,S=function(){return E===void 0&&(E=n(_,v)),E};if(v===l-1){var w=t*(_.coordinate+t*S()/2-f);s[v]=_=Er(Er({},_),{},{tickCoord:w>0?_.coordinate-w*t:_.coordinate})}else s[v]=_=Er(Er({},_),{},{tickCoord:_.coordinate});var A=Jg(t,_.tickCoord,S,c,f);A&&(f=_.tickCoord-t*(S()/2+i),s[v]=Er(Er({},_),{},{isShow:!0}))},p=l-1;p>=0;p--)h(p);return s}function Xle(t,e,n,r,i,s){var l=(r||[]).slice(),c=l.length,f=e.start,h=e.end;if(s){var p=r[c-1],m=n(p,c-1),v=t*(p.coordinate+t*m/2-h);l[c-1]=p=Er(Er({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate});var _=Jg(t,p.tickCoord,function(){return m},f,h);_&&(h=p.tickCoord-t*(m/2+i),l[c-1]=Er(Er({},p),{},{isShow:!0}))}for(var E=s?c-1:c,S=function(I){var k=l[I],V,C=function(){return V===void 0&&(V=n(k,I)),V};if(I===0){var j=t*(k.coordinate-t*C()/2-f);l[I]=k=Er(Er({},k),{},{tickCoord:j<0?k.coordinate-j*t:k.coordinate})}else l[I]=k=Er(Er({},k),{},{tickCoord:k.coordinate});var O=Jg(t,k.tickCoord,C,f,h);O&&(f=k.tickCoord+t*(C()/2+i),l[I]=Er(Er({},k),{},{isShow:!0}))},w=0;w<E;w++)S(w);return l}function kA(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,l=t.minTickGap,c=t.orientation,f=t.interval,h=t.tickFormatter,p=t.unit,m=t.angle;if(!i||!i.length||!r)return[];if(Ce(f)||Kl.isSsr)return Fle(i,typeof f=="number"&&Ce(f)?f:0);var v=[],_=c==="top"||c==="bottom"?"width":"height",E=p&&_==="width"?Oh(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=function(k,V){var C=rt(h)?h(k.value,V):k.value;return _==="width"?qle(Oh(C,{fontSize:e,letterSpacing:n}),E,m):Oh(C,{fontSize:e,letterSpacing:n})[_]},w=i.length>=2?Mr(i[1].coordinate-i[0].coordinate):1,A=zle(s,w,_);return f==="equidistantPreserveStart"?Hle(w,A,S,i,l):(f==="preserveStart"||f==="preserveStartEnd"?v=Xle(w,A,S,i,l,f==="preserveStartEnd"):v=Yle(w,A,S,i,l),v.filter(function(I){return I.isShow}))}var Qle=["viewBox"],Jle=["viewBox"],Zle=["ticks"];function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}function Zu(){return Zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zu.apply(this,arguments)}function P4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P4(Object(n),!0).forEach(function(r){PA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E1(t,e){if(t==null)return{};var n=eue(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M9(r.key),r)}}function nue(t,e,n){return e&&N4(t.prototype,e),n&&N4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function rue(t,e,n){return e=Zg(e),iue(t,j9()?Reflect.construct(e,n||[],Zg(t).constructor):e.apply(t,n))}function iue(t,e){if(e&&(Lc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aue(t)}function aue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j9=function(){return!!t})()}function Zg(t){return Zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zg(t)}function sue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xE(t,e)}function xE(t,e){return xE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xE(t,e)}function PA(t,e,n){return e=M9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M9(t){var e=oue(t,"string");return Lc(e)=="symbol"?e:e+""}function oue(t,e){if(Lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var af=(function(t){function e(n){var r;return tue(this,e),r=rue(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return sue(e,t),nue(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,l=E1(r,Qle),c=this.props,f=c.viewBox,h=E1(c,Jle);return!sc(s,f)||!sc(l,h)||!sc(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,l=i.y,c=i.width,f=i.height,h=i.orientation,p=i.tickSize,m=i.mirror,v=i.tickMargin,_,E,S,w,A,I,k=m?-1:1,V=r.tickSize||p,C=Ce(r.tickCoord)?r.tickCoord:r.coordinate;switch(h){case"top":_=E=r.coordinate,w=l+ +!m*f,S=w-k*V,I=S-k*v,A=C;break;case"left":S=w=r.coordinate,E=s+ +!m*c,_=E-k*V,A=_-k*v,I=C;break;case"right":S=w=r.coordinate,E=s+ +m*c,_=E+k*V,A=_+k*v,I=C;break;default:_=E=r.coordinate,w=l+ +m*f,S=w+k*V,I=S+k*v,A=C;break}return{line:{x1:_,y1:S,x2:E,y2:w},tick:{x:A,y:I}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,l;switch(i){case"left":l=s?"start":"end";break;case"right":l=s?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,l="end";switch(i){case"left":case"right":l="middle";break;case"top":l=s?"start":"end";break;default:l=s?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,l=r.width,c=r.height,f=r.orientation,h=r.mirror,p=r.axisLine,m=Kn(Kn(Kn({},Je(this.props,!1)),Je(p,!1)),{},{fill:"none"});if(f==="top"||f==="bottom"){var v=+(f==="top"&&!h||f==="bottom"&&h);m=Kn(Kn({},m),{},{x1:i,y1:s+v*c,x2:i+l,y2:s+v*c})}else{var _=+(f==="left"&&!h||f==="right"&&h);m=Kn(Kn({},m),{},{x1:i+_*l,y1:s,x2:i+_*l,y2:s+c})}return G.createElement("line",Zu({},m,{className:bt("recharts-cartesian-axis-line",di(p,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var l=this,c=this.props,f=c.tickLine,h=c.stroke,p=c.tick,m=c.tickFormatter,v=c.unit,_=kA(Kn(Kn({},this.props),{},{ticks:r}),i,s),E=this.getTickTextAnchor(),S=this.getTickVerticalAnchor(),w=Je(this.props,!1),A=Je(p,!1),I=Kn(Kn({},w),{},{fill:"none"},Je(f,!1)),k=_.map(function(V,C){var j=l.getTickLineCoord(V),O=j.line,P=j.tick,R=Kn(Kn(Kn(Kn({textAnchor:E,verticalAnchor:S},w),{},{stroke:"none",fill:h},A),P),{},{index:C,payload:V,visibleTicksCount:_.length,tickFormatter:m});return G.createElement(qt,Zu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(V.value,"-").concat(V.coordinate,"-").concat(V.tickCoord)},Vl(l.props,V,C)),f&&G.createElement("line",Zu({},I,O,{className:bt("recharts-cartesian-axis-tick-line",di(f,"className"))})),p&&e.renderTickItem(p,R,"".concat(rt(m)?m(V.value,C):V.value).concat(v||"")))});return G.createElement("g",{className:"recharts-cartesian-axis-ticks"},k)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,l=i.width,c=i.height,f=i.ticksGenerator,h=i.className,p=i.hide;if(p)return null;var m=this.props,v=m.ticks,_=E1(m,Zle),E=v;return rt(f)&&(E=v&&v.length>0?f(this.props):f(_)),l<=0||c<=0||!E||!E.length?null:G.createElement(qt,{className:bt("recharts-cartesian-axis",h),ref:function(w){r.layerReference=w}},s&&this.renderAxisLine(),this.renderTicks(E,this.state.fontSize,this.state.letterSpacing),ir.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var l,c=bt(i.className,"recharts-cartesian-axis-tick-value");return G.isValidElement(r)?l=G.cloneElement(r,Kn(Kn({},i),{},{className:c})):rt(r)?l=r(Kn(Kn({},i),{},{className:c})):l=G.createElement($l,Zu({},i,{className:"recharts-cartesian-axis-tick-value"}),s),l}}])})(U.Component);PA(af,"displayName","CartesianAxis");PA(af,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var lue=["x1","y1","x2","y2","key"],uue=["offset"];function ql(t){"@babel/helpers - typeof";return ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(t)}function R4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Or(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R4(Object(n),!0).forEach(function(r){cue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cue(t,e,n){return e=fue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fue(t){var e=hue(t,"string");return ql(e)=="symbol"?e:e+""}function hue(t,e){if(ql(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Al(){return Al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Al.apply(this,arguments)}function j4(t,e){if(t==null)return{};var n=due(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function due(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var pue=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,l=e.width,c=e.height,f=e.ry;return G.createElement("rect",{x:i,y:s,ry:f,width:l,height:c,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function D9(t,e){var n;if(G.isValidElement(t))n=G.cloneElement(t,e);else if(rt(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,l=e.y2,c=e.key,f=j4(e,lue),h=Je(f,!1);h.offset;var p=j4(h,uue);n=G.createElement("line",Al({},p,{x1:r,y1:i,x2:s,y2:l,fill:"none",key:c}))}return n}function mue(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var l=s.map(function(c,f){var h=Or(Or({},t),{},{x1:e,y1:c,x2:e+n,y2:c,key:"line-".concat(f),index:f});return D9(i,h)});return G.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function gue(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var l=s.map(function(c,f){var h=Or(Or({},t),{},{x1:c,y1:e,x2:c,y2:e+n,key:"line-".concat(f),index:f});return D9(i,h)});return G.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function yue(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,l=t.height,c=t.horizontalPoints,f=t.horizontal,h=f===void 0?!0:f;if(!h||!e||!e.length)return null;var p=c.map(function(v){return Math.round(v+i-i)}).sort(function(v,_){return v-_});i!==p[0]&&p.unshift(0);var m=p.map(function(v,_){var E=!p[_+1],S=E?i+l-v:p[_+1]-v;if(S<=0)return null;var w=_%e.length;return G.createElement("rect",{key:"react-".concat(_),y:v,x:r,height:S,width:s,stroke:"none",fill:e[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return G.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function vue(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,l=t.y,c=t.width,f=t.height,h=t.verticalPoints;if(!n||!r||!r.length)return null;var p=h.map(function(v){return Math.round(v+s-s)}).sort(function(v,_){return v-_});s!==p[0]&&p.unshift(0);var m=p.map(function(v,_){var E=!p[_+1],S=E?s+c-v:p[_+1]-v;if(S<=0)return null;var w=_%r.length;return G.createElement("rect",{key:"react-".concat(_),x:v,y:l,width:S,height:f,stroke:"none",fill:r[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return G.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var bue=function(e,n){var r=e.xAxis,i=e.width,s=e.height,l=e.offset;return VV(kA(Or(Or(Or({},af.defaultProps),r),{},{ticks:cs(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),l.left,l.left+l.width,n)},xue=function(e,n){var r=e.yAxis,i=e.width,s=e.height,l=e.offset;return VV(kA(Or(Or(Or({},af.defaultProps),r),{},{ticks:cs(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),l.top,l.top+l.height,n)},qu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function L9(t){var e,n,r,i,s,l,c=AA(),f=OA(),h=ole(),p=Or(Or({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:qu.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:qu.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:qu.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:qu.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:qu.vertical,verticalFill:(l=t.verticalFill)!==null&&l!==void 0?l:qu.verticalFill,x:Ce(t.x)?t.x:h.left,y:Ce(t.y)?t.y:h.top,width:Ce(t.width)?t.width:h.width,height:Ce(t.height)?t.height:h.height}),m=p.x,v=p.y,_=p.width,E=p.height,S=p.syncWithTicks,w=p.horizontalValues,A=p.verticalValues,I=ile(),k=ale();if(!Ce(_)||_<=0||!Ce(E)||E<=0||!Ce(m)||m!==+m||!Ce(v)||v!==+v)return null;var V=p.verticalCoordinatesGenerator||bue,C=p.horizontalCoordinatesGenerator||xue,j=p.horizontalPoints,O=p.verticalPoints;if((!j||!j.length)&&rt(C)){var P=w&&w.length,R=C({yAxis:k?Or(Or({},k),{},{ticks:P?w:k.ticks}):void 0,width:c,height:f,offset:h},P?!0:S);na(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ql(R),"]")),Array.isArray(R)&&(j=R)}if((!O||!O.length)&&rt(V)){var B=A&&A.length,D=V({xAxis:I?Or(Or({},I),{},{ticks:B?A:I.ticks}):void 0,width:c,height:f,offset:h},B?!0:S);na(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ql(D),"]")),Array.isArray(D)&&(O=D)}return G.createElement("g",{className:"recharts-cartesian-grid"},G.createElement(pue,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),G.createElement(mue,Al({},p,{offset:h,horizontalPoints:j,xAxis:I,yAxis:k})),G.createElement(gue,Al({},p,{offset:h,verticalPoints:O,xAxis:I,yAxis:k})),G.createElement(yue,Al({},p,{horizontalPoints:j})),G.createElement(vue,Al({},p,{verticalPoints:O})))}L9.displayName="CartesianGrid";var _ue=["type","layout","connectNulls","ref"],wue=["key"];function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}function M4(t,e){if(t==null)return{};var n=Sue(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Rh(){return Rh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rh.apply(this,arguments)}function D4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function si(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D4(Object(n),!0).forEach(function(r){Qi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zu(t){return Oue(t)||Aue(t)||Tue(t)||Eue()}function Eue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tue(t,e){if(t){if(typeof t=="string")return _E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _E(t,e)}}function Aue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Oue(t){if(Array.isArray(t))return _E(t)}function _E(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$9(r.key),r)}}function Iue(t,e,n){return e&&L4(t.prototype,e),n&&L4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kue(t,e,n){return e=ey(e),Pue(t,V9()?Reflect.construct(e,n||[],ey(t).constructor):e.apply(t,n))}function Pue(t,e){if(e&&(Vc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nue(t)}function Nue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V9=function(){return!!t})()}function ey(t){return ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ey(t)}function Rue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wE(t,e)}function wE(t,e){return wE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wE(t,e)}function Qi(t,e,n){return e=$9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $9(t){var e=jue(t,"string");return Vc(e)=="symbol"?e:e+""}function jue(t,e){if(Vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $c=(function(t){function e(){var n;Cue(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=kue(this,e,[].concat(i)),Qi(n,"state",{isAnimationFinished:!0,totalLength:0}),Qi(n,"generateSimpleStrokeDasharray",function(l,c){return"".concat(c,"px ").concat(l-c,"px")}),Qi(n,"getStrokeDasharray",function(l,c,f){var h=f.reduce(function(A,I){return A+I});if(!h)return n.generateSimpleStrokeDasharray(c,l);for(var p=Math.floor(l/h),m=l%h,v=c-l,_=[],E=0,S=0;E<f.length;S+=f[E],++E)if(S+f[E]>m){_=[].concat(zu(f.slice(0,E)),[m-S]);break}var w=_.length%2===0?[0,v]:[v];return[].concat(zu(e.repeat(f,p)),zu(_),w).map(function(A){return"".concat(A,"px")}).join(", ")}),Qi(n,"id",Zc("recharts-line-")),Qi(n,"pathRef",function(l){n.mainCurve=l}),Qi(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Qi(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Rue(e,t),Iue(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.points,c=s.xAxis,f=s.yAxis,h=s.layout,p=s.children,m=pi(p,zd);if(!m)return null;var v=function(S,w){return{x:S.x,y:S.y,value:S.value,errorVal:Xn(S.payload,w)}},_={clipPath:r?"url(#clipPath-".concat(i,")"):null};return G.createElement(qt,_,m.map(function(E){return G.cloneElement(E,{key:"bar-".concat(E.props.dataKey),data:l,xAxis:c,yAxis:f,layout:h,dataPointFormatter:v})}))}},{key:"renderDots",value:function(r,i,s){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var c=this.props,f=c.dot,h=c.points,p=c.dataKey,m=Je(this.props,!1),v=Je(f,!0),_=h.map(function(S,w){var A=si(si(si({key:"dot-".concat(w),r:3},m),v),{},{index:w,cx:S.x,cy:S.y,value:S.value,dataKey:p,payload:S.payload,points:h});return e.renderDotItem(f,A)}),E={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return G.createElement(qt,Rh({className:"recharts-line-dots",key:"dots"},E),_)}},{key:"renderCurveStatically",value:function(r,i,s,l){var c=this.props,f=c.type,h=c.layout,p=c.connectNulls;c.ref;var m=M4(c,_ue),v=si(si(si({},Je(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},l),{},{type:f,layout:h,connectNulls:p});return G.createElement(jg,Rh({},v,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,l=this.props,c=l.points,f=l.strokeDasharray,h=l.isAnimationActive,p=l.animationBegin,m=l.animationDuration,v=l.animationEasing,_=l.animationId,E=l.animateNewValues,S=l.width,w=l.height,A=this.state,I=A.prevPoints,k=A.totalLength;return G.createElement(Na,{begin:p,duration:m,isActive:h,easing:v,from:{t:0},to:{t:1},key:"line-".concat(_),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(V){var C=V.t;if(I){var j=I.length/c.length,O=c.map(function($,L){var Q=Math.floor(L*j);if(I[Q]){var J=I[Q],F=ci(J.x,$.x),Y=ci(J.y,$.y);return si(si({},$),{},{x:F(C),y:Y(C)})}if(E){var ee=ci(S*2,$.x),ue=ci(w/2,$.y);return si(si({},$),{},{x:ee(C),y:ue(C)})}return si(si({},$),{},{x:$.x,y:$.y})});return s.renderCurveStatically(O,r,i)}var P=ci(0,k),R=P(C),B;if(f){var D="".concat(f).split(/[,\s]+/gim).map(function($){return parseFloat($)});B=s.getStrokeDasharray(R,k,D)}else B=s.generateSimpleStrokeDasharray(k,R);return s.renderCurveStatically(c,r,i,{strokeDasharray:B})})}},{key:"renderCurve",value:function(r,i){var s=this.props,l=s.points,c=s.isAnimationActive,f=this.state,h=f.prevPoints,p=f.totalLength;return c&&l&&l.length&&(!h&&p>0||!qd(h,l))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(l,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,l=i.dot,c=i.points,f=i.className,h=i.xAxis,p=i.yAxis,m=i.top,v=i.left,_=i.width,E=i.height,S=i.isAnimationActive,w=i.id;if(s||!c||!c.length)return null;var A=this.state.isAnimationFinished,I=c.length===1,k=bt("recharts-line",f),V=h&&h.allowDataOverflow,C=p&&p.allowDataOverflow,j=V||C,O=ct(w)?this.id:w,P=(r=Je(l,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},R=P.r,B=R===void 0?3:R,D=P.strokeWidth,$=D===void 0?2:D,L=fW(l)?l:{},Q=L.clipDot,J=Q===void 0?!0:Q,F=B*2+$;return G.createElement(qt,{className:k},V||C?G.createElement("defs",null,G.createElement("clipPath",{id:"clipPath-".concat(O)},G.createElement("rect",{x:V?v:v-_/2,y:C?m:m-E/2,width:V?_:_*2,height:C?E:E*2})),!J&&G.createElement("clipPath",{id:"clipPath-dots-".concat(O)},G.createElement("rect",{x:v-F/2,y:m-F/2,width:_+F,height:E+F}))):null,!I&&this.renderCurve(j,O),this.renderErrorBar(j,O),(I||l)&&this.renderDots(j,J,O),(!S||A)&&ds.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(zu(r),[0]):r,l=[],c=0;c<i;++c)l=[].concat(zu(l),zu(s));return l}},{key:"renderDotItem",value:function(r,i){var s;if(G.isValidElement(r))s=G.cloneElement(r,i);else if(rt(r))s=r(i);else{var l=i.key,c=M4(i,wue),f=bt("recharts-line-dot",typeof r!="boolean"?r.className:"");s=G.createElement(ev,Rh({key:l},c,{className:f}))}return s}}])})(U.PureComponent);Qi($c,"displayName","Line");Qi($c,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Kl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Qi($c,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,l=t.dataKey,c=t.bandSize,f=t.displayedData,h=t.offset,p=e.layout,m=f.map(function(v,_){var E=Xn(v,l);return p==="horizontal"?{x:$M({axis:n,ticks:i,bandSize:c,entry:v,index:_}),y:ct(E)?null:r.scale(E),value:E,payload:v}:{x:ct(E)?null:n.scale(E),y:$M({axis:r,ticks:s,bandSize:c,entry:v,index:_}),value:E,payload:v}});return si({points:m,layout:p},h)});function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function Mue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Due(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,q9(r.key),r)}}function Lue(t,e,n){return e&&Due(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vue(t,e,n){return e=ty(e),$ue(t,U9()?Reflect.construct(e,n||[],ty(t).constructor):e.apply(t,n))}function $ue(t,e){if(e&&(Uc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uue(t)}function Uue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U9=function(){return!!t})()}function ty(t){return ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ty(t)}function Bue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SE(t,e)}function SE(t,e){return SE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},SE(t,e)}function B9(t,e,n){return e=q9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q9(t){var e=que(t,"string");return Uc(e)=="symbol"?e:e+""}function que(t,e){if(Uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function EE(){return EE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EE.apply(this,arguments)}function zue(t){var e=t.xAxisId,n=AA(),r=OA(),i=T9(e);return i==null?null:U.createElement(af,EE({},i,{className:bt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(l){return cs(l,!0)}}))}var hv=(function(t){function e(){return Mue(this,e),Vue(this,e,arguments)}return Bue(e,t),Lue(e,[{key:"render",value:function(){return U.createElement(zue,this.props)}}])})(U.Component);B9(hv,"displayName","XAxis");B9(hv,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function Fue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H9(r.key),r)}}function Gue(t,e,n){return e&&Hue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kue(t,e,n){return e=ny(e),Wue(t,z9()?Reflect.construct(e,n||[],ny(t).constructor):e.apply(t,n))}function Wue(t,e){if(e&&(Bc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yue(t)}function Yue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z9=function(){return!!t})()}function ny(t){return ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ny(t)}function Xue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TE(t,e)}function TE(t,e){return TE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TE(t,e)}function F9(t,e,n){return e=H9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H9(t){var e=Que(t,"string");return Bc(e)=="symbol"?e:e+""}function Que(t,e){if(Bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function AE(){return AE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AE.apply(this,arguments)}var Jue=function(e){var n=e.yAxisId,r=AA(),i=OA(),s=A9(n);return s==null?null:U.createElement(af,AE({},s,{className:bt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(c){return cs(c,!0)}}))},_d=(function(t){function e(){return Fue(this,e),Kue(this,e,arguments)}return Xue(e,t),Gue(e,[{key:"render",value:function(){return U.createElement(Jue,this.props)}}])})(U.Component);F9(_d,"displayName","YAxis");F9(_d,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function V4(t){return nce(t)||tce(t)||ece(t)||Zue()}function Zue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ece(t,e){if(t){if(typeof t=="string")return OE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OE(t,e)}}function tce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nce(t){if(Array.isArray(t))return OE(t)}function OE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var CE=function(e,n,r,i,s){var l=pi(e,IA),c=pi(e,uv),f=[].concat(V4(l),V4(c)),h=pi(e,fv),p="".concat(i,"Id"),m=i[0],v=n;if(f.length&&(v=f.reduce(function(S,w){if(w.props[p]===r&&Oa(w.props,"extendDomain")&&Ce(w.props[m])){var A=w.props[m];return[Math.min(S[0],A),Math.max(S[1],A)]}return S},v)),h.length){var _="".concat(m,"1"),E="".concat(m,"2");v=h.reduce(function(S,w){if(w.props[p]===r&&Oa(w.props,"extendDomain")&&Ce(w.props[_])&&Ce(w.props[E])){var A=w.props[_],I=w.props[E];return[Math.min(S[0],A,I),Math.max(S[1],A,I)]}return S},v)}return s&&s.length&&(v=s.reduce(function(S,w){return Ce(w)?[Math.min(S[0],w),Math.max(S[1],w)]:S},v)),v},T1={exports:{}},$4;function rce(){return $4||($4=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function s(f,h,p,m,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var _=new i(p,m||f,v),E=n?n+h:h;return f._events[E]?f._events[E].fn?f._events[E]=[f._events[E],_]:f._events[E].push(_):(f._events[E]=_,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],p,m;if(this._eventsCount===0)return h;for(m in p=this._events)e.call(p,m)&&h.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},c.prototype.listeners=function(h){var p=n?n+h:h,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,_=m.length,E=new Array(_);v<_;v++)E[v]=m[v].fn;return E},c.prototype.listenerCount=function(h){var p=n?n+h:h,m=this._events[p];return m?m.fn?1:m.length:0},c.prototype.emit=function(h,p,m,v,_,E){var S=n?n+h:h;if(!this._events[S])return!1;var w=this._events[S],A=arguments.length,I,k;if(w.fn){switch(w.once&&this.removeListener(h,w.fn,void 0,!0),A){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,p),!0;case 3:return w.fn.call(w.context,p,m),!0;case 4:return w.fn.call(w.context,p,m,v),!0;case 5:return w.fn.call(w.context,p,m,v,_),!0;case 6:return w.fn.call(w.context,p,m,v,_,E),!0}for(k=1,I=new Array(A-1);k<A;k++)I[k-1]=arguments[k];w.fn.apply(w.context,I)}else{var V=w.length,C;for(k=0;k<V;k++)switch(w[k].once&&this.removeListener(h,w[k].fn,void 0,!0),A){case 1:w[k].fn.call(w[k].context);break;case 2:w[k].fn.call(w[k].context,p);break;case 3:w[k].fn.call(w[k].context,p,m);break;case 4:w[k].fn.call(w[k].context,p,m,v);break;default:if(!I)for(C=1,I=new Array(A-1);C<A;C++)I[C-1]=arguments[C];w[k].fn.apply(w[k].context,I)}}return!0},c.prototype.on=function(h,p,m){return s(this,h,p,m,!1)},c.prototype.once=function(h,p,m){return s(this,h,p,m,!0)},c.prototype.removeListener=function(h,p,m,v){var _=n?n+h:h;if(!this._events[_])return this;if(!p)return l(this,_),this;var E=this._events[_];if(E.fn)E.fn===p&&(!v||E.once)&&(!m||E.context===m)&&l(this,_);else{for(var S=0,w=[],A=E.length;S<A;S++)(E[S].fn!==p||v&&!E[S].once||m&&E[S].context!==m)&&w.push(E[S]);w.length?this._events[_]=w.length===1?w[0]:w:l(this,_)}return this},c.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(T1)),T1.exports}var ice=rce();const ace=Gt(ice);var A1=new ace,O1="recharts.syncMouseEvents";function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function sce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,G9(r.key),r)}}function lce(t,e,n){return e&&oce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function C1(t,e,n){return e=G9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G9(t){var e=uce(t,"string");return wd(e)=="symbol"?e:e+""}function uce(t,e){if(wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cce=(function(){function t(){sce(this,t),C1(this,"activeIndex",0),C1(this,"coordinateList",[]),C1(this,"layout","horizontal")}return lce(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,l=n.container,c=l===void 0?null:l,f=n.layout,h=f===void 0?null:f,p=n.offset,m=p===void 0?null:p,v=n.mouseHandlerCallback,_=v===void 0?null:v;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=c??this.container,this.layout=h??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=_??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,l=i.y,c=i.height,f=this.coordinateList[this.activeIndex].coordinate,h=((n=window)===null||n===void 0?void 0:n.scrollX)||0,p=((r=window)===null||r===void 0?void 0:r.scrollY)||0,m=s+f+h,v=l+this.offset.top+c/2+p;this.mouseHandlerCallback({pageX:m,pageY:v})}}}])})();function fce(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Ce(r)&&Ce(i))return!0}return!1}function hce(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function K9(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,l=fn(e,n,r,i),c=fn(e,n,r,s);return{points:[l,c],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function dce(t,e,n){var r,i,s,l;if(t==="horizontal")r=e.x,s=r,i=n.top,l=n.top+n.height;else if(t==="vertical")i=e.y,l=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var c=e.cx,f=e.cy,h=e.innerRadius,p=e.outerRadius,m=e.angle,v=fn(c,f,h,m),_=fn(c,f,p,m);r=v.x,i=v.y,s=_.x,l=_.y}else return K9(e);return[{x:r,y:i},{x:s,y:l}]}function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}function U4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U4(Object(n),!0).forEach(function(r){pce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pce(t,e,n){return e=mce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mce(t){var e=gce(t,"string");return Sd(e)=="symbol"?e:e+""}function gce(t,e){if(Sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yce(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,l=t.activeCoordinate,c=t.activePayload,f=t.offset,h=t.activeTooltipIndex,p=t.tooltipAxisBandSize,m=t.layout,v=t.chartName,_=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!_||!s||!l||v!=="ScatterChart"&&i!=="axis")return null;var E,S=jg;if(v==="ScatterChart")E=l,S=Vae;else if(v==="BarChart")E=hce(m,l,f,p),S=wA;else if(m==="radial"){var w=K9(l),A=w.cx,I=w.cy,k=w.radius,V=w.startAngle,C=w.endAngle;E={cx:A,cy:I,startAngle:V,endAngle:C,innerRadius:k,outerRadius:k},S=_A}else E={points:dce(m,l,f)},S=jg;var j=Tm(Tm(Tm(Tm({stroke:"#ccc",pointerEvents:"none"},f),E),Je(_,!1)),{},{payload:c,payloadIndex:h,className:bt("recharts-tooltip-cursor",_.className)});return U.isValidElement(_)?U.cloneElement(_,j):U.createElement(S,j)}var vce=["item"],bce=["children","className","width","height","style","compact","title","desc"];function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function ec(){return ec=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ec.apply(this,arguments)}function B4(t,e){return wce(t)||_ce(t,e)||Y9(t,e)||xce()}function xce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,c=[],f=!0,h=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function wce(t){if(Array.isArray(t))return t}function q4(t,e){if(t==null)return{};var n=Sce(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ece(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,X9(r.key),r)}}function Ace(t,e,n){return e&&Tce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oce(t,e,n){return e=ry(e),Cce(t,W9()?Reflect.construct(e,n||[],ry(t).constructor):e.apply(t,n))}function Cce(t,e){if(e&&(qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ice(t)}function Ice(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W9=function(){return!!t})()}function ry(t){return ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ry(t)}function kce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IE(t,e)}function IE(t,e){return IE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},IE(t,e)}function zc(t){return Rce(t)||Nce(t)||Y9(t)||Pce()}function Pce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y9(t,e){if(t){if(typeof t=="string")return kE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kE(t,e)}}function Nce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rce(t){if(Array.isArray(t))return kE(t)}function kE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function z4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function de(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z4(Object(n),!0).forEach(function(r){tt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tt(t,e,n){return e=X9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X9(t){var e=jce(t,"string");return qc(e)=="symbol"?e:e+""}function jce(t,e){if(qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mce={xAxis:["bottom","top"],yAxis:["left","right"]},Dce={width:"100%",height:"100%"},Q9={x:0,y:0};function Am(t){return t}var Lce=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Vce=function(e,n,r,i){var s=n.find(function(p){return p&&p.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var l=s.coordinate,c=i.radius;return de(de(de({},i),fn(i.cx,i.cy,c,l)),{},{angle:l,radius:c})}var f=s.coordinate,h=i.angle;return de(de(de({},i),fn(i.cx,i.cy,f,h)),{},{angle:h,radius:f})}return Q9},dv=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,l=(r??[]).reduce(function(c,f){var h=f.props.data;return h&&h.length?[].concat(zc(c),zc(h)):c},[]);return l.length>0?l:e&&e.length&&Ce(i)&&Ce(s)?e.slice(i,s+1):[]};function J9(t){return t==="number"?[0,"auto"]:void 0}var PE=function(e,n,r,i){var s=e.graphicalItems,l=e.tooltipAxis,c=dv(n,e);return r<0||!s||!s.length||r>=c.length?null:s.reduce(function(f,h){var p,m=(p=h.props.data)!==null&&p!==void 0?p:n;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var v;if(l.dataKey&&!l.allowDuplicatedCategory){var _=m===void 0?c:m;v=sg(_,l.dataKey,i)}else v=m&&m[r]||c[r];return v?[].concat(zc(f),[zV(h,v)]):f},[])},F4=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},l=Lce(s,r),c=e.orderedTooltipTicks,f=e.tooltipAxis,h=e.tooltipTicks,p=lne(l,c,h,f);if(p>=0&&h){var m=h[p]&&h[p].value,v=PE(e,n,p,m),_=Vce(r,c,p,s);return{activeTooltipIndex:p,activeLabel:m,activePayload:v,activeCoordinate:_}}return null},$ce=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,l=n.axisIdKey,c=n.stackGroups,f=n.dataStartIndex,h=n.dataEndIndex,p=e.layout,m=e.children,v=e.stackOffset,_=LV(p,s);return r.reduce(function(E,S){var w,A=S.type.defaultProps!==void 0?de(de({},S.type.defaultProps),S.props):S.props,I=A.type,k=A.dataKey,V=A.allowDataOverflow,C=A.allowDuplicatedCategory,j=A.scale,O=A.ticks,P=A.includeHidden,R=A[l];if(E[R])return E;var B=dv(e.data,{graphicalItems:i.filter(function(W){var oe,me=l in W.props?W.props[l]:(oe=W.type.defaultProps)===null||oe===void 0?void 0:oe[l];return me===R}),dataStartIndex:f,dataEndIndex:h}),D=B.length,$,L,Q;fce(A.domain,V,I)&&($=HS(A.domain,null,V),_&&(I==="number"||j!=="auto")&&(Q=Ih(B,k,"category")));var J=J9(I);if(!$||$.length===0){var F,Y=(F=A.domain)!==null&&F!==void 0?F:J;if(k){if($=Ih(B,k,I),I==="category"&&_){var ee=tW($);C&&ee?(L=$,$=Fg(0,D)):C||($=zM(Y,$,S).reduce(function(W,oe){return W.indexOf(oe)>=0?W:[].concat(zc(W),[oe])},[]))}else if(I==="category")C?$=$.filter(function(W){return W!==""&&!ct(W)}):$=zM(Y,$,S).reduce(function(W,oe){return W.indexOf(oe)>=0||oe===""||ct(oe)?W:[].concat(zc(W),[oe])},[]);else if(I==="number"){var ue=dne(B,i.filter(function(W){var oe,me,we=l in W.props?W.props[l]:(oe=W.type.defaultProps)===null||oe===void 0?void 0:oe[l],Se="hide"in W.props?W.props.hide:(me=W.type.defaultProps)===null||me===void 0?void 0:me.hide;return we===R&&(P||!Se)}),k,s,p);ue&&($=ue)}_&&(I==="number"||j!=="auto")&&(Q=Ih(B,k,"category"))}else _?$=Fg(0,D):c&&c[R]&&c[R].hasStack&&I==="number"?$=v==="expand"?[0,1]:qV(c[R].stackGroups,f,h):$=DV(B,i.filter(function(W){var oe=l in W.props?W.props[l]:W.type.defaultProps[l],me="hide"in W.props?W.props.hide:W.type.defaultProps.hide;return oe===R&&(P||!me)}),I,p,!0);if(I==="number")$=CE(m,$,R,s,O),Y&&($=HS(Y,$,V));else if(I==="category"&&Y){var ve=Y,H=$.every(function(W){return ve.indexOf(W)>=0});H&&($=ve)}}return de(de({},E),{},tt({},R,de(de({},A),{},{axisType:s,domain:$,categoricalDomain:Q,duplicateDomain:L,originalDomain:(w=A.domain)!==null&&w!==void 0?w:J,isCategorical:_,layout:p})))},{})},Uce=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,l=n.axisIdKey,c=n.stackGroups,f=n.dataStartIndex,h=n.dataEndIndex,p=e.layout,m=e.children,v=dv(e.data,{graphicalItems:r,dataStartIndex:f,dataEndIndex:h}),_=v.length,E=LV(p,s),S=-1;return r.reduce(function(w,A){var I=A.type.defaultProps!==void 0?de(de({},A.type.defaultProps),A.props):A.props,k=I[l],V=J9("number");if(!w[k]){S++;var C;return E?C=Fg(0,_):c&&c[k]&&c[k].hasStack?(C=qV(c[k].stackGroups,f,h),C=CE(m,C,k,s)):(C=HS(V,DV(v,r.filter(function(j){var O,P,R=l in j.props?j.props[l]:(O=j.type.defaultProps)===null||O===void 0?void 0:O[l],B="hide"in j.props?j.props.hide:(P=j.type.defaultProps)===null||P===void 0?void 0:P.hide;return R===k&&!B}),"number",p),i.defaultProps.allowDataOverflow),C=CE(m,C,k,s)),de(de({},w),{},tt({},k,de(de({axisType:s},i.defaultProps),{},{hide:!0,orientation:di(Mce,"".concat(s,".").concat(S%2),null),domain:C,originalDomain:V,isCategorical:E,layout:p})))}return w},{})},Bce=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,l=n.graphicalItems,c=n.stackGroups,f=n.dataStartIndex,h=n.dataEndIndex,p=e.children,m="".concat(i,"Id"),v=pi(p,s),_={};return v&&v.length?_=$ce(e,{axes:v,graphicalItems:l,axisType:i,axisIdKey:m,stackGroups:c,dataStartIndex:f,dataEndIndex:h}):l&&l.length&&(_=Uce(e,{Axis:s,graphicalItems:l,axisType:i,axisIdKey:m,stackGroups:c,dataStartIndex:f,dataEndIndex:h})),_},qce=function(e){var n=co(e),r=cs(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:WT(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Pg(n,r)}},H4=function(e){var n=e.children,r=e.defaultShowTooltip,i=li(n,Nc),s=0,l=0;return e.data&&e.data.length!==0&&(l=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(l=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!r}},zce=function(e){return!e||!e.length?!1:e.some(function(n){var r=fs(n&&n.type);return r&&r.indexOf("Bar")>=0})},G4=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Fce=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,l=s===void 0?{}:s,c=e.yAxisMap,f=c===void 0?{}:c,h=r.width,p=r.height,m=r.children,v=r.margin||{},_=li(m,Nc),E=li(m,bo),S=Object.keys(f).reduce(function(C,j){var O=f[j],P=O.orientation;return!O.mirror&&!O.hide?de(de({},C),{},tt({},P,C[P]+O.width)):C},{left:v.left||0,right:v.right||0}),w=Object.keys(l).reduce(function(C,j){var O=l[j],P=O.orientation;return!O.mirror&&!O.hide?de(de({},C),{},tt({},P,di(C,"".concat(P))+O.height)):C},{top:v.top||0,bottom:v.bottom||0}),A=de(de({},w),S),I=A.bottom;_&&(A.bottom+=_.props.height||Nc.defaultProps.height),E&&n&&(A=fne(A,i,r,n));var k=h-A.left-A.right,V=p-A.top-A.bottom;return de(de({brushBottom:I},A),{},{width:Math.max(k,0),height:Math.max(V,0)})},Hce=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Z9=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,l=e.validateTooltipEventTypes,c=l===void 0?["axis"]:l,f=e.axisComponents,h=e.legendContent,p=e.formatAxisMap,m=e.defaultProps,v=function(A,I){var k=I.graphicalItems,V=I.stackGroups,C=I.offset,j=I.updateId,O=I.dataStartIndex,P=I.dataEndIndex,R=A.barSize,B=A.layout,D=A.barGap,$=A.barCategoryGap,L=A.maxBarSize,Q=G4(B),J=Q.numericAxisName,F=Q.cateAxisName,Y=zce(k),ee=[];return k.forEach(function(ue,ve){var H=dv(A.data,{graphicalItems:[ue],dataStartIndex:O,dataEndIndex:P}),W=ue.type.defaultProps!==void 0?de(de({},ue.type.defaultProps),ue.props):ue.props,oe=W.dataKey,me=W.maxBarSize,we=W["".concat(J,"Id")],Se=W["".concat(F,"Id")],Re={},$e=f.reduce(function(_t,Dt){var En=I["".concat(Dt.axisType,"Map")],Ie=W["".concat(Dt.axisType,"Id")];En&&En[Ie]||Dt.axisType==="zAxis"||Bl();var ht=En[Ie];return de(de({},_t),{},tt(tt({},Dt.axisType,ht),"".concat(Dt.axisType,"Ticks"),cs(ht)))},Re),ye=$e[F],Ee=$e["".concat(F,"Ticks")],Ne=V&&V[we]&&V[we].hasStack&&wne(ue,V[we].stackGroups),ne=fs(ue.type).indexOf("Bar")>=0,Ge=Pg(ye,Ee),xe=[],Te=Y&&une({barSize:R,stackGroups:V,totalSize:Hce($e,F)});if(ne){var Be,We,st=ct(me)?L:me,Ye=(Be=(We=Pg(ye,Ee,!0))!==null&&We!==void 0?We:st)!==null&&Be!==void 0?Be:0;xe=cne({barGap:D,barCategoryGap:$,bandSize:Ye!==Ge?Ye:Ge,sizeList:Te[Se],maxBarSize:st}),Ye!==Ge&&(xe=xe.map(function(_t){return de(de({},_t),{},{position:de(de({},_t.position),{},{offset:_t.position.offset-Ye/2})})}))}var qe=ue&&ue.type&&ue.type.getComposedData;qe&&ee.push({props:de(de({},qe(de(de({},$e),{},{displayedData:H,props:A,dataKey:oe,item:ue,bandSize:Ge,barPosition:xe,offset:C,stackedData:Ne,layout:B,dataStartIndex:O,dataEndIndex:P}))),{},tt(tt(tt({key:ue.key||"item-".concat(ve)},J,$e[J]),F,$e[F]),"animationId",j)),childIndex:pW(ue,A.children),item:ue})}),ee},_=function(A,I){var k=A.props,V=A.dataStartIndex,C=A.dataEndIndex,j=A.updateId;if(!rN({props:k}))return null;var O=k.children,P=k.layout,R=k.stackOffset,B=k.data,D=k.reverseStackOrder,$=G4(P),L=$.numericAxisName,Q=$.cateAxisName,J=pi(O,r),F=xne(B,J,"".concat(L,"Id"),"".concat(Q,"Id"),R,D),Y=f.reduce(function(W,oe){var me="".concat(oe.axisType,"Map");return de(de({},W),{},tt({},me,Bce(k,de(de({},oe),{},{graphicalItems:J,stackGroups:oe.axisType===L&&F,dataStartIndex:V,dataEndIndex:C}))))},{}),ee=Fce(de(de({},Y),{},{props:k,graphicalItems:J}),I==null?void 0:I.legendBBox);Object.keys(Y).forEach(function(W){Y[W]=p(k,Y[W],ee,W.replace("Map",""),n)});var ue=Y["".concat(Q,"Map")],ve=qce(ue),H=v(k,de(de({},Y),{},{dataStartIndex:V,dataEndIndex:C,updateId:j,graphicalItems:J,stackGroups:F,offset:ee}));return de(de({formattedGraphicalItems:H,graphicalItems:J,offset:ee,stackGroups:F},ve),Y)},E=(function(w){function A(I){var k,V,C;return Ece(this,A),C=Oce(this,A,[I]),tt(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),tt(C,"accessibilityManager",new cce),tt(C,"handleLegendBBoxUpdate",function(j){if(j){var O=C.state,P=O.dataStartIndex,R=O.dataEndIndex,B=O.updateId;C.setState(de({legendBBox:j},_({props:C.props,dataStartIndex:P,dataEndIndex:R,updateId:B},de(de({},C.state),{},{legendBBox:j}))))}}),tt(C,"handleReceiveSyncEvent",function(j,O,P){if(C.props.syncId===j){if(P===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(O)}}),tt(C,"handleBrushChange",function(j){var O=j.startIndex,P=j.endIndex;if(O!==C.state.dataStartIndex||P!==C.state.dataEndIndex){var R=C.state.updateId;C.setState(function(){return de({dataStartIndex:O,dataEndIndex:P},_({props:C.props,dataStartIndex:O,dataEndIndex:P,updateId:R},C.state))}),C.triggerSyncEvent({dataStartIndex:O,dataEndIndex:P})}}),tt(C,"handleMouseEnter",function(j){var O=C.getMouseInfo(j);if(O){var P=de(de({},O),{},{isTooltipActive:!0});C.setState(P),C.triggerSyncEvent(P);var R=C.props.onMouseEnter;rt(R)&&R(P,j)}}),tt(C,"triggeredAfterMouseMove",function(j){var O=C.getMouseInfo(j),P=O?de(de({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(P),C.triggerSyncEvent(P);var R=C.props.onMouseMove;rt(R)&&R(P,j)}),tt(C,"handleItemMouseEnter",function(j){C.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),tt(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),tt(C,"handleMouseMove",function(j){j.persist(),C.throttleTriggeredAfterMouseMove(j)}),tt(C,"handleMouseLeave",function(j){C.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};C.setState(O),C.triggerSyncEvent(O);var P=C.props.onMouseLeave;rt(P)&&P(O,j)}),tt(C,"handleOuterEvent",function(j){var O=dW(j),P=di(C.props,"".concat(O));if(O&&rt(P)){var R,B;/.*touch.*/i.test(O)?B=C.getMouseInfo(j.changedTouches[0]):B=C.getMouseInfo(j),P((R=B)!==null&&R!==void 0?R:{},j)}}),tt(C,"handleClick",function(j){var O=C.getMouseInfo(j);if(O){var P=de(de({},O),{},{isTooltipActive:!0});C.setState(P),C.triggerSyncEvent(P);var R=C.props.onClick;rt(R)&&R(P,j)}}),tt(C,"handleMouseDown",function(j){var O=C.props.onMouseDown;if(rt(O)){var P=C.getMouseInfo(j);O(P,j)}}),tt(C,"handleMouseUp",function(j){var O=C.props.onMouseUp;if(rt(O)){var P=C.getMouseInfo(j);O(P,j)}}),tt(C,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),tt(C,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&C.handleMouseDown(j.changedTouches[0])}),tt(C,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&C.handleMouseUp(j.changedTouches[0])}),tt(C,"handleDoubleClick",function(j){var O=C.props.onDoubleClick;if(rt(O)){var P=C.getMouseInfo(j);O(P,j)}}),tt(C,"handleContextMenu",function(j){var O=C.props.onContextMenu;if(rt(O)){var P=C.getMouseInfo(j);O(P,j)}}),tt(C,"triggerSyncEvent",function(j){C.props.syncId!==void 0&&A1.emit(O1,C.props.syncId,j,C.eventEmitterSymbol)}),tt(C,"applySyncEvent",function(j){var O=C.props,P=O.layout,R=O.syncMethod,B=C.state.updateId,D=j.dataStartIndex,$=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)C.setState(de({dataStartIndex:D,dataEndIndex:$},_({props:C.props,dataStartIndex:D,dataEndIndex:$,updateId:B},C.state)));else if(j.activeTooltipIndex!==void 0){var L=j.chartX,Q=j.chartY,J=j.activeTooltipIndex,F=C.state,Y=F.offset,ee=F.tooltipTicks;if(!Y)return;if(typeof R=="function")J=R(ee,j);else if(R==="value"){J=-1;for(var ue=0;ue<ee.length;ue++)if(ee[ue].value===j.activeLabel){J=ue;break}}var ve=de(de({},Y),{},{x:Y.left,y:Y.top}),H=Math.min(L,ve.x+ve.width),W=Math.min(Q,ve.y+ve.height),oe=ee[J]&&ee[J].value,me=PE(C.state,C.props.data,J),we=ee[J]?{x:P==="horizontal"?ee[J].coordinate:H,y:P==="horizontal"?W:ee[J].coordinate}:Q9;C.setState(de(de({},j),{},{activeLabel:oe,activeCoordinate:we,activePayload:me,activeTooltipIndex:J}))}else C.setState(j)}),tt(C,"renderCursor",function(j){var O,P=C.state,R=P.isTooltipActive,B=P.activeCoordinate,D=P.activePayload,$=P.offset,L=P.activeTooltipIndex,Q=P.tooltipAxisBandSize,J=C.getTooltipEventType(),F=(O=j.props.active)!==null&&O!==void 0?O:R,Y=C.props.layout,ee=j.key||"_recharts-cursor";return G.createElement(yce,{key:ee,activeCoordinate:B,activePayload:D,activeTooltipIndex:L,chartName:n,element:j,isActive:F,layout:Y,offset:$,tooltipAxisBandSize:Q,tooltipEventType:J})}),tt(C,"renderPolarAxis",function(j,O,P){var R=di(j,"type.axisType"),B=di(C.state,"".concat(R,"Map")),D=j.type.defaultProps,$=D!==void 0?de(de({},D),j.props):j.props,L=B&&B[$["".concat(R,"Id")]];return U.cloneElement(j,de(de({},L),{},{className:bt(R,L.className),key:j.key||"".concat(O,"-").concat(P),ticks:cs(L,!0)}))}),tt(C,"renderPolarGrid",function(j){var O=j.props,P=O.radialLines,R=O.polarAngles,B=O.polarRadius,D=C.state,$=D.radiusAxisMap,L=D.angleAxisMap,Q=co($),J=co(L),F=J.cx,Y=J.cy,ee=J.innerRadius,ue=J.outerRadius;return U.cloneElement(j,{polarAngles:Array.isArray(R)?R:cs(J,!0).map(function(ve){return ve.coordinate}),polarRadius:Array.isArray(B)?B:cs(Q,!0).map(function(ve){return ve.coordinate}),cx:F,cy:Y,innerRadius:ee,outerRadius:ue,key:j.key||"polar-grid",radialLines:P})}),tt(C,"renderLegend",function(){var j=C.state.formattedGraphicalItems,O=C.props,P=O.children,R=O.width,B=O.height,D=C.props.margin||{},$=R-(D.left||0)-(D.right||0),L=jV({children:P,formattedGraphicalItems:j,legendWidth:$,legendContent:h});if(!L)return null;var Q=L.item,J=q4(L,vce);return U.cloneElement(Q,de(de({},J),{},{chartWidth:R,chartHeight:B,margin:D,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),tt(C,"renderTooltip",function(){var j,O=C.props,P=O.children,R=O.accessibilityLayer,B=li(P,Yi);if(!B)return null;var D=C.state,$=D.isTooltipActive,L=D.activeCoordinate,Q=D.activePayload,J=D.activeLabel,F=D.offset,Y=(j=B.props.active)!==null&&j!==void 0?j:$;return U.cloneElement(B,{viewBox:de(de({},F),{},{x:F.left,y:F.top}),active:Y,label:J,payload:Y?Q:[],coordinate:L,accessibilityLayer:R})}),tt(C,"renderBrush",function(j){var O=C.props,P=O.margin,R=O.data,B=C.state,D=B.offset,$=B.dataStartIndex,L=B.dataEndIndex,Q=B.updateId;return U.cloneElement(j,{key:j.key||"_recharts-brush",onChange:_m(C.handleBrushChange,j.props.onChange),data:R,x:Ce(j.props.x)?j.props.x:D.left,y:Ce(j.props.y)?j.props.y:D.top+D.height+D.brushBottom-(P.bottom||0),width:Ce(j.props.width)?j.props.width:D.width,startIndex:$,endIndex:L,updateId:"brush-".concat(Q)})}),tt(C,"renderReferenceElement",function(j,O,P){if(!j)return null;var R=C,B=R.clipPathId,D=C.state,$=D.xAxisMap,L=D.yAxisMap,Q=D.offset,J=j.type.defaultProps||{},F=j.props,Y=F.xAxisId,ee=Y===void 0?J.xAxisId:Y,ue=F.yAxisId,ve=ue===void 0?J.yAxisId:ue;return U.cloneElement(j,{key:j.key||"".concat(O,"-").concat(P),xAxis:$[ee],yAxis:L[ve],viewBox:{x:Q.left,y:Q.top,width:Q.width,height:Q.height},clipPathId:B})}),tt(C,"renderActivePoints",function(j){var O=j.item,P=j.activePoint,R=j.basePoint,B=j.childIndex,D=j.isRange,$=[],L=O.props.key,Q=O.item.type.defaultProps!==void 0?de(de({},O.item.type.defaultProps),O.item.props):O.item.props,J=Q.activeDot,F=Q.dataKey,Y=de(de({index:B,dataKey:F,cx:P.x,cy:P.y,r:4,fill:xA(O.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},Je(J,!1)),og(J));return $.push(A.renderActiveDot(J,Y,"".concat(L,"-activePoint-").concat(B))),R?$.push(A.renderActiveDot(J,de(de({},Y),{},{cx:R.x,cy:R.y}),"".concat(L,"-basePoint-").concat(B))):D&&$.push(null),$}),tt(C,"renderGraphicChild",function(j,O,P){var R=C.filterFormatItem(j,O,P);if(!R)return null;var B=C.getTooltipEventType(),D=C.state,$=D.isTooltipActive,L=D.tooltipAxis,Q=D.activeTooltipIndex,J=D.activeLabel,F=C.props.children,Y=li(F,Yi),ee=R.props,ue=ee.points,ve=ee.isRange,H=ee.baseLine,W=R.item.type.defaultProps!==void 0?de(de({},R.item.type.defaultProps),R.item.props):R.item.props,oe=W.activeDot,me=W.hide,we=W.activeBar,Se=W.activeShape,Re=!!(!me&&$&&Y&&(oe||we||Se)),$e={};B!=="axis"&&Y&&Y.props.trigger==="click"?$e={onClick:_m(C.handleItemMouseEnter,j.props.onClick)}:B!=="axis"&&($e={onMouseLeave:_m(C.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:_m(C.handleItemMouseEnter,j.props.onMouseEnter)});var ye=U.cloneElement(j,de(de({},R.props),$e));function Ee(Dt){return typeof L.dataKey=="function"?L.dataKey(Dt.payload):null}if(Re)if(Q>=0){var Ne,ne;if(L.dataKey&&!L.allowDuplicatedCategory){var Ge=typeof L.dataKey=="function"?Ee:"payload.".concat(L.dataKey.toString());Ne=sg(ue,Ge,J),ne=ve&&H&&sg(H,Ge,J)}else Ne=ue==null?void 0:ue[Q],ne=ve&&H&&H[Q];if(Se||we){var xe=j.props.activeIndex!==void 0?j.props.activeIndex:Q;return[U.cloneElement(j,de(de(de({},R.props),$e),{},{activeIndex:xe})),null,null]}if(!ct(Ne))return[ye].concat(zc(C.renderActivePoints({item:R,activePoint:Ne,basePoint:ne,childIndex:Q,isRange:ve})))}else{var Te,Be=(Te=C.getItemByXY(C.state.activeCoordinate))!==null&&Te!==void 0?Te:{graphicalItem:ye},We=Be.graphicalItem,st=We.item,Ye=st===void 0?j:st,qe=We.childIndex,_t=de(de(de({},R.props),$e),{},{activeIndex:qe});return[U.cloneElement(Ye,_t),null,null]}return ve?[ye,null,null]:[ye,null]}),tt(C,"renderCustomized",function(j,O,P){return U.cloneElement(j,de(de({key:"recharts-customized-".concat(P)},C.props),C.state))}),tt(C,"renderMap",{CartesianGrid:{handler:Am,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:Am},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:Am},YAxis:{handler:Am},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((k=I.id)!==null&&k!==void 0?k:Zc("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=N6(C.triggeredAfterMouseMove,(V=I.throttleDelay)!==null&&V!==void 0?V:1e3/60),C.state={},C}return kce(A,w),Ace(A,[{key:"componentDidMount",value:function(){var k,V;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(V=this.props.margin.top)!==null&&V!==void 0?V:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var k=this.props,V=k.children,C=k.data,j=k.height,O=k.layout,P=li(V,Yi);if(P){var R=P.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var B=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,D=PE(this.state,C,R,B),$=this.state.tooltipTicks[R].coordinate,L=(this.state.offset.top+j)/2,Q=O==="horizontal",J=Q?{x:$,y:L}:{y:$,x:L},F=this.state.formattedGraphicalItems.find(function(ee){var ue=ee.item;return ue.type.name==="Scatter"});F&&(J=de(de({},J),F.props.points[R].tooltipPosition),D=F.props.points[R].tooltipPayload);var Y={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:B,activePayload:D,activeCoordinate:J};this.setState(Y),this.renderCursor(P),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(k,V){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==V.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==k.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==k.margin){var C,j;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(k){dS([li(k.children,Yi)],[li(this.props.children,Yi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var k=li(this.props.children,Yi);if(k&&typeof k.props.shared=="boolean"){var V=k.props.shared?"axis":"item";return c.indexOf(V)>=0?V:s}return s}},{key:"getMouseInfo",value:function(k){if(!this.container)return null;var V=this.container,C=V.getBoundingClientRect(),j=eJ(C),O={chartX:Math.round(k.pageX-j.left),chartY:Math.round(k.pageY-j.top)},P=C.width/V.offsetWidth||1,R=this.inRange(O.chartX,O.chartY,P);if(!R)return null;var B=this.state,D=B.xAxisMap,$=B.yAxisMap,L=this.getTooltipEventType(),Q=F4(this.state,this.props.data,this.props.layout,R);if(L!=="axis"&&D&&$){var J=co(D).scale,F=co($).scale,Y=J&&J.invert?J.invert(O.chartX):null,ee=F&&F.invert?F.invert(O.chartY):null;return de(de({},O),{},{xValue:Y,yValue:ee},Q)}return Q?de(de({},O),Q):null}},{key:"inRange",value:function(k,V){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,O=k/C,P=V/C;if(j==="horizontal"||j==="vertical"){var R=this.state.offset,B=O>=R.left&&O<=R.left+R.width&&P>=R.top&&P<=R.top+R.height;return B?{x:O,y:P}:null}var D=this.state,$=D.angleAxisMap,L=D.radiusAxisMap;if($&&L){var Q=co($);return GM({x:O,y:P},Q)}return null}},{key:"parseEventsOfWrapper",value:function(){var k=this.props.children,V=this.getTooltipEventType(),C=li(k,Yi),j={};C&&V==="axis"&&(C.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=og(this.props,this.handleOuterEvent);return de(de({},O),j)}},{key:"addListener",value:function(){A1.on(O1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){A1.removeListener(O1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(k,V,C){for(var j=this.state.formattedGraphicalItems,O=0,P=j.length;O<P;O++){var R=j[O];if(R.item===k||R.props.key===k.key||V===fs(R.item.type)&&C===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var k=this.clipPathId,V=this.state.offset,C=V.left,j=V.top,O=V.height,P=V.width;return G.createElement("defs",null,G.createElement("clipPath",{id:k},G.createElement("rect",{x:C,y:j,height:O,width:P})))}},{key:"getXScales",value:function(){var k=this.state.xAxisMap;return k?Object.entries(k).reduce(function(V,C){var j=B4(C,2),O=j[0],P=j[1];return de(de({},V),{},tt({},O,P.scale))},{}):null}},{key:"getYScales",value:function(){var k=this.state.yAxisMap;return k?Object.entries(k).reduce(function(V,C){var j=B4(C,2),O=j[0],P=j[1];return de(de({},V),{},tt({},O,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(k){var V;return(V=this.state.xAxisMap)===null||V===void 0||(V=V[k])===null||V===void 0?void 0:V.scale}},{key:"getYScaleByAxisId",value:function(k){var V;return(V=this.state.yAxisMap)===null||V===void 0||(V=V[k])===null||V===void 0?void 0:V.scale}},{key:"getItemByXY",value:function(k){var V=this.state,C=V.formattedGraphicalItems,j=V.activeItem;if(C&&C.length)for(var O=0,P=C.length;O<P;O++){var R=C[O],B=R.props,D=R.item,$=D.type.defaultProps!==void 0?de(de({},D.type.defaultProps),D.props):D.props,L=fs(D.type);if(L==="Bar"){var Q=(B.data||[]).find(function(ee){return vae(k,ee)});if(Q)return{graphicalItem:R,payload:Q}}else if(L==="RadialBar"){var J=(B.data||[]).find(function(ee){return GM(k,ee)});if(J)return{graphicalItem:R,payload:J}}else if(av(R,j)||sv(R,j)||gd(R,j)){var F=Bse({graphicalItem:R,activeTooltipItem:j,itemData:$.data}),Y=$.activeIndex===void 0?F:$.activeIndex;return{graphicalItem:de(de({},R),{},{childIndex:Y}),payload:gd(R,j)?$.data[F]:R.props.data[F]}}}return null}},{key:"render",value:function(){var k=this;if(!rN(this))return null;var V=this.props,C=V.children,j=V.className,O=V.width,P=V.height,R=V.style,B=V.compact,D=V.title,$=V.desc,L=q4(V,bce),Q=Je(L,!1);if(B)return G.createElement(w4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement(mS,ec({},Q,{width:O,height:P,title:D,desc:$}),this.renderClipPath(),aN(C,this.renderMap)));if(this.props.accessibilityLayer){var J,F;Q.tabIndex=(J=this.props.tabIndex)!==null&&J!==void 0?J:0,Q.role=(F=this.props.role)!==null&&F!==void 0?F:"application",Q.onKeyDown=function(ee){k.accessibilityManager.keyboardEvent(ee)},Q.onFocus=function(){k.accessibilityManager.focus()}}var Y=this.parseEventsOfWrapper();return G.createElement(w4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement("div",ec({className:bt("recharts-wrapper",j),style:de({position:"relative",cursor:"default",width:O,height:P},R)},Y,{ref:function(ue){k.container=ue}}),G.createElement(mS,ec({},Q,{width:O,height:P,title:D,desc:$,style:Dce}),this.renderClipPath(),aN(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(U.Component);tt(E,"displayName",n),tt(E,"defaultProps",de({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),tt(E,"getDerivedStateFromProps",function(w,A){var I=w.dataKey,k=w.data,V=w.children,C=w.width,j=w.height,O=w.layout,P=w.stackOffset,R=w.margin,B=A.dataStartIndex,D=A.dataEndIndex;if(A.updateId===void 0){var $=H4(w);return de(de(de({},$),{},{updateId:0},_(de(de({props:w},$),{},{updateId:0}),A)),{},{prevDataKey:I,prevData:k,prevWidth:C,prevHeight:j,prevLayout:O,prevStackOffset:P,prevMargin:R,prevChildren:V})}if(I!==A.prevDataKey||k!==A.prevData||C!==A.prevWidth||j!==A.prevHeight||O!==A.prevLayout||P!==A.prevStackOffset||!sc(R,A.prevMargin)){var L=H4(w),Q={chartX:A.chartX,chartY:A.chartY,isTooltipActive:A.isTooltipActive},J=de(de({},F4(A,k,O)),{},{updateId:A.updateId+1}),F=de(de(de({},L),Q),J);return de(de(de({},F),_(de({props:w},F),A)),{},{prevDataKey:I,prevData:k,prevWidth:C,prevHeight:j,prevLayout:O,prevStackOffset:P,prevMargin:R,prevChildren:V})}if(!dS(V,A.prevChildren)){var Y,ee,ue,ve,H=li(V,Nc),W=H&&(Y=(ee=H.props)===null||ee===void 0?void 0:ee.startIndex)!==null&&Y!==void 0?Y:B,oe=H&&(ue=(ve=H.props)===null||ve===void 0?void 0:ve.endIndex)!==null&&ue!==void 0?ue:D,me=W!==B||oe!==D,we=!ct(k),Se=we&&!me?A.updateId:A.updateId+1;return de(de({updateId:Se},_(de(de({props:w},A),{},{updateId:Se,dataStartIndex:W,dataEndIndex:oe}),A)),{},{prevChildren:V,dataStartIndex:W,dataEndIndex:oe})}return null}),tt(E,"renderActiveDot",function(w,A,I){var k;return U.isValidElement(w)?k=U.cloneElement(w,A):rt(w)?k=w(A):k=G.createElement(ev,A),G.createElement(qt,{className:"recharts-active-dot",key:I},k)});var S=U.forwardRef(function(A,I){return G.createElement(E,ec({},A,{ref:I}))});return S.displayName=E.displayName,S},Gce=Z9({chartName:"LineChart",GraphicalChild:$c,axisComponents:[{axisType:"xAxis",AxisComp:hv},{axisType:"yAxis",AxisComp:_d}],formatAxisMap:Foe}),Kce=Z9({chartName:"PieChart",GraphicalChild:Ts,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:iv},{axisType:"radiusAxis",AxisComp:nv}],formatAxisMap:Nne,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const xl=t=>{if(!t)return"";const e=new Date(t);if(isNaN(e.getTime()))return"";const n=e.getDate(),r=e.getMonth()+1,i=e.getFullYear().toString().slice(-2);return`${n}/${r}/${i}`},Wce=t=>{if(t===void 0||isNaN(t))return"0s";const e=Math.floor(t/60),n=Math.floor(t%60);return`${e}m ${n}s`},Yce=({active:t,payload:e,label:n})=>{if(t&&e&&e.length){const r=e[0].payload,i=typeof n=="number"?xl(n)+", "+new Date(n).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):n;return x.jsxs("div",{className:"p-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-xl text-xs sm:text-sm z-50",children:[x.jsx("p",{className:"font-bold mb-2 text-slate-700 dark:text-slate-200 border-b border-slate-100 dark:border-slate-700 pb-1",children:i}),x.jsxs("div",{className:"space-y-1",children:[x.jsxs("p",{className:"flex justify-between gap-4",style:{color:"var(--color-chart-wpm)"},children:[x.jsx("span",{children:"WPM:"}),x.jsx("span",{className:"font-bold",children:r.wpm})]}),x.jsxs("p",{className:"flex justify-between gap-4",style:{color:"var(--color-chart-acc)"},children:[x.jsx("span",{children:"Accuracy:"}),x.jsxs("span",{className:"font-bold",children:[Number(r.accuracy).toFixed(2),"%"]})]}),r.errors!==void 0&&x.jsxs("p",{className:"text-red-500 flex justify-between gap-4",children:[x.jsx("span",{children:"Errors:"}),x.jsx("span",{className:"font-bold",children:r.errors})]}),r.duration!==void 0&&x.jsxs("p",{className:"text-slate-500 dark:text-slate-400 flex justify-between gap-4",children:[x.jsx("span",{children:"Duration:"}),x.jsx("span",{className:"font-bold",children:Wce(r.duration)})]})]})]})}return null},e$=({data:t,xDataKey:e="date",xAxisConfig:n})=>t.length===0?x.jsx("div",{className:"flex items-center justify-center h-full text-slate-500 text-sm",children:"Not enough data to show trends."}):x.jsx("div",{className:"w-full h-[250px] sm:h-[300px]",children:x.jsx(R6,{width:"100%",height:"100%",children:x.jsxs(Gce,{data:t,margin:{top:10,right:10,left:0,bottom:0},children:[x.jsx(L9,{strokeDasharray:"3 3",strokeOpacity:.1,vertical:!1}),x.jsx(hv,{dataKey:e,type:(n==null?void 0:n.type)||"category",domain:n==null?void 0:n.domain,ticks:n==null?void 0:n.ticks,tickFormatter:n==null?void 0:n.tickFormatter,tick:{fontSize:10,fill:"#64748b"},tickMargin:10,axisLine:{stroke:"#e2e8f0"},tickLine:!1}),x.jsx(_d,{yAxisId:"left",tick:{fontSize:10,fill:"#64748b"},domain:[0,"dataMax + 10"],width:40,axisLine:{stroke:"#e2e8f0"},tickLine:{stroke:"#e2e8f0"}}),x.jsx(_d,{yAxisId:"right",orientation:"right",tick:{fontSize:10,fill:"#94a3b8"},domain:[0,100],width:30,axisLine:{stroke:"#e2e8f0"},tickLine:{stroke:"#e2e8f0"}}),x.jsx(Yi,{content:x.jsx(Yce,{})}),x.jsx(bo,{wrapperStyle:{fontSize:"12px",paddingTop:"10px"},iconType:"circle"}),x.jsx($c,{yAxisId:"left",type:"monotone",dataKey:"wpm",name:"WPM",stroke:"var(--color-chart-wpm)",strokeWidth:2,dot:{r:3,strokeWidth:0,fill:"var(--color-chart-wpm)"},activeDot:{r:5,strokeWidth:2,stroke:"#fff"},animationDuration:1e3}),x.jsx($c,{yAxisId:"right",type:"monotone",dataKey:"accuracy",name:"Accuracy",stroke:"var(--color-chart-acc)",strokeWidth:2,dot:{r:3,strokeWidth:0,fill:"var(--color-chart-acc)"},activeDot:{r:5,strokeWidth:2,stroke:"#fff"},animationDuration:1e3})]})})}),NE=({isOpen:t,onClose:e,title:n,message:r,buttons:i})=>{const s=U.useRef([]),[l,c]=U.useState(0);return U.useEffect(()=>{s.current=s.current.slice(0,i.length)},[i]),U.useEffect(()=>{if(t){const f=setTimeout(()=>{var p;(p=s.current[0])==null||p.focus(),c(0)},100),h=p=>{var E;if(!t||p.key==="Tab")return;p.preventDefault();const m=s.current.filter(Boolean);if(m.length===0)return;const v=m.findIndex(S=>S===document.activeElement);if(p.key==="Enter"){v!==-1&&m[v].click();return}let _=v===-1?0:v;p.key==="ArrowRight"?_=(v+1)%m.length:p.key==="ArrowLeft"&&(_=(v-1+m.length)%m.length),(E=m[_])==null||E.focus()};return document.addEventListener("keydown",h),()=>{clearTimeout(f),document.removeEventListener("keydown",h)}}},[t,i]),x.jsxs(Io,{isOpen:t,onClose:e,title:n,children:[x.jsx("div",{className:"text-slate-600 dark:text-slate-300 mb-6",children:r}),x.jsx("div",{className:"flex justify-center items-center gap-3",children:i.map((f,h)=>x.jsx(Fe,{ref:p=>{s.current[h]=p},onClick:f.onClick,variant:h===l?"primary":"secondary",onFocus:()=>c(h),onMouseEnter:()=>{var p;return(p=s.current[h])==null?void 0:p.focus()},children:f.label},f.label))})]})},RE=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),K4=["#a855f7","#6366f1","#ec4899","#f97316","#06b6d4","#10b981"],W4=t=>{if(isNaN(t)||t<0)return"0m 00s";const e=Math.floor(t/60),n=Math.floor(t%60);return`${e}m ${n.toString().padStart(2,"0")}s`},Y4=t=>{switch(t){case" ":return"Space ()";case`
`:return"Enter ()";case"	":return"Tab ()";default:return t}},Xce=()=>{const t=U.useContext(Sn);if(!t)throw new Error("AppContext not found");const{practiceHistory:e,keyErrorStats:n,keyAttemptStats:r,wpmGoal:i,accuracyGoal:s,timeGoal:l,dailyPracticeTime:c,setGoals:f,navigateTo:h,startTargetedSession:p,showAlert:m,reloadDataFromStorage:v,deletePracticeSession:_,clearPracticeHistory:E,openSetupModal:S,fetchNewSnippet:w,startCustomSession:A,closeSetupModal:I,isSetupModalOpen:k}=t,[V,C]=U.useState(!1),[j,O]=U.useState(!1),[P,R]=U.useState("all"),B=U.useRef(null),[D,$]=U.useState(null),[L,Q]=U.useState(null),[J,F]=U.useState(void 0),[Y,ee]=U.useState(null),[ue,ve]=U.useState(0),H=U.useRef(null),W=U.useRef(null);U.useEffect(()=>{var he;e.length===0&&((he=H.current)==null||he.focus())},[e.length]),U.useEffect(()=>{if(e.length>0)return;const he=Ae=>{(Ae.key==="ArrowRight"||Ae.key==="ArrowLeft")&&(Ae.preventDefault(),ve(Ke=>Ke===0?1:0))};return window.addEventListener("keydown",he),()=>window.removeEventListener("keydown",he)},[e.length]),U.useEffect(()=>{var he,Ae;e.length>0||(ue===0?(he=H.current)==null||he.focus():(Ae=W.current)==null||Ae.focus())},[ue,e.length]);const oe=U.useRef(null);U.useEffect(()=>{const he=Ke=>{oe.current&&!oe.current.contains(Ke.target)&&F(void 0)},Ae=()=>{J!==void 0&&F(void 0)};return document.addEventListener("mousedown",he),document.addEventListener("touchstart",he,{passive:!1}),window.addEventListener("scroll",Ae,!0),()=>{document.removeEventListener("mousedown",he),document.removeEventListener("touchstart",he),window.removeEventListener("scroll",Ae,!0)}},[J]),ui("2",()=>R("24h"),{disabled:V||k}),ui("7",()=>R("7d"),{disabled:V||k}),ui("3",()=>R("30d"),{disabled:V||k}),ui("a",()=>R("all"),{disabled:V||k});const me=U.useCallback(()=>{try{C5({practiceHistory:e,keyErrorStats:n,keyAttemptStats:r}),m("Data exported successfully!","info")}catch(he){m("Failed to export data.","error"),console.error(he)}},[m,e,n,r]),we=U.useCallback(()=>{var he;(he=B.current)==null||he.click()},[]);ui("E",me,{disabled:V||k}),ui("I",we,{disabled:V||k});const Se=(he,Ae)=>{try{SG(he,Ae),v(),m("Data imported successfully. Please refresh the page to see changes.","info",8e3)}catch(Ke){const Pt=Ke instanceof Error?Ke.message:"An unknown error occurred.";m(`Import failed: ${Pt}`,"error"),console.error(Ke)}},Re=he=>{var Pt;const Ae=(Pt=he.target.files)==null?void 0:Pt[0];if(!Ae)return;const Ke=new FileReader;Ke.onload=ot=>{var $t;const Kt=($t=ot.target)==null?void 0:$t.result;if(!Kt){m("File is empty or could not be read.","error");return}const Nt=localStorage.getItem("practiceHistory");Nt&&JSON.parse(Nt).length>0?$({fileContent:Kt}):Se(Kt,"replace"),he.target&&(he.target.value="")},Ke.onerror=()=>{m("Error reading the selected file.","error"),he.target&&(he.target.value="")},Ke.readAsText(Ae)},$e=he=>{D&&Se(D.fileContent,he),$(null)},ye=()=>{(L==null?void 0:L.type)==="single"&&L.timestamp?(ee(L.timestamp),setTimeout(()=>{_(L.timestamp),m("Session deleted.","info"),Q(null),ee(null)},300)):(L==null?void 0:L.type)==="all"&&(localStorage.clear(),window.location.reload())},Ee=U.useMemo(()=>{const he=Date.now();return P==="24h"?e.filter(Ae=>he-Ae.timestamp<1440*60*1e3):P==="7d"?e.filter(Ae=>he-Ae.timestamp<10080*60*1e3):P==="30d"?e.filter(Ae=>he-Ae.timestamp<720*60*60*1e3):e},[e,P]),Ne=U.useMemo(()=>{if(Ee.length===0)return{avgWpm:0,avgAccuracy:0,totalDuration:0,sessions:0,bestWpm:0,totalLines:0,totalErrors:0};const he=Ee.reduce((Nt,dt)=>Nt+dt.wpm,0),Ae=Ee.reduce((Nt,dt)=>Nt+dt.accuracy,0),Ke=Ee.reduce((Nt,dt)=>Nt+dt.duration,0),Pt=Math.max(0,...Ee.map(Nt=>Nt.wpm)),ot=Ee.reduce((Nt,dt)=>Nt+(dt.linesTyped||0),0),Kt=Ee.reduce((Nt,dt)=>Nt+dt.errors,0);return{avgWpm:Math.round(he/Ee.length),avgAccuracy:parseFloat((Ae/Ee.length).toFixed(2)),totalDuration:Ke,sessions:Ee.length,bestWpm:Pt,totalLines:ot,totalErrors:Kt}},[Ee]),ne=U.useMemo(()=>e.length===0?[]:Object.entries(n).map(([he,Ae])=>{const Ke=r[he]||Ae,Pt=Number(Ae),ot=Number(Ke),Kt=ot>0?Pt/ot*100:0;return{key:he,errors:Pt,attempts:ot,errorRate:Kt}}).filter(he=>he.errors>0).sort((he,Ae)=>Ae.errorRate-he.errorRate),[n,r,e]),Ge=U.useMemo(()=>ne.slice(0,5),[ne]),xe=U.useMemo(()=>{if(Ee.length===0)return[];const he={};return Ee.forEach(Ae=>{he[Ae.language]=(he[Ae.language]||0)+Ae.duration}),Object.entries(he).map(([Ae,Ke])=>({name:Ae,value:Ke}))},[Ee]),Te=he=>{const Ae=Math.floor(he/3600),Ke=Math.floor(he%3600/60);return`${Ae}h ${Ke}m`},Be=()=>{const he=Ge.map(Ae=>Ae.key);he.length>0&&(h("practice"),p(he,{length:"medium",level:"medium"}))},We=U.useMemo(()=>{const he=new Date,Ae=Ee.slice().sort((Oe,je)=>Oe.timestamp-je.timestamp);let Ke=Ae,Pt="number",ot="timestamp",Kt=["auto","auto"],Nt,dt=Oe=>xl(Oe);const $t=(Oe,je,pt)=>{if(!Oe)return"";const jt=new Date(Oe),or=`${jt.getDate()}/${jt.getMonth()+1}`;if(je===0){const Dn=new Date().getFullYear();return jt.getFullYear()!==Dn?xl(Oe):or}const Vr=pt[je-1];return Vr&&new Date(Vr).getFullYear()!==jt.getFullYear()?xl(Oe):or},Ue=Oe=>(je,pt)=>$t(je,pt,Oe);switch(P){case"24h":Kt=[he.getTime()-1440*60*1e3,he.getTime()],dt=Oe=>new Date(Oe).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"}),Nt=Array.from({length:7},(Oe,je)=>he.getTime()-je*4*60*60*1e3).reverse();break;case"7d":{const Oe=new Date(he);Oe.setDate(he.getDate()-6),Oe.setHours(0,0,0,0),Kt=[Oe.getTime(),he.getTime()],Nt=Array.from({length:7},(je,pt)=>{const jt=new Date(Oe);return jt.setDate(jt.getDate()+pt),jt.getTime()}),dt=Ue(Nt);break}case"30d":{const Oe=new Date(he);Oe.setDate(he.getDate()-29),Oe.setHours(0,0,0,0),Kt=[Oe.getTime(),he.getTime()],Nt=Array.from({length:7},(je,pt)=>{const jt=new Date(Oe);return jt.setDate(jt.getDate()+pt*5),jt.getTime()}),dt=Ue(Nt);break}case"all":{Kt=["auto","auto"],Pt="category",dt=(Oe,je)=>{if(je>0&&Ae[je-1]){const jt=new Date(Ae[je-1].timestamp),or=new Date(Oe);if(jt.getFullYear()!==or.getFullYear())return xl(Oe)}const pt=new Date(Oe);return`${pt.getDate()}/${pt.getMonth()+1}`};break}}return{data:Ke,xAxisType:Pt,xDataKey:ot,domain:Kt,ticks:Nt,tickFormatter:dt}},[Ee,P]),st=i>0?Math.min(100,Ne.avgWpm/i*100):0,Ye=s>0?Math.min(100,Ne.avgAccuracy/s*100):0,qe=l*60,_t=qe>0?Math.min(100,c/qe*100):0,Dt=Ne.avgWpm>i,En=Ne.avgAccuracy>=s,Ie=c>qe;let ht=0,xt=0;Dt&&(xt=Math.floor(Ne.avgWpm/10)*10+10,ht=xt-i);let Vt=0,Zt=0;if(Ie){const he=c/60;Zt=Math.floor(he/5)*5+5,Vt=Zt-l}const en=Math.min(5,100-s);if(e.length===0)return x.jsxs("div",{className:"text-center p-8 h-full flex flex-col justify-center items-center",children:[x.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Your Dashboard"}),x.jsx("p",{className:"text-slate-500 mb-6",children:"You haven't completed any practice sessions yet. Start a new session or import your previous data."}),x.jsxs("div",{className:"flex gap-4",children:[x.jsx(Fe,{ref:H,variant:ue===0?"primary":"secondary",onClick:()=>{S()},onFocus:()=>ve(0),onMouseEnter:()=>ve(0),accessKeyChar:"Enter",accessKeyLabel:"",children:"Start Practicing"}),x.jsx(Fe,{ref:W,variant:ue===1?"primary":"secondary",onClick:we,onFocus:()=>ve(1),onMouseEnter:()=>ve(1),accessKeyChar:"I",title:"Import Data (Alt+I)",children:"Import Data"})]}),x.jsx("input",{type:"file",ref:B,className:"hidden",accept:".json,application/json",onChange:Re})]});const bn=[{label:"Last 24 Hrs",value:"24h"},{label:"Last 7 Days",value:"7d"},{label:"Last 30 Days",value:"30d"},{label:"All Time",value:"all"}],kt=["2","7","3","A"];return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"space-y-8 h-full overflow-y-auto custom-scrollbar p-4",children:[x.jsxs("div",{className:"flex flex-col xl:flex-row justify-between xl:items-center gap-4",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[x.jsx("h1",{className:"text-3xl font-bold",children:"Your Progress Dashboard"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(Fe,{variant:"outline",size:"sm",onClick:we,title:"Import Data (Alt+I)",accessKeyChar:"I",children:"Import"}),x.jsx(Fe,{variant:"outline",size:"sm",onClick:me,title:"Export Data (Alt+E)",accessKeyChar:"E",children:"Export"})]})]}),x.jsx(gh,{options:bn,selectedValue:P,onSelect:he=>R(he),accessKeyChars:kt,disabled:k})]}),Ee.length===0?x.jsx(gr,{className:"p-8 text-center text-slate-500",children:"No practice sessions found for the selected time period."}):x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[x.jsx(jr,{label:"Average WPM",value:Ne.avgWpm}),x.jsx(jr,{label:"Average Accuracy",value:`${Ne.avgAccuracy}%`}),x.jsx(jr,{label:"Best WPM",value:Ne.bestWpm}),x.jsx(jr,{label:"Total Practice Time",value:Te(Ne.totalDuration)}),x.jsx(jr,{label:"Total Lines Typed",value:Ne.totalLines}),x.jsx(jr,{label:"Total Errors",value:Ne.totalErrors})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[x.jsxs(gr,{className:"lg:col-span-2 p-6 flex flex-col justify-center min-h-[450px]",children:[x.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Historical Performance"}),x.jsx(e$,{data:We.data,xDataKey:We.xDataKey,xAxisConfig:{type:We.xAxisType,domain:We.domain,ticks:We.ticks,tickFormatter:We.tickFormatter}})]}),x.jsxs("div",{className:"space-y-8",children:[x.jsxs(gr,{className:"p-6",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h2",{className:"text-xl font-semibold",children:"Your Goals"}),x.jsx(Fe,{variant:"ghost",size:"icon",onClick:()=>C(!0),children:x.jsx(P5,{className:"w-5 h-5"})})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[x.jsxs("span",{className:"text-sm font-medium",children:["Daily Time: ",W4(c)," / ",l,"m"]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:`text-sm font-bold ${c>=qe?"text-amber-500":""}`,children:c>=qe?"Goal Achieved!":`${_t.toFixed(0)}%`}),Ie&&Vt>0&&x.jsxs(Fe,{variant:"ghost",size:"sm",className:"!py-0 !px-2 !h-auto",onClick:()=>f(i,s,Zt),title:`Increase daily time goal to ${Zt} minutes`,children:["+",Vt," min"]})]})]}),x.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2.5",children:x.jsx("div",{className:`h-2.5 rounded-full ${c>=qe?"bg-amber-400":"bg-primary-500"}`,style:{width:`${_t}%`}})})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[x.jsxs("span",{className:"text-sm font-medium",children:["WPM: ",Ne.avgWpm," / ",i]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:`text-sm font-bold ${Ne.avgWpm>=i?"text-amber-500":""}`,children:Ne.avgWpm>=i?"Goal Achieved!":`${st.toFixed(0)}%`}),Dt&&ht>0&&x.jsxs(Fe,{variant:"ghost",size:"sm",className:"!py-0 !px-2 !h-auto",onClick:()=>f(xt,s,l),title:`Increase WPM goal to ${xt}`,children:["+",ht," WPM"]})]})]}),x.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2.5",children:x.jsx("div",{className:`h-2.5 rounded-full ${Ne.avgWpm>=i?"bg-amber-400":"bg-primary-500"}`,style:{width:`${st}%`}})})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[x.jsxs("span",{className:"text-sm font-medium",children:["Accuracy: ",Ne.avgAccuracy,"% / ",s,"%"]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:`text-sm font-bold ${Ne.avgAccuracy>=s?"text-amber-500":""}`,children:Ne.avgAccuracy>=s?"Goal Achieved!":`${Ye.toFixed(0)}%`}),En&&en>0&&x.jsxs(Fe,{variant:"ghost",size:"sm",className:"!py-0 !px-2 !h-auto",onClick:()=>f(i,s+en,l),title:`Increase Accuracy goal to ${s+en}%`,children:["+",en,"%"]})]})]}),x.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2.5",children:x.jsx("div",{className:`h-2.5 rounded-full ${Ne.avgAccuracy>=s?"bg-amber-400":"bg-primary-500"}`,style:{width:`${Ye}%`}})})]})]})]}),x.jsxs(gr,{className:"p-6",children:[x.jsx("div",{className:"flex justify-between items-center mb-4",children:x.jsx("h2",{className:"text-xl font-semibold",children:"Language Focus"})}),xe.length>0?x.jsx("div",{ref:oe,className:"flex justify-center w-full",children:x.jsx(R6,{width:"100%",height:300,children:x.jsxs(Kce,{children:[x.jsx(Ts,{data:xe,cx:"50%",cy:"50%",labelLine:{stroke:"#64748b",strokeWidth:1},outerRadius:typeof window<"u"&&window.innerWidth<640?80:100,fill:"#8884d8",dataKey:"value",nameKey:"name",activeIndex:J,activeShape:he=>{const{cx:Ae,cy:Ke,innerRadius:Pt,outerRadius:ot,startAngle:Kt,endAngle:Nt,fill:dt}=he;return x.jsx("g",{children:x.jsx(_A,{cx:Ae,cy:Ke,innerRadius:Pt,outerRadius:ot+10,startAngle:Kt,endAngle:Nt,fill:dt,stroke:"#fff",strokeWidth:3})})},onClick:(he,Ae)=>{F(J===Ae?void 0:Ae)},label:({cx:he,cy:Ae,midAngle:Ke,outerRadius:Pt,fill:ot,percent:Kt,name:Nt})=>{if(Kt<.02)return null;const dt=Math.PI/180,$t=Pt+25,Ue=he+$t*Math.cos(-Ke*dt),Oe=Ae+$t*Math.sin(-Ke*dt);return x.jsx("text",{x:Ue,y:Oe,fill:ot,textAnchor:Ue>he?"start":"end",dominantBaseline:"central",className:"text-xs sm:text-sm font-bold pointer-events-none select-none",style:{userSelect:"none"},children:`${(Kt*100).toFixed(1)}%`})},children:xe.map((he,Ae)=>x.jsx(qy,{fill:K4[Ae%K4.length],style:{outline:"none",cursor:"pointer"}},`cell-${Ae}`))}),x.jsx(Yi,{content:({active:he,payload:Ae})=>{if(he&&Ae&&Ae.length){const Ke=Ae[0];return x.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-lg shadow-lg border border-slate-200 dark:border-slate-700",children:[x.jsx("p",{className:"font-bold text-slate-900 dark:text-slate-100",children:Ke.name}),x.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Time: ",Te(Ke.value)]}),x.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[(Ke.value/xe.reduce((Pt,ot)=>Pt+ot.value,0)*100).toFixed(1),"%"]})]})}return null}}),x.jsx(bo,{wrapperStyle:{paddingTop:"20px"}})]})})}):x.jsx("p",{className:"text-center text-slate-500",children:"No language data available for this period."})]})]})]}),x.jsxs(gr,{className:"p-6",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h2",{className:"text-xl font-semibold",children:"Error Analysis"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(Fe,{variant:"ghost",size:"sm",onClick:()=>O(!0),children:"View All"}),x.jsx(Fe,{variant:"secondary",size:"sm",onClick:Be,disabled:Ge.length===0,title:"Practice your weakest keys immediately",children:"Practice Errors"})]})]}),Ge.length>0?x.jsxs("div",{className:"space-y-4",children:[Ge.map((he,Ae)=>x.jsxs("div",{className:"space-y-1",children:[x.jsxs("div",{className:"flex justify-between items-center text-sm",children:[x.jsx("span",{className:"font-mono bg-slate-100 dark:bg-slate-700 px-1.5 py-0.5 rounded text-slate-700 dark:text-slate-300",children:Y4(he.key)}),x.jsxs("span",{className:"text-slate-500 dark:text-slate-400 text-xs",children:[he.errors," Errors / ",he.attempts," Attempts (",he.errorRate.toFixed(1),"%)"]})]}),x.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-1.5",children:x.jsx("div",{className:"bg-red-500 h-1.5 rounded-full",style:{width:`${Math.min(100,he.errorRate)}%`}})})]},Ae)),ne.length>5&&x.jsxs("p",{className:"text-xs text-center text-slate-500 mt-2",children:["+ ",ne.length-5," other keys needing practice"]})]}):x.jsx("p",{className:"text-center text-slate-500",children:"No significant errors found for this period."})]}),x.jsxs(gr,{className:"p-6",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h2",{className:"text-xl font-semibold",children:"Recent Sessions"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(Fe,{variant:"secondary",size:"sm",onClick:()=>h("history"),children:"View All"}),x.jsx(Fe,{variant:"destructive",size:"sm",onClick:()=>Q({type:"all"}),children:"Clear All History"})]})]}),Ee.length>0?x.jsx("div",{className:"w-full",children:x.jsxs("table",{className:"w-full divide-y divide-slate-200 dark:divide-slate-700 table-fixed",children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{className:"w-1/4 px-2 sm:px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Date"}),x.jsx("th",{className:"w-1/6 px-2 sm:px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"WPM"}),x.jsx("th",{className:"w-1/6 px-2 sm:px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Acc"}),x.jsx("th",{className:"hidden lg:table-cell w-1/6 px-2 sm:px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Duration"}),x.jsx("th",{className:"hidden xl:table-cell w-1/6 px-2 sm:px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Language"}),x.jsx("th",{className:"hidden md:table-cell w-1/6 px-2 sm:px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Errors"}),x.jsx("th",{className:"w-16 px-2 sm:px-4 py-2 text-center text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Action"})]})}),x.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:Ee.sort((he,Ae)=>Ae.timestamp-he.timestamp).slice(0,5).map((he,Ae)=>x.jsxs("tr",{className:`
                                                            ${Ae%2===0?"bg-slate-50 dark:bg-slate-800":""}
                                                            ${Y===he.timestamp?"opacity-0 scale-95 bg-red-50 dark:bg-red-900/20":""}
                                                            transition-all duration-300
                                                        `,children:[x.jsx("td",{className:"px-2 sm:px-4 py-2 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:xl(he.date)}),x.jsx("td",{className:"px-2 sm:px-4 py-2 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:he.wpm.toFixed(0)}),x.jsxs("td",{className:"px-2 sm:px-4 py-2 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:[he.accuracy.toFixed(1),"%"]}),x.jsx("td",{className:"hidden lg:table-cell px-2 sm:px-4 py-2 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:W4(he.duration)}),x.jsx("td",{className:"hidden xl:table-cell px-2 sm:px-4 py-2 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:he.language}),x.jsx("td",{className:"hidden md:table-cell px-2 sm:px-4 py-2 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:he.errors}),x.jsx("td",{className:"px-2 sm:px-4 py-2 whitespace-nowrap text-center text-sm font-medium",children:x.jsx(Fe,{variant:"ghost",size:"icon",onClick:()=>Q({type:"single",timestamp:he.timestamp}),children:x.jsx(RE,{className:"w-4 h-4 text-red-500"})})})]},he.id))})]})}):x.jsx("p",{className:"text-center text-slate-500",children:"No recent sessions for this period."})]})]})]}),x.jsx(hK,{isOpen:V,onClose:()=>C(!1),onSave:(he,Ae,Ke)=>{f(he,Ae,Ke),C(!1)},currentWpmGoal:i,currentAccuracyGoal:s,currentTimeGoal:l}),x.jsxs(Io,{isOpen:j,onClose:()=>O(!1),title:"All Error Stats",children:[x.jsx("div",{className:"max-h-[60vh] overflow-y-auto custom-scrollbar pr-2",children:ne.length>0?x.jsx("div",{className:"space-y-3",children:ne.map((he,Ae)=>x.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[x.jsx("div",{className:"flex justify-between items-start mb-3",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"font-mono bg-slate-200 dark:bg-slate-700 px-3 py-1.5 rounded-lg text-lg font-semibold text-slate-800 dark:text-slate-200",children:Y4(he.key)}),x.jsxs("span",{className:"text-red-600 dark:text-red-400 font-bold text-base",children:[he.errorRate.toFixed(1),"%"]})]})}),x.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm mb-2",children:[x.jsxs("div",{className:"text-slate-600 dark:text-slate-400",children:[x.jsx("span",{className:"font-medium",children:"Errors:"})," ",he.errors]}),x.jsxs("div",{className:"text-slate-600 dark:text-slate-400",children:[x.jsx("span",{className:"font-medium",children:"Attempts:"})," ",he.attempts]})]}),x.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2",children:x.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 h-2 rounded-full transition-all",style:{width:`${Math.min(100,he.errorRate)}%`}})})]},Ae))}):x.jsx("p",{className:"text-center text-slate-500 py-8",children:"No error data available."})}),x.jsx("div",{className:"mt-6 flex justify-center",children:x.jsx(Fe,{variant:"secondary",onClick:()=>O(!1),accessKeyChar:"C",autoFocus:!0,children:"Close"})})]}),x.jsx(NE,{isOpen:!!D,onClose:()=>$(null),title:"Import Data",message:"You have existing practice history. How would you like to import the new data?",buttons:[{label:"Merge",onClick:()=>$e("merge"),variant:"primary"},{label:"Replace",onClick:()=>$e("replace"),variant:"secondary"}]}),x.jsx(NE,{isOpen:!!L,onClose:()=>Q(null),title:(L==null?void 0:L.type)==="all"?"Delete All History":"Delete Session",message:(L==null?void 0:L.type)==="all"?x.jsxs("span",{children:["Are you sure you want to delete ALL practice history? This action cannot be undone and will reset the website to a fresh state.",x.jsx("br",{}),x.jsx("br",{}),"To prevent data loss, we recommend you ",x.jsx("span",{className:"text-blue-600 dark:text-blue-400 cursor-pointer hover:underline font-medium",onClick:me,children:"Export"})," your data first."]}):"Are you sure you want to delete this practice session?",buttons:[{label:"Cancel",onClick:()=>Q(null),variant:"secondary"},{label:"Delete",onClick:ye,variant:"primary",className:"bg-red-600 hover:bg-red-700 text-white"}]}),x.jsx("input",{type:"file",ref:B,className:"hidden",accept:".json,application/json",onChange:Re})]})},Qce=()=>{const t=U.useContext(Sn);if(!t)return null;const{practiceHistory:e,deletePracticeSession:n,clearPracticeHistory:r,navigateTo:i,showAlert:s}=t,[l,c]=U.useState(null),[f,h]=U.useState(!1),[p,m]=U.useState(new Set),v=()=>{if((l==null?void 0:l.type)==="single"&&l.timestamp)n(l.timestamp);else if((l==null?void 0:l.type)==="all")r();else if((l==null?void 0:l.type)==="selected"){const k=Array.from(p);k.forEach(V=>{n(V)}),m(new Set),h(!1),s(`Deleted ${k.length} session(s)`,"info")}c(null)},_=()=>{try{C5({practiceHistory:e,keyErrorStats:t.keyErrorStats,keyAttemptStats:t.keyAttemptStats}),s("Data exported successfully!","info")}catch(k){s("Failed to export data.","error"),console.error(k)}},E=k=>{const V=Math.floor(k/60),C=Math.floor(k%60);return`${V}m ${C.toString().padStart(2,"0")}s`},S=U.useMemo(()=>[...e].sort((k,V)=>V.timestamp-k.timestamp),[e]),w=k=>{m(V=>{const C=new Set(V);return C.has(k)?C.delete(k):C.add(k),C})},A=()=>{p.size===S.length?m(new Set):m(new Set(S.map(k=>k.timestamp)))},I=()=>{h(!1),m(new Set)};return x.jsxs("div",{className:"flex flex-col h-full p-4 overflow-hidden",children:[x.jsxs("div",{className:"flex-shrink-0 flex items-center justify-between gap-3 mb-4 flex-wrap",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx(Fe,{variant:"outline",onClick:()=>i("dashboard"),title:"Back to Dashboard",children:" Back"}),x.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Practice History"})]}),S.length>0&&x.jsx("div",{className:"flex items-center gap-2",children:f?x.jsxs(x.Fragment,{children:[x.jsx(Fe,{variant:"ghost",onClick:I,children:"Cancel"}),x.jsx(Fe,{variant:"secondary",onClick:A,children:p.size===S.length?"Deselect All":"Select All"}),x.jsxs(Fe,{variant:"destructive",onClick:()=>c({type:"selected"}),disabled:p.size===0,children:[x.jsx(RE,{className:"w-4 h-4 mr-2"}),"Delete (",p.size,")"]})]}):x.jsxs(x.Fragment,{children:[x.jsx(Fe,{variant:"outline",onClick:()=>h(!0),children:"Select"}),x.jsx(Fe,{variant:"destructive",onClick:()=>c({type:"all"}),children:"Clear All"})]})})]}),x.jsx(gr,{className:"flex-1 p-0 overflow-hidden min-h-0",children:S.length>0?x.jsx("div",{className:"h-full overflow-y-auto",children:x.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[x.jsx("thead",{className:"bg-white dark:bg-slate-800 sticky top-0 z-10",children:x.jsxs("tr",{children:[f&&x.jsx("th",{className:"px-3 sm:px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:x.jsx("input",{type:"checkbox",checked:p.size===S.length,onChange:A,className:"w-4 h-4 text-primary-600 rounded"})}),x.jsx("th",{className:"px-3 sm:px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Date"}),x.jsx("th",{className:"px-3 sm:px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"WPM"}),x.jsx("th",{className:"px-3 sm:px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Accuracy"}),x.jsx("th",{className:"px-3 sm:px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider hidden md:table-cell",children:"Duration"}),x.jsx("th",{className:"px-3 sm:px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Language"}),x.jsx("th",{className:"px-3 sm:px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider hidden lg:table-cell",children:"Lines"}),x.jsx("th",{className:"px-3 sm:px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider hidden sm:table-cell",children:"Errors"}),!f&&x.jsx("th",{className:"px-3 sm:px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),x.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:S.map((k,V)=>x.jsxs("tr",{className:`${V%2===0?"bg-slate-50 dark:bg-slate-800":""} ${f&&p.has(k.timestamp)?"!bg-primary-50 dark:!bg-primary-900/20":""} ${f?"cursor-pointer hover:bg-primary-50 dark:hover:bg-primary-900/10":""}`,onClick:f?()=>w(k.timestamp):void 0,children:[f&&x.jsx("td",{className:"px-3 sm:px-4 py-3 whitespace-nowrap",children:x.jsx("input",{type:"checkbox",checked:p.has(k.timestamp),onChange:()=>w(k.timestamp),onClick:C=>C.stopPropagation(),className:"w-4 h-4 text-primary-600 rounded"})}),x.jsxs("td",{className:"px-3 sm:px-4 py-3 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:[xl(k.timestamp),x.jsx("span",{className:"block text-xs text-gray-700 dark:text-gray-300",children:new Date(k.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),x.jsx("td",{className:"px-3 sm:px-4 py-3 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100 font-medium",children:k.wpm.toFixed(0)}),x.jsx("td",{className:"px-3 sm:px-4 py-3 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:x.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k.accuracy>=95?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":k.accuracy>=90?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:[k.accuracy.toFixed(1),"%"]})}),x.jsx("td",{className:"px-3 sm:px-4 py-3 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100 hidden md:table-cell",children:E(k.duration)}),x.jsx("td",{className:"px-3 sm:px-4 py-3 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:k.language}),x.jsx("td",{className:"px-3 sm:px-4 py-3 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100 hidden lg:table-cell",children:k.linesTyped||0}),x.jsx("td",{className:"px-3 sm:px-4 py-3 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100 hidden sm:table-cell",children:k.errors}),!f&&x.jsx("td",{className:"px-3 sm:px-4 py-3 whitespace-nowrap text-sm font-medium",children:x.jsx(Fe,{variant:"ghost",size:"icon",onClick:()=>c({type:"single",timestamp:k.timestamp}),title:"Delete Session",children:x.jsx(RE,{className:"w-4 h-4 text-red-500"})})})]},k.timestamp))})]})}):x.jsx("div",{className:"flex items-center justify-center h-full text-slate-500",children:x.jsxs("div",{className:"text-center py-12",children:[x.jsx("p",{className:"text-lg mb-2",children:"No practice history found."}),x.jsx("p",{className:"text-sm",children:"Complete some practice sessions to see them listed here."}),x.jsx(Fe,{className:"mt-4",onClick:()=>i("practice"),children:"Start Practicing"})]})})}),x.jsx(NE,{isOpen:!!l,onClose:()=>c(null),title:(l==null?void 0:l.type)==="all"?"Delete All History":(l==null?void 0:l.type)==="selected"?`Delete ${p.size} Session${p.size>1?"s":""}`:"Delete Session",message:(l==null?void 0:l.type)==="all"?x.jsxs("span",{children:["Are you sure you want to delete ALL practice history? This action cannot be undone.",x.jsx("br",{}),x.jsx("br",{}),"To prevent data loss, we recommend you ",x.jsx("span",{className:"text-blue-600 dark:text-blue-400 cursor-pointer hover:underline font-medium",onClick:_,children:"Export"})," your data first."]}):(l==null?void 0:l.type)==="selected"?`Are you sure you want to delete ${p.size} selected session${p.size>1?"s":""}? This action cannot be undone.`:"Are you sure you want to delete this practice session?",buttons:[{label:"Cancel",onClick:()=>c(null),variant:"secondary"},{label:"Delete",onClick:v,variant:"primary",className:"bg-red-600 hover:bg-red-700 text-white"}]})]})},Jce="modulepreload",Zce=function(t){return"/ai-code-typer/"+t},X4={},efe=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=l(n.map(h=>{if(h=Zce(h),h in X4)return;X4[h]=!0;const p=h.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":Jce,p||(v.as="script"),v.crossOrigin="",v.href=h,f&&v.setAttribute("nonce",f),document.head.appendChild(v),p)return new Promise((_,E)=>{v.addEventListener("load",_),v.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})},t$=6048e5,tfe=864e5,n$=6e4,r$=36e5,Q4=Symbol.for("constructDateFrom");function ra(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&Q4 in t?t[Q4](e):t instanceof Date?new t.constructor(e):new Date(e)}function ar(t,e){return ra(e||t,t)}function i$(t,e,n){const r=ar(t,n==null?void 0:n.in);return isNaN(e)?ra(t,NaN):(e&&r.setDate(r.getDate()+e),r)}let nfe={};function pv(){return nfe}function Ed(t,e){var c,f,h,p;const n=pv(),r=(e==null?void 0:e.weekStartsOn)??((f=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:f.weekStartsOn)??n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,i=ar(t,e==null?void 0:e.in),s=i.getDay(),l=(s<r?7:0)+s-r;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function iy(t,e){return Ed(t,{...e,weekStartsOn:1})}function a$(t,e){const n=ar(t,e==null?void 0:e.in),r=n.getFullYear(),i=ra(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=iy(i),l=ra(n,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const c=iy(l);return n.getTime()>=s.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function J4(t){const e=ar(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function s$(t,...e){const n=ra.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function Z4(t,e){const n=ar(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function o$(t,e,n){const[r,i]=s$(n==null?void 0:n.in,t,e),s=Z4(r),l=Z4(i),c=+s-J4(s),f=+l-J4(l);return Math.round((c-f)/tfe)}function rfe(t,e){const n=a$(t,e),r=ra(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),iy(r)}function ife(t,e,n){return i$(t,e*7,n)}function afe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function l$(t){return!(!afe(t)&&typeof t!="number"||isNaN(+ar(t)))}function sfe(t,e){const[n,r]=s$(t,e.start,e.end);return{start:n,end:r}}function u$(t,e){const{start:n,end:r}=sfe(e==null?void 0:e.in,t);let i=+n>+r;const s=i?+n:+r,l=i?r:n;l.setHours(0,0,0,0);let c=1;const f=[];for(;+l<=s;)f.push(ra(n,l)),l.setDate(l.getDate()+c),l.setHours(0,0,0,0);return i?f.reverse():f}function ofe(t,e){const n=ar(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const lfe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ufe=(t,e,n)=>{let r;const i=lfe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function I1(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const cfe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ffe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},hfe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},dfe={date:I1({formats:cfe,defaultWidth:"full"}),time:I1({formats:ffe,defaultWidth:"full"}),dateTime:I1({formats:hfe,defaultWidth:"full"})},pfe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},mfe=(t,e,n,r)=>pfe[t];function uh(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,c=n!=null&&n.width?String(n.width):l;i=t.formattingValues[c]||t.formattingValues[l]}else{const l=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[c]||t.values[l]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const gfe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},yfe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},vfe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bfe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},xfe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_fe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},wfe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Sfe={ordinalNumber:wfe,era:uh({values:gfe,defaultWidth:"wide"}),quarter:uh({values:yfe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:uh({values:vfe,defaultWidth:"wide"}),day:uh({values:bfe,defaultWidth:"wide"}),dayPeriod:uh({values:xfe,defaultWidth:"wide",formattingValues:_fe,defaultFormattingWidth:"wide"})};function ch(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const l=s[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],f=Array.isArray(c)?Tfe(c,m=>m.test(l)):Efe(c,m=>m.test(l));let h;h=t.valueCallback?t.valueCallback(f):f,h=n.valueCallback?n.valueCallback(h):h;const p=e.slice(l.length);return{value:h,rest:p}}}function Efe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Tfe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Afe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let l=t.valueCallback?t.valueCallback(s[0]):s[0];l=n.valueCallback?n.valueCallback(l):l;const c=e.slice(i.length);return{value:l,rest:c}}}const Ofe=/^(\d+)(th|st|nd|rd)?/i,Cfe=/\d+/i,Ife={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kfe={any:[/^b/i,/^(a|c)/i]},Pfe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Nfe={any:[/1/i,/2/i,/3/i,/4/i]},Rfe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},jfe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Mfe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Dfe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Lfe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Vfe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$fe={ordinalNumber:Afe({matchPattern:Ofe,parsePattern:Cfe,valueCallback:t=>parseInt(t,10)}),era:ch({matchPatterns:Ife,defaultMatchWidth:"wide",parsePatterns:kfe,defaultParseWidth:"any"}),quarter:ch({matchPatterns:Pfe,defaultMatchWidth:"wide",parsePatterns:Nfe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ch({matchPatterns:Rfe,defaultMatchWidth:"wide",parsePatterns:jfe,defaultParseWidth:"any"}),day:ch({matchPatterns:Mfe,defaultMatchWidth:"wide",parsePatterns:Dfe,defaultParseWidth:"any"}),dayPeriod:ch({matchPatterns:Lfe,defaultMatchWidth:"any",parsePatterns:Vfe,defaultParseWidth:"any"})},Ufe={code:"en-US",formatDistance:ufe,formatLong:dfe,formatRelative:mfe,localize:Sfe,match:$fe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Bfe(t,e){const n=ar(t,e==null?void 0:e.in);return o$(n,ofe(n))+1}function qfe(t,e){const n=ar(t,e==null?void 0:e.in),r=+iy(n)-+rfe(n);return Math.round(r/t$)+1}function c$(t,e){var p,m,v,_;const n=ar(t,e==null?void 0:e.in),r=n.getFullYear(),i=pv(),s=(e==null?void 0:e.firstWeekContainsDate)??((m=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??i.firstWeekContainsDate??((_=(v=i.locale)==null?void 0:v.options)==null?void 0:_.firstWeekContainsDate)??1,l=ra((e==null?void 0:e.in)||t,0);l.setFullYear(r+1,0,s),l.setHours(0,0,0,0);const c=Ed(l,e),f=ra((e==null?void 0:e.in)||t,0);f.setFullYear(r,0,s),f.setHours(0,0,0,0);const h=Ed(f,e);return+n>=+c?r+1:+n>=+h?r:r-1}function zfe(t,e){var c,f,h,p;const n=pv(),r=(e==null?void 0:e.firstWeekContainsDate)??((f=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,i=c$(t,e),s=ra((e==null?void 0:e.in)||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Ed(s,e)}function Ffe(t,e){const n=ar(t,e==null?void 0:e.in),r=+Ed(n,e)-+zfe(n,e);return Math.round(r/t$)+1}function Et(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const io={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Et(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Et(n+1,2)},d(t,e){return Et(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Et(t.getHours()%12||12,e.length)},H(t,e){return Et(t.getHours(),e.length)},m(t,e){return Et(t.getMinutes(),e.length)},s(t,e){return Et(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Et(i,e.length)}},Fu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},eL={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return io.y(t,e)},Y:function(t,e,n,r){const i=c$(t,r),s=i>0?i:1-i;if(e==="YY"){const l=s%100;return Et(l,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Et(s,e.length)},R:function(t,e){const n=a$(t);return Et(n,e.length)},u:function(t,e){const n=t.getFullYear();return Et(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Et(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Et(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return io.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Et(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Ffe(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Et(i,e.length)},I:function(t,e,n){const r=qfe(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Et(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):io.d(t,e)},D:function(t,e,n){const r=Bfe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Et(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Et(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Et(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Et(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Fu.noon:r===0?i=Fu.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Fu.evening:r>=12?i=Fu.afternoon:r>=4?i=Fu.morning:i=Fu.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return io.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):io.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Et(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Et(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):io.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):io.s(t,e)},S:function(t,e){return io.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return nL(r);case"XXXX":case"XX":return yl(r);case"XXXXX":case"XXX":default:return yl(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return nL(r);case"xxxx":case"xx":return yl(r);case"xxxxx":case"xxx":default:return yl(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+tL(r,":");case"OOOO":default:return"GMT"+yl(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+tL(r,":");case"zzzz":default:return"GMT"+yl(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Et(r,e.length)},T:function(t,e,n){return Et(+t,e.length)}};function tL(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Et(s,2)}function nL(t,e){return t%60===0?(t>0?"-":"+")+Et(Math.abs(t)/60,2):yl(t,e)}function yl(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Et(Math.trunc(r/60),2),s=Et(r%60,2);return n+i+e+s}const rL=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},f$=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Hfe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return rL(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",rL(r,e)).replace("{{time}}",f$(i,e))},Gfe={p:f$,P:Hfe},Kfe=/^D+$/,Wfe=/^Y+$/,Yfe=["D","DD","YY","YYYY"];function Xfe(t){return Kfe.test(t)}function Qfe(t){return Wfe.test(t)}function Jfe(t,e,n){const r=Zfe(t,e,n);if(console.warn(r),Yfe.includes(t))throw new RangeError(r)}function Zfe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ehe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,the=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nhe=/^'([^]*?)'?$/,rhe=/''/g,ihe=/[a-zA-Z]/;function h$(t,e,n){var p,m,v,_;const r=pv(),i=r.locale??Ufe,s=r.firstWeekContainsDate??((m=(p=r.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,l=r.weekStartsOn??((_=(v=r.locale)==null?void 0:v.options)==null?void 0:_.weekStartsOn)??0,c=ar(t,n==null?void 0:n.in);if(!l$(c))throw new RangeError("Invalid time value");let f=e.match(the).map(E=>{const S=E[0];if(S==="p"||S==="P"){const w=Gfe[S];return w(E,i.formatLong)}return E}).join("").match(ehe).map(E=>{if(E==="''")return{isToken:!1,value:"'"};const S=E[0];if(S==="'")return{isToken:!1,value:ahe(E)};if(eL[S])return{isToken:!0,value:E};if(S.match(ihe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:E}});i.localize.preprocessor&&(f=i.localize.preprocessor(c,f));const h={firstWeekContainsDate:s,weekStartsOn:l,locale:i};return f.map(E=>{if(!E.isToken)return E.value;const S=E.value;(Qfe(S)||Xfe(S))&&Jfe(S,e,String(t));const w=eL[S[0]];return w(c,S,i.localize,h)}).join("")}function ahe(t){const e=t.match(nhe);return e?e[1].replace(rhe,"'"):t}function d$(t,e){const n=ar(t,e==null?void 0:e.in);if(isNaN(+n))throw new RangeError("Invalid time value");const r=(e==null?void 0:e.format)??"extended",i=(e==null?void 0:e.representation)??"complete";let s="",l="";const c=r==="extended"?"-":"",f=r==="extended"?":":"";if(i!=="time"){const h=Et(n.getDate(),2),p=Et(n.getMonth()+1,2);s=`${Et(n.getFullYear(),4)}${c}${p}${c}${h}`}if(i!=="date"){const h=n.getTimezoneOffset();if(h!==0){const S=Math.abs(h),w=Et(Math.trunc(S/60),2),A=Et(S%60,2);l=`${h<0?"+":"-"}${w}:${A}`}else l="Z";const p=Et(n.getHours(),2),m=Et(n.getMinutes(),2),v=Et(n.getSeconds(),2),_=s===""?"":"T",E=[p,m,v].join(f);s=`${s}${_}${E}${l}`}return s}function p$(t,e){return ar(t,e==null?void 0:e.in).getDay()}function she(t,e){return ar(t,e==null?void 0:e.in).getMonth()}function ohe(t,e){return ar(t,e==null?void 0:e.in).getFullYear()}function lhe(t,e,n){let r=e-p$(t,n);return r<=0&&(r+=7),i$(t,r,n)}function Fc(t,e){const n=()=>ra(e==null?void 0:e.in,NaN),i=hhe(t);let s;if(i.date){const h=dhe(i.date,2);s=phe(h.restDateString,h.year)}if(!s||isNaN(+s))return n();const l=+s;let c=0,f;if(i.time&&(c=mhe(i.time),isNaN(c)))return n();if(i.timezone){if(f=ghe(i.timezone),isNaN(f))return n()}else{const h=new Date(l+c),p=ar(0,e==null?void 0:e.in);return p.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),p.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),p}return ar(l+c+f,e==null?void 0:e.in)}const Om={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},uhe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,che=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,fhe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function hhe(t){const e={},n=t.split(Om.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Om.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Om.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=Om.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function dhe(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function phe(t,e){if(e===null)return new Date(NaN);const n=t.match(uhe);if(!n)return new Date(NaN);const r=!!n[4],i=fh(n[1]),s=fh(n[2])-1,l=fh(n[3]),c=fh(n[4]),f=fh(n[5])-1;if(r)return _he(e,c,f)?yhe(e,c,f):new Date(NaN);{const h=new Date(0);return!bhe(e,s,l)||!xhe(e,i)?new Date(NaN):(h.setUTCFullYear(e,s,Math.max(i,l)),h)}}function fh(t){return t?parseInt(t):1}function mhe(t){const e=t.match(che);if(!e)return NaN;const n=k1(e[1]),r=k1(e[2]),i=k1(e[3]);return whe(n,r,i)?n*r$+r*n$+i*1e3:NaN}function k1(t){return t&&parseFloat(t.replace(",","."))||0}function ghe(t){if(t==="Z")return 0;const e=t.match(fhe);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return She(r,i)?n*(r*r$+i*n$):NaN}function yhe(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const vhe=[31,null,31,30,31,30,31,31,30,31,30,31];function m$(t){return t%400===0||t%4===0&&t%100!==0}function bhe(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(vhe[e]||(m$(t)?29:28))}function xhe(t,e){return e>=1&&e<=(m$(t)?366:365)}function _he(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function whe(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function She(t,e){return e>=0&&e<=59}function Ehe(t,e,n){return ife(t,-1,n)}const NA="react-activity-calendar",P1=8,g$=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],The={months:g$,weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],totalCount:"{{count}} activities in {{year}}",legend:{less:"Less",more:"More"}};function Ahe(){const[t,e]=U.useState("light"),n=r=>{e(r.matches?"dark":"light")};return U.useEffect(()=>{const r=window.matchMedia("(prefers-color-scheme: dark)");return e(r.matches?"dark":"light"),r.addEventListener("change",n),()=>{r.removeEventListener("change",n)}},[]),t}const y$=`${NA}--loading-animation`;function Ohe(t,e){U.useEffect(()=>{const n=`oklab(from ${t} l a b)`,r=e==="light"?`oklab(from ${t} calc(l * 0.96) a b)`:`oklab(from ${t} calc(l * 1.08) a b)`,i=document.createElement("style");return i.innerHTML=`
      @keyframes ${y$} {
        0% {
          fill: ${n};
        }
        50% {
          fill: ${r};
        }
        100% {
          fill: ${n};
        }
      }
    `,document.head.appendChild(i),()=>{document.head.removeChild(i)}},[t,e])}const Che="(prefers-reduced-motion: reduce)";function Ihe(){const[t,e]=U.useState(!0);return U.useEffect(()=>{const n=window.matchMedia(Che);e(n.matches);const r=i=>{e(i.matches)};return n.addEventListener("change",r),()=>{n.removeEventListener("change",r)}},[]),t}function khe(t,e){if(t.length===0)throw new Error("Activity data must not be empty.");for(const{date:n,level:r,count:i}of t){if(!l$(Fc(n)))throw new Error(`Activity date '${n}' is not a valid ISO 8601 date string.`);if(i<0)throw new RangeError(`Activity count must not be negative, found ${i}.`);if(r<0||r>e)throw new RangeError(`Activity level ${r} for ${n} is out of range. It must be between 0 and ${e}.`)}}function Phe(t,e=0){const n=Nhe(t),r=n[0],i=Fc(r.date),s=p$(i)===e?i:Ehe(lhe(i,e)),l=[...Array(o$(i,s)).fill(void 0),...n],c=Math.ceil(l.length/7);return ay(c).map(f=>l.slice(f*7,f*7+7))}function Nhe(t){const e=new Map(t.map(i=>[i.date,i])),n=t[0],r=t[t.length-1];return u$({start:Fc(n.date),end:Fc(r.date)}).map(i=>{const s=d$(i,{representation:"date"});return e.has(s)?e.get(s):{date:s,count:0,level:0}})}function hl(t){return`${NA}__${t}`}function ay(t){return[...Array(t).keys()]}function Rhe(){const t=new Date().getFullYear();return u$({start:new Date(t,0,1),end:new Date(t,11,31)}).map(n=>({date:d$(n,{representation:"date"}),count:0,level:0}))}function jhe(t,e=g$){return t.reduce((n,r,i)=>{const s=r.find(f=>f!==void 0);if(!s)throw new Error(`Unexpected error: Week ${i+1} is empty.`);const l=e[she(Fc(s.date))];if(!l){const f=new Date(s.date).toLocaleString("en-US",{month:"short"});throw new Error(`Unexpected error: undefined month label for ${f}.`)}const c=n[n.length-1];return i===0||(c==null?void 0:c.label)!==l?[...n,{weekIndex:i,label:l}]:n},[]).filter(({weekIndex:n},r,i)=>r===0?i[1]&&i[1].weekIndex-n>=3:r===i.length-1?t.slice(n).length>=3:!0)}function Mhe(t,e,n){if(t.length!==7)throw new Error("Exactly 7 labels, one for each weekday must be passed.");return t.reduce((r,i,s)=>e.byDayIndex(s)?Math.max(r,Math.ceil(Dhe(i,n).width)):r,0)}function Dhe(t,e){if(typeof document>"u"||typeof window>"u")return{width:0,height:0};if(e<1)throw new RangeError("fontSize must be positive");if(t.length===0)return{width:0,height:0};const n="http://www.w3.org/2000/svg",r=document.createElementNS(n,"svg");r.style.position="absolute",r.style.visibility="hidden",r.style.fontFamily=window.getComputedStyle(document.body).fontFamily,r.style.fontSize=`${e}px`;const i=document.createElementNS(n,"text");i.textContent=t,r.appendChild(i),document.body.appendChild(r);const s=i.getBBox();return document.body.removeChild(r),{width:s.width,height:s.height}}function Lhe(t,e){if(!t)return{byDayIndex:()=>!1,shouldShow:!1};if(t===!0)return{byDayIndex:r=>(7+r-e)%7%2!==0,shouldShow:!0};const n=[];for(const r of t){const i=Vhe[r.toLowerCase()];n[i]=!0}return{byDayIndex:r=>n[r]??!1,shouldShow:t.length>0}}const Vhe={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};function $he(t,e=5){const n=Uhe(e);return t?(Bhe(t,e),t.light=t.light??n.light,t.dark=t.dark??n.dark,{light:iL(t.light)?sy(t.light,e):t.light,dark:iL(t.dark)?sy(t.dark,e):t.dark}):n}function Uhe(t){return{light:sy(["hsl(0, 0%, 92%)","hsl(0, 0%, 26%)"],t),dark:sy(["hsl(0, 0%, 22%)","hsl(0, 0%, 92%)"],t)}}function Bhe(t,e){const n='The number of colors is controlled by the "maxLevel" property.';if(typeof t!="object"||t.light===void 0&&t.dark===void 0)throw new Error(`The theme object must contain at least one of the fields "light" and "dark" with exactly 2 or ${e} colors respectively. ${n}`);if(t.light){const{length:r}=t.light;if(r!==2&&r!==e)throw new Error(`theme.light must contain exactly 2 or ${e} colors, ${r} passed. ${n}`);for(const i of t.light)if(typeof window<"u"&&!CSS.supports("color",i))throw new Error(`Invalid color "${i}" passed. All CSS color formats are accepted.`)}if(t.dark){const{length:r}=t.dark;if(r!==2&&r!==e)throw new Error(`theme.dark must contain exactly 2 or ${e} colors, ${r} passed. ${n}`);for(const i of t.dark)if(typeof window<"u"&&!CSS.supports("color",i))throw new Error(`Invalid color "${i}" passed. All CSS color formats are accepted.`)}}function sy([t,e],n){return ay(n).map(r=>{switch(r){case 0:return t;case n-1:return e;default:{const i=r/(n-1)*100;return`color-mix(in oklab, ${e} ${parseFloat(i.toFixed(2))}%, ${t})`}}})}function iL(t){return t.length===2}const dl={container:t=>({width:"max-content",maxWidth:"100%",display:"flex",flexDirection:"column",gap:"8px",fontSize:`${t}px`}),scrollContainer:t=>({maxWidth:"100%",overflowX:"auto",overflowY:"hidden",paddingTop:Math.ceil(.1*t)}),calendar:{display:"block",overflow:"visible"},rect:t=>({stroke:t==="light"?"rgba(0, 0, 0, 0.08)":"rgba(255, 255, 255, 0.04)"}),footer:{container:{display:"flex",flexWrap:"wrap",gap:"4px 16px",whiteSpace:"nowrap"},legend:{marginLeft:"auto",display:"flex",alignItems:"center",gap:"3px"}}},aL=U.lazy(()=>efe(()=>import("./Tooltip-BOuzdJNe-C0AuR0g9.js"),[]).then(t=>({default:t.Tooltip}))),v$=U.forwardRef(({data:t,blockMargin:e=4,blockRadius:n=2,blockSize:r=12,colorScheme:i=void 0,fontSize:s=14,labels:l=void 0,loading:c=!1,maxLevel:f=4,renderBlock:h=void 0,renderColorLegend:p=void 0,showColorLegend:m=!0,showMonthLabels:v=!0,showTotalCount:_=!0,showWeekdayLabels:E=!1,style:S={},theme:w=void 0,tooltips:A={},weekStart:I=0},k)=>{const[V,C]=U.useState(!1);U.useEffect(()=>{C(!0)},[]),f=Math.max(1,f);const j=$he(w,f+1),O=Ahe(),P=i??O,R=j[P];Ohe(R[0],P);const B=!Ihe();c&&(t=Rhe()),khe(t,f);const D=t[0],$=ohe(Fc(D.date)),L=Phe(t,I),Q=Object.assign({},The,l),J=v?s+P1:0,F=Lhe(E,I),Y=V&&F.shouldShow?Mhe(Q.weekdays,F,s)+P1:void 0;function ee(){return{width:L.length*(r+e)-e,height:J+(r+e)*7-e}}function ue(){return L.map((we,Se)=>we.map((Re,$e)=>{if(!Re)return null;const ye=c&&B?{animation:`${y$} 1.75s ease-in-out infinite`,animationDelay:`${Se*20+$e*20}ms`}:void 0,Ee=x.jsx("rect",{x:0,y:J+(r+e)*$e,width:r,height:r,rx:n,ry:n,fill:R[Re.level],"data-date":Re.date,"data-level":Re.level,style:{...dl.rect(P),...ye}}),Ne=h?h(Ee,Re):Ee;return x.jsx(U.Fragment,{children:A.activity?x.jsx(U.Suspense,{fallback:Ne,children:x.jsx(aL,{text:A.activity.text(Re),colorScheme:P,placement:A.activity.placement??"top",hoverRestMs:A.activity.hoverRestMs,offset:A.activity.offset,transitionStyles:A.activity.transitionStyles,withArrow:A.activity.withArrow,children:Ne})}):Ne},Re.date)})).map((we,Se)=>x.jsx("g",{transform:`translate(${(r+e)*Se}, 0)`,children:we},Se))}function ve(){if(!_&&!m)return null;const we=t.reduce((Se,Re)=>Se+Re.count,0);return x.jsxs("footer",{className:hl("footer"),style:{...dl.footer.container,marginLeft:Y},children:[c&&x.jsx("div",{children:""}),!c&&_&&x.jsx("div",{className:hl("count"),children:Q.totalCount?Q.totalCount.replace("{{count}}",String(we)).replace("{{year}}",String($)):`${we} activities in ${$}`}),!c&&m&&x.jsxs("div",{className:hl("legend-colors"),style:dl.footer.legend,children:[x.jsx("span",{style:{marginRight:"0.4em"},children:Q.legend.less}),ay(f+1).map(Se=>{const Re=x.jsx("svg",{width:r,height:r,children:x.jsx("rect",{width:r,height:r,fill:R[Se],rx:n,ry:n,style:dl.rect(P)})},Se),$e=p?p(Re,Se):Re;return x.jsx(U.Fragment,{children:A.colorLegend?x.jsx(U.Suspense,{fallback:$e,children:x.jsx(aL,{text:A.colorLegend.text(Se),colorScheme:P,placement:A.colorLegend.placement??"bottom",hoverRestMs:A.colorLegend.hoverRestMs,offset:A.colorLegend.offset,transitionStyles:A.colorLegend.transitionStyles,withArrow:A.colorLegend.withArrow,children:$e})}):$e},Se)}),x.jsx("span",{style:{marginLeft:"0.4em"},children:Q.legend.more})]})]})}function H(){return F.shouldShow?x.jsx("g",{className:hl("legend-weekday"),children:ay(7).map(we=>{const Se=(we+I)%7;return F.byDayIndex(Se)?x.jsx("text",{x:-P1,y:J+(r+e)*we+r/2,dominantBaseline:"central",textAnchor:"end",fill:"currentColor",children:Q.weekdays[Se]},we):null})}):null}function W(){return v?x.jsx("g",{className:hl("legend-month"),children:jhe(L,Q.months).map(({label:we,weekIndex:Se})=>x.jsx("text",{x:(r+e)*Se,y:0,dominantBaseline:"hanging",fill:"currentColor",children:we},Se))}):null}const{width:oe,height:me}=ee();return x.jsxs("article",{ref:k,className:NA,style:{...S,...dl.container(s)},children:[x.jsx("div",{className:hl("scroll-container"),style:dl.scrollContainer(s),children:x.jsxs("svg",{width:oe,height:me,viewBox:`0 0 ${oe} ${me}`,className:hl("calendar"),style:{...dl.calendar,marginLeft:Y},children:[!c&&H(),!c&&W(),ue()]})}),ve()]})});v$.displayName="ActivityCalendar";const qhe=({data:t})=>{const e=U.useContext(Sn),n=(e==null?void 0:e.theme)||"dark",r={light:["#f1f5f9","#bbf7d0","#86efac","#4ade80","#16a34a"],dark:["#1e293b","#064e3b","#065f46","#047857","#059669"]};return!t||t.length===0?x.jsx("div",{className:"w-full h-32 flex items-center justify-center text-slate-500 text-sm italic",children:"No coding activity recorded yet. Start practicing to see your heatmap!"}):x.jsx("div",{className:"w-full flex justify-center py-4",children:x.jsx(v$,{data:t,theme:r,colorScheme:n,showWeekdayLabels:!0,blockSize:12,blockMargin:4,fontSize:12,labels:{legend:{less:"Less",more:"More"},months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],totalCount:"{{count}} sessions in {{year}}",weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}})})},zhe=({badges:t})=>{const e=[...t].sort((n,r)=>n.earned===r.earned?0:n.earned?-1:1);return x.jsx("div",{className:"grid grid-cols-2 md:grid-cols-1 xl:grid-cols-2 gap-3",children:e.map(n=>x.jsxs("div",{className:`relative group p-3 rounded-xl border transition-all duration-300 ${n.earned?`${n.color} border-transparent shadow-sm`:"bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 opacity-60 grayscale"}`,children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("span",{className:"text-2xl",children:n.icon}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("p",{className:"text-sm font-bold leading-tight break-words",children:n.name}),x.jsx("p",{className:"text-[10px] opacity-80 truncate leading-tight",children:n.earned?"Unlocked":"Locked"})]})]}),x.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-10 w-max max-w-[200px]",children:[n.description,x.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]},n.id))})},vl=[{name:"Novice",minTests:0,color:"text-gray-500"},{name:"Script Kiddie",minTests:10,color:"text-green-500"},{name:"Hacker",minTests:50,color:"text-blue-500"},{name:"Elite Typer",minTests:100,color:"text-purple-500"},{name:"Grandmaster",minTests:250,color:"text-amber-500"}],Fhe=t=>{let e=vl[0],n=vl[1];for(let i=0;i<vl.length&&t>=vl[i].minTests;i++)e=vl[i],n=vl[i+1]||null;let r=0;if(n){const i=n.minTests-e.minTests,s=t-e.minTests;r=Math.min(100,Math.max(0,s/i*100))}else r=100;return{currentLevel:e,nextLevel:n,progress:r}},Hhe=t=>{const e=t.length,n=Math.max(0,...t.map(l=>l.wpm)),r=t.length>0?t.reduce((l,c)=>l+c.accuracy,0)/t.length:0,i=t.reduce((l,c)=>l+c.duration,0);return[{id:"first_step",name:"First Step",description:"Complete your first practice session.",icon:"",earned:e>=1,color:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400"},{id:"speedster",name:"Speedster",description:"Reach 60 WPM in a single session.",icon:"",earned:n>=60,color:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400"},{id:"sniper",name:"Sniper",description:"Maintain an average accuracy of 98% or higher.",icon:"",earned:t.length>=5&&r>=98,color:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"},{id:"dedicated",name:"Dedicated",description:"Complete 50 practice sessions.",icon:"",earned:e>=50,color:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"},{id:"marathon",name:"Marathon Runner",description:"Practice for over 2 hours total.",icon:"",earned:i>=7200,color:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400"},{id:"century",name:"Centurion",description:"Reach 100 WPM in a session.",icon:"",earned:n>=100,color:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400"}]},Ghe=(t,e)=>Object.entries(t).map(([r,i])=>{const s=e[r]||i,l=s>0?i/s*100:0;return{key:r,rate:l,errors:i,attempts:s}}).filter(r=>r.errors>0).sort((r,i)=>i.rate-r.rate).slice(0,3),Khe=t=>{const e={};return t.forEach(n=>{if(n.timestamp)try{const r=new Date(n.timestamp);if(isNaN(r.getTime()))return;const i=h$(r,"yyyy-MM-dd");e[i]=(e[i]||0)+1}catch{console.error("Invalid date for session",n)}}),Object.entries(e).map(([n,r])=>{let i=0;return r===0?i=0:r<=2?i=1:r<=5?i=2:r<=10?i=3:i=4,{date:n,count:r,level:i}})},Whe=t=>t.slice().sort((e,n)=>e.timestamp-n.timestamp).slice(-20).map(e=>{try{const n=new Date(e.timestamp);return{date:isNaN(n.getTime())?"Unknown":h$(n,"MMM dd"),wpm:e.wpm,accuracy:e.accuracy}}catch{return{date:"Err",wpm:e.wpm,accuracy:e.accuracy}}}),Yhe=({isOpen:t,onClose:e})=>{const{user:n,updateUserProfile:r}=Oy(),[i,s]=U.useState(""),[l,c]=U.useState(""),[f,h]=U.useState(!1),[p,m]=U.useState(null);U.useEffect(()=>{t&&n&&(s(n.displayName||""),c(n.photoURL||""),m(null))},[t,n]);const v=async _=>{_.preventDefault(),h(!0),m(null);try{await r({displayName:i.trim(),photoURL:l.trim()||void 0}),e()}catch(E){m(E.message||"Failed to update profile")}finally{h(!1)}};return x.jsx(Io,{isOpen:t,onClose:e,title:"Edit Profile",children:x.jsxs("form",{onSubmit:v,className:"space-y-4",children:[p&&x.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-500 text-sm p-3 rounded",children:p}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{htmlFor:"displayName",className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Display Name"}),x.jsx("input",{id:"displayName",type:"text",value:i,onChange:_=>s(_.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-slate-900 dark:text-slate-100",placeholder:"Your Name",required:!0})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{htmlFor:"photoURL",className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Avatar URL"}),x.jsx("input",{id:"photoURL",type:"url",value:l,onChange:_=>c(_.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-slate-900 dark:text-slate-100",placeholder:"https://example.com/avatar.jpg"}),x.jsx("p",{className:"text-xs text-slate-500",children:"Leave empty to use default avatar."})]}),x.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[x.jsx(Fe,{type:"button",variant:"ghost",onClick:e,disabled:f,children:"Cancel"}),x.jsx(Fe,{type:"submit",variant:"primary",disabled:f,children:f?"Saving...":"Save Changes"})]})]})})},Xhe=()=>{const{user:t,logout:e,syncStatus:n}=Oy(),r=U.useContext(Sn),[i,s]=G.useState(!1);if(!r)throw new Error("AppContext not found");const{practiceHistory:l,keyErrorStats:c,keyAttemptStats:f,navigateTo:h}=r,p=U.useMemo(()=>{if(l.length===0)return{bestWpm:0,avgAccuracy:0,totalSessions:0,totalDuration:0};const I=Math.max(0,...l.map(j=>j.wpm)),k=l.reduce((j,O)=>j+O.accuracy,0),V=parseFloat((k/l.length).toFixed(2)),C=l.reduce((j,O)=>j+O.duration,0);return{bestWpm:I,avgAccuracy:V,totalSessions:l.length,totalDuration:C}},[l]),m=I=>{const k=Math.floor(I/3600),V=Math.floor(I%3600/60);return k>0?`${k}h ${V}m`:`${V}m`},v=U.useMemo(()=>Fhe(p.totalSessions),[p.totalSessions]),_=U.useMemo(()=>Khe(l),[l]),E=U.useMemo(()=>Whe(l),[l]),S=U.useMemo(()=>Hhe(l),[l]),w=U.useMemo(()=>Ghe(c,f),[c,f]),A=async()=>{await e(),window.location.reload()};return t?x.jsxs("div",{className:"max-w-6xl mx-auto p-4 space-y-6 animate-fade-in-up pb-20",children:[x.jsxs(gr,{className:"p-6 md:p-8 relative overflow-hidden dark:bg-slate-800/80 backdrop-blur-md border-b-4 border-primary-500",children:[x.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center md:items-start z-10 relative",children:[x.jsxs("div",{className:"relative group",children:[x.jsx("img",{src:t.photoURL||`https://ui-avatars.com/api/?name=${t.displayName}`,alt:t.displayName||"User",className:"w-24 h-24 md:w-32 md:h-32 rounded-full border-4 border-slate-100 dark:border-slate-700 shadow-xl object-cover"}),x.jsxs("div",{className:"absolute -bottom-2 -right-2 bg-gradient-to-r from-amber-400 to-orange-500 text-white text-xs font-bold px-3 py-1 rounded-full border-2 border-white dark:border-slate-800 shadow-sm",children:["Lvl ",vl.indexOf(v.currentLevel)]})]}),x.jsxs("div",{className:"flex-1 text-center md:text-left space-y-3 w-full",children:[x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold bg-clip-text text-transparent bg-gradient-to-r from-slate-900 to-slate-600 dark:from-white dark:to-slate-300",children:t.displayName}),x.jsx("p",{className:`font-mono text-sm md:text-base ${v.currentLevel.color} font-bold mt-1 tracking-wide uppercase`,children:v.currentLevel.name})]}),x.jsxs(Fe,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>s(!0),children:[x.jsx(P5,{className:"w-4 h-4"}),"Edit Profile"]})]}),x.jsxs("div",{className:"space-y-2 max-w-xl",children:[x.jsxs("div",{className:"flex justify-between text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:[x.jsxs("span",{children:["Progress to ",v.nextLevel?v.nextLevel.name:"Max Level"]}),x.jsxs("span",{children:[v.progress.toFixed(0),"%"]})]}),x.jsx("div",{className:"h-3 w-full bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:x.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-blue-500 shadow-[0_0_10px_rgba(59,130,246,0.5)] transition-all duration-1000 ease-out",style:{width:`${v.progress}%`}})}),x.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500",children:v.nextLevel?`${v.nextLevel.minTests-p.totalSessions} more sessions to level up`:"You are at the top of the food chain!"})]})]})]}),x.jsx("div",{className:"absolute top-0 right-0 -mt-16 -mr-16 w-64 h-64 bg-primary-500/10 rounded-full blur-3xl pointer-events-none"})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[x.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[x.jsx(jr,{label:"Highest WPM",value:p.bestWpm,className:"bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-emerald-900/10 dark:to-teal-900/10 border-l-4 border-emerald-500"}),x.jsx(jr,{label:"Total Time Coding",value:m(p.totalDuration),className:"bg-gradient-to-br from-indigo-50 to-blue-50 dark:from-indigo-900/10 dark:to-blue-900/10 border-l-4 border-indigo-500"}),x.jsx(jr,{label:"Global Percentile",value:`${p.bestWpm>80?"Top 5%":p.bestWpm>50?"Top 20%":"Top 50%"}`,className:"bg-gradient-to-br from-purple-50 to-fuchsia-50 dark:from-purple-900/10 dark:to-fuchsia-900/10 border-l-4 border-purple-500"})]}),x.jsxs(gr,{className:"md:col-span-3 p-6 dark:bg-slate-800/50 backdrop-blur-sm",children:[x.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[x.jsx("span",{className:"text-xl",children:""})," Coding Activity"]}),x.jsx(qhe,{data:_})]}),x.jsxs(gr,{className:"md:col-span-2 p-6 dark:bg-slate-800/50 backdrop-blur-sm min-h-[350px]",children:[x.jsxs("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[x.jsx("span",{className:"text-xl",children:""})," Recent Performance"]}),x.jsx(e$,{data:E})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs(gr,{className:"p-6 dark:bg-slate-800/50 backdrop-blur-sm",children:[x.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[x.jsx("span",{className:"text-xl",children:""})," Needs Improvement"]}),w.length>0?x.jsxs("div",{className:"space-y-4",children:[x.jsx("div",{className:"flex justify-around",children:w.map((I,k)=>x.jsxs("div",{className:"flex flex-col items-center gap-1 group cursor-help relative",children:[x.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-red-50 dark:bg-red-900/20 border-2 border-red-200 dark:border-red-800 rounded-lg text-xl font-mono font-bold text-red-600 dark:text-red-400 shadow-sm",children:I.key===" "?"":I.key===`
`?"":I.key==="	"?"":I.key}),x.jsxs("span",{className:"text-xs font-semibold text-red-500",children:[I.rate.toFixed(1),"% err"]}),x.jsxs("div",{className:"absolute bottom-full mb-2 bg-slate-900 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none",children:[I.key===" "?"Space":I.key===`
`?"Enter":I.key==="	"?"Tab":I.key,": ",I.errors," errors / ",I.attempts," attempts"]})]},I.key))}),x.jsx(Fe,{size:"sm",variant:"ghost",className:"w-full mt-2 text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",onClick:()=>{const I=w.map(k=>k.key);h("practice"),r.startTargetedSession(I,{length:"medium",level:"medium"})},children:"Start Targeted Practice "})]}):x.jsxs("div",{className:"text-center py-6 text-slate-500 text-sm",children:[x.jsx("p",{children:"No significant weak keys found."}),x.jsx("p",{className:"text-xs opacity-70",children:"Keep practicing!"})]})]}),x.jsxs(gr,{className:"p-6 dark:bg-slate-800/50 backdrop-blur-sm",children:[x.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[x.jsx("span",{className:"text-xl",children:""})," Badges",x.jsxs("span",{className:"text-xs font-normal text-slate-500 ml-auto bg-slate-100 dark:bg-slate-700 px-2 py-0.5 rounded-full",children:[S.filter(I=>I.earned).length," / ",S.length]})]}),x.jsx(zhe,{badges:S})]})]})]}),x.jsx("div",{className:"flex justify-center pt-8 border-t border-slate-200 dark:border-slate-800",children:x.jsx(Fe,{variant:"ghost",className:"text-slate-500 hover:text-red-500 dark:hover:text-red-400",onClick:A,children:"Sign Out of Account"})}),x.jsx(Yhe,{isOpen:i,onClose:()=>s(!1)})]}):x.jsx("div",{className:"flex flex-col items-center justify-center h-full p-4 text-center",children:x.jsxs(gr,{className:"p-8 max-w-md w-full",children:[x.jsx("h2",{className:"text-2xl font-bold mb-4",children:"You are not signed in"}),x.jsx("p",{className:"text-slate-500 mb-6",children:"Sign in to sync your progress across devices and unlock your developer profile."})]})})},Qhe=()=>{const t=U.useContext(Sn),[e,n]=U.useState(!1);if(U.useEffect(()=>n(!0),[]),!t)return null;const{alertMessage:r}=t,i={warning:x.jsx(ac,{className:"w-5 h-5"}),info:x.jsx(ac,{className:"w-5 h-5"}),error:x.jsx(ac,{className:"w-5 h-5"})},s={warning:"bg-yellow-400 text-yellow-900",info:"bg-blue-500 text-white",error:"bg-red-500 text-white"};if(!e||!r)return null;const l=document.getElementById("alert-root");return l?AT.createPortal(x.jsx("div",{className:"fixed top-6 inset-x-0 z-[10000] flex justify-center pointer-events-none",role:"alert",children:x.jsxs("div",{className:`pointer-events-auto px-4 py-3 rounded-md shadow-lg flex items-center gap-2 animate-fade-in-up ${s[r.type]}`,children:[i[r.type],x.jsx("span",{className:"font-semibold",children:r.message})]})}),l):null},Jhe=t=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:x.jsx("polyline",{points:"6 9 12 15 18 9"})}),sL=U.forwardRef(({options:t,className:e="",value:n,onChange:r,disabled:i=!1,...s},l)=>{const[c,f]=U.useState(!1),[h,p]=U.useState(Math.max(0,t.findIndex(w=>w.value===n))),m=U.useRef(null),v=U.useRef(null),_=t.find(w=>w.value===n);U.useEffect(()=>{p(Math.max(0,t.findIndex(w=>w.value===n)))},[n,t]),U.useEffect(()=>{if(c){const w=I=>{var k,V;switch(I.key){case"Escape":f(!1),(k=v.current)==null||k.focus();break;case"ArrowUp":{I.preventDefault();const C=(h-1+t.length)%t.length;p(C);break}case"ArrowDown":{I.preventDefault();const C=(h+1)%t.length;p(C);break}case"Enter":case" ":I.preventDefault(),h>=0&&h<t.length&&r(t[h].value),f(!1),(V=v.current)==null||V.focus();break}},A=I=>{m.current&&!m.current.contains(I.target)&&f(!1)};return document.addEventListener("keydown",w),document.addEventListener("mousedown",A),()=>{document.removeEventListener("keydown",w),document.removeEventListener("mousedown",A)}}},[c,h,t,r]),U.useImperativeHandle(l,()=>({focus:()=>{var w;return(w=v.current)==null?void 0:w.focus()},toggle:()=>{i||(f(w=>!w),c||p(Math.max(0,t.findIndex(w=>w.value===n))))},getTriggerElement:()=>v.current})),U.useEffect(()=>{var w;if(c){const A=(w=m.current)==null?void 0:w.querySelector("ul"),I=A==null?void 0:A.children[h];I&&I.scrollIntoView({block:"nearest"})}},[h,c]);const[E,S]=U.useState(!1);return U.useEffect(()=>{if(c&&v.current){const w=v.current.getBoundingClientRect(),A=window.innerHeight-w.bottom;S(A<220)}},[c]),x.jsxs("div",{ref:m,className:`relative ${e}`,children:[x.jsxs("button",{ref:v,type:"button",disabled:i,onClick:()=>!i&&f(!c),onKeyDown:w=>{if(!i&&!c&&(w.key==="ArrowRight"||w.key==="ArrowLeft")){w.preventDefault(),w.stopPropagation();const A=t.findIndex(V=>V.value===n),I=w.key==="ArrowRight"?1:-1;let k;A!==-1?k=(A+I+t.length)%t.length:k=0,r(t[k].value)}},className:"w-full flex items-center justify-between px-3 py-2 text-slate-900 dark:text-slate-100 bg-slate-200 dark:bg-slate-700/50 border border-transparent rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-haspopup":"listbox","aria-expanded":c,children:[x.jsx("span",{children:(_==null?void 0:_.label)||"Select..."}),x.jsx(Jhe,{className:`w-5 h-5 text-slate-500 dark:text-slate-400 transition-transform ${c?"rotate-180":""}`})]}),c&&x.jsx("ul",{className:`absolute z-[100] w-full bg-white dark:bg-slate-800 shadow-xl max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm border border-slate-200 dark:border-slate-700 ${E?"bottom-full mb-1":"mt-1"}`,tabIndex:-1,role:"listbox",children:t.map((w,A)=>x.jsx("li",{className:`cursor-pointer select-none relative py-2 pl-3 pr-9 transition-colors ${h===A?"text-white bg-primary-600":"text-gray-900 dark:text-gray-100 hover:bg-slate-100 dark:hover:bg-slate-700"}`,onClick:()=>{var I;r(w.value),f(!1),(I=v.current)==null||I.focus()},onMouseEnter:()=>p(A),role:"option","aria-selected":n===w.value,children:x.jsx("span",{className:`block truncate ${n===w.value?"font-semibold":"font-normal"}`,children:w.label})},w.value))})]})}),Zhe=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),x.jsx("polyline",{points:"17 8 12 3 7 8"}),x.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),ede=[{label:"Short",value:"short"},{label:"Medium",value:"medium"},{label:"Long",value:"long"}],tde=[{label:"Easy",value:"easy"},{label:"Medium",value:"medium"},{label:"Hard",value:"hard"}],nde=[{label:"Generate with AI",value:"generate"},{label:"Upload Text",value:"upload"}],rde=[{label:"Code Practice",value:"code"},{label:"General Typing",value:"general"}],ide={id:"custom",name:"Custom",prismAlias:"clike"},oL={id:"general",name:"General Text",prismAlias:"text"},ade=Cn,N1=[...Cn,ide],sde=({isOpen:t,onClose:e,onStart:n,variant:r})=>{const i=U.useContext(Sn);if(!i)throw new Error("AppContext not found");const{selectedLanguage:s,setSelectedLanguage:l,isLoadingSnippet:c,setLastPracticeAction:f,setupTab:h,setSetupTab:p,snippetLength:m,setSnippetLength:v,snippetLevel:_,setSnippetLevel:E,practiceMode:S,setPracticeMode:w,startMultiFileSession:A,showAlert:I,navigateTo:k,generalContentTypes:V,setGeneralContentTypes:C}=i,[j,O]=U.useState(m),[P,R]=U.useState(_),[B,D]=U.useState(S),[$,L]=U.useState(""),[Q,J]=U.useState(V),F=U.useRef(null),Y=U.useRef(null),ee=U.useRef(null),ue=U.useRef(null),ve=U.useRef(null),H=U.useRef(null),W=U.useRef(null),oe=U.useRef(null),me=U.useRef(null),we=U.useRef(null),Se=U.useRef(null),Re=U.useRef(null),$e=U.useRef(null);U.useEffect(()=>{t&&(O(m),R(_),D(S),J(V),setTimeout(()=>{var xe;return(xe=me.current)==null?void 0:xe.focus()},50))},[t,m,_,S,V]),U.useEffect(()=>{t&&h==="upload"&&setTimeout(()=>{var xe;return(xe=Y.current)==null?void 0:xe.focus()},50)},[t,h]),ui("A",()=>p("generate"),{disabled:!t}),ui("U",()=>p("upload"),{disabled:!t}),ui("C",()=>D("code"),{disabled:!t}),ui("G",()=>D("general"),{disabled:!t});const ye=()=>{f("generate"),w(B),v(j),E(P),C(Q),n(j,P,null,B,Q)},Ee=xe=>{if(xe.trim().length<2){I("Code must be at least 2 characters long.","error");return}f("upload"),B==="general"&&l(oL),n(null,null,xe,B)},Ne=async xe=>{if(xe.target.files&&xe.target.files.length>0){const Te=Array.from(xe.target.files);if(Te.length===1){const Be=Te[0],We=new FileReader;We.onload=st=>{var qe;const Ye=(qe=st.target)==null?void 0:qe.result;Ee(Ye)},We.readAsText(Be)}else{const Be=We=>new Promise(st=>{const Ye=new FileReader;Ye.onload=qe=>{var Dt;const _t=(Dt=qe.target)==null?void 0:Dt.result;st({file:We,isValid:_t.trim().length>=2})},Ye.readAsText(We)});try{const We=await Promise.all(Te.map(Be)),st=We.filter(qe=>qe.isValid).map(qe=>qe.file),Ye=We.filter(qe=>!qe.isValid).map(qe=>qe.file);if(st.length===0)I("All selected files are invalid. Code must be at least 2 characters long.","error");else{if(Ye.length>0){const qe=Ye.map(_t=>_t.name).join(", ");I(`Skipped ${Ye.length} invalid file(s) (<2 chars): ${qe}`,"warning",6e3)}B==="general"&&l(oL),await A(st),e(),k("practice")}}catch(We){console.error("Multi-file session start failed:",We),I("An unexpected error occurred while processing files.","error")}}}},ne=xe=>{J(Te=>Te.includes(xe)?Te.length===1?Te:Te.filter(Be=>Be!==xe):[...Te,xe])};U.useEffect(()=>{const xe=Te=>{var st,Ye,qe,_t,Dt,En,Ie,ht;if(!t||Te.defaultPrevented)return;const Be=Te.target,We=Be.tagName==="TEXTAREA"||Be.tagName==="INPUT"&&Be.type==="text";if((Te.ctrlKey||Te.shiftKey||Te.altKey)&&Te.key==="Enter"){Te.preventDefault(),h==="generate"?c||ye():$.trim()&&Ee($);return}if(!(We&&Te.key.startsWith("Arrow"))){if(Te.key==="ArrowLeft"||Te.key==="ArrowRight"){const xt=document.activeElement,Vt=h==="generate"?me.current:Se.current;if(xt===Vt||xt===Re.current){Te.preventDefault(),xt===Vt?(st=Re.current)==null||st.focus():Vt==null||Vt.focus();return}if((Ye=W.current)!=null&&Ye.contains(xt)){Te.preventDefault();const Zt=Array.from(W.current.querySelectorAll("button")),en=Zt.indexOf(xt);if(en!==-1){const bn=Te.key==="ArrowRight"?1:-1,kt=(en+bn+Zt.length)%Zt.length;(qe=Zt[kt])==null||qe.focus()}return}}if(Te.key==="Enter"&&((_t=W.current)!=null&&_t.contains(document.activeElement))){Te.preventDefault(),document.activeElement.click();return}if(Te.key==="ArrowDown"||Te.key==="ArrowUp"){const xt=[];xt.push({ref:ee,type:"segmented"}),xt.push({ref:ue,type:"segmented"}),h==="generate"?(B==="code"&&xt.push({ref:oe,type:"select"}),xt.push({ref:ve,type:"segmented"}),B==="code"?xt.push({ref:H,type:"segmented"}):xt.push({ref:W,type:"container"}),xt.push({ref:$e,type:"container"})):(B==="code"&&xt.push({ref:oe,type:"select"}),xt.push({ref:Y,type:"input"}),xt.push({ref:we,type:"button"}),xt.push({ref:$e,type:"container"}));const Vt=document.activeElement,Zt=xt.findIndex(en=>{var bn,kt,he;return en.type==="select"?((kt=(bn=en.ref.current)==null?void 0:bn.getTriggerElement)==null?void 0:kt.call(bn))===Vt:en.type==="container"||en.type==="segmented"?(he=en.ref.current)==null?void 0:he.contains(Vt):en.ref.current===Vt});if(Zt!==-1){Te.preventDefault();const en=Te.key==="ArrowDown"?1:-1,bn=(Zt+en+xt.length)%xt.length,kt=xt[bn];if(kt.type==="select")(Dt=kt.ref.current)==null||Dt.focus();else if(kt.type==="container")if(kt.ref===$e){const he=h==="generate"?me.current:Se.current;he==null||he.focus()}else if(kt.ref===W){const he=(En=kt.ref.current)==null?void 0:En.querySelector("button");he==null||he.focus()}else{const he=(Ie=kt.ref.current)==null?void 0:Ie.querySelector("input");he==null||he.focus()}else(ht=kt.ref.current)==null||ht.focus()}return}if(Te.altKey)switch(Te.key.toLowerCase()){case"a":p("generate");break;case"u":p("upload");break;case"c":D("code");break;case"g":D("general");break;case"s":h==="generate"&&O("short");break;case"m":h==="generate"&&O("medium");break;case"l":h==="generate"&&O("long");break;case"i":h==="generate"&&B==="code"&&R("medium");break;case"h":h==="generate"&&(B==="code"?R("hard"):ne("characters"));break;case"y":h==="generate"&&(B==="code"?R("easy"):ne("symbols"));break;case"n":h==="generate"&&B==="general"&&ne("numbers");break}}};return window.addEventListener("keydown",xe),()=>window.removeEventListener("keydown",xe)},[t,c,B,h,j,P,Q,$,ye,Ee]);const Ge=xe=>{const Te=xe,Be=N1.find(We=>We.id===Te)||N1[0];l(Be)};return x.jsx(Io,{isOpen:t,onClose:e,title:"Practice Setup",size:"md",children:x.jsxs("div",{className:"space-y-6 mt-2",children:[x.jsx(gh,{ref:ee,options:nde,selectedValue:h,onSelect:xe=>{var Te;p(xe),(Te=ee.current)==null||Te.focus()},accessKeyChars:["A","U"]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Mode"}),x.jsx(gh,{ref:ue,options:rde,selectedValue:B,onSelect:xe=>{var Te;D(xe),(Te=ue.current)==null||Te.focus()},accessKeyChars:["C","G"]})]}),h==="generate"&&x.jsxs("div",{className:"space-y-4 animate-fade-in-up relative z-20",children:[B==="code"&&x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Language"}),x.jsx(sL,{ref:oe,options:ade.map(xe=>({label:xe.name,value:xe.id})),value:s.id,onChange:Ge,searchable:!0})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Length"}),x.jsx(gh,{ref:ve,options:ede,selectedValue:j,onSelect:xe=>{var Te;O(xe),(Te=ve.current)==null||Te.focus()},accessKeyChars:["S","M","L"]})]}),B==="code"?x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Difficulty Level"}),x.jsx(gh,{ref:H,options:tde,selectedValue:P,onSelect:xe=>{var Te;R(xe),(Te=H.current)==null||Te.focus()},accessKeyChars:["Y","I","H"]})]}):x.jsxs("div",{className:"space-y-2",ref:W,children:[x.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Content Type"}),x.jsxs("div",{className:"flex justify-center items-center gap-1 bg-slate-200 dark:bg-slate-700 p-1 rounded-lg",children:[x.jsx("button",{onClick:()=>ne("characters"),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 ${Q.includes("characters")?"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white shadow-sm":"text-slate-600 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:"Characters"}),x.jsx("button",{onClick:()=>ne("numbers"),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 ${Q.includes("numbers")?"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white shadow-sm":"text-slate-600 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:"Numbers"}),x.jsx("button",{onClick:()=>ne("symbols"),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 ${Q.includes("symbols")?"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white shadow-sm":"text-slate-600 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:"Symbols"})]})]})]}),h==="upload"&&x.jsxs("div",{className:"space-y-4 animate-fade-in-up",children:[B==="code"&&x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Language"}),x.jsx(sL,{ref:oe,options:N1.map(xe=>({label:xe.name,value:xe.id})),value:s.id,onChange:Ge,searchable:!0})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Paste Code"}),x.jsx("textarea",{ref:Y,className:"w-full h-32 p-3 border rounded-md dark:bg-slate-800 dark:border-slate-600 dark:text-white font-mono text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none resize-none",placeholder:"Paste your code here...",value:$,onChange:xe=>L(xe.target.value)})]}),x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"absolute inset-0 flex items-center",children:x.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),x.jsx("div",{className:"relative flex justify-center text-sm",children:x.jsx("span",{className:"px-2 text-slate-500 dark:text-slate-400",children:"Or upload file"})})]}),x.jsxs("div",{className:"flex justify-center",children:[x.jsx("input",{type:"file",ref:F,className:"hidden",accept:".txt,.js,.jsx,.ts,.tsx,.py,.java,.cpp,.c,.h,.hpp,.cs,.go,.rs,.php,.rb,.html,.css,.json,.md",onChange:Ne,multiple:!0}),x.jsxs(Fe,{ref:we,variant:"secondary",onClick:()=>{var xe;return(xe=F.current)==null?void 0:xe.click()},className:"w-full",children:[x.jsx(Zhe,{className:"w-4 h-4 mr-2"}),"Select File(s)"]})]})]}),x.jsxs("div",{className:"flex justify-center gap-3 pt-4 border-t dark:border-slate-700",ref:$e,children:[x.jsx(Fe,{ref:Re,variant:"ghost",onClick:e,className:"hover:bg-slate-200 dark:hover:bg-slate-700 focus:ring-2 focus:ring-primary-500 focus:bg-slate-100 dark:focus:bg-slate-800 transition-colors",children:"Cancel"}),h==="generate"?x.jsx(Fe,{ref:me,variant:"primary",onClick:ye,isLoading:c,accessKeyChar:"Enter",accessKeyLabel:"",children:"Start Practice"}):x.jsx(Fe,{ref:Se,variant:"primary",onClick:()=>Ee($),disabled:!$.trim(),children:"Use This Text"})]})]})})},ode=({currentPage:t,onNavigate:e})=>{const n=U.useContext(Sn);if(!n)throw new Error("AppContext not found");const r=s=>{if(s==="practice"&&!n.snippet){n.openSetupModal();return}e(s)},i=[{page:"home",icon:x.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),label:"Home"},{page:"practice",icon:x.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),label:"Practice"},{page:"dashboard",icon:x.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),label:"Dashboard"}];return x.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 z-50 glass border-t border-slate-200/50 dark:border-slate-700/50 safe-area-bottom",children:x.jsx("div",{className:"flex items-center justify-around h-16 px-2",children:i.map(s=>x.jsxs("button",{onClick:()=>r(s.page),className:`flex flex-col items-center justify-center flex-1 h-full transition-all duration-200 rounded-lg group ${t===s.page?"":"hover:bg-slate-100/50 dark:hover:bg-slate-800/50"}`,children:[x.jsx("div",{className:`transition-all duration-200 ${t===s.page?"scale-110":"group-hover:scale-105"} ${t===s.page?"text-purple-600 dark:text-purple-400":"text-slate-600 dark:text-slate-400"}`,children:s.icon}),x.jsx("span",{className:`text-xs mt-1 font-medium transition-colors ${t===s.page?"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 bg-clip-text text-transparent font-semibold":"text-slate-600 dark:text-slate-400"}`,children:s.label})]},s.page))})})},lde=()=>{const t=U.useContext(Sn);if(!t)throw new Error("AppContext not found. Make sure AppContent is a child of AppProvider.");const{page:e,navigateTo:n,sessionResetKey:r,isSetupModalOpen:i,closeSetupModal:s,handleStartFromSetup:l}=t,c=()=>{switch(e){case"practice":return x.jsx(fK,{},r);case"dashboard":return x.jsx(Xce,{});case"history":return x.jsx(Qce,{});case"profile":return x.jsx(Xhe,{});case"home":default:return x.jsx(LG,{onStartPractice:()=>n("practice")})}};return x.jsxs("div",{className:"h-screen overflow-hidden bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 font-sans transition-colors duration-300 flex flex-col",children:[x.jsx(Qhe,{}),x.jsx(DG,{}),x.jsx("main",{className:"container mx-auto px-4 py-4 pt-20 pb-20 md:pb-4 flex-grow flex flex-col min-h-0 overflow-y-auto",children:c()}),x.jsx(ode,{currentPage:e,onNavigate:n}),x.jsx(sde,{isOpen:i,onClose:s,onStart:l})]})},ude=()=>x.jsx(yG,{children:x.jsx(TG,{children:x.jsx(lde,{})})}),b$=document.getElementById("root");if(!b$)throw new Error("Could not find root element to mount to");const cde=sB.createRoot(b$);cde.render(x.jsx(ude,{}));export{fde as R,AT as a,hl as g,x as j,U as r};
