function YB(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var om=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lb={exports:{}},Xf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JC;function XB(){if(JC)return Xf;JC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var c in i)c!=="key"&&(o[c]=i[c])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:o}}return Xf.Fragment=e,Xf.jsx=n,Xf.jsxs=n,Xf}var ZC;function QB(){return ZC||(ZC=1,lb.exports=XB()),lb.exports}var x=QB(),ub={exports:{}},Qf={},cb={exports:{}},fb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eI;function JB(){return eI||(eI=1,(function(t){function e(H,Y){var ee=H.length;H.push(Y);e:for(;0<ee;){var ce=ee-1>>>1,_e=H[ce];if(0<i(_e,Y))H[ce]=Y,H[ee]=_e,ee=ce;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var Y=H[0],ee=H.pop();if(ee!==Y){H[0]=ee;e:for(var ce=0,_e=H.length,F=_e>>>1;ce<F;){var W=2*(ce+1)-1,se=H[W],me=W+1,ve=H[me];if(0>i(se,ee))me<_e&&0>i(ve,se)?(H[ce]=ve,H[me]=ee,ce=me):(H[ce]=se,H[W]=ee,ce=W);else if(me<_e&&0>i(ve,ee))H[ce]=ve,H[me]=ee,ce=me;else break e}}return Y}function i(H,Y){var ee=H.sortIndex-Y.sortIndex;return ee!==0?ee:H.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],h=[],p=1,m=null,v=3,_=!1,E=!1,S=!1,w=!1,O=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function L(H){for(var Y=n(h);Y!==null;){if(Y.callback===null)r(h);else if(Y.startTime<=H)r(h),Y.sortIndex=Y.expirationTime,e(f,Y);else break;Y=n(h)}}function C(H){if(S=!1,L(H),!E)if(n(f)!==null)E=!0,M||(M=!0,B());else{var Y=n(h);Y!==null&&J(C,Y.startTime-H)}}var M=!1,A=-1,P=5,k=-1;function U(){return w?!0:!(t.unstable_now()-k<P)}function D(){if(w=!1,M){var H=t.unstable_now();k=H;var Y=!0;try{e:{E=!1,S&&(S=!1,I(A),A=-1),_=!0;var ee=v;try{t:{for(L(H),m=n(f);m!==null&&!(m.expirationTime>H&&U());){var ce=m.callback;if(typeof ce=="function"){m.callback=null,v=m.priorityLevel;var _e=ce(m.expirationTime<=H);if(H=t.unstable_now(),typeof _e=="function"){m.callback=_e,L(H),Y=!0;break t}m===n(f)&&r(f),L(H)}else r(f);m=n(f)}if(m!==null)Y=!0;else{var F=n(h);F!==null&&J(C,F.startTime-H),Y=!1}}break e}finally{m=null,v=ee,_=!1}Y=void 0}}finally{Y?B():M=!1}}}var B;if(typeof N=="function")B=function(){N(D)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Q=V.port2;V.port1.onmessage=D,B=function(){Q.postMessage(null)}}else B=function(){O(D,0)};function J(H,Y){A=O(function(){H(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(H){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var ee=v;v=Y;try{return H()}finally{v=ee}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(H,Y){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ee=v;v=H;try{return Y()}finally{v=ee}},t.unstable_scheduleCallback=function(H,Y,ee){var ce=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ce+ee:ce):ee=ce,H){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=ee+_e,H={id:p++,callback:Y,priorityLevel:H,startTime:ee,expirationTime:_e,sortIndex:-1},ee>ce?(H.sortIndex=ee,e(h,H),n(f)===null&&H===n(h)&&(S?(I(A),A=-1):S=!0,J(C,ee-ce))):(H.sortIndex=_e,e(f,H),E||_||(E=!0,M||(M=!0,B()))),H},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(H){var Y=v;return function(){var ee=v;v=Y;try{return H.apply(this,arguments)}finally{v=ee}}}})(fb)),fb}var tI;function ZB(){return tI||(tI=1,cb.exports=JB()),cb.exports}var hb={exports:{}},lt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nI;function e9(){if(nI)return lt;nI=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),v=Symbol.iterator;function _(F){return F===null||typeof F!="object"?null:(F=v&&F[v]||F["@@iterator"],typeof F=="function"?F:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function O(F,W,se){this.props=F,this.context=W,this.refs=w,this.updater=se||E}O.prototype.isReactComponent={},O.prototype.setState=function(F,W){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,W,"setState")},O.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function I(){}I.prototype=O.prototype;function N(F,W,se){this.props=F,this.context=W,this.refs=w,this.updater=se||E}var L=N.prototype=new I;L.constructor=N,S(L,O.prototype),L.isPureReactComponent=!0;var C=Array.isArray;function M(){}var A={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function k(F,W,se){var me=se.ref;return{$$typeof:t,type:F,key:W,ref:me!==void 0?me:null,props:se}}function U(F,W){return k(F.type,W,F.props)}function D(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function B(F){var W={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(se){return W[se]})}var V=/\/+/g;function Q(F,W){return typeof F=="object"&&F!==null&&F.key!=null?B(""+F.key):W.toString(36)}function J(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(M,M):(F.status="pending",F.then(function(W){F.status==="pending"&&(F.status="fulfilled",F.value=W)},function(W){F.status==="pending"&&(F.status="rejected",F.reason=W)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function H(F,W,se,me,ve){var xe=typeof F;(xe==="undefined"||xe==="boolean")&&(F=null);var Ie=!1;if(F===null)Ie=!0;else switch(xe){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(F.$$typeof){case t:case e:Ie=!0;break;case p:return Ie=F._init,H(Ie(F._payload),W,se,me,ve)}}if(Ie)return ve=ve(F),Ie=me===""?"."+Q(F,0):me,C(ve)?(se="",Ie!=null&&(se=Ie.replace(V,"$&/")+"/"),H(ve,W,se,"",function(Re){return Re})):ve!=null&&(D(ve)&&(ve=U(ve,se+(ve.key==null||F&&F.key===ve.key?"":(""+ve.key).replace(V,"$&/")+"/")+Ie)),W.push(ve)),1;Ie=0;var De=me===""?".":me+":";if(C(F))for(var ye=0;ye<F.length;ye++)me=F[ye],xe=De+Q(me,ye),Ie+=H(me,W,se,xe,ve);else if(ye=_(F),typeof ye=="function")for(F=ye.call(F),ye=0;!(me=F.next()).done;)me=me.value,xe=De+Q(me,ye++),Ie+=H(me,W,se,xe,ve);else if(xe==="object"){if(typeof F.then=="function")return H(J(F),W,se,me,ve);throw W=String(F),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function Y(F,W,se){if(F==null)return F;var me=[],ve=0;return H(F,me,"","",function(xe){return W.call(se,xe,ve++)}),me}function ee(F){if(F._status===-1){var W=F._result;W=W(),W.then(function(se){(F._status===0||F._status===-1)&&(F._status=1,F._result=se)},function(se){(F._status===0||F._status===-1)&&(F._status=2,F._result=se)}),F._status===-1&&(F._status=0,F._result=W)}if(F._status===1)return F._result.default;throw F._result}var ce=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},_e={map:Y,forEach:function(F,W,se){Y(F,function(){W.apply(this,arguments)},se)},count:function(F){var W=0;return Y(F,function(){W++}),W},toArray:function(F){return Y(F,function(W){return W})||[]},only:function(F){if(!D(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return lt.Activity=m,lt.Children=_e,lt.Component=O,lt.Fragment=n,lt.Profiler=i,lt.PureComponent=N,lt.StrictMode=r,lt.Suspense=f,lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,lt.__COMPILER_RUNTIME={__proto__:null,c:function(F){return A.H.useMemoCache(F)}},lt.cache=function(F){return function(){return F.apply(null,arguments)}},lt.cacheSignal=function(){return null},lt.cloneElement=function(F,W,se){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var me=S({},F.props),ve=F.key;if(W!=null)for(xe in W.key!==void 0&&(ve=""+W.key),W)!P.call(W,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&W.ref===void 0||(me[xe]=W[xe]);var xe=arguments.length-2;if(xe===1)me.children=se;else if(1<xe){for(var Ie=Array(xe),De=0;De<xe;De++)Ie[De]=arguments[De+2];me.children=Ie}return k(F.type,ve,me)},lt.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:o,_context:F},F},lt.createElement=function(F,W,se){var me,ve={},xe=null;if(W!=null)for(me in W.key!==void 0&&(xe=""+W.key),W)P.call(W,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(ve[me]=W[me]);var Ie=arguments.length-2;if(Ie===1)ve.children=se;else if(1<Ie){for(var De=Array(Ie),ye=0;ye<Ie;ye++)De[ye]=arguments[ye+2];ve.children=De}if(F&&F.defaultProps)for(me in Ie=F.defaultProps,Ie)ve[me]===void 0&&(ve[me]=Ie[me]);return k(F,xe,ve)},lt.createRef=function(){return{current:null}},lt.forwardRef=function(F){return{$$typeof:c,render:F}},lt.isValidElement=D,lt.lazy=function(F){return{$$typeof:p,_payload:{_status:-1,_result:F},_init:ee}},lt.memo=function(F,W){return{$$typeof:h,type:F,compare:W===void 0?null:W}},lt.startTransition=function(F){var W=A.T,se={};A.T=se;try{var me=F(),ve=A.S;ve!==null&&ve(se,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(M,ce)}catch(xe){ce(xe)}finally{W!==null&&se.types!==null&&(W.types=se.types),A.T=W}},lt.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},lt.use=function(F){return A.H.use(F)},lt.useActionState=function(F,W,se){return A.H.useActionState(F,W,se)},lt.useCallback=function(F,W){return A.H.useCallback(F,W)},lt.useContext=function(F){return A.H.useContext(F)},lt.useDebugValue=function(){},lt.useDeferredValue=function(F,W){return A.H.useDeferredValue(F,W)},lt.useEffect=function(F,W){return A.H.useEffect(F,W)},lt.useEffectEvent=function(F){return A.H.useEffectEvent(F)},lt.useId=function(){return A.H.useId()},lt.useImperativeHandle=function(F,W,se){return A.H.useImperativeHandle(F,W,se)},lt.useInsertionEffect=function(F,W){return A.H.useInsertionEffect(F,W)},lt.useLayoutEffect=function(F,W){return A.H.useLayoutEffect(F,W)},lt.useMemo=function(F,W){return A.H.useMemo(F,W)},lt.useOptimistic=function(F,W){return A.H.useOptimistic(F,W)},lt.useReducer=function(F,W,se){return A.H.useReducer(F,W,se)},lt.useRef=function(F){return A.H.useRef(F)},lt.useState=function(F){return A.H.useState(F)},lt.useSyncExternalStore=function(F,W,se){return A.H.useSyncExternalStore(F,W,se)},lt.useTransition=function(){return A.H.useTransition()},lt.version="19.2.0",lt}var rI;function ME(){return rI||(rI=1,hb.exports=e9()),hb.exports}var db={exports:{}},wr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iI;function t9(){if(iI)return wr;iI=1;var t=ME();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,h,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:f,containerInfo:h,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return wr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,wr.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(f,h,null,p)},wr.flushSync=function(f){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=h,r.p=p,r.d.f()}},wr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},wr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},wr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,m=c(p,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:_}):p==="script"&&r.d.X(f,{crossOrigin:m,integrity:v,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},wr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=c(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},wr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,m=c(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},wr.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=c(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},wr.requestFormReset=function(f){r.d.r(f)},wr.unstable_batchedUpdates=function(f,h){return f(h)},wr.useFormState=function(f,h,p){return l.H.useFormState(f,h,p)},wr.useFormStatus=function(){return l.H.useHostTransitionStatus()},wr.version="19.2.0",wr}var aI;function o4(){if(aI)return db.exports;aI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),db.exports=t9(),db.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oI;function n9(){if(oI)return Qf;oI=1;var t=ZB(),e=ME(),n=o4();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,u=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(u=s.return),a=s.return;while(a)}return s.tag===3?u:null}function l(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function c(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function f(a){if(o(a)!==a)throw Error(r(188))}function h(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var u=a,d=s;;){var y=u.return;if(y===null)break;var b=y.alternate;if(b===null){if(d=y.return,d!==null){u=d;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===u)return f(y),a;if(b===d)return f(y),s;b=b.sibling}throw Error(r(188))}if(u.return!==d.return)u=y,d=b;else{for(var R=!1,q=y.child;q;){if(q===u){R=!0,u=y,d=b;break}if(q===d){R=!0,d=y,u=b;break}q=q.sibling}if(!R){for(q=b.child;q;){if(q===u){R=!0,u=b,d=y;break}if(q===d){R=!0,d=b,u=y;break}q=q.sibling}if(!R)throw Error(r(189))}}if(u.alternate!==d)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:s}function p(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=p(a),s!==null)return s;a=a.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),N=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function B(a){return a===null||typeof a!="object"?null:(a=D&&a[D]||a["@@iterator"],typeof a=="function"?a:null)}var V=Symbol.for("react.client.reference");function Q(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===V?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case O:return"Profiler";case w:return"StrictMode";case C:return"Suspense";case M:return"SuspenseList";case k:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case E:return"Portal";case N:return a.displayName||"Context";case I:return(a._context.displayName||"Context")+".Consumer";case L:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case A:return s=a.displayName||null,s!==null?s:Q(a.type)||"Memo";case P:s=a._payload,a=a._init;try{return Q(a(s))}catch{}}return null}var J=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ce=[],_e=-1;function F(a){return{current:a}}function W(a){0>_e||(a.current=ce[_e],ce[_e]=null,_e--)}function se(a,s){_e++,ce[_e]=a.current,a.current=s}var me=F(null),ve=F(null),xe=F(null),Ie=F(null);function De(a,s){switch(se(xe,s),se(ve,a),se(me,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?xC(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=xC(s),a=wC(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}W(me),se(me,a)}function ye(){W(me),W(ve),W(xe)}function Re(a){a.memoizedState!==null&&se(Ie,a);var s=me.current,u=wC(s,a.type);s!==u&&(se(ve,a),se(me,u))}function $e(a){ve.current===a&&(W(me),W(ve)),Ie.current===a&&(W(Ie),Gf._currentValue=ee)}var ne,Ke;function we(a){if(ne===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);ne=s&&s[1]||"",Ke=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ne+a+Ke}var Ee=!1;function Ve(a,s){if(!a||Ee)return"";Ee=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(s){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(ue){var oe=ue}Reflect.construct(a,[],ge)}else{try{ge.call()}catch(ue){oe=ue}a.call(ge.prototype)}}else{try{throw Error()}catch(ue){oe=ue}(ge=a())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(ue){if(ue&&oe&&typeof ue.stack=="string")return[ue.stack,oe.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),R=b[0],q=b[1];if(R&&q){var K=R.split(`
`),ae=q.split(`
`);for(y=d=0;d<K.length&&!K[d].includes("DetermineComponentFrameRoot");)d++;for(;y<ae.length&&!ae[y].includes("DetermineComponentFrameRoot");)y++;if(d===K.length||y===ae.length)for(d=K.length-1,y=ae.length-1;1<=d&&0<=y&&K[d]!==ae[y];)y--;for(;1<=d&&0<=y;d--,y--)if(K[d]!==ae[y]){if(d!==1||y!==1)do if(d--,y--,0>y||K[d]!==ae[y]){var fe=`
`+K[d].replace(" at new "," at ");return a.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",a.displayName)),fe}while(1<=d&&0<=y);break}}}finally{Ee=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?we(u):""}function Ye(a,s){switch(a.tag){case 26:case 27:case 5:return we(a.type);case 16:return we("Lazy");case 13:return a.child!==s&&s!==null?we("Suspense Fallback"):we("Suspense");case 19:return we("SuspenseList");case 0:case 15:return Ve(a.type,!1);case 11:return Ve(a.type.render,!1);case 1:return Ve(a.type,!0);case 31:return we("Activity");default:return""}}function ft(a){try{var s="",u=null;do s+=Ye(a,u),u=a,a=a.return;while(a);return s}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var He=Object.prototype.hasOwnProperty,ze=t.unstable_scheduleCallback,_t=t.unstable_cancelCallback,Mt=t.unstable_shouldYield,cn=t.unstable_requestPaint,Ae=t.unstable_now,bt=t.unstable_getCurrentPriorityLevel,Nt=t.unstable_ImmediatePriority,pe=t.unstable_UserBlockingPriority,Pe=t.unstable_NormalPriority,at=t.unstable_LowPriority,jt=t.unstable_IdlePriority,ht=t.log,St=t.unstable_setDisableYieldValue,it=null,gt=null;function Cn(a){if(typeof ht=="function"&&St(a),gt&&typeof gt.setStrictMode=="function")try{gt.setStrictMode(it,a)}catch{}}var qt=Math.clz32?Math.clz32:zt,xt=Math.log,fn=Math.LN2;function zt(a){return a>>>=0,a===0?32:31-(xt(a)/fn|0)|0}var wt=256,Ue=262144,Le=4194304;function qe(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Ft(a,s,u){var d=a.pendingLanes;if(d===0)return 0;var y=0,b=a.suspendedLanes,R=a.pingedLanes;a=a.warmLanes;var q=d&134217727;return q!==0?(d=q&~b,d!==0?y=qe(d):(R&=q,R!==0?y=qe(R):u||(u=q&~a,u!==0&&(y=qe(u))))):(q=d&~b,q!==0?y=qe(q):R!==0?y=qe(R):u||(u=d&~a,u!==0&&(y=qe(u)))),y===0?0:s!==0&&s!==y&&(s&b)===0&&(b=y&-y,u=s&-s,b>=u||b===32&&(u&4194048)!==0)?s:y}function Fn(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function di(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Di(){var a=Le;return Le<<=1,(Le&62914560)===0&&(Le=4194304),a}function or(a){for(var s=[],u=0;31>u;u++)s.push(a);return s}function Wr(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function af(a,s,u,d,y,b){var R=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var q=a.entanglements,K=a.expirationTimes,ae=a.hiddenUpdates;for(u=R&~u;0<u;){var fe=31-qt(u),ge=1<<fe;q[fe]=0,K[fe]=-1;var oe=ae[fe];if(oe!==null)for(ae[fe]=null,fe=0;fe<oe.length;fe++){var ue=oe[fe];ue!==null&&(ue.lane&=-536870913)}u&=~ge}d!==0&&ja(a,d,0),b!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=b&~(R&~s))}function ja(a,s,u){a.pendingLanes|=s,a.suspendedLanes&=~s;var d=31-qt(s);a.entangledLanes|=s,a.entanglements[d]=a.entanglements[d]|1073741824|u&261930}function Ns(a,s){var u=a.entangledLanes|=s;for(a=a.entanglements;u;){var d=31-qt(u),y=1<<d;y&s|a[d]&s&&(a[d]|=s),u&=~y}}function ks(a,s){var u=s&-s;return u=(u&42)!==0?1:Da(u),(u&(a.suspendedLanes|s))!==0?0:u}function Da(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Li(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Xl(){var a=Y.p;return a!==0?a:(a=window.event,a===void 0?32:HC(a.type))}function Yr(a,s){var u=Y.p;try{return Y.p=a,s()}finally{Y.p=u}}var Xr=Math.random().toString(36).slice(2),In="__reactFiber$"+Xr,Pn="__reactProps$"+Xr,Lr="__reactContainer$"+Xr,Vi="__reactEvents$"+Xr,Oo="__reactListeners$"+Xr,Ql="__reactHandles$"+Xr,Jl="__reactResources$"+Xr,pi="__reactMarker$"+Xr;function $i(a){delete a[In],delete a[Pn],delete a[Vi],delete a[Oo],delete a[Ql]}function br(a){var s=a[In];if(s)return s;for(var u=a.parentNode;u;){if(s=u[Lr]||u[In]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(a=IC(a);a!==null;){if(u=a[In])return u;a=IC(a)}return s}a=u,u=a.parentNode}return null}function _r(a){if(a=a[In]||a[Lr]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function Pr(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function mi(a){var s=a[Jl];return s||(s=a[Jl]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function _n(a){a[pi]=!0}var Ms=new Set,La={};function Qr(a,s){gi(a,s),gi(a+"Capture",s)}function gi(a,s){for(La[a]=s,a=0;a<s.length;a++)Ms.add(s[a])}var js=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ds={},Ls={};function Zl(a){return He.call(Ls,a)?!0:He.call(Ds,a)?!1:js.test(a)?Ls[a]=!0:(Ds[a]=!0,!1)}function Co(a,s,u){if(Zl(s))if(u===null)a.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var d=s.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+u)}}function Rr(a,s,u){if(u===null)a.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+u)}}function Sn(a,s,u,d){if(d===null)a.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(s,u,""+d)}}function jn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function aa(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Vs(a,s,u){var d=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,b=d.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return y.call(this)},set:function(R){u=""+R,b.call(this,R)}}),Object.defineProperty(a,s,{enumerable:d.enumerable}),{getValue:function(){return u},setValue:function(R){u=""+R},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function ie(a){if(!a._valueTracker){var s=aa(a)?"checked":"value";a._valueTracker=Vs(a,s,""+a[s])}}function Ce(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var u=s.getValue(),d="";return a&&(d=aa(a)?a.checked?"true":"false":a.value),a=d,a!==u?(s.setValue(a),!0):!1}function Ne(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Xe=/[\n"\\]/g;function st(a){return a.replace(Xe,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function dt(a,s,u,d,y,b,R,q){a.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?a.type=R:a.removeAttribute("type"),s!=null?R==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+jn(s)):a.value!==""+jn(s)&&(a.value=""+jn(s)):R!=="submit"&&R!=="reset"||a.removeAttribute("value"),s!=null?xr(a,R,jn(s)):u!=null?xr(a,R,jn(u)):d!=null&&a.removeAttribute("value"),y==null&&b!=null&&(a.defaultChecked=!!b),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?a.name=""+jn(q):a.removeAttribute("name")}function Lt(a,s,u,d,y,b,R,q){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),s!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||s!=null)){ie(a);return}u=u!=null?""+jn(u):"",s=s!=null?""+jn(s):u,q||s===a.value||(a.value=s),a.defaultValue=s}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=q?a.checked:!!d,a.defaultChecked=!!d,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(a.name=R),ie(a)}function xr(a,s,u){s==="number"&&Ne(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function oa(a,s,u,d){if(a=a.options,s){s={};for(var y=0;y<u.length;y++)s["$"+u[y]]=!0;for(u=0;u<a.length;u++)y=s.hasOwnProperty("$"+a[u].value),a[u].selected!==y&&(a[u].selected=y),y&&d&&(a[u].defaultSelected=!0)}else{for(u=""+jn(u),s=null,y=0;y<a.length;y++){if(a[y].value===u){a[y].selected=!0,d&&(a[y].defaultSelected=!0);return}s!==null||a[y].disabled||(s=a[y])}s!==null&&(s.selected=!0)}}function eu(a,s,u){if(s!=null&&(s=""+jn(s),s!==a.value&&(a.value=s),u==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=u!=null?""+jn(u):""}function sa(a,s,u,d){if(s==null){if(d!=null){if(u!=null)throw Error(r(92));if(J(d)){if(1<d.length)throw Error(r(93));d=d[0]}u=d}u==null&&(u=""),s=u}u=jn(s),a.defaultValue=u,d=a.textContent,d===u&&d!==""&&d!==null&&(a.value=d),ie(a)}function sr(a,s){if(s){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=s;return}}a.textContent=s}var Fd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function of(a,s,u){var d=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":d?a.setProperty(s,u):typeof u!="number"||u===0||Fd.has(s)?s==="float"?a.cssFloat=u:a[s]=(""+u).trim():a[s]=u+"px"}function sf(a,s,u){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||s!=null&&s.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var y in s)d=s[y],s.hasOwnProperty(y)&&u[y]!==d&&of(a,y,d)}else for(var b in s)s.hasOwnProperty(b)&&of(a,b,s[b])}function tu(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Io=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function nu(a){return Io.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Ui(){}var lf=null;function yi(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Po=null,la=null;function $s(a){var s=_r(a);if(s&&(a=s.stateNode)){var u=a[Pn]||null;e:switch(a=s.stateNode,s.type){case"input":if(dt(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+st(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var d=u[s];if(d!==a&&d.form===a.form){var y=d[Pn]||null;if(!y)throw Error(r(90));dt(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(s=0;s<u.length;s++)d=u[s],d.form===a.form&&Ce(d)}break e;case"textarea":eu(a,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&oa(a,!!u.multiple,s,!1)}}}var ru=!1;function Ro(a,s,u){if(ru)return a(s,u);ru=!0;try{var d=a(s);return d}finally{if(ru=!1,(Po!==null||la!==null)&&(Vp(),Po&&(s=Po,a=la,la=Po=null,$s(s),a)))for(s=0;s<a.length;s++)$s(a[s])}}function Bi(a,s){var u=a.stateNode;if(u===null)return null;var d=u[Pn]||null;if(d===null)return null;u=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,s,typeof u));return u}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Us=!1;if(vi)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){Us=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{Us=!1}var ua=null,uf=null,Bs=null;function cf(){if(Bs)return Bs;var a,s=uf,u=s.length,d,y="value"in ua?ua.value:ua.textContent,b=y.length;for(a=0;a<u&&s[a]===y[a];a++);var R=u-a;for(d=1;d<=R&&s[u-d]===y[b-d];d++);return Bs=y.slice(a,1<d?1-d:void 0)}function qs(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Va(){return!0}function qi(){return!1}function lr(a){function s(u,d,y,b,R){this._reactName=u,this._targetInst=y,this.type=d,this.nativeEvent=b,this.target=R,this.currentTarget=null;for(var q in a)a.hasOwnProperty(q)&&(u=a[q],this[q]=u?u(b):b[q]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Va:qi,this.isPropagationStopped=qi,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Va)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Va)},persist:function(){},isPersistent:Va}),s}var $a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ca=lr($a),No=m({},$a,{view:0,detail:0}),ff=lr(No),ko,iu,fa,au=m({},No,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mo,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==fa&&(fa&&a.type==="mousemove"?(ko=a.screenX-fa.screenX,iu=a.screenY-fa.screenY):iu=ko=0,fa=a),ko)},movementY:function(a){return"movementY"in a?a.movementY:iu}}),hf=lr(au),zs=m({},au,{dataTransfer:0}),Gd=lr(zs),Kd=m({},No,{relatedTarget:0}),Fs=lr(Kd),df=m({},$a,{animationName:0,elapsedTime:0,pseudoElement:0}),Wd=lr(df),ou=m({},$a,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Yd=lr(ou),Xd=m({},$a,{data:0}),ha=lr(Xd),Qd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ep(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=Zd[a])?!!s[a]:!1}function Mo(){return ep}var Nr=m({},No,{key:function(a){if(a.key){var s=Qd[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=qs(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Jd[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mo,charCode:function(a){return a.type==="keypress"?qs(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?qs(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),tp=lr(Nr),np=m({},au,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ua=lr(np),g=m({},No,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mo}),T=lr(g),j=m({},$a,{propertyName:0,elapsedTime:0,pseudoElement:0}),z=lr(j),te=m({},au,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),le=lr(te),Oe=m({},$a,{newState:0,oldState:0}),pt=lr(Oe),Rn=[9,13,27,32],Ht=vi&&"CompositionEvent"in window,gn=null;vi&&"documentMode"in document&&(gn=document.documentMode);var bi=vi&&"TextEvent"in window&&!gn,da=vi&&(!Ht||gn&&8<gn&&11>=gn),zi=" ",Fi=!1;function Hs(a,s){switch(a){case"keyup":return Rn.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function su(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var lu=!1;function bU(a,s){switch(a){case"compositionend":return su(s);case"keypress":return s.which!==32?null:(Fi=!0,zi);case"textInput":return a=s.data,a===zi&&Fi?null:a;default:return null}}function _U(a,s){if(lu)return a==="compositionend"||!Ht&&Hs(a,s)?(a=cf(),Bs=uf=ua=null,lu=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return da&&s.locale!=="ko"?null:s.data;default:return null}}var xU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function NA(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!xU[a.type]:s==="textarea"}function kA(a,s,u,d){Po?la?la.push(d):la=[d]:Po=d,s=Hp(s,"onChange"),0<s.length&&(u=new ca("onChange","change",null,u,d),a.push({event:u,listeners:s}))}var pf=null,mf=null;function wU(a){mC(a,0)}function rp(a){var s=Pr(a);if(Ce(s))return a}function MA(a,s){if(a==="change")return s}var jA=!1;if(vi){var mv;if(vi){var gv="oninput"in document;if(!gv){var DA=document.createElement("div");DA.setAttribute("oninput","return;"),gv=typeof DA.oninput=="function"}mv=gv}else mv=!1;jA=mv&&(!document.documentMode||9<document.documentMode)}function LA(){pf&&(pf.detachEvent("onpropertychange",VA),mf=pf=null)}function VA(a){if(a.propertyName==="value"&&rp(mf)){var s=[];kA(s,mf,a,yi(a)),Ro(wU,s)}}function SU(a,s,u){a==="focusin"?(LA(),pf=s,mf=u,pf.attachEvent("onpropertychange",VA)):a==="focusout"&&LA()}function EU(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return rp(mf)}function TU(a,s){if(a==="click")return rp(s)}function AU(a,s){if(a==="input"||a==="change")return rp(s)}function OU(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var Jr=typeof Object.is=="function"?Object.is:OU;function gf(a,s){if(Jr(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var u=Object.keys(a),d=Object.keys(s);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var y=u[d];if(!He.call(s,y)||!Jr(a[y],s[y]))return!1}return!0}function $A(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function UA(a,s){var u=$A(a);a=0;for(var d;u;){if(u.nodeType===3){if(d=a+u.textContent.length,a<=s&&d>=s)return{node:u,offset:s-a};a=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=$A(u)}}function BA(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?BA(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function qA(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=Ne(a.document);s instanceof a.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)a=s.contentWindow;else break;s=Ne(a.document)}return s}function yv(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var CU=vi&&"documentMode"in document&&11>=document.documentMode,uu=null,vv=null,yf=null,bv=!1;function zA(a,s,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;bv||uu==null||uu!==Ne(d)||(d=uu,"selectionStart"in d&&yv(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),yf&&gf(yf,d)||(yf=d,d=Hp(vv,"onSelect"),0<d.length&&(s=new ca("onSelect","select",null,s,u),a.push({event:s,listeners:d}),s.target=uu)))}function Gs(a,s){var u={};return u[a.toLowerCase()]=s.toLowerCase(),u["Webkit"+a]="webkit"+s,u["Moz"+a]="moz"+s,u}var cu={animationend:Gs("Animation","AnimationEnd"),animationiteration:Gs("Animation","AnimationIteration"),animationstart:Gs("Animation","AnimationStart"),transitionrun:Gs("Transition","TransitionRun"),transitionstart:Gs("Transition","TransitionStart"),transitioncancel:Gs("Transition","TransitionCancel"),transitionend:Gs("Transition","TransitionEnd")},_v={},FA={};vi&&(FA=document.createElement("div").style,"AnimationEvent"in window||(delete cu.animationend.animation,delete cu.animationiteration.animation,delete cu.animationstart.animation),"TransitionEvent"in window||delete cu.transitionend.transition);function Ks(a){if(_v[a])return _v[a];if(!cu[a])return a;var s=cu[a],u;for(u in s)if(s.hasOwnProperty(u)&&u in FA)return _v[a]=s[u];return a}var HA=Ks("animationend"),GA=Ks("animationiteration"),KA=Ks("animationstart"),IU=Ks("transitionrun"),PU=Ks("transitionstart"),RU=Ks("transitioncancel"),WA=Ks("transitionend"),YA=new Map,xv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xv.push("scrollEnd");function Hi(a,s){YA.set(a,s),Qr(s,[a])}var ip=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},_i=[],fu=0,wv=0;function ap(){for(var a=fu,s=wv=fu=0;s<a;){var u=_i[s];_i[s++]=null;var d=_i[s];_i[s++]=null;var y=_i[s];_i[s++]=null;var b=_i[s];if(_i[s++]=null,d!==null&&y!==null){var R=d.pending;R===null?y.next=y:(y.next=R.next,R.next=y),d.pending=y}b!==0&&XA(u,y,b)}}function op(a,s,u,d){_i[fu++]=a,_i[fu++]=s,_i[fu++]=u,_i[fu++]=d,wv|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function Sv(a,s,u,d){return op(a,s,u,d),sp(a)}function Ws(a,s){return op(a,null,null,s),sp(a)}function XA(a,s,u){a.lanes|=u;var d=a.alternate;d!==null&&(d.lanes|=u);for(var y=!1,b=a.return;b!==null;)b.childLanes|=u,d=b.alternate,d!==null&&(d.childLanes|=u),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(y=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,y&&s!==null&&(y=31-qt(u),a=b.hiddenUpdates,d=a[y],d===null?a[y]=[s]:d.push(s),s.lane=u|536870912),b):null}function sp(a){if(50<$f)throw $f=0,N0=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var hu={};function NU(a,s,u,d){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zr(a,s,u,d){return new NU(a,s,u,d)}function Ev(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ba(a,s){var u=a.alternate;return u===null?(u=Zr(a.tag,s,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=s,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,s=a.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function QA(a,s){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,s=u.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function lp(a,s,u,d,y,b){var R=0;if(d=a,typeof a=="function")Ev(a)&&(R=1);else if(typeof a=="string")R=LB(a,u,me.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case k:return a=Zr(31,u,s,y),a.elementType=k,a.lanes=b,a;case S:return Ys(u.children,y,b,s);case w:R=8,y|=24;break;case O:return a=Zr(12,u,s,y|2),a.elementType=O,a.lanes=b,a;case C:return a=Zr(13,u,s,y),a.elementType=C,a.lanes=b,a;case M:return a=Zr(19,u,s,y),a.elementType=M,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case N:R=10;break e;case I:R=9;break e;case L:R=11;break e;case A:R=14;break e;case P:R=16,d=null;break e}R=29,u=Error(r(130,a===null?"null":typeof a,"")),d=null}return s=Zr(R,u,s,y),s.elementType=a,s.type=d,s.lanes=b,s}function Ys(a,s,u,d){return a=Zr(7,a,d,s),a.lanes=u,a}function Tv(a,s,u){return a=Zr(6,a,null,s),a.lanes=u,a}function JA(a){var s=Zr(18,null,null,0);return s.stateNode=a,s}function Av(a,s,u){return s=Zr(4,a.children!==null?a.children:[],a.key,s),s.lanes=u,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var ZA=new WeakMap;function xi(a,s){if(typeof a=="object"&&a!==null){var u=ZA.get(a);return u!==void 0?u:(s={value:a,source:s,stack:ft(s)},ZA.set(a,s),s)}return{value:a,source:s,stack:ft(s)}}var du=[],pu=0,up=null,vf=0,wi=[],Si=0,jo=null,pa=1,ma="";function qa(a,s){du[pu++]=vf,du[pu++]=up,up=a,vf=s}function eO(a,s,u){wi[Si++]=pa,wi[Si++]=ma,wi[Si++]=jo,jo=a;var d=pa;a=ma;var y=32-qt(d)-1;d&=~(1<<y),u+=1;var b=32-qt(s)+y;if(30<b){var R=y-y%5;b=(d&(1<<R)-1).toString(32),d>>=R,y-=R,pa=1<<32-qt(s)+y|u<<y|d,ma=b+a}else pa=1<<b|u<<y|d,ma=a}function Ov(a){a.return!==null&&(qa(a,1),eO(a,1,0))}function Cv(a){for(;a===up;)up=du[--pu],du[pu]=null,vf=du[--pu],du[pu]=null;for(;a===jo;)jo=wi[--Si],wi[Si]=null,ma=wi[--Si],wi[Si]=null,pa=wi[--Si],wi[Si]=null}function tO(a,s){wi[Si++]=pa,wi[Si++]=ma,wi[Si++]=jo,pa=s.id,ma=s.overflow,jo=a}var ur=null,hn=null,kt=!1,Do=null,Ei=!1,Iv=Error(r(519));function Lo(a){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bf(xi(s,a)),Iv}function nO(a){var s=a.stateNode,u=a.type,d=a.memoizedProps;switch(s[In]=a,s[Pn]=d,u){case"dialog":Tt("cancel",s),Tt("close",s);break;case"iframe":case"object":case"embed":Tt("load",s);break;case"video":case"audio":for(u=0;u<Bf.length;u++)Tt(Bf[u],s);break;case"source":Tt("error",s);break;case"img":case"image":case"link":Tt("error",s),Tt("load",s);break;case"details":Tt("toggle",s);break;case"input":Tt("invalid",s),Lt(s,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":Tt("invalid",s);break;case"textarea":Tt("invalid",s),sa(s,d.value,d.defaultValue,d.children)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||d.suppressHydrationWarning===!0||bC(s.textContent,u)?(d.popover!=null&&(Tt("beforetoggle",s),Tt("toggle",s)),d.onScroll!=null&&Tt("scroll",s),d.onScrollEnd!=null&&Tt("scrollend",s),d.onClick!=null&&(s.onclick=Ui),s=!0):s=!1,s||Lo(a,!0)}function rO(a){for(ur=a.return;ur;)switch(ur.tag){case 5:case 31:case 13:Ei=!1;return;case 27:case 3:Ei=!0;return;default:ur=ur.return}}function mu(a){if(a!==ur)return!1;if(!kt)return rO(a),kt=!0,!1;var s=a.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||K0(a.type,a.memoizedProps)),u=!u),u&&hn&&Lo(a),rO(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));hn=CC(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));hn=CC(a)}else s===27?(s=hn,Qo(a.type)?(a=J0,J0=null,hn=a):hn=s):hn=ur?Ai(a.stateNode.nextSibling):null;return!0}function Xs(){hn=ur=null,kt=!1}function Pv(){var a=Do;return a!==null&&(Br===null?Br=a:Br.push.apply(Br,a),Do=null),a}function bf(a){Do===null?Do=[a]:Do.push(a)}var Rv=F(null),Qs=null,za=null;function Vo(a,s,u){se(Rv,s._currentValue),s._currentValue=u}function Fa(a){a._currentValue=Rv.current,W(Rv)}function Nv(a,s,u){for(;a!==null;){var d=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),a===u)break;a=a.return}}function kv(a,s,u,d){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var b=y.dependencies;if(b!==null){var R=y.child;b=b.firstContext;e:for(;b!==null;){var q=b;b=y;for(var K=0;K<s.length;K++)if(q.context===s[K]){b.lanes|=u,q=b.alternate,q!==null&&(q.lanes|=u),Nv(b.return,u,a),d||(R=null);break e}b=q.next}}else if(y.tag===18){if(R=y.return,R===null)throw Error(r(341));R.lanes|=u,b=R.alternate,b!==null&&(b.lanes|=u),Nv(R,u,a),R=null}else R=y.child;if(R!==null)R.return=y;else for(R=y;R!==null;){if(R===a){R=null;break}if(y=R.sibling,y!==null){y.return=R.return,R=y;break}R=R.return}y=R}}function gu(a,s,u,d){a=null;for(var y=s,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var R=y.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var q=y.type;Jr(y.pendingProps.value,R.value)||(a!==null?a.push(q):a=[q])}}else if(y===Ie.current){if(R=y.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(Gf):a=[Gf])}y=y.return}a!==null&&kv(s,a,u,d),s.flags|=262144}function cp(a){for(a=a.firstContext;a!==null;){if(!Jr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Js(a){Qs=a,za=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function cr(a){return iO(Qs,a)}function fp(a,s){return Qs===null&&Js(a),iO(a,s)}function iO(a,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},za===null){if(a===null)throw Error(r(308));za=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else za=za.next=s;return u}var kU=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(u,d){a.push(d)}};this.abort=function(){s.aborted=!0,a.forEach(function(u){return u()})}},MU=t.unstable_scheduleCallback,jU=t.unstable_NormalPriority,Dn={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mv(){return{controller:new kU,data:new Map,refCount:0}}function _f(a){a.refCount--,a.refCount===0&&MU(jU,function(){a.controller.abort()})}var xf=null,jv=0,yu=0,vu=null;function DU(a,s){if(xf===null){var u=xf=[];jv=0,yu=V0(),vu={status:"pending",value:void 0,then:function(d){u.push(d)}}}return jv++,s.then(aO,aO),s}function aO(){if(--jv===0&&xf!==null){vu!==null&&(vu.status="fulfilled");var a=xf;xf=null,yu=0,vu=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function LU(a,s){var u=[],d={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return a.then(function(){d.status="fulfilled",d.value=s;for(var y=0;y<u.length;y++)(0,u[y])(s)},function(y){for(d.status="rejected",d.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),d}var oO=H.S;H.S=function(a,s){z2=Ae(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&DU(a,s),oO!==null&&oO(a,s)};var Zs=F(null);function Dv(){var a=Zs.current;return a!==null?a:an.pooledCache}function hp(a,s){s===null?se(Zs,Zs.current):se(Zs,s.pool)}function sO(){var a=Dv();return a===null?null:{parent:Dn._currentValue,pool:a}}var bu=Error(r(460)),Lv=Error(r(474)),dp=Error(r(542)),pp={then:function(){}};function lO(a){return a=a.status,a==="fulfilled"||a==="rejected"}function uO(a,s,u){switch(u=a[u],u===void 0?a.push(s):u!==s&&(s.then(Ui,Ui),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,fO(a),a;default:if(typeof s.status=="string")s.then(Ui,Ui);else{if(a=an,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(d){if(s.status==="pending"){var y=s;y.status="fulfilled",y.value=d}},function(d){if(s.status==="pending"){var y=s;y.status="rejected",y.reason=d}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,fO(a),a}throw tl=s,bu}}function el(a){try{var s=a._init;return s(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(tl=u,bu):u}}var tl=null;function cO(){if(tl===null)throw Error(r(459));var a=tl;return tl=null,a}function fO(a){if(a===bu||a===dp)throw Error(r(483))}var _u=null,wf=0;function mp(a){var s=wf;return wf+=1,_u===null&&(_u=[]),uO(_u,a,s)}function Sf(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function gp(a,s){throw s.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function hO(a){function s(Z,X){if(a){var re=Z.deletions;re===null?(Z.deletions=[X],Z.flags|=16):re.push(X)}}function u(Z,X){if(!a)return null;for(;X!==null;)s(Z,X),X=X.sibling;return null}function d(Z){for(var X=new Map;Z!==null;)Z.key!==null?X.set(Z.key,Z):X.set(Z.index,Z),Z=Z.sibling;return X}function y(Z,X){return Z=Ba(Z,X),Z.index=0,Z.sibling=null,Z}function b(Z,X,re){return Z.index=re,a?(re=Z.alternate,re!==null?(re=re.index,re<X?(Z.flags|=67108866,X):re):(Z.flags|=67108866,X)):(Z.flags|=1048576,X)}function R(Z){return a&&Z.alternate===null&&(Z.flags|=67108866),Z}function q(Z,X,re,de){return X===null||X.tag!==6?(X=Tv(re,Z.mode,de),X.return=Z,X):(X=y(X,re),X.return=Z,X)}function K(Z,X,re,de){var We=re.type;return We===S?fe(Z,X,re.props.children,de,re.key):X!==null&&(X.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===P&&el(We)===X.type)?(X=y(X,re.props),Sf(X,re),X.return=Z,X):(X=lp(re.type,re.key,re.props,null,Z.mode,de),Sf(X,re),X.return=Z,X)}function ae(Z,X,re,de){return X===null||X.tag!==4||X.stateNode.containerInfo!==re.containerInfo||X.stateNode.implementation!==re.implementation?(X=Av(re,Z.mode,de),X.return=Z,X):(X=y(X,re.children||[]),X.return=Z,X)}function fe(Z,X,re,de,We){return X===null||X.tag!==7?(X=Ys(re,Z.mode,de,We),X.return=Z,X):(X=y(X,re),X.return=Z,X)}function ge(Z,X,re){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=Tv(""+X,Z.mode,re),X.return=Z,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case _:return re=lp(X.type,X.key,X.props,null,Z.mode,re),Sf(re,X),re.return=Z,re;case E:return X=Av(X,Z.mode,re),X.return=Z,X;case P:return X=el(X),ge(Z,X,re)}if(J(X)||B(X))return X=Ys(X,Z.mode,re,null),X.return=Z,X;if(typeof X.then=="function")return ge(Z,mp(X),re);if(X.$$typeof===N)return ge(Z,fp(Z,X),re);gp(Z,X)}return null}function oe(Z,X,re,de){var We=X!==null?X.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return We!==null?null:q(Z,X,""+re,de);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case _:return re.key===We?K(Z,X,re,de):null;case E:return re.key===We?ae(Z,X,re,de):null;case P:return re=el(re),oe(Z,X,re,de)}if(J(re)||B(re))return We!==null?null:fe(Z,X,re,de,null);if(typeof re.then=="function")return oe(Z,X,mp(re),de);if(re.$$typeof===N)return oe(Z,X,fp(Z,re),de);gp(Z,re)}return null}function ue(Z,X,re,de,We){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return Z=Z.get(re)||null,q(X,Z,""+de,We);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case _:return Z=Z.get(de.key===null?re:de.key)||null,K(X,Z,de,We);case E:return Z=Z.get(de.key===null?re:de.key)||null,ae(X,Z,de,We);case P:return de=el(de),ue(Z,X,re,de,We)}if(J(de)||B(de))return Z=Z.get(re)||null,fe(X,Z,de,We,null);if(typeof de.then=="function")return ue(Z,X,re,mp(de),We);if(de.$$typeof===N)return ue(Z,X,re,fp(X,de),We);gp(X,de)}return null}function je(Z,X,re,de){for(var We=null,Vt=null,Be=X,yt=X=0,Ct=null;Be!==null&&yt<re.length;yt++){Be.index>yt?(Ct=Be,Be=null):Ct=Be.sibling;var $t=oe(Z,Be,re[yt],de);if($t===null){Be===null&&(Be=Ct);break}a&&Be&&$t.alternate===null&&s(Z,Be),X=b($t,X,yt),Vt===null?We=$t:Vt.sibling=$t,Vt=$t,Be=Ct}if(yt===re.length)return u(Z,Be),kt&&qa(Z,yt),We;if(Be===null){for(;yt<re.length;yt++)Be=ge(Z,re[yt],de),Be!==null&&(X=b(Be,X,yt),Vt===null?We=Be:Vt.sibling=Be,Vt=Be);return kt&&qa(Z,yt),We}for(Be=d(Be);yt<re.length;yt++)Ct=ue(Be,Z,yt,re[yt],de),Ct!==null&&(a&&Ct.alternate!==null&&Be.delete(Ct.key===null?yt:Ct.key),X=b(Ct,X,yt),Vt===null?We=Ct:Vt.sibling=Ct,Vt=Ct);return a&&Be.forEach(function(ns){return s(Z,ns)}),kt&&qa(Z,yt),We}function Ze(Z,X,re,de){if(re==null)throw Error(r(151));for(var We=null,Vt=null,Be=X,yt=X=0,Ct=null,$t=re.next();Be!==null&&!$t.done;yt++,$t=re.next()){Be.index>yt?(Ct=Be,Be=null):Ct=Be.sibling;var ns=oe(Z,Be,$t.value,de);if(ns===null){Be===null&&(Be=Ct);break}a&&Be&&ns.alternate===null&&s(Z,Be),X=b(ns,X,yt),Vt===null?We=ns:Vt.sibling=ns,Vt=ns,Be=Ct}if($t.done)return u(Z,Be),kt&&qa(Z,yt),We;if(Be===null){for(;!$t.done;yt++,$t=re.next())$t=ge(Z,$t.value,de),$t!==null&&(X=b($t,X,yt),Vt===null?We=$t:Vt.sibling=$t,Vt=$t);return kt&&qa(Z,yt),We}for(Be=d(Be);!$t.done;yt++,$t=re.next())$t=ue(Be,Z,yt,$t.value,de),$t!==null&&(a&&$t.alternate!==null&&Be.delete($t.key===null?yt:$t.key),X=b($t,X,yt),Vt===null?We=$t:Vt.sibling=$t,Vt=$t);return a&&Be.forEach(function(WB){return s(Z,WB)}),kt&&qa(Z,yt),We}function nn(Z,X,re,de){if(typeof re=="object"&&re!==null&&re.type===S&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case _:e:{for(var We=re.key;X!==null;){if(X.key===We){if(We=re.type,We===S){if(X.tag===7){u(Z,X.sibling),de=y(X,re.props.children),de.return=Z,Z=de;break e}}else if(X.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===P&&el(We)===X.type){u(Z,X.sibling),de=y(X,re.props),Sf(de,re),de.return=Z,Z=de;break e}u(Z,X);break}else s(Z,X);X=X.sibling}re.type===S?(de=Ys(re.props.children,Z.mode,de,re.key),de.return=Z,Z=de):(de=lp(re.type,re.key,re.props,null,Z.mode,de),Sf(de,re),de.return=Z,Z=de)}return R(Z);case E:e:{for(We=re.key;X!==null;){if(X.key===We)if(X.tag===4&&X.stateNode.containerInfo===re.containerInfo&&X.stateNode.implementation===re.implementation){u(Z,X.sibling),de=y(X,re.children||[]),de.return=Z,Z=de;break e}else{u(Z,X);break}else s(Z,X);X=X.sibling}de=Av(re,Z.mode,de),de.return=Z,Z=de}return R(Z);case P:return re=el(re),nn(Z,X,re,de)}if(J(re))return je(Z,X,re,de);if(B(re)){if(We=B(re),typeof We!="function")throw Error(r(150));return re=We.call(re),Ze(Z,X,re,de)}if(typeof re.then=="function")return nn(Z,X,mp(re),de);if(re.$$typeof===N)return nn(Z,X,fp(Z,re),de);gp(Z,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,X!==null&&X.tag===6?(u(Z,X.sibling),de=y(X,re),de.return=Z,Z=de):(u(Z,X),de=Tv(re,Z.mode,de),de.return=Z,Z=de),R(Z)):u(Z,X)}return function(Z,X,re,de){try{wf=0;var We=nn(Z,X,re,de);return _u=null,We}catch(Be){if(Be===bu||Be===dp)throw Be;var Vt=Zr(29,Be,null,Z.mode);return Vt.lanes=de,Vt.return=Z,Vt}finally{}}}var nl=hO(!0),dO=hO(!1),$o=!1;function Vv(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $v(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Uo(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Bo(a,s,u){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(Gt&2)!==0){var y=d.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),d.pending=s,s=sp(a),XA(a,null,u),s}return op(a,d,s,u),sp(a)}function Ef(a,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var d=s.lanes;d&=a.pendingLanes,u|=d,s.lanes=u,Ns(a,u)}}function Uv(a,s){var u=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var y=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var R={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?y=b=R:b=b.next=R,u=u.next}while(u!==null);b===null?y=b=s:b=b.next=s}else y=b=s;u={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=s:a.next=s,u.lastBaseUpdate=s}var Bv=!1;function Tf(){if(Bv){var a=vu;if(a!==null)throw a}}function Af(a,s,u,d){Bv=!1;var y=a.updateQueue;$o=!1;var b=y.firstBaseUpdate,R=y.lastBaseUpdate,q=y.shared.pending;if(q!==null){y.shared.pending=null;var K=q,ae=K.next;K.next=null,R===null?b=ae:R.next=ae,R=K;var fe=a.alternate;fe!==null&&(fe=fe.updateQueue,q=fe.lastBaseUpdate,q!==R&&(q===null?fe.firstBaseUpdate=ae:q.next=ae,fe.lastBaseUpdate=K))}if(b!==null){var ge=y.baseState;R=0,fe=ae=K=null,q=b;do{var oe=q.lane&-536870913,ue=oe!==q.lane;if(ue?(Ot&oe)===oe:(d&oe)===oe){oe!==0&&oe===yu&&(Bv=!0),fe!==null&&(fe=fe.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var je=a,Ze=q;oe=s;var nn=u;switch(Ze.tag){case 1:if(je=Ze.payload,typeof je=="function"){ge=je.call(nn,ge,oe);break e}ge=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Ze.payload,oe=typeof je=="function"?je.call(nn,ge,oe):je,oe==null)break e;ge=m({},ge,oe);break e;case 2:$o=!0}}oe=q.callback,oe!==null&&(a.flags|=64,ue&&(a.flags|=8192),ue=y.callbacks,ue===null?y.callbacks=[oe]:ue.push(oe))}else ue={lane:oe,tag:q.tag,payload:q.payload,callback:q.callback,next:null},fe===null?(ae=fe=ue,K=ge):fe=fe.next=ue,R|=oe;if(q=q.next,q===null){if(q=y.shared.pending,q===null)break;ue=q,q=ue.next,ue.next=null,y.lastBaseUpdate=ue,y.shared.pending=null}}while(!0);fe===null&&(K=ge),y.baseState=K,y.firstBaseUpdate=ae,y.lastBaseUpdate=fe,b===null&&(y.shared.lanes=0),Go|=R,a.lanes=R,a.memoizedState=ge}}function pO(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function mO(a,s){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)pO(u[a],s)}var xu=F(null),yp=F(0);function gO(a,s){a=Za,se(yp,a),se(xu,s),Za=a|s.baseLanes}function qv(){se(yp,Za),se(xu,xu.current)}function zv(){Za=yp.current,W(xu),W(yp)}var ei=F(null),Ti=null;function qo(a){var s=a.alternate;se(Nn,Nn.current&1),se(ei,a),Ti===null&&(s===null||xu.current!==null||s.memoizedState!==null)&&(Ti=a)}function Fv(a){se(Nn,Nn.current),se(ei,a),Ti===null&&(Ti=a)}function yO(a){a.tag===22?(se(Nn,Nn.current),se(ei,a),Ti===null&&(Ti=a)):zo()}function zo(){se(Nn,Nn.current),se(ei,ei.current)}function ti(a){W(ei),Ti===a&&(Ti=null),W(Nn)}var Nn=F(0);function vp(a){for(var s=a;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||X0(u)||Q0(u)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ha=0,mt=null,en=null,Ln=null,bp=!1,wu=!1,rl=!1,_p=0,Of=0,Su=null,VU=0;function En(){throw Error(r(321))}function Hv(a,s){if(s===null)return!1;for(var u=0;u<s.length&&u<a.length;u++)if(!Jr(a[u],s[u]))return!1;return!0}function Gv(a,s,u,d,y,b){return Ha=b,mt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,H.H=a===null||a.memoizedState===null?e2:s0,rl=!1,b=u(d,y),rl=!1,wu&&(b=bO(s,u,d,y)),vO(a),b}function vO(a){H.H=Pf;var s=en!==null&&en.next!==null;if(Ha=0,Ln=en=mt=null,bp=!1,Of=0,Su=null,s)throw Error(r(300));a===null||Vn||(a=a.dependencies,a!==null&&cp(a)&&(Vn=!0))}function bO(a,s,u,d){mt=a;var y=0;do{if(wu&&(Su=null),Of=0,wu=!1,25<=y)throw Error(r(301));if(y+=1,Ln=en=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}H.H=t2,b=s(u,d)}while(wu);return b}function $U(){var a=H.H,s=a.useState()[0];return s=typeof s.then=="function"?Cf(s):s,a=a.useState()[0],(en!==null?en.memoizedState:null)!==a&&(mt.flags|=1024),s}function Kv(){var a=_p!==0;return _p=0,a}function Wv(a,s,u){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~u}function Yv(a){if(bp){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}bp=!1}Ha=0,Ln=en=mt=null,wu=!1,Of=_p=0,Su=null}function kr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ln===null?mt.memoizedState=Ln=a:Ln=Ln.next=a,Ln}function kn(){if(en===null){var a=mt.alternate;a=a!==null?a.memoizedState:null}else a=en.next;var s=Ln===null?mt.memoizedState:Ln.next;if(s!==null)Ln=s,en=a;else{if(a===null)throw mt.alternate===null?Error(r(467)):Error(r(310));en=a,a={memoizedState:en.memoizedState,baseState:en.baseState,baseQueue:en.baseQueue,queue:en.queue,next:null},Ln===null?mt.memoizedState=Ln=a:Ln=Ln.next=a}return Ln}function xp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cf(a){var s=Of;return Of+=1,Su===null&&(Su=[]),a=uO(Su,a,s),s=mt,(Ln===null?s.memoizedState:Ln.next)===null&&(s=s.alternate,H.H=s===null||s.memoizedState===null?e2:s0),a}function wp(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Cf(a);if(a.$$typeof===N)return cr(a)}throw Error(r(438,String(a)))}function Xv(a){var s=null,u=mt.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var d=mt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(s={data:d.data.map(function(y){return y.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=xp(),mt.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(a),d=0;d<a;d++)u[d]=U;return s.index++,u}function Ga(a,s){return typeof s=="function"?s(a):s}function Sp(a){var s=kn();return Qv(s,en,a)}function Qv(a,s,u){var d=a.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=u;var y=a.baseQueue,b=d.pending;if(b!==null){if(y!==null){var R=y.next;y.next=b.next,b.next=R}s.baseQueue=y=b,d.pending=null}if(b=a.baseState,y===null)a.memoizedState=b;else{s=y.next;var q=R=null,K=null,ae=s,fe=!1;do{var ge=ae.lane&-536870913;if(ge!==ae.lane?(Ot&ge)===ge:(Ha&ge)===ge){var oe=ae.revertLane;if(oe===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),ge===yu&&(fe=!0);else if((Ha&oe)===oe){ae=ae.next,oe===yu&&(fe=!0);continue}else ge={lane:0,revertLane:ae.revertLane,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},K===null?(q=K=ge,R=b):K=K.next=ge,mt.lanes|=oe,Go|=oe;ge=ae.action,rl&&u(b,ge),b=ae.hasEagerState?ae.eagerState:u(b,ge)}else oe={lane:ge,revertLane:ae.revertLane,gesture:ae.gesture,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},K===null?(q=K=oe,R=b):K=K.next=oe,mt.lanes|=ge,Go|=ge;ae=ae.next}while(ae!==null&&ae!==s);if(K===null?R=b:K.next=q,!Jr(b,a.memoizedState)&&(Vn=!0,fe&&(u=vu,u!==null)))throw u;a.memoizedState=b,a.baseState=R,a.baseQueue=K,d.lastRenderedState=b}return y===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function Jv(a){var s=kn(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var d=u.dispatch,y=u.pending,b=s.memoizedState;if(y!==null){u.pending=null;var R=y=y.next;do b=a(b,R.action),R=R.next;while(R!==y);Jr(b,s.memoizedState)||(Vn=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),u.lastRenderedState=b}return[b,d]}function _O(a,s,u){var d=mt,y=kn(),b=kt;if(b){if(u===void 0)throw Error(r(407));u=u()}else u=s();var R=!Jr((en||y).memoizedState,u);if(R&&(y.memoizedState=u,Vn=!0),y=y.queue,t0(SO.bind(null,d,y,a),[a]),y.getSnapshot!==s||R||Ln!==null&&Ln.memoizedState.tag&1){if(d.flags|=2048,Eu(9,{destroy:void 0},wO.bind(null,d,y,u,s),null),an===null)throw Error(r(349));b||(Ha&127)!==0||xO(d,s,u)}return u}function xO(a,s,u){a.flags|=16384,a={getSnapshot:s,value:u},s=mt.updateQueue,s===null?(s=xp(),mt.updateQueue=s,s.stores=[a]):(u=s.stores,u===null?s.stores=[a]:u.push(a))}function wO(a,s,u,d){s.value=u,s.getSnapshot=d,EO(s)&&TO(a)}function SO(a,s,u){return u(function(){EO(s)&&TO(a)})}function EO(a){var s=a.getSnapshot;a=a.value;try{var u=s();return!Jr(a,u)}catch{return!0}}function TO(a){var s=Ws(a,2);s!==null&&qr(s,a,2)}function Zv(a){var s=kr();if(typeof a=="function"){var u=a;if(a=u(),rl){Cn(!0);try{u()}finally{Cn(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:a},s}function AO(a,s,u,d){return a.baseState=u,Qv(a,en,typeof d=="function"?d:Ga)}function UU(a,s,u,d,y){if(Ap(a))throw Error(r(485));if(a=s.action,a!==null){var b={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){b.listeners.push(R)}};H.T!==null?u(!0):b.isTransition=!1,d(b),u=s.pending,u===null?(b.next=s.pending=b,OO(s,b)):(b.next=u.next,s.pending=u.next=b)}}function OO(a,s){var u=s.action,d=s.payload,y=a.state;if(s.isTransition){var b=H.T,R={};H.T=R;try{var q=u(y,d),K=H.S;K!==null&&K(R,q),CO(a,s,q)}catch(ae){e0(a,s,ae)}finally{b!==null&&R.types!==null&&(b.types=R.types),H.T=b}}else try{b=u(y,d),CO(a,s,b)}catch(ae){e0(a,s,ae)}}function CO(a,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){IO(a,s,d)},function(d){return e0(a,s,d)}):IO(a,s,u)}function IO(a,s,u){s.status="fulfilled",s.value=u,PO(s),a.state=u,s=a.pending,s!==null&&(u=s.next,u===s?a.pending=null:(u=u.next,s.next=u,OO(a,u)))}function e0(a,s,u){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do s.status="rejected",s.reason=u,PO(s),s=s.next;while(s!==d)}a.action=null}function PO(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function RO(a,s){return s}function NO(a,s){if(kt){var u=an.formState;if(u!==null){e:{var d=mt;if(kt){if(hn){t:{for(var y=hn,b=Ei;y.nodeType!==8;){if(!b){y=null;break t}if(y=Ai(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){hn=Ai(y.nextSibling),d=y.data==="F!";break e}}Lo(d)}d=!1}d&&(s=u[0])}}return u=kr(),u.memoizedState=u.baseState=s,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:RO,lastRenderedState:s},u.queue=d,u=QO.bind(null,mt,d),d.dispatch=u,d=Zv(!1),b=o0.bind(null,mt,!1,d.queue),d=kr(),y={state:s,dispatch:null,action:a,pending:null},d.queue=y,u=UU.bind(null,mt,y,b,u),y.dispatch=u,d.memoizedState=a,[s,u,!1]}function kO(a){var s=kn();return MO(s,en,a)}function MO(a,s,u){if(s=Qv(a,s,RO)[0],a=Sp(Ga)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var d=Cf(s)}catch(R){throw R===bu?dp:R}else d=s;s=kn();var y=s.queue,b=y.dispatch;return u!==s.memoizedState&&(mt.flags|=2048,Eu(9,{destroy:void 0},BU.bind(null,y,u),null)),[d,b,a]}function BU(a,s){a.action=s}function jO(a){var s=kn(),u=en;if(u!==null)return MO(s,u,a);kn(),s=s.memoizedState,u=kn();var d=u.queue.dispatch;return u.memoizedState=a,[s,d,!1]}function Eu(a,s,u,d){return a={tag:a,create:u,deps:d,inst:s,next:null},s=mt.updateQueue,s===null&&(s=xp(),mt.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=a.next=a:(d=u.next,u.next=a,a.next=d,s.lastEffect=a),a}function DO(){return kn().memoizedState}function Ep(a,s,u,d){var y=kr();mt.flags|=a,y.memoizedState=Eu(1|s,{destroy:void 0},u,d===void 0?null:d)}function Tp(a,s,u,d){var y=kn();d=d===void 0?null:d;var b=y.memoizedState.inst;en!==null&&d!==null&&Hv(d,en.memoizedState.deps)?y.memoizedState=Eu(s,b,u,d):(mt.flags|=a,y.memoizedState=Eu(1|s,b,u,d))}function LO(a,s){Ep(8390656,8,a,s)}function t0(a,s){Tp(2048,8,a,s)}function qU(a){mt.flags|=4;var s=mt.updateQueue;if(s===null)s=xp(),mt.updateQueue=s,s.events=[a];else{var u=s.events;u===null?s.events=[a]:u.push(a)}}function VO(a){var s=kn().memoizedState;return qU({ref:s,nextImpl:a}),function(){if((Gt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function $O(a,s){return Tp(4,2,a,s)}function UO(a,s){return Tp(4,4,a,s)}function BO(a,s){if(typeof s=="function"){a=a();var u=s(a);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function qO(a,s,u){u=u!=null?u.concat([a]):null,Tp(4,4,BO.bind(null,s,a),u)}function n0(){}function zO(a,s){var u=kn();s=s===void 0?null:s;var d=u.memoizedState;return s!==null&&Hv(s,d[1])?d[0]:(u.memoizedState=[a,s],a)}function FO(a,s){var u=kn();s=s===void 0?null:s;var d=u.memoizedState;if(s!==null&&Hv(s,d[1]))return d[0];if(d=a(),rl){Cn(!0);try{a()}finally{Cn(!1)}}return u.memoizedState=[d,s],d}function r0(a,s,u){return u===void 0||(Ha&1073741824)!==0&&(Ot&261930)===0?a.memoizedState=s:(a.memoizedState=u,a=H2(),mt.lanes|=a,Go|=a,u)}function HO(a,s,u,d){return Jr(u,s)?u:xu.current!==null?(a=r0(a,u,d),Jr(a,s)||(Vn=!0),a):(Ha&42)===0||(Ha&1073741824)!==0&&(Ot&261930)===0?(Vn=!0,a.memoizedState=u):(a=H2(),mt.lanes|=a,Go|=a,s)}function GO(a,s,u,d,y){var b=Y.p;Y.p=b!==0&&8>b?b:8;var R=H.T,q={};H.T=q,o0(a,!1,s,u);try{var K=y(),ae=H.S;if(ae!==null&&ae(q,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var fe=LU(K,d);If(a,s,fe,ii(a))}else If(a,s,d,ii(a))}catch(ge){If(a,s,{then:function(){},status:"rejected",reason:ge},ii())}finally{Y.p=b,R!==null&&q.types!==null&&(R.types=q.types),H.T=R}}function zU(){}function i0(a,s,u,d){if(a.tag!==5)throw Error(r(476));var y=KO(a).queue;GO(a,y,s,ee,u===null?zU:function(){return WO(a),u(d)})}function KO(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:ee},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:u},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function WO(a){var s=KO(a);s.next===null&&(s=a.alternate.memoizedState),If(a,s.next.queue,{},ii())}function a0(){return cr(Gf)}function YO(){return kn().memoizedState}function XO(){return kn().memoizedState}function FU(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var u=ii();a=Uo(u);var d=Bo(s,a,u);d!==null&&(qr(d,s,u),Ef(d,s,u)),s={cache:Mv()},a.payload=s;return}s=s.return}}function HU(a,s,u){var d=ii();u={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ap(a)?JO(s,u):(u=Sv(a,s,u,d),u!==null&&(qr(u,a,d),ZO(u,s,d)))}function QO(a,s,u){var d=ii();If(a,s,u,d)}function If(a,s,u,d){var y={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Ap(a))JO(s,y);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var R=s.lastRenderedState,q=b(R,u);if(y.hasEagerState=!0,y.eagerState=q,Jr(q,R))return op(a,s,y,0),an===null&&ap(),!1}catch{}finally{}if(u=Sv(a,s,y,d),u!==null)return qr(u,a,d),ZO(u,s,d),!0}return!1}function o0(a,s,u,d){if(d={lane:2,revertLane:V0(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Ap(a)){if(s)throw Error(r(479))}else s=Sv(a,u,d,2),s!==null&&qr(s,a,2)}function Ap(a){var s=a.alternate;return a===mt||s!==null&&s===mt}function JO(a,s){wu=bp=!0;var u=a.pending;u===null?s.next=s:(s.next=u.next,u.next=s),a.pending=s}function ZO(a,s,u){if((u&4194048)!==0){var d=s.lanes;d&=a.pendingLanes,u|=d,s.lanes=u,Ns(a,u)}}var Pf={readContext:cr,use:wp,useCallback:En,useContext:En,useEffect:En,useImperativeHandle:En,useLayoutEffect:En,useInsertionEffect:En,useMemo:En,useReducer:En,useRef:En,useState:En,useDebugValue:En,useDeferredValue:En,useTransition:En,useSyncExternalStore:En,useId:En,useHostTransitionStatus:En,useFormState:En,useActionState:En,useOptimistic:En,useMemoCache:En,useCacheRefresh:En};Pf.useEffectEvent=En;var e2={readContext:cr,use:wp,useCallback:function(a,s){return kr().memoizedState=[a,s===void 0?null:s],a},useContext:cr,useEffect:LO,useImperativeHandle:function(a,s,u){u=u!=null?u.concat([a]):null,Ep(4194308,4,BO.bind(null,s,a),u)},useLayoutEffect:function(a,s){return Ep(4194308,4,a,s)},useInsertionEffect:function(a,s){Ep(4,2,a,s)},useMemo:function(a,s){var u=kr();s=s===void 0?null:s;var d=a();if(rl){Cn(!0);try{a()}finally{Cn(!1)}}return u.memoizedState=[d,s],d},useReducer:function(a,s,u){var d=kr();if(u!==void 0){var y=u(s);if(rl){Cn(!0);try{u(s)}finally{Cn(!1)}}}else y=s;return d.memoizedState=d.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},d.queue=a,a=a.dispatch=HU.bind(null,mt,a),[d.memoizedState,a]},useRef:function(a){var s=kr();return a={current:a},s.memoizedState=a},useState:function(a){a=Zv(a);var s=a.queue,u=QO.bind(null,mt,s);return s.dispatch=u,[a.memoizedState,u]},useDebugValue:n0,useDeferredValue:function(a,s){var u=kr();return r0(u,a,s)},useTransition:function(){var a=Zv(!1);return a=GO.bind(null,mt,a.queue,!0,!1),kr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,u){var d=mt,y=kr();if(kt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=s(),an===null)throw Error(r(349));(Ot&127)!==0||xO(d,s,u)}y.memoizedState=u;var b={value:u,getSnapshot:s};return y.queue=b,LO(SO.bind(null,d,b,a),[a]),d.flags|=2048,Eu(9,{destroy:void 0},wO.bind(null,d,b,u,s),null),u},useId:function(){var a=kr(),s=an.identifierPrefix;if(kt){var u=ma,d=pa;u=(d&~(1<<32-qt(d)-1)).toString(32)+u,s="_"+s+"R_"+u,u=_p++,0<u&&(s+="H"+u.toString(32)),s+="_"}else u=VU++,s="_"+s+"r_"+u.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:a0,useFormState:NO,useActionState:NO,useOptimistic:function(a){var s=kr();s.memoizedState=s.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=o0.bind(null,mt,!0,u),u.dispatch=s,[a,s]},useMemoCache:Xv,useCacheRefresh:function(){return kr().memoizedState=FU.bind(null,mt)},useEffectEvent:function(a){var s=kr(),u={impl:a};return s.memoizedState=u,function(){if((Gt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},s0={readContext:cr,use:wp,useCallback:zO,useContext:cr,useEffect:t0,useImperativeHandle:qO,useInsertionEffect:$O,useLayoutEffect:UO,useMemo:FO,useReducer:Sp,useRef:DO,useState:function(){return Sp(Ga)},useDebugValue:n0,useDeferredValue:function(a,s){var u=kn();return HO(u,en.memoizedState,a,s)},useTransition:function(){var a=Sp(Ga)[0],s=kn().memoizedState;return[typeof a=="boolean"?a:Cf(a),s]},useSyncExternalStore:_O,useId:YO,useHostTransitionStatus:a0,useFormState:kO,useActionState:kO,useOptimistic:function(a,s){var u=kn();return AO(u,en,a,s)},useMemoCache:Xv,useCacheRefresh:XO};s0.useEffectEvent=VO;var t2={readContext:cr,use:wp,useCallback:zO,useContext:cr,useEffect:t0,useImperativeHandle:qO,useInsertionEffect:$O,useLayoutEffect:UO,useMemo:FO,useReducer:Jv,useRef:DO,useState:function(){return Jv(Ga)},useDebugValue:n0,useDeferredValue:function(a,s){var u=kn();return en===null?r0(u,a,s):HO(u,en.memoizedState,a,s)},useTransition:function(){var a=Jv(Ga)[0],s=kn().memoizedState;return[typeof a=="boolean"?a:Cf(a),s]},useSyncExternalStore:_O,useId:YO,useHostTransitionStatus:a0,useFormState:jO,useActionState:jO,useOptimistic:function(a,s){var u=kn();return en!==null?AO(u,en,a,s):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:Xv,useCacheRefresh:XO};t2.useEffectEvent=VO;function l0(a,s,u,d){s=a.memoizedState,u=u(d,s),u=u==null?s:m({},s,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var u0={enqueueSetState:function(a,s,u){a=a._reactInternals;var d=ii(),y=Uo(d);y.payload=s,u!=null&&(y.callback=u),s=Bo(a,y,d),s!==null&&(qr(s,a,d),Ef(s,a,d))},enqueueReplaceState:function(a,s,u){a=a._reactInternals;var d=ii(),y=Uo(d);y.tag=1,y.payload=s,u!=null&&(y.callback=u),s=Bo(a,y,d),s!==null&&(qr(s,a,d),Ef(s,a,d))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var u=ii(),d=Uo(u);d.tag=2,s!=null&&(d.callback=s),s=Bo(a,d,u),s!==null&&(qr(s,a,u),Ef(s,a,u))}};function n2(a,s,u,d,y,b,R){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,b,R):s.prototype&&s.prototype.isPureReactComponent?!gf(u,d)||!gf(y,b):!0}function r2(a,s,u,d){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,d),s.state!==a&&u0.enqueueReplaceState(s,s.state,null)}function il(a,s){var u=s;if("ref"in s){u={};for(var d in s)d!=="ref"&&(u[d]=s[d])}if(a=a.defaultProps){u===s&&(u=m({},u));for(var y in a)u[y]===void 0&&(u[y]=a[y])}return u}function i2(a){ip(a)}function a2(a){console.error(a)}function o2(a){ip(a)}function Op(a,s){try{var u=a.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(d){setTimeout(function(){throw d})}}function s2(a,s,u){try{var d=a.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function c0(a,s,u){return u=Uo(u),u.tag=3,u.payload={element:null},u.callback=function(){Op(a,s)},u}function l2(a){return a=Uo(a),a.tag=3,a}function u2(a,s,u,d){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var b=d.value;a.payload=function(){return y(b)},a.callback=function(){s2(s,u,d)}}var R=u.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(a.callback=function(){s2(s,u,d),typeof y!="function"&&(Ko===null?Ko=new Set([this]):Ko.add(this));var q=d.stack;this.componentDidCatch(d.value,{componentStack:q!==null?q:""})})}function GU(a,s,u,d,y){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(s=u.alternate,s!==null&&gu(s,u,y,!0),u=ei.current,u!==null){switch(u.tag){case 31:case 13:return Ti===null?$p():u.alternate===null&&Tn===0&&(Tn=3),u.flags&=-257,u.flags|=65536,u.lanes=y,d===pp?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([d]):s.add(d),j0(a,d,y)),!1;case 22:return u.flags|=65536,d===pp?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([d]):u.add(d)),j0(a,d,y)),!1}throw Error(r(435,u.tag))}return j0(a,d,y),$p(),!1}if(kt)return s=ei.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=y,d!==Iv&&(a=Error(r(422),{cause:d}),bf(xi(a,u)))):(d!==Iv&&(s=Error(r(423),{cause:d}),bf(xi(s,u))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,d=xi(d,u),y=c0(a.stateNode,d,y),Uv(a,y),Tn!==4&&(Tn=2)),!1;var b=Error(r(520),{cause:d});if(b=xi(b,u),Vf===null?Vf=[b]:Vf.push(b),Tn!==4&&(Tn=2),s===null)return!0;d=xi(d,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,a=y&-y,u.lanes|=a,a=c0(u.stateNode,d,a),Uv(u,a),!1;case 1:if(s=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ko===null||!Ko.has(b))))return u.flags|=65536,y&=-y,u.lanes|=y,y=l2(y),u2(y,a,u,d),Uv(u,y),!1}u=u.return}while(u!==null);return!1}var f0=Error(r(461)),Vn=!1;function fr(a,s,u,d){s.child=a===null?dO(s,null,u,d):nl(s,a.child,u,d)}function c2(a,s,u,d,y){u=u.render;var b=s.ref;if("ref"in d){var R={};for(var q in d)q!=="ref"&&(R[q]=d[q])}else R=d;return Js(s),d=Gv(a,s,u,R,b,y),q=Kv(),a!==null&&!Vn?(Wv(a,s,y),Ka(a,s,y)):(kt&&q&&Ov(s),s.flags|=1,fr(a,s,d,y),s.child)}function f2(a,s,u,d,y){if(a===null){var b=u.type;return typeof b=="function"&&!Ev(b)&&b.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=b,h2(a,s,b,d,y)):(a=lp(u.type,null,d,s,s.mode,y),a.ref=s.ref,a.return=s,s.child=a)}if(b=a.child,!b0(a,y)){var R=b.memoizedProps;if(u=u.compare,u=u!==null?u:gf,u(R,d)&&a.ref===s.ref)return Ka(a,s,y)}return s.flags|=1,a=Ba(b,d),a.ref=s.ref,a.return=s,s.child=a}function h2(a,s,u,d,y){if(a!==null){var b=a.memoizedProps;if(gf(b,d)&&a.ref===s.ref)if(Vn=!1,s.pendingProps=d=b,b0(a,y))(a.flags&131072)!==0&&(Vn=!0);else return s.lanes=a.lanes,Ka(a,s,y)}return h0(a,s,u,d,y)}function d2(a,s,u,d){var y=d.children,b=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((s.flags&128)!==0){if(b=b!==null?b.baseLanes|u:u,a!==null){for(d=s.child=a.child,y=0;d!==null;)y=y|d.lanes|d.childLanes,d=d.sibling;d=y&~b}else d=0,s.child=null;return p2(a,s,b,u,d)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&hp(s,b!==null?b.cachePool:null),b!==null?gO(s,b):qv(),yO(s);else return d=s.lanes=536870912,p2(a,s,b!==null?b.baseLanes|u:u,u,d)}else b!==null?(hp(s,b.cachePool),gO(s,b),zo(),s.memoizedState=null):(a!==null&&hp(s,null),qv(),zo());return fr(a,s,y,u),s.child}function Rf(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function p2(a,s,u,d,y){var b=Dv();return b=b===null?null:{parent:Dn._currentValue,pool:b},s.memoizedState={baseLanes:u,cachePool:b},a!==null&&hp(s,null),qv(),yO(s),a!==null&&gu(a,s,d,!0),s.childLanes=y,null}function Cp(a,s){return s=Pp({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function m2(a,s,u){return nl(s,a.child,null,u),a=Cp(s,s.pendingProps),a.flags|=2,ti(s),s.memoizedState=null,a}function KU(a,s,u){var d=s.pendingProps,y=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(kt){if(d.mode==="hidden")return a=Cp(s,d),s.lanes=536870912,Rf(null,a);if(Fv(s),(a=hn)?(a=OC(a,Ei),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:jo!==null?{id:pa,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},u=JA(a),u.return=s,s.child=u,ur=s,hn=null)):a=null,a===null)throw Lo(s);return s.lanes=536870912,null}return Cp(s,d)}var b=a.memoizedState;if(b!==null){var R=b.dehydrated;if(Fv(s),y)if(s.flags&256)s.flags&=-257,s=m2(a,s,u);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(r(558));else if(Vn||gu(a,s,u,!1),y=(u&a.childLanes)!==0,Vn||y){if(d=an,d!==null&&(R=ks(d,u),R!==0&&R!==b.retryLane))throw b.retryLane=R,Ws(a,R),qr(d,a,R),f0;$p(),s=m2(a,s,u)}else a=b.treeContext,hn=Ai(R.nextSibling),ur=s,kt=!0,Do=null,Ei=!1,a!==null&&tO(s,a),s=Cp(s,d),s.flags|=4096;return s}return a=Ba(a.child,{mode:d.mode,children:d.children}),a.ref=s.ref,s.child=a,a.return=s,a}function Ip(a,s){var u=s.ref;if(u===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(s.flags|=4194816)}}function h0(a,s,u,d,y){return Js(s),u=Gv(a,s,u,d,void 0,y),d=Kv(),a!==null&&!Vn?(Wv(a,s,y),Ka(a,s,y)):(kt&&d&&Ov(s),s.flags|=1,fr(a,s,u,y),s.child)}function g2(a,s,u,d,y,b){return Js(s),s.updateQueue=null,u=bO(s,d,u,y),vO(a),d=Kv(),a!==null&&!Vn?(Wv(a,s,b),Ka(a,s,b)):(kt&&d&&Ov(s),s.flags|=1,fr(a,s,u,b),s.child)}function y2(a,s,u,d,y){if(Js(s),s.stateNode===null){var b=hu,R=u.contextType;typeof R=="object"&&R!==null&&(b=cr(R)),b=new u(d,b),s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=u0,s.stateNode=b,b._reactInternals=s,b=s.stateNode,b.props=d,b.state=s.memoizedState,b.refs={},Vv(s),R=u.contextType,b.context=typeof R=="object"&&R!==null?cr(R):hu,b.state=s.memoizedState,R=u.getDerivedStateFromProps,typeof R=="function"&&(l0(s,u,R,d),b.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(R=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),R!==b.state&&u0.enqueueReplaceState(b,b.state,null),Af(s,d,b,y),Tf(),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308),d=!0}else if(a===null){b=s.stateNode;var q=s.memoizedProps,K=il(u,q);b.props=K;var ae=b.context,fe=u.contextType;R=hu,typeof fe=="object"&&fe!==null&&(R=cr(fe));var ge=u.getDerivedStateFromProps;fe=typeof ge=="function"||typeof b.getSnapshotBeforeUpdate=="function",q=s.pendingProps!==q,fe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(q||ae!==R)&&r2(s,b,d,R),$o=!1;var oe=s.memoizedState;b.state=oe,Af(s,d,b,y),Tf(),ae=s.memoizedState,q||oe!==ae||$o?(typeof ge=="function"&&(l0(s,u,ge,d),ae=s.memoizedState),(K=$o||n2(s,u,K,d,oe,ae,R))?(fe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=ae),b.props=d,b.state=ae,b.context=R,d=K):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{b=s.stateNode,$v(a,s),R=s.memoizedProps,fe=il(u,R),b.props=fe,ge=s.pendingProps,oe=b.context,ae=u.contextType,K=hu,typeof ae=="object"&&ae!==null&&(K=cr(ae)),q=u.getDerivedStateFromProps,(ae=typeof q=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(R!==ge||oe!==K)&&r2(s,b,d,K),$o=!1,oe=s.memoizedState,b.state=oe,Af(s,d,b,y),Tf();var ue=s.memoizedState;R!==ge||oe!==ue||$o||a!==null&&a.dependencies!==null&&cp(a.dependencies)?(typeof q=="function"&&(l0(s,u,q,d),ue=s.memoizedState),(fe=$o||n2(s,u,fe,d,oe,ue,K)||a!==null&&a.dependencies!==null&&cp(a.dependencies))?(ae||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,ue,K),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,ue,K)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||R===a.memoizedProps&&oe===a.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||R===a.memoizedProps&&oe===a.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=ue),b.props=d,b.state=ue,b.context=K,d=fe):(typeof b.componentDidUpdate!="function"||R===a.memoizedProps&&oe===a.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||R===a.memoizedProps&&oe===a.memoizedState||(s.flags|=1024),d=!1)}return b=d,Ip(a,s),d=(s.flags&128)!==0,b||d?(b=s.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:b.render(),s.flags|=1,a!==null&&d?(s.child=nl(s,a.child,null,y),s.child=nl(s,null,u,y)):fr(a,s,u,y),s.memoizedState=b.state,a=s.child):a=Ka(a,s,y),a}function v2(a,s,u,d){return Xs(),s.flags|=256,fr(a,s,u,d),s.child}var d0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function p0(a){return{baseLanes:a,cachePool:sO()}}function m0(a,s,u){return a=a!==null?a.childLanes&~u:0,s&&(a|=ri),a}function b2(a,s,u){var d=s.pendingProps,y=!1,b=(s.flags&128)!==0,R;if((R=b)||(R=a!==null&&a.memoizedState===null?!1:(Nn.current&2)!==0),R&&(y=!0,s.flags&=-129),R=(s.flags&32)!==0,s.flags&=-33,a===null){if(kt){if(y?qo(s):zo(),(a=hn)?(a=OC(a,Ei),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:jo!==null?{id:pa,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},u=JA(a),u.return=s,s.child=u,ur=s,hn=null)):a=null,a===null)throw Lo(s);return Q0(a)?s.lanes=32:s.lanes=536870912,null}var q=d.children;return d=d.fallback,y?(zo(),y=s.mode,q=Pp({mode:"hidden",children:q},y),d=Ys(d,y,u,null),q.return=s,d.return=s,q.sibling=d,s.child=q,d=s.child,d.memoizedState=p0(u),d.childLanes=m0(a,R,u),s.memoizedState=d0,Rf(null,d)):(qo(s),g0(s,q))}var K=a.memoizedState;if(K!==null&&(q=K.dehydrated,q!==null)){if(b)s.flags&256?(qo(s),s.flags&=-257,s=y0(a,s,u)):s.memoizedState!==null?(zo(),s.child=a.child,s.flags|=128,s=null):(zo(),q=d.fallback,y=s.mode,d=Pp({mode:"visible",children:d.children},y),q=Ys(q,y,u,null),q.flags|=2,d.return=s,q.return=s,d.sibling=q,s.child=d,nl(s,a.child,null,u),d=s.child,d.memoizedState=p0(u),d.childLanes=m0(a,R,u),s.memoizedState=d0,s=Rf(null,d));else if(qo(s),Q0(q)){if(R=q.nextSibling&&q.nextSibling.dataset,R)var ae=R.dgst;R=ae,d=Error(r(419)),d.stack="",d.digest=R,bf({value:d,source:null,stack:null}),s=y0(a,s,u)}else if(Vn||gu(a,s,u,!1),R=(u&a.childLanes)!==0,Vn||R){if(R=an,R!==null&&(d=ks(R,u),d!==0&&d!==K.retryLane))throw K.retryLane=d,Ws(a,d),qr(R,a,d),f0;X0(q)||$p(),s=y0(a,s,u)}else X0(q)?(s.flags|=192,s.child=a.child,s=null):(a=K.treeContext,hn=Ai(q.nextSibling),ur=s,kt=!0,Do=null,Ei=!1,a!==null&&tO(s,a),s=g0(s,d.children),s.flags|=4096);return s}return y?(zo(),q=d.fallback,y=s.mode,K=a.child,ae=K.sibling,d=Ba(K,{mode:"hidden",children:d.children}),d.subtreeFlags=K.subtreeFlags&65011712,ae!==null?q=Ba(ae,q):(q=Ys(q,y,u,null),q.flags|=2),q.return=s,d.return=s,d.sibling=q,s.child=d,Rf(null,d),d=s.child,q=a.child.memoizedState,q===null?q=p0(u):(y=q.cachePool,y!==null?(K=Dn._currentValue,y=y.parent!==K?{parent:K,pool:K}:y):y=sO(),q={baseLanes:q.baseLanes|u,cachePool:y}),d.memoizedState=q,d.childLanes=m0(a,R,u),s.memoizedState=d0,Rf(a.child,d)):(qo(s),u=a.child,a=u.sibling,u=Ba(u,{mode:"visible",children:d.children}),u.return=s,u.sibling=null,a!==null&&(R=s.deletions,R===null?(s.deletions=[a],s.flags|=16):R.push(a)),s.child=u,s.memoizedState=null,u)}function g0(a,s){return s=Pp({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function Pp(a,s){return a=Zr(22,a,null,s),a.lanes=0,a}function y0(a,s,u){return nl(s,a.child,null,u),a=g0(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function _2(a,s,u){a.lanes|=s;var d=a.alternate;d!==null&&(d.lanes|=s),Nv(a.return,s,u)}function v0(a,s,u,d,y,b){var R=a.memoizedState;R===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:y,treeForkCount:b}:(R.isBackwards=s,R.rendering=null,R.renderingStartTime=0,R.last=d,R.tail=u,R.tailMode=y,R.treeForkCount=b)}function x2(a,s,u){var d=s.pendingProps,y=d.revealOrder,b=d.tail;d=d.children;var R=Nn.current,q=(R&2)!==0;if(q?(R=R&1|2,s.flags|=128):R&=1,se(Nn,R),fr(a,s,d,u),d=kt?vf:0,!q&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&_2(a,u,s);else if(a.tag===19)_2(a,u,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(u=s.child,y=null;u!==null;)a=u.alternate,a!==null&&vp(a)===null&&(y=u),u=u.sibling;u=y,u===null?(y=s.child,s.child=null):(y=u.sibling,u.sibling=null),v0(s,!1,y,u,b,d);break;case"backwards":case"unstable_legacy-backwards":for(u=null,y=s.child,s.child=null;y!==null;){if(a=y.alternate,a!==null&&vp(a)===null){s.child=y;break}a=y.sibling,y.sibling=u,u=y,y=a}v0(s,!0,u,null,b,d);break;case"together":v0(s,!1,null,null,void 0,d);break;default:s.memoizedState=null}return s.child}function Ka(a,s,u){if(a!==null&&(s.dependencies=a.dependencies),Go|=s.lanes,(u&s.childLanes)===0)if(a!==null){if(gu(a,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,u=Ba(a,a.pendingProps),s.child=u,u.return=s;a.sibling!==null;)a=a.sibling,u=u.sibling=Ba(a,a.pendingProps),u.return=s;u.sibling=null}return s.child}function b0(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&cp(a)))}function WU(a,s,u){switch(s.tag){case 3:De(s,s.stateNode.containerInfo),Vo(s,Dn,a.memoizedState.cache),Xs();break;case 27:case 5:Re(s);break;case 4:De(s,s.stateNode.containerInfo);break;case 10:Vo(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Fv(s),null;break;case 13:var d=s.memoizedState;if(d!==null)return d.dehydrated!==null?(qo(s),s.flags|=128,null):(u&s.child.childLanes)!==0?b2(a,s,u):(qo(s),a=Ka(a,s,u),a!==null?a.sibling:null);qo(s);break;case 19:var y=(a.flags&128)!==0;if(d=(u&s.childLanes)!==0,d||(gu(a,s,u,!1),d=(u&s.childLanes)!==0),y){if(d)return x2(a,s,u);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),se(Nn,Nn.current),d)break;return null;case 22:return s.lanes=0,d2(a,s,u,s.pendingProps);case 24:Vo(s,Dn,a.memoizedState.cache)}return Ka(a,s,u)}function w2(a,s,u){if(a!==null)if(a.memoizedProps!==s.pendingProps)Vn=!0;else{if(!b0(a,u)&&(s.flags&128)===0)return Vn=!1,WU(a,s,u);Vn=(a.flags&131072)!==0}else Vn=!1,kt&&(s.flags&1048576)!==0&&eO(s,vf,s.index);switch(s.lanes=0,s.tag){case 16:e:{var d=s.pendingProps;if(a=el(s.elementType),s.type=a,typeof a=="function")Ev(a)?(d=il(a,d),s.tag=1,s=y2(null,s,a,d,u)):(s.tag=0,s=h0(null,s,a,d,u));else{if(a!=null){var y=a.$$typeof;if(y===L){s.tag=11,s=c2(null,s,a,d,u);break e}else if(y===A){s.tag=14,s=f2(null,s,a,d,u);break e}}throw s=Q(a)||a,Error(r(306,s,""))}}return s;case 0:return h0(a,s,s.type,s.pendingProps,u);case 1:return d=s.type,y=il(d,s.pendingProps),y2(a,s,d,y,u);case 3:e:{if(De(s,s.stateNode.containerInfo),a===null)throw Error(r(387));d=s.pendingProps;var b=s.memoizedState;y=b.element,$v(a,s),Af(s,d,null,u);var R=s.memoizedState;if(d=R.cache,Vo(s,Dn,d),d!==b.cache&&kv(s,[Dn],u,!0),Tf(),d=R.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:R.cache},s.updateQueue.baseState=b,s.memoizedState=b,s.flags&256){s=v2(a,s,d,u);break e}else if(d!==y){y=xi(Error(r(424)),s),bf(y),s=v2(a,s,d,u);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(hn=Ai(a.firstChild),ur=s,kt=!0,Do=null,Ei=!0,u=dO(s,null,d,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Xs(),d===y){s=Ka(a,s,u);break e}fr(a,s,d,u)}s=s.child}return s;case 26:return Ip(a,s),a===null?(u=kC(s.type,null,s.pendingProps,null))?s.memoizedState=u:kt||(u=s.type,a=s.pendingProps,d=Gp(xe.current).createElement(u),d[In]=s,d[Pn]=a,hr(d,u,a),_n(d),s.stateNode=d):s.memoizedState=kC(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return Re(s),a===null&&kt&&(d=s.stateNode=PC(s.type,s.pendingProps,xe.current),ur=s,Ei=!0,y=hn,Qo(s.type)?(J0=y,hn=Ai(d.firstChild)):hn=y),fr(a,s,s.pendingProps.children,u),Ip(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&kt&&((y=d=hn)&&(d=EB(d,s.type,s.pendingProps,Ei),d!==null?(s.stateNode=d,ur=s,hn=Ai(d.firstChild),Ei=!1,y=!0):y=!1),y||Lo(s)),Re(s),y=s.type,b=s.pendingProps,R=a!==null?a.memoizedProps:null,d=b.children,K0(y,b)?d=null:R!==null&&K0(y,R)&&(s.flags|=32),s.memoizedState!==null&&(y=Gv(a,s,$U,null,null,u),Gf._currentValue=y),Ip(a,s),fr(a,s,d,u),s.child;case 6:return a===null&&kt&&((a=u=hn)&&(u=TB(u,s.pendingProps,Ei),u!==null?(s.stateNode=u,ur=s,hn=null,a=!0):a=!1),a||Lo(s)),null;case 13:return b2(a,s,u);case 4:return De(s,s.stateNode.containerInfo),d=s.pendingProps,a===null?s.child=nl(s,null,d,u):fr(a,s,d,u),s.child;case 11:return c2(a,s,s.type,s.pendingProps,u);case 7:return fr(a,s,s.pendingProps,u),s.child;case 8:return fr(a,s,s.pendingProps.children,u),s.child;case 12:return fr(a,s,s.pendingProps.children,u),s.child;case 10:return d=s.pendingProps,Vo(s,s.type,d.value),fr(a,s,d.children,u),s.child;case 9:return y=s.type._context,d=s.pendingProps.children,Js(s),y=cr(y),d=d(y),s.flags|=1,fr(a,s,d,u),s.child;case 14:return f2(a,s,s.type,s.pendingProps,u);case 15:return h2(a,s,s.type,s.pendingProps,u);case 19:return x2(a,s,u);case 31:return KU(a,s,u);case 22:return d2(a,s,u,s.pendingProps);case 24:return Js(s),d=cr(Dn),a===null?(y=Dv(),y===null&&(y=an,b=Mv(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=u),y=b),s.memoizedState={parent:d,cache:y},Vv(s),Vo(s,Dn,y)):((a.lanes&u)!==0&&($v(a,s),Af(s,null,null,u),Tf()),y=a.memoizedState,b=s.memoizedState,y.parent!==d?(y={parent:d,cache:d},s.memoizedState=y,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=y),Vo(s,Dn,d)):(d=b.cache,Vo(s,Dn,d),d!==y.cache&&kv(s,[Dn],u,!0))),fr(a,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Wa(a){a.flags|=4}function _0(a,s,u,d,y){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(Y2())a.flags|=8192;else throw tl=pp,Lv}else a.flags&=-16777217}function S2(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!VC(s))if(Y2())a.flags|=8192;else throw tl=pp,Lv}function Rp(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?Di():536870912,a.lanes|=s,Cu|=s)}function Nf(a,s){if(!kt)switch(a.tailMode){case"hidden":s=a.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function dn(a){var s=a.alternate!==null&&a.alternate.child===a.child,u=0,d=0;if(s)for(var y=a.child;y!==null;)u|=y.lanes|y.childLanes,d|=y.subtreeFlags&65011712,d|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)u|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=d,a.childLanes=u,s}function YU(a,s,u){var d=s.pendingProps;switch(Cv(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(s),null;case 1:return dn(s),null;case 3:return u=s.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),Fa(Dn),ye(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(mu(s)?Wa(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Pv())),dn(s),null;case 26:var y=s.type,b=s.memoizedState;return a===null?(Wa(s),b!==null?(dn(s),S2(s,b)):(dn(s),_0(s,y,null,d,u))):b?b!==a.memoizedState?(Wa(s),dn(s),S2(s,b)):(dn(s),s.flags&=-16777217):(a=a.memoizedProps,a!==d&&Wa(s),dn(s),_0(s,y,a,d,u)),null;case 27:if($e(s),u=xe.current,y=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==d&&Wa(s);else{if(!d){if(s.stateNode===null)throw Error(r(166));return dn(s),null}a=me.current,mu(s)?nO(s):(a=PC(y,d,u),s.stateNode=a,Wa(s))}return dn(s),null;case 5:if($e(s),y=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==d&&Wa(s);else{if(!d){if(s.stateNode===null)throw Error(r(166));return dn(s),null}if(b=me.current,mu(s))nO(s);else{var R=Gp(xe.current);switch(b){case 1:b=R.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:b=R.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":b=R.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":b=R.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":b=R.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof d.is=="string"?R.createElement("select",{is:d.is}):R.createElement("select"),d.multiple?b.multiple=!0:d.size&&(b.size=d.size);break;default:b=typeof d.is=="string"?R.createElement(y,{is:d.is}):R.createElement(y)}}b[In]=s,b[Pn]=d;e:for(R=s.child;R!==null;){if(R.tag===5||R.tag===6)b.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===s)break e;for(;R.sibling===null;){if(R.return===null||R.return===s)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}s.stateNode=b;e:switch(hr(b,y,d),y){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Wa(s)}}return dn(s),_0(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,u),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==d&&Wa(s);else{if(typeof d!="string"&&s.stateNode===null)throw Error(r(166));if(a=xe.current,mu(s)){if(a=s.stateNode,u=s.memoizedProps,d=null,y=ur,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}a[In]=s,a=!!(a.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||bC(a.nodeValue,u)),a||Lo(s,!0)}else a=Gp(a).createTextNode(d),a[In]=s,s.stateNode=a}return dn(s),null;case 31:if(u=s.memoizedState,a===null||a.memoizedState!==null){if(d=mu(s),u!==null){if(a===null){if(!d)throw Error(r(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[In]=s}else Xs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;dn(s),a=!1}else u=Pv(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return s.flags&256?(ti(s),s):(ti(s),null);if((s.flags&128)!==0)throw Error(r(558))}return dn(s),null;case 13:if(d=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=mu(s),d!==null&&d.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[In]=s}else Xs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;dn(s),y=!1}else y=Pv(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return s.flags&256?(ti(s),s):(ti(s),null)}return ti(s),(s.flags&128)!==0?(s.lanes=u,s):(u=d!==null,a=a!==null&&a.memoizedState!==null,u&&(d=s.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool),b=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==y&&(d.flags|=2048)),u!==a&&u&&(s.child.flags|=8192),Rp(s,s.updateQueue),dn(s),null);case 4:return ye(),a===null&&q0(s.stateNode.containerInfo),dn(s),null;case 10:return Fa(s.type),dn(s),null;case 19:if(W(Nn),d=s.memoizedState,d===null)return dn(s),null;if(y=(s.flags&128)!==0,b=d.rendering,b===null)if(y)Nf(d,!1);else{if(Tn!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(b=vp(a),b!==null){for(s.flags|=128,Nf(d,!1),a=b.updateQueue,s.updateQueue=a,Rp(s,a),s.subtreeFlags=0,a=u,u=s.child;u!==null;)QA(u,a),u=u.sibling;return se(Nn,Nn.current&1|2),kt&&qa(s,d.treeForkCount),s.child}a=a.sibling}d.tail!==null&&Ae()>Dp&&(s.flags|=128,y=!0,Nf(d,!1),s.lanes=4194304)}else{if(!y)if(a=vp(b),a!==null){if(s.flags|=128,y=!0,a=a.updateQueue,s.updateQueue=a,Rp(s,a),Nf(d,!0),d.tail===null&&d.tailMode==="hidden"&&!b.alternate&&!kt)return dn(s),null}else 2*Ae()-d.renderingStartTime>Dp&&u!==536870912&&(s.flags|=128,y=!0,Nf(d,!1),s.lanes=4194304);d.isBackwards?(b.sibling=s.child,s.child=b):(a=d.last,a!==null?a.sibling=b:s.child=b,d.last=b)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=Ae(),a.sibling=null,u=Nn.current,se(Nn,y?u&1|2:u&1),kt&&qa(s,d.treeForkCount),a):(dn(s),null);case 22:case 23:return ti(s),zv(),d=s.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(s.flags|=8192):d&&(s.flags|=8192),d?(u&536870912)!==0&&(s.flags&128)===0&&(dn(s),s.subtreeFlags&6&&(s.flags|=8192)):dn(s),u=s.updateQueue,u!==null&&Rp(s,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==u&&(s.flags|=2048),a!==null&&W(Zs),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Fa(Dn),dn(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function XU(a,s){switch(Cv(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return Fa(Dn),ye(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return $e(s),null;case 31:if(s.memoizedState!==null){if(ti(s),s.alternate===null)throw Error(r(340));Xs()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(ti(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Xs()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return W(Nn),null;case 4:return ye(),null;case 10:return Fa(s.type),null;case 22:case 23:return ti(s),zv(),a!==null&&W(Zs),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return Fa(Dn),null;case 25:return null;default:return null}}function E2(a,s){switch(Cv(s),s.tag){case 3:Fa(Dn),ye();break;case 26:case 27:case 5:$e(s);break;case 4:ye();break;case 31:s.memoizedState!==null&&ti(s);break;case 13:ti(s);break;case 19:W(Nn);break;case 10:Fa(s.type);break;case 22:case 23:ti(s),zv(),a!==null&&W(Zs);break;case 24:Fa(Dn)}}function kf(a,s){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var y=d.next;u=y;do{if((u.tag&a)===a){d=void 0;var b=u.create,R=u.inst;d=b(),R.destroy=d}u=u.next}while(u!==y)}}catch(q){Jt(s,s.return,q)}}function Fo(a,s,u){try{var d=s.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var b=y.next;d=b;do{if((d.tag&a)===a){var R=d.inst,q=R.destroy;if(q!==void 0){R.destroy=void 0,y=s;var K=u,ae=q;try{ae()}catch(fe){Jt(y,K,fe)}}}d=d.next}while(d!==b)}}catch(fe){Jt(s,s.return,fe)}}function T2(a){var s=a.updateQueue;if(s!==null){var u=a.stateNode;try{mO(s,u)}catch(d){Jt(a,a.return,d)}}}function A2(a,s,u){u.props=il(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(d){Jt(a,s,d)}}function Mf(a,s){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:d=a.stateNode;break;default:d=a.stateNode}typeof u=="function"?a.refCleanup=u(d):u.current=d}}catch(y){Jt(a,s,y)}}function ga(a,s){var u=a.ref,d=a.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(y){Jt(a,s,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){Jt(a,s,y)}else u.current=null}function O2(a){var s=a.type,u=a.memoizedProps,d=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break e;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(y){Jt(a,a.return,y)}}function x0(a,s,u){try{var d=a.stateNode;vB(d,a.type,u,s),d[Pn]=s}catch(y){Jt(a,a.return,y)}}function C2(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Qo(a.type)||a.tag===4}function w0(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||C2(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Qo(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function S0(a,s,u){var d=a.tag;if(d===5||d===6)a=a.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(a),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=Ui));else if(d!==4&&(d===27&&Qo(a.type)&&(u=a.stateNode,s=null),a=a.child,a!==null))for(S0(a,s,u),a=a.sibling;a!==null;)S0(a,s,u),a=a.sibling}function Np(a,s,u){var d=a.tag;if(d===5||d===6)a=a.stateNode,s?u.insertBefore(a,s):u.appendChild(a);else if(d!==4&&(d===27&&Qo(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(Np(a,s,u),a=a.sibling;a!==null;)Np(a,s,u),a=a.sibling}function I2(a){var s=a.stateNode,u=a.memoizedProps;try{for(var d=a.type,y=s.attributes;y.length;)s.removeAttributeNode(y[0]);hr(s,d,u),s[In]=a,s[Pn]=u}catch(b){Jt(a,a.return,b)}}var Ya=!1,$n=!1,E0=!1,P2=typeof WeakSet=="function"?WeakSet:Set,er=null;function QU(a,s){if(a=a.containerInfo,H0=Zp,a=qA(a),yv(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var y=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var R=0,q=-1,K=-1,ae=0,fe=0,ge=a,oe=null;t:for(;;){for(var ue;ge!==u||y!==0&&ge.nodeType!==3||(q=R+y),ge!==b||d!==0&&ge.nodeType!==3||(K=R+d),ge.nodeType===3&&(R+=ge.nodeValue.length),(ue=ge.firstChild)!==null;)oe=ge,ge=ue;for(;;){if(ge===a)break t;if(oe===u&&++ae===y&&(q=R),oe===b&&++fe===d&&(K=R),(ue=ge.nextSibling)!==null)break;ge=oe,oe=ge.parentNode}ge=ue}u=q===-1||K===-1?null:{start:q,end:K}}else u=null}u=u||{start:0,end:0}}else u=null;for(G0={focusedElem:a,selectionRange:u},Zp=!1,er=s;er!==null;)if(s=er,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,er=a;else for(;er!==null;){switch(s=er,b=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)y=a[u],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,u=s,y=b.memoizedProps,b=b.memoizedState,d=u.stateNode;try{var je=il(u.type,y);a=d.getSnapshotBeforeUpdate(je,b),d.__reactInternalSnapshotBeforeUpdate=a}catch(Ze){Jt(u,u.return,Ze)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,u=a.nodeType,u===9)Y0(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Y0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,er=a;break}er=s.return}}function R2(a,s,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:Qa(a,u),d&4&&kf(5,u);break;case 1:if(Qa(a,u),d&4)if(a=u.stateNode,s===null)try{a.componentDidMount()}catch(R){Jt(u,u.return,R)}else{var y=il(u.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(y,s,a.__reactInternalSnapshotBeforeUpdate)}catch(R){Jt(u,u.return,R)}}d&64&&T2(u),d&512&&Mf(u,u.return);break;case 3:if(Qa(a,u),d&64&&(a=u.updateQueue,a!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{mO(a,s)}catch(R){Jt(u,u.return,R)}}break;case 27:s===null&&d&4&&I2(u);case 26:case 5:Qa(a,u),s===null&&d&4&&O2(u),d&512&&Mf(u,u.return);break;case 12:Qa(a,u);break;case 31:Qa(a,u),d&4&&M2(a,u);break;case 13:Qa(a,u),d&4&&j2(a,u),d&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=oB.bind(null,u),AB(a,u))));break;case 22:if(d=u.memoizedState!==null||Ya,!d){s=s!==null&&s.memoizedState!==null||$n,y=Ya;var b=$n;Ya=d,($n=s)&&!b?Ja(a,u,(u.subtreeFlags&8772)!==0):Qa(a,u),Ya=y,$n=b}break;case 30:break;default:Qa(a,u)}}function N2(a){var s=a.alternate;s!==null&&(a.alternate=null,N2(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&$i(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var yn=null,Vr=!1;function Xa(a,s,u){for(u=u.child;u!==null;)k2(a,s,u),u=u.sibling}function k2(a,s,u){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(it,u)}catch{}switch(u.tag){case 26:$n||ga(u,s),Xa(a,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:$n||ga(u,s);var d=yn,y=Vr;Qo(u.type)&&(yn=u.stateNode,Vr=!1),Xa(a,s,u),zf(u.stateNode),yn=d,Vr=y;break;case 5:$n||ga(u,s);case 6:if(d=yn,y=Vr,yn=null,Xa(a,s,u),yn=d,Vr=y,yn!==null)if(Vr)try{(yn.nodeType===9?yn.body:yn.nodeName==="HTML"?yn.ownerDocument.body:yn).removeChild(u.stateNode)}catch(b){Jt(u,s,b)}else try{yn.removeChild(u.stateNode)}catch(b){Jt(u,s,b)}break;case 18:yn!==null&&(Vr?(a=yn,TC(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),Du(a)):TC(yn,u.stateNode));break;case 4:d=yn,y=Vr,yn=u.stateNode.containerInfo,Vr=!0,Xa(a,s,u),yn=d,Vr=y;break;case 0:case 11:case 14:case 15:Fo(2,u,s),$n||Fo(4,u,s),Xa(a,s,u);break;case 1:$n||(ga(u,s),d=u.stateNode,typeof d.componentWillUnmount=="function"&&A2(u,s,d)),Xa(a,s,u);break;case 21:Xa(a,s,u);break;case 22:$n=(d=$n)||u.memoizedState!==null,Xa(a,s,u),$n=d;break;default:Xa(a,s,u)}}function M2(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Du(a)}catch(u){Jt(s,s.return,u)}}}function j2(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Du(a)}catch(u){Jt(s,s.return,u)}}function JU(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new P2),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new P2),s;default:throw Error(r(435,a.tag))}}function kp(a,s){var u=JU(a);s.forEach(function(d){if(!u.has(d)){u.add(d);var y=sB.bind(null,a,d);d.then(y,y)}})}function $r(a,s){var u=s.deletions;if(u!==null)for(var d=0;d<u.length;d++){var y=u[d],b=a,R=s,q=R;e:for(;q!==null;){switch(q.tag){case 27:if(Qo(q.type)){yn=q.stateNode,Vr=!1;break e}break;case 5:yn=q.stateNode,Vr=!1;break e;case 3:case 4:yn=q.stateNode.containerInfo,Vr=!0;break e}q=q.return}if(yn===null)throw Error(r(160));k2(b,R,y),yn=null,Vr=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)D2(s,a),s=s.sibling}var Gi=null;function D2(a,s){var u=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:$r(s,a),Ur(a),d&4&&(Fo(3,a,a.return),kf(3,a),Fo(5,a,a.return));break;case 1:$r(s,a),Ur(a),d&512&&($n||u===null||ga(u,u.return)),d&64&&Ya&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var y=Gi;if($r(s,a),Ur(a),d&512&&($n||u===null||ga(u,u.return)),d&4){var b=u!==null?u.memoizedState:null;if(d=a.memoizedState,u===null)if(d===null)if(a.stateNode===null){e:{d=a.type,u=a.memoizedProps,y=y.ownerDocument||y;t:switch(d){case"title":b=y.getElementsByTagName("title")[0],(!b||b[pi]||b[In]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(d),y.head.insertBefore(b,y.querySelector("head > title"))),hr(b,d,u),b[In]=a,_n(b),d=b;break e;case"link":var R=DC("link","href",y).get(d+(u.href||""));if(R){for(var q=0;q<R.length;q++)if(b=R[q],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){R.splice(q,1);break t}}b=y.createElement(d),hr(b,d,u),y.head.appendChild(b);break;case"meta":if(R=DC("meta","content",y).get(d+(u.content||""))){for(q=0;q<R.length;q++)if(b=R[q],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){R.splice(q,1);break t}}b=y.createElement(d),hr(b,d,u),y.head.appendChild(b);break;default:throw Error(r(468,d))}b[In]=a,_n(b),d=b}a.stateNode=d}else LC(y,a.type,a.stateNode);else a.stateNode=jC(y,d,a.memoizedProps);else b!==d?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,d===null?LC(y,a.type,a.stateNode):jC(y,d,a.memoizedProps)):d===null&&a.stateNode!==null&&x0(a,a.memoizedProps,u.memoizedProps)}break;case 27:$r(s,a),Ur(a),d&512&&($n||u===null||ga(u,u.return)),u!==null&&d&4&&x0(a,a.memoizedProps,u.memoizedProps);break;case 5:if($r(s,a),Ur(a),d&512&&($n||u===null||ga(u,u.return)),a.flags&32){y=a.stateNode;try{sr(y,"")}catch(je){Jt(a,a.return,je)}}d&4&&a.stateNode!=null&&(y=a.memoizedProps,x0(a,y,u!==null?u.memoizedProps:y)),d&1024&&(E0=!0);break;case 6:if($r(s,a),Ur(a),d&4){if(a.stateNode===null)throw Error(r(162));d=a.memoizedProps,u=a.stateNode;try{u.nodeValue=d}catch(je){Jt(a,a.return,je)}}break;case 3:if(Yp=null,y=Gi,Gi=Kp(s.containerInfo),$r(s,a),Gi=y,Ur(a),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Du(s.containerInfo)}catch(je){Jt(a,a.return,je)}E0&&(E0=!1,L2(a));break;case 4:d=Gi,Gi=Kp(a.stateNode.containerInfo),$r(s,a),Ur(a),Gi=d;break;case 12:$r(s,a),Ur(a);break;case 31:$r(s,a),Ur(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,kp(a,d)));break;case 13:$r(s,a),Ur(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(jp=Ae()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,kp(a,d)));break;case 22:y=a.memoizedState!==null;var K=u!==null&&u.memoizedState!==null,ae=Ya,fe=$n;if(Ya=ae||y,$n=fe||K,$r(s,a),$n=fe,Ya=ae,Ur(a),d&8192)e:for(s=a.stateNode,s._visibility=y?s._visibility&-2:s._visibility|1,y&&(u===null||K||Ya||$n||al(a)),u=null,s=a;;){if(s.tag===5||s.tag===26){if(u===null){K=u=s;try{if(b=K.stateNode,y)R=b.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{q=K.stateNode;var ge=K.memoizedProps.style,oe=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;q.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(je){Jt(K,K.return,je)}}}else if(s.tag===6){if(u===null){K=s;try{K.stateNode.nodeValue=y?"":K.memoizedProps}catch(je){Jt(K,K.return,je)}}}else if(s.tag===18){if(u===null){K=s;try{var ue=K.stateNode;y?AC(ue,!0):AC(K.stateNode,!1)}catch(je){Jt(K,K.return,je)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}d&4&&(d=a.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,kp(a,u))));break;case 19:$r(s,a),Ur(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,kp(a,d)));break;case 30:break;case 21:break;default:$r(s,a),Ur(a)}}function Ur(a){var s=a.flags;if(s&2){try{for(var u,d=a.return;d!==null;){if(C2(d)){u=d;break}d=d.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var y=u.stateNode,b=w0(a);Np(a,b,y);break;case 5:var R=u.stateNode;u.flags&32&&(sr(R,""),u.flags&=-33);var q=w0(a);Np(a,q,R);break;case 3:case 4:var K=u.stateNode.containerInfo,ae=w0(a);S0(a,ae,K);break;default:throw Error(r(161))}}catch(fe){Jt(a,a.return,fe)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function L2(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;L2(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function Qa(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)R2(a,s.alternate,s),s=s.sibling}function al(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:Fo(4,s,s.return),al(s);break;case 1:ga(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&A2(s,s.return,u),al(s);break;case 27:zf(s.stateNode);case 26:case 5:ga(s,s.return),al(s);break;case 22:s.memoizedState===null&&al(s);break;case 30:al(s);break;default:al(s)}a=a.sibling}}function Ja(a,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var d=s.alternate,y=a,b=s,R=b.flags;switch(b.tag){case 0:case 11:case 15:Ja(y,b,u),kf(4,b);break;case 1:if(Ja(y,b,u),d=b,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ae){Jt(d,d.return,ae)}if(d=b,y=d.updateQueue,y!==null){var q=d.stateNode;try{var K=y.shared.hiddenCallbacks;if(K!==null)for(y.shared.hiddenCallbacks=null,y=0;y<K.length;y++)pO(K[y],q)}catch(ae){Jt(d,d.return,ae)}}u&&R&64&&T2(b),Mf(b,b.return);break;case 27:I2(b);case 26:case 5:Ja(y,b,u),u&&d===null&&R&4&&O2(b),Mf(b,b.return);break;case 12:Ja(y,b,u);break;case 31:Ja(y,b,u),u&&R&4&&M2(y,b);break;case 13:Ja(y,b,u),u&&R&4&&j2(y,b);break;case 22:b.memoizedState===null&&Ja(y,b,u),Mf(b,b.return);break;case 30:break;default:Ja(y,b,u)}s=s.sibling}}function T0(a,s){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&_f(u))}function A0(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&_f(a))}function Ki(a,s,u,d){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)V2(a,s,u,d),s=s.sibling}function V2(a,s,u,d){var y=s.flags;switch(s.tag){case 0:case 11:case 15:Ki(a,s,u,d),y&2048&&kf(9,s);break;case 1:Ki(a,s,u,d);break;case 3:Ki(a,s,u,d),y&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&_f(a)));break;case 12:if(y&2048){Ki(a,s,u,d),a=s.stateNode;try{var b=s.memoizedProps,R=b.id,q=b.onPostCommit;typeof q=="function"&&q(R,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(K){Jt(s,s.return,K)}}else Ki(a,s,u,d);break;case 31:Ki(a,s,u,d);break;case 13:Ki(a,s,u,d);break;case 23:break;case 22:b=s.stateNode,R=s.alternate,s.memoizedState!==null?b._visibility&2?Ki(a,s,u,d):jf(a,s):b._visibility&2?Ki(a,s,u,d):(b._visibility|=2,Tu(a,s,u,d,(s.subtreeFlags&10256)!==0||!1)),y&2048&&T0(R,s);break;case 24:Ki(a,s,u,d),y&2048&&A0(s.alternate,s);break;default:Ki(a,s,u,d)}}function Tu(a,s,u,d,y){for(y=y&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var b=a,R=s,q=u,K=d,ae=R.flags;switch(R.tag){case 0:case 11:case 15:Tu(b,R,q,K,y),kf(8,R);break;case 23:break;case 22:var fe=R.stateNode;R.memoizedState!==null?fe._visibility&2?Tu(b,R,q,K,y):jf(b,R):(fe._visibility|=2,Tu(b,R,q,K,y)),y&&ae&2048&&T0(R.alternate,R);break;case 24:Tu(b,R,q,K,y),y&&ae&2048&&A0(R.alternate,R);break;default:Tu(b,R,q,K,y)}s=s.sibling}}function jf(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=a,d=s,y=d.flags;switch(d.tag){case 22:jf(u,d),y&2048&&T0(d.alternate,d);break;case 24:jf(u,d),y&2048&&A0(d.alternate,d);break;default:jf(u,d)}s=s.sibling}}var Df=8192;function Au(a,s,u){if(a.subtreeFlags&Df)for(a=a.child;a!==null;)$2(a,s,u),a=a.sibling}function $2(a,s,u){switch(a.tag){case 26:Au(a,s,u),a.flags&Df&&a.memoizedState!==null&&VB(u,Gi,a.memoizedState,a.memoizedProps);break;case 5:Au(a,s,u);break;case 3:case 4:var d=Gi;Gi=Kp(a.stateNode.containerInfo),Au(a,s,u),Gi=d;break;case 22:a.memoizedState===null&&(d=a.alternate,d!==null&&d.memoizedState!==null?(d=Df,Df=16777216,Au(a,s,u),Df=d):Au(a,s,u));break;default:Au(a,s,u)}}function U2(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function Lf(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var d=s[u];er=d,q2(d,a)}U2(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)B2(a),a=a.sibling}function B2(a){switch(a.tag){case 0:case 11:case 15:Lf(a),a.flags&2048&&Fo(9,a,a.return);break;case 3:Lf(a);break;case 12:Lf(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,Mp(a)):Lf(a);break;default:Lf(a)}}function Mp(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var d=s[u];er=d,q2(d,a)}U2(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:Fo(8,s,s.return),Mp(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,Mp(s));break;default:Mp(s)}a=a.sibling}}function q2(a,s){for(;er!==null;){var u=er;switch(u.tag){case 0:case 11:case 15:Fo(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:_f(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,er=d;else e:for(u=a;er!==null;){d=er;var y=d.sibling,b=d.return;if(N2(d),d===u){er=null;break e}if(y!==null){y.return=b,er=y;break e}er=b}}}var ZU={getCacheForType:function(a){var s=cr(Dn),u=s.data.get(a);return u===void 0&&(u=a(),s.data.set(a,u)),u},cacheSignal:function(){return cr(Dn).controller.signal}},eB=typeof WeakMap=="function"?WeakMap:Map,Gt=0,an=null,Et=null,Ot=0,Qt=0,ni=null,Ho=!1,Ou=!1,O0=!1,Za=0,Tn=0,Go=0,ol=0,C0=0,ri=0,Cu=0,Vf=null,Br=null,I0=!1,jp=0,z2=0,Dp=1/0,Lp=null,Ko=null,Hn=0,Wo=null,Iu=null,eo=0,P0=0,R0=null,F2=null,$f=0,N0=null;function ii(){return(Gt&2)!==0&&Ot!==0?Ot&-Ot:H.T!==null?V0():Xl()}function H2(){if(ri===0)if((Ot&536870912)===0||kt){var a=Ue;Ue<<=1,(Ue&3932160)===0&&(Ue=262144),ri=a}else ri=536870912;return a=ei.current,a!==null&&(a.flags|=32),ri}function qr(a,s,u){(a===an&&(Qt===2||Qt===9)||a.cancelPendingCommit!==null)&&(Pu(a,0),Yo(a,Ot,ri,!1)),Wr(a,u),((Gt&2)===0||a!==an)&&(a===an&&((Gt&2)===0&&(ol|=u),Tn===4&&Yo(a,Ot,ri,!1)),ya(a))}function G2(a,s,u){if((Gt&6)!==0)throw Error(r(327));var d=!u&&(s&127)===0&&(s&a.expiredLanes)===0||Fn(a,s),y=d?rB(a,s):M0(a,s,!0),b=d;do{if(y===0){Ou&&!d&&Yo(a,s,0,!1);break}else{if(u=a.current.alternate,b&&!tB(u)){y=M0(a,s,!1),b=!1;continue}if(y===2){if(b=s,a.errorRecoveryDisabledLanes&b)var R=0;else R=a.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){s=R;e:{var q=a;y=Vf;var K=q.current.memoizedState.isDehydrated;if(K&&(Pu(q,R).flags|=256),R=M0(q,R,!1),R!==2){if(O0&&!K){q.errorRecoveryDisabledLanes|=b,ol|=b,y=4;break e}b=Br,Br=y,b!==null&&(Br===null?Br=b:Br.push.apply(Br,b))}y=R}if(b=!1,y!==2)continue}}if(y===1){Pu(a,0),Yo(a,s,0,!0);break}e:{switch(d=a,b=y,b){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Yo(d,s,ri,!Ho);break e;case 2:Br=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(y=jp+300-Ae(),10<y)){if(Yo(d,s,ri,!Ho),Ft(d,0,!0)!==0)break e;eo=s,d.timeoutHandle=SC(K2.bind(null,d,u,Br,Lp,I0,s,ri,ol,Cu,Ho,b,"Throttled",-0,0),y);break e}K2(d,u,Br,Lp,I0,s,ri,ol,Cu,Ho,b,null,-0,0)}}break}while(!0);ya(a)}function K2(a,s,u,d,y,b,R,q,K,ae,fe,ge,oe,ue){if(a.timeoutHandle=-1,ge=s.subtreeFlags,ge&8192||(ge&16785408)===16785408){ge={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ui},$2(s,b,ge);var je=(b&62914560)===b?jp-Ae():(b&4194048)===b?z2-Ae():0;if(je=$B(ge,je),je!==null){eo=b,a.cancelPendingCommit=je(tC.bind(null,a,s,b,u,d,y,R,q,K,fe,ge,null,oe,ue)),Yo(a,b,R,!ae);return}}tC(a,s,b,u,d,y,R,q,K)}function tB(a){for(var s=a;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var y=u[d],b=y.getSnapshot;y=y.value;try{if(!Jr(b(),y))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Yo(a,s,u,d){s&=~C0,s&=~ol,a.suspendedLanes|=s,a.pingedLanes&=~s,d&&(a.warmLanes|=s),d=a.expirationTimes;for(var y=s;0<y;){var b=31-qt(y),R=1<<b;d[b]=-1,y&=~R}u!==0&&ja(a,u,s)}function Vp(){return(Gt&6)===0?(Uf(0),!1):!0}function k0(){if(Et!==null){if(Qt===0)var a=Et.return;else a=Et,za=Qs=null,Yv(a),_u=null,wf=0,a=Et;for(;a!==null;)E2(a.alternate,a),a=a.return;Et=null}}function Pu(a,s){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,xB(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),eo=0,k0(),an=a,Et=u=Ba(a.current,null),Ot=s,Qt=0,ni=null,Ho=!1,Ou=Fn(a,s),O0=!1,Cu=ri=C0=ol=Go=Tn=0,Br=Vf=null,I0=!1,(s&8)!==0&&(s|=s&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=s;0<d;){var y=31-qt(d),b=1<<y;s|=a[y],d&=~b}return Za=s,ap(),u}function W2(a,s){mt=null,H.H=Pf,s===bu||s===dp?(s=cO(),Qt=3):s===Lv?(s=cO(),Qt=4):Qt=s===f0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ni=s,Et===null&&(Tn=1,Op(a,xi(s,a.current)))}function Y2(){var a=ei.current;return a===null?!0:(Ot&4194048)===Ot?Ti===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?a===Ti:!1}function X2(){var a=H.H;return H.H=Pf,a===null?Pf:a}function Q2(){var a=H.A;return H.A=ZU,a}function $p(){Tn=4,Ho||(Ot&4194048)!==Ot&&ei.current!==null||(Ou=!0),(Go&134217727)===0&&(ol&134217727)===0||an===null||Yo(an,Ot,ri,!1)}function M0(a,s,u){var d=Gt;Gt|=2;var y=X2(),b=Q2();(an!==a||Ot!==s)&&(Lp=null,Pu(a,s)),s=!1;var R=Tn;e:do try{if(Qt!==0&&Et!==null){var q=Et,K=ni;switch(Qt){case 8:k0(),R=6;break e;case 3:case 2:case 9:case 6:ei.current===null&&(s=!0);var ae=Qt;if(Qt=0,ni=null,Ru(a,q,K,ae),u&&Ou){R=0;break e}break;default:ae=Qt,Qt=0,ni=null,Ru(a,q,K,ae)}}nB(),R=Tn;break}catch(fe){W2(a,fe)}while(!0);return s&&a.shellSuspendCounter++,za=Qs=null,Gt=d,H.H=y,H.A=b,Et===null&&(an=null,Ot=0,ap()),R}function nB(){for(;Et!==null;)J2(Et)}function rB(a,s){var u=Gt;Gt|=2;var d=X2(),y=Q2();an!==a||Ot!==s?(Lp=null,Dp=Ae()+500,Pu(a,s)):Ou=Fn(a,s);e:do try{if(Qt!==0&&Et!==null){s=Et;var b=ni;t:switch(Qt){case 1:Qt=0,ni=null,Ru(a,s,b,1);break;case 2:case 9:if(lO(b)){Qt=0,ni=null,Z2(s);break}s=function(){Qt!==2&&Qt!==9||an!==a||(Qt=7),ya(a)},b.then(s,s);break e;case 3:Qt=7;break e;case 4:Qt=5;break e;case 7:lO(b)?(Qt=0,ni=null,Z2(s)):(Qt=0,ni=null,Ru(a,s,b,7));break;case 5:var R=null;switch(Et.tag){case 26:R=Et.memoizedState;case 5:case 27:var q=Et;if(R?VC(R):q.stateNode.complete){Qt=0,ni=null;var K=q.sibling;if(K!==null)Et=K;else{var ae=q.return;ae!==null?(Et=ae,Up(ae)):Et=null}break t}}Qt=0,ni=null,Ru(a,s,b,5);break;case 6:Qt=0,ni=null,Ru(a,s,b,6);break;case 8:k0(),Tn=6;break e;default:throw Error(r(462))}}iB();break}catch(fe){W2(a,fe)}while(!0);return za=Qs=null,H.H=d,H.A=y,Gt=u,Et!==null?0:(an=null,Ot=0,ap(),Tn)}function iB(){for(;Et!==null&&!Mt();)J2(Et)}function J2(a){var s=w2(a.alternate,a,Za);a.memoizedProps=a.pendingProps,s===null?Up(a):Et=s}function Z2(a){var s=a,u=s.alternate;switch(s.tag){case 15:case 0:s=g2(u,s,s.pendingProps,s.type,void 0,Ot);break;case 11:s=g2(u,s,s.pendingProps,s.type.render,s.ref,Ot);break;case 5:Yv(s);default:E2(u,s),s=Et=QA(s,Za),s=w2(u,s,Za)}a.memoizedProps=a.pendingProps,s===null?Up(a):Et=s}function Ru(a,s,u,d){za=Qs=null,Yv(s),_u=null,wf=0;var y=s.return;try{if(GU(a,y,s,u,Ot)){Tn=1,Op(a,xi(u,a.current)),Et=null;return}}catch(b){if(y!==null)throw Et=y,b;Tn=1,Op(a,xi(u,a.current)),Et=null;return}s.flags&32768?(kt||d===1?a=!0:Ou||(Ot&536870912)!==0?a=!1:(Ho=a=!0,(d===2||d===9||d===3||d===6)&&(d=ei.current,d!==null&&d.tag===13&&(d.flags|=16384))),eC(s,a)):Up(s)}function Up(a){var s=a;do{if((s.flags&32768)!==0){eC(s,Ho);return}a=s.return;var u=YU(s.alternate,s,Za);if(u!==null){Et=u;return}if(s=s.sibling,s!==null){Et=s;return}Et=s=a}while(s!==null);Tn===0&&(Tn=5)}function eC(a,s){do{var u=XU(a.alternate,a);if(u!==null){u.flags&=32767,Et=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(a=a.sibling,a!==null)){Et=a;return}Et=a=u}while(a!==null);Tn=6,Et=null}function tC(a,s,u,d,y,b,R,q,K){a.cancelPendingCommit=null;do Bp();while(Hn!==0);if((Gt&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(b=s.lanes|s.childLanes,b|=wv,af(a,u,b,R,q,K),a===an&&(Et=an=null,Ot=0),Iu=s,Wo=a,eo=u,P0=b,R0=y,F2=d,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,lB(Pe,function(){return oC(),null})):(a.callbackNode=null,a.callbackPriority=0),d=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||d){d=H.T,H.T=null,y=Y.p,Y.p=2,R=Gt,Gt|=4;try{QU(a,s,u)}finally{Gt=R,Y.p=y,H.T=d}}Hn=1,nC(),rC(),iC()}}function nC(){if(Hn===1){Hn=0;var a=Wo,s=Iu,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=H.T,H.T=null;var d=Y.p;Y.p=2;var y=Gt;Gt|=4;try{D2(s,a);var b=G0,R=qA(a.containerInfo),q=b.focusedElem,K=b.selectionRange;if(R!==q&&q&&q.ownerDocument&&BA(q.ownerDocument.documentElement,q)){if(K!==null&&yv(q)){var ae=K.start,fe=K.end;if(fe===void 0&&(fe=ae),"selectionStart"in q)q.selectionStart=ae,q.selectionEnd=Math.min(fe,q.value.length);else{var ge=q.ownerDocument||document,oe=ge&&ge.defaultView||window;if(oe.getSelection){var ue=oe.getSelection(),je=q.textContent.length,Ze=Math.min(K.start,je),nn=K.end===void 0?Ze:Math.min(K.end,je);!ue.extend&&Ze>nn&&(R=nn,nn=Ze,Ze=R);var Z=UA(q,Ze),X=UA(q,nn);if(Z&&X&&(ue.rangeCount!==1||ue.anchorNode!==Z.node||ue.anchorOffset!==Z.offset||ue.focusNode!==X.node||ue.focusOffset!==X.offset)){var re=ge.createRange();re.setStart(Z.node,Z.offset),ue.removeAllRanges(),Ze>nn?(ue.addRange(re),ue.extend(X.node,X.offset)):(re.setEnd(X.node,X.offset),ue.addRange(re))}}}}for(ge=[],ue=q;ue=ue.parentNode;)ue.nodeType===1&&ge.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<ge.length;q++){var de=ge[q];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}Zp=!!H0,G0=H0=null}finally{Gt=y,Y.p=d,H.T=u}}a.current=s,Hn=2}}function rC(){if(Hn===2){Hn=0;var a=Wo,s=Iu,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=H.T,H.T=null;var d=Y.p;Y.p=2;var y=Gt;Gt|=4;try{R2(a,s.alternate,s)}finally{Gt=y,Y.p=d,H.T=u}}Hn=3}}function iC(){if(Hn===4||Hn===3){Hn=0,cn();var a=Wo,s=Iu,u=eo,d=F2;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Hn=5:(Hn=0,Iu=Wo=null,aC(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(Ko=null),Li(u),s=s.stateNode,gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(it,s,void 0,(s.current.flags&128)===128)}catch{}if(d!==null){s=H.T,y=Y.p,Y.p=2,H.T=null;try{for(var b=a.onRecoverableError,R=0;R<d.length;R++){var q=d[R];b(q.value,{componentStack:q.stack})}}finally{H.T=s,Y.p=y}}(eo&3)!==0&&Bp(),ya(a),y=a.pendingLanes,(u&261930)!==0&&(y&42)!==0?a===N0?$f++:($f=0,N0=a):$f=0,Uf(0)}}function aC(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,_f(s)))}function Bp(){return nC(),rC(),iC(),oC()}function oC(){if(Hn!==5)return!1;var a=Wo,s=P0;P0=0;var u=Li(eo),d=H.T,y=Y.p;try{Y.p=32>u?32:u,H.T=null,u=R0,R0=null;var b=Wo,R=eo;if(Hn=0,Iu=Wo=null,eo=0,(Gt&6)!==0)throw Error(r(331));var q=Gt;if(Gt|=4,B2(b.current),V2(b,b.current,R,u),Gt=q,Uf(0,!1),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(it,b)}catch{}return!0}finally{Y.p=y,H.T=d,aC(a,s)}}function sC(a,s,u){s=xi(u,s),s=c0(a.stateNode,s,2),a=Bo(a,s,2),a!==null&&(Wr(a,2),ya(a))}function Jt(a,s,u){if(a.tag===3)sC(a,a,u);else for(;s!==null;){if(s.tag===3){sC(s,a,u);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ko===null||!Ko.has(d))){a=xi(u,a),u=l2(2),d=Bo(s,u,2),d!==null&&(u2(u,d,s,a),Wr(d,2),ya(d));break}}s=s.return}}function j0(a,s,u){var d=a.pingCache;if(d===null){d=a.pingCache=new eB;var y=new Set;d.set(s,y)}else y=d.get(s),y===void 0&&(y=new Set,d.set(s,y));y.has(u)||(O0=!0,y.add(u),a=aB.bind(null,a,s,u),s.then(a,a))}function aB(a,s,u){var d=a.pingCache;d!==null&&d.delete(s),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,an===a&&(Ot&u)===u&&(Tn===4||Tn===3&&(Ot&62914560)===Ot&&300>Ae()-jp?(Gt&2)===0&&Pu(a,0):C0|=u,Cu===Ot&&(Cu=0)),ya(a)}function lC(a,s){s===0&&(s=Di()),a=Ws(a,s),a!==null&&(Wr(a,s),ya(a))}function oB(a){var s=a.memoizedState,u=0;s!==null&&(u=s.retryLane),lC(a,u)}function sB(a,s){var u=0;switch(a.tag){case 31:case 13:var d=a.stateNode,y=a.memoizedState;y!==null&&(u=y.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(s),lC(a,u)}function lB(a,s){return ze(a,s)}var qp=null,Nu=null,D0=!1,zp=!1,L0=!1,Xo=0;function ya(a){a!==Nu&&a.next===null&&(Nu===null?qp=Nu=a:Nu=Nu.next=a),zp=!0,D0||(D0=!0,cB())}function Uf(a,s){if(!L0&&zp){L0=!0;do for(var u=!1,d=qp;d!==null;){if(a!==0){var y=d.pendingLanes;if(y===0)var b=0;else{var R=d.suspendedLanes,q=d.pingedLanes;b=(1<<31-qt(42|a)+1)-1,b&=y&~(R&~q),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,hC(d,b))}else b=Ot,b=Ft(d,d===an?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||Fn(d,b)||(u=!0,hC(d,b));d=d.next}while(u);L0=!1}}function uB(){uC()}function uC(){zp=D0=!1;var a=0;Xo!==0&&_B()&&(a=Xo);for(var s=Ae(),u=null,d=qp;d!==null;){var y=d.next,b=cC(d,s);b===0?(d.next=null,u===null?qp=y:u.next=y,y===null&&(Nu=u)):(u=d,(a!==0||(b&3)!==0)&&(zp=!0)),d=y}Hn!==0&&Hn!==5||Uf(a),Xo!==0&&(Xo=0)}function cC(a,s){for(var u=a.suspendedLanes,d=a.pingedLanes,y=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var R=31-qt(b),q=1<<R,K=y[R];K===-1?((q&u)===0||(q&d)!==0)&&(y[R]=di(q,s)):K<=s&&(a.expiredLanes|=q),b&=~q}if(s=an,u=Ot,u=Ft(a,a===s?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d=a.callbackNode,u===0||a===s&&(Qt===2||Qt===9)||a.cancelPendingCommit!==null)return d!==null&&d!==null&&_t(d),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||Fn(a,u)){if(s=u&-u,s===a.callbackPriority)return s;switch(d!==null&&_t(d),Li(u)){case 2:case 8:u=pe;break;case 32:u=Pe;break;case 268435456:u=jt;break;default:u=Pe}return d=fC.bind(null,a),u=ze(u,d),a.callbackPriority=s,a.callbackNode=u,s}return d!==null&&d!==null&&_t(d),a.callbackPriority=2,a.callbackNode=null,2}function fC(a,s){if(Hn!==0&&Hn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(Bp()&&a.callbackNode!==u)return null;var d=Ot;return d=Ft(a,a===an?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d===0?null:(G2(a,d,s),cC(a,Ae()),a.callbackNode!=null&&a.callbackNode===u?fC.bind(null,a):null)}function hC(a,s){if(Bp())return null;G2(a,s,!0)}function cB(){wB(function(){(Gt&6)!==0?ze(Nt,uB):uC()})}function V0(){if(Xo===0){var a=yu;a===0&&(a=wt,wt<<=1,(wt&261888)===0&&(wt=256)),Xo=a}return Xo}function dC(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:nu(""+a)}function pC(a,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,a.id&&u.setAttribute("form",a.id),s.parentNode.insertBefore(u,s),a=new FormData(a),u.parentNode.removeChild(u),a}function fB(a,s,u,d,y){if(s==="submit"&&u&&u.stateNode===y){var b=dC((y[Pn]||null).action),R=d.submitter;R&&(s=(s=R[Pn]||null)?dC(s.formAction):R.getAttribute("formAction"),s!==null&&(b=s,R=null));var q=new ca("action","action",null,d,y);a.push({event:q,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Xo!==0){var K=R?pC(y,R):new FormData(y);i0(u,{pending:!0,data:K,method:y.method,action:b},null,K)}}else typeof b=="function"&&(q.preventDefault(),K=R?pC(y,R):new FormData(y),i0(u,{pending:!0,data:K,method:y.method,action:b},b,K))},currentTarget:y}]})}}for(var $0=0;$0<xv.length;$0++){var U0=xv[$0],hB=U0.toLowerCase(),dB=U0[0].toUpperCase()+U0.slice(1);Hi(hB,"on"+dB)}Hi(HA,"onAnimationEnd"),Hi(GA,"onAnimationIteration"),Hi(KA,"onAnimationStart"),Hi("dblclick","onDoubleClick"),Hi("focusin","onFocus"),Hi("focusout","onBlur"),Hi(IU,"onTransitionRun"),Hi(PU,"onTransitionStart"),Hi(RU,"onTransitionCancel"),Hi(WA,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),Qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bf));function mC(a,s){s=(s&4)!==0;for(var u=0;u<a.length;u++){var d=a[u],y=d.event;d=d.listeners;e:{var b=void 0;if(s)for(var R=d.length-1;0<=R;R--){var q=d[R],K=q.instance,ae=q.currentTarget;if(q=q.listener,K!==b&&y.isPropagationStopped())break e;b=q,y.currentTarget=ae;try{b(y)}catch(fe){ip(fe)}y.currentTarget=null,b=K}else for(R=0;R<d.length;R++){if(q=d[R],K=q.instance,ae=q.currentTarget,q=q.listener,K!==b&&y.isPropagationStopped())break e;b=q,y.currentTarget=ae;try{b(y)}catch(fe){ip(fe)}y.currentTarget=null,b=K}}}}function Tt(a,s){var u=s[Vi];u===void 0&&(u=s[Vi]=new Set);var d=a+"__bubble";u.has(d)||(gC(s,a,2,!1),u.add(d))}function B0(a,s,u){var d=0;s&&(d|=4),gC(u,a,d,s)}var Fp="_reactListening"+Math.random().toString(36).slice(2);function q0(a){if(!a[Fp]){a[Fp]=!0,Ms.forEach(function(u){u!=="selectionchange"&&(pB.has(u)||B0(u,!1,a),B0(u,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Fp]||(s[Fp]=!0,B0("selectionchange",!1,s))}}function gC(a,s,u,d){switch(HC(s)){case 2:var y=qB;break;case 8:y=zB;break;default:y=rb}u=y.bind(null,s,u,a),y=void 0,!Us||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),d?y!==void 0?a.addEventListener(s,u,{capture:!0,passive:y}):a.addEventListener(s,u,!0):y!==void 0?a.addEventListener(s,u,{passive:y}):a.addEventListener(s,u,!1)}function z0(a,s,u,d,y){var b=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var R=d.tag;if(R===3||R===4){var q=d.stateNode.containerInfo;if(q===y)break;if(R===4)for(R=d.return;R!==null;){var K=R.tag;if((K===3||K===4)&&R.stateNode.containerInfo===y)return;R=R.return}for(;q!==null;){if(R=br(q),R===null)return;if(K=R.tag,K===5||K===6||K===26||K===27){d=b=R;continue e}q=q.parentNode}}d=d.return}Ro(function(){var ae=b,fe=yi(u),ge=[];e:{var oe=YA.get(a);if(oe!==void 0){var ue=ca,je=a;switch(a){case"keypress":if(qs(u)===0)break e;case"keydown":case"keyup":ue=tp;break;case"focusin":je="focus",ue=Fs;break;case"focusout":je="blur",ue=Fs;break;case"beforeblur":case"afterblur":ue=Fs;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=hf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Gd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=T;break;case HA:case GA:case KA:ue=Wd;break;case WA:ue=z;break;case"scroll":case"scrollend":ue=ff;break;case"wheel":ue=le;break;case"copy":case"cut":case"paste":ue=Yd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=Ua;break;case"toggle":case"beforetoggle":ue=pt}var Ze=(s&4)!==0,nn=!Ze&&(a==="scroll"||a==="scrollend"),Z=Ze?oe!==null?oe+"Capture":null:oe;Ze=[];for(var X=ae,re;X!==null;){var de=X;if(re=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||re===null||Z===null||(de=Bi(X,Z),de!=null&&Ze.push(qf(X,de,re))),nn)break;X=X.return}0<Ze.length&&(oe=new ue(oe,je,null,u,fe),ge.push({event:oe,listeners:Ze}))}}if((s&7)===0){e:{if(oe=a==="mouseover"||a==="pointerover",ue=a==="mouseout"||a==="pointerout",oe&&u!==lf&&(je=u.relatedTarget||u.fromElement)&&(br(je)||je[Lr]))break e;if((ue||oe)&&(oe=fe.window===fe?fe:(oe=fe.ownerDocument)?oe.defaultView||oe.parentWindow:window,ue?(je=u.relatedTarget||u.toElement,ue=ae,je=je?br(je):null,je!==null&&(nn=o(je),Ze=je.tag,je!==nn||Ze!==5&&Ze!==27&&Ze!==6)&&(je=null)):(ue=null,je=ae),ue!==je)){if(Ze=hf,de="onMouseLeave",Z="onMouseEnter",X="mouse",(a==="pointerout"||a==="pointerover")&&(Ze=Ua,de="onPointerLeave",Z="onPointerEnter",X="pointer"),nn=ue==null?oe:Pr(ue),re=je==null?oe:Pr(je),oe=new Ze(de,X+"leave",ue,u,fe),oe.target=nn,oe.relatedTarget=re,de=null,br(fe)===ae&&(Ze=new Ze(Z,X+"enter",je,u,fe),Ze.target=re,Ze.relatedTarget=nn,de=Ze),nn=de,ue&&je)t:{for(Ze=mB,Z=ue,X=je,re=0,de=Z;de;de=Ze(de))re++;de=0;for(var We=X;We;We=Ze(We))de++;for(;0<re-de;)Z=Ze(Z),re--;for(;0<de-re;)X=Ze(X),de--;for(;re--;){if(Z===X||X!==null&&Z===X.alternate){Ze=Z;break t}Z=Ze(Z),X=Ze(X)}Ze=null}else Ze=null;ue!==null&&yC(ge,oe,ue,Ze,!1),je!==null&&nn!==null&&yC(ge,nn,je,Ze,!0)}}e:{if(oe=ae?Pr(ae):window,ue=oe.nodeName&&oe.nodeName.toLowerCase(),ue==="select"||ue==="input"&&oe.type==="file")var Vt=MA;else if(NA(oe))if(jA)Vt=AU;else{Vt=EU;var Be=SU}else ue=oe.nodeName,!ue||ue.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?ae&&tu(ae.elementType)&&(Vt=MA):Vt=TU;if(Vt&&(Vt=Vt(a,ae))){kA(ge,Vt,u,fe);break e}Be&&Be(a,oe,ae),a==="focusout"&&ae&&oe.type==="number"&&ae.memoizedProps.value!=null&&xr(oe,"number",oe.value)}switch(Be=ae?Pr(ae):window,a){case"focusin":(NA(Be)||Be.contentEditable==="true")&&(uu=Be,vv=ae,yf=null);break;case"focusout":yf=vv=uu=null;break;case"mousedown":bv=!0;break;case"contextmenu":case"mouseup":case"dragend":bv=!1,zA(ge,u,fe);break;case"selectionchange":if(CU)break;case"keydown":case"keyup":zA(ge,u,fe)}var yt;if(Ht)e:{switch(a){case"compositionstart":var Ct="onCompositionStart";break e;case"compositionend":Ct="onCompositionEnd";break e;case"compositionupdate":Ct="onCompositionUpdate";break e}Ct=void 0}else lu?Hs(a,u)&&(Ct="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(Ct="onCompositionStart");Ct&&(da&&u.locale!=="ko"&&(lu||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&lu&&(yt=cf()):(ua=fe,uf="value"in ua?ua.value:ua.textContent,lu=!0)),Be=Hp(ae,Ct),0<Be.length&&(Ct=new ha(Ct,a,null,u,fe),ge.push({event:Ct,listeners:Be}),yt?Ct.data=yt:(yt=su(u),yt!==null&&(Ct.data=yt)))),(yt=bi?bU(a,u):_U(a,u))&&(Ct=Hp(ae,"onBeforeInput"),0<Ct.length&&(Be=new ha("onBeforeInput","beforeinput",null,u,fe),ge.push({event:Be,listeners:Ct}),Be.data=yt)),fB(ge,a,ae,u,fe)}mC(ge,s)})}function qf(a,s,u){return{instance:a,listener:s,currentTarget:u}}function Hp(a,s){for(var u=s+"Capture",d=[];a!==null;){var y=a,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=Bi(a,u),y!=null&&d.unshift(qf(a,y,b)),y=Bi(a,s),y!=null&&d.push(qf(a,y,b))),a.tag===3)return d;a=a.return}return[]}function mB(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function yC(a,s,u,d,y){for(var b=s._reactName,R=[];u!==null&&u!==d;){var q=u,K=q.alternate,ae=q.stateNode;if(q=q.tag,K!==null&&K===d)break;q!==5&&q!==26&&q!==27||ae===null||(K=ae,y?(ae=Bi(u,b),ae!=null&&R.unshift(qf(u,ae,K))):y||(ae=Bi(u,b),ae!=null&&R.push(qf(u,ae,K)))),u=u.return}R.length!==0&&a.push({event:s,listeners:R})}var gB=/\r\n?/g,yB=/\u0000|\uFFFD/g;function vC(a){return(typeof a=="string"?a:""+a).replace(gB,`
`).replace(yB,"")}function bC(a,s){return s=vC(s),vC(a)===s}function tn(a,s,u,d,y,b){switch(u){case"children":typeof d=="string"?s==="body"||s==="textarea"&&d===""||sr(a,d):(typeof d=="number"||typeof d=="bigint")&&s!=="body"&&sr(a,""+d);break;case"className":Rr(a,"class",d);break;case"tabIndex":Rr(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Rr(a,u,d);break;case"style":sf(a,d,b);break;case"data":if(s!=="object"){Rr(a,"data",d);break}case"src":case"href":if(d===""&&(s!=="a"||u!=="href")){a.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(u);break}d=nu(""+d),a.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(s!=="input"&&tn(a,s,"name",y.name,y,null),tn(a,s,"formEncType",y.formEncType,y,null),tn(a,s,"formMethod",y.formMethod,y,null),tn(a,s,"formTarget",y.formTarget,y,null)):(tn(a,s,"encType",y.encType,y,null),tn(a,s,"method",y.method,y,null),tn(a,s,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(u);break}d=nu(""+d),a.setAttribute(u,d);break;case"onClick":d!=null&&(a.onclick=Ui);break;case"onScroll":d!=null&&Tt("scroll",a);break;case"onScrollEnd":d!=null&&Tt("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}u=nu(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,""+d):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":d===!0?a.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,d):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(u,d):a.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(u):a.setAttribute(u,d);break;case"popover":Tt("beforetoggle",a),Tt("toggle",a),Co(a,"popover",d);break;case"xlinkActuate":Sn(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Sn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Sn(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Sn(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Sn(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Sn(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Sn(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Sn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Sn(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Co(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Hd.get(u)||u,Co(a,u,d))}}function F0(a,s,u,d,y,b){switch(u){case"style":sf(a,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof d=="string"?sr(a,d):(typeof d=="number"||typeof d=="bigint")&&sr(a,""+d);break;case"onScroll":d!=null&&Tt("scroll",a);break;case"onScrollEnd":d!=null&&Tt("scrollend",a);break;case"onClick":d!=null&&(a.onclick=Ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!La.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),s=u.slice(2,y?u.length-7:void 0),b=a[Pn]||null,b=b!=null?b[u]:null,typeof b=="function"&&a.removeEventListener(s,b,y),typeof d=="function")){typeof b!="function"&&b!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(s,d,y);break e}u in a?a[u]=d:d===!0?a.setAttribute(u,""):Co(a,u,d)}}}function hr(a,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Tt("error",a),Tt("load",a);var d=!1,y=!1,b;for(b in u)if(u.hasOwnProperty(b)){var R=u[b];if(R!=null)switch(b){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:tn(a,s,b,R,u,null)}}y&&tn(a,s,"srcSet",u.srcSet,u,null),d&&tn(a,s,"src",u.src,u,null);return;case"input":Tt("invalid",a);var q=b=R=y=null,K=null,ae=null;for(d in u)if(u.hasOwnProperty(d)){var fe=u[d];if(fe!=null)switch(d){case"name":y=fe;break;case"type":R=fe;break;case"checked":K=fe;break;case"defaultChecked":ae=fe;break;case"value":b=fe;break;case"defaultValue":q=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,s));break;default:tn(a,s,d,fe,u,null)}}Lt(a,b,q,K,ae,R,y,!1);return;case"select":Tt("invalid",a),d=R=b=null;for(y in u)if(u.hasOwnProperty(y)&&(q=u[y],q!=null))switch(y){case"value":b=q;break;case"defaultValue":R=q;break;case"multiple":d=q;default:tn(a,s,y,q,u,null)}s=b,u=R,a.multiple=!!d,s!=null?oa(a,!!d,s,!1):u!=null&&oa(a,!!d,u,!0);return;case"textarea":Tt("invalid",a),b=y=d=null;for(R in u)if(u.hasOwnProperty(R)&&(q=u[R],q!=null))switch(R){case"value":d=q;break;case"defaultValue":y=q;break;case"children":b=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(91));break;default:tn(a,s,R,q,u,null)}sa(a,d,y,b);return;case"option":for(K in u)if(u.hasOwnProperty(K)&&(d=u[K],d!=null))switch(K){case"selected":a.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:tn(a,s,K,d,u,null)}return;case"dialog":Tt("beforetoggle",a),Tt("toggle",a),Tt("cancel",a),Tt("close",a);break;case"iframe":case"object":Tt("load",a);break;case"video":case"audio":for(d=0;d<Bf.length;d++)Tt(Bf[d],a);break;case"image":Tt("error",a),Tt("load",a);break;case"details":Tt("toggle",a);break;case"embed":case"source":case"link":Tt("error",a),Tt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in u)if(u.hasOwnProperty(ae)&&(d=u[ae],d!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:tn(a,s,ae,d,u,null)}return;default:if(tu(s)){for(fe in u)u.hasOwnProperty(fe)&&(d=u[fe],d!==void 0&&F0(a,s,fe,d,u,void 0));return}}for(q in u)u.hasOwnProperty(q)&&(d=u[q],d!=null&&tn(a,s,q,d,u,null))}function vB(a,s,u,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,R=null,q=null,K=null,ae=null,fe=null;for(ue in u){var ge=u[ue];if(u.hasOwnProperty(ue)&&ge!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":K=ge;default:d.hasOwnProperty(ue)||tn(a,s,ue,null,d,ge)}}for(var oe in d){var ue=d[oe];if(ge=u[oe],d.hasOwnProperty(oe)&&(ue!=null||ge!=null))switch(oe){case"type":b=ue;break;case"name":y=ue;break;case"checked":ae=ue;break;case"defaultChecked":fe=ue;break;case"value":R=ue;break;case"defaultValue":q=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,s));break;default:ue!==ge&&tn(a,s,oe,ue,d,ge)}}dt(a,R,q,K,ae,fe,b,y);return;case"select":ue=R=q=oe=null;for(b in u)if(K=u[b],u.hasOwnProperty(b)&&K!=null)switch(b){case"value":break;case"multiple":ue=K;default:d.hasOwnProperty(b)||tn(a,s,b,null,d,K)}for(y in d)if(b=d[y],K=u[y],d.hasOwnProperty(y)&&(b!=null||K!=null))switch(y){case"value":oe=b;break;case"defaultValue":q=b;break;case"multiple":R=b;default:b!==K&&tn(a,s,y,b,d,K)}s=q,u=R,d=ue,oe!=null?oa(a,!!u,oe,!1):!!d!=!!u&&(s!=null?oa(a,!!u,s,!0):oa(a,!!u,u?[]:"",!1));return;case"textarea":ue=oe=null;for(q in u)if(y=u[q],u.hasOwnProperty(q)&&y!=null&&!d.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:tn(a,s,q,null,d,y)}for(R in d)if(y=d[R],b=u[R],d.hasOwnProperty(R)&&(y!=null||b!=null))switch(R){case"value":oe=y;break;case"defaultValue":ue=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==b&&tn(a,s,R,y,d,b)}eu(a,oe,ue);return;case"option":for(var je in u)if(oe=u[je],u.hasOwnProperty(je)&&oe!=null&&!d.hasOwnProperty(je))switch(je){case"selected":a.selected=!1;break;default:tn(a,s,je,null,d,oe)}for(K in d)if(oe=d[K],ue=u[K],d.hasOwnProperty(K)&&oe!==ue&&(oe!=null||ue!=null))switch(K){case"selected":a.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:tn(a,s,K,oe,d,ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in u)oe=u[Ze],u.hasOwnProperty(Ze)&&oe!=null&&!d.hasOwnProperty(Ze)&&tn(a,s,Ze,null,d,oe);for(ae in d)if(oe=d[ae],ue=u[ae],d.hasOwnProperty(ae)&&oe!==ue&&(oe!=null||ue!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,s));break;default:tn(a,s,ae,oe,d,ue)}return;default:if(tu(s)){for(var nn in u)oe=u[nn],u.hasOwnProperty(nn)&&oe!==void 0&&!d.hasOwnProperty(nn)&&F0(a,s,nn,void 0,d,oe);for(fe in d)oe=d[fe],ue=u[fe],!d.hasOwnProperty(fe)||oe===ue||oe===void 0&&ue===void 0||F0(a,s,fe,oe,d,ue);return}}for(var Z in u)oe=u[Z],u.hasOwnProperty(Z)&&oe!=null&&!d.hasOwnProperty(Z)&&tn(a,s,Z,null,d,oe);for(ge in d)oe=d[ge],ue=u[ge],!d.hasOwnProperty(ge)||oe===ue||oe==null&&ue==null||tn(a,s,ge,oe,d,ue)}function _C(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bB(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,u=performance.getEntriesByType("resource"),d=0;d<u.length;d++){var y=u[d],b=y.transferSize,R=y.initiatorType,q=y.duration;if(b&&q&&_C(R)){for(R=0,q=y.responseEnd,d+=1;d<u.length;d++){var K=u[d],ae=K.startTime;if(ae>q)break;var fe=K.transferSize,ge=K.initiatorType;fe&&_C(ge)&&(K=K.responseEnd,R+=fe*(K<q?1:(q-ae)/(K-ae)))}if(--d,s+=8*(b+R)/(y.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var H0=null,G0=null;function Gp(a){return a.nodeType===9?a:a.ownerDocument}function xC(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wC(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function K0(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var W0=null;function _B(){var a=window.event;return a&&a.type==="popstate"?a===W0?!1:(W0=a,!0):(W0=null,!1)}var SC=typeof setTimeout=="function"?setTimeout:void 0,xB=typeof clearTimeout=="function"?clearTimeout:void 0,EC=typeof Promise=="function"?Promise:void 0,wB=typeof queueMicrotask=="function"?queueMicrotask:typeof EC<"u"?function(a){return EC.resolve(null).then(a).catch(SB)}:SC;function SB(a){setTimeout(function(){throw a})}function Qo(a){return a==="head"}function TC(a,s){var u=s,d=0;do{var y=u.nextSibling;if(a.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"||u==="/&"){if(d===0){a.removeChild(y),Du(s);return}d--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")d++;else if(u==="html")zf(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,zf(u);for(var b=u.firstChild;b;){var R=b.nextSibling,q=b.nodeName;b[pi]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=R}}else u==="body"&&zf(a.ownerDocument.body);u=y}while(u);Du(s)}function AC(a,s){var u=a;a=0;do{var d=u.nextSibling;if(u.nodeType===1?s?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(s?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),d&&d.nodeType===8)if(u=d.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=d}while(u)}function Y0(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Y0(u),$i(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function EB(a,s,u,d){for(;a.nodeType===1;){var y=u;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[pi])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=Ai(a.nextSibling),a===null)break}return null}function TB(a,s,u){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Ai(a.nextSibling),a===null))return null;return a}function OC(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=Ai(a.nextSibling),a===null))return null;return a}function X0(a){return a.data==="$?"||a.data==="$~"}function Q0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function AB(a,s){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||u.readyState!=="loading")s();else{var d=function(){s(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}function Ai(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var J0=null;function CC(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(s===0)return Ai(a.nextSibling);s--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||s++}a=a.nextSibling}return null}function IC(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(s===0)return a;s--}else u!=="/$"&&u!=="/&"||s++}a=a.previousSibling}return null}function PC(a,s,u){switch(s=Gp(u),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function zf(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);$i(a)}var Oi=new Map,RC=new Set;function Kp(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var to=Y.d;Y.d={f:OB,r:CB,D:IB,C:PB,L:RB,m:NB,X:MB,S:kB,M:jB};function OB(){var a=to.f(),s=Vp();return a||s}function CB(a){var s=_r(a);s!==null&&s.tag===5&&s.type==="form"?WO(s):to.r(a)}var ku=typeof document>"u"?null:document;function NC(a,s,u){var d=ku;if(d&&typeof s=="string"&&s){var y=st(s);y='link[rel="'+a+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),RC.has(y)||(RC.add(y),a={rel:a,crossOrigin:u,href:s},d.querySelector(y)===null&&(s=d.createElement("link"),hr(s,"link",a),_n(s),d.head.appendChild(s)))}}function IB(a){to.D(a),NC("dns-prefetch",a,null)}function PB(a,s){to.C(a,s),NC("preconnect",a,s)}function RB(a,s,u){to.L(a,s,u);var d=ku;if(d&&a&&s){var y='link[rel="preload"][as="'+st(s)+'"]';s==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+st(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+st(u.imageSizes)+'"]')):y+='[href="'+st(a)+'"]';var b=y;switch(s){case"style":b=Mu(a);break;case"script":b=ju(a)}Oi.has(b)||(a=m({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:a,as:s},u),Oi.set(b,a),d.querySelector(y)!==null||s==="style"&&d.querySelector(Ff(b))||s==="script"&&d.querySelector(Hf(b))||(s=d.createElement("link"),hr(s,"link",a),_n(s),d.head.appendChild(s)))}}function NB(a,s){to.m(a,s);var u=ku;if(u&&a){var d=s&&typeof s.as=="string"?s.as:"script",y='link[rel="modulepreload"][as="'+st(d)+'"][href="'+st(a)+'"]',b=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=ju(a)}if(!Oi.has(b)&&(a=m({rel:"modulepreload",href:a},s),Oi.set(b,a),u.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Hf(b)))return}d=u.createElement("link"),hr(d,"link",a),_n(d),u.head.appendChild(d)}}}function kB(a,s,u){to.S(a,s,u);var d=ku;if(d&&a){var y=mi(d).hoistableStyles,b=Mu(a);s=s||"default";var R=y.get(b);if(!R){var q={loading:0,preload:null};if(R=d.querySelector(Ff(b)))q.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":s},u),(u=Oi.get(b))&&Z0(a,u);var K=R=d.createElement("link");_n(K),hr(K,"link",a),K._p=new Promise(function(ae,fe){K.onload=ae,K.onerror=fe}),K.addEventListener("load",function(){q.loading|=1}),K.addEventListener("error",function(){q.loading|=2}),q.loading|=4,Wp(R,s,d)}R={type:"stylesheet",instance:R,count:1,state:q},y.set(b,R)}}}function MB(a,s){to.X(a,s);var u=ku;if(u&&a){var d=mi(u).hoistableScripts,y=ju(a),b=d.get(y);b||(b=u.querySelector(Hf(y)),b||(a=m({src:a,async:!0},s),(s=Oi.get(y))&&eb(a,s),b=u.createElement("script"),_n(b),hr(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(y,b))}}function jB(a,s){to.M(a,s);var u=ku;if(u&&a){var d=mi(u).hoistableScripts,y=ju(a),b=d.get(y);b||(b=u.querySelector(Hf(y)),b||(a=m({src:a,async:!0,type:"module"},s),(s=Oi.get(y))&&eb(a,s),b=u.createElement("script"),_n(b),hr(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(y,b))}}function kC(a,s,u,d){var y=(y=xe.current)?Kp(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=Mu(u.href),u=mi(y).hoistableStyles,d=u.get(s),d||(d={type:"style",instance:null,count:0,state:null},u.set(s,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=Mu(u.href);var b=mi(y).hoistableStyles,R=b.get(a);if(R||(y=y.ownerDocument||y,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,R),(b=y.querySelector(Ff(a)))&&!b._p&&(R.instance=b,R.state.loading=5),Oi.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Oi.set(a,u),b||DB(y,a,u,R.state))),s&&d===null)throw Error(r(528,""));return R}if(s&&d!==null)throw Error(r(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ju(u),u=mi(y).hoistableScripts,d=u.get(s),d||(d={type:"script",instance:null,count:0,state:null},u.set(s,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Mu(a){return'href="'+st(a)+'"'}function Ff(a){return'link[rel="stylesheet"]['+a+"]"}function MC(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function DB(a,s,u,d){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?d.loading=1:(s=a.createElement("link"),d.preload=s,s.addEventListener("load",function(){return d.loading|=1}),s.addEventListener("error",function(){return d.loading|=2}),hr(s,"link",u),_n(s),a.head.appendChild(s))}function ju(a){return'[src="'+st(a)+'"]'}function Hf(a){return"script[async]"+a}function jC(a,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var d=a.querySelector('style[data-href~="'+st(u.href)+'"]');if(d)return s.instance=d,_n(d),d;var y=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),_n(d),hr(d,"style",y),Wp(d,u.precedence,a),s.instance=d;case"stylesheet":y=Mu(u.href);var b=a.querySelector(Ff(y));if(b)return s.state.loading|=4,s.instance=b,_n(b),b;d=MC(u),(y=Oi.get(y))&&Z0(d,y),b=(a.ownerDocument||a).createElement("link"),_n(b);var R=b;return R._p=new Promise(function(q,K){R.onload=q,R.onerror=K}),hr(b,"link",d),s.state.loading|=4,Wp(b,u.precedence,a),s.instance=b;case"script":return b=ju(u.src),(y=a.querySelector(Hf(b)))?(s.instance=y,_n(y),y):(d=u,(y=Oi.get(b))&&(d=m({},u),eb(d,y)),a=a.ownerDocument||a,y=a.createElement("script"),_n(y),hr(y,"link",d),a.head.appendChild(y),s.instance=y);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(d=s.instance,s.state.loading|=4,Wp(d,u.precedence,a));return s.instance}function Wp(a,s,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,b=y,R=0;R<d.length;R++){var q=d[R];if(q.dataset.precedence===s)b=q;else if(b!==y)break}b?b.parentNode.insertBefore(a,b.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(a,s.firstChild))}function Z0(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function eb(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var Yp=null;function DC(a,s,u){if(Yp===null){var d=new Map,y=Yp=new Map;y.set(u,d)}else y=Yp,d=y.get(u),d||(d=new Map,y.set(u,d));if(d.has(a))return d;for(d.set(a,null),u=u.getElementsByTagName(a),y=0;y<u.length;y++){var b=u[y];if(!(b[pi]||b[In]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var R=b.getAttribute(s)||"";R=a+R;var q=d.get(R);q?q.push(b):d.set(R,[b])}}return d}function LC(a,s,u){a=a.ownerDocument||a,a.head.insertBefore(u,s==="title"?a.querySelector("head > title"):null)}function LB(a,s,u){if(u===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function VC(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function VB(a,s,u,d){if(u.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var y=Mu(d.href),b=s.querySelector(Ff(y));if(b){s=b._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=Xp.bind(a),s.then(a,a)),u.state.loading|=4,u.instance=b,_n(b);return}b=s.ownerDocument||s,d=MC(d),(y=Oi.get(y))&&Z0(d,y),b=b.createElement("link"),_n(b);var R=b;R._p=new Promise(function(q,K){R.onload=q,R.onerror=K}),hr(b,"link",d),u.instance=b}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,s),(s=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=Xp.bind(a),s.addEventListener("load",u),s.addEventListener("error",u))}}var tb=0;function $B(a,s){return a.stylesheets&&a.count===0&&Jp(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var d=setTimeout(function(){if(a.stylesheets&&Jp(a,a.stylesheets),a.unsuspend){var b=a.unsuspend;a.unsuspend=null,b()}},6e4+s);0<a.imgBytes&&tb===0&&(tb=62500*bB());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Jp(a,a.stylesheets),a.unsuspend)){var b=a.unsuspend;a.unsuspend=null,b()}},(a.imgBytes>tb?50:800)+s);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(d),clearTimeout(y)}}:null}function Xp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jp(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Qp=null;function Jp(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Qp=new Map,s.forEach(UB,a),Qp=null,Xp.call(a))}function UB(a,s){if(!(s.state.loading&4)){var u=Qp.get(a);if(u)var d=u.get(null);else{u=new Map,Qp.set(a,u);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var R=y[b];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(u.set(R.dataset.precedence,R),d=R)}d&&u.set(null,d)}y=s.instance,R=y.getAttribute("data-precedence"),b=u.get(R)||d,b===d&&u.set(null,y),u.set(R,y),this.count++,d=Xp.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),b?b.parentNode.insertBefore(y,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),s.state.loading|=4}}var Gf={$$typeof:N,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function BB(a,s,u,d,y,b,R,q,K){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=or(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=or(0),this.hiddenUpdates=or(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function $C(a,s,u,d,y,b,R,q,K,ae,fe,ge){return a=new BB(a,s,u,R,K,ae,fe,ge,q),s=1,b===!0&&(s|=24),b=Zr(3,null,null,s),a.current=b,b.stateNode=a,s=Mv(),s.refCount++,a.pooledCache=s,s.refCount++,b.memoizedState={element:d,isDehydrated:u,cache:s},Vv(b),a}function UC(a){return a?(a=hu,a):hu}function BC(a,s,u,d,y,b){y=UC(y),d.context===null?d.context=y:d.pendingContext=y,d=Uo(s),d.payload={element:u},b=b===void 0?null:b,b!==null&&(d.callback=b),u=Bo(a,d,s),u!==null&&(qr(u,a,s),Ef(u,a,s))}function qC(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<s?u:s}}function nb(a,s){qC(a,s),(a=a.alternate)&&qC(a,s)}function zC(a){if(a.tag===13||a.tag===31){var s=Ws(a,67108864);s!==null&&qr(s,a,67108864),nb(a,67108864)}}function FC(a){if(a.tag===13||a.tag===31){var s=ii();s=Da(s);var u=Ws(a,s);u!==null&&qr(u,a,s),nb(a,s)}}var Zp=!0;function qB(a,s,u,d){var y=H.T;H.T=null;var b=Y.p;try{Y.p=2,rb(a,s,u,d)}finally{Y.p=b,H.T=y}}function zB(a,s,u,d){var y=H.T;H.T=null;var b=Y.p;try{Y.p=8,rb(a,s,u,d)}finally{Y.p=b,H.T=y}}function rb(a,s,u,d){if(Zp){var y=ib(d);if(y===null)z0(a,s,d,em,u),GC(a,d);else if(HB(y,a,s,u,d))d.stopPropagation();else if(GC(a,d),s&4&&-1<FB.indexOf(a)){for(;y!==null;){var b=_r(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var R=qe(b.pendingLanes);if(R!==0){var q=b;for(q.pendingLanes|=2,q.entangledLanes|=2;R;){var K=1<<31-qt(R);q.entanglements[1]|=K,R&=~K}ya(b),(Gt&6)===0&&(Dp=Ae()+500,Uf(0))}}break;case 31:case 13:q=Ws(b,2),q!==null&&qr(q,b,2),Vp(),nb(b,2)}if(b=ib(d),b===null&&z0(a,s,d,em,u),b===y)break;y=b}y!==null&&d.stopPropagation()}else z0(a,s,d,null,u)}}function ib(a){return a=yi(a),ab(a)}var em=null;function ab(a){if(em=null,a=br(a),a!==null){var s=o(a);if(s===null)a=null;else{var u=s.tag;if(u===13){if(a=l(s),a!==null)return a;a=null}else if(u===31){if(a=c(s),a!==null)return a;a=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return em=a,null}function HC(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bt()){case Nt:return 2;case pe:return 8;case Pe:case at:return 32;case jt:return 268435456;default:return 32}default:return 32}}var ob=!1,Jo=null,Zo=null,es=null,Kf=new Map,Wf=new Map,ts=[],FB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function GC(a,s){switch(a){case"focusin":case"focusout":Jo=null;break;case"dragenter":case"dragleave":Zo=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":Kf.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wf.delete(s.pointerId)}}function Yf(a,s,u,d,y,b){return a===null||a.nativeEvent!==b?(a={blockedOn:s,domEventName:u,eventSystemFlags:d,nativeEvent:b,targetContainers:[y]},s!==null&&(s=_r(s),s!==null&&zC(s)),a):(a.eventSystemFlags|=d,s=a.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),a)}function HB(a,s,u,d,y){switch(s){case"focusin":return Jo=Yf(Jo,a,s,u,d,y),!0;case"dragenter":return Zo=Yf(Zo,a,s,u,d,y),!0;case"mouseover":return es=Yf(es,a,s,u,d,y),!0;case"pointerover":var b=y.pointerId;return Kf.set(b,Yf(Kf.get(b)||null,a,s,u,d,y)),!0;case"gotpointercapture":return b=y.pointerId,Wf.set(b,Yf(Wf.get(b)||null,a,s,u,d,y)),!0}return!1}function KC(a){var s=br(a.target);if(s!==null){var u=o(s);if(u!==null){if(s=u.tag,s===13){if(s=l(u),s!==null){a.blockedOn=s,Yr(a.priority,function(){FC(u)});return}}else if(s===31){if(s=c(u),s!==null){a.blockedOn=s,Yr(a.priority,function(){FC(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function tm(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var u=ib(a.nativeEvent);if(u===null){u=a.nativeEvent;var d=new u.constructor(u.type,u);lf=d,u.target.dispatchEvent(d),lf=null}else return s=_r(u),s!==null&&zC(s),a.blockedOn=u,!1;s.shift()}return!0}function WC(a,s,u){tm(a)&&u.delete(s)}function GB(){ob=!1,Jo!==null&&tm(Jo)&&(Jo=null),Zo!==null&&tm(Zo)&&(Zo=null),es!==null&&tm(es)&&(es=null),Kf.forEach(WC),Wf.forEach(WC)}function nm(a,s){a.blockedOn===s&&(a.blockedOn=null,ob||(ob=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,GB)))}var rm=null;function YC(a){rm!==a&&(rm=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){rm===a&&(rm=null);for(var s=0;s<a.length;s+=3){var u=a[s],d=a[s+1],y=a[s+2];if(typeof d!="function"){if(ab(d||u)===null)continue;break}var b=_r(u);b!==null&&(a.splice(s,3),s-=3,i0(b,{pending:!0,data:y,method:u.method,action:d},d,y))}}))}function Du(a){function s(K){return nm(K,a)}Jo!==null&&nm(Jo,a),Zo!==null&&nm(Zo,a),es!==null&&nm(es,a),Kf.forEach(s),Wf.forEach(s);for(var u=0;u<ts.length;u++){var d=ts[u];d.blockedOn===a&&(d.blockedOn=null)}for(;0<ts.length&&(u=ts[0],u.blockedOn===null);)KC(u),u.blockedOn===null&&ts.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var y=u[d],b=u[d+1],R=y[Pn]||null;if(typeof b=="function")R||YC(u);else if(R){var q=null;if(b&&b.hasAttribute("formAction")){if(y=b,R=b[Pn]||null)q=R.formAction;else if(ab(y)!==null)continue}else q=R.action;typeof q=="function"?u[d+1]=q:(u.splice(d,3),d-=3),YC(u)}}}function XC(){function a(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(R){return y=R})},focusReset:"manual",scroll:"manual"})}function s(){y!==null&&(y(),y=null),d||setTimeout(u,20)}function u(){if(!d&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(u,100),function(){d=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),y!==null&&(y(),y=null)}}}function sb(a){this._internalRoot=a}im.prototype.render=sb.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var u=s.current,d=ii();BC(u,d,a,s,null,null)},im.prototype.unmount=sb.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;BC(a.current,2,null,a,null,null),Vp(),s[Lr]=null}};function im(a){this._internalRoot=a}im.prototype.unstable_scheduleHydration=function(a){if(a){var s=Xl();a={blockedOn:null,target:a,priority:s};for(var u=0;u<ts.length&&s!==0&&s<ts[u].priority;u++);ts.splice(u,0,a),u===0&&KC(a)}};var QC=e.version;if(QC!=="19.2.0")throw Error(r(527,QC,"19.2.0"));Y.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(s),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var KB={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var am=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!am.isDisabled&&am.supportsFiber)try{it=am.inject(KB),gt=am}catch{}}return Qf.createRoot=function(a,s){if(!i(a))throw Error(r(299));var u=!1,d="",y=i2,b=a2,R=o2;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(R=s.onRecoverableError)),s=$C(a,1,!1,null,null,u,d,null,y,b,R,XC),a[Lr]=s.current,q0(a),new sb(s)},Qf.hydrateRoot=function(a,s,u){if(!i(a))throw Error(r(299));var d=!1,y="",b=i2,R=a2,q=o2,K=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(R=u.onCaughtError),u.onRecoverableError!==void 0&&(q=u.onRecoverableError),u.formState!==void 0&&(K=u.formState)),s=$C(a,1,!0,s,u??null,d,y,K,b,R,q,XC),s.context=UC(null),u=s.current,d=ii(),d=Da(d),y=Uo(d),y.callback=null,Bo(u,y,d),u=d,s.current.lanes=u,Wr(s,u),ya(s),a[Lr]=s.current,q0(a),new im(s)},Qf.version="19.2.0",Qf}var sI;function r9(){if(sI)return ub.exports;sI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ub.exports=n9(),ub.exports}var i9=r9();const a9=Kt(i9);var $=ME();const G=Kt($),nde=YB({__proto__:null,default:G},[$]),o9=()=>{};var lI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},s9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],l=t[n++],c=t[n++],f=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},l4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],l=i+1<t.length,c=l?t[i+1]:0,f=i+2<t.length,h=f?t[i+2]:0,p=o>>2,m=(o&3)<<4|c>>4;let v=(c&15)<<2|h>>6,_=h&63;f||(_=64,l||(v=64)),r.push(n[p],n[m],n[v],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):s9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||h==null||m==null)throw new l9;const v=o<<2|c>>4;if(r.push(v),h!==64){const _=c<<4&240|h>>2;if(r.push(_),m!==64){const E=h<<6&192|m;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class l9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u9=function(t){const e=s4(t);return l4.encodeByteArray(e,!0)},Vm=function(t){return u9(t).replace(/\./g,"")},u4=function(t){try{return l4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9=()=>c9().__FIREBASE_DEFAULTS__,h9=()=>{if(typeof process>"u"||typeof lI>"u")return;const t=lI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},d9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&u4(t[1]);return e&&JSON.parse(e)},sy=()=>{try{return o9()||f9()||h9()||d9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},c4=t=>{var e,n;return(n=(e=sy())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},p9=t=>{const e=c4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},f4=()=>{var t;return(t=sy())==null?void 0:t.config},h4=t=>{var e;return(e=sy())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function d4(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Vm(JSON.stringify(n)),Vm(JSON.stringify(l)),""].join(".")}const bh={};function y9(){const t={prod:[],emulator:[]};for(const e of Object.keys(bh))bh[e]?t.emulator.push(e):t.prod.push(e);return t}function v9(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let uI=!1;function p4(t,e){if(typeof window>"u"||typeof document>"u"||!Fc(window.location.host)||bh[t]===e||bh[t]||uI)return;bh[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",o=y9().prod.length>0;function l(){const v=document.getElementById(r);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,_){v.setAttribute("width","24"),v.setAttribute("id",_),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function h(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{uI=!0,l()},v}function p(v,_){v.setAttribute("id",_),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function m(){const v=v9(r),_=n("text"),E=document.getElementById(_)||document.createElement("span"),S=n("learnmore"),w=document.getElementById(S)||document.createElement("a"),O=n("preprendIcon"),I=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const N=v.element;c(N),p(w,S);const L=h();f(I,O),N.append(I,E,w,L),document.body.appendChild(N)}o?(E.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function b9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cr())}function _9(){var e;const t=(e=sy())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function x9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function w9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function S9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function E9(){const t=Cr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function T9(){return!_9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function A9(){try{return typeof indexedDB=="object"}catch{return!1}}function O9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9="FirebaseError";class wo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=C9,Object.setPrototypeOf(this,wo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ed.prototype.create)}}class Ed{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?I9(o,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new wo(i,c,r)}}function I9(t,e){return t.replace(P9,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const P9=/\{\$([^}]+)}/g;function R9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Il(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],l=e[i];if(cI(o)&&cI(l)){if(!Il(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function cI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function N9(t,e){const n=new k9(t,e);return n.subscribe.bind(n)}class k9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");M9(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=pb),i.error===void 0&&(i.error=pb),i.complete===void 0&&(i.complete=pb);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function M9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function pb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(t){return t&&t._delegate?t._delegate:t}class Pl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new m9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(L9(e))try{this.getOrInitializeService({instanceIdentifier:hl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=hl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hl){return this.instances.has(e)}getOptions(e=hl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:D9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hl){return this.component?this.component.multipleInstances?e:hl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function D9(t){return t===hl?void 0:t}function L9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new j9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(It||(It={}));const $9={debug:It.DEBUG,verbose:It.VERBOSE,info:It.INFO,warn:It.WARN,error:It.ERROR,silent:It.SILENT},U9=It.INFO,B9={[It.DEBUG]:"log",[It.VERBOSE]:"log",[It.INFO]:"info",[It.WARN]:"warn",[It.ERROR]:"error"},q9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=B9[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jE{constructor(e){this.name=e,this._logLevel=U9,this._logHandler=q9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in It))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,It.DEBUG,...e),this._logHandler(this,It.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,It.VERBOSE,...e),this._logHandler(this,It.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,It.INFO,...e),this._logHandler(this,It.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,It.WARN,...e),this._logHandler(this,It.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,It.ERROR,...e),this._logHandler(this,It.ERROR,...e)}}const z9=(t,e)=>e.some(n=>t instanceof n);let fI,hI;function F9(){return fI||(fI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function H9(){return hI||(hI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const m4=new WeakMap,k1=new WeakMap,g4=new WeakMap,mb=new WeakMap,DE=new WeakMap;function G9(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(ds(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&m4.set(n,t)}).catch(()=>{}),DE.set(e,t),e}function K9(t){if(k1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});k1.set(t,e)}let M1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return k1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||g4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ds(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function W9(t){M1=t(M1)}function Y9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(gb(this),e,...n);return g4.set(r,e.sort?e.sort():[e]),ds(r)}:H9().includes(t)?function(...e){return t.apply(gb(this),e),ds(m4.get(this))}:function(...e){return ds(t.apply(gb(this),e))}}function X9(t){return typeof t=="function"?Y9(t):(t instanceof IDBTransaction&&K9(t),z9(t,F9())?new Proxy(t,M1):t)}function ds(t){if(t instanceof IDBRequest)return G9(t);if(mb.has(t))return mb.get(t);const e=X9(t);return e!==t&&(mb.set(t,e),DE.set(e,t)),e}const gb=t=>DE.get(t);function Q9(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(t,e),c=ds(l);return r&&l.addEventListener("upgradeneeded",f=>{r(ds(l.result),f.oldVersion,f.newVersion,ds(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{o&&f.addEventListener("close",()=>o()),i&&f.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const J9=["get","getKey","getAll","getAllKeys","count"],Z9=["put","add","delete","clear"],yb=new Map;function dI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yb.get(e))return yb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Z9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||J9.includes(n)))return;const o=async function(l,...c){const f=this.transaction(l,i?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),i&&f.done]))[0]};return yb.set(e,o),o}W9(t=>({...t,get:(e,n,r)=>dI(e,n)||t.get(e,n,r),has:(e,n)=>!!dI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tq(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function tq(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const j1="@firebase/app",pI="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=new jE("@firebase/app"),nq="@firebase/app-compat",rq="@firebase/analytics-compat",iq="@firebase/analytics",aq="@firebase/app-check-compat",oq="@firebase/app-check",sq="@firebase/auth",lq="@firebase/auth-compat",uq="@firebase/database",cq="@firebase/data-connect",fq="@firebase/database-compat",hq="@firebase/functions",dq="@firebase/functions-compat",pq="@firebase/installations",mq="@firebase/installations-compat",gq="@firebase/messaging",yq="@firebase/messaging-compat",vq="@firebase/performance",bq="@firebase/performance-compat",_q="@firebase/remote-config",xq="@firebase/remote-config-compat",wq="@firebase/storage",Sq="@firebase/storage-compat",Eq="@firebase/firestore",Tq="@firebase/ai",Aq="@firebase/firestore-compat",Oq="firebase",Cq="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="[DEFAULT]",Iq={[j1]:"fire-core",[nq]:"fire-core-compat",[iq]:"fire-analytics",[rq]:"fire-analytics-compat",[oq]:"fire-app-check",[aq]:"fire-app-check-compat",[sq]:"fire-auth",[lq]:"fire-auth-compat",[uq]:"fire-rtdb",[cq]:"fire-data-connect",[fq]:"fire-rtdb-compat",[hq]:"fire-fn",[dq]:"fire-fn-compat",[pq]:"fire-iid",[mq]:"fire-iid-compat",[gq]:"fire-fcm",[yq]:"fire-fcm-compat",[vq]:"fire-perf",[bq]:"fire-perf-compat",[_q]:"fire-rc",[xq]:"fire-rc-compat",[wq]:"fire-gcs",[Sq]:"fire-gcs-compat",[Eq]:"fire-fst",[Aq]:"fire-fst-compat",[Tq]:"fire-vertex","fire-js":"fire-js",[Oq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m=new Map,Pq=new Map,L1=new Map;function mI(t,e){try{t.container.addComponent(e)}catch(n){mo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function lc(t){const e=t.name;if(L1.has(e))return mo.debug(`There were multiple attempts to register component ${e}.`),!1;L1.set(e,t);for(const n of $m.values())mI(n,t);for(const n of Pq.values())mI(n,t);return!0}function LE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ji(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ps=new Ed("app","Firebase",Rq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ps.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=Cq;function y4(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:D1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ps.create("bad-app-name",{appName:String(i)});if(n||(n=f4()),!n)throw ps.create("no-options");const o=$m.get(i);if(o){if(Il(n,o.options)&&Il(r,o.config))return o;throw ps.create("duplicate-app",{appName:i})}const l=new V9(i);for(const f of L1.values())l.addComponent(f);const c=new Nq(n,r,l);return $m.set(i,c),c}function v4(t=D1){const e=$m.get(t);if(!e&&t===D1&&f4())return y4();if(!e)throw ps.create("no-app",{appName:t});return e}function ms(t,e,n){let r=Iq[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mo.warn(l.join(" "));return}lc(new Pl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kq="firebase-heartbeat-database",Mq=1,kh="firebase-heartbeat-store";let vb=null;function b4(){return vb||(vb=Q9(kq,Mq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(kh)}catch(n){console.warn(n)}}}}).catch(t=>{throw ps.create("idb-open",{originalErrorMessage:t.message})})),vb}async function jq(t){try{const n=(await b4()).transaction(kh),r=await n.objectStore(kh).get(_4(t));return await n.done,r}catch(e){if(e instanceof wo)mo.warn(e.message);else{const n=ps.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mo.warn(n.message)}}}async function gI(t,e){try{const r=(await b4()).transaction(kh,"readwrite");await r.objectStore(kh).put(e,_4(t)),await r.done}catch(n){if(n instanceof wo)mo.warn(n.message);else{const r=ps.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mo.warn(r.message)}}}function _4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dq=1024,Lq=30;class Vq{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Uq(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=yI();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Lq){const l=Bq(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){mo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=yI(),{heartbeatsToSend:r,unsentEntries:i}=$q(this._heartbeatsCache.heartbeats),o=Vm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return mo.warn(n),""}}}function yI(){return new Date().toISOString().substring(0,10)}function $q(t,e=Dq){const n=[];let r=t.slice();for(const i of t){const o=n.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),vI(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),vI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Uq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return A9()?O9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jq(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return gI(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return gI(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function vI(t){return Vm(JSON.stringify({version:2,heartbeats:t})).length}function Bq(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qq(t){lc(new Pl("platform-logger",e=>new eq(e),"PRIVATE")),lc(new Pl("heartbeat",e=>new Vq(e),"PRIVATE")),ms(j1,pI,t),ms(j1,pI,"esm2020"),ms("fire-js","")}qq("");function x4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zq=x4,w4=new Ed("auth","Firebase",x4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um=new jE("@firebase/auth");function Fq(t,...e){Um.logLevel<=It.WARN&&Um.warn(`Auth (${Hc}): ${t}`,...e)}function Om(t,...e){Um.logLevel<=It.ERROR&&Um.error(`Auth (${Hc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(t,...e){throw $E(t,...e)}function ta(t,...e){return $E(t,...e)}function VE(t,e,n){const r={...zq(),[e]:n};return new Ed("auth","Firebase",r).create(e,{appName:t.name})}function Tl(t){return VE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hq(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ca(t,"argument-error"),VE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $E(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return w4.create(t,...e)}function rt(t,e,...n){if(!t)throw $E(e,...n)}function oo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Om(e),new Error(e)}function go(t,e){t||oo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Gq(){return bI()==="http:"||bI()==="https:"}function bI(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Gq()||w9()||"connection"in navigator)?navigator.onLine:!0}function Wq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n){this.shortDelay=e,this.longDelay=n,go(n>e,"Short delay should be less than long delay!"),this.isMobile=b9()||S9()}get(){return Kq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(t,e){go(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xq=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Qq=new Ad(3e4,6e4);function BE(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Bl(t,e,n,r,i={}){return E4(t,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=Td({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:f,...o};return x9()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Fc(t.emulatorConfig.host)&&(h.credentials="include"),S4.fetch()(await T4(t,t.config.apiHost,n,c),h)})}async function E4(t,e,n){t._canInitEmulator=!1;const r={...Yq,...e};try{const i=new Zq(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw sm(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[f,h]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw sm(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw sm(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw sm(t,"user-disabled",l);const p=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw VE(t,p,h);Ca(t,p)}}catch(i){if(i instanceof wo)throw i;Ca(t,"network-request-failed",{message:String(i)})}}async function Jq(t,e,n,r,i={}){const o=await Bl(t,e,n,r,i);return"mfaPendingCredential"in o&&Ca(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function T4(t,e,n,r){const i=`${e}${n}?${r}`,o=t,l=o.config.emulator?UE(t.config,i):`${t.config.apiScheme}://${i}`;return Xq.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}class Zq{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ta(this.auth,"network-request-failed")),Qq.get())})}}function sm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ta(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ez(t,e){return Bl(t,"POST","/v1/accounts:delete",e)}async function Bm(t,e){return Bl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tz(t,e=!1){const n=Ir(t),r=await n.getIdToken(e),i=qE(r);rt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:_h(bb(i.auth_time)),issuedAtTime:_h(bb(i.iat)),expirationTime:_h(bb(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function bb(t){return Number(t)*1e3}function qE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Om("JWT malformed, contained fewer than 3 sections"),null;try{const i=u4(n);return i?JSON.parse(i):(Om("Failed to decode base64 JWT payload"),null)}catch(i){return Om("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function _I(t){const e=qE(t);return rt(e,"internal-error"),rt(typeof e.exp<"u","internal-error"),rt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof wo&&nz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function nz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_h(this.lastLoginAt),this.creationTime=_h(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qm(t){var m;const e=t.auth,n=await t.getIdToken(),r=await uc(t,Bm(e,{idToken:n}));rt(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(m=i.providerUserInfo)!=null&&m.length?A4(i.providerUserInfo):[],l=az(t.providerData,o),c=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),h=c?f:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new $1(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function iz(t){const e=Ir(t);await qm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function az(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function A4(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oz(t,e){const n=await E4(t,{},async()=>{const r=Td({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,l=await T4(t,i,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:r};return t.emulatorConfig&&Fc(t.emulatorConfig.host)&&(f.credentials="include"),S4.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sz(t,e){return Bl(t,"POST","/v2/accounts:revokeToken",BE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){rt(e.idToken,"internal-error"),rt(typeof e.idToken<"u","internal-error"),rt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_I(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){rt(e.length!==0,"internal-error");const n=_I(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(rt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await oz(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,l=new ec;return r&&(rt(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(rt(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(rt(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ec,this.toJSON())}_performRefresh(){return oo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(t,e){rt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ea{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new rz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new $1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await uc(this,this.stsTokenManager.getToken(this.auth,e));return rt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return tz(this,e)}reload(){return iz(this)}_assign(e){this!==e&&(rt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ea({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){rt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await qm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ji(this.auth.app))return Promise.reject(Tl(this.auth));const e=await this.getIdToken();return await uc(this,ez(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,f=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:m,emailVerified:v,isAnonymous:_,providerData:E,stsTokenManager:S}=n;rt(m&&S,e,"internal-error");const w=ec.fromJSON(this.name,S);rt(typeof m=="string",e,"internal-error"),rs(r,e.name),rs(i,e.name),rt(typeof v=="boolean",e,"internal-error"),rt(typeof _=="boolean",e,"internal-error"),rs(o,e.name),rs(l,e.name),rs(c,e.name),rs(f,e.name),rs(h,e.name),rs(p,e.name);const O=new ea({uid:m,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:_,photoURL:l,phoneNumber:o,tenantId:c,stsTokenManager:w,createdAt:h,lastLoginAt:p});return E&&Array.isArray(E)&&(O.providerData=E.map(I=>({...I}))),f&&(O._redirectEventId=f),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new ec;i.updateFromServerResponse(n);const o=new ea({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await qm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];rt(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?A4(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),c=new ec;c.updateFromIdToken(r);const f=new ea({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new $1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,h),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=new Map;function so(t){go(t instanceof Function,"Expected a class definition");let e=xI.get(t);return e?(go(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,xI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}O4.type="NONE";const wI=O4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(t,e,n){return`firebase:${t}:${e}:${n}`}class tc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Cm(this.userKey,i.apiKey,o),this.fullPersistenceKey=Cm("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Bm(this.auth,{idToken:e}).catch(()=>{});return n?ea._fromGetAccountInfoResponse(this.auth,n,e):null}return ea._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new tc(so(wI),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=i[0]||so(wI);const l=Cm(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const p=await h._get(l);if(p){let m;if(typeof p=="string"){const v=await Bm(e,{idToken:p}).catch(()=>{});if(!v)break;m=await ea._fromGetAccountInfoResponse(e,v,p)}else m=ea._fromJSON(e,p);h!==o&&(c=m),o=h;break}}catch{}const f=i.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new tc(o,e,r):(o=f[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==o)try{await h._remove(l)}catch{}})),new tc(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(R4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(C4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(k4(e))return"Blackberry";if(M4(e))return"Webos";if(I4(e))return"Safari";if((e.includes("chrome/")||P4(e))&&!e.includes("edge/"))return"Chrome";if(N4(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function C4(t=Cr()){return/firefox\//i.test(t)}function I4(t=Cr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function P4(t=Cr()){return/crios\//i.test(t)}function R4(t=Cr()){return/iemobile/i.test(t)}function N4(t=Cr()){return/android/i.test(t)}function k4(t=Cr()){return/blackberry/i.test(t)}function M4(t=Cr()){return/webos/i.test(t)}function zE(t=Cr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function lz(t=Cr()){var e;return zE(t)&&!!((e=window.navigator)!=null&&e.standalone)}function uz(){return E9()&&document.documentMode===10}function j4(t=Cr()){return zE(t)||N4(t)||M4(t)||k4(t)||/windows phone/i.test(t)||R4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(t,e=[]){let n;switch(t){case"Browser":n=SI(Cr());break;case"Worker":n=`${SI(Cr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Hc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,c)=>{try{const f=e(o);l(f)}catch(f){c(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fz(t,e={}){return Bl(t,"GET","/v2/passwordPolicy",BE(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hz=6;class dz{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??hz,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new EI(this),this.idTokenSubscription=new EI(this),this.beforeStateQueue=new cz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=w4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=so(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await tc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Bm(this,{idToken:e}),r=await ea._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Ji(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(o=this.redirectUser)==null?void 0:o._redirectEventId,c=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&(f!=null&&f.user)&&(r=f.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return rt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Wq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ji(this.app))return Promise.reject(Tl(this));const n=e?Ir(e):null;return n&&rt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&rt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ji(this.app)?Promise.reject(Tl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ji(this.app)?Promise.reject(Tl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(so(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fz(this),n=new dz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ed("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await sz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&so(e)||this._popupRedirectResolver;rt(n,this,"argument-error"),this.redirectPersistenceManager=await tc.create(this,[so(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(rt(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return rt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=D4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Ji(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Fq(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ly(t){return Ir(t)}class EI{constructor(e){this.auth=e,this.observer=null,this.addObserver=N9(n=>this.observer=n)}get next(){return rt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mz(t){FE=t}function gz(t){return FE.loadJS(t)}function yz(){return FE.gapiScript}function vz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bz(t,e){const n=LE(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Il(o,e??{}))return i;Ca(i,"already-initialized")}return n.initialize({options:e})}function _z(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(so);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function xz(t,e,n){const r=ly(t);rt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=L4(e),{host:l,port:c}=wz(e),f=c===null?"":`:${c}`,h={url:`${o}//${l}${f}/`},p=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){rt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),rt(Il(h,r.config.emulator)&&Il(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Fc(l)?(d4(`${o}//${l}${f}`),p4("Auth",!0)):Sz()}function L4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function wz(t){const e=L4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:TI(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:TI(l)}}}function TI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Sz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return oo("not implemented")}_getIdTokenResponse(e){return oo("not implemented")}_linkToIdToken(e,n){return oo("not implemented")}_getReauthenticationResolver(e){return oo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nc(t,e){return Jq(t,"POST","/v1/accounts:signInWithIdp",BE(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez="http://localhost";class Rl extends V4{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Rl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ca("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const l=new Rl(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return nc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,nc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,nc(e,n)}buildRequest(){const e={requestUri:Ez,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Td(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od extends HE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Od{constructor(){super("facebook.com")}static credential(e){return Rl._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends Od{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Rl._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ao.credential(n,r)}catch{return null}}}ao.GOOGLE_SIGN_IN_METHOD="google.com";ao.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Od{constructor(){super("github.com")}static credential(e){return Rl._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.GITHUB_SIGN_IN_METHOD="github.com";ls.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends Od{constructor(){super("twitter.com")}static credential(e,n){return Rl._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return us.credential(n,r)}catch{return null}}}us.TWITTER_SIGN_IN_METHOD="twitter.com";us.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await ea._fromIdTokenResponse(e,r,i),l=AI(r);return new cc({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=AI(r);return new cc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function AI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm extends wo{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,zm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new zm(e,n,r,i)}}function $4(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?zm._fromErrorAndOperation(t,o,e,r):o})}async function Tz(t,e,n=!1){const r=await uc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return cc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Az(t,e,n=!1){const{auth:r}=t;if(Ji(r.app))return Promise.reject(Tl(r));const i="reauthenticate";try{const o=await uc(t,$4(r,i,e,t),n);rt(o.idToken,r,"internal-error");const l=qE(o.idToken);rt(l,r,"internal-error");const{sub:c}=l;return rt(t.uid===c,r,"user-mismatch"),cc._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ca(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oz(t,e,n=!1){if(Ji(t.app))return Promise.reject(Tl(t));const r="signIn",i=await $4(t,r,e),o=await cc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cz(t,e){return Bl(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iz(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ir(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await uc(r,Cz(r.auth,o));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:f})=>f==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function Pz(t,e,n,r){return Ir(t).onIdTokenChanged(e,n,r)}function Rz(t,e,n){return Ir(t).beforeAuthStateChanged(e,n)}function Nz(t,e,n,r){return Ir(t).onAuthStateChanged(e,n,r)}function kz(t){return Ir(t).signOut()}const Fm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fm,"1"),this.storage.removeItem(Fm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz=1e3,jz=10;class B4 extends U4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=j4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);uz()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,jz):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Mz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}B4.type="LOCAL";const Dz=B4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4 extends U4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}q4.type="SESSION";const z4=q4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new uy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async h=>h(n.origin,o)),f=await Lz(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,f)=>{const h=GE("",20);i.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(m){const v=m;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(v.data.response);break;default:clearTimeout(p),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(){return window}function $z(t){_a().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(){return typeof _a().WorkerGlobalScope<"u"&&typeof _a().importScripts=="function"}async function Uz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Bz(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function qz(){return F4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4="firebaseLocalStorageDb",zz=1,Hm="firebaseLocalStorage",G4="fbase_key";class Cd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cy(t,e){return t.transaction([Hm],e?"readwrite":"readonly").objectStore(Hm)}function Fz(){const t=indexedDB.deleteDatabase(H4);return new Cd(t).toPromise()}function U1(){const t=indexedDB.open(H4,zz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Hm,{keyPath:G4})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Hm)?e(r):(r.close(),await Fz(),e(await U1()))})})}async function OI(t,e,n){const r=cy(t,!0).put({[G4]:e,value:n});return new Cd(r).toPromise()}async function Hz(t,e){const n=cy(t,!1).get(e),r=await new Cd(n).toPromise();return r===void 0?null:r.value}function CI(t,e){const n=cy(t,!0).delete(e);return new Cd(n).toPromise()}const Gz=800,Kz=3;class K4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await U1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Kz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return F4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uy._getInstance(qz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Uz(),!this.activeServiceWorker)return;this.sender=new Vz(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Bz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await U1();return await OI(e,Fm,"1"),await CI(e,Fm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>OI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Hz(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>CI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=cy(i,!1).getAll();return new Cd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Gz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}K4.type="LOCAL";const Wz=K4;new Ad(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(t,e){return e?so(e):(rt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE extends V4{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return nc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return nc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Yz(t){return Oz(t.auth,new KE(t),t.bypassAuthState)}function Xz(t){const{auth:e,user:n}=t;return rt(n,e,"internal-error"),Az(n,new KE(t),t.bypassAuthState)}async function Qz(t){const{auth:e,user:n}=t;return rt(n,e,"internal-error"),Tz(n,new KE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Yz;case"linkViaPopup":case"linkViaRedirect":return Qz;case"reauthViaPopup":case"reauthViaRedirect":return Xz;default:Ca(this.auth,"internal-error")}}resolve(e){go(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){go(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jz=new Ad(2e3,1e4);async function Zz(t,e,n){if(Ji(t.app))return Promise.reject(ta(t,"operation-not-supported-in-this-environment"));const r=ly(t);Hq(t,e,HE);const i=W4(r,n);return new bl(r,"signInViaPopup",e,i).executeNotNull()}class bl extends Y4{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,bl.currentPopupAction&&bl.currentPopupAction.cancel(),bl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return rt(e,this.auth,"internal-error"),e}async onExecution(){go(this.filter.length===1,"Popup operations only handle one event");const e=GE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ta(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ta(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ta(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Jz.get())};e()}}bl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8="pendingRedirect",Im=new Map;class t8 extends Y4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Im.get(this.auth._key());if(!e){try{const r=await n8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Im.set(this.auth._key(),e)}return this.bypassAuthState||Im.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function n8(t,e){const n=a8(e),r=i8(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function r8(t,e){Im.set(t._key(),e)}function i8(t){return so(t._redirectPersistence)}function a8(t){return Cm(e8,t.config.apiKey,t.name)}async function o8(t,e,n=!1){if(Ji(t.app))return Promise.reject(Tl(t));const r=ly(t),i=W4(r,e),l=await new t8(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s8=600*1e3;class l8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!u8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!X4(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(ta(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=s8&&this.cachedEventUids.clear(),this.cachedEventUids.has(II(e))}saveEventToCache(e){this.cachedEventUids.add(II(e)),this.lastProcessedEventTime=Date.now()}}function II(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function X4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function u8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return X4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c8(t,e={}){return Bl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,h8=/^https?/;async function d8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await c8(t);for(const n of e)try{if(p8(n))return}catch{}Ca(t,"unauthorized-domain")}function p8(t){const e=V1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!h8.test(n))return!1;if(f8.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8=new Ad(3e4,6e4);function PI(){const t=_a().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function g8(t){return new Promise((e,n)=>{var i,o,l;function r(){PI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PI(),n(ta(t,"network-request-failed"))},timeout:m8.get()})}if((o=(i=_a().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((l=_a().gapi)!=null&&l.load)r();else{const c=vz("iframefcb");return _a()[c]=()=>{gapi.load?r():n(ta(t,"network-request-failed"))},gz(`${yz()}?onload=${c}`).catch(f=>n(f))}}).catch(e=>{throw Pm=null,e})}let Pm=null;function y8(t){return Pm=Pm||g8(t),Pm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v8=new Ad(5e3,15e3),b8="__/auth/iframe",_8="emulator/auth/iframe",x8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},w8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function S8(t){const e=t.config;rt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?UE(e,_8):`https://${t.config.authDomain}/${b8}`,r={apiKey:e.apiKey,appName:t.name,v:Hc},i=w8.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Td(r).slice(1)}`}async function E8(t){const e=await y8(t),n=_a().gapi;return rt(n,t,"internal-error"),e.open({where:document.body,url:S8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:x8,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=ta(t,"network-request-failed"),c=_a().setTimeout(()=>{o(l)},v8.get());function f(){_a().clearTimeout(c),i(r)}r.ping(f).then(f,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},A8=500,O8=600,C8="_blank",I8="http://localhost";class RI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function P8(t,e,n,r=A8,i=O8){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f={...T8,width:r.toString(),height:i.toString(),top:o,left:l},h=Cr().toLowerCase();n&&(c=P4(h)?C8:n),C4(h)&&(e=e||I8,f.scrollbars="yes");const p=Object.entries(f).reduce((v,[_,E])=>`${v}${_}=${E},`,"");if(lz(h)&&c!=="_self")return R8(e||"",c),new RI(null);const m=window.open(e||"",c,p);rt(m,t,"popup-blocked");try{m.focus()}catch{}return new RI(m)}function R8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N8="__/auth/handler",k8="emulator/auth/handler",M8=encodeURIComponent("fac");async function NI(t,e,n,r,i,o){rt(t.config.authDomain,t,"auth-domain-config-required"),rt(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Hc,eventId:i};if(e instanceof HE){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",R9(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))l[p]=m}if(e instanceof Od){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const f=await t._getAppCheckToken(),h=f?`#${M8}=${encodeURIComponent(f)}`:"";return`${j8(t)}?${Td(c).slice(1)}${h}`}function j8({config:t}){return t.emulator?UE(t,k8):`https://${t.authDomain}/${N8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="webStorageSupport";class D8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=z4,this._completeRedirectFn=o8,this._overrideRedirectResult=r8}async _openPopup(e,n,r,i){var l;go((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const o=await NI(e,n,r,V1(),i);return P8(e,o,GE())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await NI(e,n,r,V1(),i);return $z(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(go(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await E8(e),r=new l8(e);return n.register("authEvent",i=>(rt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_b,{type:_b},i=>{var l;const o=(l=i==null?void 0:i[0])==null?void 0:l[_b];o!==void 0&&n(!!o),Ca(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=d8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return j4()||I4()||zE()}}const L8=D8;var kI="@firebase/auth",MI="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){rt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function U8(t){lc(new Pl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;rt(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:D4(t)},h=new pz(r,i,o,f);return _z(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),lc(new Pl("auth-internal",e=>{const n=ly(e.getProvider("auth").getImmediate());return(r=>new V8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ms(kI,MI,$8(t)),ms(kI,MI,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B8=300,q8=h4("authIdTokenMaxAge")||B8;let jI=null;const z8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>q8)return;const i=n==null?void 0:n.token;jI!==i&&(jI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function F8(t=v4()){const e=LE(t,"auth");if(e.isInitialized())return e.getImmediate();const n=bz(t,{popupRedirectResolver:L8,persistence:[Wz,Dz,z4]}),r=h4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=z8(o.toString());Rz(n,l,()=>l(n.currentUser)),Pz(n,c=>l(c))}}const i=c4("auth");return i&&xz(n,`http://${i}`),n}function H8(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}mz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=ta("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",H8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});U8("Browser");var DI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gs,Q4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,P){function k(){}k.prototype=P.prototype,A.F=P.prototype,A.prototype=new k,A.prototype.constructor=A,A.D=function(U,D,B){for(var V=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)V[Q-2]=arguments[Q];return P.prototype[D].apply(U,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,P,k){k||(k=0);const U=Array(16);if(typeof P=="string")for(var D=0;D<16;++D)U[D]=P.charCodeAt(k++)|P.charCodeAt(k++)<<8|P.charCodeAt(k++)<<16|P.charCodeAt(k++)<<24;else for(D=0;D<16;++D)U[D]=P[k++]|P[k++]<<8|P[k++]<<16|P[k++]<<24;P=A.g[0],k=A.g[1],D=A.g[2];let B=A.g[3],V;V=P+(B^k&(D^B))+U[0]+3614090360&4294967295,P=k+(V<<7&4294967295|V>>>25),V=B+(D^P&(k^D))+U[1]+3905402710&4294967295,B=P+(V<<12&4294967295|V>>>20),V=D+(k^B&(P^k))+U[2]+606105819&4294967295,D=B+(V<<17&4294967295|V>>>15),V=k+(P^D&(B^P))+U[3]+3250441966&4294967295,k=D+(V<<22&4294967295|V>>>10),V=P+(B^k&(D^B))+U[4]+4118548399&4294967295,P=k+(V<<7&4294967295|V>>>25),V=B+(D^P&(k^D))+U[5]+1200080426&4294967295,B=P+(V<<12&4294967295|V>>>20),V=D+(k^B&(P^k))+U[6]+2821735955&4294967295,D=B+(V<<17&4294967295|V>>>15),V=k+(P^D&(B^P))+U[7]+4249261313&4294967295,k=D+(V<<22&4294967295|V>>>10),V=P+(B^k&(D^B))+U[8]+1770035416&4294967295,P=k+(V<<7&4294967295|V>>>25),V=B+(D^P&(k^D))+U[9]+2336552879&4294967295,B=P+(V<<12&4294967295|V>>>20),V=D+(k^B&(P^k))+U[10]+4294925233&4294967295,D=B+(V<<17&4294967295|V>>>15),V=k+(P^D&(B^P))+U[11]+2304563134&4294967295,k=D+(V<<22&4294967295|V>>>10),V=P+(B^k&(D^B))+U[12]+1804603682&4294967295,P=k+(V<<7&4294967295|V>>>25),V=B+(D^P&(k^D))+U[13]+4254626195&4294967295,B=P+(V<<12&4294967295|V>>>20),V=D+(k^B&(P^k))+U[14]+2792965006&4294967295,D=B+(V<<17&4294967295|V>>>15),V=k+(P^D&(B^P))+U[15]+1236535329&4294967295,k=D+(V<<22&4294967295|V>>>10),V=P+(D^B&(k^D))+U[1]+4129170786&4294967295,P=k+(V<<5&4294967295|V>>>27),V=B+(k^D&(P^k))+U[6]+3225465664&4294967295,B=P+(V<<9&4294967295|V>>>23),V=D+(P^k&(B^P))+U[11]+643717713&4294967295,D=B+(V<<14&4294967295|V>>>18),V=k+(B^P&(D^B))+U[0]+3921069994&4294967295,k=D+(V<<20&4294967295|V>>>12),V=P+(D^B&(k^D))+U[5]+3593408605&4294967295,P=k+(V<<5&4294967295|V>>>27),V=B+(k^D&(P^k))+U[10]+38016083&4294967295,B=P+(V<<9&4294967295|V>>>23),V=D+(P^k&(B^P))+U[15]+3634488961&4294967295,D=B+(V<<14&4294967295|V>>>18),V=k+(B^P&(D^B))+U[4]+3889429448&4294967295,k=D+(V<<20&4294967295|V>>>12),V=P+(D^B&(k^D))+U[9]+568446438&4294967295,P=k+(V<<5&4294967295|V>>>27),V=B+(k^D&(P^k))+U[14]+3275163606&4294967295,B=P+(V<<9&4294967295|V>>>23),V=D+(P^k&(B^P))+U[3]+4107603335&4294967295,D=B+(V<<14&4294967295|V>>>18),V=k+(B^P&(D^B))+U[8]+1163531501&4294967295,k=D+(V<<20&4294967295|V>>>12),V=P+(D^B&(k^D))+U[13]+2850285829&4294967295,P=k+(V<<5&4294967295|V>>>27),V=B+(k^D&(P^k))+U[2]+4243563512&4294967295,B=P+(V<<9&4294967295|V>>>23),V=D+(P^k&(B^P))+U[7]+1735328473&4294967295,D=B+(V<<14&4294967295|V>>>18),V=k+(B^P&(D^B))+U[12]+2368359562&4294967295,k=D+(V<<20&4294967295|V>>>12),V=P+(k^D^B)+U[5]+4294588738&4294967295,P=k+(V<<4&4294967295|V>>>28),V=B+(P^k^D)+U[8]+2272392833&4294967295,B=P+(V<<11&4294967295|V>>>21),V=D+(B^P^k)+U[11]+1839030562&4294967295,D=B+(V<<16&4294967295|V>>>16),V=k+(D^B^P)+U[14]+4259657740&4294967295,k=D+(V<<23&4294967295|V>>>9),V=P+(k^D^B)+U[1]+2763975236&4294967295,P=k+(V<<4&4294967295|V>>>28),V=B+(P^k^D)+U[4]+1272893353&4294967295,B=P+(V<<11&4294967295|V>>>21),V=D+(B^P^k)+U[7]+4139469664&4294967295,D=B+(V<<16&4294967295|V>>>16),V=k+(D^B^P)+U[10]+3200236656&4294967295,k=D+(V<<23&4294967295|V>>>9),V=P+(k^D^B)+U[13]+681279174&4294967295,P=k+(V<<4&4294967295|V>>>28),V=B+(P^k^D)+U[0]+3936430074&4294967295,B=P+(V<<11&4294967295|V>>>21),V=D+(B^P^k)+U[3]+3572445317&4294967295,D=B+(V<<16&4294967295|V>>>16),V=k+(D^B^P)+U[6]+76029189&4294967295,k=D+(V<<23&4294967295|V>>>9),V=P+(k^D^B)+U[9]+3654602809&4294967295,P=k+(V<<4&4294967295|V>>>28),V=B+(P^k^D)+U[12]+3873151461&4294967295,B=P+(V<<11&4294967295|V>>>21),V=D+(B^P^k)+U[15]+530742520&4294967295,D=B+(V<<16&4294967295|V>>>16),V=k+(D^B^P)+U[2]+3299628645&4294967295,k=D+(V<<23&4294967295|V>>>9),V=P+(D^(k|~B))+U[0]+4096336452&4294967295,P=k+(V<<6&4294967295|V>>>26),V=B+(k^(P|~D))+U[7]+1126891415&4294967295,B=P+(V<<10&4294967295|V>>>22),V=D+(P^(B|~k))+U[14]+2878612391&4294967295,D=B+(V<<15&4294967295|V>>>17),V=k+(B^(D|~P))+U[5]+4237533241&4294967295,k=D+(V<<21&4294967295|V>>>11),V=P+(D^(k|~B))+U[12]+1700485571&4294967295,P=k+(V<<6&4294967295|V>>>26),V=B+(k^(P|~D))+U[3]+2399980690&4294967295,B=P+(V<<10&4294967295|V>>>22),V=D+(P^(B|~k))+U[10]+4293915773&4294967295,D=B+(V<<15&4294967295|V>>>17),V=k+(B^(D|~P))+U[1]+2240044497&4294967295,k=D+(V<<21&4294967295|V>>>11),V=P+(D^(k|~B))+U[8]+1873313359&4294967295,P=k+(V<<6&4294967295|V>>>26),V=B+(k^(P|~D))+U[15]+4264355552&4294967295,B=P+(V<<10&4294967295|V>>>22),V=D+(P^(B|~k))+U[6]+2734768916&4294967295,D=B+(V<<15&4294967295|V>>>17),V=k+(B^(D|~P))+U[13]+1309151649&4294967295,k=D+(V<<21&4294967295|V>>>11),V=P+(D^(k|~B))+U[4]+4149444226&4294967295,P=k+(V<<6&4294967295|V>>>26),V=B+(k^(P|~D))+U[11]+3174756917&4294967295,B=P+(V<<10&4294967295|V>>>22),V=D+(P^(B|~k))+U[2]+718787259&4294967295,D=B+(V<<15&4294967295|V>>>17),V=k+(B^(D|~P))+U[9]+3951481745&4294967295,A.g[0]=A.g[0]+P&4294967295,A.g[1]=A.g[1]+(D+(V<<21&4294967295|V>>>11))&4294967295,A.g[2]=A.g[2]+D&4294967295,A.g[3]=A.g[3]+B&4294967295}r.prototype.v=function(A,P){P===void 0&&(P=A.length);const k=P-this.blockSize,U=this.C;let D=this.h,B=0;for(;B<P;){if(D==0)for(;B<=k;)i(this,A,B),B+=this.blockSize;if(typeof A=="string"){for(;B<P;)if(U[D++]=A.charCodeAt(B++),D==this.blockSize){i(this,U),D=0;break}}else for(;B<P;)if(U[D++]=A[B++],D==this.blockSize){i(this,U),D=0;break}}this.h=D,this.o+=P},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var P=1;P<A.length-8;++P)A[P]=0;P=this.o*8;for(var k=A.length-8;k<A.length;++k)A[k]=P&255,P/=256;for(this.v(A),A=Array(16),P=0,k=0;k<4;++k)for(let U=0;U<32;U+=8)A[P++]=this.g[k]>>>U&255;return A};function o(A,P){var k=c;return Object.prototype.hasOwnProperty.call(k,A)?k[A]:k[A]=P(A)}function l(A,P){this.h=P;const k=[];let U=!0;for(let D=A.length-1;D>=0;D--){const B=A[D]|0;U&&B==P||(k[D]=B,U=!1)}this.g=k}var c={};function f(A){return-128<=A&&A<128?o(A,function(P){return new l([P|0],P<0?-1:0)}):new l([A|0],A<0?-1:0)}function h(A){if(isNaN(A)||!isFinite(A))return m;if(A<0)return w(h(-A));const P=[];let k=1;for(let U=0;A>=k;U++)P[U]=A/k|0,k*=4294967296;return new l(P,0)}function p(A,P){if(A.length==0)throw Error("number format error: empty string");if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(A.charAt(0)=="-")return w(p(A.substring(1),P));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=h(Math.pow(P,8));let U=m;for(let B=0;B<A.length;B+=8){var D=Math.min(8,A.length-B);const V=parseInt(A.substring(B,B+D),P);D<8?(D=h(Math.pow(P,D)),U=U.j(D).add(h(V))):(U=U.j(k),U=U.add(h(V)))}return U}var m=f(0),v=f(1),_=f(16777216);t=l.prototype,t.m=function(){if(S(this))return-w(this).m();let A=0,P=1;for(let k=0;k<this.g.length;k++){const U=this.i(k);A+=(U>=0?U:4294967296+U)*P,P*=4294967296}return A},t.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(E(this))return"0";if(S(this))return"-"+w(this).toString(A);const P=h(Math.pow(A,6));var k=this;let U="";for(;;){const D=L(k,P).g;k=O(k,D.j(P));let B=((k.g.length>0?k.g[0]:k.h)>>>0).toString(A);if(k=D,E(k))return B+U;for(;B.length<6;)B="0"+B;U=B+U}},t.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function E(A){if(A.h!=0)return!1;for(let P=0;P<A.g.length;P++)if(A.g[P]!=0)return!1;return!0}function S(A){return A.h==-1}t.l=function(A){return A=O(this,A),S(A)?-1:E(A)?0:1};function w(A){const P=A.g.length,k=[];for(let U=0;U<P;U++)k[U]=~A.g[U];return new l(k,~A.h).add(v)}t.abs=function(){return S(this)?w(this):this},t.add=function(A){const P=Math.max(this.g.length,A.g.length),k=[];let U=0;for(let D=0;D<=P;D++){let B=U+(this.i(D)&65535)+(A.i(D)&65535),V=(B>>>16)+(this.i(D)>>>16)+(A.i(D)>>>16);U=V>>>16,B&=65535,V&=65535,k[D]=V<<16|B}return new l(k,k[k.length-1]&-2147483648?-1:0)};function O(A,P){return A.add(w(P))}t.j=function(A){if(E(this)||E(A))return m;if(S(this))return S(A)?w(this).j(w(A)):w(w(this).j(A));if(S(A))return w(this.j(w(A)));if(this.l(_)<0&&A.l(_)<0)return h(this.m()*A.m());const P=this.g.length+A.g.length,k=[];for(var U=0;U<2*P;U++)k[U]=0;for(U=0;U<this.g.length;U++)for(let D=0;D<A.g.length;D++){const B=this.i(U)>>>16,V=this.i(U)&65535,Q=A.i(D)>>>16,J=A.i(D)&65535;k[2*U+2*D]+=V*J,I(k,2*U+2*D),k[2*U+2*D+1]+=B*J,I(k,2*U+2*D+1),k[2*U+2*D+1]+=V*Q,I(k,2*U+2*D+1),k[2*U+2*D+2]+=B*Q,I(k,2*U+2*D+2)}for(A=0;A<P;A++)k[A]=k[2*A+1]<<16|k[2*A];for(A=P;A<2*P;A++)k[A]=0;return new l(k,0)};function I(A,P){for(;(A[P]&65535)!=A[P];)A[P+1]+=A[P]>>>16,A[P]&=65535,P++}function N(A,P){this.g=A,this.h=P}function L(A,P){if(E(P))throw Error("division by zero");if(E(A))return new N(m,m);if(S(A))return P=L(w(A),P),new N(w(P.g),w(P.h));if(S(P))return P=L(A,w(P)),new N(w(P.g),P.h);if(A.g.length>30){if(S(A)||S(P))throw Error("slowDivide_ only works with positive integers.");for(var k=v,U=P;U.l(A)<=0;)k=C(k),U=C(U);var D=M(k,1),B=M(U,1);for(U=M(U,2),k=M(k,2);!E(U);){var V=B.add(U);V.l(A)<=0&&(D=D.add(k),B=V),U=M(U,1),k=M(k,1)}return P=O(A,D.j(P)),new N(D,P)}for(D=m;A.l(P)>=0;){for(k=Math.max(1,Math.floor(A.m()/P.m())),U=Math.ceil(Math.log(k)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),B=h(k),V=B.j(P);S(V)||V.l(A)>0;)k-=U,B=h(k),V=B.j(P);E(B)&&(B=v),D=D.add(B),A=O(A,V)}return new N(D,A)}t.B=function(A){return L(this,A).h},t.and=function(A){const P=Math.max(this.g.length,A.g.length),k=[];for(let U=0;U<P;U++)k[U]=this.i(U)&A.i(U);return new l(k,this.h&A.h)},t.or=function(A){const P=Math.max(this.g.length,A.g.length),k=[];for(let U=0;U<P;U++)k[U]=this.i(U)|A.i(U);return new l(k,this.h|A.h)},t.xor=function(A){const P=Math.max(this.g.length,A.g.length),k=[];for(let U=0;U<P;U++)k[U]=this.i(U)^A.i(U);return new l(k,this.h^A.h)};function C(A){const P=A.g.length+1,k=[];for(let U=0;U<P;U++)k[U]=A.i(U)<<1|A.i(U-1)>>>31;return new l(k,A.h)}function M(A,P){const k=P>>5;P%=32;const U=A.g.length-k,D=[];for(let B=0;B<U;B++)D[B]=P>0?A.i(B+k)>>>P|A.i(B+k+1)<<32-P:A.i(B+k);return new l(D,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Q4=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,gs=l}).apply(typeof DI<"u"?DI:typeof self<"u"?self:typeof window<"u"?window:{});var lm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var J4,fh,Z4,Rm,B1,e3,t3,n3;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof lm=="object"&&lm];for(var T=0;T<g.length;++T){var j=g[T];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var r=n(this);function i(g,T){if(T)e:{var j=r;g=g.split(".");for(var z=0;z<g.length-1;z++){var te=g[z];if(!(te in j))break e;j=j[te]}g=g[g.length-1],z=j[g],T=T(z),T!=z&&T!=null&&e(j,g,{configurable:!0,writable:!0,value:T})}}i("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(g){return g||function(T){var j=[],z;for(z in T)Object.prototype.hasOwnProperty.call(T,z)&&j.push([z,T[z]]);return j}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(g){var T=typeof g;return T=="object"&&g!=null||T=="function"}function f(g,T,j){return g.call.apply(g.bind,arguments)}function h(g,T,j){return h=f,h.apply(null,arguments)}function p(g,T){var j=Array.prototype.slice.call(arguments,1);return function(){var z=j.slice();return z.push.apply(z,arguments),g.apply(this,z)}}function m(g,T){function j(){}j.prototype=T.prototype,g.Z=T.prototype,g.prototype=new j,g.prototype.constructor=g,g.Ob=function(z,te,le){for(var Oe=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)Oe[pt-2]=arguments[pt];return T.prototype[te].apply(z,Oe)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function _(g){const T=g.length;if(T>0){const j=Array(T);for(let z=0;z<T;z++)j[z]=g[z];return j}return[]}function E(g,T){for(let z=1;z<arguments.length;z++){const te=arguments[z];var j=typeof te;if(j=j!="object"?j:te?Array.isArray(te)?"array":j:"null",j=="array"||j=="object"&&typeof te.length=="number"){j=g.length||0;const le=te.length||0;g.length=j+le;for(let Oe=0;Oe<le;Oe++)g[j+Oe]=te[Oe]}else g.push(te)}}class S{constructor(T,j){this.i=T,this.j=j,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function w(g){l.setTimeout(()=>{throw g},0)}function O(){var g=A;let T=null;return g.g&&(T=g.g,g.g=g.g.next,g.g||(g.h=null),T.next=null),T}class I{constructor(){this.h=this.g=null}add(T,j){const z=N.get();z.set(T,j),this.h?this.h.next=z:this.g=z,this.h=z}}var N=new S(()=>new L,g=>g.reset());class L{constructor(){this.next=this.g=this.h=null}set(T,j){this.h=T,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let C,M=!1,A=new I,P=()=>{const g=Promise.resolve(void 0);C=()=>{g.then(k)}};function k(){for(var g;g=O();){try{g.h.call(g.g)}catch(j){w(j)}var T=N;T.j(g),T.h<100&&(T.h++,g.next=T.g,T.g=g)}M=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(g,T){this.type=g,this.g=this.target=T,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,T=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const j=()=>{};l.addEventListener("test",j,T),l.removeEventListener("test",j,T)}catch{}return g})();function V(g){return/^[\s\xa0]*$/.test(g)}function Q(g,T){D.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,T)}m(Q,D),Q.prototype.init=function(g,T){const j=this.type=g.type,z=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=T,T=g.relatedTarget,T||(j=="mouseover"?T=g.fromElement:j=="mouseout"&&(T=g.toElement)),this.relatedTarget=T,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&Q.Z.h.call(this)},Q.prototype.h=function(){Q.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var J="closure_listenable_"+(Math.random()*1e6|0),H=0;function Y(g,T,j,z,te){this.listener=g,this.proxy=null,this.src=T,this.type=j,this.capture=!!z,this.ha=te,this.key=++H,this.da=this.fa=!1}function ee(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function ce(g,T,j){for(const z in g)T.call(j,g[z],z,g)}function _e(g,T){for(const j in g)T.call(void 0,g[j],j,g)}function F(g){const T={};for(const j in g)T[j]=g[j];return T}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(g,T){let j,z;for(let te=1;te<arguments.length;te++){z=arguments[te];for(j in z)g[j]=z[j];for(let le=0;le<W.length;le++)j=W[le],Object.prototype.hasOwnProperty.call(z,j)&&(g[j]=z[j])}}function me(g){this.src=g,this.g={},this.h=0}me.prototype.add=function(g,T,j,z,te){const le=g.toString();g=this.g[le],g||(g=this.g[le]=[],this.h++);const Oe=xe(g,T,z,te);return Oe>-1?(T=g[Oe],j||(T.fa=!1)):(T=new Y(T,this.src,le,!!z,te),T.fa=j,g.push(T)),T};function ve(g,T){const j=T.type;if(j in g.g){var z=g.g[j],te=Array.prototype.indexOf.call(z,T,void 0),le;(le=te>=0)&&Array.prototype.splice.call(z,te,1),le&&(ee(T),g.g[j].length==0&&(delete g.g[j],g.h--))}}function xe(g,T,j,z){for(let te=0;te<g.length;++te){const le=g[te];if(!le.da&&le.listener==T&&le.capture==!!j&&le.ha==z)return te}return-1}var Ie="closure_lm_"+(Math.random()*1e6|0),De={};function ye(g,T,j,z,te){if(Array.isArray(T)){for(let le=0;le<T.length;le++)ye(g,T[le],j,z,te);return null}return j=ft(j),g&&g[J]?g.J(T,j,c(z)?!!z.capture:!1,te):Re(g,T,j,!1,z,te)}function Re(g,T,j,z,te,le){if(!T)throw Error("Invalid event type");const Oe=c(te)?!!te.capture:!!te;let pt=Ve(g);if(pt||(g[Ie]=pt=new me(g)),j=pt.add(T,j,z,Oe,le),j.proxy)return j;if(z=$e(),j.proxy=z,z.src=g,z.listener=j,g.addEventListener)B||(te=Oe),te===void 0&&(te=!1),g.addEventListener(T.toString(),z,te);else if(g.attachEvent)g.attachEvent(we(T.toString()),z);else if(g.addListener&&g.removeListener)g.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return j}function $e(){function g(j){return T.call(g.src,g.listener,j)}const T=Ee;return g}function ne(g,T,j,z,te){if(Array.isArray(T))for(var le=0;le<T.length;le++)ne(g,T[le],j,z,te);else z=c(z)?!!z.capture:!!z,j=ft(j),g&&g[J]?(g=g.i,le=String(T).toString(),le in g.g&&(T=g.g[le],j=xe(T,j,z,te),j>-1&&(ee(T[j]),Array.prototype.splice.call(T,j,1),T.length==0&&(delete g.g[le],g.h--)))):g&&(g=Ve(g))&&(T=g.g[T.toString()],g=-1,T&&(g=xe(T,j,z,te)),(j=g>-1?T[g]:null)&&Ke(j))}function Ke(g){if(typeof g!="number"&&g&&!g.da){var T=g.src;if(T&&T[J])ve(T.i,g);else{var j=g.type,z=g.proxy;T.removeEventListener?T.removeEventListener(j,z,g.capture):T.detachEvent?T.detachEvent(we(j),z):T.addListener&&T.removeListener&&T.removeListener(z),(j=Ve(T))?(ve(j,g),j.h==0&&(j.src=null,T[Ie]=null)):ee(g)}}}function we(g){return g in De?De[g]:De[g]="on"+g}function Ee(g,T){if(g.da)g=!0;else{T=new Q(T,this);const j=g.listener,z=g.ha||g.src;g.fa&&Ke(g),g=j.call(z,T)}return g}function Ve(g){return g=g[Ie],g instanceof me?g:null}var Ye="__closure_events_fn_"+(Math.random()*1e9>>>0);function ft(g){return typeof g=="function"?g:(g[Ye]||(g[Ye]=function(T){return g.handleEvent(T)}),g[Ye])}function He(){U.call(this),this.i=new me(this),this.M=this,this.G=null}m(He,U),He.prototype[J]=!0,He.prototype.removeEventListener=function(g,T,j,z){ne(this,g,T,j,z)};function ze(g,T){var j,z=g.G;if(z)for(j=[];z;z=z.G)j.push(z);if(g=g.M,z=T.type||T,typeof T=="string")T=new D(T,g);else if(T instanceof D)T.target=T.target||g;else{var te=T;T=new D(z,g),se(T,te)}te=!0;let le,Oe;if(j)for(Oe=j.length-1;Oe>=0;Oe--)le=T.g=j[Oe],te=_t(le,z,!0,T)&&te;if(le=T.g=g,te=_t(le,z,!0,T)&&te,te=_t(le,z,!1,T)&&te,j)for(Oe=0;Oe<j.length;Oe++)le=T.g=j[Oe],te=_t(le,z,!1,T)&&te}He.prototype.N=function(){if(He.Z.N.call(this),this.i){var g=this.i;for(const T in g.g){const j=g.g[T];for(let z=0;z<j.length;z++)ee(j[z]);delete g.g[T],g.h--}}this.G=null},He.prototype.J=function(g,T,j,z){return this.i.add(String(g),T,!1,j,z)},He.prototype.K=function(g,T,j,z){return this.i.add(String(g),T,!0,j,z)};function _t(g,T,j,z){if(T=g.i.g[String(T)],!T)return!0;T=T.concat();let te=!0;for(let le=0;le<T.length;++le){const Oe=T[le];if(Oe&&!Oe.da&&Oe.capture==j){const pt=Oe.listener,Rn=Oe.ha||Oe.src;Oe.fa&&ve(g.i,Oe),te=pt.call(Rn,z)!==!1&&te}}return te&&!z.defaultPrevented}function Mt(g,T){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=h(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:l.setTimeout(g,T||0)}function cn(g){g.g=Mt(()=>{g.g=null,g.i&&(g.i=!1,cn(g))},g.l);const T=g.h;g.h=null,g.m.apply(null,T)}class Ae extends U{constructor(T,j){super(),this.m=T,this.l=j,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:cn(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bt(g){U.call(this),this.h=g,this.g={}}m(bt,U);var Nt=[];function pe(g){ce(g.g,function(T,j){this.g.hasOwnProperty(j)&&Ke(T)},g),g.g={}}bt.prototype.N=function(){bt.Z.N.call(this),pe(this)},bt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pe=l.JSON.stringify,at=l.JSON.parse,jt=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function ht(){}function St(){}var it={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function gt(){D.call(this,"d")}m(gt,D);function Cn(){D.call(this,"c")}m(Cn,D);var qt={},xt=null;function fn(){return xt=xt||new He}qt.Ia="serverreachability";function zt(g){D.call(this,qt.Ia,g)}m(zt,D);function wt(g){const T=fn();ze(T,new zt(T))}qt.STAT_EVENT="statevent";function Ue(g,T){D.call(this,qt.STAT_EVENT,g),this.stat=T}m(Ue,D);function Le(g){const T=fn();ze(T,new Ue(T,g))}qt.Ja="timingevent";function qe(g,T){D.call(this,qt.Ja,g),this.size=T}m(qe,D);function Ft(g,T){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},T)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function di(g,T,j,z,te,le){g.info(function(){if(g.g)if(le){var Oe="",pt=le.split("&");for(let Ht=0;Ht<pt.length;Ht++){var Rn=pt[Ht].split("=");if(Rn.length>1){const gn=Rn[0];Rn=Rn[1];const bi=gn.split("_");Oe=bi.length>=2&&bi[1]=="type"?Oe+(gn+"="+Rn+"&"):Oe+(gn+"=redacted&")}}}else Oe=null;else Oe=le;return"XMLHTTP REQ ("+z+") [attempt "+te+"]: "+T+`
`+j+`
`+Oe})}function Di(g,T,j,z,te,le,Oe){g.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+te+"]: "+T+`
`+j+`
`+le+" "+Oe})}function or(g,T,j,z){g.info(function(){return"XMLHTTP TEXT ("+T+"): "+af(g,j)+(z?" "+z:"")})}function Wr(g,T){g.info(function(){return"TIMEOUT: "+T})}Fn.prototype.info=function(){};function af(g,T){if(!g.g)return T;if(!T)return null;try{const le=JSON.parse(T);if(le){for(g=0;g<le.length;g++)if(Array.isArray(le[g])){var j=le[g];if(!(j.length<2)){var z=j[1];if(Array.isArray(z)&&!(z.length<1)){var te=z[0];if(te!="noop"&&te!="stop"&&te!="close")for(let Oe=1;Oe<z.length;Oe++)z[Oe]=""}}}}return Pe(le)}catch{return T}}var ja={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ns={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ks;function Da(){}m(Da,ht),Da.prototype.g=function(){return new XMLHttpRequest},ks=new Da;function Li(g){return encodeURIComponent(String(g))}function Xl(g){var T=1;g=g.split(":");const j=[];for(;T>0&&g.length;)j.push(g.shift()),T--;return g.length&&j.push(g.join(":")),j}function Yr(g,T,j,z){this.j=g,this.i=T,this.l=j,this.S=z||1,this.V=new bt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xr}function Xr(){this.i=null,this.g="",this.h=!1}var In={},Pn={};function Lr(g,T,j){g.M=1,g.A=Ce(Sn(T)),g.u=j,g.R=!0,Vi(g,null)}function Vi(g,T){g.F=Date.now(),pi(g),g.B=Sn(g.A);var j=g.B,z=g.S;Array.isArray(z)||(z=[String(z)]),tu(j.i,"t",z),g.C=0,j=g.j.L,g.h=new Xr,g.g=Zd(g.j,j?T:null,!g.u),g.P>0&&(g.O=new Ae(h(g.Y,g,g.g),g.P)),T=g.V,j=g.g,z=g.ba;var te="readystatechange";Array.isArray(te)||(te&&(Nt[0]=te.toString()),te=Nt);for(let le=0;le<te.length;le++){const Oe=ye(j,te[le],z||T.handleEvent,!1,T.h||T);if(!Oe)break;T.g[Oe.key]=Oe}T=g.J?F(g.J):{},g.u?(g.v||(g.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,T)):(g.v="GET",g.g.ea(g.B,g.v,null,T)),wt(),di(g.i,g.v,g.B,g.l,g.S,g.u)}Yr.prototype.ba=function(g){g=g.target;const T=this.O;T&&qi(g)==3?T.j():this.Y(g)},Yr.prototype.Y=function(g){try{if(g==this.g)e:{const pt=qi(this.g),Rn=this.g.ya(),Ht=this.g.ca();if(!(pt<3)&&(pt!=3||this.g&&(this.h.h||this.g.la()||lr(this.g)))){this.K||pt!=4||Rn==7||(Rn==8||Ht<=0?wt(3):wt(2)),br(this);var T=this.g.ca();this.X=T;var j=Oo(this);if(this.o=T==200,Di(this.i,this.v,this.B,this.l,this.S,pt,T),this.o){if(this.U&&!this.L){t:{if(this.g){var z,te=this.g;if((z=te.g?te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(z)){var le=z;break t}}le=null}if(g=le)or(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mi(this,g);else{this.o=!1,this.m=3,Le(12),Pr(this),_r(this);break e}}if(this.R){g=!0;let gn;for(;!this.K&&this.C<j.length;)if(gn=Jl(this,j),gn==Pn){pt==4&&(this.m=4,Le(14),g=!1),or(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==In){this.m=4,Le(15),or(this.i,this.l,j,"[Invalid Chunk]"),g=!1;break}else or(this.i,this.l,gn,null),mi(this,gn);if(Ql(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pt!=4||j.length!=0||this.h.h||(this.m=1,Le(16),g=!1),this.o=this.o&&g,!g)or(this.i,this.l,j,"[Invalid Chunked Response]"),Pr(this),_r(this);else if(j.length>0&&!this.W){this.W=!0;var Oe=this.j;Oe.g==this&&Oe.aa&&!Oe.P&&(Oe.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),df(Oe),Oe.P=!0,Le(11))}}else or(this.i,this.l,j,null),mi(this,j);pt==4&&Pr(this),this.o&&!this.K&&(pt==4?Yd(this.j,this):(this.o=!1,pi(this)))}else $a(this.g),T==400&&j.indexOf("Unknown SID")>0?(this.m=3,Le(12)):(this.m=0,Le(13)),Pr(this),_r(this)}}}catch{}finally{}};function Oo(g){if(!Ql(g))return g.g.la();const T=lr(g.g);if(T==="")return"";let j="";const z=T.length,te=qi(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return Pr(g),_r(g),"";g.h.i=new l.TextDecoder}for(let le=0;le<z;le++)g.h.h=!0,j+=g.h.i.decode(T[le],{stream:!(te&&le==z-1)});return T.length=0,g.h.g+=j,g.C=0,g.h.g}function Ql(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function Jl(g,T){var j=g.C,z=T.indexOf(`
`,j);return z==-1?Pn:(j=Number(T.substring(j,z)),isNaN(j)?In:(z+=1,z+j>T.length?Pn:(T=T.slice(z,z+j),g.C=z+j,T)))}Yr.prototype.cancel=function(){this.K=!0,Pr(this)};function pi(g){g.T=Date.now()+g.H,$i(g,g.H)}function $i(g,T){if(g.D!=null)throw Error("WatchDog timer not null");g.D=Ft(h(g.aa,g),T)}function br(g){g.D&&(l.clearTimeout(g.D),g.D=null)}Yr.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(Wr(this.i,this.B),this.M!=2&&(wt(),Le(17)),Pr(this),this.m=2,_r(this)):$i(this,this.T-g)};function _r(g){g.j.I==0||g.K||Yd(g.j,g)}function Pr(g){br(g);var T=g.O;T&&typeof T.dispose=="function"&&T.dispose(),g.O=null,pe(g.V),g.g&&(T=g.g,g.g=null,T.abort(),T.dispose())}function mi(g,T){try{var j=g.j;if(j.I!=0&&(j.g==g||gi(j.h,g))){if(!g.L&&gi(j.h,g)&&j.I==3){try{var z=j.Ba.g.parse(T)}catch{z=null}if(Array.isArray(z)&&z.length==3){var te=z;if(te[0]==0){e:if(!j.v){if(j.g)if(j.g.F+3e3<g.F)ou(j),ko(j);else break e;Fs(j),Le(18)}}else j.xa=te[1],0<j.xa-j.K&&te[2]<37500&&j.F&&j.A==0&&!j.C&&(j.C=Ft(h(j.Va,j),6e3));Qr(j.h)<=1&&j.ta&&(j.ta=void 0)}else ha(j,11)}else if((g.L||j.g==g)&&ou(j),!V(T))for(te=j.Ba.g.parse(T),T=0;T<te.length;T++){let Ht=te[T];const gn=Ht[0];if(!(gn<=j.K))if(j.K=gn,Ht=Ht[1],j.I==2)if(Ht[0]=="c"){j.M=Ht[1],j.ba=Ht[2];const bi=Ht[3];bi!=null&&(j.ka=bi,j.j.info("VER="+j.ka));const da=Ht[4];da!=null&&(j.za=da,j.j.info("SVER="+j.za));const zi=Ht[5];zi!=null&&typeof zi=="number"&&zi>0&&(z=1.5*zi,j.O=z,j.j.info("backChannelRequestTimeoutMs_="+z)),z=j;const Fi=g.g;if(Fi){const Hs=Fi.g?Fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hs){var le=z.h;le.g||Hs.indexOf("spdy")==-1&&Hs.indexOf("quic")==-1&&Hs.indexOf("h2")==-1||(le.j=le.l,le.g=new Set,le.h&&(js(le,le.h),le.h=null))}if(z.G){const su=Fi.g?Fi.g.getResponseHeader("X-HTTP-Session-Id"):null;su&&(z.wa=su,ie(z.J,z.G,su))}}j.I=3,j.l&&j.l.ra(),j.aa&&(j.T=Date.now()-g.F,j.j.info("Handshake RTT: "+j.T+"ms")),z=j;var Oe=g;if(z.na=Jd(z,z.L?z.ba:null,z.W),Oe.L){Ds(z.h,Oe);var pt=Oe,Rn=z.O;Rn&&(pt.H=Rn),pt.D&&(br(pt),pi(pt)),z.g=Oe}else Kd(z);j.i.length>0&&fa(j)}else Ht[0]!="stop"&&Ht[0]!="close"||ha(j,7);else j.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?ha(j,7):ff(j):Ht[0]!="noop"&&j.l&&j.l.qa(Ht),j.A=0)}}wt(4)}catch{}}var _n=class{constructor(g,T){this.g=g,this.map=T}};function Ms(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function La(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Qr(g){return g.h?1:g.g?g.g.size:0}function gi(g,T){return g.h?g.h==T:g.g?g.g.has(T):!1}function js(g,T){g.g?g.g.add(T):g.h=T}function Ds(g,T){g.h&&g.h==T?g.h=null:g.g&&g.g.has(T)&&g.g.delete(T)}Ms.prototype.cancel=function(){if(this.i=Ls(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Ls(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let T=g.i;for(const j of g.g.values())T=T.concat(j.G);return T}return _(g.i)}var Zl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Co(g,T){if(g){g=g.split("&");for(let j=0;j<g.length;j++){const z=g[j].indexOf("=");let te,le=null;z>=0?(te=g[j].substring(0,z),le=g[j].substring(z+1)):te=g[j],T(te,le?decodeURIComponent(le.replace(/\+/g," ")):"")}}}function Rr(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;g instanceof Rr?(this.l=g.l,jn(this,g.j),this.o=g.o,this.g=g.g,aa(this,g.u),this.h=g.h,Vs(this,Hd(g.i)),this.m=g.m):g&&(T=String(g).match(Zl))?(this.l=!1,jn(this,T[1]||"",!0),this.o=Ne(T[2]||""),this.g=Ne(T[3]||"",!0),aa(this,T[4]),this.h=Ne(T[5]||"",!0),Vs(this,T[6]||"",!0),this.m=Ne(T[7]||"")):(this.l=!1,this.i=new sa(null,this.l))}Rr.prototype.toString=function(){const g=[];var T=this.j;T&&g.push(Xe(T,dt,!0),":");var j=this.g;return(j||T=="file")&&(g.push("//"),(T=this.o)&&g.push(Xe(T,dt,!0),"@"),g.push(Li(j).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.u,j!=null&&g.push(":",String(j))),(j=this.h)&&(this.g&&j.charAt(0)!="/"&&g.push("/"),g.push(Xe(j,j.charAt(0)=="/"?xr:Lt,!0))),(j=this.i.toString())&&g.push("?",j),(j=this.m)&&g.push("#",Xe(j,eu)),g.join("")},Rr.prototype.resolve=function(g){const T=Sn(this);let j=!!g.j;j?jn(T,g.j):j=!!g.o,j?T.o=g.o:j=!!g.g,j?T.g=g.g:j=g.u!=null;var z=g.h;if(j)aa(T,g.u);else if(j=!!g.h){if(z.charAt(0)!="/")if(this.g&&!this.h)z="/"+z;else{var te=T.h.lastIndexOf("/");te!=-1&&(z=T.h.slice(0,te+1)+z)}if(te=z,te==".."||te==".")z="";else if(te.indexOf("./")!=-1||te.indexOf("/.")!=-1){z=te.lastIndexOf("/",0)==0,te=te.split("/");const le=[];for(let Oe=0;Oe<te.length;){const pt=te[Oe++];pt=="."?z&&Oe==te.length&&le.push(""):pt==".."?((le.length>1||le.length==1&&le[0]!="")&&le.pop(),z&&Oe==te.length&&le.push("")):(le.push(pt),z=!0)}z=le.join("/")}else z=te}return j?T.h=z:j=g.i.toString()!=="",j?Vs(T,Hd(g.i)):j=!!g.m,j&&(T.m=g.m),T};function Sn(g){return new Rr(g)}function jn(g,T,j){g.j=j?Ne(T,!0):T,g.j&&(g.j=g.j.replace(/:$/,""))}function aa(g,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);g.u=T}else g.u=null}function Vs(g,T,j){T instanceof sa?(g.i=T,nu(g.i,g.l)):(j||(T=Xe(T,oa)),g.i=new sa(T,g.l))}function ie(g,T,j){g.i.set(T,j)}function Ce(g){return ie(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function Ne(g,T){return g?T?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Xe(g,T,j){return typeof g=="string"?(g=encodeURI(g).replace(T,st),j&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function st(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var dt=/[#\/\?@]/g,Lt=/[#\?:]/g,xr=/[#\?]/g,oa=/[#\?@]/g,eu=/#/g;function sa(g,T){this.h=this.g=null,this.i=g||null,this.j=!!T}function sr(g){g.g||(g.g=new Map,g.h=0,g.i&&Co(g.i,function(T,j){g.add(decodeURIComponent(T.replace(/\+/g," ")),j)}))}t=sa.prototype,t.add=function(g,T){sr(this),this.i=null,g=Io(this,g);let j=this.g.get(g);return j||this.g.set(g,j=[]),j.push(T),this.h+=1,this};function Fd(g,T){sr(g),T=Io(g,T),g.g.has(T)&&(g.i=null,g.h-=g.g.get(T).length,g.g.delete(T))}function of(g,T){return sr(g),T=Io(g,T),g.g.has(T)}t.forEach=function(g,T){sr(this),this.g.forEach(function(j,z){j.forEach(function(te){g.call(T,te,z,this)},this)},this)};function sf(g,T){sr(g);let j=[];if(typeof T=="string")of(g,T)&&(j=j.concat(g.g.get(Io(g,T))));else for(g=Array.from(g.g.values()),T=0;T<g.length;T++)j=j.concat(g[T]);return j}t.set=function(g,T){return sr(this),this.i=null,g=Io(this,g),of(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[T]),this.h+=1,this},t.get=function(g,T){return g?(g=sf(this,g),g.length>0?String(g[0]):T):T};function tu(g,T,j){Fd(g,T),j.length>0&&(g.i=null,g.g.set(Io(g,T),_(j)),g.h+=j.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],T=Array.from(this.g.keys());for(let z=0;z<T.length;z++){var j=T[z];const te=Li(j);j=sf(this,j);for(let le=0;le<j.length;le++){let Oe=te;j[le]!==""&&(Oe+="="+Li(j[le])),g.push(Oe)}}return this.i=g.join("&")};function Hd(g){const T=new sa;return T.i=g.i,g.g&&(T.g=new Map(g.g),T.h=g.h),T}function Io(g,T){return T=String(T),g.j&&(T=T.toLowerCase()),T}function nu(g,T){T&&!g.j&&(sr(g),g.i=null,g.g.forEach(function(j,z){const te=z.toLowerCase();z!=te&&(Fd(this,z),tu(this,te,j))},g)),g.j=T}function Ui(g,T){const j=new Fn;if(l.Image){const z=new Image;z.onload=p(yi,j,"TestLoadImage: loaded",!0,T,z),z.onerror=p(yi,j,"TestLoadImage: error",!1,T,z),z.onabort=p(yi,j,"TestLoadImage: abort",!1,T,z),z.ontimeout=p(yi,j,"TestLoadImage: timeout",!1,T,z),l.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=g}else T(!1)}function lf(g,T){const j=new Fn,z=new AbortController,te=setTimeout(()=>{z.abort(),yi(j,"TestPingServer: timeout",!1,T)},1e4);fetch(g,{signal:z.signal}).then(le=>{clearTimeout(te),le.ok?yi(j,"TestPingServer: ok",!0,T):yi(j,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(te),yi(j,"TestPingServer: error",!1,T)})}function yi(g,T,j,z,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),z(j)}catch{}}function Po(){this.g=new jt}function la(g){this.i=g.Sb||null,this.h=g.ab||!1}m(la,ht),la.prototype.g=function(){return new $s(this.i,this.h)};function $s(g,T){He.call(this),this.H=g,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m($s,He),t=$s.prototype,t.open=function(g,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=T,this.readyState=1,Bi(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(T.body=g),(this.H||l).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ro(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Bi(this)),this.g&&(this.readyState=3,Bi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ru(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function ru(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var T=g.value?g.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!g.done}))&&(this.response=this.responseText+=T)}g.done?Ro(this):Bi(this),this.readyState==3&&ru(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,Ro(this))},t.Na=function(g){this.g&&(this.response=g,Ro(this))},t.ga=function(){this.g&&Ro(this)};function Ro(g){g.readyState=4,g.l=null,g.j=null,g.B=null,Bi(g)}t.setRequestHeader=function(g,T){this.A.append(g,T)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],T=this.h.entries();for(var j=T.next();!j.done;)j=j.value,g.push(j[0]+": "+j[1]),j=T.next();return g.join(`\r
`)};function Bi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty($s.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function vi(g){let T="";return ce(g,function(j,z){T+=z,T+=":",T+=j,T+=`\r
`}),T}function Us(g,T,j){e:{for(z in j){var z=!1;break e}z=!0}z||(j=vi(j),typeof g=="string"?j!=null&&Li(j):ie(g,T,j))}function Zt(g){He.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Zt,He);var ua=/^https?$/i,uf=["POST","PUT"];t=Zt.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,T,j,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);T=T?T.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ks.g(),this.g.onreadystatechange=v(h(this.Ca,this));try{this.B=!0,this.g.open(T,String(g),!0),this.B=!1}catch(le){Bs(this,le);return}if(g=j||"",j=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var te in z)j.set(te,z[te]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const le of z.keys())j.set(le,z.get(le));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(j.keys()).find(le=>le.toLowerCase()=="content-type"),te=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(uf,T,void 0)>=0)||z||te||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[le,Oe]of j)this.g.setRequestHeader(le,Oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(le){Bs(this,le)}};function Bs(g,T){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=T,g.o=5,cf(g),Va(g)}function cf(g){g.A||(g.A=!0,ze(g,"complete"),ze(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,ze(this,"complete"),ze(this,"abort"),Va(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Va(this,!0)),Zt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?qs(this):this.Xa())},t.Xa=function(){qs(this)};function qs(g){if(g.h&&typeof o<"u"){if(g.v&&qi(g)==4)setTimeout(g.Ca.bind(g),0);else if(ze(g,"readystatechange"),qi(g)==4){g.h=!1;try{const le=g.ca();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var j;if(!(j=T)){var z;if(z=le===0){let Oe=String(g.D).match(Zl)[1]||null;!Oe&&l.self&&l.self.location&&(Oe=l.self.location.protocol.slice(0,-1)),z=!ua.test(Oe?Oe.toLowerCase():"")}j=z}if(j)ze(g,"complete"),ze(g,"success");else{g.o=6;try{var te=qi(g)>2?g.g.statusText:""}catch{te=""}g.l=te+" ["+g.ca()+"]",cf(g)}}finally{Va(g)}}}}function Va(g,T){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const j=g.g;g.g=null,T||ze(g,"ready");try{j.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function qi(g){return g.g?g.g.readyState:0}t.ca=function(){try{return qi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var T=this.g.responseText;return g&&T.indexOf(g)==0&&(T=T.substring(g.length)),at(T)}};function lr(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function $a(g){const T={};g=(g.g&&qi(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<g.length;z++){if(V(g[z]))continue;var j=Xl(g[z]);const te=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const le=T[te]||[];T[te]=le,le.push(j)}_e(T,function(z){return z.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ca(g,T,j){return j&&j.internalChannelParams&&j.internalChannelParams[g]||T}function No(g){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ca("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ca("baseRetryDelayMs",5e3,g),this.Za=ca("retryDelaySeedMs",1e4,g),this.Ta=ca("forwardChannelMaxRetries",2,g),this.va=ca("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new Ms(g&&g.concurrentRequestLimit),this.Ba=new Po,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=No.prototype,t.ka=8,t.I=1,t.connect=function(g,T,j,z){Le(0),this.W=g,this.H=T||{},j&&z!==void 0&&(this.H.OSID=j,this.H.OAID=z),this.F=this.X,this.J=Jd(this,null,this.W),fa(this)};function ff(g){if(iu(g),g.I==3){var T=g.V++,j=Sn(g.J);if(ie(j,"SID",g.M),ie(j,"RID",T),ie(j,"TYPE","terminate"),zs(g,j),T=new Yr(g,g.j,T),T.M=2,T.A=Ce(Sn(j)),j=!1,l.navigator&&l.navigator.sendBeacon)try{j=l.navigator.sendBeacon(T.A.toString(),"")}catch{}!j&&l.Image&&(new Image().src=T.A,j=!0),j||(T.g=Zd(T.j,null),T.g.ea(T.A)),T.F=Date.now(),pi(T)}Qd(g)}function ko(g){g.g&&(df(g),g.g.cancel(),g.g=null)}function iu(g){ko(g),g.v&&(l.clearTimeout(g.v),g.v=null),ou(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function fa(g){if(!La(g.h)&&!g.m){g.m=!0;var T=g.Ea;C||P(),M||(C(),M=!0),A.add(T,g),g.D=0}}function au(g,T){return Qr(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=T.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=Ft(h(g.Ea,g,T),Xd(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const te=new Yr(this,this.j,g);let le=this.o;if(this.U&&(le?(le=F(le),se(le,this.U)):le=this.U),this.u!==null||this.R||(te.J=le,le=null),this.S)e:{for(var T=0,j=0;j<this.i.length;j++){t:{var z=this.i[j];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(T+=z,T>4096){T=j;break e}if(T===4096||j===this.i.length-1){T=j+1;break e}}T=1e3}else T=1e3;T=Gd(this,te,T),j=Sn(this.J),ie(j,"RID",g),ie(j,"CVER",22),this.G&&ie(j,"X-HTTP-Session-Id",this.G),zs(this,j),le&&(this.R?T="headers="+Li(vi(le))+"&"+T:this.u&&Us(j,this.u,le)),js(this.h,te),this.Ra&&ie(j,"TYPE","init"),this.S?(ie(j,"$req",T),ie(j,"SID","null"),te.U=!0,Lr(te,j,null)):Lr(te,j,T),this.I=2}}else this.I==3&&(g?hf(this,g):this.i.length==0||La(this.h)||hf(this))};function hf(g,T){var j;T?j=T.l:j=g.V++;const z=Sn(g.J);ie(z,"SID",g.M),ie(z,"RID",j),ie(z,"AID",g.K),zs(g,z),g.u&&g.o&&Us(z,g.u,g.o),j=new Yr(g,g.j,j,g.D+1),g.u===null&&(j.J=g.o),T&&(g.i=T.G.concat(g.i)),T=Gd(g,j,1e3),j.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),js(g.h,j),Lr(j,z,T)}function zs(g,T){g.H&&ce(g.H,function(j,z){ie(T,z,j)}),g.l&&ce({},function(j,z){ie(T,z,j)})}function Gd(g,T,j){j=Math.min(g.i.length,j);const z=g.l?h(g.l.Ka,g.l,g):null;e:{var te=g.i;let pt=-1;for(;;){const Rn=["count="+j];pt==-1?j>0?(pt=te[0].g,Rn.push("ofs="+pt)):pt=0:Rn.push("ofs="+pt);let Ht=!0;for(let gn=0;gn<j;gn++){var le=te[gn].g;const bi=te[gn].map;if(le-=pt,le<0)pt=Math.max(0,te[gn].g-100),Ht=!1;else try{le="req"+le+"_"||"";try{var Oe=bi instanceof Map?bi:Object.entries(bi);for(const[da,zi]of Oe){let Fi=zi;c(zi)&&(Fi=Pe(zi)),Rn.push(le+da+"="+encodeURIComponent(Fi))}}catch(da){throw Rn.push(le+"type="+encodeURIComponent("_badmap")),da}}catch{z&&z(bi)}}if(Ht){Oe=Rn.join("&");break e}}Oe=void 0}return g=g.i.splice(0,j),T.G=g,Oe}function Kd(g){if(!g.g&&!g.v){g.Y=1;var T=g.Da;C||P(),M||(C(),M=!0),A.add(T,g),g.A=0}}function Fs(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=Ft(h(g.Da,g),Xd(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,Wd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=Ft(h(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Le(10),ko(this),Wd(this))};function df(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function Wd(g){g.g=new Yr(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var T=Sn(g.na);ie(T,"RID","rpc"),ie(T,"SID",g.M),ie(T,"AID",g.K),ie(T,"CI",g.F?"0":"1"),!g.F&&g.ia&&ie(T,"TO",g.ia),ie(T,"TYPE","xmlhttp"),zs(g,T),g.u&&g.o&&Us(T,g.u,g.o),g.O&&(g.g.H=g.O);var j=g.g;g=g.ba,j.M=1,j.A=Ce(Sn(T)),j.u=null,j.R=!0,Vi(j,g)}t.Va=function(){this.C!=null&&(this.C=null,ko(this),Fs(this),Le(19))};function ou(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function Yd(g,T){var j=null;if(g.g==T){ou(g),df(g),g.g=null;var z=2}else if(gi(g.h,T))j=T.G,Ds(g.h,T),z=1;else return;if(g.I!=0){if(T.o)if(z==1){j=T.u?T.u.length:0,T=Date.now()-T.F;var te=g.D;z=fn(),ze(z,new qe(z,j)),fa(g)}else Kd(g);else if(te=T.m,te==3||te==0&&T.X>0||!(z==1&&au(g,T)||z==2&&Fs(g)))switch(j&&j.length>0&&(T=g.h,T.i=T.i.concat(j)),te){case 1:ha(g,5);break;case 4:ha(g,10);break;case 3:ha(g,6);break;default:ha(g,2)}}}function Xd(g,T){let j=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(j*=2),j*T}function ha(g,T){if(g.j.info("Error code "+T),T==2){var j=h(g.bb,g),z=g.Ua;const te=!z;z=new Rr(z||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||jn(z,"https"),Ce(z),te?Ui(z.toString(),j):lf(z.toString(),j)}else Le(2);g.I=0,g.l&&g.l.pa(T),Qd(g),iu(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),Le(2)):(this.j.info("Failed to ping google.com"),Le(1))};function Qd(g){if(g.I=0,g.ja=[],g.l){const T=Ls(g.h);(T.length!=0||g.i.length!=0)&&(E(g.ja,T),E(g.ja,g.i),g.h.i.length=0,_(g.i),g.i.length=0),g.l.oa()}}function Jd(g,T,j){var z=j instanceof Rr?Sn(j):new Rr(j);if(z.g!="")T&&(z.g=T+"."+z.g),aa(z,z.u);else{var te=l.location;z=te.protocol,T=T?T+"."+te.hostname:te.hostname,te=+te.port;const le=new Rr(null);z&&jn(le,z),T&&(le.g=T),te&&aa(le,te),j&&(le.h=j),z=le}return j=g.G,T=g.wa,j&&T&&ie(z,j,T),ie(z,"VER",g.ka),zs(g,z),z}function Zd(g,T,j){if(T&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=g.Aa&&!g.ma?new Zt(new la({ab:j})):new Zt(g.ma),T.Fa(g.L),T}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ep(){}t=ep.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Mo(){}Mo.prototype.g=function(g,T){return new Nr(g,T)};function Nr(g,T){He.call(this),this.g=new No(T),this.l=g,this.h=T&&T.messageUrlParams||null,g=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(g?g["X-WebChannel-Content-Type"]=T.messageContentType:g={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(g?g["X-WebChannel-Client-Profile"]=T.sa:g={"X-WebChannel-Client-Profile":T.sa}),this.g.U=g,(g=T&&T.Qb)&&!V(g)&&(this.g.u=g),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!V(T)&&(this.g.G=T,g=this.h,g!==null&&T in g&&(g=this.h,T in g&&delete g[T])),this.j=new Ua(this)}m(Nr,He),Nr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Nr.prototype.close=function(){ff(this.g)},Nr.prototype.o=function(g){var T=this.g;if(typeof g=="string"){var j={};j.__data__=g,g=j}else this.v&&(j={},j.__data__=Pe(g),g=j);T.i.push(new _n(T.Ya++,g)),T.I==3&&fa(T)},Nr.prototype.N=function(){this.g.l=null,delete this.j,ff(this.g),delete this.g,Nr.Z.N.call(this)};function tp(g){gt.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var T=g.__sm__;if(T){e:{for(const j in T){g=j;break e}g=void 0}(this.i=g)&&(g=this.i,T=T!==null&&g in T?T[g]:void 0),this.data=T}else this.data=g}m(tp,gt);function np(){Cn.call(this),this.status=1}m(np,Cn);function Ua(g){this.g=g}m(Ua,ep),Ua.prototype.ra=function(){ze(this.g,"a")},Ua.prototype.qa=function(g){ze(this.g,new tp(g))},Ua.prototype.pa=function(g){ze(this.g,new np)},Ua.prototype.oa=function(){ze(this.g,"b")},Mo.prototype.createWebChannel=Mo.prototype.g,Nr.prototype.send=Nr.prototype.o,Nr.prototype.open=Nr.prototype.m,Nr.prototype.close=Nr.prototype.close,n3=function(){return new Mo},t3=function(){return fn()},e3=qt,B1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ja.NO_ERROR=0,ja.TIMEOUT=8,ja.HTTP_ERROR=6,Rm=ja,Ns.COMPLETE="complete",Z4=Ns,St.EventType=it,it.OPEN="a",it.CLOSE="b",it.ERROR="c",it.MESSAGE="d",He.prototype.listen=He.prototype.J,fh=St,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,J4=Zt}).apply(typeof lm<"u"?lm:typeof self<"u"?self:typeof window<"u"?window:{});const LI="@firebase/firestore",VI="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tr.UNAUTHENTICATED=new Tr(null),Tr.GOOGLE_CREDENTIALS=new Tr("google-credentials-uid"),Tr.FIRST_PARTY=new Tr("first-party-uid"),Tr.MOCK_USER=new Tr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl=new jE("@firebase/firestore");function Fu(){return Nl.logLevel}function ke(t,...e){if(Nl.logLevel<=It.DEBUG){const n=e.map(WE);Nl.debug(`Firestore (${Gc}): ${t}`,...n)}}function yo(t,...e){if(Nl.logLevel<=It.ERROR){const n=e.map(WE);Nl.error(`Firestore (${Gc}): ${t}`,...n)}}function fc(t,...e){if(Nl.logLevel<=It.WARN){const n=e.map(WE);Nl.warn(`Firestore (${Gc}): ${t}`,...n)}}function WE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,r3(t,r,n)}function r3(t,e,n){let r=`FIRESTORE (${Gc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw yo(r),new Error(r)}function Xt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||r3(e,i,r)}function ct(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends wo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class G8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Tr.UNAUTHENTICATED)))}shutdown(){}}class K8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class W8{constructor(e){this.t=e,this.currentUser=Tr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xt(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let o=new ys;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ys,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},c=f=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>c(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ys)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xt(typeof r.accessToken=="string",31837,{l:r}),new i3(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xt(e===null||typeof e=="string",2055,{h:e}),new Tr(e)}}class Y8{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Tr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class X8{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Y8(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Tr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $I{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Q8{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ji(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xt(this.o===void 0,3512);const r=o=>{o.error!=null&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,ke("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $I(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Xt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new $I(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=J8(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function Pt(t,e){return t<e?-1:t>e?1:0}function q1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return xb(i)===xb(o)?Pt(i,o):xb(i)?1:-1}return Pt(t.length,e.length)}const Z8=55296,e7=57343;function xb(t){const e=t.charCodeAt(0);return e>=Z8&&e<=e7}function hc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="__name__";class va{constructor(e,n,r){n===void 0?n=0:n>e.length&&tt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&tt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return va.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof va?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=va.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Pt(e.length,n.length)}static compareSegments(e,n){const r=va.isNumericId(e),i=va.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?va.extractNumericId(e).compare(va.extractNumericId(n)):q1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gs.fromString(e.substring(4,e.length-2))}}class xn extends va{construct(e,n,r){return new xn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Fe(Se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new xn(n)}static emptyPath(){return new xn([])}}const t7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yr extends va{construct(e,n,r){return new yr(e,n,r)}static isValidIdentifier(e){return t7.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===UI}static keyField(){return new yr([UI])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Fe(Se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Fe(Se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Fe(Se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(o(),i++)}if(o(),l)throw new Fe(Se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yr(n)}static emptyPath(){return new yr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.path=e}static fromPath(e){return new Je(xn.fromString(e))}static fromName(e){return new Je(xn.fromString(e).popFirst(5))}static empty(){return new Je(xn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Je(new xn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n7(t,e,n){if(!n)throw new Fe(Se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function r7(t,e,n,r){if(e===!0&&r===!0)throw new Fe(Se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function BI(t){if(!Je.isDocumentKey(t))throw new Fe(Se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function a3(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function XE(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":tt(12329,{type:typeof t})}function kl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Fe(Se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=XE(t);throw new Fe(Se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Id(t,e){if(!a3(t))throw new Fe(Se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Fe(Se.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=-62135596800,zI=1e6;class mn{static now(){return mn.fromMillis(Date.now())}static fromDate(e){return mn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*zI);return new mn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Fe(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Fe(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<qI)throw new Fe(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zI}_compareTo(e){return this.seconds===e.seconds?Pt(this.nanoseconds,e.nanoseconds):Pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Id(e,mn._jsonSchema))return new mn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mn._jsonSchemaVersion="firestore/timestamp/1.0",mn._jsonSchema={type:qn("string",mn._jsonSchemaVersion),seconds:qn("number"),nanoseconds:qn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{static fromTimestamp(e){return new ot(e)}static min(){return new ot(new mn(0,0))}static max(){return new ot(new mn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=-1;function i7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ot.fromTimestamp(r===1e9?new mn(n+1,0):new mn(n,r));return new _s(i,Je.empty(),e)}function a7(t){return new _s(t.readTime,t.key,Mh)}class _s{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new _s(ot.min(),Je.empty(),Mh)}static max(){return new _s(ot.max(),Je.empty(),Mh)}}function o7(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Je.comparator(t.documentKey,e.documentKey),n!==0?n:Pt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kc(t){if(t.code!==Se.FAILED_PRECONDITION||t.message!==s7)throw t;ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new be(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof be?n:be.resolve(n)}catch(n){return be.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):be.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):be.reject(n)}static resolve(e){return new be(((n,r)=>{n(e)}))}static reject(e){return new be(((n,r)=>{r(e)}))}static waitFor(e){return new be(((n,r)=>{let i=0,o=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++o,l&&o===i&&n()}),(f=>r(f)))})),l=!0,o===i&&n()}))}static or(e){let n=be.resolve(!1);for(const r of e)n=n.next((i=>i?be.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new be(((r,i)=>{const o=e.length,l=new Array(o);let c=0;for(let f=0;f<o;f++){const h=f;n(e[h]).next((p=>{l[h]=p,++c,c===o&&r(l)}),(p=>i(p)))}}))}static doWhile(e,n){return new be(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}function u7(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}fy.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=-1;function hy(t){return t==null}function Gm(t){return t===0&&1/t==-1/0}function c7(t){return typeof t=="number"&&Number.isInteger(t)&&!Gm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3="";function f7(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=FI(e)),e=h7(t.get(n),e);return FI(e)}function h7(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case o3:n+="";break;default:n+=o}}return n}function FI(t){return t+o3+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function As(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function s3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,n){this.comparator=e,this.root=n||pr.EMPTY}insert(e,n){return new wn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pr.BLACK,null,null))}remove(e){return new wn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new um(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new um(this.root,e,this.comparator,!1)}getReverseIterator(){return new um(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new um(this.root,e,this.comparator,!0)}}class um{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pr{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??pr.RED,this.left=i??pr.EMPTY,this.right=o??pr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new pr(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return pr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return pr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw tt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw tt(27949);return e+(this.isRed()?0:1)}}pr.EMPTY=null,pr.RED=!0,pr.BLACK=!1;pr.EMPTY=new class{constructor(){this.size=0}get key(){throw tt(57766)}get value(){throw tt(16141)}get color(){throw tt(16727)}get left(){throw tt(29726)}get right(){throw tt(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new pr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.comparator=e,this.data=new wn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new GI(this.data.getIterator())}getIteratorFrom(e){return new GI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Jn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Jn(this.comparator);return n.data=e,n}}class GI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e){this.fields=e,e.sort(yr.comparator)}static empty(){return new ci([])}unionWith(e){let n=new Jn(yr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ci(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return hc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new l3("Invalid base64 string: "+o):o}})(e);return new vr(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o})(e);return new vr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vr.EMPTY_BYTE_STRING=new vr("");const d7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xs(t){if(Xt(!!t,39018),typeof t=="string"){let e=0;const n=d7.exec(t);if(Xt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mn(t.seconds),nanos:Mn(t.nanos)}}function Mn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ws(t){return typeof t=="string"?vr.fromBase64String(t):vr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3="server_timestamp",c3="__type__",f3="__previous_value__",h3="__local_write_time__";function JE(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[c3])==null?void 0:r.stringValue)===u3}function dy(t){const e=t.mapValue.fields[f3];return JE(e)?dy(e):e}function jh(t){const e=xs(t.mapValue.fields[h3].timestampValue);return new mn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(e,n,r,i,o,l,c,f,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=p}}const Km="(default)";class Dh{constructor(e,n){this.projectId=e,this.database=n||Km}static empty(){return new Dh("","")}get isDefaultDatabase(){return this.database===Km}isEqual(e){return e instanceof Dh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3="__type__",m7="__max__",cm={mapValue:{}},p3="__vector__",Wm="value";function Ss(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?JE(t)?4:y7(t)?9007199254740991:g7(t)?10:11:tt(28295,{value:t})}function Ia(t,e){if(t===e)return!0;const n=Ss(t);if(n!==Ss(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return jh(t).isEqual(jh(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=xs(i.timestampValue),c=xs(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return ws(i.bytesValue).isEqual(ws(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Mn(i.geoPointValue.latitude)===Mn(o.geoPointValue.latitude)&&Mn(i.geoPointValue.longitude)===Mn(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Mn(i.integerValue)===Mn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=Mn(i.doubleValue),c=Mn(o.doubleValue);return l===c?Gm(l)===Gm(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return hc(t.arrayValue.values||[],e.arrayValue.values||[],Ia);case 10:case 11:return(function(i,o){const l=i.mapValue.fields||{},c=o.mapValue.fields||{};if(HI(l)!==HI(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!Ia(l[f],c[f])))return!1;return!0})(t,e);default:return tt(52216,{left:t})}}function Lh(t,e){return(t.values||[]).find((n=>Ia(n,e)))!==void 0}function dc(t,e){if(t===e)return 0;const n=Ss(t),r=Ss(e);if(n!==r)return Pt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pt(t.booleanValue,e.booleanValue);case 2:return(function(o,l){const c=Mn(o.integerValue||o.doubleValue),f=Mn(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1})(t,e);case 3:return KI(t.timestampValue,e.timestampValue);case 4:return KI(jh(t),jh(e));case 5:return q1(t.stringValue,e.stringValue);case 6:return(function(o,l){const c=ws(o),f=ws(l);return c.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(o,l){const c=o.split("/"),f=l.split("/");for(let h=0;h<c.length&&h<f.length;h++){const p=Pt(c[h],f[h]);if(p!==0)return p}return Pt(c.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,l){const c=Pt(Mn(o.latitude),Mn(l.latitude));return c!==0?c:Pt(Mn(o.longitude),Mn(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return WI(t.arrayValue,e.arrayValue);case 10:return(function(o,l){var v,_,E,S;const c=o.fields||{},f=l.fields||{},h=(v=c[Wm])==null?void 0:v.arrayValue,p=(_=f[Wm])==null?void 0:_.arrayValue,m=Pt(((E=h==null?void 0:h.values)==null?void 0:E.length)||0,((S=p==null?void 0:p.values)==null?void 0:S.length)||0);return m!==0?m:WI(h,p)})(t.mapValue,e.mapValue);case 11:return(function(o,l){if(o===cm.mapValue&&l===cm.mapValue)return 0;if(o===cm.mapValue)return 1;if(l===cm.mapValue)return-1;const c=o.fields||{},f=Object.keys(c),h=l.fields||{},p=Object.keys(h);f.sort(),p.sort();for(let m=0;m<f.length&&m<p.length;++m){const v=q1(f[m],p[m]);if(v!==0)return v;const _=dc(c[f[m]],h[p[m]]);if(_!==0)return _}return Pt(f.length,p.length)})(t.mapValue,e.mapValue);default:throw tt(23264,{he:n})}}function KI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pt(t,e);const n=xs(t),r=xs(e),i=Pt(n.seconds,r.seconds);return i!==0?i:Pt(n.nanos,r.nanos)}function WI(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=dc(n[i],r[i]);if(o)return o}return Pt(n.length,r.length)}function pc(t){return z1(t)}function z1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=xs(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ws(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Je.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=z1(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${z1(n.fields[l])}`;return i+"}"})(t.mapValue):tt(61005,{value:t})}function Nm(t){switch(Ss(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dy(t);return e?16+Nm(e):16;case 5:return 2*t.stringValue.length;case 6:return ws(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+Nm(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return As(r.fields,((o,l)=>{i+=o.length+Nm(l)})),i})(t.mapValue);default:throw tt(13486,{value:t})}}function F1(t){return!!t&&"integerValue"in t}function ZE(t){return!!t&&"arrayValue"in t}function YI(t){return!!t&&"nullValue"in t}function XI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function km(t){return!!t&&"mapValue"in t}function g7(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[d3])==null?void 0:r.stringValue)===p3}function xh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return As(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=xh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xh(t.arrayValue.values[n]);return e}return{...t}}function y7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===m7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.value=e}static empty(){return new Hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!km(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xh(n)}setAll(e){let n=yr.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=xh(l):i.push(c.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());km(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ia(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];km(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){As(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new Hr(xh(this.value))}}function m3(t){const e=[];return As(t.fields,((n,r)=>{const i=new yr([n]);if(km(r)){const o=m3(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)})),new ci(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,n,r,i,o,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Ar(e,0,ot.min(),ot.min(),ot.min(),Hr.empty(),0)}static newFoundDocument(e,n,r,i){return new Ar(e,1,n,ot.min(),r,i,0)}static newNoDocument(e,n){return new Ar(e,2,n,ot.min(),ot.min(),Hr.empty(),0)}static newUnknownDocument(e,n){return new Ar(e,3,n,ot.min(),ot.min(),Hr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ot.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ar&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ar(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n){this.position=e,this.inclusive=n}}function QI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],l=t.position[i];if(o.field.isKeyField()?r=Je.comparator(Je.fromName(l.referenceValue),n.key):r=dc(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function JI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ia(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n="asc"){this.field=e,this.dir=n}}function v7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{}class Wn extends g3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new _7(e,n,r):n==="array-contains"?new S7(e,r):n==="in"?new E7(e,r):n==="not-in"?new T7(e,r):n==="array-contains-any"?new A7(e,r):new Wn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new x7(e,r):new w7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(dc(n,this.value)):n!==null&&Ss(this.value)===Ss(n)&&this.matchesComparison(dc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pa extends g3{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Pa(e,n)}matches(e){return y3(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function y3(t){return t.op==="and"}function v3(t){return b7(t)&&y3(t)}function b7(t){for(const e of t.filters)if(e instanceof Pa)return!1;return!0}function H1(t){if(t instanceof Wn)return t.field.canonicalString()+t.op.toString()+pc(t.value);if(v3(t))return t.filters.map((e=>H1(e))).join(",");{const e=t.filters.map((n=>H1(n))).join(",");return`${t.op}(${e})`}}function b3(t,e){return t instanceof Wn?(function(r,i){return i instanceof Wn&&r.op===i.op&&r.field.isEqual(i.field)&&Ia(r.value,i.value)})(t,e):t instanceof Pa?(function(r,i){return i instanceof Pa&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,l,c)=>o&&b3(l,i.filters[c])),!0):!1})(t,e):void tt(19439)}function _3(t){return t instanceof Wn?(function(n){return`${n.field.canonicalString()} ${n.op} ${pc(n.value)}`})(t):t instanceof Pa?(function(n){return n.op.toString()+" {"+n.getFilters().map(_3).join(" ,")+"}"})(t):"Filter"}class _7 extends Wn{constructor(e,n,r){super(e,n,r),this.key=Je.fromName(r.referenceValue)}matches(e){const n=Je.comparator(e.key,this.key);return this.matchesComparison(n)}}class x7 extends Wn{constructor(e,n){super(e,"in",n),this.keys=x3("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class w7 extends Wn{constructor(e,n){super(e,"not-in",n),this.keys=x3("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function x3(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Je.fromName(r.referenceValue)))}class S7 extends Wn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ZE(n)&&Lh(n.arrayValue,this.value)}}class E7 extends Wn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Lh(this.value.arrayValue,n)}}class T7 extends Wn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Lh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Lh(this.value.arrayValue,n)}}class A7 extends Wn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ZE(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Lh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O7{constructor(e,n=null,r=[],i=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=c,this.Te=null}}function ZI(t,e=null,n=[],r=[],i=null,o=null,l=null){return new O7(t,e,n,r,i,o,l)}function eT(t){const e=ct(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>H1(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),hy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>pc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>pc(r))).join(",")),e.Te=n}return e.Te}function tT(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!v7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!b3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!JI(t.startAt,e.startAt)&&JI(t.endAt,e.endAt)}function G1(t){return Je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n=null,r=[],i=[],o=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function C7(t,e,n,r,i,o,l,c){return new py(t,e,n,r,i,o,l,c)}function nT(t){return new py(t)}function eP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function I7(t){return t.collectionGroup!==null}function wh(t){const e=ct(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Jn(yr.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Xm(o,r))})),n.has(yr.keyField().canonicalString())||e.Ie.push(new Xm(yr.keyField(),r))}return e.Ie}function xa(t){const e=ct(t);return e.Ee||(e.Ee=P7(e,wh(t))),e.Ee}function P7(t,e){if(t.limitType==="F")return ZI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new Xm(i.field,o)}));const n=t.endAt?new Ym(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ym(t.startAt.position,t.startAt.inclusive):null;return ZI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function K1(t,e,n){return new py(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function my(t,e){return tT(xa(t),xa(e))&&t.limitType===e.limitType}function w3(t){return`${eT(xa(t))}|lt:${t.limitType}`}function Hu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>_3(i))).join(", ")}]`),hy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>pc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>pc(i))).join(",")),`Target(${r})`})(xa(t))}; limitType=${t.limitType})`}function gy(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Je.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of wh(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,f){const h=QI(l,c,f);return l.inclusive?h<=0:h<0})(r.startAt,wh(r),i)||r.endAt&&!(function(l,c,f){const h=QI(l,c,f);return l.inclusive?h>=0:h>0})(r.endAt,wh(r),i))})(t,e)}function R7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function S3(t){return(e,n)=>{let r=!1;for(const i of wh(t)){const o=N7(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function N7(t,e,n){const r=t.field.isKeyField()?Je.comparator(e.key,n.key):(function(o,l,c){const f=l.data.field(o),h=c.data.field(o);return f!==null&&h!==null?dc(f,h):tt(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return tt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){As(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return s3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k7=new wn(Je.comparator);function vo(){return k7}const E3=new wn(Je.comparator);function hh(...t){let e=E3;for(const n of t)e=e.insert(n.key,n);return e}function T3(t){let e=E3;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function _l(){return Sh()}function A3(){return Sh()}function Sh(){return new ql((t=>t.toString()),((t,e)=>t.isEqual(e)))}const M7=new wn(Je.comparator),j7=new Jn(Je.comparator);function Rt(...t){let e=j7;for(const n of t)e=e.add(n);return e}const D7=new Jn(Pt);function L7(){return D7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gm(e)?"-0":e}}function O3(t){return{integerValue:""+t}}function V7(t,e){return c7(e)?O3(e):rT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(){this._=void 0}}function $7(t,e,n){return t instanceof Qm?(function(i,o){const l={fields:{[c3]:{stringValue:u3},[h3]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&JE(o)&&(o=dy(o)),o&&(l.fields[f3]=o),{mapValue:l}})(n,e):t instanceof Vh?I3(t,e):t instanceof $h?P3(t,e):(function(i,o){const l=C3(i,o),c=tP(l)+tP(i.Ae);return F1(l)&&F1(i.Ae)?O3(c):rT(i.serializer,c)})(t,e)}function U7(t,e,n){return t instanceof Vh?I3(t,e):t instanceof $h?P3(t,e):n}function C3(t,e){return t instanceof Jm?(function(r){return F1(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Qm extends yy{}class Vh extends yy{constructor(e){super(),this.elements=e}}function I3(t,e){const n=R3(e);for(const r of t.elements)n.some((i=>Ia(i,r)))||n.push(r);return{arrayValue:{values:n}}}class $h extends yy{constructor(e){super(),this.elements=e}}function P3(t,e){let n=R3(e);for(const r of t.elements)n=n.filter((i=>!Ia(i,r)));return{arrayValue:{values:n}}}class Jm extends yy{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function tP(t){return Mn(t.integerValue||t.doubleValue)}function R3(t){return ZE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function B7(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Vh&&i instanceof Vh||r instanceof $h&&i instanceof $h?hc(r.elements,i.elements,Ia):r instanceof Jm&&i instanceof Jm?Ia(r.Ae,i.Ae):r instanceof Qm&&i instanceof Qm})(t.transform,e.transform)}class q7{constructor(e,n){this.version=e,this.transformResults=n}}class wa{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wa}static exists(e){return new wa(void 0,e)}static updateTime(e){return new wa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vy{}function N3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new M3(t.key,wa.none()):new Pd(t.key,t.data,wa.none());{const n=t.data,r=Hr.empty();let i=new Jn(yr.comparator);for(let o of e.fields)if(!i.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new Os(t.key,r,new ci(i.toArray()),wa.none())}}function z7(t,e,n){t instanceof Pd?(function(i,o,l){const c=i.value.clone(),f=rP(i.fieldTransforms,o,l.transformResults);c.setAll(f),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Os?(function(i,o,l){if(!Mm(i.precondition,o))return void o.convertToUnknownDocument(l.version);const c=rP(i.fieldTransforms,o,l.transformResults),f=o.data;f.setAll(k3(i)),f.setAll(c),o.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Eh(t,e,n,r){return t instanceof Pd?(function(o,l,c,f){if(!Mm(o.precondition,l))return c;const h=o.value.clone(),p=iP(o.fieldTransforms,f,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof Os?(function(o,l,c,f){if(!Mm(o.precondition,l))return c;const h=iP(o.fieldTransforms,f,l),p=l.data;return p.setAll(k3(o)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(o,l,c){return Mm(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function F7(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=C3(r.transform,i||null);o!=null&&(n===null&&(n=Hr.empty()),n.set(r.field,o))}return n||null}function nP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&hc(r,i,((o,l)=>B7(o,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Pd extends vy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Os extends vy{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function k3(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function rP(t,e,n){const r=new Map;Xt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],l=o.transform,c=e.data.field(o.field);r.set(o.field,U7(l,c,n[i]))}return r}function iP(t,e,n){const r=new Map;for(const i of t){const o=i.transform,l=n.data.field(i.field);r.set(i.field,$7(o,l,e))}return r}class M3 extends vy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class H7 extends vy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&z7(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Eh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Eh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=A3();return this.mutations.forEach((i=>{const o=e.get(i.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=n.has(i.key)?null:c;const f=N3(l,c);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(ot.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Rt())}isEqual(e){return this.batchId===e.batchId&&hc(this.mutations,e.mutations,((n,r)=>nP(n,r)))&&hc(this.baseMutations,e.baseMutations,((n,r)=>nP(n,r)))}}class iT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Xt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return M7})();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new iT(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Un,Dt;function Y7(t){switch(t){case Se.OK:return tt(64938);case Se.CANCELLED:case Se.UNKNOWN:case Se.DEADLINE_EXCEEDED:case Se.RESOURCE_EXHAUSTED:case Se.INTERNAL:case Se.UNAVAILABLE:case Se.UNAUTHENTICATED:return!1;case Se.INVALID_ARGUMENT:case Se.NOT_FOUND:case Se.ALREADY_EXISTS:case Se.PERMISSION_DENIED:case Se.FAILED_PRECONDITION:case Se.ABORTED:case Se.OUT_OF_RANGE:case Se.UNIMPLEMENTED:case Se.DATA_LOSS:return!0;default:return tt(15467,{code:t})}}function j3(t){if(t===void 0)return yo("GRPC error has no .code"),Se.UNKNOWN;switch(t){case Un.OK:return Se.OK;case Un.CANCELLED:return Se.CANCELLED;case Un.UNKNOWN:return Se.UNKNOWN;case Un.DEADLINE_EXCEEDED:return Se.DEADLINE_EXCEEDED;case Un.RESOURCE_EXHAUSTED:return Se.RESOURCE_EXHAUSTED;case Un.INTERNAL:return Se.INTERNAL;case Un.UNAVAILABLE:return Se.UNAVAILABLE;case Un.UNAUTHENTICATED:return Se.UNAUTHENTICATED;case Un.INVALID_ARGUMENT:return Se.INVALID_ARGUMENT;case Un.NOT_FOUND:return Se.NOT_FOUND;case Un.ALREADY_EXISTS:return Se.ALREADY_EXISTS;case Un.PERMISSION_DENIED:return Se.PERMISSION_DENIED;case Un.FAILED_PRECONDITION:return Se.FAILED_PRECONDITION;case Un.ABORTED:return Se.ABORTED;case Un.OUT_OF_RANGE:return Se.OUT_OF_RANGE;case Un.UNIMPLEMENTED:return Se.UNIMPLEMENTED;case Un.DATA_LOSS:return Se.DATA_LOSS;default:return tt(39323,{code:t})}}(Dt=Un||(Un={}))[Dt.OK=0]="OK",Dt[Dt.CANCELLED=1]="CANCELLED",Dt[Dt.UNKNOWN=2]="UNKNOWN",Dt[Dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dt[Dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dt[Dt.NOT_FOUND=5]="NOT_FOUND",Dt[Dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dt[Dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dt[Dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dt[Dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dt[Dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dt[Dt.ABORTED=10]="ABORTED",Dt[Dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dt[Dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dt[Dt.INTERNAL=13]="INTERNAL",Dt[Dt.UNAVAILABLE=14]="UNAVAILABLE",Dt[Dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X7(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q7=new gs([4294967295,4294967295],0);function aP(t){const e=X7().encode(t),n=new Q4;return n.update(e),new Uint8Array(n.digest())}function oP(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new gs([n,r],0),new gs([i,o],0)]}class aT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new dh(`Invalid padding: ${n}`);if(r<0)throw new dh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new dh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new dh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=gs.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(gs.fromNumber(r)));return i.compare(Q7)===1&&(i=new gs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=aP(e),[r,i]=oP(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,i,o);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new aT(o,i,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=aP(e),[r,i]=oP(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,i,o);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class dh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Rd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new by(ot.min(),i,new wn(Pt),vo(),Rt())}}class Rd{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Rd(r,n,Rt(),Rt(),Rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class D3{constructor(e,n){this.targetId=e,this.Ce=n}}class L3{constructor(e,n,r=vr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class sP{constructor(){this.ve=0,this.Fe=lP(),this.Me=vr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Rt(),n=Rt(),r=Rt();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:tt(38017,{changeType:o})}})),new Rd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=lP()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class J7{constructor(e){this.Ge=e,this.ze=new Map,this.je=vo(),this.Je=fm(),this.He=fm(),this.Ye=new wn(Pt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:tt(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(G1(o))if(r===0){const l=new Je(o.path);this.et(n,l,Ar.newNoDocument(l,ot.min()))}else Xt(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),f=c?this.ct(c,e,l):1;if(f!==0){this.it(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let l,c;try{l=ws(r).toUint8Array()}catch(f){if(f instanceof l3)return fc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new aT(l,i,o)}catch(f){return fc(f instanceof dh?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(n,o,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((o,l)=>{const c=this.ot(l);if(c){if(o.current&&G1(c.target)){const f=new Je(c.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,Ar.newNoDocument(f,e))}o.Be&&(n.set(l,o.ke()),o.qe())}}));let r=Rt();this.He.forEach(((o,l)=>{let c=!0;l.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const i=new by(e,n,this.Ye,this.je,r);return this.je=vo(),this.Je=fm(),this.He=fm(),this.Ye=new wn(Pt),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new sP,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Jn(Pt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Jn(Pt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ke("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new sP),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function fm(){return new wn(Je.comparator)}function lP(){return new wn(Je.comparator)}const Z7={asc:"ASCENDING",desc:"DESCENDING"},eF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tF={and:"AND",or:"OR"};class nF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function W1(t,e){return t.useProto3Json||hy(e)?e:{value:e}}function Zm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function V3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rF(t,e){return Zm(t,e.toTimestamp())}function Sa(t){return Xt(!!t,49232),ot.fromTimestamp((function(n){const r=xs(n);return new mn(r.seconds,r.nanos)})(t))}function oT(t,e){return Y1(t,e).canonicalString()}function Y1(t,e){const n=(function(i){return new xn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function $3(t){const e=xn.fromString(t);return Xt(F3(e),10190,{key:e.toString()}),e}function X1(t,e){return oT(t.databaseId,e.path)}function wb(t,e){const n=$3(e);if(n.get(1)!==t.databaseId.projectId)throw new Fe(Se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Fe(Se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Je(B3(n))}function U3(t,e){return oT(t.databaseId,e)}function iF(t){const e=$3(t);return e.length===4?xn.emptyPath():B3(e)}function Q1(t){return new xn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function B3(t){return Xt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function uP(t,e,n){return{name:X1(t,e),fields:n.value.mapValue.fields}}function aF(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:tt(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(h,p){return h.useProto3Json?(Xt(p===void 0||typeof p=="string",58123),vr.fromBase64String(p||"")):(Xt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),vr.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(h){const p=h.code===void 0?Se.UNKNOWN:j3(h.code);return new Fe(p,h.message||"")})(l);n=new L3(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=wb(t,r.document.name),o=Sa(r.document.updateTime),l=r.document.createTime?Sa(r.document.createTime):ot.min(),c=new Hr({mapValue:{fields:r.document.fields}}),f=Ar.newFoundDocument(i,o,l,c),h=r.targetIds||[],p=r.removedTargetIds||[];n=new jm(h,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=wb(t,r.document),o=r.readTime?Sa(r.readTime):ot.min(),l=Ar.newNoDocument(i,o),c=r.removedTargetIds||[];n=new jm([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=wb(t,r.document),o=r.removedTargetIds||[];n=new jm([],o,i,null)}else{if(!("filter"in e))return tt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new W7(i,o),c=r.targetId;n=new D3(c,l)}}return n}function oF(t,e){let n;if(e instanceof Pd)n={update:uP(t,e.key,e.value)};else if(e instanceof M3)n={delete:X1(t,e.key)};else if(e instanceof Os)n={update:uP(t,e.key,e.data),updateMask:mF(e.fieldMask)};else{if(!(e instanceof H7))return tt(16599,{Vt:e.type});n={verify:X1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,l){const c=l.transform;if(c instanceof Qm)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Vh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof $h)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Jm)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw tt(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:rF(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:tt(27497)})(t,e.precondition)),n}function sF(t,e){return t&&t.length>0?(Xt(e!==void 0,14353),t.map((n=>(function(i,o){let l=i.updateTime?Sa(i.updateTime):Sa(o);return l.isEqual(ot.min())&&(l=Sa(o)),new q7(l,i.transformResults||[])})(n,e)))):[]}function lF(t,e){return{documents:[U3(t,e.path)]}}function uF(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=U3(t,i);const o=(function(h){if(h.length!==0)return z3(Pa.create(h,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const l=(function(h){if(h.length!==0)return h.map((p=>(function(v){return{field:Gu(v.field),direction:hF(v.dir)}})(p)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=W1(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function cF(t){let e=iF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Xt(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=(function(m){const v=q3(m);return v instanceof Pa&&v3(v)?v.getFilters():[v]})(n.where));let l=[];n.orderBy&&(l=(function(m){return m.map((v=>(function(E){return new Xm(Ku(E.field),(function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(E.direction))})(v)))})(n.orderBy));let c=null;n.limit&&(c=(function(m){let v;return v=typeof m=="object"?m.value:m,hy(v)?null:v})(n.limit));let f=null;n.startAt&&(f=(function(m){const v=!!m.before,_=m.values||[];return new Ym(_,v)})(n.startAt));let h=null;return n.endAt&&(h=(function(m){const v=!m.before,_=m.values||[];return new Ym(_,v)})(n.endAt)),C7(e,i,l,o,c,"F",f,h)}function fF(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tt(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function q3(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ku(n.unaryFilter.field);return Wn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ku(n.unaryFilter.field);return Wn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ku(n.unaryFilter.field);return Wn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ku(n.unaryFilter.field);return Wn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return tt(61313);default:return tt(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Wn.create(Ku(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return tt(58110);default:return tt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Pa.create(n.compositeFilter.filters.map((r=>q3(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return tt(1026)}})(n.compositeFilter.op))})(t):tt(30097,{filter:t})}function hF(t){return Z7[t]}function dF(t){return eF[t]}function pF(t){return tF[t]}function Gu(t){return{fieldPath:t.canonicalString()}}function Ku(t){return yr.fromServerFormat(t.fieldPath)}function z3(t){return t instanceof Wn?(function(n){if(n.op==="=="){if(XI(n.value))return{unaryFilter:{field:Gu(n.field),op:"IS_NAN"}};if(YI(n.value))return{unaryFilter:{field:Gu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(XI(n.value))return{unaryFilter:{field:Gu(n.field),op:"IS_NOT_NAN"}};if(YI(n.value))return{unaryFilter:{field:Gu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gu(n.field),op:dF(n.op),value:n.value}}})(t):t instanceof Pa?(function(n){const r=n.getFilters().map((i=>z3(i)));return r.length===1?r[0]:{compositeFilter:{op:pF(n.op),filters:r}}})(t):tt(54877,{filter:t})}function mF(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function F3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,n,r,i,o=ot.min(),l=ot.min(),c=vr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new fs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e){this.yt=e}}function yF(t){const e=cF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?K1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(){this.Cn=new bF}addToCollectionParentIndex(e,n){return this.Cn.add(n),be.resolve()}getCollectionParents(e,n){return be.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return be.resolve()}deleteFieldIndex(e,n){return be.resolve()}deleteAllFieldIndexes(e){return be.resolve()}createTargetIndexes(e,n){return be.resolve()}getDocumentsMatchingTarget(e,n){return be.resolve(null)}getIndexType(e,n){return be.resolve(0)}getFieldIndexes(e,n){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}getMinOffset(e,n){return be.resolve(_s.min())}getMinOffsetFromCollectionGroup(e,n){return be.resolve(_s.min())}updateCollectionGroup(e,n,r){return be.resolve()}updateIndexEntries(e,n){return be.resolve()}}class bF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Jn(xn.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Jn(xn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},H3=41943040;class zr{static withCacheSize(e){return new zr(e,zr.DEFAULT_COLLECTION_PERCENTILE,zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zr.DEFAULT_COLLECTION_PERCENTILE=10,zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zr.DEFAULT=new zr(H3,zr.DEFAULT_COLLECTION_PERCENTILE,zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zr.DISABLED=new zr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new mc(0)}static cr(){return new mc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP="LruGarbageCollector",_F=1048576;function hP([t,e],[n,r]){const i=Pt(t,n);return i===0?Pt(e,r):i}class xF{constructor(e){this.Ir=e,this.buffer=new Jn(hP),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();hP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class wF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ke(fP,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wc(n)?ke(fP,"Ignoring IndexedDB error during garbage collection: ",n):await Kc(n)}await this.Vr(3e5)}))}}class SF{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return be.resolve(fy.ce);const r=new xF(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),be.resolve(cP)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cP):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,l,c,f,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,l=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(r=m,c=Date.now(),this.removeTargets(e,r,n)))).next((m=>(o=m,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(h=Date.now(),Fu()<=It.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${o} targets in `+(f-c)+`ms
	Removed ${m} documents in `+(h-f)+`ms
Total Duration: ${h-p}ms`),be.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:m}))))}}function EF(t,e){return new SF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(){this.changes=new ql((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ar.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?be.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Eh(r.mutation,i,ci.empty(),mn.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Rt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Rt()){const i=_l();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let l=hh();return o.forEach(((c,f)=>{l=l.insert(c,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=_l();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Rt())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,i){let o=vo();const l=Sh(),c=(function(){return Sh()})();return n.forEach(((f,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof Os)?o=o.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),Eh(p.mutation,h,p.mutation.getFieldMask(),mn.now())):l.set(h.key,ci.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((h,p)=>l.set(h,p))),n.forEach(((h,p)=>c.set(h,new AF(p,l.get(h)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Sh();let i=new wn(((l,c)=>l-c)),o=Rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((f=>{const h=n.get(f);if(h===null)return;let p=r.get(f)||ci.empty();p=c.applyToLocalView(h,p),r.set(f,p);const m=(i.get(c.batchId)||Rt()).add(f);i=i.insert(c.batchId,m)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),h=f.key,p=f.value,m=A3();p.forEach((v=>{if(!o.has(v)){const _=N3(n.get(v),r.get(v));_!==null&&m.set(v,_),o=o.add(v)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,m))}return be.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Je.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):I7(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):be.resolve(_l());let c=Mh,f=o;return l.next((h=>be.forEach(h,((p,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),o.get(p)?be.resolve():this.remoteDocumentCache.getEntry(e,p).next((v=>{f=f.insert(p,v)}))))).next((()=>this.populateOverlays(e,h,o))).next((()=>this.computeViews(e,f,h,Rt()))).next((p=>({batchId:c,changes:T3(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Je(n)).next((r=>{let i=hh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let l=hh();return this.indexManager.getCollectionParents(e,o).next((c=>be.forEach(c,(f=>{const h=(function(m,v){return new py(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((p=>{p.forEach(((m,v)=>{l=l.insert(m,v)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((l=>{o.forEach(((f,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,Ar.newInvalidDocument(p)))}));let c=hh();return l.forEach(((f,h)=>{const p=o.get(f);p!==void 0&&Eh(p.mutation,h,ci.empty(),mn.now()),gy(n,h)&&(c=c.insert(f,h))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return be.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Sa(i.createTime)}})(n)),be.resolve()}getNamedQuery(e,n){return be.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:yF(i.bundledQuery),readTime:Sa(i.readTime)}})(n)),be.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(){this.overlays=new wn(Je.comparator),this.qr=new Map}getOverlay(e,n){return be.resolve(this.overlays.get(n))}getOverlays(e,n){const r=_l();return be.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.St(e,n,o)})),be.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),be.resolve()}getOverlaysForCollection(e,n,r){const i=_l(),o=n.length+1,l=new Je(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&f.largestBatchId>r&&i.set(f.getKey(),f)}return be.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new wn(((h,p)=>h-p));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=o.get(h.largestBatchId);p===null&&(p=_l(),o=o.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const c=_l(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,p)=>c.set(h,p))),!(c.size()>=i)););return be.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new K7(n,r));let o=this.qr.get(n);o===void 0&&(o=Rt(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(){this.sessionToken=vr.EMPTY_BYTE_STRING}getSessionToken(e){return be.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,be.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(){this.Qr=new Jn(tr.$r),this.Ur=new Jn(tr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new tr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new tr(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Je(new xn([])),r=new tr(n,e),i=new tr(n,e+1),o=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Je(new xn([])),r=new tr(n,e),i=new tr(n,e+1);let o=Rt();return this.Ur.forEachInRange([r,i],(l=>{o=o.add(l.key)})),o}containsKey(e){const n=new tr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class tr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Je.comparator(e.key,n.key)||Pt(e.Yr,n.Yr)}static Kr(e,n){return Pt(e.Yr,n.Yr)||Je.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Jn(tr.$r)}checkEmpty(e){return be.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new G7(o,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Zr=this.Zr.add(new tr(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return be.resolve(l)}lookupMutationBatch(e,n){return be.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return be.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(this.mutationQueue.length===0?QE:this.tr-1)}getAllMutationBatches(e){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new tr(n,0),i=new tr(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],(l=>{const c=this.Xr(l.Yr);o.push(c)})),be.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Jn(Pt);return n.forEach((i=>{const o=new tr(i,0),l=new tr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(c=>{r=r.add(c.Yr)}))})),be.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Je.isDocumentKey(o)||(o=o.child(""));const l=new tr(new Je(o),0);let c=new Jn(Pt);return this.Zr.forEachWhile((f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(f.Yr)),!0)}),l),be.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Xt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return be.forEach(n.mutations,(i=>{const o=new tr(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new tr(n,0),i=this.Zr.firstAfterOrEqual(r);return be.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,be.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e){this.ri=e,this.docs=(function(){return new wn(Je.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return be.resolve(r?r.document.mutableCopy():Ar.newInvalidDocument(n))}getEntries(e,n){let r=vo();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ar.newInvalidDocument(i))})),be.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=vo();const l=n.path,c=new Je(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:h,value:{document:p}}=f.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||o7(a7(p),r)<=0||(i.has(p.key)||gy(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return be.resolve(o)}getAllFromCollectionGroup(e,n,r,i){tt(9500)}ii(e,n){return be.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new kF(this)}getSize(e){return be.resolve(this.size)}}class kF extends TF{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),be.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e){this.persistence=e,this.si=new ql((n=>eT(n)),tT),this.lastRemoteSnapshotVersion=ot.min(),this.highestTargetId=0,this.oi=0,this._i=new sT,this.targetCount=0,this.ai=mc.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),be.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new mc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,be.resolve()}updateTargetData(e,n){return this.Pr(n),be.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),be.waitFor(o).next((()=>i))}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return be.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),be.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((l=>{o.push(i.markPotentiallyOrphaned(e,l))})),be.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),be.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return be.resolve(r)}containsKey(e,n){return be.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e,n){this.ui={},this.overlays={},this.ci=new fy(0),this.li=!1,this.li=!0,this.hi=new PF,this.referenceDelegate=e(this),this.Pi=new MF(this),this.indexManager=new vF,this.remoteDocumentCache=(function(i){return new NF(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new gF(n),this.Ii=new CF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new IF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new RF(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ke("MemoryPersistence","Starting transaction:",e);const i=new jF(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ai(e,n){return be.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class jF extends l7{constructor(e){super(),this.currentSequenceNumber=e}}class lT{constructor(e){this.persistence=e,this.Ri=new sT,this.Vi=null}static mi(e){return new lT(e)}get fi(){if(this.Vi)return this.Vi;throw tt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),be.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),be.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),be.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.fi,(r=>{const i=Je.fromPath(r);return this.gi(e,i).next((o=>{o||n.removeEntry(i,ot.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return be.or([()=>be.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class eg{constructor(e,n){this.persistence=e,this.pi=new ql((r=>f7(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=EF(this,n)}static mi(e,n){return new eg(e,n)}Ei(){}di(e){return be.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return be.forEach(this.pi,((r,i)=>this.br(e,r,i).next((o=>o?be.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,o.removeEntry(l,ot.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),be.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),be.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),be.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),be.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Nm(e.data.value)),n}br(e,n,r){return be.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return be.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Rt(),i=Rt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new uT(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return T9()?8:u7(Cr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(e,n,i,r).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new DF;return this.Ss(e,n,l).next((c=>{if(o.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>o.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Fu()<=It.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",Hu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),be.resolve()):(Fu()<=It.DEBUG&&ke("QueryEngine","Query:",Hu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Fu()<=It.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",Hu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xa(n))):be.resolve())}ys(e,n){if(eP(n))return be.resolve(null);let r=xa(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=K1(n,null,"F"),r=xa(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const l=Rt(...o);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((f=>{const h=this.Ds(n,c);return this.Cs(n,h,l,f.readTime)?this.ys(e,K1(n,null,"F")):this.vs(e,h,n,f)}))))})))))}ws(e,n,r,i){return eP(n)||i.isEqual(ot.min())?be.resolve(null):this.ps.getDocuments(e,r).next((o=>{const l=this.Ds(n,o);return this.Cs(n,l,r,i)?be.resolve(null):(Fu()<=It.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hu(n)),this.vs(e,l,n,i7(i,Mh)).next((c=>c)))}))}Ds(e,n){let r=new Jn(S3(e));return n.forEach(((i,o)=>{gy(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Fu()<=It.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",Hu(n)),this.ps.getDocumentsMatchingQuery(e,n,_s.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((l=>{o=o.insert(l.key,l)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="LocalStore",VF=3e8;class $F{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new wn(Pt),this.xs=new ql((o=>eT(o)),tT),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function UF(t,e,n,r){return new $F(t,e,n,r)}async function K3(t,e){const n=ct(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const l=[],c=[];let f=Rt();for(const h of i){l.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}for(const h of o){c.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}return n.localDocuments.getDocuments(r,f).next((h=>({Ls:h,removedBatchIds:l,addedBatchIds:c})))}))}))}function BF(t,e){const n=ct(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,f,h,p){const m=h.batch,v=m.keys();let _=be.resolve();return v.forEach((E=>{_=_.next((()=>p.getEntry(f,E))).next((S=>{const w=h.docVersions.get(E);Xt(w!==null,48541),S.version.compareTo(w)<0&&(m.applyToRemoteDocument(S,h),S.isValidDocument()&&(S.setReadTime(h.commitVersion),p.addEntry(S)))}))})),_.next((()=>c.mutationQueue.removeMutationBatch(f,m)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let f=Rt();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(f=f.add(c.batch.mutations[h].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function W3(t){const e=ct(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function qF(t,e){const n=ct(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((p,m)=>{const v=i.get(m);if(!v)return;c.push(n.Pi.removeMatchingKeys(o,p.removedDocuments,m).next((()=>n.Pi.addMatchingKeys(o,p.addedDocuments,m))));let _=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?_=_.withResumeToken(vr.EMPTY_BYTE_STRING,ot.min()).withLastLimboFreeSnapshotVersion(ot.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,r)),i=i.insert(m,_),(function(S,w,O){return S.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=VF?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(v,_,p)&&c.push(n.Pi.updateTargetData(o,_))}));let f=vo(),h=Rt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))})),c.push(zF(o,l,e.documentUpdates).next((p=>{f=p.ks,h=p.qs}))),!r.isEqual(ot.min())){const p=n.Pi.getLastRemoteSnapshotVersion(o).next((m=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));c.push(p)}return be.waitFor(c).next((()=>l.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,f,h))).next((()=>f))})).then((o=>(n.Ms=i,o)))}function zF(t,e,n){let r=Rt(),i=Rt();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let l=vo();return n.forEach(((c,f)=>{const h=o.get(c);f.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),f.isNoDocument()&&f.version.isEqual(ot.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):ke(cT,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",f.version)})),{ks:l,qs:i}}))}function FF(t,e){const n=ct(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=QE),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function HF(t,e){const n=ct(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((o=>o?(i=o,be.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new fs(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function J1(t,e,n){const r=ct(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Wc(l))throw l;ke(cT,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function dP(t,e,n){const r=ct(t);let i=ot.min(),o=Rt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,h,p){const m=ct(f),v=m.xs.get(p);return v!==void 0?be.resolve(m.Ms.get(v)):m.Pi.getTargetData(h,p)})(r,l,xa(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((f=>{o=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:ot.min(),n?o:Rt()))).next((c=>(GF(r,R7(e),c),{documents:c,Qs:o})))))}function GF(t,e,n){let r=t.Os.get(e)||ot.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class pP{constructor(){this.activeTargetIds=L7()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KF{constructor(){this.Mo=new pP,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new pP,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP="ConnectivityMonitor";class gP{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ke(mP,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ke(mP,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hm=null;function Z1(){return hm===null?hm=(function(){return 268435456+Math.round(2147483648*Math.random())})():hm++,"0x"+hm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="RestConnection",YF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class XF{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Km?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const l=Z1(),c=this.zo(e,n.toUriEncodedString());ke(Sb,`Sending RPC '${e}' ${l}:`,c,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,o);const{host:h}=new URL(c),p=Fc(h);return this.Jo(e,c,f,r,p).then((m=>(ke(Sb,`Received RPC '${e}' ${l}: `,m),m)),(m=>{throw fc(Sb,`RPC '${e}' ${l} failed with error: `,m,"url: ",c,"request:",r),m}))}Ho(e,n,r,i,o,l){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Gc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}zo(e,n){const r=YF[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="WebChannelConnection";class JF extends XF{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const l=Z1();return new Promise(((c,f)=>{const h=new J4;h.setWithCredentials(!0),h.listenOnce(Z4.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Rm.NO_ERROR:const m=h.getResponseJson();ke(Sr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(m)),c(m);break;case Rm.TIMEOUT:ke(Sr,`RPC '${e}' ${l} timed out`),f(new Fe(Se.DEADLINE_EXCEEDED,"Request time out"));break;case Rm.HTTP_ERROR:const v=h.getStatus();if(ke(Sr,`RPC '${e}' ${l} failed with status:`,v,"response text:",h.getResponseText()),v>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const E=_==null?void 0:_.error;if(E&&E.status&&E.message){const S=(function(O){const I=O.toLowerCase().replace(/_/g,"-");return Object.values(Se).indexOf(I)>=0?I:Se.UNKNOWN})(E.status);f(new Fe(S,E.message))}else f(new Fe(Se.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new Fe(Se.UNAVAILABLE,"Connection failed."));break;default:tt(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{ke(Sr,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(i);ke(Sr,`RPC '${e}' ${l} sending request:`,i),h.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=Z1(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=n3(),c=t3(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const p=o.join("");ke(Sr,`Creating RPC '${e}' stream ${i}: ${p}`,f);const m=l.createWebChannel(p,f);this.I_(m);let v=!1,_=!1;const E=new QF({Yo:w=>{_?ke(Sr,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(v||(ke(Sr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),v=!0),ke(Sr,`RPC '${e}' stream ${i} sending:`,w),m.send(w))},Zo:()=>m.close()}),S=(w,O,I)=>{w.listen(O,(N=>{try{I(N)}catch(L){setTimeout((()=>{throw L}),0)}}))};return S(m,fh.EventType.OPEN,(()=>{_||(ke(Sr,`RPC '${e}' stream ${i} transport opened.`),E.o_())})),S(m,fh.EventType.CLOSE,(()=>{_||(_=!0,ke(Sr,`RPC '${e}' stream ${i} transport closed`),E.a_(),this.E_(m))})),S(m,fh.EventType.ERROR,(w=>{_||(_=!0,fc(Sr,`RPC '${e}' stream ${i} transport errored. Name:`,w.name,"Message:",w.message),E.a_(new Fe(Se.UNAVAILABLE,"The operation could not be completed")))})),S(m,fh.EventType.MESSAGE,(w=>{var O;if(!_){const I=w.data[0];Xt(!!I,16349);const N=I,L=(N==null?void 0:N.error)||((O=N[0])==null?void 0:O.error);if(L){ke(Sr,`RPC '${e}' stream ${i} received error:`,L);const C=L.status;let M=(function(k){const U=Un[k];if(U!==void 0)return j3(U)})(C),A=L.message;M===void 0&&(M=Se.INTERNAL,A="Unknown error status: "+C+" with message "+L.message),_=!0,E.a_(new Fe(M,A)),m.close()}else ke(Sr,`RPC '${e}' stream ${i} received:`,I),E.u_(I)}})),S(c,e3.STAT_EVENT,(w=>{w.stat===B1.PROXY?ke(Sr,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===B1.NOPROXY&&ke(Sr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{E.__()}),0),E}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Eb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(t){return new nF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP="PersistentStream";class X3{constructor(e,n,r,i,o,l,c,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Y3(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Se.RESOURCE_EXHAUSTED?(yo(n.toString()),yo("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Fe(Se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ke(yP,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ke(yP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ZF extends X3{constructor(e,n,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=aF(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ot.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?ot.min():l.readTime?Sa(l.readTime):ot.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Q1(this.serializer),n.addTarget=(function(o,l){let c;const f=l.target;if(c=G1(f)?{documents:lF(o,f)}:{query:uF(o,f).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=V3(o,l.resumeToken);const h=W1(o,l.expectedCount);h!==null&&(c.expectedCount=h)}else if(l.snapshotVersion.compareTo(ot.min())>0){c.readTime=Zm(o,l.snapshotVersion.toTimestamp());const h=W1(o,l.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const r=fF(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Q1(this.serializer),n.removeTarget=e,this.q_(n)}}class eH extends X3{constructor(e,n,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Xt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=sF(e.writeResults,e.commitTime),r=Sa(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Q1(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>oF(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH{}class nH extends tH{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Fe(Se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(e,Y1(n,r),i,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Fe(Se.UNKNOWN,o.toString())}))}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,Y1(n,r),i,l,c,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Fe(Se.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class rH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(yo(n),this.aa=!1):ke("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml="RemoteStore";class iH{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{zl(this)&&(ke(Ml,"Restarting streams for network reachability change."),await(async function(f){const h=ct(f);h.Ea.add(4),await Nd(h),h.Ra.set("Unknown"),h.Ea.delete(4),await xy(h)})(this))}))})),this.Ra=new rH(r,i)}}async function xy(t){if(zl(t))for(const e of t.da)await e(!0)}async function Nd(t){for(const e of t.da)await e(!1)}function Q3(t,e){const n=ct(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),pT(n)?dT(n):Yc(n).O_()&&hT(n,e))}function fT(t,e){const n=ct(t),r=Yc(n);n.Ia.delete(e),r.O_()&&J3(n,e),n.Ia.size===0&&(r.O_()?r.L_():zl(n)&&n.Ra.set("Unknown"))}function hT(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ot.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Yc(t).Y_(e)}function J3(t,e){t.Va.Ue(e),Yc(t).Z_(e)}function dT(t){t.Va=new J7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Yc(t).start(),t.Ra.ua()}function pT(t){return zl(t)&&!Yc(t).x_()&&t.Ia.size>0}function zl(t){return ct(t).Ea.size===0}function Z3(t){t.Va=void 0}async function aH(t){t.Ra.set("Online")}async function oH(t){t.Ia.forEach(((e,n)=>{hT(t,e)}))}async function sH(t,e){Z3(t),pT(t)?(t.Ra.ha(e),dT(t)):t.Ra.set("Unknown")}async function lH(t,e,n){if(t.Ra.set("Online"),e instanceof L3&&e.state===2&&e.cause)try{await(async function(i,o){const l=o.cause;for(const c of o.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){ke(Ml,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await tg(t,r)}else if(e instanceof jm?t.Va.Ze(e):e instanceof D3?t.Va.st(e):t.Va.tt(e),!n.isEqual(ot.min()))try{const r=await W3(t.localStore);n.compareTo(r)>=0&&await(function(o,l){const c=o.Va.Tt(l);return c.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const p=o.Ia.get(h);p&&o.Ia.set(h,p.withResumeToken(f.resumeToken,l))}})),c.targetMismatches.forEach(((f,h)=>{const p=o.Ia.get(f);if(!p)return;o.Ia.set(f,p.withResumeToken(vr.EMPTY_BYTE_STRING,p.snapshotVersion)),J3(o,f);const m=new fs(p.target,f,h,p.sequenceNumber);hT(o,m)})),o.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){ke(Ml,"Failed to raise snapshot:",r),await tg(t,r)}}async function tg(t,e,n){if(!Wc(e))throw e;t.Ea.add(1),await Nd(t),t.Ra.set("Offline"),n||(n=()=>W3(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ke(Ml,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await xy(t)}))}function e6(t,e){return e().catch((n=>tg(t,n,e)))}async function wy(t){const e=ct(t),n=Es(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:QE;for(;uH(e);)try{const i=await FF(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,cH(e,i)}catch(i){await tg(e,i)}t6(e)&&n6(e)}function uH(t){return zl(t)&&t.Ta.length<10}function cH(t,e){t.Ta.push(e);const n=Es(t);n.O_()&&n.X_&&n.ea(e.mutations)}function t6(t){return zl(t)&&!Es(t).x_()&&t.Ta.length>0}function n6(t){Es(t).start()}async function fH(t){Es(t).ra()}async function hH(t){const e=Es(t);for(const n of t.Ta)e.ea(n.mutations)}async function dH(t,e,n){const r=t.Ta.shift(),i=iT.from(r,e,n);await e6(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await wy(t)}async function pH(t,e){e&&Es(t).X_&&await(async function(r,i){if((function(l){return Y7(l)&&l!==Se.ABORTED})(i.code)){const o=r.Ta.shift();Es(r).B_(),await e6(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await wy(r)}})(t,e),t6(t)&&n6(t)}async function vP(t,e){const n=ct(t);n.asyncQueue.verifyOperationInProgress(),ke(Ml,"RemoteStore received new credentials");const r=zl(n);n.Ea.add(3),await Nd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await xy(n)}async function mH(t,e){const n=ct(t);e?(n.Ea.delete(2),await xy(n)):e||(n.Ea.add(2),await Nd(n),n.Ra.set("Unknown"))}function Yc(t){return t.ma||(t.ma=(function(n,r,i){const o=ct(n);return o.sa(),new ZF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:aH.bind(null,t),t_:oH.bind(null,t),r_:sH.bind(null,t),H_:lH.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),pT(t)?dT(t):t.Ra.set("Unknown")):(await t.ma.stop(),Z3(t))}))),t.ma}function Es(t){return t.fa||(t.fa=(function(n,r,i){const o=ct(n);return o.sa(),new eH(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:fH.bind(null,t),r_:pH.bind(null,t),ta:hH.bind(null,t),na:dH.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await wy(t)):(await t.fa.stop(),t.Ta.length>0&&(ke(Ml,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const l=Date.now()+r,c=new mT(e,n,l,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Fe(Se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gT(t,e){if(yo("AsyncQueue",`${e}: ${t}`),Wc(t))return new Fe(Se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{static emptySet(e){return new rc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Je.comparator(n.key,r.key):(n,r)=>Je.comparator(n.key,r.key),this.keyedMap=hh(),this.sortedSet=new wn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof rc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new rc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(){this.ga=new wn(Je.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):tt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class gc{constructor(e,n,r,i,o,l,c,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,o){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new gc(e,n,rc.emptySet(n),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&my(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class yH{constructor(){this.queries=_P(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ct(n),o=i.queries;i.queries=_P(),o.forEach(((l,c)=>{for(const f of c.Sa)f.onError(r)}))})(this,new Fe(Se.ABORTED,"Firestore shutting down"))}}function _P(){return new ql((t=>w3(t)),my)}async function vH(t,e){const n=ct(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new gH,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=gT(l,`Initialization of query '${Hu(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&yT(n)}async function bH(t,e){const n=ct(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function _H(t,e){const n=ct(t);let r=!1;for(const i of e){const o=i.query,l=n.queries.get(o);if(l){for(const c of l.Sa)c.Fa(i)&&(r=!0);l.wa=i}}r&&yT(n)}function xH(t,e,n){const r=ct(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function yT(t){t.Ca.forEach((e=>{e.next()}))}var eS,xP;(xP=eS||(eS={})).Ma="default",xP.Cache="cache";class wH{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new gc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=gc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==eS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e){this.key=e}}class i6{constructor(e){this.key=e}}class SH{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Rt(),this.mutatedKeys=Rt(),this.eu=S3(e),this.tu=new rc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new bP,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,m)=>{const v=i.get(p),_=gy(this.query,m)?m:null,E=!!v&&this.mutatedKeys.has(v.key),S=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let w=!1;v&&_?v.data.isEqual(_.data)?E!==S&&(r.track({type:3,doc:_}),w=!0):this.su(v,_)||(r.track({type:2,doc:_}),w=!0,(f&&this.eu(_,f)>0||h&&this.eu(_,h)<0)&&(c=!0)):!v&&_?(r.track({type:0,doc:_}),w=!0):v&&!_&&(r.track({type:1,doc:v}),w=!0,(f||h)&&(c=!0)),w&&(_?(l=l.add(_),o=S?o.add(p):o.delete(p)):(l=l.delete(p),o=o.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{tu:l,iu:r,Cs:c,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,m)=>(function(_,E){const S=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt(20277,{Rt:w})}};return S(_)-S(E)})(p.type,m.type)||this.eu(p.doc,m.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,h=f!==this.Za;return this.Za=f,l.length!==0||h?{snapshot:new gc(this.query,e.tu,o,l,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bP,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Rt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new i6(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new r6(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Rt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return gc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const vT="SyncEngine";class EH{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class TH{constructor(e){this.key=e,this.hu=!1}}class AH{constructor(e,n,r,i,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new ql((c=>w3(c)),my),this.Iu=new Map,this.Eu=new Set,this.du=new wn(Je.comparator),this.Au=new Map,this.Ru=new sT,this.Vu={},this.mu=new Map,this.fu=mc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function OH(t,e,n=!0){const r=c6(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await a6(r,e,n,!0),i}async function CH(t,e){const n=c6(t);await a6(n,e,!0,!1)}async function a6(t,e,n,r){const i=await HF(t.localStore,xa(e)),o=i.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let c;return r&&(c=await IH(t,e,o,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&Q3(t.remoteStore,i),c}async function IH(t,e,n,r,i){t.pu=(m,v,_)=>(async function(S,w,O,I){let N=w.view.ru(O);N.Cs&&(N=await dP(S.localStore,w.query,!1).then((({documents:A})=>w.view.ru(A,N))));const L=I&&I.targetChanges.get(w.targetId),C=I&&I.targetMismatches.get(w.targetId)!=null,M=w.view.applyChanges(N,S.isPrimaryClient,L,C);return SP(S,w.targetId,M.au),M.snapshot})(t,m,v,_);const o=await dP(t.localStore,e,!0),l=new SH(e,o.Qs),c=l.ru(o.documents),f=Rd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=l.applyChanges(c,t.isPrimaryClient,f);SP(t,n,h.au);const p=new EH(e,n,l);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function PH(t,e,n){const r=ct(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((l=>!my(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await J1(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&fT(r.remoteStore,i.targetId),tS(r,i.targetId)})).catch(Kc)):(tS(r,i.targetId),await J1(r.localStore,i.targetId,!0))}async function RH(t,e){const n=ct(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),fT(n.remoteStore,r.targetId))}async function NH(t,e,n){const r=$H(t);try{const i=await(function(l,c){const f=ct(l),h=mn.now(),p=c.reduce(((_,E)=>_.add(E.key)),Rt());let m,v;return f.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let E=vo(),S=Rt();return f.Ns.getEntries(_,p).next((w=>{E=w,E.forEach(((O,I)=>{I.isValidDocument()||(S=S.add(O))}))})).next((()=>f.localDocuments.getOverlayedDocuments(_,E))).next((w=>{m=w;const O=[];for(const I of c){const N=F7(I,m.get(I.key).overlayedDocument);N!=null&&O.push(new Os(I.key,N,m3(N.value.mapValue),wa.exists(!0)))}return f.mutationQueue.addMutationBatch(_,h,O,c)})).next((w=>{v=w;const O=w.applyToLocalDocumentSet(m,S);return f.documentOverlayCache.saveOverlays(_,w.batchId,O)}))})).then((()=>({batchId:v.batchId,changes:T3(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,f){let h=l.Vu[l.currentUser.toKey()];h||(h=new wn(Pt)),h=h.insert(c,f),l.Vu[l.currentUser.toKey()]=h})(r,i.batchId,n),await kd(r,i.changes),await wy(r.remoteStore)}catch(i){const o=gT(i,"Failed to persist write");n.reject(o)}}async function o6(t,e){const n=ct(t);try{const r=await qF(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const l=n.Au.get(o);l&&(Xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Xt(l.hu,14607):i.removedDocuments.size>0&&(Xt(l.hu,42227),l.hu=!1))})),await kd(n,r,e)}catch(r){await Kc(r)}}function wP(t,e,n){const r=ct(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((o,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const f=ct(l);f.onlineState=c;let h=!1;f.queries.forEach(((p,m)=>{for(const v of m.Sa)v.va(c)&&(h=!0)})),h&&yT(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kH(t,e,n){const r=ct(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let l=new wn(Je.comparator);l=l.insert(o,Ar.newNoDocument(o,ot.min()));const c=Rt().add(o),f=new by(ot.min(),new Map,new wn(Pt),l,c);await o6(r,f),r.du=r.du.remove(o),r.Au.delete(e),bT(r)}else await J1(r.localStore,e,!1).then((()=>tS(r,e,n))).catch(Kc)}async function MH(t,e){const n=ct(t),r=e.batch.batchId;try{const i=await BF(n.localStore,e);l6(n,r,null),s6(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await kd(n,i)}catch(i){await Kc(i)}}async function jH(t,e,n){const r=ct(t);try{const i=await(function(l,c){const f=ct(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return f.mutationQueue.lookupMutationBatch(h,c).next((m=>(Xt(m!==null,37113),p=m.keys(),f.mutationQueue.removeMutationBatch(h,m)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,p,c))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>f.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);l6(r,e,n),s6(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await kd(r,i)}catch(i){await Kc(i)}}function s6(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function l6(t,e,n){const r=ct(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function tS(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||u6(t,r)}))}function u6(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(fT(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),bT(t))}function SP(t,e,n){for(const r of n)r instanceof r6?(t.Ru.addReference(r.key,e),DH(t,r)):r instanceof i6?(ke(vT,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||u6(t,r.key)):tt(19791,{wu:r})}function DH(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ke(vT,"New document in limbo: "+n),t.Eu.add(r),bT(t))}function bT(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Je(xn.fromString(e)),r=t.fu.next();t.Au.set(r,new TH(n)),t.du=t.du.insert(n,r),Q3(t.remoteStore,new fs(xa(nT(n.path)),r,"TargetPurposeLimboResolution",fy.ce))}}async function kd(t,e,n){const r=ct(t),i=[],o=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,f)=>{l.push(r.pu(f,e,n).then((h=>{var p;if((h||n)&&r.isPrimaryClient){const m=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(f.targetId,m?"current":"not-current")}if(h){i.push(h);const m=uT.As(f.targetId,h);o.push(m)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(f,h){const p=ct(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>be.forEach(h,(v=>be.forEach(v.Es,(_=>p.persistence.referenceDelegate.addReference(m,v.targetId,_))).next((()=>be.forEach(v.ds,(_=>p.persistence.referenceDelegate.removeReference(m,v.targetId,_)))))))))}catch(m){if(!Wc(m))throw m;ke(cT,"Failed to update sequence numbers: "+m)}for(const m of h){const v=m.targetId;if(!m.fromCache){const _=p.Ms.get(v),E=_.snapshotVersion,S=_.withLastLimboFreeSnapshotVersion(E);p.Ms=p.Ms.insert(v,S)}}})(r.localStore,o))}async function LH(t,e){const n=ct(t);if(!n.currentUser.isEqual(e)){ke(vT,"User change. New user:",e.toKey());const r=await K3(n.localStore,e);n.currentUser=e,(function(o,l){o.mu.forEach((c=>{c.forEach((f=>{f.reject(new Fe(Se.CANCELLED,l))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await kd(n,r.Ls)}}function VH(t,e){const n=ct(t),r=n.Au.get(e);if(r&&r.hu)return Rt().add(r.key);{let i=Rt();const o=n.Iu.get(e);if(!o)return i;for(const l of o){const c=n.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}function c6(t){const e=ct(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=o6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kH.bind(null,e),e.Pu.H_=_H.bind(null,e.eventManager),e.Pu.yu=xH.bind(null,e.eventManager),e}function $H(t){const e=ct(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jH.bind(null,e),e}class ng{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_y(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return UF(this.persistence,new LF,e.initialUser,this.serializer)}Cu(e){return new G3(lT.mi,this.serializer)}Du(e){return new KF}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ng.provider={build:()=>new ng};class UH extends ng{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xt(this.persistence.referenceDelegate instanceof eg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new wF(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?zr.withCacheSize(this.cacheSizeBytes):zr.DEFAULT;return new G3((r=>eg.mi(r,n)),this.serializer)}}class nS{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=LH.bind(null,this.syncEngine),await mH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new yH})()}createDatastore(e){const n=_y(e.databaseInfo.databaseId),r=(function(o){return new JF(o)})(e.databaseInfo);return(function(o,l,c,f){return new nH(o,l,c,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,l,c){return new iH(r,i,o,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>wP(this.syncEngine,n,0)),(function(){return gP.v()?new gP:new WF})())}createSyncEngine(e,n){return(function(i,o,l,c,f,h,p){const m=new AH(i,o,l,c,f,h);return p&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const o=ct(i);ke(Ml,"RemoteStore shutting down."),o.Ea.add(5),await Nd(o),o.Aa.shutdown(),o.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}nS.provider={build:()=>new nS};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BH{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):yo("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="FirestoreClient";class qH{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Tr.UNAUTHENTICATED,this.clientId=YE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async l=>{ke(Ts,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(ke(Ts,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=gT(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Tb(t,e){t.asyncQueue.verifyOperationInProgress(),ke(Ts,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await K3(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function EP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await zH(t);ke(Ts,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>vP(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>vP(e.remoteStore,i))),t._onlineComponents=e}async function zH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ke(Ts,"Using user provided OfflineComponentProvider");try{await Tb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Se.FAILED_PRECONDITION||i.code===Se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;fc("Error using user provided cache. Falling back to memory cache: "+n),await Tb(t,new ng)}}else ke(Ts,"Using default OfflineComponentProvider"),await Tb(t,new UH(void 0));return t._offlineComponents}async function f6(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ke(Ts,"Using user provided OnlineComponentProvider"),await EP(t,t._uninitializedComponentsProvider._online)):(ke(Ts,"Using default OnlineComponentProvider"),await EP(t,new nS))),t._onlineComponents}function FH(t){return f6(t).then((e=>e.syncEngine))}async function HH(t){const e=await f6(t),n=e.eventManager;return n.onListen=OH.bind(null,e.syncEngine),n.onUnlisten=PH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=CH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=RH.bind(null,e.syncEngine),n}function GH(t,e,n={}){const r=new ys;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,c,f,h){const p=new BH({next:v=>{p.Nu(),l.enqueueAndForget((()=>bH(o,m)));const _=v.docs.has(c);!_&&v.fromCache?h.reject(new Fe(Se.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&v.fromCache&&f&&f.source==="server"?h.reject(new Fe(Se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(v)},error:v=>h.reject(v)}),m=new wH(nT(c.path),p,{includeMetadataChanges:!0,qa:!0});return vH(o,m)})(await HH(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6="firestore.googleapis.com",AP=!0;class OP{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Fe(Se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=d6,this.ssl=AP}else this.host=e.host,this.ssl=e.ssl??AP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=H3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_F)throw new Fe(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}r7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=h6(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Fe(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Fe(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Fe(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _T{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Fe(Se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Fe(Se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new G8;switch(r.type){case"firstParty":return new X8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Fe(Se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=TP.get(n);r&&(ke("ComponentProvider","Removing Datastore"),TP.delete(n),r.terminate())})(this),Promise.resolve()}}function KH(t,e,n,r={}){var h;t=kl(t,_T);const i=Fc(e),o=t._getSettings(),l={...o,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(d4(`https://${c}`),p4("Firestore",!0)),o.host!==d6&&o.host!==c&&fc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:c,ssl:i,emulatorOptions:r};if(!Il(f,l)&&(t._setSettings(f),r.mockUserToken)){let p,m;if(typeof r.mockUserToken=="string")p=r.mockUserToken,m=Tr.MOCK_USER;else{p=g9(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Fe(Se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Tr(v)}t._authCredentials=new K8(new i3(p,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xT(this.firestore,e,this._query)}}class Xn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Uh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xn(this.firestore,e,this._key)}toJSON(){return{type:Xn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Id(n,Xn._jsonSchema))return new Xn(e,r||null,new Je(xn.fromString(n.referencePath)))}}Xn._jsonSchemaVersion="firestore/documentReference/1.0",Xn._jsonSchema={type:qn("string",Xn._jsonSchemaVersion),referencePath:qn("string")};class Uh extends xT{constructor(e,n,r){super(e,n,nT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xn(this.firestore,null,new Je(e))}withConverter(e){return new Uh(this.firestore,e,this._path)}}function rS(t,e,...n){if(t=Ir(t),arguments.length===1&&(e=YE.newId()),n7("doc","path",e),t instanceof _T){const r=xn.fromString(e,...n);return BI(r),new Xn(t,null,new Je(r))}{if(!(t instanceof Xn||t instanceof Uh))throw new Fe(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xn.fromString(e,...n));return BI(r),new Xn(t.firestore,t instanceof Uh?t.converter:null,new Je(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP="AsyncQueue";class IP{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Y3(this,"async_queue_retry"),this._c=()=>{const r=Eb();r&&ke(CP,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Eb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Eb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ys;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Wc(e))throw e;ke(CP,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,yo("INTERNAL UNHANDLED ERROR: ",PP(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=mT.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&tt(47125,{Pc:PP(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function PP(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Sy extends _T{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new IP,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new IP(e),this._firestoreClient=void 0,await e}}}function WH(t,e){const n=typeof t=="object"?t:v4(),r=typeof t=="string"?t:Km,i=LE(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=p9("firestore");o&&KH(i,...o)}return i}function p6(t){if(t._terminated)throw new Fe(Se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||YH(t),t._firestoreClient}function YH(t){var r,i,o;const e=t._freezeSettings(),n=(function(c,f,h,p){return new p7(c,f,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,h6(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new qH(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ri(vr.fromBase64String(e))}catch(n){throw new Fe(Se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ri(vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Id(e,Ri._jsonSchema))return Ri.fromBase64String(e.bytes)}}Ri._jsonSchemaVersion="firestore/bytes/1.0",Ri._jsonSchema={type:qn("string",Ri._jsonSchemaVersion),bytes:qn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Fe(Se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Fe(Se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Fe(Se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pt(this._lat,e._lat)||Pt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ea._jsonSchemaVersion}}static fromJSON(e){if(Id(e,Ea._jsonSchema))return new Ea(e.latitude,e.longitude)}}Ea._jsonSchemaVersion="firestore/geoPoint/1.0",Ea._jsonSchema={type:qn("string",Ea._jsonSchemaVersion),latitude:qn("number"),longitude:qn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ta._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Id(e,Ta._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ta(e.vectorValues);throw new Fe(Se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ta._jsonSchemaVersion="firestore/vectorValue/1.0",Ta._jsonSchema={type:qn("string",Ta._jsonSchemaVersion),vectorValues:qn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XH=/^__.*__$/;class QH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Os(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pd(e,this.data,n,this.fieldTransforms)}}class m6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Os(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function g6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt(40011,{Ac:t})}}class ST{constructor(e,n,r,i,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ST({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rg(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(g6(this.Ac)&&XH.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class JH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_y(e)}Cc(e,n,r,i=!1){return new ST({Ac:e,methodName:n,Dc:r,path:yr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function y6(t){const e=t._freezeSettings(),n=_y(t._databaseId);return new JH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ZH(t,e,n,r,i,o={}){const l=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);ET("Data must be an object, but it was:",l,r);const c=v6(r,l);let f,h;if(o.merge)f=new ci(l.fieldMask),h=l.fieldTransforms;else if(o.mergeFields){const p=[];for(const m of o.mergeFields){const v=iS(e,m,n);if(!l.contains(v))throw new Fe(Se.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);_6(p,v)||p.push(v)}f=new ci(p),h=l.fieldTransforms.filter((m=>f.covers(m.field)))}else f=null,h=l.fieldTransforms;return new QH(new Hr(c),f,h)}class Ty extends wT{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ty}}function eG(t,e,n,r){const i=t.Cc(1,e,n);ET("Data must be an object, but it was:",i,r);const o=[],l=Hr.empty();As(r,((f,h)=>{const p=TT(e,f,n);h=Ir(h);const m=i.yc(p);if(h instanceof Ty)o.push(p);else{const v=Ay(h,m);v!=null&&(o.push(p),l.set(p,v))}}));const c=new ci(o);return new m6(l,c,i.fieldTransforms)}function tG(t,e,n,r,i,o){const l=t.Cc(1,e,n),c=[iS(e,r,n)],f=[i];if(o.length%2!=0)throw new Fe(Se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)c.push(iS(e,o[v])),f.push(o[v+1]);const h=[],p=Hr.empty();for(let v=c.length-1;v>=0;--v)if(!_6(h,c[v])){const _=c[v];let E=f[v];E=Ir(E);const S=l.yc(_);if(E instanceof Ty)h.push(_);else{const w=Ay(E,S);w!=null&&(h.push(_),p.set(_,w))}}const m=new ci(h);return new m6(p,m,l.fieldTransforms)}function Ay(t,e){if(b6(t=Ir(t)))return ET("Unsupported field value:",e,t),v6(t,e);if(t instanceof wT)return(function(r,i){if(!g6(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const o=[];let l=0;for(const c of r){let f=Ay(c,i.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),l++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=Ir(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return V7(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=mn.fromDate(r);return{timestampValue:Zm(i.serializer,o)}}if(r instanceof mn){const o=new mn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zm(i.serializer,o)}}if(r instanceof Ea)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ri)return{bytesValue:V3(i.serializer,r._byteString)};if(r instanceof Xn){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:oT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ta)return(function(l,c){return{mapValue:{fields:{[d3]:{stringValue:p3},[Wm]:{arrayValue:{values:l.toArray().map((h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return rT(c.serializer,h)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${XE(r)}`)})(t,e)}function v6(t,e){const n={};return s3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):As(t,((r,i)=>{const o=Ay(i,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function b6(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mn||t instanceof Ea||t instanceof Ri||t instanceof Xn||t instanceof wT||t instanceof Ta)}function ET(t,e,n){if(!b6(n)||!a3(n)){const r=XE(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function iS(t,e,n){if((e=Ir(e))instanceof Ey)return e._internalPath;if(typeof e=="string")return TT(t,e);throw rg("Field path arguments must be of type string or ",t,!1,void 0,n)}const nG=new RegExp("[~\\*/\\[\\]]");function TT(t,e,n){if(e.search(nG)>=0)throw rg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ey(...e.split("."))._internalPath}catch{throw rg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rg(t,e,n,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(o||l)&&(f+=" (found",o&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new Fe(Se.INVALID_ARGUMENT,c+t+f)}function _6(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(w6("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rG extends x6{data(){return super.data()}}function w6(t,e){return typeof e=="string"?TT(t,e):e instanceof Ey?e._internalPath:e._delegate._internalPath}class iG{convertValue(e,n="none"){switch(Ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw tt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return As(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[Wm].arrayValue)==null?void 0:i.values)==null?void 0:o.map((l=>Mn(l.doubleValue)));return new Ta(n)}convertGeoPoint(e){return new Ea(Mn(e.latitude),Mn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=dy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(jh(e));default:return null}}convertTimestamp(e){const n=xs(e);return new mn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=xn.fromString(e);Xt(F3(r),9688,{name:e});const i=new Dh(r.get(1),r.get(3)),o=new Je(r.popFirst(5));return i.isEqual(n)||yo(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aG(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class ph{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Al extends x6{constructor(e,n,r,i,o,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Dm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(w6("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Fe(Se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Al._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Al._jsonSchemaVersion="firestore/documentSnapshot/1.0",Al._jsonSchema={type:qn("string",Al._jsonSchemaVersion),bundleSource:qn("string","DocumentSnapshot"),bundleName:qn("string"),bundle:qn("string")};class Dm extends Al{data(e={}){return super.data(e)}}class Th{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ph(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Dm(this._firestore,this._userDataWriter,r.key,r,new ph(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Fe(Se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const f=new Dm(i._firestore,i._userDataWriter,c.doc.key,c.doc,new ph(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const f=new Dm(i._firestore,i._userDataWriter,c.doc.key,c.doc,new ph(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:oG(c.type),doc:f,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Fe(Se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Th._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=YE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function oG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sG(t){t=kl(t,Xn);const e=kl(t.firestore,Sy);return GH(p6(e),t._key).then((n=>cG(e,t,n)))}Th._jsonSchemaVersion="firestore/querySnapshot/1.0",Th._jsonSchema={type:qn("string",Th._jsonSchemaVersion),bundleSource:qn("string","QuerySnapshot"),bundleName:qn("string"),bundle:qn("string")};class lG extends iG{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ri(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xn(this.firestore,null,n)}}function aS(t,e,n){t=kl(t,Xn);const r=kl(t.firestore,Sy),i=aG(t.converter,e,n);return S6(r,[ZH(y6(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,wa.none())])}function uG(t,e,n,...r){t=kl(t,Xn);const i=kl(t.firestore,Sy),o=y6(i);let l;return l=typeof(e=Ir(e))=="string"||e instanceof Ey?tG(o,"updateDoc",t._key,e,n,r):eG(o,"updateDoc",t._key,e),S6(i,[l.toMutation(t._key,wa.exists(!0))])}function S6(t,e){return(function(r,i){const o=new ys;return r.asyncQueue.enqueueAndForget((async()=>NH(await FH(r),i,o))),o.promise})(p6(t),e)}function cG(t,e,n){const r=n.docs.get(e._key),i=new lG(t);return new Al(t,i,e._key,r,new ph(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Gc=i})(Hc),lc(new Pl("firestore",((r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new Sy(new W8(r.getProvider("auth-internal")),new Q8(l,r.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Fe(Se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dh(h.options.projectId,p)})(l,i),l);return o={useFetchStreams:n,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),ms(LI,VI,e),ms(LI,VI,"esm2020")})();var fG="firebase",hG="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ms(fG,hG,"app");const dG={apiKey:"AIzaSyDkU88zoYfO7URAqi19qtIDGs25zkgJ4_g",authDomain:"ai-code-typer-db.firebaseapp.com",projectId:"ai-code-typer-db",storageBucket:"ai-code-typer-db.firebasestorage.app",messagingSenderId:"713662672910",appId:"1:713662672910:web:990f2412b177a3e5fd8c5f",measurementId:"G-N1NK71JBG7"},E6=y4(dG),Lu=F8(E6),pG=new ao,oS=WH(E6),T6=$.createContext(null),Oy=()=>{const t=$.useContext(T6);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},mG=()=>{function t(e,n){const r=localStorage.getItem(e);if(!r)return n;try{return JSON.parse(r)}catch{return n}}return{theme:localStorage.getItem("theme")||"light",languageId:localStorage.getItem("selectedLanguage")||"python",snippetLength:localStorage.getItem("snippetLength")||"medium",snippetLevel:localStorage.getItem("snippetLevel")||"medium",blockOnErrorThreshold:Number(localStorage.getItem("blockOnErrorThreshold"))||2,fontSize:localStorage.getItem("fontSize")||"md",showKeyboard:localStorage.getItem("showKeyboard")?localStorage.getItem("showKeyboard")==="true":window.innerWidth>=768,showHandGuide:localStorage.getItem("showHandGuide")!=="false",wpmGoal:Number(localStorage.getItem("wpmGoal"))||20,accuracyGoal:Number(localStorage.getItem("accuracyGoal"))||95,timeGoal:Number(localStorage.getItem("timeGoal"))||15,lastSetupTab:localStorage.getItem("setupTab")||"generate",lastPracticeMode:localStorage.getItem("practiceMode")||"code",generalContentTypes:t("generalContentTypes",["characters"])}},gG=({children:t})=>{const[e,n]=$.useState(null),[r,i]=$.useState(null),[o,l]=$.useState(!0),[c,f]=$.useState("idle"),h=async _=>{try{f("syncing");const E=localStorage.getItem("practiceHistory"),S=E?JSON.parse(E):[],w=mG(),O=rS(oS,"users",_),I=await sG(O);let N=[],L,C=!1;if(I.exists()){const P=I.data();N=P.history||[],L=P.preferences,C=!0}let M=N,A=!1;if(S.length>0){const P=new Set(N.map(U=>U.id)),k=S.filter(U=>!P.has(U.id));k.length>0&&(M=[...N,...k],A=!0),localStorage.removeItem("practiceHistory"),localStorage.removeItem("keyErrorStats"),localStorage.removeItem("keyAttemptStats")}return(A||!C)&&(C?A&&await uG(O,{history:M}):await aS(O,{history:M})),f("synced"),{history:M,preferences:w}}catch(E){return console.error("Sync failed:",E),f("error"),null}};$.useEffect(()=>{const _=Nz(Lu,async E=>{if(E){n(E);const S=await h(E.uid);S&&i(S)}else n(null),i(null);l(!1)});return()=>{_()}},[]);const p=async()=>{try{await Zz(Lu,pG)}catch(_){throw console.error("Login failed:",_),_}},m=async()=>{try{await kz(Lu)}catch(_){console.error("Logout failed:",_)}},v=async _=>{if(Lu.currentUser)try{await Iz(Lu.currentUser,_),n({...Lu.currentUser,..._})}catch(E){throw console.error("Failed to update profile",E),E}};return x.jsx(T6.Provider,{value:{user:e,userData:r,loading:o,loginWithGoogle:p,logout:m,syncStatus:c,updateUserProfile:v},children:t})},vn=[{id:"python",name:"Python",prismAlias:"python"},{id:"javascript",name:"JavaScript",prismAlias:"javascript"},{id:"typescript",name:"TypeScript",prismAlias:"typescript"},{id:"cpp",name:"C++",prismAlias:"cpp"},{id:"java",name:"Java",prismAlias:"java"},{id:"csharp",name:"C#",prismAlias:"csharp"},{id:"c",name:"C",prismAlias:"c"},{id:"go",name:"Go",prismAlias:"go"},{id:"rust",name:"Rust",prismAlias:"rust"},{id:"php",name:"PHP",prismAlias:"php"},{id:"ruby",name:"Ruby",prismAlias:"ruby"},{id:"swift",name:"Swift",prismAlias:"swift"},{id:"kotlin",name:"Kotlin",prismAlias:"kotlin"},{id:"html",name:"HTML",prismAlias:"html"},{id:"css",name:"CSS",prismAlias:"css"},{id:"sql",name:"SQL",prismAlias:"sql"}],yG="https://ai-code-typer-proxy.khannaseem1704.workers.dev",vG={easy:"basic syntax and concepts, like variable declaration and simple loops",medium:"intermediate concepts, like functions, classes, or common library usage",hard:"advanced or complex topics, like asynchronous programming, data structures, or algorithms"},Cy={short:"5-10 lines",medium:"15-20 lines",long:"25-30 lines"},Iy=async(t,e)=>{var i,o,l,c,f,h;let r=null;for(let p=0;p<=3;p++)try{const v=await fetch(yG,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:t,systemInstruction:e||`You are a code generation engine for a typing practice app.
Your task is to provide a code snippet based on the user's request.
The snippet MUST be clean, raw code.
ABSOLUTELY NO explanations, comments, markdown backticks(\`\`\`), or any text other than the code itself.
The code must be syntactically correct for the requested language.`})});if(v.status===429)throw new Error("429: Too Many Requests");if(!v.ok){let w=v.statusText,O=!1;try{const I=await v.json();I!=null&&I.error&&(w=JSON.stringify(I.error),(I.error.code===429||I.error.status==="RESOURCE_EXHAUSTED"||(i=I.error.message)!=null&&i.toLowerCase().includes("quota"))&&(O=!0))}catch{try{const N=await v.text();N&&(w=`${v.status} - ${N}`,N.toLowerCase().includes("quota")&&(O=!0))}catch{}}throw O?new Error("Quota Exceeded: The AI service daily limit has been reached."):new Error(`Worker Error: ${w}`)}const _=await v.json(),E=(h=(f=(c=(l=(o=_==null?void 0:_.candidates)==null?void 0:o[0])==null?void 0:l.content)==null?void 0:c.parts)==null?void 0:f[0])==null?void 0:h.text;if(!E)throw new Error(_.error||"The AI returned an empty snippet. Please try again.");return E.replace(/^```(?:\w+\n)?/,"").replace(/```$/,"").trim()}catch(m){r=m;const v=m instanceof Error&&m.message.includes("429"),_=m instanceof Error&&m.message.includes("Quota Exceeded");if(v&&!_&&p<3){const E=Math.pow(2,p)*1e3;await new Promise(S=>setTimeout(S,E));continue}break}throw console.error("Error generating snippet:",r),r?r.message.includes("Quota Exceeded")?r:r.message.includes("429")?new Error("AI service is busy. Please try again shortly."):r:new Error("Unknown error generating snippet.")},RP=async(t,e,n)=>{const r=`Generate a code snippet in ${t.name}. 
The snippet should be ${Cy[e]} long.
The difficulty level should be ${vG[n]}.`,i=`You are a strict code generation engine.
  RULES:
  1. Generate ONLY valid, clean, compilable code in ${t.name}.
  2. NO comments. NO explanation. NO markdown. NO backticks.
  3. CODE MUST BE REAL, FUNCTIONAL, AND GRAMMATICALLY CORRECT for the language.
  4. DO NOT write pseudo-code or fake logic.
  5. CRITICAL: INDENTATION MUST USE TAB CHARACTERS (	). NEVER USE SPACES FOR INDENTATION.
  6. Do not convert tabs to spaces. Use actual tab characters.`;return Iy(r,i)},NP=async(t,e,n,r)=>{const o=`Generate a TARGETED PRACTICE snippet.
  
  Target Keys: [${e.map(l=>l===" "?"space":l===`
`?"newline":l==="	"?"tab":l).join(", ")}]
  Language Style: ${t.name} (but NOT functional code)
  Length: ${Cy[n]}
  
  CRITICAL RULES:
  1. The snippet must be MEANINGLESS but READABLE (pseudo-code sentences, fake logic).
  2. The Target Keys must appear 5x MORE FREQUENTLY than normal.
  3. Do NOT generate real working code. It should feel like muscle memory training.
  4. Use structure (brackets, indentation) if the language uses them.
  5. NO explanations, NO comments, ONLY the raw snippet.
  
  Examples of style:
  - "while w wraps words { ww }"
  - "Tab shifts w into wider waves { }"
  - "x = (x + x) * x; // x marks the spot"
  
  Generate the snippet now.`;return Iy(o)},bG=async(t,e,n=["characters"])=>{const r=n.includes("characters"),i=n.includes("numbers"),o=n.includes("symbols");let l="";r&&i&&o?l=`Generate a text that heavily mixes words, numbers, and symbols.
    - CRITICAL REQUIREMENT: Every single sentence or line MUST contain at least one number AND one symbol.
    - Style: Technical data logs, complex passwords, inventory lists, or code-like pseudo text.
    - Example format: "User_ID: #4928 @ 10:45PM (Status: 99% Verified!)"`:r&&i?l=`Generate a text containing words and numbers. 
    - Style: Addresses, historical dates, scientific facts with measurements, or financial summaries.
    - CRITICAL REQUIREMENT: Frequent use of digits mixed with sentences. Do NOT use complex symbols like @#$%^ (only basic punctuation like . , is allowed).
    - Example format: "On July 4th, 1776, approximately 2.5 million people lived there."`:r&&o?l=`Generate a text containing words and symbols.
    - Style: Dialogues with heavy punctuation, code comments, or expressive writing.
    - CRITICAL REQUIREMENT: Frequent use of brackets (), [], {}, punctuation !?.,:; and symbols @#&. Do NOT use numbers 0-9.
    - Example format: "Hello (world)! Waiting for response... [OK] -> {verified}."`:i&&o?l=`Generate a sequence of Numbers and Symbols ONLY.
    - ABSOLUTELY FORBIDDEN: DO NOT INCLUDE ANY ALPHABET CHARACTERS (A-Z, a-z).
    - Style: Math equations, currency calculations, or abstract data strings.
    - Example format: "123+456=$579; (80% * 10) = #800 // 99.9"`:i?l=`Generate a sequence of Numbers ONLY.
    - ABSOLUTELY FORBIDDEN: DO NOT INCLUDE LETTERS OR SYMBOLS (except decimal points).
    - Style: Phone numbers, years, zip codes, or raw data streams.
    - Example format: "1990 2023 8837 1.45 00392 998 112"`:o?l=`Generate a sequence of Symbols ONLY.
    - ABSOLUTELY FORBIDDEN: DO NOT INCLUDE LETTERS OR NUMBERS.
    - Style: Random symbol patterns for pinky finger practice.
    - Example format: "!@# $ %^ &*() _+ {} [] : ; < > ?"`:l=`Generate standard English paragraphs.
    - Style: Informative, story-telling, or essays.
    - Requirement: Standard grammar and punctuation. Minimize numbers and complex symbols.`;let c="";e==="easy"&&(c="Use simple, repetitive patterns and lower density of complex items."),e==="medium"&&(c="Use varied patterns and moderate density of selected elements."),e==="hard"&&(c="Maximize the density, randomness, and complexity of the selected elements. Make it challenging.");const f=`Generate a random typing practice snippet.
The length should be roughly ${Cy[t]}.
${l}
${c}`;return Iy(f,`You are a text generation engine for a general typing practice app. 
  RULES:
  1. Generate ONLY normal English text or mixed content based on instructions.
  2. ABSOLUTELY NO PROGRAMMING CODE.
  3. NO function-like patterns, NO classes, NO loops, NO braces like {}, [], () used in a code style.
  4. NO variable-like words (temp1, obj2, xValue).
  5. Format naturally with line breaks every 8-12 words.
  6. NO markdown, headers, or backticks.`)},_G=async(t,e="medium")=>{const n=Object.entries(t).map(([h,p])=>({key:h,errorRate:p.attempts>0?p.errors/p.attempts*100:0})).sort((h,p)=>p.errorRate-h.errorRate),r=n.slice(0,5),i=n.slice(5).filter(h=>h.errorRate>=10),o=[...r,...i].slice(0,7);if(o.length===0)throw new Error("No error history available for practice.");const c=`
  generate a paragraph of Abstract Prose / Creative Writing.
  
  The text must differ from normal writing because it must aggressively use these specific characters: [${o.map(h=>h.key===" "?"space":h.key===`
`?"newline":h.key==="	"?"tab":h.key).join(", ")}]
  
  STRICT RULES FOR SYMBOL USAGE (Do Not Write Code):
  1. If keys are '{}' or '[]': Use them to enclose feelings or whispers inside sentences. 
     - BAD: function { return }
     - GOOD: "I felt {lonely} but [strong] inside."
  2. If keys are '()' : Use them for side comments.
     - GOOD: "The sky (which was blue) turned grey."
  3. If keys are ';': Use them to connect two long sentences.
     - GOOD: "The rain stopped; silence followed."
  4. If keys are '$' or '#': Use them as modern slang.
     - GOOD: "I have $zero #motivation today."
  
  REQUIREMENTS:
  - Length: ${Cy[e]}
  - Structure: A flowing paragraph of English text. 
  - ABSOLUTELY NO PROGRAMMING SYNTAX (No function, var, const, return, import).
  
  Write the text now.
  `;return Iy(c,`
  You are a Creative Writer, NOT a programmer.
  Your task is to write English paragraphs that look like experimental literature.
  
  CRITICAL INTERVENTION: 
  The user is trying to trick you into writing code by asking for symbols like { } ; ( ) [ ]. 
  DO NOT FALL FOR IT. 
  
  If you see '{', treat it as a fancy bracket for emphasis in a story.
  If you see ';', treat it as a punctuation mark in a novel.
  
  Output MUST be plain text prose.
  `)},sS=t=>{const e={},n={};for(const r of t){if(r.errorMap)for(const[i,o]of Object.entries(r.errorMap))e[i]=(e[i]||0)+o;if(r.attemptMap)for(const[i,o]of Object.entries(r.attemptMap))n[i]=(n[i]||0)+o}return{keyErrorStats:e,keyAttemptStats:n}},xG=t=>{const e=new Date().toISOString().split("T")[0],n=localStorage.getItem("dailyPracticeDate");let r=Number(localStorage.getItem("dailyPracticeTime")||"0");return n!==e&&(r=0,localStorage.setItem("dailyPracticeDate",e)),r+=t,localStorage.setItem("dailyPracticeTime",String(r)),r},A6=t=>{const e=["theme","selectedLanguage","practiceHistory","keyErrorStats","keyAttemptStats","wpmGoal","accuracyGoal","setupTab","timeGoal","dailyPracticeDate","dailyPracticeTime","generalContentTypes","snippetLength","snippetLevel","blockOnErrorThreshold","fontSize","showKeyboard","showHandGuide","practiceMode"],n={};e.forEach(S=>{if(t&&t[S]!==void 0)n[S]=t[S];else{const w=localStorage.getItem(S);if(w!==null)try{n[S]=JSON.parse(w)}catch{n[S]=w}}});const r=JSON.stringify(n,null,2),i=new Blob([r],{type:"application/json"}),o=new Date,l=o.getFullYear(),c=String(o.getMonth()+1).padStart(2,"0"),f=String(o.getDate()).padStart(2,"0"),h=String(o.getHours()).padStart(2,"0"),p=String(o.getMinutes()).padStart(2,"0"),m=String(o.getSeconds()).padStart(2,"0"),_=`ai-code-typer-backup-${`${l}-${c}-${f}-${h}-${p}-${m}`}.json`,E=document.createElement("a");E.href=URL.createObjectURL(i),E.download=_,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(E.href)},wG=(t,e)=>{let n;try{n=JSON.parse(t)}catch{throw new Error("Invalid JSON file. Could not parse data.")}if(typeof n!="object"||n===null||Array.isArray(n))throw new Error("Invalid backup file format: not a JSON object.");if(!["theme","selectedLanguage","practiceHistory","keyErrorStats","wpmGoal"].some(h=>h in n))throw new Error("File does not appear to be a valid AI Code Typer backup.");Object.keys(n).forEach(h=>{if(h!=="practiceHistory"&&h!=="keyErrorStats"&&h!=="keyAttemptStats"){const p=n[h],m=typeof p=="string"?p:JSON.stringify(p);localStorage.setItem(h,m)}});let o=[];const l=Array.isArray(n.practiceHistory)?n.practiceHistory:[];if(e==="merge"){const h=localStorage.getItem("practiceHistory"),p=h?JSON.parse(h):[],m=new Set(p.map(_=>_.timestamp)),v=l.filter(_=>!m.has(_.timestamp));o=[...p,...v],o.sort((_,E)=>_.timestamp-E.timestamp)}else o=l;let{keyErrorStats:c,keyAttemptStats:f}=sS(o);Object.keys(c).length===0&&n.keyErrorStats&&Object.keys(n.keyErrorStats).length>0&&e==="replace"&&(c=n.keyErrorStats),Object.keys(f).length===0&&n.keyAttemptStats&&Object.keys(n.keyAttemptStats).length>0&&e==="replace"&&(f=n.keyAttemptStats),localStorage.setItem("practiceHistory",JSON.stringify(o)),localStorage.setItem("keyErrorStats",JSON.stringify(c)),localStorage.setItem("keyAttemptStats",JSON.stringify(f))},kP={id:"custom",name:"Custom",prismAlias:"clike"},Vu=["sm","md","lg","xl"],SG=t=>{const e=t.lastIndexOf(".");if(e<0)return kP;const n=t.substring(e).toLowerCase();return{".py":vn.find(i=>i.id==="python"),".js":vn.find(i=>i.id==="javascript"),".jsx":vn.find(i=>i.id==="javascript"),".ts":vn.find(i=>i.id==="typescript"),".tsx":vn.find(i=>i.id==="typescript"),".java":vn.find(i=>i.id==="java"),".cpp":vn.find(i=>i.id==="cpp"),".cc":vn.find(i=>i.id==="cpp"),".cxx":vn.find(i=>i.id==="cpp"),".h":vn.find(i=>i.id==="cpp"),".hpp":vn.find(i=>i.id==="cpp"),".go":vn.find(i=>i.id==="go"),".rs":vn.find(i=>i.id==="rust")}[n]||kP},Jf=t=>t.split(`
`).map(e=>{const n=e.match(/^ +/);if(n){const r=n[0].length;if(r>0&&r%4===0){const i=r/4;return"	".repeat(i)+e.substring(r)}}return e}).join(`
`);function is(t,e){if(typeof window>"u")return e;try{const n=localStorage.getItem(t);return n?JSON.parse(n):e}catch(n){return console.warn(`Failed to parse localStorage key "${t}":`,n),e}}const On=$.createContext(null),EG=({children:t})=>{const{user:e,syncStatus:n,userData:r,loading:i}=Oy(),[o,l]=$.useState(()=>{const ie=localStorage.getItem("theme");return ie||"light"}),[c,f]=$.useState(()=>{const ie=localStorage.getItem("selectedLanguage");return vn.find(Ce=>Ce.id===(ie||"python"))||vn[0]}),[h,p]=$.useState("code"),[m,v]=$.useState(()=>is("generalContentTypes",["characters"])),[_,E]=$.useState(""),[S,w]=$.useState(!1),[O,I]=$.useState(null),[N,L]=$.useState(!1),[C,M]=$.useState("medium"),[A,P]=$.useState("medium"),[k,U]=$.useState(2),[D,B]=$.useState(()=>{const ie=localStorage.getItem("fontSize");return ie&&Vu.includes(ie)?ie:"md"}),[V,Q]=$.useState(()=>typeof window<"u"?window.innerWidth>=768:!0),[J,H]=$.useState(!0),[Y,ee]=$.useState("home"),ce=$.useRef(null),[_e,F]=$.useState(!1),[W,se]=$.useState(0),me=W>0,ve=$.useCallback(()=>se(ie=>ie+1),[]),xe=$.useCallback(()=>se(ie=>Math.max(0,ie-1)),[]),[Ie,De]=$.useState(()=>is("practiceHistory",[])),[ye,Re]=$.useState(()=>is("keyErrorStats",{})),[$e,ne]=$.useState(()=>is("keyAttemptStats",{})),[Ke,we]=$.useState(()=>parseInt(localStorage.getItem("wpmGoal")||"20",10)),[Ee,Ve]=$.useState(()=>parseInt(localStorage.getItem("accuracyGoal")||"95",10)),[Ye,ft]=$.useState(()=>parseInt(localStorage.getItem("timeGoal")||"15",10)),[He,ze]=$.useState(()=>{const ie=new Date().toISOString().split("T")[0];return localStorage.getItem("dailyPracticeDate")===ie?Number(localStorage.getItem("dailyPracticeTime")||"0"):(localStorage.setItem("dailyPracticeTime","0"),localStorage.setItem("dailyPracticeDate",ie),0)}),[_t,Mt]=$.useState(!1),[cn,Ae]=$.useState([]),[bt,Nt]=$.useState(null),[pe,Pe]=$.useState(null),[at,jt]=$.useState(()=>localStorage.getItem("setupTab")||"generate"),[ht,St]=$.useState([]),[it,gt]=$.useState(-1),[Cn,qt]=$.useState(null),xt=$.useRef(null),[fn,zt]=$.useState(0),wt=$.useCallback((ie,Ce,Ne=4e3)=>{xt.current&&clearTimeout(xt.current),qt({message:ie,type:Ce}),xt.current=window.setTimeout(()=>{qt(null)},Ne)},[]),Ue=!!_,Le=ie=>{l(ie),document.documentElement.classList.toggle("dark",ie==="dark"),localStorage.setItem("theme",ie)},qe=()=>Le(o==="light"?"dark":"light"),Ft=ie=>{f(ie),localStorage.setItem("selectedLanguage",ie.id)},Fn=ie=>{M(ie),localStorage.setItem("snippetLength",ie)},di=ie=>{P(ie),localStorage.setItem("snippetLevel",ie)},Di=ie=>{U(ie),localStorage.setItem("blockOnErrorThreshold",String(ie))},or=ie=>{B(ie),localStorage.setItem("fontSize",ie)},Wr=()=>{const ie=Vu.indexOf(D);ie<Vu.length-1&&or(Vu[ie+1])},af=()=>{const ie=Vu.indexOf(D);ie>0&&or(Vu[ie-1])},ja=ie=>{Q(ie),localStorage.setItem("showKeyboard",String(ie))},Ns=()=>ja(!V),ks=ie=>{H(ie),localStorage.setItem("showHandGuide",String(ie))},Da=()=>ks(!J),Li=ie=>{jt(ie),localStorage.setItem("setupTab",ie)},Xl=ie=>{p(ie),localStorage.setItem("practiceMode",ie)},Yr=ie=>{v(ie),localStorage.setItem("generalContentTypes",JSON.stringify(ie))},Xr=(ie,Ce,Ne)=>{we(ie),Ve(Ce),ft(Ne),localStorage.setItem("wpmGoal",String(ie)),localStorage.setItem("accuracyGoal",String(Ce)),localStorage.setItem("timeGoal",String(Ne))};$.useEffect(()=>{if(n==="synced"){const ie=localStorage.getItem("practiceHistory");if(ie){console.log("Sync complete. Hydrating from local storage.");try{const Ce=JSON.parse(ie);if(Array.isArray(Ce)&&Ce.length>0){De(Ce);const{keyErrorStats:Ne,keyAttemptStats:Xe}=sS(Ce);Re(Ne),ne(Xe)}}catch(Ce){console.error("Failed to hydrate",Ce)}}}},[n]),$.useEffect(()=>{if(r){if(r.history){De(r.history);const{keyErrorStats:ie,keyAttemptStats:Ce}=sS(r.history);Re(ie),ne(Ce)}Pn(!0)}else e||Pn(!0)},[r,e]);const[In,Pn]=$.useState(!1);$.useEffect(()=>{const ie=Xe=>{Xe.key==="Alt"&&(Xe.preventDefault(),Mt(!0))},Ce=Xe=>{Xe.key==="Alt"&&Mt(!1)},Ne=()=>{Mt(!1)};return window.addEventListener("keydown",ie),window.addEventListener("keyup",Ce),window.addEventListener("blur",Ne),()=>{window.removeEventListener("keydown",ie),window.removeEventListener("keyup",Ce),window.removeEventListener("blur",Ne)}},[]);const Lr=()=>F(!0),Vi=()=>F(!1),Oo=ie=>{ie!==Y&&(ce.current=Y),ee(ie)},Ql=()=>ce.current,Jl=$.useCallback(ie=>{Pe(()=>ie)},[]),pi=$.useCallback(()=>{pe&&pe()},[pe]),$i=()=>{St([]),gt(-1)},br=$.useCallback(async ie=>{if(S)return!1;const Ce=(ie==null?void 0:ie.mode)||h,Ne=(ie==null?void 0:ie.length)||C,Xe=(ie==null?void 0:ie.level)||A,st=(ie==null?void 0:ie.contentTypes)||m;w(!0),E(""),I(null),L(!1),Ce!=="targeted"&&Ae([]);try{let dt="";if(Ce==="code")dt=await RP(c,Ne,Xe);else if(Ce==="targeted"){const Lt=cn;Lt.length>0?dt=await NP(c,Lt,Ne,Xe):dt=await RP(c,Ne,Xe)}else Ce==="general"&&(dt=await bG(Ne,Xe,st));return E(Jf(dt)),zt(Lt=>Lt+1),!0}catch(dt){const Lt=dt instanceof Error?dt.message:"Failed to generate snippet. Please try again.";return I(Lt),zt(xr=>xr+1),console.error(dt),!1}finally{w(!1)}},[c,C,A,S,h,m,cn]),_r=(ie,Ce)=>{$i();const Ne=Jf(ie);E(Ne),L(!0),Ae([]),zt(Xe=>Xe+1),Ce&&p(Ce)},Pr=$.useCallback(async(ie,Ce)=>{if(!S){p("targeted"),Ae(ie),$i(),E(""),I(null),L(!1),w(!0);try{const Ne=await NP(c,ie,Ce.length,Ce.level);E(Jf(Ne)),zt(Xe=>Xe+1)}catch(Ne){const Xe=Ne instanceof Error?Ne.message:"Failed to fetch a targeted snippet. Please try again.";I(Xe),zt(st=>st+1),console.error(Ne)}finally{w(!1)}}},[c,S]),mi=$.useCallback(async()=>{if(S)return;const ie=Object.entries(ye).filter(([Ce,Ne])=>Ne>0).sort((Ce,Ne)=>Ne[1]-Ce[1]).map(([Ce])=>Ce);if(ie.length===0){wt("No error history found! Practice more to generate error data.","info");return}p("error-training"),Ae(ie),$i(),E(""),I(null),L(!1),w(!0);try{const Ce={};ie.forEach(Xe=>{const st=ye[Xe]||0,dt=$e[Xe]||st;Ce[Xe]={errors:st,attempts:dt}});const Ne=await _G(Ce,C);E(Jf(Ne)),zt(Xe=>Xe+1)}catch(Ce){const Ne=Ce instanceof Error?Ce.message:"Failed to generate error practice snippet.";I(Ne),zt(Xe=>Xe+1),console.error(Ce)}finally{w(!1)}},[ye,$e,S,wt,C]),_n=$.useCallback(ie=>{if(ht[ie]){const Ce=ht[ie];E(Ce.code),f(Ce.language),gt(ie),L(!0),Ae([]),I(null),w(!1),zt(Ne=>Ne+1)}},[ht]),Ms=async ie=>{w(!0),E(""),$i();const Ce=Ne=>new Promise((Xe,st)=>{const dt=new FileReader;dt.onload=Lt=>{var sr;const xr=(sr=Lt.target)==null?void 0:sr.result,oa=xr.trim(),eu=xr.replace(/\r\n?/g,`
`),sa=Jf(eu);Xe({code:sa,name:Ne.name,language:SG(Ne.name),isValid:oa.length>=2})},dt.onerror=Lt=>st(Lt),dt.readAsText(Ne)});try{const Ne=await Promise.all(ie.map(Ce)),Xe=Ne.filter(Lt=>Lt.isValid),st=Ne.filter(Lt=>!Lt.isValid);if(st.length>0){const Lt=st.map(xr=>xr.name).join(", ");wt(`Ignored files with less than 2 characters: ${Lt}`,"warning",6e3)}if(Xe.length===0)throw wt("All selected files are invalid. Code must be at least 2 characters long.","error"),new Error("All selected files are invalid.");St(Xe);const dt=Xe[0];E(dt.code),f(dt.language),gt(0),L(!0),I(null),zt(Lt=>Lt+1)}catch(Ne){const Xe=Ne instanceof Error?Ne.message:"Failed to process files.";throw I(Xe),zt(st=>st+1),console.error(Ne),Ne}finally{w(!1)}},La=$.useCallback(()=>{const ie=it+1;ie<ht.length&&_n(ie)},[it,ht,_n]),Qr=async ie=>{if(e)try{console.log("Saving history to cloud...",ie.length),await aS(rS(oS,"users",e.uid),{history:ie},{merge:!0}),console.log("Cloud save successful.")}catch(Ce){console.error("Failed to save history:",Ce),wt("Failed to sync with cloud. Please check your connection.","error")}},gi=ie=>{const Ce={...ie};h==="general"&&(Ce.language="General");let Ne=[];De(st=>{const dt=st.findIndex(Lt=>Lt.id===Ce.id);return dt>=0?(Ne=[...st],Ne[dt]=Ce):Ne=[...st,Ce].slice(-100),Ne}),Qr(Ne);const Xe=xG(Ce.duration);ze(Xe),ie.errorMap&&Re(st=>{const dt={...st};for(const[Lt,xr]of Object.entries(ie.errorMap))dt[Lt]=(dt[Lt]||0)+xr;return dt}),ie.attemptMap&&ne(st=>{const dt={...st};for(const[Lt,xr]of Object.entries(ie.attemptMap))dt[Lt]=(dt[Lt]||0)+xr;return dt})},js=()=>Mt(!0),Ds=()=>Mt(!1),Ls=$.useCallback(()=>{const ie=localStorage.getItem("theme");l(ie||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"));const Ce=localStorage.getItem("selectedLanguage");f(vn.find(st=>st.id===Ce)||vn[0]),De(is("practiceHistory",[])),Re(is("keyErrorStats",{})),ne(is("keyAttemptStats",{})),we(parseInt(localStorage.getItem("wpmGoal")||"20",10)),Ve(parseInt(localStorage.getItem("accuracyGoal")||"95",10)),ft(parseInt(localStorage.getItem("timeGoal")||"15",10));const Ne=new Date().toISOString().split("T")[0],Xe=localStorage.getItem("dailyPracticeDate");ze(Xe===Ne?Number(localStorage.getItem("dailyPracticeTime")||"0"):0),jt(localStorage.getItem("setupTab")||"generate"),v(is("generalContentTypes",["characters"]))},[]),Zl=$.useCallback(async(ie,Ce,Ne,Xe,st)=>{Ne?(_r(Ne,Xe),Vi(),Oo("practice")):(ie&&M(ie),Ce&&P(Ce),Xe&&p(Xe),st&&v(st),Vi(),Oo("practice"),await br({length:ie||C,level:Ce||A,mode:Xe||h,contentTypes:st||m}))},[Vi,_r,br,C,A,h,m,Oo]),Co=$.useCallback(()=>{ht.length>0&&it<ht.length-1?La():br()},[ht,it,La,br]),Rr=$.useCallback(()=>{zt(ie=>ie+1)},[]),Sn=$.useCallback(()=>{Lr(),zt(ie=>ie+1)},[Lr]),jn=$.useCallback(ie=>{const Ce=Ie.find(dt=>dt.timestamp===ie);if(!Ce)return;const Ne=Ie.filter(dt=>dt.timestamp!==ie);De(Ne);const Xe=new Date(Ce.timestamp).toDateString(),st=new Date().toDateString();if(Xe===st){ze(Lt=>Math.max(0,Lt-Ce.duration));const dt=Number(localStorage.getItem("dailyPracticeTime")||"0");localStorage.setItem("dailyPracticeTime",String(Math.max(0,dt-Ce.duration)))}Qr(Ne)},[Ie,e]),aa=$.useCallback(async()=>{if(De([]),ze(0),Re({}),ne({}),l("light"),f(vn.find(Ce=>Ce.id==="python")||vn[0]),p("code"),v(["characters"]),M("medium"),P("medium"),U(2),B("medium"),we(20),Ve(95),ft(15),Q(window.innerWidth>=768),H(!0),["practiceHistory","keyErrorStats","keyAttemptStats","dailyPracticeTime","dailyPracticeDate","theme","selectedLanguage","generalContentTypes","snippetLength","snippetLevel","blockOnErrorThreshold","fontSize","wpmGoal","accuracyGoal","timeGoal","setupTab","sessionResultToShow","continuedSession","showKeyboard"].forEach(Ce=>localStorage.removeItem(Ce)),e)try{console.log("Wiping cloud data..."),await aS(rS(oS,"users",e.uid),{history:[],preferences:{theme:"dark",languageId:vn[0].id}}),console.log("Cloud wipe successful."),wt("All history and preferences cleared from device and cloud.","info")}catch(Ce){console.error("Failed to wipe cloud data:",Ce),wt("Failed to clear cloud data. Please check connection.","error")}else wt("All local history and preferences cleared.","info")},[e,wt]),Vs={theme:o,toggleTheme:qe,selectedLanguage:c,setSelectedLanguage:Ft,snippet:_,isLoadingSnippet:S,snippetError:O,fetchNewSnippet:br,startCustomSession:_r,startTargetedSession:Pr,startErrorPracticeSession:mi,isCustomSession:N,isMultiFileSession:ht.length>0,snippetLength:C,setSnippetLength:Fn,snippetLevel:A,setSnippetLevel:di,blockOnErrorThreshold:k,setBlockOnErrorThreshold:Di,fontSize:D,increaseFontSize:Wr,decreaseFontSize:af,showKeyboard:V,toggleKeyboard:Ns,showHandGuide:J,toggleHandGuide:Da,page:Y,navigateTo:Oo,getPreviousPage:Ql,isSetupModalOpen:_e,openSetupModal:Lr,closeSetupModal:Vi,isInitialSetupComplete:Ue,setupTab:at,setSetupTab:Li,practiceHistory:Ie,addPracticeResult:gi,keyErrorStats:ye,keyAttemptStats:$e,wpmGoal:Ke,accuracyGoal:Ee,timeGoal:Ye,dailyPracticeTime:He,setGoals:Xr,isAccessKeyMenuVisible:_t,showAccessKeyMenu:js,hideAccessKeyMenu:Ds,currentTargetedKeys:cn,setCurrentTargetedKeys:Ae,lastPracticeAction:bt,setLastPracticeAction:Nt,setRequestFocusOnCodeCallback:Jl,requestFocusOnCode:pi,practiceQueue:ht,currentQueueIndex:it,startMultiFileSession:Ms,loadNextSnippetInQueue:La,alertMessage:Cn,showAlert:wt,reloadDataFromStorage:Ls,practiceMode:h,setPracticeMode:Xl,generalContentTypes:m,setGeneralContentTypes:Yr,sessionResetKey:fn,handleStartFromSetup:Zl,handleNextSnippet:Co,handlePracticeSame:Rr,handleSetupNew:Sn,deletePracticeSession:jn,clearPracticeHistory:aa,isAnyModalOpen:me,registerModalOpen:ve,registerModalClose:xe};return x.jsx(On.Provider,{value:Vs,children:t})},TG=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("circle",{cx:"12",cy:"12",r:"5"}),x.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),x.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),x.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),x.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),x.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),x.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),x.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),x.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),AG=t=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:x.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),OG=t=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",...t,children:x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.5,4H3.5C2.67,4,2,4.67,2,5.5v13C2,19.33,2.67,20,3.5,20h17c0.83,0,1.5-0.67,1.5-1.5V5.5C22,4.67,21.33,4,20.5,4z M6.4,8.4H4V6h2.4V8.4z M9.6,8.4H7.2V6h2.4V8.4z M12.8,8.4h-2.4V6h2.4V8.4z M16,8.4h-2.4V6h2.4V8.4z M19.2,8.4H16.8V6h2.4V8.4z M6.4,12H4V9.6h2.4V12z M9.6,12H7.2V9.6h2.4V12z M12.8,12h-2.4V9.6h2.4V12z M16,12h-2.4V9.6h2.4V12z M19.2,12H16.8V9.6h2.4V12z M16,16.4H8V14h8V16.4z"})}),MP=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M12 20V10"}),x.jsx("path",{d:"M18 20V4"}),x.jsx("path",{d:"M6 20V16"})]}),jP=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),x.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),CG=t=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:x.jsx("polyline",{points:"6 9 12 15 18 9"})}),lS=$.forwardRef(({options:t,className:e="",value:n,onChange:r,disabled:i=!1,...o},l)=>{const[c,f]=$.useState(!1),[h,p]=$.useState(Math.max(0,t.findIndex(w=>w.value===n))),m=$.useRef(null),v=$.useRef(null),_=t.find(w=>w.value===n);$.useEffect(()=>{p(Math.max(0,t.findIndex(w=>w.value===n)))},[n,t]),$.useEffect(()=>{if(c){const w=I=>{var N,L;switch(I.key){case"Escape":f(!1),(N=v.current)==null||N.focus();break;case"ArrowUp":{I.preventDefault();const C=(h-1+t.length)%t.length;p(C);break}case"ArrowDown":{I.preventDefault();const C=(h+1)%t.length;p(C);break}case"Enter":case" ":I.preventDefault(),h>=0&&h<t.length&&r(t[h].value),f(!1),(L=v.current)==null||L.focus();break}},O=I=>{m.current&&!m.current.contains(I.target)&&f(!1)};return document.addEventListener("keydown",w),document.addEventListener("mousedown",O),()=>{document.removeEventListener("keydown",w),document.removeEventListener("mousedown",O)}}},[c,h,t,r]),$.useImperativeHandle(l,()=>({focus:()=>{var w;return(w=v.current)==null?void 0:w.focus()},toggle:()=>{i||(f(w=>!w),c||p(Math.max(0,t.findIndex(w=>w.value===n))))},getTriggerElement:()=>v.current})),$.useEffect(()=>{var w;if(c){const O=(w=m.current)==null?void 0:w.querySelector("ul"),I=O==null?void 0:O.children[h];I&&I.scrollIntoView({block:"nearest"})}},[h,c]);const[E,S]=$.useState(!1);return $.useEffect(()=>{if(c&&v.current){const w=v.current.getBoundingClientRect(),O=window.innerHeight-w.bottom;S(O<220)}},[c]),x.jsxs("div",{ref:m,className:`relative ${e}`,children:[x.jsxs("button",{ref:v,type:"button",disabled:i,onClick:()=>!i&&f(!c),onKeyDown:w=>{if(!i&&!c&&(w.key==="ArrowRight"||w.key==="ArrowLeft")){w.preventDefault(),w.stopPropagation();const O=t.findIndex(L=>L.value===n),I=w.key==="ArrowRight"?1:-1;let N;O!==-1?N=(O+I+t.length)%t.length:N=0,r(t[N].value)}},className:"w-full flex items-center justify-between px-3 py-2 text-slate-900 dark:text-slate-100 bg-slate-200 dark:bg-slate-700/50 border border-transparent rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-haspopup":"listbox","aria-expanded":c,children:[x.jsx("span",{children:(_==null?void 0:_.label)||"Select..."}),x.jsx(CG,{className:`w-5 h-5 text-slate-500 dark:text-slate-400 transition-transform ${c?"rotate-180":""}`})]}),c&&x.jsx("ul",{className:`absolute z-[100] w-full bg-white dark:bg-slate-800 shadow-xl max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm border border-slate-200 dark:border-slate-700 ${E?"bottom-full mb-1":"mt-1"}`,tabIndex:-1,role:"listbox",children:t.map((w,O)=>x.jsx("li",{className:`cursor-pointer select-none relative py-2 pl-3 pr-9 transition-colors ${h===O?"text-white bg-primary-600":"text-gray-900 dark:text-gray-100 hover:bg-slate-100 dark:hover:bg-slate-700"}`,onClick:()=>{var I;r(w.value),f(!1),(I=v.current)==null||I.focus()},onMouseEnter:()=>p(O),role:"option","aria-selected":n===w.value,children:x.jsx("span",{className:`block truncate ${n===w.value?"font-semibold":"font-normal"}`,children:w.label})},w.value))})]})}),Fr=(t,e,n={})=>{const r=$.useContext(On);$.useEffect(()=>{if(!t||n.disabled||!e)return;const i=o=>{o.altKey&&o.key.toLowerCase()===t.toLowerCase()&&(o.preventDefault(),e(),r==null||r.hideAccessKeyMenu())};return window.addEventListener("keydown",i),()=>{window.removeEventListener("keydown",i)}},[t,e,n.disabled,r])},ig=({label:t})=>x.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 bg-black text-white dark:bg-white dark:text-black border border-white dark:border-black rounded-[2px] px-1.5 py-0 text-[10px] leading-tight font-sans font-bold z-50 shadow-sm pointer-events-none uppercase tracking-tighter min-w-[16px] text-center",children:t});var AT=o4();const IG=Kt(AT),mr=$.forwardRef(({children:t,className:e="",...n},r)=>x.jsx("div",{ref:r,className:`glass-card rounded-xl ${e}`,...n,children:t})),OT=$.createContext(!1),DP=document.getElementById("modal-root"),Fl=({isOpen:t,onClose:e,title:n,children:r})=>{const i=$.useRef(null),o=$.useContext(On);if(Fr("X",e,{disabled:!t}),$.useEffect(()=>{if(t)return o==null||o.registerModalOpen(),()=>{o==null||o.registerModalClose()}},[t,o]),$.useEffect(()=>{const c=document.getElementById("root"),f=h=>{h.key==="Escape"&&e()};return t&&(c==null||c.classList.add("modal-open-blur"),document.addEventListener("keydown",f)),()=>{c==null||c.classList.remove("modal-open-blur"),document.removeEventListener("keydown",f)}},[t,e]),!t||!DP)return null;const l=x.jsx("div",{className:"fixed top-0 left-0 w-[100vw] h-[100vh] z-[9999] flex items-center justify-center bg-black/70 p-4",onMouseDown:c=>{c.target===c.currentTarget&&e()},children:x.jsx(mr,{ref:i,className:"w-full max-w-md max-h-[90vh] overflow-y-auto custom-scrollbar p-6 animate-fade-in-up",children:x.jsxs(OT.Provider,{value:!0,children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:n}),x.jsx(Ge,{variant:"ghost",size:"icon",onClick:e,className:"-m-2","aria-label":"Close",title:"Close (Alt+X)",accessKeyChar:"X",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),x.jsx("div",{children:r})]})})});return AT.createPortal(l,DP)},Ge=$.forwardRef(({children:t,className:e="",variant:n="primary",size:r="md",accessKeyChar:i,accessKeyLabel:o,accessKey:l,...c},f)=>{const h=$.useContext(On),p=$.useContext(OT),m=$.useRef(null);$.useImperativeHandle(f,()=>m.current);const v=i||l;Fr(v,()=>{var O;return(O=m.current)==null?void 0:O.click()},{disabled:c.disabled});const _="font-medium rounded-lg transition-all duration-200 relative inline-flex items-center justify-center",E={primary:"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white shadow-md hover:opacity-90 disabled:opacity-50 glow-hover",secondary:"bg-slate-200 text-slate-700 hover:bg-slate-300 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600 disabled:opacity-50",ghost:"bg-transparent text-slate-600 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700 disabled:opacity-50",outline:"bg-transparent border border-slate-300 text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:border-slate-600 dark:hover:bg-slate-700 disabled:opacity-50",destructive:"bg-red-500 text-white hover:bg-red-600 disabled:opacity-50"},S={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-4 py-2",lg:"text-base px-6 py-3",icon:"p-2"},w=(h==null?void 0:h.isAccessKeyMenuVisible)&&v&&!c.disabled&&(p||!(h!=null&&h.isAnyModalOpen));return x.jsxs("button",{ref:m,className:`${_} ${E[n]} ${S[r]} ${e}`,...c,children:[w&&x.jsx(ig,{label:o||v}),t]})});Ge.displayName="Button";const PG=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M2.5 16.5 7 5l4.5 11.5"}),x.jsx("path",{d:"M4 13h6"}),x.jsx("path",{d:"M15 12h6"}),x.jsx("path",{d:"M18 9v6"})]}),RG=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M4.5 16.5 7 9l2.5 7.5"}),x.jsx("path",{d:"M5.5 14h3"}),x.jsx("path",{d:"M15 12h6"})]}),LP=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M3 6h18"}),x.jsx("path",{d:"M3 9h14"}),x.jsx("path",{d:"M3 12h18"}),x.jsx("path",{d:"M3 15h14"}),x.jsx("path",{d:"M3 18h18"})]}),VP=["sm","md","lg","xl"],NG=()=>{const t=$.useContext(On);if(!t)throw new Error("AppContext not found");const{theme:e,toggleTheme:n,selectedLanguage:r,setSelectedLanguage:i,fontSize:o,increaseFontSize:l,decreaseFontSize:c,showKeyboard:f,toggleKeyboard:h,page:p,navigateTo:m,isAccessKeyMenuVisible:v,requestFocusOnCode:_,isSetupModalOpen:E,isAnyModalOpen:S}=t,{user:w,loginWithGoogle:O,loading:I}=Oy(),[N,L]=$.useState(!1),C=$.useRef(null);Fr("L",()=>{var D;return(D=C.current)==null?void 0:D.toggle()},{disabled:E}),Fr("U",()=>m("profile"),{disabled:E||!w});const M=D=>{D(),p==="practice"&&_()},A=({page:D,label:B,icon:V,accessKeyChar:Q,onClick:J,className:H,showLabelAlways:Y})=>x.jsxs(Ge,{onClick:J,variant:p===D?"primary":"ghost",size:"sm",className:`!py-2 !gap-2 ${H||""}`,accessKeyChar:Q,disabled:E,children:[V,x.jsx("span",{className:Y?"inline":"hidden sm:inline",children:B})]}),P=VP.indexOf(o),k=P>0,U=P<VP.length-1;return x.jsxs("header",{className:"glass fixed top-0 left-0 right-0 z-40 border-b border-slate-200/50 dark:border-slate-700/50 transition-all duration-300",children:[x.jsx("div",{className:"container mx-auto px-4",children:x.jsxs("div",{className:"flex items-center justify-between h-16",children:[x.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[x.jsxs("h1",{className:"text-xl font-bold bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 dark:from-indigo-400 dark:via-purple-400 dark:to-pink-400 bg-clip-text text-transparent cursor-pointer",onClick:()=>m("home"),children:[x.jsx("span",{className:"hidden sm:inline",children:"AI Code Typer"}),x.jsx("span",{className:"sm:hidden",children:"AI Code Typer"})]}),x.jsxs("nav",{className:"hidden md:flex items-center gap-1 sm:gap-2",children:[x.jsx(A,{page:"home",label:"Home",icon:x.jsx(jP,{className:"w-5 h-5"}),accessKeyChar:"H",onClick:()=>m("home")}),x.jsx(A,{page:"practice",label:"Practice",icon:x.jsx(LP,{className:"w-5 h-5"}),accessKeyChar:"P",onClick:()=>{t.snippet?m("practice"):t.openSetupModal()}}),x.jsx(A,{page:"dashboard",label:"Dashboard",icon:x.jsx(MP,{className:"w-5 h-5"}),accessKeyChar:"D",onClick:()=>m("dashboard")})]})]}),x.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[x.jsx(Ge,{variant:"ghost",size:"icon",onClick:()=>M(n),"aria-label":"Toggle theme",accessKeyChar:"M",disabled:E,children:e==="light"?x.jsx(AG,{className:"w-6 h-6"}):x.jsx(TG,{className:"w-6 h-6"})}),p==="practice"&&x.jsxs(x.Fragment,{children:[x.jsx(Ge,{variant:"ghost",size:"icon",onClick:()=>M(c),disabled:!k||E,"aria-label":"Decrease font size",accessKeyChar:"-",children:x.jsx(RG,{className:"w-6 h-6"})}),x.jsx(Ge,{variant:"ghost",size:"icon",onClick:()=>M(l),disabled:!U||E,"aria-label":"Increase font size",accessKeyChar:"=",children:x.jsx(PG,{className:"w-6 h-6"})}),x.jsx(Ge,{variant:f?"secondary":"ghost",size:"icon",onClick:()=>M(h),"aria-label":"Toggle keyboard",title:"Toggle keyboard",disabled:E,accessKeyChar:"K",children:x.jsx(OG,{className:"w-6 h-6"})})]}),x.jsxs("div",{className:"relative w-32 sm:w-40",children:[x.jsx(lS,{ref:C,value:r.id,onChange:D=>{const B=vn.find(V=>V.id===D);B&&M(()=>i(B))},disabled:E,options:vn.map(D=>({value:D.id,label:D.name}))}),v&&!S&&x.jsx(ig,{label:"L"})]}),I?x.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-200 dark:bg-slate-700 animate-pulse border-2 border-slate-100 dark:border-slate-800"}):w?x.jsxs("button",{onClick:()=>m("profile"),className:"relative group outline-none","aria-label":"User Profile",children:[x.jsx("img",{src:w.photoURL||`https://ui-avatars.com/api/?name=${w.displayName}`,alt:"Profile",className:`w-8 h-8 rounded-full border-2 border-slate-200 dark:border-slate-700 transition-transform group-hover:scale-105 ${p==="profile"?"ring-2 ring-primary-500 ring-offset-2 dark:ring-offset-slate-900":""}`}),v&&!S&&x.jsx(ig,{label:"U"})]}):x.jsx(Ge,{variant:"primary",size:"sm",onClick:O,className:"hidden sm:flex",children:"Sign In"}),!I&&!w&&x.jsx(Ge,{variant:"ghost",size:"icon",onClick:O,className:"sm:hidden text-primary-600 dark:text-primary-400",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-6 h-6",children:[x.jsx("path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}),x.jsx("polyline",{points:"10 17 15 12 10 7"}),x.jsx("line",{x1:"15",x2:"3",y1:"12",y2:"12"})]})})]})]})}),N&&x.jsx("div",{className:"md:hidden border-t border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 absolute w-full left-0 shadow-lg z-50",children:x.jsxs("div",{className:"flex flex-col p-4 space-y-2",children:[x.jsx(A,{page:"home",label:"Home",icon:x.jsx(jP,{className:"w-5 h-5"}),accessKeyChar:"H",onClick:()=>{m("home"),L(!1)},className:"w-full justify-start",showLabelAlways:!0}),x.jsx(A,{page:"practice",label:"Practice",icon:x.jsx(LP,{className:"w-5 h-5"}),accessKeyChar:"P",onClick:()=>{t.snippet?m("practice"):t.openSetupModal(),L(!1)},className:"w-full justify-start",showLabelAlways:!0}),x.jsx(A,{page:"dashboard",label:"Dashboard",icon:x.jsx(MP,{className:"w-5 h-5"}),accessKeyChar:"D",onClick:()=>{m("dashboard"),L(!1)},className:"w-full justify-start",showLabelAlways:!0})]})})]})},Ab=({title:t,description:e,icon:n})=>x.jsxs(mr,{className:"p-6 text-center hover:scale-105 transition-transform duration-300",children:[x.jsx("div",{className:"text-5xl mb-4",children:n}),x.jsx("h3",{className:"text-xl font-semibold mb-2 bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 dark:from-indigo-400 dark:via-purple-400 dark:to-pink-400 bg-clip-text text-transparent",children:t}),x.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:e})]}),kG=({onStartPractice:t})=>{const e=$.useContext(On);if(!e)throw new Error("AppContext not found");const{startCustomSession:n,fetchNewSnippet:r,isSetupModalOpen:i,openSetupModal:o,closeSetupModal:l}=e;return $.useEffect(()=>{const c=f=>{i||f.target.closest("input, textarea, select, button")||(f.key==="Enter"||f.key===" "||f.key==="Enter"&&f.ctrlKey)&&(f.preventDefault(),o())};return window.addEventListener("keydown",c),()=>{window.removeEventListener("keydown",c)}},[i,o]),x.jsx(x.Fragment,{children:x.jsxs("div",{className:"h-full overflow-y-auto custom-scrollbar",children:[x.jsxs("div",{className:"relative min-h-[70vh] flex items-center justify-center px-4 py-12",children:[x.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-gradient-to-r from-indigo-400 to-purple-400 rounded-full blur-3xl opacity-20 animate-pulse"}),x.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full blur-3xl opacity-20 animate-pulse",style:{animationDelay:"1s"}}),x.jsxs("div",{className:"relative z-10 text-center max-w-5xl mx-auto",children:[x.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full glass mb-8 animate-fade-in-up",children:[x.jsx("span",{className:"text-2xl",children:""}),x.jsx("span",{className:"text-sm font-medium bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 dark:from-indigo-400 dark:via-purple-400 dark:to-pink-400 bg-clip-text text-transparent",children:"AI-Powered Typing Practice"})]}),x.jsxs("h1",{className:"text-5xl sm:text-6xl md:text-7xl lg:text-8xl font-extrabold tracking-tight mb-6 leading-tight",children:[x.jsx("span",{className:"text-slate-900 dark:text-white",children:"Sharpen Your"}),x.jsx("br",{}),x.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 animate-fade-in-up",children:"Coding Speed"})]}),x.jsx("p",{className:"max-w-2xl mx-auto text-lg md:text-xl text-slate-600 dark:text-slate-300 mb-10 animate-fade-in-up",style:{animationDelay:"0.2s"},children:"Practice typing real code snippets generated by AI. Boost your accuracy, increase your WPM, and master your favorite programming language's syntax."}),x.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:"0.3s"},children:x.jsxs(Ge,{size:"lg",onClick:o,className:"text-lg px-8 py-4 group",children:["Start Practicing Now",x.jsx("svg",{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})}),x.jsx("div",{className:"mt-16 flex items-center justify-center gap-8 md:gap-16 animate-fade-in",style:{animationDelay:"0.5s"},children:[{value:"10+",label:"Languages"},{value:"AI",label:"Generated"},{value:"",label:"Practice"}].map((c,f)=>x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 dark:from-indigo-400 dark:via-purple-400 dark:to-pink-400 bg-clip-text text-transparent",children:c.value}),x.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:c.label})]},f))})]})]}),x.jsx("div",{className:"max-w-6xl mx-auto px-4 py-20",children:x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[x.jsx(Ab,{title:"AI-Powered Snippets",description:"Endless, unique practice sessions with code generated by Google's Gemini.",icon:""}),x.jsx(Ab,{title:"Real-time Feedback",description:"Instantly track your Words Per Minute (WPM) and typing accuracy as you go.",icon:""}),x.jsx(Ab,{title:"Syntax Focused",description:"Get comfortable with language-specific syntax, not just random words.",icon:""})]})})]})})};var Wu=(t=>(t[t.Idle=0]="Idle",t[t.Correct=1]="Correct",t[t.Incorrect=2]="Incorrect",t[t.Warning=3]="Warning",t))(Wu||{});const MG=(t,e,n={})=>{const{onPause:r,onResume:i}=n,[o,l]=$.useState(null),[c,f]=$.useState(Array(t.length).fill(0)),[h,p]=$.useState(""),[m,v]=$.useState(0),[_,E]=$.useState(100),[S,w]=$.useState(0),[O,I]=$.useState(0),[N,L]=$.useState(0),C=$.useRef(0),[M,A]=$.useState(!1),[P,k]=$.useState(!1),[U,D]=$.useState(!1),B=$.useRef({isPaused:!1,isFinished:!1,startTime:null,isTypingStarted:!1});$.useEffect(()=>{B.current={...B.current,isPaused:U,isFinished:M,startTime:o}}),$.useEffect(()=>{C.current=N},[N]);const V=$.useRef(null),Q=$.useRef(null),J=h.length,H=$.useRef(null),Y=$.useRef(0),ee=$.useRef(null),ce=$.useRef({}),_e=$.useRef({}),F=$.useCallback(()=>{V.current&&(clearTimeout(V.current),V.current=null)},[]),W=$.useCallback(()=>{H.current&&(clearInterval(H.current),H.current=null)},[]),se=$.useCallback(()=>{const{isPaused:ne,isFinished:Ke,startTime:we}=B.current;ne||Ke||!we||(F(),W(),ee.current&&(Y.current+=Date.now()-ee.current),D(!0),r&&r())},[r,F,W]),me=$.useCallback(()=>{F(),B.current.isFinished||(V.current=window.setTimeout(se,5e3))},[F,se]),ve=$.useCallback(()=>{W(),ee.current=Date.now(),H.current=window.setInterval(()=>{if(ee.current){const ne=Date.now()-ee.current;I((Y.current+ne)/1e3)}},100)},[W]),xe=$.useCallback(()=>{const{isPaused:ne,isFinished:Ke}=B.current;!ne||Ke||(D(!1),ve(),me(),i&&i())},[i,me,ve]),Ie=$.useCallback(()=>{W(),l(null),f(Array(t.length).fill(0)),p(""),v(0),E(100),w(0),I(0),L(0),C.current=0,A(!1),k(!1),D(!1),Y.current=0,ee.current=null,B.current.isTypingStarted=!1,ce.current={},_e.current={};const ne={};for(const Ke of t)ne[Ke]=(ne[Ke]||0)+1;_e.current=ne,Q.current&&clearTimeout(Q.current),F()},[t,F,W]);$.useEffect(()=>{Ie()},[Ie]);const De=$.useCallback(ne=>{const Ke=ne.length===1,we=["Tab","Control","Shift","Enter","Backspace"].includes(ne);if(!(B.current.isFinished||t.length===0)&&!(!Ke&&!we))if(B.current.isPaused?xe():B.current.isTypingStarted&&me(),B.current.isTypingStarted||(l(Date.now()),ve(),me(),B.current.isTypingStarted=!0),Q.current&&clearTimeout(Q.current),k(!1),ne==="Backspace")L(0),C.current=0,J>0&&(c[J-1]===2&&w(Ee=>Math.max(0,Ee-1)),p(Ee=>Ee.slice(0,-1)),f(Ee=>{const Ve=[...Ee];return Ve[J-1]=0,Ve}));else{const Ee=ne==="Enter"?`
`:ne==="Tab"?"	":Ke?ne:null;if(Ee!==null&&J<t.length){const Ve=t[J],Ye=Ee===Ve;if(Ye)L(0),C.current=0;else{ce.current[Ve]=(ce.current[Ve]||0)+1,w(_t=>_t+1);const ft=C.current+1;if(L(ft),C.current=ft,e>0&&ft>=e){k(!0),Q.current=window.setTimeout(()=>k(!1),200),f(_t=>{const Mt=[..._t];return Mt[J]=2,Mt});return}}if(p(ft=>ft+Ee),f(ft=>{const He=[...ft];return Ye?He[J]=1:He[J]=2,He}),J+1===t.length){F(),W();const He=(Y.current+(ee.current?Date.now()-ee.current:0))/1e3;I(He);const ze=He/60,_t=t.length/5,Mt=ze>0?Math.round(_t/ze):0;v(Mt),w(cn=>{const Ae=cn+(Ye?0:1),bt=Math.max(0,(t.length-Ae)/t.length*100);return E(parseFloat(bt.toFixed(2))),cn}),A(!0)}}else if(Ee!==null&&J===t.length){const Ve=C.current+1;L(Ve),C.current=Ve,w(Ye=>Ye+1),k(!0),Q.current=window.setTimeout(()=>k(!1),200)}}},[J,t,S,e,xe,F,me,ve,W]);$.useEffect(()=>{if(o&&!M){const ne=Y.current+(ee.current&&!U?Date.now()-ee.current:0),Ke=ne/6e4,we=ne/1e3,Ee=h.length/5;Ke>0&&(h.length>1||we>1)?v(Math.round(Ee/Ke)):v(0);const Ve=h.length;if(Ve>0){const Ye=h.split("").filter((ft,He)=>ft===t[He]).length;E(parseFloat((Ye/Ve*100).toFixed(2)))}else E(100)}else o||(v(0),E(100))},[h,o,M,U,t]),$.useEffect(()=>W,[W]);const ye=$.useCallback(()=>{const ne=Y.current+(ee.current&&!B.current.isPaused?Date.now()-ee.current:0);return{startTime:B.current.startTime,charStates:c,typedText:h,errors:S,consecutiveErrors:N,isFinished:M,accumulatedDuration:ne,errorMap:ce.current,attemptMap:_e.current,isTypingStarted:B.current.isTypingStarted}},[c,h,S,N,M]),Re=$.useCallback(ne=>{W(),l(ne.startTime),f(ne.charStates),p(ne.typedText),w(ne.errors),L(ne.consecutiveErrors),C.current=ne.consecutiveErrors,A(ne.isFinished),Y.current=ne.accumulatedDuration,ee.current=null,ce.current=ne.errorMap,_e.current=ne.attemptMap,B.current.isTypingStarted=ne.isTypingStarted,B.current.startTime=ne.startTime,I(ne.accumulatedDuration/1e3),D(!0)},[W]),$e=$.useCallback(()=>{B.current.isPaused?xe():se()},[se,xe]);return{charStates:c,typedText:h,wpm:m,accuracy:_,errors:S,consecutiveErrors:N,duration:O,isFinished:M,currentIndex:J,isError:P,isPaused:U,handleKeyDown:De,pauseGame:se,resumeGame:xe,togglePause:$e,reset:Ie,clearAutoPauseTimer:F,resetIdleTimer:me,errorMap:ce.current,attemptMap:_e.current,getSavableState:ye,restoreState:Re}},jG=({code:t,charStates:e,currentIndex:n,languageAlias:r,isError:i,cursorRef:o})=>{const[l,c]=$.useState([{chars:[],lineNumber:1}]),f=$.useContext(On);if(!f)throw new Error("AppContext not found");const{fontSize:h}=f,p=e!==void 0&&n!==void 0,m={sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"}[h];$.useEffect(()=>{const _=[];if(t&&r&&typeof Prism<"u"&&Prism.languages[r])try{const S=Prism.tokenize(t,Prism.languages[r]);let w=0;const O=I=>{for(const N of I)if(typeof N=="string")for(const L of N)_.push({char:L,classNames:["token","plain"],originalIndex:w++});else{const L=["token",N.type];if(N.alias){const C=Array.isArray(N.alias)?N.alias:[N.alias];L.push(...C)}if(typeof N.content=="string")for(const C of N.content)_.push({char:C,classNames:L,originalIndex:w++});else Array.isArray(N.content)&&O(N.content)}};if(O(S),_.map(I=>I.char).join("")!==t)throw new Error("Tokenization resulted in content mismatch.")}catch(S){console.error("Prism tokenization failed, falling back to plain text.",S),_.length=0,_.push(...t.split("").map((w,O)=>({char:w,classNames:[],originalIndex:O})))}else _.push(...t.split("").map((S,w)=>({char:S,classNames:[],originalIndex:w})));const E=[];if(t){let S=[],w=1;for(const O of _)S.push(O),O.char===`
`&&(E.push({chars:S,lineNumber:w++}),S=[]);S.length>0&&E.push({chars:S,lineNumber:w}),E.length===0&&E.push({chars:[],lineNumber:1})}else E.push({chars:[],lineNumber:1});c(E)},[t,r]);const v=_=>{const E=_.originalIndex,S=p&&E===n;let w,O=Wu.Idle;if(p)if(E<n)switch(O=e[E],O){case Wu.Correct:w="text-primary-500 dark:text-primary-400";break;case Wu.Incorrect:w="text-red-500 bg-red-500/20 rounded-sm";break;case Wu.Warning:w="text-yellow-600 dark:text-yellow-400 bg-yellow-500/20 rounded-sm";break;default:w="text-gray-400";break}else w="text-gray-600 dark:text-gray-400";else w=_.classNames.join(" ");p&&E>n&&(w="text-gray-600 dark:text-gray-400");const I=_.char===`
`,N=p&&E<n&&O===Wu.Incorrect||p&&S&&i;return x.jsxs("span",{ref:S?o:void 0,className:"relative inline-block",children:[p&&S&&!i&&x.jsx("span",{className:"absolute top-0 left-0 w-0.5 h-full bg-primary-400 animate-blink rounded-full"}),x.jsx("span",{className:`${w} ${p&&S&&i?"bg-red-500/20 rounded-sm":""}`,children:I?N?x.jsx("span",{className:"text-red-500 bg-red-500/20 px-1 select-none",children:""}):"":_.char})]},E)};return x.jsx("div",{className:`font-mono leading-relaxed tracking-wide ${m} [tab-size:4] typography-boost`,children:l.map(({chars:_,lineNumber:E},S)=>{const w=_.length===1&&_[0].char===`
`,I=S===l.length-1&&p&&n===t.length&&t.length>0;return x.jsxs("div",{className:"flex",children:[x.jsx("div",{className:"text-right pr-4 text-gray-500 dark:text-gray-400 select-none flex-shrink-0 w-10 sm:w-12","aria-hidden":"true",children:E}),x.jsxs("div",{className:"flex-1 min-w-0 whitespace-pre-wrap break-all",children:[_.map(v),w&&x.jsx("span",{className:"opacity-0 select-none",children:""}),I&&x.jsxs("span",{ref:o,className:"relative inline-block w-0",children:["",i?x.jsx("span",{className:"absolute top-0 left-0 w-2 h-full bg-red-500/50 animate-pulse rounded-sm"}):x.jsx("span",{className:"absolute top-0 left-0 w-0.5 h-full bg-primary-400 animate-blink rounded-full"})]})]})]},S)})})},ic=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),x.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),x.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),ag=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M23 4v6h-6"}),x.jsx("path",{d:"M1 20v-6h6"}),x.jsx("path",{d:"M3.5 9a9 9 0 0 1 14.8-2.6L23 10"}),x.jsx("path",{d:"M21.5 15a9 9 0 0 1-14.8 2.6L1 14"})]}),DG=()=>{const t=$.useContext(On);if(!t)throw new Error("AppContext not found");const{fontSize:e}=t,n={sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"}[e],r=[{width:"75%"},{width:"90%"},{width:"80%"},{width:"60%"},{width:"95%"},{width:"70%"},{width:"85%"},{width:"50%"}];return x.jsx("div",{className:`animate-pulse font-mono leading-relaxed tracking-wide ${n} typography-boost`,children:r.map((i,o)=>x.jsxs("div",{className:"flex mb-1 h-5 sm:h-6",children:[x.jsx("div",{className:"text-right pr-4 text-transparent bg-slate-300 dark:bg-slate-700 rounded-md select-none flex-shrink-0 w-10 sm:w-12","aria-hidden":"true",children:o+1}),x.jsx("div",{className:"flex-1 min-w-0 flex items-center",children:x.jsx("div",{className:"h-full bg-slate-300 dark:bg-slate-700 rounded-md",style:{width:i.width}})})]},o))})},uS=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("rect",{x:"6",y:"4",width:"4",height:"16"}),x.jsx("rect",{x:"14",y:"4",width:"4",height:"16"})]}),LG=G.forwardRef(({value:t,onValueChange:e,snippet:n,languageAlias:r,charStates:i,currentIndex:o,isError:l,isLoading:c,error:f,isPaused:h,disabled:p=!1,onRetry:m,className:v=""},_)=>{const E=$.useRef(null),S=$.useRef(null),w=$.useRef(null),O=$.useRef(null);$.useContext(On);const[I,N]=$.useState(()=>typeof window<"u"&&window.visualViewport?window.visualViewport.height:typeof window<"u"?window.innerHeight:600);$.useEffect(()=>{const M=()=>{window.visualViewport&&N(window.visualViewport.height)};return window.visualViewport&&(window.visualViewport.addEventListener("resize",M),window.visualViewport.addEventListener("scroll",M)),()=>{window.visualViewport&&(window.visualViewport.removeEventListener("resize",M),window.visualViewport.removeEventListener("scroll",M))}},[]),G.useImperativeHandle(_,()=>({focus:()=>{var M;(M=E.current)==null||M.focus()}})),$.useEffect(()=>{var M;!c&&!f&&!h&&!p&&((M=E.current)==null||M.focus())},[c,f,h,p]);const L=()=>{var M;p||(M=E.current)==null||M.focus()},C=M=>{e(M.target.value)};return $.useEffect(()=>{const M=w.current;M&&!h&&M.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},[o,h]),x.jsxs("div",{ref:S,className:`relative flex-grow min-h-0 w-full flex flex-col ${l?"animate-shake":""} ${v}`,onClick:L,style:{maxHeight:`${I}px`,transition:"max-height 0.3s ease-out"},children:[x.jsx("textarea",{ref:E,className:"absolute opacity-0 w-px h-px p-0 m-0 border-0 -z-10",value:t,onChange:C,disabled:p,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",tabIndex:0}),h&&x.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center rounded-lg z-20 pointer-events-none animate-fade-in-up",children:x.jsxs("div",{className:"bg-white/90 dark:bg-slate-800/90 p-6 rounded-xl shadow-2xl border border-slate-200 dark:border-slate-700 backdrop-blur-sm",children:[x.jsxs("div",{className:"flex items-center gap-3 text-2xl font-bold text-slate-800 dark:text-slate-100 mb-2",children:[x.jsx(uS,{className:"w-8 h-8 text-primary-500"}),x.jsx("span",{children:"Paused"})]}),x.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-center",children:"Press any key to resume"})]})}),x.jsx(mr,{className:"h-full overflow-hidden flex flex-col relative w-full group",children:x.jsx("div",{className:"flex-grow overflow-y-auto custom-scrollbar relative",ref:O,children:x.jsx("div",{className:"p-4 md:p-6 min-h-full font-mono leading-relaxed",children:c?x.jsx(DG,{}):f?x.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-red-500 p-8 text-center animate-fade-in",children:[x.jsx(ic,{className:"w-12 h-12 mb-4 opacity-80"}),x.jsx("p",{className:"text-lg font-medium mb-4",children:f}),x.jsxs(Ge,{onClick:m,variant:"primary",children:[x.jsx(ag,{className:"w-4 h-4 mr-2"})," Try Again"]})]}):x.jsx(jG,{code:n,languageAlias:r,charStates:i,currentIndex:o,isError:l,cursorRef:w})})})})]})}),O6=G.memo(LG);O6.displayName="CodeEditor";const gr=({label:t,value:e})=>x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:t}),x.jsx("span",{className:"text-3xl font-bold text-primary-600 dark:text-primary-400",children:e})]}),VG=t=>{if(isNaN(t)||t<0)return"0:00";const e=Math.floor(t/60),n=Math.floor(t%60);return`${e}:${n.toString().padStart(2,"0")}`},$G=({wpm:t,accuracy:e,errors:n,progress:r,timer:i,duration:o})=>{const l=i!==void 0?i:o||0;return x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-x-8 gap-y-2 md:gap-8 min-w-[200px]",children:[x.jsx(gr,{label:"WPM",value:t}),x.jsx(gr,{label:"Accuracy",value:`${e}%`}),x.jsx(gr,{label:"Errors",value:n}),x.jsx(gr,{label:"Time",value:VG(l)})]})},UG=[["`","1","2","3","4","5","6","7","8","9","0","-","=","Backspace"],["Tab","q","w","e","r","t","y","u","i","o","p","[","]","\\"],["CapsLock","a","s","d","f","g","h","j","k","l",";","'","Enter"],["Shift","z","x","c","v","b","n","m",",",".","/","Shift"],[" "]],BG=[["~","!","@","#","$","%","^","&","*","(",")","_","+","Backspace"],["Tab","Q","W","E","R","T","Y","U","I","O","P","{","}","|"],["CapsLock","A","S","D","F","G","H","J","K","L",":",'"',"Enter"],["Shift","Z","X","C","V","B","N","M","<",">","?","Shift"],[" "]],qG=new Set(["`","1","2","3","4","5","q","w","e","r","t","a","s","d","f","g","z","x","c","v","b"]),zG=new Set(["6","7","8","9","0","-","=","y","u","i","o","p","[","]","\\","h","j","k","l",";","'","n","m",",",".","/"]),$P={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=","{":"[","}":"]","|":"\\",":":";",'"':"'","<":",",">":".","?":"/"},UP={Backspace:"flex-grow-[2]",Tab:"flex-grow-[1.5]","\\":"flex-grow-[1.5]","|":"flex-grow-[1.5]",CapsLock:"flex-grow-[1.8]",Enter:"flex-grow-[2.2]",Shift:"flex-grow-[2.5]"," ":"flex-grow-[8]"},FG={"`":"left-pinky","~":"left-pinky",1:"left-pinky","!":"left-pinky",Tab:"left-pinky",q:"left-pinky",Q:"left-pinky",CapsLock:"left-pinky",a:"left-pinky",A:"left-pinky",Shift_left:"left-pinky",z:"left-pinky",Z:"left-pinky",2:"left-ring","@":"left-ring",w:"left-ring",W:"left-ring",s:"left-ring",S:"left-ring",x:"left-ring",X:"left-ring",3:"left-middle","#":"left-middle",e:"left-middle",E:"left-middle",d:"left-middle",D:"left-middle",c:"left-middle",C:"left-middle",4:"left-index",$:"left-index",r:"left-index",R:"left-index",f:"left-index",F:"left-index",v:"left-index",V:"left-index",5:"left-index","%":"left-index",t:"left-index",T:"left-index",g:"left-index",G:"left-index",b:"left-index",B:"left-index",6:"right-index","^":"right-index",y:"right-index",Y:"right-index",h:"right-index",H:"right-index",n:"right-index",N:"right-index",7:"right-index","&":"right-index",u:"right-index",U:"right-index",j:"right-index",J:"right-index",m:"right-index",M:"right-index",8:"right-middle","*":"right-middle",i:"right-middle",I:"right-middle",k:"right-middle",K:"right-middle",",":"right-middle","<":"right-middle",9:"right-ring","(":"right-ring",o:"right-ring",O:"right-ring",l:"right-ring",L:"right-ring",".":"right-ring",">":"right-ring",0:"right-pinky",")":"right-pinky","-":"right-pinky",_:"right-pinky","=":"right-pinky","+":"right-pinky",Backspace:"right-pinky",p:"right-pinky",P:"right-pinky","[":"right-pinky","{":"right-pinky","]":"right-pinky","}":"right-pinky","\\":"right-pinky","|":"right-pinky",Enter:"right-pinky",";":"right-pinky",":":"right-pinky","'":"right-pinky",'"':"right-pinky",Shift_right:"right-pinky","/":"right-pinky","?":"right-pinky"," ":"thumb"},Ob={"left-pinky":"bg-blue-500 text-white","left-ring":"bg-green-500 text-white","left-middle":"bg-yellow-500 text-black","left-index":"bg-red-500 text-white",thumb:"bg-purple-500 text-white","right-index":"bg-red-500 text-white","right-middle":"bg-yellow-500 text-black","right-ring":"bg-green-500 text-white","right-pinky":"bg-blue-500 text-white",special:"bg-slate-300 dark:bg-slate-600"},HG=({nextKey:t,activeKey:e,isShiftActive:n,showHandGuide:r})=>{const i=$.useContext(On),o=r??(i==null?void 0:i.showHandGuide)??!0,l=e??t,c=n??(/[A-Z!@#$%^&*()_+{}|:"<>?~]/.test(l)||Object.keys($P).includes(l)),f=c?BG:UG;let h=l;l===" "&&(h=" "),l===`
`&&(h="Enter"),l==="	"&&(h="Tab");let p="none";if(c){const v=$P[l]||l.toLowerCase();qG.has(v)?p="right":zG.has(v)&&(p="left")}const m=v=>{const _=FG[v];return _?Ob[_]:Ob.special};return x.jsx("div",{className:"w-full max-w-4xl mx-auto p-1 sm:p-2 bg-slate-200 dark:bg-slate-800 rounded-lg shadow-lg",children:x.jsx("div",{className:"flex flex-col gap-1",children:f.map((v,_)=>x.jsx("div",{className:"flex gap-1 w-full justify-center",children:v.map((E,S)=>{let w=h===E,O=E;if(E==="Shift"){const C=S===0;O=C?"Shift_left":"Shift_right",c&&(C&&p==="left"&&(w=!0),!C&&p==="right"&&(w=!0))}const I=E===" ",N=o?m(O):"bg-slate-50 dark:bg-slate-700 text-slate-800 dark:text-slate-200 shadow-sm",L="bg-[#3A3A3A] text-white dark:bg-[#E5E5E5] dark:text-black shadow-lg scale-105 ring-2 ring-primary-300 dark:ring-primary-700 z-10";return I?x.jsx("div",{className:`h-8 sm:h-10 md:h-12 rounded-md transition-all duration-100 flex-shrink-0 ${UP[E]} ${w?L+" animate-pulse":o?Ob.thumb:N}`},`${_}-${S}`):x.jsx("div",{className:`
                                        h-8 sm:h-10 md:h-12 flex-1 flex items-center justify-center 
                                        rounded-md font-sans text-sm sm:text-base font-medium
                                        transition-all duration-100 select-none flex-shrink-0
                                        ${UP[E]||"min-w-[1.5rem] sm:min-w-[2rem] md:min-w-[2.5rem]"}
                                        ${w?L:N}
                                    `,children:E},`${_}-${S}`)})},_))})})},GG=t=>{if(isNaN(t)||t<0)return"0:00";const e=Math.floor(t/60),n=Math.floor(t%60);return`${e}:${n.toString().padStart(2,"0")}`},KG=({isOpen:t,onClose:e,onPracticeSame:n,onNewSnippet:r,onViewProgress:i,isCustomSession:o,lastPracticeAction:l,stats:c,title:f,isEarlyExit:h=!1,isMultiFileSession:p=!1,onNextSnippet:m,hasNextSnippet:v=!1,sessionErrorMap:_={},sessionAttemptMap:E={},saveStatus:S})=>{const[w,O]=$.useState(0),I=$.useRef([]),N=$.useMemo(()=>{const L={label:"New Snippet",action:r},C={label:"Practice Same Code",action:n},M={label:"View Your Progress",action:i},A={label:"Next Snippet",action:m},P={label:"Resume",action:e};let k=[];return v&&m&&k.push(A),h?k.push(P,L,C,M):(l==="practice_same"&&!p?k.push(C,L):k.push(L,C),k.push(M)),k},[h,p,l,r,n,i,m,v,e]);return $.useEffect(()=>{I.current=I.current.slice(0,N.length)},[N]),$.useEffect(()=>{t&&(O(0),setTimeout(()=>{var C;(C=I.current[0])==null||C.focus()},100))},[t]),$.useEffect(()=>{const L=C=>{var M,A;if(t&&C.key!=="Tab")if(C.key==="ArrowDown"||C.key==="ArrowUp"){C.preventDefault();const P=C.key==="ArrowDown"?1:-1,k=(w+P+N.length)%N.length;O(k),(M=I.current[k])==null||M.focus()}else C.key==="Enter"&&(C.preventDefault(),(A=I.current[w])==null||A.click())};return window.addEventListener("keydown",L),()=>{window.removeEventListener("keydown",L)}},[t,N,w]),x.jsx(Fl,{isOpen:t,onClose:e,title:f,children:x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[x.jsx(gr,{label:"WPM",value:c.wpm}),x.jsx(gr,{label:"Accuracy",value:`${c.accuracy}%`}),x.jsx(gr,{label:"Errors",value:c.errors}),x.jsx(gr,{label:"Duration",value:GG(c.duration)})]}),(h||S&&!S.saved)&&x.jsx("div",{className:`text-center py-2 px-4 rounded-md ${S!=null&&S.saved?"bg-green-50 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-amber-50 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400"}`,children:x.jsx("p",{className:"font-medium",children:S!=null&&S.saved?"Progress Saved":(S==null?void 0:S.reason)||"Session Ended Early (Not Saved)"})}),x.jsx("div",{className:"flex flex-col gap-3",children:N.map((L,C)=>x.jsx(Ge,{ref:M=>{I.current[C]=M},size:"lg",className:"w-full",onClick:L.action,variant:C===w?"primary":"secondary",onMouseEnter:()=>O(C),onFocus:()=>O(C),children:L.label},L.label))})]})})},WG=t=>{switch(t){case" ":return"Space ()";case`
`:return"Enter ()";case"	":return"Tab ()";default:return t}},YG=({char:t,beforeRate:e,afterRate:n})=>{const r=WG(t);let i="text-slate-500 dark:text-slate-400";return n<e&&(i="text-green-500 font-bold"),n>e&&(i="text-red-500 font-bold"),x.jsxs("div",{className:"grid grid-cols-3 items-center text-center text-sm p-2 rounded-md bg-slate-100 dark:bg-slate-700/50",children:[x.jsx("span",{className:"font-mono font-semibold bg-slate-200 dark:bg-slate-600 px-2 py-1 rounded-md justify-self-center",children:r}),x.jsxs("span",{children:[e.toFixed(1),"%"]}),x.jsxs("span",{className:i,children:[n.toFixed(1),"%"]})]})},XG=({isOpen:t,onClose:e,onPracticeAgain:n,onReturnToDashboard:r,stats:i,sessionErrorMap:o={},sessionAttemptMap:l={}})=>{const c=$.useContext(On);if(!c)throw new Error("AppContext not found");const{keyErrorStats:f,keyAttemptStats:h,currentTargetedKeys:p}=c,m=$.useMemo(()=>{if(!t)return{results:[],verdict:""};try{let w=0;const O=p.map(N=>{const L=(o==null?void 0:o[N])||0,C=(l==null?void 0:l[N])||0,M=(f==null?void 0:f[N])||0,A=((h==null?void 0:h[N])||0)<M?M:(h==null?void 0:h[N])||0,P=M-L,k=A-C,U=k>0?P/k*100:0,D=C>0?L/C*100:0;return D<U&&w++,{key:N,beforeRate:U,afterRate:D}});let I=`You focused on ${p.length} keys. Keep practicing!`;return w===p.length&&p.length>0?I="Amazing focus! You reduced your error rate on all target keys.":w>p.length/2&&(I=`You successfully reduced your error rate on ${w} out of ${p.length} keys. Great work!`),{results:O,verdict:I}}catch(w){return console.error("Error calculating targeted results:",w),{results:[],verdict:"Could not calculate statistics."}}},[t,p,f,h,o,l]),[v,_]=G.useState(0),E=G.useRef([]),S=$.useMemo(()=>[{label:"Practice Again (Same Keys)",action:n,variant:"primary"},{label:"Return to Dashboard",action:r,variant:"secondary"}],[n,r]);return $.useEffect(()=>{E.current=E.current.slice(0,S.length)},[S]),$.useEffect(()=>{t&&(_(0),setTimeout(()=>{var w;(w=E.current[0])==null||w.focus()},100))},[t]),$.useEffect(()=>{const w=O=>{var I,N;if(t&&O.key!=="Tab")if(O.key==="ArrowDown"||O.key==="ArrowUp"){O.preventDefault();const L=O.key==="ArrowDown"?1:-1,C=(v+L+S.length)%S.length;_(C),(I=E.current[C])==null||I.focus()}else O.key==="Enter"&&(O.preventDefault(),(N=E.current[v])==null||N.click())};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[t,S,v]),x.jsx(Fl,{isOpen:t,onClose:e,title:"Targeted Practice Results",children:x.jsxs("div",{className:"space-y-6",children:[x.jsx("p",{className:"text-center text-sm text-slate-600 dark:text-slate-300",children:"Here's how your performance on the targeted keys changed from your historical average to this session."}),x.jsxs(mr,{className:"p-4 bg-slate-50 dark:bg-slate-900/50",children:[x.jsxs("div",{className:"grid grid-cols-3 items-center text-center font-semibold text-xs text-slate-500 dark:text-slate-400 mb-2 mr-2",children:[x.jsx("span",{children:"Key"}),x.jsx("span",{children:"Before"}),x.jsx("span",{children:"After"})]}),x.jsx("div",{className:"space-y-1 max-h-[300px] overflow-y-auto custom-scrollbar pr-1",children:m.results.map(w=>x.jsx(YG,{char:w.key,...w},w.key))})]}),x.jsx("p",{className:"text-center text-sm font-semibold text-slate-700 dark:text-slate-200",children:m.verdict}),x.jsx("div",{className:"flex flex-col gap-3 pt-2",children:S.map((w,O)=>x.jsx(Ge,{ref:I=>{E.current[O]=I},size:"lg",className:"w-full",onClick:w.action,variant:O===v?"primary":"secondary",onMouseEnter:()=>_(O),onFocus:()=>_(O),children:w.label},O))})]})})},QG=({isOpen:t,onRestart:e})=>{const n=$.useRef(null);return $.useEffect(()=>{if(t){const r=setTimeout(()=>{var i;(i=n.current)==null||i.focus()},100);return()=>clearTimeout(r)}},[t]),t?x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/80 backdrop-blur-sm animate-fade-in",onClick:r=>r.stopPropagation(),children:x.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl p-8 max-w-md w-full text-center border border-slate-200 dark:border-slate-700 transform scale-100 animate-fade-in-up",children:[x.jsx("div",{className:"flex justify-center mb-6",children:x.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center",children:x.jsx(ic,{className:"w-8 h-8 text-red-500 dark:text-red-400"})})}),x.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2",children:"Whoa, slow down!"}),x.jsxs("p",{className:"text-slate-600 dark:text-slate-400 mb-8 leading-relaxed",children:["We detected a lot of errors in a row.",x.jsx("br",{}),"Please focus on your ",x.jsx("strong",{children:"accuracy"})," and try again."]}),x.jsx("div",{className:"flex justify-center",children:x.jsxs(Ge,{ref:n,onClick:e,onKeyDown:r=>{r.key==="Enter"&&(r.stopPropagation(),r.preventDefault(),e())},variant:"primary",size:"lg",className:"w-full sm:w-auto min-w-[160px]",children:[x.jsx(ag,{className:"w-5 h-5 mr-2"}),"Restart Snippet"]})})]})}):null},JG=({isOpen:t,onClose:e,items:n,title:r="Actions"})=>{if(!t)return null;const i=document.getElementById("modal-root");return i?IG.createPortal(x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 animate-fade-in",onClick:e}),x.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 animate-slide-up",children:x.jsxs("div",{className:"glass-card rounded-t-2xl mx-2 mb-2 overflow-hidden",children:[x.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-slate-200/50 dark:border-slate-700/50",children:[x.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-200",children:r}),x.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-slate-200/50 dark:hover:bg-slate-700/50 transition-colors",children:x.jsx("svg",{className:"w-5 h-5 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),x.jsx("div",{className:"p-2 max-h-[60vh] overflow-y-auto custom-scrollbar",children:n.map((o,l)=>x.jsxs("button",{onClick:()=>{o.onClick(),e()},disabled:o.disabled,className:`
                                    w-full flex items-center gap-3 px-4 py-3 rounded-xl
                                    text-left transition-all duration-150
                                    ${o.disabled?"opacity-50 cursor-not-allowed":"hover:bg-primary-50 dark:hover:bg-primary-900/30 active:scale-[0.98]"}
                                `,children:[x.jsx("span",{className:"flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-lg bg-primary-100 dark:bg-primary-900/50 text-primary-600 dark:text-primary-400",children:o.icon}),x.jsx("span",{className:"flex-1 font-medium text-slate-700 dark:text-slate-300",children:o.label}),o.shortcut&&x.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded",children:o.shortcut})]},l))})]})})]}),i):null},BP=t=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:x.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})}),qP=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"}),x.jsx("path",{d:"m5 2 4 4"})]}),cS=t=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:x.jsx("polyline",{points:"20 6 9 17 4 12"})}),ZG=$.forwardRef(({trigger:t,children:e},n)=>{const[r,i]=$.useState(!1),[o,l]=$.useState(-1),c=$.useRef(null),f=$.useRef(null),h=$.useRef(null),p=$.useMemo(()=>G.Children.toArray(e).filter(O=>G.isValidElement(O)&&O.type===fS),[e]),m=$.useCallback(()=>{var O;i(!1),(O=h.current)==null||O.focus()},[]);$.useImperativeHandle(n,()=>({close:m}));const v=()=>{i(O=>!O)};$.useEffect(()=>{var O;if(r){const I=p.findIndex(L=>L.props.isActive);l(I>-1?I:0),(O=f.current)==null||O.focus();const N=L=>{c.current&&!c.current.contains(L.target)&&m()};return document.addEventListener("mousedown",N),()=>{document.removeEventListener("mousedown",N)}}},[r,p,m]),$.useEffect(()=>{if(r&&o>=0&&f.current){const I=Array.from(f.current.querySelectorAll('[role="menuitem"]'))[o];I&&I.scrollIntoView({block:"nearest"})}},[r,o]);const _=O=>{var I;if(p.length!==0)switch(O.key){case"ArrowDown":O.preventDefault(),l(N=>(N+1)%p.length);break;case"ArrowUp":O.preventDefault(),l(N=>(N-1+p.length)%p.length);break;case"Enter":case" ":O.preventDefault(),o>=0&&((I=p[o])==null||I.props.onClick(),i(!1));break;case"Escape":case"Tab":O.preventDefault(),m();break}};let E=-1;const S=G.Children.map(e,O=>{if(G.isValidElement(O)&&O.type===fS){E++;const I=E,N=O.props.onClick;return G.cloneElement(O,{isHighlighted:I===o,onMouseEnter:()=>l(I),onClick:()=>{N&&N(),i(!1)}})}return O}),w=G.cloneElement(t,{ref:h,onClick:O=>{v(),t.props.onClick&&t.props.onClick(O)},"aria-haspopup":"true","aria-expanded":r});return x.jsxs("div",{className:"relative inline-block text-left",ref:c,children:[w,r&&x.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white dark:bg-slate-800 ring-1 ring-black ring-opacity-5 focus:outline-none border border-slate-200 dark:border-slate-700 z-10 animate-fade-in-up",children:x.jsx("div",{ref:f,onKeyDown:_,tabIndex:-1,className:"py-1 focus:outline-none",role:"menu","aria-orientation":"vertical",children:S})})]})}),fS=({onClick:t,children:e,isActive:n=!1,isHighlighted:r=!1,onMouseEnter:i})=>{const o=r?"bg-primary-500 text-white":"text-gray-700 dark:text-gray-200";return x.jsxs("a",{href:"#",onClick:l=>{l.preventDefault(),t()},onMouseEnter:i,className:`flex items-center justify-between px-4 py-2 text-sm focus:outline-none transition-colors ${o}`,role:"menuitem",tabIndex:-1,children:[x.jsx("span",{className:n?"font-semibold":"font-normal",children:e}),n&&x.jsx(cS,{className:"w-4 h-4 text-primary-500"})]})},zP=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("circle",{cx:"12",cy:"12",r:"10"}),x.jsx("line",{x1:"4.93",y1:"4.93",x2:"19.07",y2:"19.07"})]}),FP=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),x.jsx("polyline",{points:"14 2 14 8 20 8"}),x.jsx("path",{d:"m10 13-2 2 2 2"}),x.jsx("path",{d:"m14 17 2-2-2-2"})]}),HP=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),GP=({className:t="w-6 h-6"})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),eK=({className:t})=>x.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})}),no=[{label:"Off",value:0},{label:"After 1 Error",value:1},{label:"After 2 Errors",value:2},{label:"After 3 Errors",value:3}],tK=()=>{const t=$.useContext(On);if(!t)return null;const{practiceQueue:e,currentQueueIndex:n}=t;return x.jsxs("div",{className:"flex flex-col gap-2 h-full",children:[x.jsx("h3",{className:"font-semibold text-slate-700 dark:text-slate-300 px-2",children:"Queue"}),x.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 px-2 custom-scrollbar",children:e.map((r,i)=>x.jsxs("div",{className:`p-2 rounded text-xs border ${i===n?"bg-blue-50 dark:bg-blue-900/30 border-blue-200 dark:border-blue-700":"bg-slate-50 dark:bg-slate-800 border-transparent"}`,children:[x.jsxs("div",{className:`font-medium mb-1 ${i===n?"text-blue-600 dark:text-blue-400":"text-slate-500"}`,children:["Snippet ",i+1]}),x.jsxs("div",{className:"font-mono text-slate-600 dark:text-slate-400 truncate opacity-75",children:[r.substring(0,40).replace(/\n/g," "),"..."]})]},i))})]})},nK=()=>{var zt,wt;const t=$.useContext(On);if(!t)return null;const{snippet:e,isLoadingSnippet:n,snippetError:r,selectedLanguage:i,fetchNewSnippet:o,showKeyboard:l,showHandGuide:c,toggleHandGuide:f,addPracticeResult:h,startCustomSession:p,navigateTo:m,isCustomSession:v,currentTargetedKeys:_,setCurrentTargetedKeys:E,setLastPracticeAction:S,lastPracticeAction:w,startTargetedSession:O,blockOnErrorThreshold:I,setBlockOnErrorThreshold:N,setRequestFocusOnCodeCallback:L,requestFocusOnCode:C,practiceQueue:M,currentQueueIndex:A,loadNextSnippetInQueue:P,isSetupModalOpen:k,openSetupModal:U,closeSetupModal:D,isInitialSetupComplete:B,restorePracticeSession:V,sessionResetKey:Q,practiceMode:J}=t,H=$.useRef(Date.now().toString()),[Y,ee]=$.useState(!1),[ce,_e]=$.useState(!1),[F,W]=$.useState({wpm:0,accuracy:0,errors:0,duration:0,errorMap:{},attemptMap:{}}),[se,me]=$.useState(!1),[ve,xe]=$.useState(!1),[Ie,De]=$.useState(!1),[ye,Re]=$.useState(null),[$e,ne]=$.useState(null),[Ke,we]=$.useState(!1),[Ee,Ve]=$.useState(!1),Ye=async()=>{const Ue=Le=>{try{const qe=document.createElement("textarea");qe.value=Le,qe.style.position="fixed",qe.style.left="-9999px",qe.style.top="0",document.body.appendChild(qe),qe.focus(),qe.select();const Ft=document.execCommand("copy");if(document.body.removeChild(qe),Ft)we(!0),setTimeout(()=>we(!1),2e3),t==null||t.showAlert("Code copied to clipboard!","info");else throw new Error("Fallback copy failed")}catch(qe){console.error("Fallback copy failed: ",qe),t==null||t.showAlert("Failed to copy code.","error")}};if(navigator.clipboard&&navigator.clipboard.writeText)try{await navigator.clipboard.writeText(e),we(!0),setTimeout(()=>we(!1),2e3),t==null||t.showAlert("Code copied to clipboard!","info")}catch(Le){console.warn("Clipboard API failed, trying fallback...",Le),Ue(e)}else Ue(e)},ft=$.useRef(null),He=$.useRef(null),ze=$.useRef(null),_t=$.useRef(!1),Mt=$.useCallback(()=>C(),[C]),cn=$.useCallback(()=>C(),[C]),Ae=MG(e,I,{onPause:Mt,onResume:cn}),bt=$.useRef(Ae);$.useLayoutEffect(()=>{bt.current=Ae},[Ae]);const Nt=e[Ae.currentIndex]||"";$.useEffect(()=>{bt.current.reset(),H.current=Date.now().toString(),C()},[Q,C]);const pe=$.useCallback(()=>{bt.current.reset(),H.current=Date.now().toString(),C()},[C]),Pe=$.useCallback(()=>{bt.current.togglePause(),C()},[C]),at=$.useCallback(()=>{U()},[U]),jt=$.useCallback(()=>{console.log("handleEndSession triggered");try{De(!0);const Ue={wpm:bt.current.wpm,accuracy:bt.current.accuracy,errors:bt.current.errors,duration:bt.current.duration,errorMap:bt.current.errorMap,attemptMap:bt.current.attemptMap};W(Ue);const Le=bt.current.currentIndex,qe=e.length,Ft=qe>0?Le/qe*100:0,Fn=bt.current.duration,di=Le>=20,Di=Ft>=100,or=(Ft>=70||Le>=150)&&Fn>=10;if(di&&(Di||or))h({id:H.current,date:Date.now(),wpm:Ue.wpm,accuracy:Ue.accuracy,duration:Ue.duration,errors:Ue.errors,language:i.name,snippetLength:e.length,timestamp:Date.now(),linesTyped:bt.current.typedText.split(`
`).length,errorMap:Ue.errorMap,attemptMap:Ue.attemptMap}),Re({saved:!0});else{let Wr="Session not saved.";di?or||(Wr="Not saved: Duration under 10s or progress too low (<70% or <150 chars)."):Wr="Not saved: Less than 20 characters typed.",Re({saved:!1,reason:Wr})}}catch(Ue){console.error("Error in handleEndSession:",Ue),Re({saved:!1,reason:"Error saving session: "+(Ue instanceof Error?Ue.message:String(Ue))})}finally{ee(!0)}},[h,i.name,e]),ht=$.useCallback(()=>{ee(!1),_e(!1),pe(),C()},[pe,C]),St=$.useCallback(()=>{ee(!1),_e(!1),P(),H.current=Date.now().toString(),C()},[P,C]);$.useEffect(()=>{const Ue=localStorage.getItem("sessionResultToShow");if(Ue){_t.current=!0,localStorage.removeItem("sessionResultToShow");try{const qe=JSON.parse(Ue);W(qe.stats),De(qe.isEarlyExit),S(qe.lastPracticeAction),qe.currentTargetedKeys&&qe.currentTargetedKeys.length>0?(E(qe.currentTargetedKeys),_e(!0)):ee(!0)}catch(qe){console.error("Failed to parse session result",qe)}return}const Le=localStorage.getItem("continuedSession");if(Le){_t.current=!0,localStorage.removeItem("continuedSession");try{const qe=JSON.parse(Le);V(qe.context),ne(qe)}catch(qe){console.error("Failed to parse continued session",qe)}}},[V,E]),$.useEffect(()=>{if(Ae.isFinished&&!ve&&!Y&&!ce){xe(!0);const Ue={wpm:Ae.wpm,accuracy:Ae.accuracy,errors:Ae.errors,duration:Ae.duration,errorMap:Ae.errorMap,attemptMap:Ae.attemptMap};W(Ue),De(!1);let Le=i.name;J==="error-training"?Le="Error Practice":J==="targeted"?Le="Targeted Practice":J==="general"&&(Le="General Typing");let qe=!0,Ft="";if(v){const Fn=e.length,di=Ae.duration;(Fn<150||di<10)&&(qe=!1,Ft="Session not saved: Custom snippets must be >150 chars and >10s duration.")}qe?(h({id:H.current,date:Date.now(),wpm:Ae.wpm,accuracy:Ae.accuracy,duration:Ae.duration,errors:Ae.errors,language:Le,snippetLength:e.length,timestamp:Date.now(),linesTyped:Ae.typedText.split(`
`).length,errorMap:Ae.errorMap,attemptMap:Ae.attemptMap}),Re({saved:!0})):Re({saved:!1,reason:Ft}),_.length>0?_e(!0):ee(!0)}else Ae.isFinished||xe(!1)},[Ae.isFinished,ve,Y,ce,Ae.wpm,Ae.accuracy,Ae.errors,Ae.duration,Ae.errorMap,Ae.attemptMap,h,i.name,e.length,_]);const[it,gt]=$.useState(!1);$.useEffect(()=>{Ae.consecutiveErrors>=10&&!it&&!Ae.isFinished&&(gt(!0),bt.current.pauseGame())},[Ae.consecutiveErrors,it,Ae.isFinished]);const Cn=$.useCallback(()=>{gt(!1),pe()},[pe]),qt=$.useCallback(Ue=>{if(!(Y||ce||k||it)&&Ue.altKey)switch(Ue.key.toLowerCase()){case"c":Ue.preventDefault(),Ye();break;case"n":Ue.preventDefault(),at();break;case"e":Ue.preventDefault(),jt();break;case"r":Ue.preventDefault(),pe();break;case"p":Ue.preventDefault(),Pe();break;case"g":Ue.preventDefault(),f();break;case"b":Ue.preventDefault();const qe=(no.findIndex(Ft=>Ft.value===I)+1)%no.length;N(no[qe].value);break}},[Y,ce,k,at,jt,pe,Pe,f,I,N]);$.useEffect(()=>(window.addEventListener("keydown",qt),()=>window.removeEventListener("keydown",qt)),[qt]);const xt=()=>typeof window<"u"&&window.innerWidth<768;$.useEffect(()=>{const Ue=Le=>{const qe=bt.current;if(Y||ce||k||it||Le.altKey||Le.ctrlKey||Le.metaKey)return;if(Le.repeat){Le.preventDefault();return}const Ft=Le.key;Ft==="Tab"&&Le.preventDefault(),Le.getModifierState("CapsLock")?me(!0):me(!1);const Fn=Ft.length===1,di=["Backspace","Enter","Tab"].includes(Ft);if(Fn||di){Le.preventDefault();let Di=Ft;xt()&&Ft===" "&&e[qe.currentIndex]==="	"&&(Di="Tab"),qe.handleKeyDown(Di),C()}};return window.addEventListener("keydown",Ue),()=>window.removeEventListener("keydown",Ue)},[Y,ce,k,C,e]);const fn=Ue=>{const Le=bt.current.typedText;if(Ue.length>Le.length+1){const qe=Ue.slice(Le.length);for(const Ft of qe)bt.current.handleKeyDown(Ft);C()}else if(Ue.length===Le.length+1){let qe=Ue.slice(-1);xt()&&qe===" "&&e[bt.current.currentIndex]==="	"&&(qe="Tab"),bt.current.handleKeyDown(qe),C()}else Ue.length===Le.length-1&&(bt.current.handleKeyDown("Backspace"),C())};return x.jsxs("div",{className:"flex flex-col h-[100dvh] max-w-full mx-auto w-full overflow-hidden",ref:ft,children:[se&&x.jsx("div",{className:"fixed top-20 inset-x-0 z-50 flex justify-center pointer-events-none",children:x.jsxs("div",{className:"bg-yellow-400 text-yellow-900 px-4 py-2 rounded-md shadow-lg flex items-center gap-2 animate-fade-in-up pointer-events-auto",children:[x.jsx(ic,{className:"w-5 h-5"}),x.jsx("span",{className:"font-semibold",children:"Caps Lock is On"})]})}),x.jsx("div",{className:"w-full max-w-[1100px] mx-auto mb-2 pt-2 flex-shrink-0 px-3 md:px-4",children:x.jsx("div",{className:"glass-card rounded-xl p-3 md:p-4",children:x.jsx($G,{wpm:Ae.wpm,accuracy:Ae.accuracy,errors:Ae.errors,progress:e.length>0?Math.round(Ae.currentIndex/e.length*100):0,timer:Ae.duration})})}),x.jsxs("div",{className:"w-full max-w-[1100px] mx-auto mb-2 flex-shrink-0 px-3 md:px-4",children:[x.jsxs("div",{className:"hidden md:flex flex-wrap items-center justify-center gap-2",children:[x.jsxs(Ge,{onClick:at,variant:"primary",disabled:k,title:"New Snippet (Alt+N)",accessKey:"n",size:"sm",className:"btn-press glow-hover",children:[x.jsx(FP,{className:"w-4 h-4 mr-2"}),"New"]}),x.jsxs(Ge,{onClick:jt,variant:"outline",disabled:k||Ae.isFinished,title:"End Session (Alt+E)",accessKey:"e",size:"sm",className:"btn-press",children:[x.jsx(HP,{className:"w-4 h-4 mr-2"}),"End"]}),x.jsxs(Ge,{onClick:pe,variant:"outline",disabled:k,title:"Reset (Alt+R)",accessKey:"r",size:"sm",className:"btn-press",children:[x.jsx(ag,{className:"w-4 h-4 mr-2"}),"Reset"]}),x.jsxs(Ge,{onClick:Pe,variant:"outline",disabled:k||Ae.isFinished,title:Ae.isPaused?"Resume (Alt+P)":"Pause (Alt+P)",accessKey:"p",size:"sm",className:"btn-press",children:[Ae.isPaused?x.jsx(BP,{className:"w-4 h-4 mr-2"}):x.jsx(uS,{className:"w-4 h-4 mr-2"}),Ae.isPaused?"Resume":"Pause"]}),x.jsxs(Ge,{onClick:Ye,variant:"outline",disabled:k,title:"Copy Code (Alt+C)",accessKey:"c",size:"sm",className:"btn-press",children:[Ke?x.jsx(cS,{className:"w-4 h-4 mr-2 text-green-500"}):x.jsx(GP,{className:"w-4 h-4 mr-2"}),Ke?"Copied":"Copy"]}),x.jsx(ZG,{ref:He,trigger:x.jsxs(Ge,{variant:"outline",title:"Block on Error Settings (Alt+B)",accessKey:"b",size:"sm",className:"btn-press",children:[x.jsx(zP,{className:"w-4 h-4 mr-2"}),x.jsxs("span",{className:"hidden sm:inline",children:["Block: ",(zt=no.find(Ue=>Ue.value===I))==null?void 0:zt.label]})]}),children:no.map(({label:Ue,value:Le})=>x.jsx(fS,{onClick:()=>{N(Le),C()},isActive:I===Le,children:Ue},Le))}),x.jsxs(Ge,{variant:"outline",onClick:()=>{f(),C()},title:"Toggle Hand Guide (Alt+G)",disabled:k,accessKey:"g",size:"sm",className:"btn-press",children:[x.jsx(qP,{className:"w-4 h-4 sm:mr-2"}),x.jsx("span",{className:"hidden sm:inline",children:"Hand Guide"})]})]}),x.jsxs("div",{className:"flex md:hidden items-center justify-center gap-2",children:[x.jsxs(Ge,{onClick:at,variant:"primary",disabled:k,title:"New Snippet",size:"sm",className:"btn-press glow-hover flex-1 max-w-[140px]",children:[x.jsx(FP,{className:"w-4 h-4 mr-2"}),"New"]}),x.jsx(Ge,{onClick:Pe,variant:"outline",disabled:k||Ae.isFinished,title:Ae.isPaused?"Resume":"Pause",size:"sm",className:"btn-press",children:Ae.isPaused?x.jsx(BP,{className:"w-5 h-5"}):x.jsx(uS,{className:"w-5 h-5"})}),x.jsx(Ge,{onClick:pe,variant:"outline",disabled:k,title:"Reset",size:"sm",className:"btn-press",children:x.jsx(ag,{className:"w-5 h-5"})}),x.jsx(Ge,{onClick:()=>Ve(!0),variant:"outline",disabled:k,title:"More Options",size:"sm",className:"btn-press",children:x.jsx(eK,{className:"w-5 h-5"})})]}),x.jsx(JG,{isOpen:Ee,onClose:()=>Ve(!1),title:"More Actions",items:[{label:"End Session",icon:x.jsx(HP,{className:"w-4 h-4"}),onClick:jt,disabled:k||Ae.isFinished,shortcut:"Alt+E"},{label:Ke?"Copied!":"Copy Code",icon:Ke?x.jsx(cS,{className:"w-4 h-4"}):x.jsx(GP,{className:"w-4 h-4"}),onClick:Ye,disabled:k,shortcut:"Alt+C"},{label:c?"Hide Hand Guide":"Show Hand Guide",icon:x.jsx(qP,{className:"w-4 h-4"}),onClick:()=>{f(),C()},disabled:k,shortcut:"Alt+G"},{label:`Error Block: ${(wt=no.find(Ue=>Ue.value===I))==null?void 0:wt.label}`,icon:x.jsx(zP,{className:"w-4 h-4"}),onClick:()=>{const Le=(no.findIndex(qe=>qe.value===I)+1)%no.length;N(no[Le].value),C()},shortcut:"Alt+B"}]})]}),x.jsxs("div",{className:"w-full mx-auto flex-grow min-h-0 flex flex-col md:flex-row gap-4 overflow-hidden px-4",children:[x.jsx(O6,{ref:ze,value:Ae.typedText,onValueChange:fn,snippet:e,languageAlias:i.prismAlias,charStates:Ae.charStates,currentIndex:Ae.currentIndex,isError:Ae.isError,isLoading:n,error:r,isPaused:Ae.isPaused,disabled:it,onRetry:()=>o(),className:"flex-grow h-full overflow-y-auto"}),M.length>1&&x.jsx("div",{className:"hidden md:flex flex-col gap-4 w-64 flex-shrink-0 h-full overflow-hidden",children:x.jsx(tK,{})})]}),l&&x.jsx("div",{className:"flex-shrink-0 w-full max-w-[1100px] mx-auto mt-2 mb-2 px-2",children:x.jsx(HG,{activeKey:Nt,isShiftActive:/[A-Z!@#$%^&*()_+{}|:"<>?~]/.test(Nt),showHandGuide:c})}),x.jsx(KG,{isOpen:Y,title:Ie?"Session Ended":"Session Complete",onClose:()=>{Ie?(ee(!1),C()):ht()},onPracticeSame:ht,onNewSnippet:at,onViewProgress:()=>{ee(!1),m("dashboard")},isCustomSession:v,lastPracticeAction:w,stats:F,isEarlyExit:Ie,onNextSnippet:St,hasNextSnippet:M.length>1&&A<M.length-1,sessionErrorMap:F.errorMap,sessionAttemptMap:F.attemptMap,saveStatus:ye}),x.jsx(XG,{isOpen:ce,onClose:()=>{_e(!1),C()},stats:F,onPracticeAgain:ht,onReturnToDashboard:()=>{_e(!1),m("dashboard")},sessionErrorMap:F.errorMap,sessionAttemptMap:F.attemptMap}),x.jsx(QG,{isOpen:it,onRestart:Cn})]})},rK=({isOpen:t,onClose:e,onSave:n,currentWpmGoal:r,currentAccuracyGoal:i,currentTimeGoal:o})=>{const[l,c]=$.useState(String(r)),[f,h]=$.useState(String(i)),[p,m]=$.useState(String(o));$.useEffect(()=>{t&&(c(String(r)),h(String(i)),m(String(o)))},[t,r,i,o]);const v=()=>{const _=parseInt(l,10)||0,E=parseInt(f,10)||0,S=parseInt(p,10)||0;n(_,E,S)};return x.jsx(Fl,{isOpen:t,onClose:e,title:"Edit Your Goals",children:x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{htmlFor:"time-goal",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Daily Time Goal (Minutes)"}),x.jsx("input",{id:"time-goal",type:"number",min:"0",value:p,onChange:_=>m(_.target.value),className:"w-full p-2 bg-slate-200 dark:bg-slate-700 dark:text-slate-50 dark:placeholder-slate-400 border border-slate-300 dark:border-slate-500 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"e.g., 15"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{htmlFor:"wpm-goal",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"WPM Goal"}),x.jsx("input",{id:"wpm-goal",type:"number",value:l,onChange:_=>c(_.target.value),className:"w-full p-2 bg-slate-200 dark:bg-slate-700 dark:text-slate-50 dark:placeholder-slate-400 border border-slate-300 dark:border-slate-500 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"e.g., 80"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{htmlFor:"accuracy-goal",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Accuracy Goal (%)"}),x.jsx("input",{id:"accuracy-goal",type:"number",min:"0",max:"100",value:f,onChange:_=>h(_.target.value),className:"w-full p-2 bg-slate-200 dark:bg-slate-700 dark:text-slate-50 dark:placeholder-slate-400 border border-slate-300 dark:border-slate-500 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"e.g., 99"})]}),x.jsxs("div",{className:"flex justify-end items-center gap-2 mt-4",children:[x.jsx(Ge,{variant:"ghost",onClick:e,children:"Cancel"}),x.jsx(Ge,{onClick:v,children:"Save Goals"})]})]})})},C6=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"}),x.jsx("path",{d:"m15 5 4 4"})]}),mh=$.forwardRef(({options:t,selectedValue:e,onSelect:n,disabled:r=!1,accessKeyChars:i},o)=>{const l=$.useContext(On),c=$.useContext(OT),f=p=>{if(r)return;const m=t.findIndex(v=>v.value===e);if(p.key==="ArrowRight"){p.preventDefault();const v=(m+1)%t.length;n(t[v].value)}else if(p.key==="ArrowLeft"){p.preventDefault();const v=(m-1+t.length)%t.length;n(t[v].value)}},h=(l==null?void 0:l.isAccessKeyMenuVisible)&&(c||!(l!=null&&l.isAnyModalOpen));return x.jsx("div",{ref:o,role:"group",tabIndex:r?-1:0,className:"flex justify-center items-center gap-1 bg-slate-200 dark:bg-slate-700 p-1 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-slate-900",onKeyDown:f,children:t.map(({label:p,value:m},v)=>x.jsxs(Ge,{variant:e===m?"primary":"ghost",size:"sm",className:`relative ${e===m?"":"text-gray-600 dark:text-gray-300"}`,onClick:()=>n(m),disabled:r,tabIndex:-1,children:[h&&(i==null?void 0:i[v])&&x.jsx(ig,{label:i[v]}),p]},m))})});function I6(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=I6(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function vt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=I6(t))&&(r&&(r+=" "),r+=e);return r}var Cb,KP;function Kr(){if(KP)return Cb;KP=1;var t=Array.isArray;return Cb=t,Cb}var Ib,WP;function P6(){if(WP)return Ib;WP=1;var t=typeof om=="object"&&om&&om.Object===Object&&om;return Ib=t,Ib}var Pb,YP;function ka(){if(YP)return Pb;YP=1;var t=P6(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Pb=n,Pb}var Rb,XP;function Md(){if(XP)return Rb;XP=1;var t=ka(),e=t.Symbol;return Rb=e,Rb}var Nb,QP;function iK(){if(QP)return Nb;QP=1;var t=Md(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function o(l){var c=n.call(l,i),f=l[i];try{l[i]=void 0;var h=!0}catch{}var p=r.call(l);return h&&(c?l[i]=f:delete l[i]),p}return Nb=o,Nb}var kb,JP;function aK(){if(JP)return kb;JP=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return kb=n,kb}var Mb,ZP;function So(){if(ZP)return Mb;ZP=1;var t=Md(),e=iK(),n=aK(),r="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function l(c){return c==null?c===void 0?i:r:o&&o in Object(c)?e(c):n(c)}return Mb=l,Mb}var jb,eR;function Eo(){if(eR)return jb;eR=1;function t(e){return e!=null&&typeof e=="object"}return jb=t,jb}var Db,tR;function Xc(){if(tR)return Db;tR=1;var t=So(),e=Eo(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return Db=r,Db}var Lb,nR;function CT(){if(nR)return Lb;nR=1;var t=Kr(),e=Xc(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,l){if(t(o))return!1;var c=typeof o;return c=="number"||c=="symbol"||c=="boolean"||o==null||e(o)?!0:r.test(o)||!n.test(o)||l!=null&&o in Object(l)}return Lb=i,Lb}var Vb,rR;function Cs(){if(rR)return Vb;rR=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return Vb=t,Vb}var $b,iR;function IT(){if(iR)return $b;iR=1;var t=So(),e=Cs(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function l(c){if(!e(c))return!1;var f=t(c);return f==r||f==i||f==n||f==o}return $b=l,$b}var Ub,aR;function oK(){if(aR)return Ub;aR=1;var t=ka(),e=t["__core-js_shared__"];return Ub=e,Ub}var Bb,oR;function sK(){if(oR)return Bb;oR=1;var t=oK(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return Bb=n,Bb}var qb,sR;function R6(){if(sR)return qb;sR=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return qb=n,qb}var zb,lR;function lK(){if(lR)return zb;lR=1;var t=IT(),e=sK(),n=Cs(),r=R6(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,f=l.toString,h=c.hasOwnProperty,p=RegExp("^"+f.call(h).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(v){if(!n(v)||e(v))return!1;var _=t(v)?p:o;return _.test(r(v))}return zb=m,zb}var Fb,uR;function uK(){if(uR)return Fb;uR=1;function t(e,n){return e==null?void 0:e[n]}return Fb=t,Fb}var Hb,cR;function Hl(){if(cR)return Hb;cR=1;var t=lK(),e=uK();function n(r,i){var o=e(r,i);return t(o)?o:void 0}return Hb=n,Hb}var Gb,fR;function Py(){if(fR)return Gb;fR=1;var t=Hl(),e=t(Object,"create");return Gb=e,Gb}var Kb,hR;function cK(){if(hR)return Kb;hR=1;var t=Py();function e(){this.__data__=t?t(null):{},this.size=0}return Kb=e,Kb}var Wb,dR;function fK(){if(dR)return Wb;dR=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return Wb=t,Wb}var Yb,pR;function hK(){if(pR)return Yb;pR=1;var t=Py(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var l=this.__data__;if(t){var c=l[o];return c===e?void 0:c}return r.call(l,o)?l[o]:void 0}return Yb=i,Yb}var Xb,mR;function dK(){if(mR)return Xb;mR=1;var t=Py(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var o=this.__data__;return t?o[i]!==void 0:n.call(o,i)}return Xb=r,Xb}var Qb,gR;function pK(){if(gR)return Qb;gR=1;var t=Py(),e="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=t&&i===void 0?e:i,this}return Qb=n,Qb}var Jb,yR;function mK(){if(yR)return Jb;yR=1;var t=cK(),e=fK(),n=hK(),r=dK(),i=pK();function o(l){var c=-1,f=l==null?0:l.length;for(this.clear();++c<f;){var h=l[c];this.set(h[0],h[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Jb=o,Jb}var Zb,vR;function gK(){if(vR)return Zb;vR=1;function t(){this.__data__=[],this.size=0}return Zb=t,Zb}var e_,bR;function PT(){if(bR)return e_;bR=1;function t(e,n){return e===n||e!==e&&n!==n}return e_=t,e_}var t_,_R;function Ry(){if(_R)return t_;_R=1;var t=PT();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return t_=e,t_}var n_,xR;function yK(){if(xR)return n_;xR=1;var t=Ry(),e=Array.prototype,n=e.splice;function r(i){var o=this.__data__,l=t(o,i);if(l<0)return!1;var c=o.length-1;return l==c?o.pop():n.call(o,l,1),--this.size,!0}return n_=r,n_}var r_,wR;function vK(){if(wR)return r_;wR=1;var t=Ry();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return r_=e,r_}var i_,SR;function bK(){if(SR)return i_;SR=1;var t=Ry();function e(n){return t(this.__data__,n)>-1}return i_=e,i_}var a_,ER;function _K(){if(ER)return a_;ER=1;var t=Ry();function e(n,r){var i=this.__data__,o=t(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return a_=e,a_}var o_,TR;function Ny(){if(TR)return o_;TR=1;var t=gK(),e=yK(),n=vK(),r=bK(),i=_K();function o(l){var c=-1,f=l==null?0:l.length;for(this.clear();++c<f;){var h=l[c];this.set(h[0],h[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,o_=o,o_}var s_,AR;function RT(){if(AR)return s_;AR=1;var t=Hl(),e=ka(),n=t(e,"Map");return s_=n,s_}var l_,OR;function xK(){if(OR)return l_;OR=1;var t=mK(),e=Ny(),n=RT();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return l_=r,l_}var u_,CR;function wK(){if(CR)return u_;CR=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return u_=t,u_}var c_,IR;function ky(){if(IR)return c_;IR=1;var t=wK();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return c_=e,c_}var f_,PR;function SK(){if(PR)return f_;PR=1;var t=ky();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return f_=e,f_}var h_,RR;function EK(){if(RR)return h_;RR=1;var t=ky();function e(n){return t(this,n).get(n)}return h_=e,h_}var d_,NR;function TK(){if(NR)return d_;NR=1;var t=ky();function e(n){return t(this,n).has(n)}return d_=e,d_}var p_,kR;function AK(){if(kR)return p_;kR=1;var t=ky();function e(n,r){var i=t(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return p_=e,p_}var m_,MR;function NT(){if(MR)return m_;MR=1;var t=xK(),e=SK(),n=EK(),r=TK(),i=AK();function o(l){var c=-1,f=l==null?0:l.length;for(this.clear();++c<f;){var h=l[c];this.set(h[0],h[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,m_=o,m_}var g_,jR;function N6(){if(jR)return g_;jR=1;var t=NT(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var l=arguments,c=i?i.apply(this,l):l[0],f=o.cache;if(f.has(c))return f.get(c);var h=r.apply(this,l);return o.cache=f.set(c,h)||f,h};return o.cache=new(n.Cache||t),o}return n.Cache=t,g_=n,g_}var y_,DR;function OK(){if(DR)return y_;DR=1;var t=N6(),e=500;function n(r){var i=t(r,function(l){return o.size===e&&o.clear(),l}),o=i.cache;return i}return y_=n,y_}var v_,LR;function CK(){if(LR)return v_;LR=1;var t=OK(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(l,c,f,h){o.push(f?h.replace(n,"$1"):c||l)}),o});return v_=r,v_}var b_,VR;function kT(){if(VR)return b_;VR=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=Array(i);++r<i;)o[r]=n(e[r],r,e);return o}return b_=t,b_}var __,$R;function IK(){if($R)return __;$R=1;var t=Md(),e=kT(),n=Kr(),r=Xc(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function l(c){if(typeof c=="string")return c;if(n(c))return e(c,l)+"";if(r(c))return o?o.call(c):"";var f=c+"";return f=="0"&&1/c==-1/0?"-0":f}return __=l,__}var x_,UR;function k6(){if(UR)return x_;UR=1;var t=IK();function e(n){return n==null?"":t(n)}return x_=e,x_}var w_,BR;function M6(){if(BR)return w_;BR=1;var t=Kr(),e=CT(),n=CK(),r=k6();function i(o,l){return t(o)?o:e(o,l)?[o]:n(r(o))}return w_=i,w_}var S_,qR;function My(){if(qR)return S_;qR=1;var t=Xc();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return S_=e,S_}var E_,zR;function MT(){if(zR)return E_;zR=1;var t=M6(),e=My();function n(r,i){i=t(i,r);for(var o=0,l=i.length;r!=null&&o<l;)r=r[e(i[o++])];return o&&o==l?r:void 0}return E_=n,E_}var T_,FR;function j6(){if(FR)return T_;FR=1;var t=MT();function e(n,r,i){var o=n==null?void 0:t(n,r);return o===void 0?i:o}return T_=e,T_}var PK=j6();const fi=Kt(PK);var A_,HR;function RK(){if(HR)return A_;HR=1;function t(e){return e==null}return A_=t,A_}var NK=RK();const ut=Kt(NK);var O_,GR;function kK(){if(GR)return O_;GR=1;var t=So(),e=Kr(),n=Eo(),r="[object String]";function i(o){return typeof o=="string"||!e(o)&&n(o)&&t(o)==r}return O_=i,O_}var MK=kK();const jl=Kt(MK);var jK=IT();const nt=Kt(jK);var DK=Cs();const Qc=Kt(DK);var C_={exports:{}},Wt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KR;function LK(){if(KR)return Wt;KR=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),E;E=Symbol.for("react.module.reference");function S(w){if(typeof w=="object"&&w!==null){var O=w.$$typeof;switch(O){case t:switch(w=w.type,w){case n:case i:case r:case h:case p:return w;default:switch(w=w&&w.$$typeof,w){case c:case l:case f:case v:case m:case o:return w;default:return O}}case e:return O}}}return Wt.ContextConsumer=l,Wt.ContextProvider=o,Wt.Element=t,Wt.ForwardRef=f,Wt.Fragment=n,Wt.Lazy=v,Wt.Memo=m,Wt.Portal=e,Wt.Profiler=i,Wt.StrictMode=r,Wt.Suspense=h,Wt.SuspenseList=p,Wt.isAsyncMode=function(){return!1},Wt.isConcurrentMode=function(){return!1},Wt.isContextConsumer=function(w){return S(w)===l},Wt.isContextProvider=function(w){return S(w)===o},Wt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},Wt.isForwardRef=function(w){return S(w)===f},Wt.isFragment=function(w){return S(w)===n},Wt.isLazy=function(w){return S(w)===v},Wt.isMemo=function(w){return S(w)===m},Wt.isPortal=function(w){return S(w)===e},Wt.isProfiler=function(w){return S(w)===i},Wt.isStrictMode=function(w){return S(w)===r},Wt.isSuspense=function(w){return S(w)===h},Wt.isSuspenseList=function(w){return S(w)===p},Wt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===i||w===r||w===h||w===p||w===_||typeof w=="object"&&w!==null&&(w.$$typeof===v||w.$$typeof===m||w.$$typeof===o||w.$$typeof===l||w.$$typeof===f||w.$$typeof===E||w.getModuleId!==void 0)},Wt.typeOf=S,Wt}var WR;function VK(){return WR||(WR=1,C_.exports=LK()),C_.exports}var $K=VK(),I_,YR;function D6(){if(YR)return I_;YR=1;var t=So(),e=Eo(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return I_=r,I_}var P_,XR;function UK(){if(XR)return P_;XR=1;var t=D6();function e(n){return t(n)&&n!=+n}return P_=e,P_}var BK=UK();const jd=Kt(BK);var qK=D6();const zK=Kt(qK);var Mr=function(e){return e===0?0:e>0?1:-1},xl=function(e){return jl(e)&&e.indexOf("%")===e.length-1},Te=function(e){return zK(e)&&!jd(e)},FK=function(e){return ut(e)},Qn=function(e){return Te(e)||jl(e)},HK=0,Jc=function(e){var n=++HK;return"".concat(e||"").concat(n)},jr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Te(e)&&!jl(e))return r;var o;if(xl(e)){var l=e.indexOf("%");o=n*parseFloat(e.slice(0,l))/100}else o=+e;return jd(o)&&(o=r),i&&o>n&&(o=n),o},cs=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},GK=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},li=function(e,n){return Te(e)&&Te(n)?function(r){return e+r*(n-e)}:function(){return n}};function og(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):fi(r,e))===n})}var KK=function(e,n){return Te(e)&&Te(n)?e-n:jl(e)&&jl(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function ac(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function hS(t){"@babel/helpers - typeof";return hS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hS(t)}var WK=["viewBox","children"],YK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],QR=["points","pathLength"],R_={svg:WK,polygon:QR,polyline:QR},jT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],sg=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if($.isValidElement(e)&&(r=e.props),!Qc(r))return null;var i={};return Object.keys(r).forEach(function(o){jT.includes(o)&&(i[o]=n||function(l){return r[o](r,l)})}),i},XK=function(e,n,r){return function(i){return e(n,r,i),null}},Dl=function(e,n,r){if(!Qc(e)||hS(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var l=e[o];jT.includes(o)&&typeof l=="function"&&(i||(i={}),i[o]=XK(l,n,r))}),i},QK=["children"],JK=["children"];function JR(t,e){if(t==null)return{};var n=ZK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dS(t){"@babel/helpers - typeof";return dS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dS(t)}var ZR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},fo=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},eN=null,N_=null,DT=function t(e){if(e===eN&&Array.isArray(N_))return N_;var n=[];return $.Children.forEach(e,function(r){ut(r)||($K.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),N_=n,eN=e,n};function hi(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return fo(i)}):r=[fo(e)],DT(t).forEach(function(i){var o=fi(i,"type.displayName")||fi(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function si(t,e){var n=hi(t,e);return n&&n[0]}var tN=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Te(r)||r<=0||!Te(i)||i<=0)},eW=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],tW=function(e){return e&&e.type&&jl(e.type)&&eW.indexOf(e.type)>=0},nW=function(e){return e&&dS(e)==="object"&&"clipDot"in e},rW=function(e,n,r,i){var o,l=(o=R_==null?void 0:R_[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!nt(e)&&(i&&l.includes(n)||YK.includes(n))||r&&jT.includes(n)},Qe=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if($.isValidElement(e)&&(i=e.props),!Qc(i))return null;var o={};return Object.keys(i).forEach(function(l){var c;rW((c=i)===null||c===void 0?void 0:c[l],l,n,r)&&(o[l]=i[l])}),o},pS=function t(e,n){if(e===n)return!0;var r=$.Children.count(e);if(r!==$.Children.count(n))return!1;if(r===0)return!0;if(r===1)return nN(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],l=n[i];if(Array.isArray(o)||Array.isArray(l)){if(!t(o,l))return!1}else if(!nN(o,l))return!1}return!0},nN=function(e,n){if(ut(e)&&ut(n))return!0;if(!ut(e)&&!ut(n)){var r=e.props||{},i=r.children,o=JR(r,QK),l=n.props||{},c=l.children,f=JR(l,JK);return i&&c?ac(o,f)&&pS(i,c):!i&&!c?ac(o,f):!1}return!1},rN=function(e,n){var r=[],i={};return DT(e).forEach(function(o,l){if(tW(o))r.push(o);else if(o){var c=fo(o.type),f=n[c]||{},h=f.handler,p=f.once;if(h&&(!p||!i[c])){var m=h(o,c,l);r.push(m),i[c]=!0}}}),r},iW=function(e){var n=e&&e.type;return n&&ZR[n]?ZR[n]:null},aW=function(e,n){return DT(n).indexOf(e)},oW=["children","width","height","viewBox","className","style","title","desc"];function mS(){return mS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mS.apply(this,arguments)}function sW(t,e){if(t==null)return{};var n=lW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gS(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,l=t.style,c=t.title,f=t.desc,h=sW(t,oW),p=i||{width:n,height:r,x:0,y:0},m=vt("recharts-surface",o);return G.createElement("svg",mS({},Qe(h,!0,"svg"),{className:m,width:n,height:r,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),G.createElement("title",null,c),G.createElement("desc",null,f),e)}var uW=["children","className"];function yS(){return yS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yS.apply(this,arguments)}function cW(t,e){if(t==null)return{};var n=fW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Ut=G.forwardRef(function(t,e){var n=t.children,r=t.className,i=cW(t,uW),o=vt("recharts-layer",r);return G.createElement("g",yS({className:o},Qe(i,!0),{ref:e}),n)}),na=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]},k_,iN;function hW(){if(iN)return k_;iN=1;function t(e,n,r){var i=-1,o=e.length;n<0&&(n=-n>o?0:o+n),r=r>o?o:r,r<0&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0;for(var l=Array(o);++i<o;)l[i]=e[i+n];return l}return k_=t,k_}var M_,aN;function dW(){if(aN)return M_;aN=1;var t=hW();function e(n,r,i){var o=n.length;return i=i===void 0?o:i,!r&&i>=o?n:t(n,r,i)}return M_=e,M_}var j_,oN;function L6(){if(oN)return j_;oN=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",l="\\u200d",c=RegExp("["+l+t+i+o+"]");function f(h){return c.test(h)}return j_=f,j_}var D_,sN;function pW(){if(sN)return D_;sN=1;function t(e){return e.split("")}return D_=t,D_}var L_,lN;function mW(){if(lN)return L_;lN=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",l="["+t+"]",c="["+i+"]",f="\\ud83c[\\udffb-\\udfff]",h="(?:"+c+"|"+f+")",p="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",_="\\u200d",E=h+"?",S="["+o+"]?",w="(?:"+_+"(?:"+[p,m,v].join("|")+")"+S+E+")*",O=S+E+w,I="(?:"+[p+c+"?",c,m,v,l].join("|")+")",N=RegExp(f+"(?="+f+")|"+I+O,"g");function L(C){return C.match(N)||[]}return L_=L,L_}var V_,uN;function gW(){if(uN)return V_;uN=1;var t=pW(),e=L6(),n=mW();function r(i){return e(i)?n(i):t(i)}return V_=r,V_}var $_,cN;function yW(){if(cN)return $_;cN=1;var t=dW(),e=L6(),n=gW(),r=k6();function i(o){return function(l){l=r(l);var c=e(l)?n(l):void 0,f=c?c[0]:l.charAt(0),h=c?t(c,1).join(""):l.slice(1);return f[o]()+h}}return $_=i,$_}var U_,fN;function vW(){if(fN)return U_;fN=1;var t=yW(),e=t("toUpperCase");return U_=e,U_}var bW=vW();const jy=Kt(bW);function ln(t){return function(){return t}}const V6=Math.cos,lg=Math.sin,ia=Math.sqrt,ug=Math.PI,Dy=2*ug,vS=Math.PI,bS=2*vS,dl=1e-6,_W=bS-dl;function $6(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function xW(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return $6;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class wW{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?$6:xW(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,c=this._y1,f=r-e,h=i-n,p=l-e,m=c-n,v=p*p+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>dl)if(!(Math.abs(m*f-h*p)>dl)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-l,E=i-c,S=f*f+h*h,w=_*_+E*E,O=Math.sqrt(S),I=Math.sqrt(v),N=o*Math.tan((vS-Math.acos((S+v-w)/(2*O*I)))/2),L=N/I,C=N/O;Math.abs(L-1)>dl&&this._append`L${e+L*p},${n+L*m}`,this._append`A${o},${o},0,0,${+(m*_>p*E)},${this._x1=e+C*f},${this._y1=n+C*h}`}}arc(e,n,r,i,o,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),f=r*Math.sin(i),h=e+c,p=n+f,m=1^l,v=l?i-o:o-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>dl||Math.abs(this._y1-p)>dl)&&this._append`L${h},${p}`,r&&(v<0&&(v=v%bS+bS),v>_W?this._append`A${r},${r},0,1,${m},${e-c},${n-f}A${r},${r},0,1,${m},${this._x1=h},${this._y1=p}`:v>dl&&this._append`A${r},${r},0,${+(v>=vS)},${m},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function LT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new wW(e)}function VT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function U6(t){this._context=t}U6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ly(t){return new U6(t)}function B6(t){return t[0]}function q6(t){return t[1]}function z6(t,e){var n=ln(!0),r=null,i=Ly,o=null,l=LT(c);t=typeof t=="function"?t:t===void 0?B6:ln(t),e=typeof e=="function"?e:e===void 0?q6:ln(e);function c(f){var h,p=(f=VT(f)).length,m,v=!1,_;for(r==null&&(o=i(_=l())),h=0;h<=p;++h)!(h<p&&n(m=f[h],h,f))===v&&((v=!v)?o.lineStart():o.lineEnd()),v&&o.point(+t(m,h,f),+e(m,h,f));if(_)return o=null,_+""||null}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:ln(+f),c):t},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:ln(+f),c):e},c.defined=function(f){return arguments.length?(n=typeof f=="function"?f:ln(!!f),c):n},c.curve=function(f){return arguments.length?(i=f,r!=null&&(o=i(r)),c):i},c.context=function(f){return arguments.length?(f==null?r=o=null:o=i(r=f),c):r},c}function dm(t,e,n){var r=null,i=ln(!0),o=null,l=Ly,c=null,f=LT(h);t=typeof t=="function"?t:t===void 0?B6:ln(+t),e=typeof e=="function"?e:ln(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?q6:ln(+n);function h(m){var v,_,E,S=(m=VT(m)).length,w,O=!1,I,N=new Array(S),L=new Array(S);for(o==null&&(c=l(I=f())),v=0;v<=S;++v){if(!(v<S&&i(w=m[v],v,m))===O)if(O=!O)_=v,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),E=v-1;E>=_;--E)c.point(N[E],L[E]);c.lineEnd(),c.areaEnd()}O&&(N[v]=+t(w,v,m),L[v]=+e(w,v,m),c.point(r?+r(w,v,m):N[v],n?+n(w,v,m):L[v]))}if(I)return c=null,I+""||null}function p(){return z6().defined(i).curve(l).context(o)}return h.x=function(m){return arguments.length?(t=typeof m=="function"?m:ln(+m),r=null,h):t},h.x0=function(m){return arguments.length?(t=typeof m=="function"?m:ln(+m),h):t},h.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:ln(+m),h):r},h.y=function(m){return arguments.length?(e=typeof m=="function"?m:ln(+m),n=null,h):e},h.y0=function(m){return arguments.length?(e=typeof m=="function"?m:ln(+m),h):e},h.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:ln(+m),h):n},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(n)},h.lineX1=function(){return p().x(r).y(e)},h.defined=function(m){return arguments.length?(i=typeof m=="function"?m:ln(!!m),h):i},h.curve=function(m){return arguments.length?(l=m,o!=null&&(c=l(o)),h):l},h.context=function(m){return arguments.length?(m==null?o=c=null:c=l(o=m),h):o},h}class F6{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function SW(t){return new F6(t,!0)}function EW(t){return new F6(t,!1)}const $T={draw(t,e){const n=ia(e/ug);t.moveTo(n,0),t.arc(0,0,n,0,Dy)}},TW={draw(t,e){const n=ia(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},H6=ia(1/3),AW=H6*2,OW={draw(t,e){const n=ia(e/AW),r=n*H6;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},CW={draw(t,e){const n=ia(e),r=-n/2;t.rect(r,r,n,n)}},IW=.8908130915292852,G6=lg(ug/10)/lg(7*ug/10),PW=lg(Dy/10)*G6,RW=-V6(Dy/10)*G6,NW={draw(t,e){const n=ia(e*IW),r=PW*n,i=RW*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const l=Dy*o/5,c=V6(l),f=lg(l);t.lineTo(f*n,-c*n),t.lineTo(c*r-f*i,f*r+c*i)}t.closePath()}},B_=ia(3),kW={draw(t,e){const n=-ia(e/(B_*3));t.moveTo(0,n*2),t.lineTo(-B_*n,-n),t.lineTo(B_*n,-n),t.closePath()}},Ci=-.5,Ii=ia(3)/2,_S=1/ia(12),MW=(_S/2+1)*3,jW={draw(t,e){const n=ia(e/MW),r=n/2,i=n*_S,o=r,l=n*_S+n,c=-o,f=l;t.moveTo(r,i),t.lineTo(o,l),t.lineTo(c,f),t.lineTo(Ci*r-Ii*i,Ii*r+Ci*i),t.lineTo(Ci*o-Ii*l,Ii*o+Ci*l),t.lineTo(Ci*c-Ii*f,Ii*c+Ci*f),t.lineTo(Ci*r+Ii*i,Ci*i-Ii*r),t.lineTo(Ci*o+Ii*l,Ci*l-Ii*o),t.lineTo(Ci*c+Ii*f,Ci*f-Ii*c),t.closePath()}};function DW(t,e){let n=null,r=LT(i);t=typeof t=="function"?t:ln(t||$T),e=typeof e=="function"?e:ln(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:ln(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:ln(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function cg(){}function fg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function K6(t){this._context=t}K6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:fg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:fg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function LW(t){return new K6(t)}function W6(t){this._context=t}W6.prototype={areaStart:cg,areaEnd:cg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:fg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function VW(t){return new W6(t)}function Y6(t){this._context=t}Y6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:fg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $W(t){return new Y6(t)}function X6(t){this._context=t}X6.prototype={areaStart:cg,areaEnd:cg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function UW(t){return new X6(t)}function hN(t){return t<0?-1:1}function dN(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),c=(o*i+l*r)/(r+i);return(hN(o)+hN(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(c))||0}function pN(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function q_(t,e,n){var r=t._x0,i=t._y0,o=t._x1,l=t._y1,c=(o-r)/3;t._context.bezierCurveTo(r+c,i+c*e,o-c,l-c*n,o,l)}function hg(t){this._context=t}hg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:q_(this,this._t0,pN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,q_(this,pN(this,n=dN(this,t,e)),n);break;default:q_(this,this._t0,n=dN(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Q6(t){this._context=new J6(t)}(Q6.prototype=Object.create(hg.prototype)).point=function(t,e){hg.prototype.point.call(this,e,t)};function J6(t){this._context=t}J6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function BW(t){return new hg(t)}function qW(t){return new Q6(t)}function Z6(t){this._context=t}Z6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=mN(t),i=mN(e),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function mN(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),l=new Array(n);for(i[0]=0,o[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function zW(t){return new Z6(t)}function Vy(t,e){this._context=t,this._t=e}Vy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function FW(t){return new Vy(t,.5)}function HW(t){return new Vy(t,0)}function GW(t){return new Vy(t,1)}function yc(t,e){if((l=t.length)>1)for(var n=1,r,i,o=t[e[0]],l,c=o.length;n<l;++n)for(i=o,o=t[e[n]],r=0;r<c;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function xS(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function KW(t,e){return t[e]}function WW(t){const e=[];return e.key=t,e}function YW(){var t=ln([]),e=xS,n=yc,r=KW;function i(o){var l=Array.from(t.apply(this,arguments),WW),c,f=l.length,h=-1,p;for(const m of o)for(c=0,++h;c<f;++c)(l[c][h]=[0,+r(m,l[c].key,h,o)]).data=m;for(c=0,p=VT(e(l));c<f;++c)l[p[c]].index=c;return n(l,p),l}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:ln(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:ln(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?xS:typeof o=="function"?o:ln(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??yc,i):n},i}function XW(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,l;i<o;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}yc(t,e)}}function QW(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var l=0,c=0;l<i;++l)c+=t[l][n][1]||0;r[n][1]+=r[n][0]=-c/2}yc(t,e)}}function JW(t,e){if(!(!((l=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,l;r<o;++r){for(var c=0,f=0,h=0;c<l;++c){for(var p=t[e[c]],m=p[r][1]||0,v=p[r-1][1]||0,_=(m-v)/2,E=0;E<c;++E){var S=t[e[E]],w=S[r][1]||0,O=S[r-1][1]||0;_+=w-O}f+=m,h+=_*m}i[r-1][1]+=i[r-1][0]=n,f&&(n-=h/f)}i[r-1][1]+=i[r-1][0]=n,yc(t,e)}}function Bh(t){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}var ZW=["type","size","sizeType"];function wS(){return wS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wS.apply(this,arguments)}function gN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gN(Object(n),!0).forEach(function(r){eY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eY(t,e,n){return e=tY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tY(t){var e=nY(t,"string");return Bh(e)=="symbol"?e:e+""}function nY(t,e){if(Bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rY(t,e){if(t==null)return{};var n=iY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var e5={symbolCircle:$T,symbolCross:TW,symbolDiamond:OW,symbolSquare:CW,symbolStar:NW,symbolTriangle:kW,symbolWye:jW},aY=Math.PI/180,oY=function(e){var n="symbol".concat(jy(e));return e5[n]||$T},sY=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*aY;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},lY=function(e,n){e5["symbol".concat(jy(e))]=n},UT=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,l=e.sizeType,c=l===void 0?"area":l,f=rY(e,ZW),h=yN(yN({},f),{},{type:r,size:o,sizeType:c}),p=function(){var w=oY(r),O=DW().type(w).size(sY(o,c,r));return O()},m=h.className,v=h.cx,_=h.cy,E=Qe(h,!0);return v===+v&&_===+_&&o===+o?G.createElement("path",wS({},E,{className:vt("recharts-symbols",m),transform:"translate(".concat(v,", ").concat(_,")"),d:p()})):null};UT.registerSymbol=lY;function vc(t){"@babel/helpers - typeof";return vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(t)}function SS(){return SS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SS.apply(this,arguments)}function vN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vN(Object(n),!0).forEach(function(r){qh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n5(r.key),r)}}function hY(t,e,n){return e&&fY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dY(t,e,n){return e=dg(e),pY(t,t5()?Reflect.construct(e,n||[],dg(t).constructor):e.apply(t,n))}function pY(t,e){if(e&&(vc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mY(t)}function mY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t5=function(){return!!t})()}function dg(t){return dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dg(t)}function gY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ES(t,e)}function ES(t,e){return ES=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ES(t,e)}function qh(t,e,n){return e=n5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n5(t){var e=yY(t,"string");return vc(e)=="symbol"?e:e+""}function yY(t,e){if(vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Pi=32,BT=(function(t){function e(){return cY(this,e),dY(this,e,arguments)}return gY(e,t),hY(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Pi/2,l=Pi/6,c=Pi/3,f=r.inactive?i:r.color;if(r.type==="plainline")return G.createElement("line",{strokeWidth:4,fill:"none",stroke:f,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Pi,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return G.createElement("path",{strokeWidth:4,fill:"none",stroke:f,d:"M0,".concat(o,"h").concat(c,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*c,",").concat(o,`
            H`).concat(Pi,"M").concat(2*c,",").concat(o,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(c,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return G.createElement("path",{stroke:"none",fill:f,d:"M0,".concat(Pi/8,"h").concat(Pi,"v").concat(Pi*3/4,"h").concat(-Pi,"z"),className:"recharts-legend-icon"});if(G.isValidElement(r.legendIcon)){var h=uY({},r);return delete h.legendIcon,G.cloneElement(r.legendIcon,h)}return G.createElement(UT,{fill:f,cx:o,cy:o,size:Pi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,l=i.iconSize,c=i.layout,f=i.formatter,h=i.inactiveColor,p={x:0,y:0,width:Pi,height:Pi},m={display:c==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(_,E){var S=_.formatter||f,w=vt(qh(qh({"recharts-legend-item":!0},"legend-item-".concat(E),!0),"inactive",_.inactive));if(_.type==="none")return null;var O=nt(_.value)?null:_.value;na(!nt(_.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var I=_.inactive?h:_.color;return G.createElement("li",SS({className:w,style:m,key:"legend-item-".concat(E)},Dl(r.props,_,E)),G.createElement(gS,{width:l,height:l,viewBox:p,style:v},r.renderIcon(_)),G.createElement("span",{className:"recharts-legend-item-text",style:{color:I}},S?S(O,_,E):O))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,l=r.align;if(!i||!i.length)return null;var c={padding:0,margin:0,textAlign:o==="horizontal"?l:"left"};return G.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])})($.PureComponent);qh(BT,"displayName","Legend");qh(BT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var z_,bN;function vY(){if(bN)return z_;bN=1;var t=Ny();function e(){this.__data__=new t,this.size=0}return z_=e,z_}var F_,_N;function bY(){if(_N)return F_;_N=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return F_=t,F_}var H_,xN;function _Y(){if(xN)return H_;xN=1;function t(e){return this.__data__.get(e)}return H_=t,H_}var G_,wN;function xY(){if(wN)return G_;wN=1;function t(e){return this.__data__.has(e)}return G_=t,G_}var K_,SN;function wY(){if(SN)return K_;SN=1;var t=Ny(),e=RT(),n=NT(),r=200;function i(o,l){var c=this.__data__;if(c instanceof t){var f=c.__data__;if(!e||f.length<r-1)return f.push([o,l]),this.size=++c.size,this;c=this.__data__=new n(f)}return c.set(o,l),this.size=c.size,this}return K_=i,K_}var W_,EN;function r5(){if(EN)return W_;EN=1;var t=Ny(),e=vY(),n=bY(),r=_Y(),i=xY(),o=wY();function l(c){var f=this.__data__=new t(c);this.size=f.size}return l.prototype.clear=e,l.prototype.delete=n,l.prototype.get=r,l.prototype.has=i,l.prototype.set=o,W_=l,W_}var Y_,TN;function SY(){if(TN)return Y_;TN=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return Y_=e,Y_}var X_,AN;function EY(){if(AN)return X_;AN=1;function t(e){return this.__data__.has(e)}return X_=t,X_}var Q_,ON;function i5(){if(ON)return Q_;ON=1;var t=NT(),e=SY(),n=EY();function r(i){var o=-1,l=i==null?0:i.length;for(this.__data__=new t;++o<l;)this.add(i[o])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,Q_=r,Q_}var J_,CN;function a5(){if(CN)return J_;CN=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return J_=t,J_}var Z_,IN;function o5(){if(IN)return Z_;IN=1;function t(e,n){return e.has(n)}return Z_=t,Z_}var ex,PN;function s5(){if(PN)return ex;PN=1;var t=i5(),e=a5(),n=o5(),r=1,i=2;function o(l,c,f,h,p,m){var v=f&r,_=l.length,E=c.length;if(_!=E&&!(v&&E>_))return!1;var S=m.get(l),w=m.get(c);if(S&&w)return S==c&&w==l;var O=-1,I=!0,N=f&i?new t:void 0;for(m.set(l,c),m.set(c,l);++O<_;){var L=l[O],C=c[O];if(h)var M=v?h(C,L,O,c,l,m):h(L,C,O,l,c,m);if(M!==void 0){if(M)continue;I=!1;break}if(N){if(!e(c,function(A,P){if(!n(N,P)&&(L===A||p(L,A,f,h,m)))return N.push(P)})){I=!1;break}}else if(!(L===C||p(L,C,f,h,m))){I=!1;break}}return m.delete(l),m.delete(c),I}return ex=o,ex}var tx,RN;function TY(){if(RN)return tx;RN=1;var t=ka(),e=t.Uint8Array;return tx=e,tx}var nx,NN;function AY(){if(NN)return nx;NN=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,o){r[++n]=[o,i]}),r}return nx=t,nx}var rx,kN;function qT(){if(kN)return rx;kN=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return rx=t,rx}var ix,MN;function OY(){if(MN)return ix;MN=1;var t=Md(),e=TY(),n=PT(),r=s5(),i=AY(),o=qT(),l=1,c=2,f="[object Boolean]",h="[object Date]",p="[object Error]",m="[object Map]",v="[object Number]",_="[object RegExp]",E="[object Set]",S="[object String]",w="[object Symbol]",O="[object ArrayBuffer]",I="[object DataView]",N=t?t.prototype:void 0,L=N?N.valueOf:void 0;function C(M,A,P,k,U,D,B){switch(P){case I:if(M.byteLength!=A.byteLength||M.byteOffset!=A.byteOffset)return!1;M=M.buffer,A=A.buffer;case O:return!(M.byteLength!=A.byteLength||!D(new e(M),new e(A)));case f:case h:case v:return n(+M,+A);case p:return M.name==A.name&&M.message==A.message;case _:case S:return M==A+"";case m:var V=i;case E:var Q=k&l;if(V||(V=o),M.size!=A.size&&!Q)return!1;var J=B.get(M);if(J)return J==A;k|=c,B.set(M,A);var H=r(V(M),V(A),k,U,D,B);return B.delete(M),H;case w:if(L)return L.call(M)==L.call(A)}return!1}return ix=C,ix}var ax,jN;function l5(){if(jN)return ax;jN=1;function t(e,n){for(var r=-1,i=n.length,o=e.length;++r<i;)e[o+r]=n[r];return e}return ax=t,ax}var ox,DN;function CY(){if(DN)return ox;DN=1;var t=l5(),e=Kr();function n(r,i,o){var l=i(r);return e(r)?l:t(l,o(r))}return ox=n,ox}var sx,LN;function IY(){if(LN)return sx;LN=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=0,l=[];++r<i;){var c=e[r];n(c,r,e)&&(l[o++]=c)}return l}return sx=t,sx}var lx,VN;function PY(){if(VN)return lx;VN=1;function t(){return[]}return lx=t,lx}var ux,$N;function RY(){if($N)return ux;$N=1;var t=IY(),e=PY(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(l){return l==null?[]:(l=Object(l),t(i(l),function(c){return r.call(l,c)}))}:e;return ux=o,ux}var cx,UN;function NY(){if(UN)return cx;UN=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return cx=t,cx}var fx,BN;function kY(){if(BN)return fx;BN=1;var t=So(),e=Eo(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return fx=r,fx}var hx,qN;function zT(){if(qN)return hx;qN=1;var t=kY(),e=Eo(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=t((function(){return arguments})())?t:function(l){return e(l)&&r.call(l,"callee")&&!i.call(l,"callee")};return hx=o,hx}var gh={exports:{}},dx,zN;function MY(){if(zN)return dx;zN=1;function t(){return!1}return dx=t,dx}gh.exports;var FN;function u5(){return FN||(FN=1,(function(t,e){var n=ka(),r=MY(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,l=o&&o.exports===i,c=l?n.Buffer:void 0,f=c?c.isBuffer:void 0,h=f||r;t.exports=h})(gh,gh.exports)),gh.exports}var px,HN;function FT(){if(HN)return px;HN=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return px=n,px}var mx,GN;function HT(){if(GN)return mx;GN=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return mx=e,mx}var gx,KN;function jY(){if(KN)return gx;KN=1;var t=So(),e=HT(),n=Eo(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Function]",h="[object Map]",p="[object Number]",m="[object Object]",v="[object RegExp]",_="[object Set]",E="[object String]",S="[object WeakMap]",w="[object ArrayBuffer]",O="[object DataView]",I="[object Float32Array]",N="[object Float64Array]",L="[object Int8Array]",C="[object Int16Array]",M="[object Int32Array]",A="[object Uint8Array]",P="[object Uint8ClampedArray]",k="[object Uint16Array]",U="[object Uint32Array]",D={};D[I]=D[N]=D[L]=D[C]=D[M]=D[A]=D[P]=D[k]=D[U]=!0,D[r]=D[i]=D[w]=D[o]=D[O]=D[l]=D[c]=D[f]=D[h]=D[p]=D[m]=D[v]=D[_]=D[E]=D[S]=!1;function B(V){return n(V)&&e(V.length)&&!!D[t(V)]}return gx=B,gx}var yx,WN;function c5(){if(WN)return yx;WN=1;function t(e){return function(n){return e(n)}}return yx=t,yx}var yh={exports:{}};yh.exports;var YN;function DY(){return YN||(YN=1,(function(t,e){var n=P6(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,l=o&&n.process,c=(function(){try{var f=i&&i.require&&i.require("util").types;return f||l&&l.binding&&l.binding("util")}catch{}})();t.exports=c})(yh,yh.exports)),yh.exports}var vx,XN;function f5(){if(XN)return vx;XN=1;var t=jY(),e=c5(),n=DY(),r=n&&n.isTypedArray,i=r?e(r):t;return vx=i,vx}var bx,QN;function LY(){if(QN)return bx;QN=1;var t=NY(),e=zT(),n=Kr(),r=u5(),i=FT(),o=f5(),l=Object.prototype,c=l.hasOwnProperty;function f(h,p){var m=n(h),v=!m&&e(h),_=!m&&!v&&r(h),E=!m&&!v&&!_&&o(h),S=m||v||_||E,w=S?t(h.length,String):[],O=w.length;for(var I in h)(p||c.call(h,I))&&!(S&&(I=="length"||_&&(I=="offset"||I=="parent")||E&&(I=="buffer"||I=="byteLength"||I=="byteOffset")||i(I,O)))&&w.push(I);return w}return bx=f,bx}var _x,JN;function VY(){if(JN)return _x;JN=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return _x=e,_x}var xx,ZN;function h5(){if(ZN)return xx;ZN=1;function t(e,n){return function(r){return e(n(r))}}return xx=t,xx}var wx,ek;function $Y(){if(ek)return wx;ek=1;var t=h5(),e=t(Object.keys,Object);return wx=e,wx}var Sx,tk;function UY(){if(tk)return Sx;tk=1;var t=VY(),e=$Y(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!t(o))return e(o);var l=[];for(var c in Object(o))r.call(o,c)&&c!="constructor"&&l.push(c);return l}return Sx=i,Sx}var Ex,nk;function Dd(){if(nk)return Ex;nk=1;var t=IT(),e=HT();function n(r){return r!=null&&e(r.length)&&!t(r)}return Ex=n,Ex}var Tx,rk;function $y(){if(rk)return Tx;rk=1;var t=LY(),e=UY(),n=Dd();function r(i){return n(i)?t(i):e(i)}return Tx=r,Tx}var Ax,ik;function BY(){if(ik)return Ax;ik=1;var t=CY(),e=RY(),n=$y();function r(i){return t(i,n,e)}return Ax=r,Ax}var Ox,ak;function qY(){if(ak)return Ox;ak=1;var t=BY(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,l,c,f,h,p){var m=c&e,v=t(o),_=v.length,E=t(l),S=E.length;if(_!=S&&!m)return!1;for(var w=_;w--;){var O=v[w];if(!(m?O in l:r.call(l,O)))return!1}var I=p.get(o),N=p.get(l);if(I&&N)return I==l&&N==o;var L=!0;p.set(o,l),p.set(l,o);for(var C=m;++w<_;){O=v[w];var M=o[O],A=l[O];if(f)var P=m?f(A,M,O,l,o,p):f(M,A,O,o,l,p);if(!(P===void 0?M===A||h(M,A,c,f,p):P)){L=!1;break}C||(C=O=="constructor")}if(L&&!C){var k=o.constructor,U=l.constructor;k!=U&&"constructor"in o&&"constructor"in l&&!(typeof k=="function"&&k instanceof k&&typeof U=="function"&&U instanceof U)&&(L=!1)}return p.delete(o),p.delete(l),L}return Ox=i,Ox}var Cx,ok;function zY(){if(ok)return Cx;ok=1;var t=Hl(),e=ka(),n=t(e,"DataView");return Cx=n,Cx}var Ix,sk;function FY(){if(sk)return Ix;sk=1;var t=Hl(),e=ka(),n=t(e,"Promise");return Ix=n,Ix}var Px,lk;function d5(){if(lk)return Px;lk=1;var t=Hl(),e=ka(),n=t(e,"Set");return Px=n,Px}var Rx,uk;function HY(){if(uk)return Rx;uk=1;var t=Hl(),e=ka(),n=t(e,"WeakMap");return Rx=n,Rx}var Nx,ck;function GY(){if(ck)return Nx;ck=1;var t=zY(),e=RT(),n=FY(),r=d5(),i=HY(),o=So(),l=R6(),c="[object Map]",f="[object Object]",h="[object Promise]",p="[object Set]",m="[object WeakMap]",v="[object DataView]",_=l(t),E=l(e),S=l(n),w=l(r),O=l(i),I=o;return(t&&I(new t(new ArrayBuffer(1)))!=v||e&&I(new e)!=c||n&&I(n.resolve())!=h||r&&I(new r)!=p||i&&I(new i)!=m)&&(I=function(N){var L=o(N),C=L==f?N.constructor:void 0,M=C?l(C):"";if(M)switch(M){case _:return v;case E:return c;case S:return h;case w:return p;case O:return m}return L}),Nx=I,Nx}var kx,fk;function KY(){if(fk)return kx;fk=1;var t=r5(),e=s5(),n=OY(),r=qY(),i=GY(),o=Kr(),l=u5(),c=f5(),f=1,h="[object Arguments]",p="[object Array]",m="[object Object]",v=Object.prototype,_=v.hasOwnProperty;function E(S,w,O,I,N,L){var C=o(S),M=o(w),A=C?p:i(S),P=M?p:i(w);A=A==h?m:A,P=P==h?m:P;var k=A==m,U=P==m,D=A==P;if(D&&l(S)){if(!l(w))return!1;C=!0,k=!1}if(D&&!k)return L||(L=new t),C||c(S)?e(S,w,O,I,N,L):n(S,w,A,O,I,N,L);if(!(O&f)){var B=k&&_.call(S,"__wrapped__"),V=U&&_.call(w,"__wrapped__");if(B||V){var Q=B?S.value():S,J=V?w.value():w;return L||(L=new t),N(Q,J,O,I,L)}}return D?(L||(L=new t),r(S,w,O,I,N,L)):!1}return kx=E,kx}var Mx,hk;function GT(){if(hk)return Mx;hk=1;var t=KY(),e=Eo();function n(r,i,o,l,c){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,o,l,n,c)}return Mx=n,Mx}var jx,dk;function WY(){if(dk)return jx;dk=1;var t=r5(),e=GT(),n=1,r=2;function i(o,l,c,f){var h=c.length,p=h,m=!f;if(o==null)return!p;for(o=Object(o);h--;){var v=c[h];if(m&&v[2]?v[1]!==o[v[0]]:!(v[0]in o))return!1}for(;++h<p;){v=c[h];var _=v[0],E=o[_],S=v[1];if(m&&v[2]){if(E===void 0&&!(_ in o))return!1}else{var w=new t;if(f)var O=f(E,S,_,o,l,w);if(!(O===void 0?e(S,E,n|r,f,w):O))return!1}}return!0}return jx=i,jx}var Dx,pk;function p5(){if(pk)return Dx;pk=1;var t=Cs();function e(n){return n===n&&!t(n)}return Dx=e,Dx}var Lx,mk;function YY(){if(mk)return Lx;mk=1;var t=p5(),e=$y();function n(r){for(var i=e(r),o=i.length;o--;){var l=i[o],c=r[l];i[o]=[l,c,t(c)]}return i}return Lx=n,Lx}var Vx,gk;function m5(){if(gk)return Vx;gk=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return Vx=t,Vx}var $x,yk;function XY(){if(yk)return $x;yk=1;var t=WY(),e=YY(),n=m5();function r(i){var o=e(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(l){return l===i||t(l,i,o)}}return $x=r,$x}var Ux,vk;function QY(){if(vk)return Ux;vk=1;function t(e,n){return e!=null&&n in Object(e)}return Ux=t,Ux}var Bx,bk;function JY(){if(bk)return Bx;bk=1;var t=M6(),e=zT(),n=Kr(),r=FT(),i=HT(),o=My();function l(c,f,h){f=t(f,c);for(var p=-1,m=f.length,v=!1;++p<m;){var _=o(f[p]);if(!(v=c!=null&&h(c,_)))break;c=c[_]}return v||++p!=m?v:(m=c==null?0:c.length,!!m&&i(m)&&r(_,m)&&(n(c)||e(c)))}return Bx=l,Bx}var qx,_k;function ZY(){if(_k)return qx;_k=1;var t=QY(),e=JY();function n(r,i){return r!=null&&e(r,i,t)}return qx=n,qx}var zx,xk;function eX(){if(xk)return zx;xk=1;var t=GT(),e=j6(),n=ZY(),r=CT(),i=p5(),o=m5(),l=My(),c=1,f=2;function h(p,m){return r(p)&&i(m)?o(l(p),m):function(v){var _=e(v,p);return _===void 0&&_===m?n(v,p):t(m,_,c|f)}}return zx=h,zx}var Fx,wk;function Zc(){if(wk)return Fx;wk=1;function t(e){return e}return Fx=t,Fx}var Hx,Sk;function tX(){if(Sk)return Hx;Sk=1;function t(e){return function(n){return n==null?void 0:n[e]}}return Hx=t,Hx}var Gx,Ek;function nX(){if(Ek)return Gx;Ek=1;var t=MT();function e(n){return function(r){return t(r,n)}}return Gx=e,Gx}var Kx,Tk;function rX(){if(Tk)return Kx;Tk=1;var t=tX(),e=nX(),n=CT(),r=My();function i(o){return n(o)?t(r(o)):e(o)}return Kx=i,Kx}var Wx,Ak;function Ma(){if(Ak)return Wx;Ak=1;var t=XY(),e=eX(),n=Zc(),r=Kr(),i=rX();function o(l){return typeof l=="function"?l:l==null?n:typeof l=="object"?r(l)?e(l[0],l[1]):t(l):i(l)}return Wx=o,Wx}var Yx,Ok;function g5(){if(Ok)return Yx;Ok=1;function t(e,n,r,i){for(var o=e.length,l=r+(i?1:-1);i?l--:++l<o;)if(n(e[l],l,e))return l;return-1}return Yx=t,Yx}var Xx,Ck;function iX(){if(Ck)return Xx;Ck=1;function t(e){return e!==e}return Xx=t,Xx}var Qx,Ik;function aX(){if(Ik)return Qx;Ik=1;function t(e,n,r){for(var i=r-1,o=e.length;++i<o;)if(e[i]===n)return i;return-1}return Qx=t,Qx}var Jx,Pk;function oX(){if(Pk)return Jx;Pk=1;var t=g5(),e=iX(),n=aX();function r(i,o,l){return o===o?n(i,o,l):t(i,e,l)}return Jx=r,Jx}var Zx,Rk;function sX(){if(Rk)return Zx;Rk=1;var t=oX();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return Zx=e,Zx}var ew,Nk;function lX(){if(Nk)return ew;Nk=1;function t(e,n,r){for(var i=-1,o=e==null?0:e.length;++i<o;)if(r(n,e[i]))return!0;return!1}return ew=t,ew}var tw,kk;function uX(){if(kk)return tw;kk=1;function t(){}return tw=t,tw}var nw,Mk;function cX(){if(Mk)return nw;Mk=1;var t=d5(),e=uX(),n=qT(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(o){return new t(o)}:e;return nw=i,nw}var rw,jk;function fX(){if(jk)return rw;jk=1;var t=i5(),e=sX(),n=lX(),r=o5(),i=cX(),o=qT(),l=200;function c(f,h,p){var m=-1,v=e,_=f.length,E=!0,S=[],w=S;if(p)E=!1,v=n;else if(_>=l){var O=h?null:i(f);if(O)return o(O);E=!1,v=r,w=new t}else w=h?[]:S;e:for(;++m<_;){var I=f[m],N=h?h(I):I;if(I=p||I!==0?I:0,E&&N===N){for(var L=w.length;L--;)if(w[L]===N)continue e;h&&w.push(N),S.push(I)}else v(w,N,p)||(w!==S&&w.push(N),S.push(I))}return S}return rw=c,rw}var iw,Dk;function hX(){if(Dk)return iw;Dk=1;var t=Ma(),e=fX();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return iw=n,iw}var dX=hX();const Lk=Kt(dX);function y5(t,e,n){return e===!0?Lk(t,n):nt(e)?Lk(t,e):t}function bc(t){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(t)}var pX=["ref"];function Vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ro(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vk(Object(n),!0).forEach(function(r){Uy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $k(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b5(r.key),r)}}function gX(t,e,n){return e&&$k(t.prototype,e),n&&$k(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yX(t,e,n){return e=pg(e),vX(t,v5()?Reflect.construct(e,n||[],pg(t).constructor):e.apply(t,n))}function vX(t,e){if(e&&(bc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bX(t)}function bX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v5=function(){return!!t})()}function pg(t){return pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pg(t)}function _X(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TS(t,e)}function TS(t,e){return TS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TS(t,e)}function Uy(t,e,n){return e=b5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b5(t){var e=xX(t,"string");return bc(e)=="symbol"?e:e+""}function xX(t,e){if(bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function wX(t,e){if(t==null)return{};var n=SX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function EX(t){return t.value}function TX(t,e){if(G.isValidElement(t))return G.cloneElement(t,e);if(typeof t=="function")return G.createElement(t,e);e.ref;var n=wX(e,pX);return G.createElement(BT,n)}var Uk=1,vs=(function(t){function e(){var n;mX(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=yX(this,e,[].concat(i)),Uy(n,"lastBoundingBox",{width:-1,height:-1}),n}return _X(e,t),gX(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Uk||Math.abs(i.height-this.lastBoundingBox.height)>Uk)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ro({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,l=i.align,c=i.verticalAlign,f=i.margin,h=i.chartWidth,p=i.chartHeight,m,v;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(l==="center"&&o==="vertical"){var _=this.getBBoxSnapshot();m={left:((h||0)-_.width)/2}}else m=l==="right"?{right:f&&f.right||0}:{left:f&&f.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(c==="middle"){var E=this.getBBoxSnapshot();v={top:((p||0)-E.height)/2}}else v=c==="bottom"?{bottom:f&&f.bottom||0}:{top:f&&f.top||0};return ro(ro({},m),v)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,l=i.width,c=i.height,f=i.wrapperStyle,h=i.payloadUniqBy,p=i.payload,m=ro(ro({position:"absolute",width:l||"auto",height:c||"auto"},this.getDefaultPosition(f)),f);return G.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(_){r.wrapperNode=_}},TX(o,ro(ro({},this.props),{},{payload:y5(p,h,EX)})))}}],[{key:"getWithHeight",value:function(r,i){var o=ro(ro({},this.defaultProps),r.props),l=o.layout;return l==="vertical"&&Te(r.props.height)?{height:r.props.height}:l==="horizontal"?{width:r.props.width||i}:null}}])})($.PureComponent);Uy(vs,"displayName","Legend");Uy(vs,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var aw,Bk;function AX(){if(Bk)return aw;Bk=1;var t=Md(),e=zT(),n=Kr(),r=t?t.isConcatSpreadable:void 0;function i(o){return n(o)||e(o)||!!(r&&o&&o[r])}return aw=i,aw}var ow,qk;function _5(){if(qk)return ow;qk=1;var t=l5(),e=AX();function n(r,i,o,l,c){var f=-1,h=r.length;for(o||(o=e),c||(c=[]);++f<h;){var p=r[f];i>0&&o(p)?i>1?n(p,i-1,o,l,c):t(c,p):l||(c[c.length]=p)}return c}return ow=n,ow}var sw,zk;function OX(){if(zk)return sw;zk=1;function t(e){return function(n,r,i){for(var o=-1,l=Object(n),c=i(n),f=c.length;f--;){var h=c[e?f:++o];if(r(l[h],h,l)===!1)break}return n}}return sw=t,sw}var lw,Fk;function CX(){if(Fk)return lw;Fk=1;var t=OX(),e=t();return lw=e,lw}var uw,Hk;function x5(){if(Hk)return uw;Hk=1;var t=CX(),e=$y();function n(r,i){return r&&t(r,i,e)}return uw=n,uw}var cw,Gk;function IX(){if(Gk)return cw;Gk=1;var t=Dd();function e(n,r){return function(i,o){if(i==null)return i;if(!t(i))return n(i,o);for(var l=i.length,c=r?l:-1,f=Object(i);(r?c--:++c<l)&&o(f[c],c,f)!==!1;);return i}}return cw=e,cw}var fw,Kk;function KT(){if(Kk)return fw;Kk=1;var t=x5(),e=IX(),n=e(t);return fw=n,fw}var hw,Wk;function w5(){if(Wk)return hw;Wk=1;var t=KT(),e=Dd();function n(r,i){var o=-1,l=e(r)?Array(r.length):[];return t(r,function(c,f,h){l[++o]=i(c,f,h)}),l}return hw=n,hw}var dw,Yk;function PX(){if(Yk)return dw;Yk=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return dw=t,dw}var pw,Xk;function RX(){if(Xk)return pw;Xk=1;var t=Xc();function e(n,r){if(n!==r){var i=n!==void 0,o=n===null,l=n===n,c=t(n),f=r!==void 0,h=r===null,p=r===r,m=t(r);if(!h&&!m&&!c&&n>r||c&&f&&p&&!h&&!m||o&&f&&p||!i&&p||!l)return 1;if(!o&&!c&&!m&&n<r||m&&i&&l&&!o&&!c||h&&i&&l||!f&&l||!p)return-1}return 0}return pw=e,pw}var mw,Qk;function NX(){if(Qk)return mw;Qk=1;var t=RX();function e(n,r,i){for(var o=-1,l=n.criteria,c=r.criteria,f=l.length,h=i.length;++o<f;){var p=t(l[o],c[o]);if(p){if(o>=h)return p;var m=i[o];return p*(m=="desc"?-1:1)}}return n.index-r.index}return mw=e,mw}var gw,Jk;function kX(){if(Jk)return gw;Jk=1;var t=kT(),e=MT(),n=Ma(),r=w5(),i=PX(),o=c5(),l=NX(),c=Zc(),f=Kr();function h(p,m,v){m.length?m=t(m,function(S){return f(S)?function(w){return e(w,S.length===1?S[0]:S)}:S}):m=[c];var _=-1;m=t(m,o(n));var E=r(p,function(S,w,O){var I=t(m,function(N){return N(S)});return{criteria:I,index:++_,value:S}});return i(E,function(S,w){return l(S,w,v)})}return gw=h,gw}var yw,Zk;function MX(){if(Zk)return yw;Zk=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return yw=t,yw}var vw,eM;function jX(){if(eM)return vw;eM=1;var t=MX(),e=Math.max;function n(r,i,o){return i=e(i===void 0?r.length-1:i,0),function(){for(var l=arguments,c=-1,f=e(l.length-i,0),h=Array(f);++c<f;)h[c]=l[i+c];c=-1;for(var p=Array(i+1);++c<i;)p[c]=l[c];return p[i]=o(h),t(r,this,p)}}return vw=n,vw}var bw,tM;function DX(){if(tM)return bw;tM=1;function t(e){return function(){return e}}return bw=t,bw}var _w,nM;function S5(){if(nM)return _w;nM=1;var t=Hl(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return _w=e,_w}var xw,rM;function LX(){if(rM)return xw;rM=1;var t=DX(),e=S5(),n=Zc(),r=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:n;return xw=r,xw}var ww,iM;function VX(){if(iM)return ww;iM=1;var t=800,e=16,n=Date.now;function r(i){var o=0,l=0;return function(){var c=n(),f=e-(c-l);if(l=c,f>0){if(++o>=t)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return ww=r,ww}var Sw,aM;function $X(){if(aM)return Sw;aM=1;var t=LX(),e=VX(),n=e(t);return Sw=n,Sw}var Ew,oM;function UX(){if(oM)return Ew;oM=1;var t=Zc(),e=jX(),n=$X();function r(i,o){return n(e(i,o,t),i+"")}return Ew=r,Ew}var Tw,sM;function By(){if(sM)return Tw;sM=1;var t=PT(),e=Dd(),n=FT(),r=Cs();function i(o,l,c){if(!r(c))return!1;var f=typeof l;return(f=="number"?e(c)&&n(l,c.length):f=="string"&&l in c)?t(c[l],o):!1}return Tw=i,Tw}var Aw,lM;function BX(){if(lM)return Aw;lM=1;var t=_5(),e=kX(),n=UX(),r=By(),i=n(function(o,l){if(o==null)return[];var c=l.length;return c>1&&r(o,l[0],l[1])?l=[]:c>2&&r(l[0],l[1],l[2])&&(l=[l[0]]),e(o,t(l,1),[])});return Aw=i,Aw}var qX=BX();const WT=Kt(qX);function zh(t){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zh(t)}function AS(){return AS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AS.apply(this,arguments)}function zX(t,e){return KX(t)||GX(t,e)||HX(t,e)||FX()}function FX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HX(t,e){if(t){if(typeof t=="string")return uM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uM(t,e)}}function uM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function GX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,l,c=[],f=!0,h=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(f=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function KX(t){if(Array.isArray(t))return t}function cM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ow(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cM(Object(n),!0).forEach(function(r){WX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WX(t,e,n){return e=YX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YX(t){var e=XX(t,"string");return zh(e)=="symbol"?e:e+""}function XX(t,e){if(zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QX(t){return Array.isArray(t)&&Qn(t[0])&&Qn(t[1])?t.join(" ~ "):t}var JX=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,l=e.itemStyle,c=l===void 0?{}:l,f=e.labelStyle,h=f===void 0?{}:f,p=e.payload,m=e.formatter,v=e.itemSorter,_=e.wrapperClassName,E=e.labelClassName,S=e.label,w=e.labelFormatter,O=e.accessibilityLayer,I=O===void 0?!1:O,N=function(){if(p&&p.length){var B={padding:0,margin:0},V=(v?WT(p,v):p).map(function(Q,J){if(Q.type==="none")return null;var H=Ow({display:"block",paddingTop:4,paddingBottom:4,color:Q.color||"#000"},c),Y=Q.formatter||m||QX,ee=Q.value,ce=Q.name,_e=ee,F=ce;if(Y&&_e!=null&&F!=null){var W=Y(ee,ce,Q,J,p);if(Array.isArray(W)){var se=zX(W,2);_e=se[0],F=se[1]}else _e=W}return G.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(J),style:H},Qn(F)?G.createElement("span",{className:"recharts-tooltip-item-name"},F):null,Qn(F)?G.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,G.createElement("span",{className:"recharts-tooltip-item-value"},_e),G.createElement("span",{className:"recharts-tooltip-item-unit"},Q.unit||""))});return G.createElement("ul",{className:"recharts-tooltip-item-list",style:B},V)}return null},L=Ow({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),C=Ow({margin:0},h),M=!ut(S),A=M?S:"",P=vt("recharts-default-tooltip",_),k=vt("recharts-tooltip-label",E);M&&w&&p!==void 0&&p!==null&&(A=w(S,p));var U=I?{role:"status","aria-live":"assertive"}:{};return G.createElement("div",AS({className:P,style:L},U),G.createElement("p",{className:k,style:C},G.isValidElement(A)?A:"".concat(A)),N())};function Fh(t){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(t)}function pm(t,e,n){return e=ZX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZX(t){var e=eQ(t,"string");return Fh(e)=="symbol"?e:e+""}function eQ(t,e){if(Fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zf="recharts-tooltip-wrapper",tQ={visibility:"hidden"};function nQ(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return vt(Zf,pm(pm(pm(pm({},"".concat(Zf,"-right"),Te(n)&&e&&Te(e.x)&&n>=e.x),"".concat(Zf,"-left"),Te(n)&&e&&Te(e.x)&&n<e.x),"".concat(Zf,"-bottom"),Te(r)&&e&&Te(e.y)&&r>=e.y),"".concat(Zf,"-top"),Te(r)&&e&&Te(e.y)&&r<e.y))}function fM(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,l=t.reverseDirection,c=t.tooltipDimension,f=t.viewBox,h=t.viewBoxDimension;if(o&&Te(o[r]))return o[r];var p=n[r]-c-i,m=n[r]+i;if(e[r])return l[r]?p:m;if(l[r]){var v=p,_=f[r];return v<_?Math.max(m,f[r]):Math.max(p,f[r])}var E=m+c,S=f[r]+h;return E>S?Math.max(p,f[r]):Math.max(m,f[r])}function rQ(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function iQ(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,l=t.tooltipBox,c=t.useTranslate3d,f=t.viewBox,h,p,m;return l.height>0&&l.width>0&&n?(p=fM({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),m=fM({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),h=rQ({translateX:p,translateY:m,useTranslate3d:c})):h=tQ,{cssProperties:h,cssClasses:nQ({translateX:p,translateY:m,coordinate:n})}}function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function hM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hM(Object(n),!0).forEach(function(r){CS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T5(r.key),r)}}function sQ(t,e,n){return e&&oQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lQ(t,e,n){return e=mg(e),uQ(t,E5()?Reflect.construct(e,n||[],mg(t).constructor):e.apply(t,n))}function uQ(t,e){if(e&&(_c(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cQ(t)}function cQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E5=function(){return!!t})()}function mg(t){return mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mg(t)}function fQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OS(t,e)}function OS(t,e){return OS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OS(t,e)}function CS(t,e,n){return e=T5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T5(t){var e=hQ(t,"string");return _c(e)=="symbol"?e:e+""}function hQ(t,e){if(_c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pM=1,dQ=(function(t){function e(){var n;aQ(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=lQ(this,e,[].concat(i)),CS(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),CS(n,"handleKeyDown",function(l){if(l.key==="Escape"){var c,f,h,p;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(f=n.props.coordinate)===null||f===void 0?void 0:f.x)!==null&&c!==void 0?c:0,y:(h=(p=n.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&h!==void 0?h:0}})}}),n}return fQ(e,t),sQ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>pM||Math.abs(r.height-this.state.lastBoundingBox.height)>pM)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,l=i.allowEscapeViewBox,c=i.animationDuration,f=i.animationEasing,h=i.children,p=i.coordinate,m=i.hasPayload,v=i.isAnimationActive,_=i.offset,E=i.position,S=i.reverseDirection,w=i.useTranslate3d,O=i.viewBox,I=i.wrapperStyle,N=iQ({allowEscapeViewBox:l,coordinate:p,offsetTopLeft:_,position:E,reverseDirection:S,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:O}),L=N.cssClasses,C=N.cssProperties,M=dM(dM({transition:v&&o?"transform ".concat(c,"ms ").concat(f):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&m?"visible":"hidden",position:"absolute",top:0,left:0},I);return G.createElement("div",{tabIndex:-1,className:L,style:M,ref:function(P){r.wrapperNode=P}},h)}}])})($.PureComponent),pQ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Gl={isSsr:pQ()};function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function mM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mM(Object(n),!0).forEach(function(r){YT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O5(r.key),r)}}function yQ(t,e,n){return e&&gQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vQ(t,e,n){return e=gg(e),bQ(t,A5()?Reflect.construct(e,n||[],gg(t).constructor):e.apply(t,n))}function bQ(t,e){if(e&&(xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Q(t)}function _Q(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A5=function(){return!!t})()}function gg(t){return gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gg(t)}function xQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IS(t,e)}function IS(t,e){return IS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},IS(t,e)}function YT(t,e,n){return e=O5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O5(t){var e=wQ(t,"string");return xc(e)=="symbol"?e:e+""}function wQ(t,e){if(xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function SQ(t){return t.dataKey}function EQ(t,e){return G.isValidElement(t)?G.cloneElement(t,e):typeof t=="function"?G.createElement(t,e):G.createElement(JX,e)}var Yi=(function(t){function e(){return mQ(this,e),vQ(this,e,arguments)}return xQ(e,t),yQ(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,l=i.allowEscapeViewBox,c=i.animationDuration,f=i.animationEasing,h=i.content,p=i.coordinate,m=i.filterNull,v=i.isAnimationActive,_=i.offset,E=i.payload,S=i.payloadUniqBy,w=i.position,O=i.reverseDirection,I=i.useTranslate3d,N=i.viewBox,L=i.wrapperStyle,C=E??[];m&&C.length&&(C=y5(E.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),S,SQ));var M=C.length>0;return G.createElement(dQ,{allowEscapeViewBox:l,animationDuration:c,animationEasing:f,isAnimationActive:v,active:o,coordinate:p,hasPayload:M,offset:_,position:w,reverseDirection:O,useTranslate3d:I,viewBox:N,wrapperStyle:L},EQ(h,gM(gM({},this.props),{},{payload:C})))}}])})($.PureComponent);YT(Yi,"displayName","Tooltip");YT(Yi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Gl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Cw,yM;function TQ(){if(yM)return Cw;yM=1;var t=ka(),e=function(){return t.Date.now()};return Cw=e,Cw}var Iw,vM;function AQ(){if(vM)return Iw;vM=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return Iw=e,Iw}var Pw,bM;function OQ(){if(bM)return Pw;bM=1;var t=AQ(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return Pw=n,Pw}var Rw,_M;function C5(){if(_M)return Rw;_M=1;var t=OQ(),e=Cs(),n=Xc(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;function f(h){if(typeof h=="number")return h;if(n(h))return r;if(e(h)){var p=typeof h.valueOf=="function"?h.valueOf():h;h=e(p)?p+"":p}if(typeof h!="string")return h===0?h:+h;h=t(h);var m=o.test(h);return m||l.test(h)?c(h.slice(2),m?2:8):i.test(h)?r:+h}return Rw=f,Rw}var Nw,xM;function CQ(){if(xM)return Nw;xM=1;var t=Cs(),e=TQ(),n=C5(),r="Expected a function",i=Math.max,o=Math.min;function l(c,f,h){var p,m,v,_,E,S,w=0,O=!1,I=!1,N=!0;if(typeof c!="function")throw new TypeError(r);f=n(f)||0,t(h)&&(O=!!h.leading,I="maxWait"in h,v=I?i(n(h.maxWait)||0,f):v,N="trailing"in h?!!h.trailing:N);function L(V){var Q=p,J=m;return p=m=void 0,w=V,_=c.apply(J,Q),_}function C(V){return w=V,E=setTimeout(P,f),O?L(V):_}function M(V){var Q=V-S,J=V-w,H=f-Q;return I?o(H,v-J):H}function A(V){var Q=V-S,J=V-w;return S===void 0||Q>=f||Q<0||I&&J>=v}function P(){var V=e();if(A(V))return k(V);E=setTimeout(P,M(V))}function k(V){return E=void 0,N&&p?L(V):(p=m=void 0,_)}function U(){E!==void 0&&clearTimeout(E),w=0,p=S=m=E=void 0}function D(){return E===void 0?_:k(e())}function B(){var V=e(),Q=A(V);if(p=arguments,m=this,S=V,Q){if(E===void 0)return C(S);if(I)return clearTimeout(E),E=setTimeout(P,f),L(S)}return E===void 0&&(E=setTimeout(P,f)),_}return B.cancel=U,B.flush=D,B}return Nw=l,Nw}var kw,wM;function IQ(){if(wM)return kw;wM=1;var t=CQ(),e=Cs(),n="Expected a function";function r(i,o,l){var c=!0,f=!0;if(typeof i!="function")throw new TypeError(n);return e(l)&&(c="leading"in l?!!l.leading:c,f="trailing"in l?!!l.trailing:f),t(i,o,{leading:c,maxWait:o,trailing:f})}return kw=r,kw}var PQ=IQ();const I5=Kt(PQ);function Hh(t){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hh(t)}function SM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SM(Object(n),!0).forEach(function(r){RQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RQ(t,e,n){return e=NQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NQ(t){var e=kQ(t,"string");return Hh(e)=="symbol"?e:e+""}function kQ(t,e){if(Hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MQ(t,e){return VQ(t)||LQ(t,e)||DQ(t,e)||jQ()}function jQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DQ(t,e){if(t){if(typeof t=="string")return EM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EM(t,e)}}function EM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,l,c=[],f=!0,h=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(f=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function VQ(t){if(Array.isArray(t))return t}var P5=$.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,l=o===void 0?"100%":o,c=t.height,f=c===void 0?"100%":c,h=t.minWidth,p=h===void 0?0:h,m=t.minHeight,v=t.maxHeight,_=t.children,E=t.debounce,S=E===void 0?0:E,w=t.id,O=t.className,I=t.onResize,N=t.style,L=N===void 0?{}:N,C=$.useRef(null),M=$.useRef();M.current=I,$.useImperativeHandle(e,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var A=$.useState({containerWidth:i.width,containerHeight:i.height}),P=MQ(A,2),k=P[0],U=P[1],D=$.useCallback(function(V,Q){U(function(J){var H=Math.round(V),Y=Math.round(Q);return J.containerWidth===H&&J.containerHeight===Y?J:{containerWidth:H,containerHeight:Y}})},[]);$.useEffect(function(){var V=function(ce){var _e,F=ce[0].contentRect,W=F.width,se=F.height;D(W,se),(_e=M.current)===null||_e===void 0||_e.call(M,W,se)};S>0&&(V=I5(V,S,{trailing:!0,leading:!1}));var Q=new ResizeObserver(V),J=C.current.getBoundingClientRect(),H=J.width,Y=J.height;return D(H,Y),Q.observe(C.current),function(){Q.disconnect()}},[D,S]);var B=$.useMemo(function(){var V=k.containerWidth,Q=k.containerHeight;if(V<0||Q<0)return null;na(xl(l)||xl(f),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,f),na(!n||n>0,"The aspect(%s) must be greater than zero.",n);var J=xl(l)?V:l,H=xl(f)?Q:f;n&&n>0&&(J?H=J/n:H&&(J=H*n),v&&H>v&&(H=v)),na(J>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,J,H,l,f,p,m,n);var Y=!Array.isArray(_)&&fo(_.type).endsWith("Chart");return G.Children.map(_,function(ee){return G.isValidElement(ee)?$.cloneElement(ee,mm({width:J,height:H},Y?{style:mm({height:"100%",width:"100%",maxHeight:H,maxWidth:J},ee.props.style)}:{})):ee})},[n,_,f,v,m,p,k,l]);return G.createElement("div",{id:w?"".concat(w):void 0,className:vt("recharts-responsive-container",O),style:mm(mm({},L),{},{width:l,height:f,minWidth:p,minHeight:m,maxHeight:v}),ref:C},B)}),qy=function(e){return null};qy.displayName="Cell";function Gh(t){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gh(t)}function TM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TM(Object(n),!0).forEach(function(r){$Q(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Q(t,e,n){return e=UQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UQ(t){var e=BQ(t,"string");return Gh(e)=="symbol"?e:e+""}function BQ(t,e){if(Gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $u={widthCache:{},cacheCount:0},qQ=2e3,zQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},AM="recharts_measurement_span";function FQ(t){var e=PS({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Ah=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Gl.isSsr)return{width:0,height:0};var r=FQ(n),i=JSON.stringify({text:e,copyStyle:r});if($u.widthCache[i])return $u.widthCache[i];try{var o=document.getElementById(AM);o||(o=document.createElement("span"),o.setAttribute("id",AM),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var l=PS(PS({},zQ),r);Object.assign(o.style,l),o.textContent="".concat(e);var c=o.getBoundingClientRect(),f={width:c.width,height:c.height};return $u.widthCache[i]=f,++$u.cacheCount>qQ&&($u.cacheCount=0,$u.widthCache={}),f}catch{return{width:0,height:0}}},HQ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Kh(t){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kh(t)}function yg(t,e){return YQ(t)||WQ(t,e)||KQ(t,e)||GQ()}function GQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KQ(t,e){if(t){if(typeof t=="string")return OM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OM(t,e)}}function OM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function WQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,l,c=[],f=!0,h=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function YQ(t){if(Array.isArray(t))return t}function XQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JQ(r.key),r)}}function QQ(t,e,n){return e&&CM(t.prototype,e),n&&CM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function JQ(t){var e=ZQ(t,"string");return Kh(e)=="symbol"?e:e+""}function ZQ(t,e){if(Kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var IM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,PM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,tJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,R5={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},nJ=Object.keys(R5),Yu="NaN";function rJ(t,e){return t*R5[e]}var gm=(function(){function t(e,n){XQ(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!eJ.test(n)&&(this.num=NaN,this.unit=""),nJ.includes(n)&&(this.num=rJ(e,n),this.unit="px")}return QQ(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=tJ.exec(n))!==null&&r!==void 0?r:[],o=yg(i,3),l=o[1],c=o[2];return new t(parseFloat(l),c??"")}}])})();function N5(t){if(t.includes(Yu))return Yu;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=IM.exec(e))!==null&&n!==void 0?n:[],i=yg(r,4),o=i[1],l=i[2],c=i[3],f=gm.parse(o??""),h=gm.parse(c??""),p=l==="*"?f.multiply(h):f.divide(h);if(p.isNaN())return Yu;e=e.replace(IM,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,v=(m=PM.exec(e))!==null&&m!==void 0?m:[],_=yg(v,4),E=_[1],S=_[2],w=_[3],O=gm.parse(E??""),I=gm.parse(w??""),N=S==="+"?O.add(I):O.subtract(I);if(N.isNaN())return Yu;e=e.replace(PM,N.toString())}return e}var RM=/\(([^()]*)\)/;function iJ(t){for(var e=t;e.includes("(");){var n=RM.exec(e),r=yg(n,2),i=r[1];e=e.replace(RM,N5(i))}return e}function aJ(t){var e=t.replace(/\s+/g,"");return e=iJ(e),e=N5(e),e}function oJ(t){try{return aJ(t)}catch{return Yu}}function Mw(t){var e=oJ(t.slice(5,-1));return e===Yu?"":e}var sJ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],lJ=["dx","dy","angle","className","breakAll"];function RS(){return RS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RS.apply(this,arguments)}function NM(t,e){if(t==null)return{};var n=uJ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kM(t,e){return dJ(t)||hJ(t,e)||fJ(t,e)||cJ()}function cJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fJ(t,e){if(t){if(typeof t=="string")return MM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MM(t,e)}}function MM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,l,c=[],f=!0,h=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function dJ(t){if(Array.isArray(t))return t}var k5=/[ \f\n\r\t\v\u2028\u2029]+/,M5=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];ut(n)||(r?o=n.toString().split(""):o=n.toString().split(k5));var l=o.map(function(f){return{word:f,width:Ah(f,i).width}}),c=r?0:Ah("",i).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}},pJ=function(e,n,r,i,o){var l=e.maxLines,c=e.children,f=e.style,h=e.breakAll,p=Te(l),m=c,v=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return J.reduce(function(H,Y){var ee=Y.word,ce=Y.width,_e=H[H.length-1];if(_e&&(i==null||o||_e.width+ce+r<Number(i)))_e.words.push(ee),_e.width+=ce+r;else{var F={words:[ee],width:ce};H.push(F)}return H},[])},_=v(n),E=function(J){return J.reduce(function(H,Y){return H.width>Y.width?H:Y})};if(!p)return _;for(var S="",w=function(J){var H=m.slice(0,J),Y=M5({breakAll:h,style:f,children:H+S}).wordsWithComputedWidth,ee=v(Y),ce=ee.length>l||E(ee).width>Number(i);return[ce,ee]},O=0,I=m.length-1,N=0,L;O<=I&&N<=m.length-1;){var C=Math.floor((O+I)/2),M=C-1,A=w(M),P=kM(A,2),k=P[0],U=P[1],D=w(C),B=kM(D,1),V=B[0];if(!k&&!V&&(O=C+1),k&&V&&(I=C-1),!k&&V){L=U;break}N++}return L||_},jM=function(e){var n=ut(e)?[]:e.toString().split(k5);return[{words:n}]},mJ=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,l=e.breakAll,c=e.maxLines;if((n||r)&&!Gl.isSsr){var f,h,p=M5({breakAll:l,children:i,style:o});if(p){var m=p.wordsWithComputedWidth,v=p.spaceWidth;f=m,h=v}else return jM(i);return pJ({breakAll:l,children:i,maxLines:c,style:o},f,h,n,r)}return jM(i)},DM="#808080",Ll=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,l=e.lineHeight,c=l===void 0?"1em":l,f=e.capHeight,h=f===void 0?"0.71em":f,p=e.scaleToFit,m=p===void 0?!1:p,v=e.textAnchor,_=v===void 0?"start":v,E=e.verticalAnchor,S=E===void 0?"end":E,w=e.fill,O=w===void 0?DM:w,I=NM(e,sJ),N=$.useMemo(function(){return mJ({breakAll:I.breakAll,children:I.children,maxLines:I.maxLines,scaleToFit:m,style:I.style,width:I.width})},[I.breakAll,I.children,I.maxLines,m,I.style,I.width]),L=I.dx,C=I.dy,M=I.angle,A=I.className,P=I.breakAll,k=NM(I,lJ);if(!Qn(r)||!Qn(o))return null;var U=r+(Te(L)?L:0),D=o+(Te(C)?C:0),B;switch(S){case"start":B=Mw("calc(".concat(h,")"));break;case"middle":B=Mw("calc(".concat((N.length-1)/2," * -").concat(c," + (").concat(h," / 2))"));break;default:B=Mw("calc(".concat(N.length-1," * -").concat(c,")"));break}var V=[];if(m){var Q=N[0].width,J=I.width;V.push("scale(".concat((Te(J)?J/Q:1)/Q,")"))}return M&&V.push("rotate(".concat(M,", ").concat(U,", ").concat(D,")")),V.length&&(k.transform=V.join(" ")),G.createElement("text",RS({},Qe(k,!0),{x:U,y:D,className:vt("recharts-text",A),textAnchor:_,fill:O.includes("url")?DM:O}),N.map(function(H,Y){var ee=H.words.join(P?"":" ");return G.createElement("tspan",{x:U,dy:Y===0?B:c,key:"".concat(ee,"-").concat(Y)},ee)}))};function bs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function gJ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function XT(t){let e,n,r;t.length!==2?(e=bs,n=(c,f)=>bs(t(c),f),r=(c,f)=>t(c)-f):(e=t===bs||t===gJ?t:yJ,n=t,r=t);function i(c,f,h=0,p=c.length){if(h<p){if(e(f,f)!==0)return p;do{const m=h+p>>>1;n(c[m],f)<0?h=m+1:p=m}while(h<p)}return h}function o(c,f,h=0,p=c.length){if(h<p){if(e(f,f)!==0)return p;do{const m=h+p>>>1;n(c[m],f)<=0?h=m+1:p=m}while(h<p)}return h}function l(c,f,h=0,p=c.length){const m=i(c,f,h,p-1);return m>h&&r(c[m-1],f)>-r(c[m],f)?m-1:m}return{left:i,center:l,right:o}}function yJ(){return 0}function j5(t){return t===null?NaN:+t}function*vJ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const bJ=XT(bs),Ld=bJ.right;XT(j5).center;class LM extends Map{constructor(e,n=wJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(VM(this,e))}has(e){return super.has(VM(this,e))}set(e,n){return super.set(_J(this,e),n)}delete(e){return super.delete(xJ(this,e))}}function VM({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function _J({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function xJ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function wJ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function SJ(t=bs){if(t===bs)return D5;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function D5(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const EJ=Math.sqrt(50),TJ=Math.sqrt(10),AJ=Math.sqrt(2);function vg(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),l=o>=EJ?10:o>=TJ?5:o>=AJ?2:1;let c,f,h;return i<0?(h=Math.pow(10,-i)/l,c=Math.round(t*h),f=Math.round(e*h),c/h<t&&++c,f/h>e&&--f,h=-h):(h=Math.pow(10,i)*l,c=Math.round(t/h),f=Math.round(e/h),c*h<t&&++c,f*h>e&&--f),f<c&&.5<=n&&n<2?vg(t,e,n*2):[c,f,h]}function NS(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,l]=r?vg(e,t,n):vg(t,e,n);if(!(o>=i))return[];const c=o-i+1,f=new Array(c);if(r)if(l<0)for(let h=0;h<c;++h)f[h]=(o-h)/-l;else for(let h=0;h<c;++h)f[h]=(o-h)*l;else if(l<0)for(let h=0;h<c;++h)f[h]=(i+h)/-l;else for(let h=0;h<c;++h)f[h]=(i+h)*l;return f}function kS(t,e,n){return e=+e,t=+t,n=+n,vg(t,e,n)[2]}function MS(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?kS(e,t,n):kS(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function $M(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function UM(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function L5(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?D5:SJ(i);r>n;){if(r-n>600){const f=r-n+1,h=e-n+1,p=Math.log(f),m=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*m*(f-m)/f)*(h-f/2<0?-1:1),_=Math.max(n,Math.floor(e-h*m/f+v)),E=Math.min(r,Math.floor(e+(f-h)*m/f+v));L5(t,e,_,E,i)}const o=t[e];let l=n,c=r;for(eh(t,n,e),i(t[r],o)>0&&eh(t,n,r);l<c;){for(eh(t,l,c),++l,--c;i(t[l],o)<0;)++l;for(;i(t[c],o)>0;)--c}i(t[n],o)===0?eh(t,n,c):(++c,eh(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function eh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function OJ(t,e,n){if(t=Float64Array.from(vJ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return UM(t);if(e>=1)return $M(t);var r,i=(r-1)*e,o=Math.floor(i),l=$M(L5(t,o).subarray(0,o+1)),c=UM(t.subarray(o+1));return l+(c-l)*(i-o)}}function CJ(t,e,n=j5){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),l=+n(t[o],o,t),c=+n(t[o+1],o+1,t);return l+(c-l)*(i-o)}}function IJ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function ji(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function To(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const jS=Symbol("implicit");function QT(){var t=new LM,e=[],n=[],r=jS;function i(o){let l=t.get(o);if(l===void 0){if(r!==jS)return r;t.set(o,l=e.push(o)-1)}return n[l%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new LM;for(const l of o)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return QT(e,n).unknown(r)},ji.apply(i,arguments),i}function Wh(){var t=QT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,l,c=!1,f=0,h=0,p=.5;delete t.unknown;function m(){var v=e().length,_=i<r,E=_?i:r,S=_?r:i;o=(S-E)/Math.max(1,v-f+h*2),c&&(o=Math.floor(o)),E+=(S-E-o*(v-f))*p,l=o*(1-f),c&&(E=Math.round(E),l=Math.round(l));var w=IJ(v).map(function(O){return E+o*O});return n(_?w.reverse():w)}return t.domain=function(v){return arguments.length?(e(v),m()):e()},t.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,c=!0,m()},t.bandwidth=function(){return l},t.step=function(){return o},t.round=function(v){return arguments.length?(c=!!v,m()):c},t.padding=function(v){return arguments.length?(f=Math.min(1,h=+v),m()):f},t.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),m()):f},t.paddingOuter=function(v){return arguments.length?(h=+v,m()):h},t.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),m()):p},t.copy=function(){return Wh(e(),[r,i]).round(c).paddingInner(f).paddingOuter(h).align(p)},ji.apply(m(),arguments)}function V5(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return V5(e())},t}function Oh(){return V5(Wh.apply(null,arguments).paddingInner(1))}function JT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function $5(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Vd(){}var Yh=.7,bg=1/Yh,oc="\\s*([+-]?\\d+)\\s*",Xh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Aa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",PJ=/^#([0-9a-f]{3,8})$/,RJ=new RegExp(`^rgb\\(${oc},${oc},${oc}\\)$`),NJ=new RegExp(`^rgb\\(${Aa},${Aa},${Aa}\\)$`),kJ=new RegExp(`^rgba\\(${oc},${oc},${oc},${Xh}\\)$`),MJ=new RegExp(`^rgba\\(${Aa},${Aa},${Aa},${Xh}\\)$`),jJ=new RegExp(`^hsl\\(${Xh},${Aa},${Aa}\\)$`),DJ=new RegExp(`^hsla\\(${Xh},${Aa},${Aa},${Xh}\\)$`),BM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};JT(Vd,Qh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:qM,formatHex:qM,formatHex8:LJ,formatHsl:VJ,formatRgb:zM,toString:zM});function qM(){return this.rgb().formatHex()}function LJ(){return this.rgb().formatHex8()}function VJ(){return U5(this).formatHsl()}function zM(){return this.rgb().formatRgb()}function Qh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=PJ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?FM(e):n===3?new Gr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ym(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ym(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=RJ.exec(t))?new Gr(e[1],e[2],e[3],1):(e=NJ.exec(t))?new Gr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=kJ.exec(t))?ym(e[1],e[2],e[3],e[4]):(e=MJ.exec(t))?ym(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=jJ.exec(t))?KM(e[1],e[2]/100,e[3]/100,1):(e=DJ.exec(t))?KM(e[1],e[2]/100,e[3]/100,e[4]):BM.hasOwnProperty(t)?FM(BM[t]):t==="transparent"?new Gr(NaN,NaN,NaN,0):null}function FM(t){return new Gr(t>>16&255,t>>8&255,t&255,1)}function ym(t,e,n,r){return r<=0&&(t=e=n=NaN),new Gr(t,e,n,r)}function $J(t){return t instanceof Vd||(t=Qh(t)),t?(t=t.rgb(),new Gr(t.r,t.g,t.b,t.opacity)):new Gr}function DS(t,e,n,r){return arguments.length===1?$J(t):new Gr(t,e,n,r??1)}function Gr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}JT(Gr,DS,$5(Vd,{brighter(t){return t=t==null?bg:Math.pow(bg,t),new Gr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Yh:Math.pow(Yh,t),new Gr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Gr(Ol(this.r),Ol(this.g),Ol(this.b),_g(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:HM,formatHex:HM,formatHex8:UJ,formatRgb:GM,toString:GM}));function HM(){return`#${wl(this.r)}${wl(this.g)}${wl(this.b)}`}function UJ(){return`#${wl(this.r)}${wl(this.g)}${wl(this.b)}${wl((isNaN(this.opacity)?1:this.opacity)*255)}`}function GM(){const t=_g(this.opacity);return`${t===1?"rgb(":"rgba("}${Ol(this.r)}, ${Ol(this.g)}, ${Ol(this.b)}${t===1?")":`, ${t})`}`}function _g(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ol(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function wl(t){return t=Ol(t),(t<16?"0":"")+t.toString(16)}function KM(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Zi(t,e,n,r)}function U5(t){if(t instanceof Zi)return new Zi(t.h,t.s,t.l,t.opacity);if(t instanceof Vd||(t=Qh(t)),!t)return new Zi;if(t instanceof Zi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),l=NaN,c=o-i,f=(o+i)/2;return c?(e===o?l=(n-r)/c+(n<r)*6:n===o?l=(r-e)/c+2:l=(e-n)/c+4,c/=f<.5?o+i:2-o-i,l*=60):c=f>0&&f<1?0:l,new Zi(l,c,f,t.opacity)}function BJ(t,e,n,r){return arguments.length===1?U5(t):new Zi(t,e,n,r??1)}function Zi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}JT(Zi,BJ,$5(Vd,{brighter(t){return t=t==null?bg:Math.pow(bg,t),new Zi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Yh:Math.pow(Yh,t),new Zi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Gr(jw(t>=240?t-240:t+120,i,r),jw(t,i,r),jw(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Zi(WM(this.h),vm(this.s),vm(this.l),_g(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=_g(this.opacity);return`${t===1?"hsl(":"hsla("}${WM(this.h)}, ${vm(this.s)*100}%, ${vm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function WM(t){return t=(t||0)%360,t<0?t+360:t}function vm(t){return Math.max(0,Math.min(1,t||0))}function jw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ZT=t=>()=>t;function qJ(t,e){return function(n){return t+n*e}}function zJ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function FJ(t){return(t=+t)==1?B5:function(e,n){return n-e?zJ(e,n,t):ZT(isNaN(e)?n:e)}}function B5(t,e){var n=e-t;return n?qJ(t,n):ZT(isNaN(t)?e:t)}const YM=(function t(e){var n=FJ(e);function r(i,o){var l=n((i=DS(i)).r,(o=DS(o)).r),c=n(i.g,o.g),f=n(i.b,o.b),h=B5(i.opacity,o.opacity);return function(p){return i.r=l(p),i.g=c(p),i.b=f(p),i.opacity=h(p),i+""}}return r.gamma=t,r})(1);function HJ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function GJ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function KJ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=ef(t[l],e[l]);for(;l<n;++l)o[l]=e[l];return function(c){for(l=0;l<r;++l)o[l]=i[l](c);return o}}function WJ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function xg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function YJ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ef(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var LS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Dw=new RegExp(LS.source,"g");function XJ(t){return function(){return t}}function QJ(t){return function(e){return t(e)+""}}function JJ(t,e){var n=LS.lastIndex=Dw.lastIndex=0,r,i,o,l=-1,c=[],f=[];for(t=t+"",e=e+"";(r=LS.exec(t))&&(i=Dw.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),c[l]?c[l]+=o:c[++l]=o),(r=r[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,f.push({i:l,x:xg(r,i)})),n=Dw.lastIndex;return n<e.length&&(o=e.slice(n),c[l]?c[l]+=o:c[++l]=o),c.length<2?f[0]?QJ(f[0].x):XJ(e):(e=f.length,function(h){for(var p=0,m;p<e;++p)c[(m=f[p]).i]=m.x(h);return c.join("")})}function ef(t,e){var n=typeof e,r;return e==null||n==="boolean"?ZT(e):(n==="number"?xg:n==="string"?(r=Qh(e))?(e=r,YM):JJ:e instanceof Qh?YM:e instanceof Date?WJ:GJ(e)?HJ:Array.isArray(e)?KJ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?YJ:xg)(t,e)}function eA(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function ZJ(t,e){e===void 0&&(e=t,t=ef);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(l){var c=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return o[c](l-c)}}function eZ(t){return function(){return t}}function wg(t){return+t}var XM=[0,1];function Dr(t){return t}function VS(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:eZ(isNaN(e)?NaN:.5)}function tZ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function nZ(t,e,n){var r=t[0],i=t[1],o=e[0],l=e[1];return i<r?(r=VS(i,r),o=n(l,o)):(r=VS(r,i),o=n(o,l)),function(c){return o(r(c))}}function rZ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=VS(t[l],t[l+1]),o[l]=n(e[l],e[l+1]);return function(c){var f=Ld(t,c,1,r)-1;return o[f](i[f](c))}}function $d(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function zy(){var t=XM,e=XM,n=ef,r,i,o,l=Dr,c,f,h;function p(){var v=Math.min(t.length,e.length);return l!==Dr&&(l=tZ(t[0],t[v-1])),c=v>2?rZ:nZ,f=h=null,m}function m(v){return v==null||isNaN(v=+v)?o:(f||(f=c(t.map(r),e,n)))(r(l(v)))}return m.invert=function(v){return l(i((h||(h=c(e,t.map(r),xg)))(v)))},m.domain=function(v){return arguments.length?(t=Array.from(v,wg),p()):t.slice()},m.range=function(v){return arguments.length?(e=Array.from(v),p()):e.slice()},m.rangeRound=function(v){return e=Array.from(v),n=eA,p()},m.clamp=function(v){return arguments.length?(l=v?!0:Dr,p()):l!==Dr},m.interpolate=function(v){return arguments.length?(n=v,p()):n},m.unknown=function(v){return arguments.length?(o=v,m):o},function(v,_){return r=v,i=_,p()}}function tA(){return zy()(Dr,Dr)}function iZ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Sg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function wc(t){return t=Sg(Math.abs(t)),t?t[1]:NaN}function aZ(t,e){return function(n,r){for(var i=n.length,o=[],l=0,c=t[0],f=0;i>0&&c>0&&(f+c+1>r&&(c=Math.max(1,r-f)),o.push(n.substring(i-=c,i+c)),!((f+=c+1)>r));)c=t[l=(l+1)%t.length];return o.reverse().join(e)}}function oZ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var sZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Jh(t){if(!(e=sZ.exec(t)))throw new Error("invalid format: "+t);var e;return new nA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Jh.prototype=nA.prototype;function nA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}nA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function lZ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var q5;function uZ(t,e){var n=Sg(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(q5=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Sg(t,Math.max(0,e+o-1))[0]}function QM(t,e){var n=Sg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const JM={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:iZ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>QM(t*100,e),r:QM,s:uZ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ZM(t){return t}var ej=Array.prototype.map,tj=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function cZ(t){var e=t.grouping===void 0||t.thousands===void 0?ZM:aZ(ej.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?ZM:oZ(ej.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(m){m=Jh(m);var v=m.fill,_=m.align,E=m.sign,S=m.symbol,w=m.zero,O=m.width,I=m.comma,N=m.precision,L=m.trim,C=m.type;C==="n"?(I=!0,C="g"):JM[C]||(N===void 0&&(N=12),L=!0,C="g"),(w||v==="0"&&_==="=")&&(w=!0,v="0",_="=");var M=S==="$"?n:S==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",A=S==="$"?r:/[%p]/.test(C)?l:"",P=JM[C],k=/[defgprs%]/.test(C);N=N===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function U(D){var B=M,V=A,Q,J,H;if(C==="c")V=P(D)+V,D="";else{D=+D;var Y=D<0||1/D<0;if(D=isNaN(D)?f:P(Math.abs(D),N),L&&(D=lZ(D)),Y&&+D==0&&E!=="+"&&(Y=!1),B=(Y?E==="("?E:c:E==="-"||E==="("?"":E)+B,V=(C==="s"?tj[8+q5/3]:"")+V+(Y&&E==="("?")":""),k){for(Q=-1,J=D.length;++Q<J;)if(H=D.charCodeAt(Q),48>H||H>57){V=(H===46?i+D.slice(Q+1):D.slice(Q))+V,D=D.slice(0,Q);break}}}I&&!w&&(D=e(D,1/0));var ee=B.length+D.length+V.length,ce=ee<O?new Array(O-ee+1).join(v):"";switch(I&&w&&(D=e(ce+D,ce.length?O-V.length:1/0),ce=""),_){case"<":D=B+D+V+ce;break;case"=":D=B+ce+D+V;break;case"^":D=ce.slice(0,ee=ce.length>>1)+B+D+V+ce.slice(ee);break;default:D=ce+B+D+V;break}return o(D)}return U.toString=function(){return m+""},U}function p(m,v){var _=h((m=Jh(m),m.type="f",m)),E=Math.max(-8,Math.min(8,Math.floor(wc(v)/3)))*3,S=Math.pow(10,-E),w=tj[8+E/3];return function(O){return _(S*O)+w}}return{format:h,formatPrefix:p}}var bm,rA,z5;fZ({thousands:",",grouping:[3],currency:["$",""]});function fZ(t){return bm=cZ(t),rA=bm.format,z5=bm.formatPrefix,bm}function hZ(t){return Math.max(0,-wc(Math.abs(t)))}function dZ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wc(e)/3)))*3-wc(Math.abs(t)))}function pZ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,wc(e)-wc(t))+1}function F5(t,e,n,r){var i=MS(t,e,n),o;switch(r=Jh(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=dZ(i,l))&&(r.precision=o),z5(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=pZ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=hZ(i))&&(r.precision=o-(r.type==="%")*2);break}}return rA(r)}function Is(t){var e=t.domain;return t.ticks=function(n){var r=e();return NS(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return F5(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,l=r[i],c=r[o],f,h,p=10;for(c<l&&(h=l,l=c,c=h,h=i,i=o,o=h);p-- >0;){if(h=kS(l,c,n),h===f)return r[i]=l,r[o]=c,e(r);if(h>0)l=Math.floor(l/h)*h,c=Math.ceil(c/h)*h;else if(h<0)l=Math.ceil(l*h)/h,c=Math.floor(c*h)/h;else break;f=h}return t},t}function Eg(){var t=tA();return t.copy=function(){return $d(t,Eg())},ji.apply(t,arguments),Is(t)}function H5(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,wg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return H5(t).unknown(e)},t=arguments.length?Array.from(t,wg):[0,1],Is(n)}function G5(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],l;return o<i&&(l=n,n=r,r=l,l=i,i=o,o=l),t[n]=e.floor(i),t[r]=e.ceil(o),t}function nj(t){return Math.log(t)}function rj(t){return Math.exp(t)}function mZ(t){return-Math.log(-t)}function gZ(t){return-Math.exp(-t)}function yZ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function vZ(t){return t===10?yZ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function bZ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function ij(t){return(e,n)=>-t(-e,n)}function iA(t){const e=t(nj,rj),n=e.domain;let r=10,i,o;function l(){return i=bZ(r),o=vZ(r),n()[0]<0?(i=ij(i),o=ij(o),t(mZ,gZ)):t(nj,rj),e}return e.base=function(c){return arguments.length?(r=+c,l()):r},e.domain=function(c){return arguments.length?(n(c),l()):n()},e.ticks=c=>{const f=n();let h=f[0],p=f[f.length-1];const m=p<h;m&&([h,p]=[p,h]);let v=i(h),_=i(p),E,S;const w=c==null?10:+c;let O=[];if(!(r%1)&&_-v<w){if(v=Math.floor(v),_=Math.ceil(_),h>0){for(;v<=_;++v)for(E=1;E<r;++E)if(S=v<0?E/o(-v):E*o(v),!(S<h)){if(S>p)break;O.push(S)}}else for(;v<=_;++v)for(E=r-1;E>=1;--E)if(S=v>0?E/o(-v):E*o(v),!(S<h)){if(S>p)break;O.push(S)}O.length*2<w&&(O=NS(h,p,w))}else O=NS(v,_,Math.min(_-v,w)).map(o);return m?O.reverse():O},e.tickFormat=(c,f)=>{if(c==null&&(c=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Jh(f)).precision==null&&(f.trim=!0),f=rA(f)),c===1/0)return f;const h=Math.max(1,r*c/e.ticks().length);return p=>{let m=p/o(Math.round(i(p)));return m*r<r-.5&&(m*=r),m<=h?f(p):""}},e.nice=()=>n(G5(n(),{floor:c=>o(Math.floor(i(c))),ceil:c=>o(Math.ceil(i(c)))})),e}function K5(){const t=iA(zy()).domain([1,10]);return t.copy=()=>$d(t,K5()).base(t.base()),ji.apply(t,arguments),t}function aj(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function oj(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function aA(t){var e=1,n=t(aj(e),oj(e));return n.constant=function(r){return arguments.length?t(aj(e=+r),oj(e)):e},Is(n)}function W5(){var t=aA(zy());return t.copy=function(){return $d(t,W5()).constant(t.constant())},ji.apply(t,arguments)}function sj(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function _Z(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function xZ(t){return t<0?-t*t:t*t}function oA(t){var e=t(Dr,Dr),n=1;function r(){return n===1?t(Dr,Dr):n===.5?t(_Z,xZ):t(sj(n),sj(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Is(e)}function sA(){var t=oA(zy());return t.copy=function(){return $d(t,sA()).exponent(t.exponent())},ji.apply(t,arguments),t}function wZ(){return sA.apply(null,arguments).exponent(.5)}function lj(t){return Math.sign(t)*t*t}function SZ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Y5(){var t=tA(),e=[0,1],n=!1,r;function i(o){var l=SZ(t(o));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(o){return t.invert(lj(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,wg)).map(lj)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Y5(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ji.apply(i,arguments),Is(i)}function X5(){var t=[],e=[],n=[],r;function i(){var l=0,c=Math.max(1,e.length);for(n=new Array(c-1);++l<c;)n[l-1]=CJ(t,l/c);return o}function o(l){return l==null||isNaN(l=+l)?r:e[Ld(n,l)]}return o.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},o.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(bs),i()},o.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return X5().domain(t).range(e).unknown(r)},ji.apply(o,arguments)}function Q5(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function l(f){return f!=null&&f<=f?i[Ld(r,f,0,n)]:o}function c(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return l}return l.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,c()):[t,e]},l.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,c()):i.slice()},l.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},l.unknown=function(f){return arguments.length&&(o=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return Q5().domain([t,e]).range(i).unknown(o)},ji.apply(Is(l),arguments)}function J5(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Ld(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var l=e.indexOf(o);return[t[l-1],t[l]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return J5().domain(t).range(e).unknown(n)},ji.apply(i,arguments)}const Lw=new Date,Vw=new Date;function Zn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const l=i(o),c=i.ceil(o);return o-l<c-o?l:c},i.offset=(o,l)=>(e(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,c)=>{const f=[];if(o=i.ceil(o),c=c==null?1:Math.floor(c),!(o<l)||!(c>0))return f;let h;do f.push(h=new Date(+o)),e(o,c),t(o);while(h<o&&o<l);return f},i.filter=o=>Zn(l=>{if(l>=l)for(;t(l),!o(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!o(l););else for(;--c>=0;)for(;e(l,1),!o(l););}),n&&(i.count=(o,l)=>(Lw.setTime(+o),Vw.setTime(+l),t(Lw),t(Vw),Math.floor(n(Lw,Vw))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?l=>r(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const Tg=Zn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Tg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Zn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Tg);Tg.range;const lo=1e3,ki=lo*60,uo=ki*60,bo=uo*24,lA=bo*7,uj=bo*30,$w=bo*365,Sl=Zn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*lo)},(t,e)=>(e-t)/lo,t=>t.getUTCSeconds());Sl.range;const uA=Zn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*lo)},(t,e)=>{t.setTime(+t+e*ki)},(t,e)=>(e-t)/ki,t=>t.getMinutes());uA.range;const cA=Zn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ki)},(t,e)=>(e-t)/ki,t=>t.getUTCMinutes());cA.range;const fA=Zn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*lo-t.getMinutes()*ki)},(t,e)=>{t.setTime(+t+e*uo)},(t,e)=>(e-t)/uo,t=>t.getHours());fA.range;const hA=Zn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*uo)},(t,e)=>(e-t)/uo,t=>t.getUTCHours());hA.range;const Ud=Zn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ki)/bo,t=>t.getDate()-1);Ud.range;const Fy=Zn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/bo,t=>t.getUTCDate()-1);Fy.range;const Z5=Zn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/bo,t=>Math.floor(t/bo));Z5.range;function Kl(t){return Zn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ki)/lA)}const Hy=Kl(0),Ag=Kl(1),EZ=Kl(2),TZ=Kl(3),Sc=Kl(4),AZ=Kl(5),OZ=Kl(6);Hy.range;Ag.range;EZ.range;TZ.range;Sc.range;AZ.range;OZ.range;function Wl(t){return Zn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/lA)}const Gy=Wl(0),Og=Wl(1),CZ=Wl(2),IZ=Wl(3),Ec=Wl(4),PZ=Wl(5),RZ=Wl(6);Gy.range;Og.range;CZ.range;IZ.range;Ec.range;PZ.range;RZ.range;const dA=Zn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());dA.range;const pA=Zn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());pA.range;const _o=Zn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());_o.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});_o.range;const xo=Zn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());xo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});xo.range;function eV(t,e,n,r,i,o){const l=[[Sl,1,lo],[Sl,5,5*lo],[Sl,15,15*lo],[Sl,30,30*lo],[o,1,ki],[o,5,5*ki],[o,15,15*ki],[o,30,30*ki],[i,1,uo],[i,3,3*uo],[i,6,6*uo],[i,12,12*uo],[r,1,bo],[r,2,2*bo],[n,1,lA],[e,1,uj],[e,3,3*uj],[t,1,$w]];function c(h,p,m){const v=p<h;v&&([h,p]=[p,h]);const _=m&&typeof m.range=="function"?m:f(h,p,m),E=_?_.range(h,+p+1):[];return v?E.reverse():E}function f(h,p,m){const v=Math.abs(p-h)/m,_=XT(([,,w])=>w).right(l,v);if(_===l.length)return t.every(MS(h/$w,p/$w,m));if(_===0)return Tg.every(Math.max(MS(h,p,m),1));const[E,S]=l[v/l[_-1][2]<l[_][2]/v?_-1:_];return E.every(S)}return[c,f]}const[NZ,kZ]=eV(xo,pA,Gy,Z5,hA,cA),[MZ,jZ]=eV(_o,dA,Hy,Ud,fA,uA);function Uw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Bw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function th(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function DZ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,l=t.shortDays,c=t.months,f=t.shortMonths,h=nh(i),p=rh(i),m=nh(o),v=rh(o),_=nh(l),E=rh(l),S=nh(c),w=rh(c),O=nh(f),I=rh(f),N={a:Y,A:ee,b:ce,B:_e,c:null,d:mj,e:mj,f:aee,g:mee,G:yee,H:nee,I:ree,j:iee,L:tV,m:oee,M:see,p:F,q:W,Q:vj,s:bj,S:lee,u:uee,U:cee,V:fee,w:hee,W:dee,x:null,X:null,y:pee,Y:gee,Z:vee,"%":yj},L={a:se,A:me,b:ve,B:xe,c:null,d:gj,e:gj,f:wee,g:Nee,G:Mee,H:bee,I:_ee,j:xee,L:rV,m:See,M:Eee,p:Ie,q:De,Q:vj,s:bj,S:Tee,u:Aee,U:Oee,V:Cee,w:Iee,W:Pee,x:null,X:null,y:Ree,Y:kee,Z:jee,"%":yj},C={a:U,A:D,b:B,B:V,c:Q,d:dj,e:dj,f:JZ,g:hj,G:fj,H:pj,I:pj,j:WZ,L:QZ,m:KZ,M:YZ,p:k,q:GZ,Q:eee,s:tee,S:XZ,u:BZ,U:qZ,V:zZ,w:UZ,W:FZ,x:J,X:H,y:hj,Y:fj,Z:HZ,"%":ZZ};N.x=M(n,N),N.X=M(r,N),N.c=M(e,N),L.x=M(n,L),L.X=M(r,L),L.c=M(e,L);function M(ye,Re){return function($e){var ne=[],Ke=-1,we=0,Ee=ye.length,Ve,Ye,ft;for($e instanceof Date||($e=new Date(+$e));++Ke<Ee;)ye.charCodeAt(Ke)===37&&(ne.push(ye.slice(we,Ke)),(Ye=cj[Ve=ye.charAt(++Ke)])!=null?Ve=ye.charAt(++Ke):Ye=Ve==="e"?" ":"0",(ft=Re[Ve])&&(Ve=ft($e,Ye)),ne.push(Ve),we=Ke+1);return ne.push(ye.slice(we,Ke)),ne.join("")}}function A(ye,Re){return function($e){var ne=th(1900,void 0,1),Ke=P(ne,ye,$e+="",0),we,Ee;if(Ke!=$e.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(Re&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(we=Bw(th(ne.y,0,1)),Ee=we.getUTCDay(),we=Ee>4||Ee===0?Og.ceil(we):Og(we),we=Fy.offset(we,(ne.V-1)*7),ne.y=we.getUTCFullYear(),ne.m=we.getUTCMonth(),ne.d=we.getUTCDate()+(ne.w+6)%7):(we=Uw(th(ne.y,0,1)),Ee=we.getDay(),we=Ee>4||Ee===0?Ag.ceil(we):Ag(we),we=Ud.offset(we,(ne.V-1)*7),ne.y=we.getFullYear(),ne.m=we.getMonth(),ne.d=we.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),Ee="Z"in ne?Bw(th(ne.y,0,1)).getUTCDay():Uw(th(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(Ee+5)%7:ne.w+ne.U*7-(Ee+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,Bw(ne)):Uw(ne)}}function P(ye,Re,$e,ne){for(var Ke=0,we=Re.length,Ee=$e.length,Ve,Ye;Ke<we;){if(ne>=Ee)return-1;if(Ve=Re.charCodeAt(Ke++),Ve===37){if(Ve=Re.charAt(Ke++),Ye=C[Ve in cj?Re.charAt(Ke++):Ve],!Ye||(ne=Ye(ye,$e,ne))<0)return-1}else if(Ve!=$e.charCodeAt(ne++))return-1}return ne}function k(ye,Re,$e){var ne=h.exec(Re.slice($e));return ne?(ye.p=p.get(ne[0].toLowerCase()),$e+ne[0].length):-1}function U(ye,Re,$e){var ne=_.exec(Re.slice($e));return ne?(ye.w=E.get(ne[0].toLowerCase()),$e+ne[0].length):-1}function D(ye,Re,$e){var ne=m.exec(Re.slice($e));return ne?(ye.w=v.get(ne[0].toLowerCase()),$e+ne[0].length):-1}function B(ye,Re,$e){var ne=O.exec(Re.slice($e));return ne?(ye.m=I.get(ne[0].toLowerCase()),$e+ne[0].length):-1}function V(ye,Re,$e){var ne=S.exec(Re.slice($e));return ne?(ye.m=w.get(ne[0].toLowerCase()),$e+ne[0].length):-1}function Q(ye,Re,$e){return P(ye,e,Re,$e)}function J(ye,Re,$e){return P(ye,n,Re,$e)}function H(ye,Re,$e){return P(ye,r,Re,$e)}function Y(ye){return l[ye.getDay()]}function ee(ye){return o[ye.getDay()]}function ce(ye){return f[ye.getMonth()]}function _e(ye){return c[ye.getMonth()]}function F(ye){return i[+(ye.getHours()>=12)]}function W(ye){return 1+~~(ye.getMonth()/3)}function se(ye){return l[ye.getUTCDay()]}function me(ye){return o[ye.getUTCDay()]}function ve(ye){return f[ye.getUTCMonth()]}function xe(ye){return c[ye.getUTCMonth()]}function Ie(ye){return i[+(ye.getUTCHours()>=12)]}function De(ye){return 1+~~(ye.getUTCMonth()/3)}return{format:function(ye){var Re=M(ye+="",N);return Re.toString=function(){return ye},Re},parse:function(ye){var Re=A(ye+="",!1);return Re.toString=function(){return ye},Re},utcFormat:function(ye){var Re=M(ye+="",L);return Re.toString=function(){return ye},Re},utcParse:function(ye){var Re=A(ye+="",!0);return Re.toString=function(){return ye},Re}}}var cj={"-":"",_:" ",0:"0"},ar=/^\s*\d+/,LZ=/^%/,VZ=/[\\^$*+?|[\]().{}]/g;function Bt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function $Z(t){return t.replace(VZ,"\\$&")}function nh(t){return new RegExp("^(?:"+t.map($Z).join("|")+")","i")}function rh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function UZ(t,e,n){var r=ar.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function BZ(t,e,n){var r=ar.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function qZ(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function zZ(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function FZ(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function fj(t,e,n){var r=ar.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function hj(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function HZ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function GZ(t,e,n){var r=ar.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function KZ(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function dj(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function WZ(t,e,n){var r=ar.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function pj(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function YZ(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function XZ(t,e,n){var r=ar.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function QZ(t,e,n){var r=ar.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function JZ(t,e,n){var r=ar.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ZZ(t,e,n){var r=LZ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function eee(t,e,n){var r=ar.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function tee(t,e,n){var r=ar.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function mj(t,e){return Bt(t.getDate(),e,2)}function nee(t,e){return Bt(t.getHours(),e,2)}function ree(t,e){return Bt(t.getHours()%12||12,e,2)}function iee(t,e){return Bt(1+Ud.count(_o(t),t),e,3)}function tV(t,e){return Bt(t.getMilliseconds(),e,3)}function aee(t,e){return tV(t,e)+"000"}function oee(t,e){return Bt(t.getMonth()+1,e,2)}function see(t,e){return Bt(t.getMinutes(),e,2)}function lee(t,e){return Bt(t.getSeconds(),e,2)}function uee(t){var e=t.getDay();return e===0?7:e}function cee(t,e){return Bt(Hy.count(_o(t)-1,t),e,2)}function nV(t){var e=t.getDay();return e>=4||e===0?Sc(t):Sc.ceil(t)}function fee(t,e){return t=nV(t),Bt(Sc.count(_o(t),t)+(_o(t).getDay()===4),e,2)}function hee(t){return t.getDay()}function dee(t,e){return Bt(Ag.count(_o(t)-1,t),e,2)}function pee(t,e){return Bt(t.getFullYear()%100,e,2)}function mee(t,e){return t=nV(t),Bt(t.getFullYear()%100,e,2)}function gee(t,e){return Bt(t.getFullYear()%1e4,e,4)}function yee(t,e){var n=t.getDay();return t=n>=4||n===0?Sc(t):Sc.ceil(t),Bt(t.getFullYear()%1e4,e,4)}function vee(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Bt(e/60|0,"0",2)+Bt(e%60,"0",2)}function gj(t,e){return Bt(t.getUTCDate(),e,2)}function bee(t,e){return Bt(t.getUTCHours(),e,2)}function _ee(t,e){return Bt(t.getUTCHours()%12||12,e,2)}function xee(t,e){return Bt(1+Fy.count(xo(t),t),e,3)}function rV(t,e){return Bt(t.getUTCMilliseconds(),e,3)}function wee(t,e){return rV(t,e)+"000"}function See(t,e){return Bt(t.getUTCMonth()+1,e,2)}function Eee(t,e){return Bt(t.getUTCMinutes(),e,2)}function Tee(t,e){return Bt(t.getUTCSeconds(),e,2)}function Aee(t){var e=t.getUTCDay();return e===0?7:e}function Oee(t,e){return Bt(Gy.count(xo(t)-1,t),e,2)}function iV(t){var e=t.getUTCDay();return e>=4||e===0?Ec(t):Ec.ceil(t)}function Cee(t,e){return t=iV(t),Bt(Ec.count(xo(t),t)+(xo(t).getUTCDay()===4),e,2)}function Iee(t){return t.getUTCDay()}function Pee(t,e){return Bt(Og.count(xo(t)-1,t),e,2)}function Ree(t,e){return Bt(t.getUTCFullYear()%100,e,2)}function Nee(t,e){return t=iV(t),Bt(t.getUTCFullYear()%100,e,2)}function kee(t,e){return Bt(t.getUTCFullYear()%1e4,e,4)}function Mee(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ec(t):Ec.ceil(t),Bt(t.getUTCFullYear()%1e4,e,4)}function jee(){return"+0000"}function yj(){return"%"}function vj(t){return+t}function bj(t){return Math.floor(+t/1e3)}var Uu,aV,oV;Dee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Dee(t){return Uu=DZ(t),aV=Uu.format,Uu.parse,oV=Uu.utcFormat,Uu.utcParse,Uu}function Lee(t){return new Date(t)}function Vee(t){return t instanceof Date?+t:+new Date(+t)}function mA(t,e,n,r,i,o,l,c,f,h){var p=tA(),m=p.invert,v=p.domain,_=h(".%L"),E=h(":%S"),S=h("%I:%M"),w=h("%I %p"),O=h("%a %d"),I=h("%b %d"),N=h("%B"),L=h("%Y");function C(M){return(f(M)<M?_:c(M)<M?E:l(M)<M?S:o(M)<M?w:r(M)<M?i(M)<M?O:I:n(M)<M?N:L)(M)}return p.invert=function(M){return new Date(m(M))},p.domain=function(M){return arguments.length?v(Array.from(M,Vee)):v().map(Lee)},p.ticks=function(M){var A=v();return t(A[0],A[A.length-1],M??10)},p.tickFormat=function(M,A){return A==null?C:h(A)},p.nice=function(M){var A=v();return(!M||typeof M.range!="function")&&(M=e(A[0],A[A.length-1],M??10)),M?v(G5(A,M)):p},p.copy=function(){return $d(p,mA(t,e,n,r,i,o,l,c,f,h))},p}function $ee(){return ji.apply(mA(MZ,jZ,_o,dA,Hy,Ud,fA,uA,Sl,aV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Uee(){return ji.apply(mA(NZ,kZ,xo,pA,Gy,Fy,hA,cA,Sl,oV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ky(){var t=0,e=1,n,r,i,o,l=Dr,c=!1,f;function h(m){return m==null||isNaN(m=+m)?f:l(i===0?.5:(m=(o(m)-n)*i,c?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([t,e]=m,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(m){return arguments.length?(c=!!m,h):c},h.interpolator=function(m){return arguments.length?(l=m,h):l};function p(m){return function(v){var _,E;return arguments.length?([_,E]=v,l=m(_,E),h):[l(0),l(1)]}}return h.range=p(ef),h.rangeRound=p(eA),h.unknown=function(m){return arguments.length?(f=m,h):f},function(m){return o=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),h}}function Ps(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function sV(){var t=Is(Ky()(Dr));return t.copy=function(){return Ps(t,sV())},To.apply(t,arguments)}function lV(){var t=iA(Ky()).domain([1,10]);return t.copy=function(){return Ps(t,lV()).base(t.base())},To.apply(t,arguments)}function uV(){var t=aA(Ky());return t.copy=function(){return Ps(t,uV()).constant(t.constant())},To.apply(t,arguments)}function gA(){var t=oA(Ky());return t.copy=function(){return Ps(t,gA()).exponent(t.exponent())},To.apply(t,arguments)}function Bee(){return gA.apply(null,arguments).exponent(.5)}function cV(){var t=[],e=Dr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Ld(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(bs),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>OJ(t,o/r))},n.copy=function(){return cV(e).domain(t)},To.apply(n,arguments)}function Wy(){var t=0,e=.5,n=1,r=1,i,o,l,c,f,h=Dr,p,m=!1,v;function _(S){return isNaN(S=+S)?v:(S=.5+((S=+p(S))-o)*(r*S<r*o?c:f),h(m?Math.max(0,Math.min(1,S)):S))}_.domain=function(S){return arguments.length?([t,e,n]=S,i=p(t=+t),o=p(e=+e),l=p(n=+n),c=i===o?0:.5/(o-i),f=o===l?0:.5/(l-o),r=o<i?-1:1,_):[t,e,n]},_.clamp=function(S){return arguments.length?(m=!!S,_):m},_.interpolator=function(S){return arguments.length?(h=S,_):h};function E(S){return function(w){var O,I,N;return arguments.length?([O,I,N]=w,h=ZJ(S,[O,I,N]),_):[h(0),h(.5),h(1)]}}return _.range=E(ef),_.rangeRound=E(eA),_.unknown=function(S){return arguments.length?(v=S,_):v},function(S){return p=S,i=S(t),o=S(e),l=S(n),c=i===o?0:.5/(o-i),f=o===l?0:.5/(l-o),r=o<i?-1:1,_}}function fV(){var t=Is(Wy()(Dr));return t.copy=function(){return Ps(t,fV())},To.apply(t,arguments)}function hV(){var t=iA(Wy()).domain([.1,1,10]);return t.copy=function(){return Ps(t,hV()).base(t.base())},To.apply(t,arguments)}function dV(){var t=aA(Wy());return t.copy=function(){return Ps(t,dV()).constant(t.constant())},To.apply(t,arguments)}function yA(){var t=oA(Wy());return t.copy=function(){return Ps(t,yA()).exponent(t.exponent())},To.apply(t,arguments)}function qee(){return yA.apply(null,arguments).exponent(.5)}const _j=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Wh,scaleDiverging:fV,scaleDivergingLog:hV,scaleDivergingPow:yA,scaleDivergingSqrt:qee,scaleDivergingSymlog:dV,scaleIdentity:H5,scaleImplicit:jS,scaleLinear:Eg,scaleLog:K5,scaleOrdinal:QT,scalePoint:Oh,scalePow:sA,scaleQuantile:X5,scaleQuantize:Q5,scaleRadial:Y5,scaleSequential:sV,scaleSequentialLog:lV,scaleSequentialPow:gA,scaleSequentialQuantile:cV,scaleSequentialSqrt:Bee,scaleSequentialSymlog:uV,scaleSqrt:wZ,scaleSymlog:W5,scaleThreshold:J5,scaleTime:$ee,scaleUtc:Uee,tickFormat:F5},Symbol.toStringTag,{value:"Module"}));var qw,xj;function Yy(){if(xj)return qw;xj=1;var t=Xc();function e(n,r,i){for(var o=-1,l=n.length;++o<l;){var c=n[o],f=r(c);if(f!=null&&(h===void 0?f===f&&!t(f):i(f,h)))var h=f,p=c}return p}return qw=e,qw}var zw,wj;function pV(){if(wj)return zw;wj=1;function t(e,n){return e>n}return zw=t,zw}var Fw,Sj;function zee(){if(Sj)return Fw;Sj=1;var t=Yy(),e=pV(),n=Zc();function r(i){return i&&i.length?t(i,n,e):void 0}return Fw=r,Fw}var Fee=zee();const Xy=Kt(Fee);var Hw,Ej;function mV(){if(Ej)return Hw;Ej=1;function t(e,n){return e<n}return Hw=t,Hw}var Gw,Tj;function Hee(){if(Tj)return Gw;Tj=1;var t=Yy(),e=mV(),n=Zc();function r(i){return i&&i.length?t(i,n,e):void 0}return Gw=r,Gw}var Gee=Hee();const Qy=Kt(Gee);var Kw,Aj;function Kee(){if(Aj)return Kw;Aj=1;var t=kT(),e=Ma(),n=w5(),r=Kr();function i(o,l){var c=r(o)?t:n;return c(o,e(l,3))}return Kw=i,Kw}var Ww,Oj;function Wee(){if(Oj)return Ww;Oj=1;var t=_5(),e=Kee();function n(r,i){return t(e(r,i),1)}return Ww=n,Ww}var Yee=Wee();const Xee=Kt(Yee);var Yw,Cj;function Qee(){if(Cj)return Yw;Cj=1;var t=GT();function e(n,r){return t(n,r)}return Yw=e,Yw}var Jee=Qee();const Bd=Kt(Jee);var tf=1e9,Zee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},bA,bn=!0,Mi="[DecimalError] ",Cl=Mi+"Invalid argument: ",vA=Mi+"Exponent out of range: ",nf=Math.floor,pl=Math.pow,ete=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ui,nr=1e7,pn=7,gV=9007199254740991,Cg=nf(gV/pn),Me={};Me.absoluteValue=Me.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Me.comparedTo=Me.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Me.decimalPlaces=Me.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*pn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Me.dividedBy=Me.div=function(t){return ho(this,new this.constructor(t))};Me.dividedToIntegerBy=Me.idiv=function(t){var e=this,n=e.constructor;return on(ho(e,new n(t),0,1),n.precision)};Me.equals=Me.eq=function(t){return!this.cmp(t)};Me.exponent=function(){return zn(this)};Me.greaterThan=Me.gt=function(t){return this.cmp(t)>0};Me.greaterThanOrEqualTo=Me.gte=function(t){return this.cmp(t)>=0};Me.isInteger=Me.isint=function(){return this.e>this.d.length-2};Me.isNegative=Me.isneg=function(){return this.s<0};Me.isPositive=Me.ispos=function(){return this.s>0};Me.isZero=function(){return this.s===0};Me.lessThan=Me.lt=function(t){return this.cmp(t)<0};Me.lessThanOrEqualTo=Me.lte=function(t){return this.cmp(t)<1};Me.logarithm=Me.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ui))throw Error(Mi+"NaN");if(n.s<1)throw Error(Mi+(n.s?"NaN":"-Infinity"));return n.eq(ui)?new r(0):(bn=!1,e=ho(Zh(n,o),Zh(t,o),o),bn=!0,on(e,i))};Me.minus=Me.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?bV(e,t):yV(e,(t.s=-t.s,t))};Me.modulo=Me.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Mi+"NaN");return n.s?(bn=!1,e=ho(n,t,0,1).times(t),bn=!0,n.minus(e)):on(new r(n),i)};Me.naturalExponential=Me.exp=function(){return vV(this)};Me.naturalLogarithm=Me.ln=function(){return Zh(this)};Me.negated=Me.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Me.plus=Me.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?yV(e,t):bV(e,(t.s=-t.s,t))};Me.precision=Me.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Cl+t);if(e=zn(i)+1,r=i.d.length-1,n=r*pn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Me.squareRoot=Me.sqrt=function(){var t,e,n,r,i,o,l,c=this,f=c.constructor;if(c.s<1){if(!c.s)return new f(0);throw Error(Mi+"NaN")}for(t=zn(c),bn=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=ba(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=nf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=l=n+3;;)if(o=r,r=o.plus(ho(c,o,l+2)).times(.5),ba(o.d).slice(0,l)===(e=ba(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(on(o,n+1,0),o.times(o).eq(c)){r=o;break}}else if(e!="9999")break;l+=4}return bn=!0,on(r,n)};Me.times=Me.mul=function(t){var e,n,r,i,o,l,c,f,h,p=this,m=p.constructor,v=p.d,_=(t=new m(t)).d;if(!p.s||!t.s)return new m(0);for(t.s*=p.s,n=p.e+t.e,f=v.length,h=_.length,f<h&&(o=v,v=_,_=o,l=f,f=h,h=l),o=[],l=f+h,r=l;r--;)o.push(0);for(r=h;--r>=0;){for(e=0,i=f+r;i>r;)c=o[i]+_[r]*v[i-r-1]+e,o[i--]=c%nr|0,e=c/nr|0;o[i]=(o[i]+e)%nr|0}for(;!o[--l];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,bn?on(t,m.precision):t};Me.toDecimalPlaces=Me.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ra(t,0,tf),e===void 0?e=r.rounding:Ra(e,0,8),on(n,t+zn(n)+1,e))};Me.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Vl(r,!0):(Ra(t,0,tf),e===void 0?e=i.rounding:Ra(e,0,8),r=on(new i(r),t+1,e),n=Vl(r,!0,t+1)),n};Me.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Vl(i):(Ra(t,0,tf),e===void 0?e=o.rounding:Ra(e,0,8),r=on(new o(i),t+zn(i)+1,e),n=Vl(r.abs(),!1,t+zn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Me.toInteger=Me.toint=function(){var t=this,e=t.constructor;return on(new e(t),zn(t)+1,e.rounding)};Me.toNumber=function(){return+this};Me.toPower=Me.pow=function(t){var e,n,r,i,o,l,c=this,f=c.constructor,h=12,p=+(t=new f(t));if(!t.s)return new f(ui);if(c=new f(c),!c.s){if(t.s<1)throw Error(Mi+"Infinity");return c}if(c.eq(ui))return c;if(r=f.precision,t.eq(ui))return on(c,r);if(e=t.e,n=t.d.length-1,l=e>=n,o=c.s,l){if((n=p<0?-p:p)<=gV){for(i=new f(ui),e=Math.ceil(r/pn+4),bn=!1;n%2&&(i=i.times(c),Pj(i.d,e)),n=nf(n/2),n!==0;)c=c.times(c),Pj(c.d,e);return bn=!0,t.s<0?new f(ui).div(i):on(i,r)}}else if(o<0)throw Error(Mi+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,bn=!1,i=t.times(Zh(c,r+h)),bn=!0,i=vV(i),i.s=o,i};Me.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=zn(i),r=Vl(i,n<=o.toExpNeg||n>=o.toExpPos)):(Ra(t,1,tf),e===void 0?e=o.rounding:Ra(e,0,8),i=on(new o(i),t,e),n=zn(i),r=Vl(i,t<=n||n<=o.toExpNeg,t)),r};Me.toSignificantDigits=Me.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ra(t,1,tf),e===void 0?e=r.rounding:Ra(e,0,8)),on(new r(n),t,e)};Me.toString=Me.valueOf=Me.val=Me.toJSON=Me[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=zn(t),n=t.constructor;return Vl(t,e<=n.toExpNeg||e>=n.toExpPos)};function yV(t,e){var n,r,i,o,l,c,f,h,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),bn?on(e,m):e;if(f=t.d,h=e.d,l=t.e,i=e.e,f=f.slice(),o=l-i,o){for(o<0?(r=f,o=-o,c=h.length):(r=h,i=l,c=f.length),l=Math.ceil(m/pn),c=l>c?l+1:c+1,o>c&&(o=c,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(c=f.length,o=h.length,c-o<0&&(o=c,r=h,h=f,f=r),n=0;o;)n=(f[--o]=f[o]+h[o]+n)/nr|0,f[o]%=nr;for(n&&(f.unshift(n),++i),c=f.length;f[--c]==0;)f.pop();return e.d=f,e.e=i,bn?on(e,m):e}function Ra(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Cl+t)}function ba(t){var e,n,r,i=t.length-1,o="",l=t[0];if(i>0){for(o+=l,e=1;e<i;e++)r=t[e]+"",n=pn-r.length,n&&(o+=os(n)),o+=r;l=t[e],r=l+"",n=pn-r.length,n&&(o+=os(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var ho=(function(){function t(r,i){var o,l=0,c=r.length;for(r=r.slice();c--;)o=r[c]*i+l,r[c]=o%nr|0,l=o/nr|0;return l&&r.unshift(l),r}function e(r,i,o,l){var c,f;if(o!=l)f=o>l?1:-1;else for(c=f=0;c<o;c++)if(r[c]!=i[c]){f=r[c]>i[c]?1:-1;break}return f}function n(r,i,o){for(var l=0;o--;)r[o]-=l,l=r[o]<i[o]?1:0,r[o]=l*nr+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,l){var c,f,h,p,m,v,_,E,S,w,O,I,N,L,C,M,A,P,k=r.constructor,U=r.s==i.s?1:-1,D=r.d,B=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(Mi+"Division by zero");for(f=r.e-i.e,A=B.length,C=D.length,_=new k(U),E=_.d=[],h=0;B[h]==(D[h]||0);)++h;if(B[h]>(D[h]||0)&&--f,o==null?I=o=k.precision:l?I=o+(zn(r)-zn(i))+1:I=o,I<0)return new k(0);if(I=I/pn+2|0,h=0,A==1)for(p=0,B=B[0],I++;(h<C||p)&&I--;h++)N=p*nr+(D[h]||0),E[h]=N/B|0,p=N%B|0;else{for(p=nr/(B[0]+1)|0,p>1&&(B=t(B,p),D=t(D,p),A=B.length,C=D.length),L=A,S=D.slice(0,A),w=S.length;w<A;)S[w++]=0;P=B.slice(),P.unshift(0),M=B[0],B[1]>=nr/2&&++M;do p=0,c=e(B,S,A,w),c<0?(O=S[0],A!=w&&(O=O*nr+(S[1]||0)),p=O/M|0,p>1?(p>=nr&&(p=nr-1),m=t(B,p),v=m.length,w=S.length,c=e(m,S,v,w),c==1&&(p--,n(m,A<v?P:B,v))):(p==0&&(c=p=1),m=B.slice()),v=m.length,v<w&&m.unshift(0),n(S,m,w),c==-1&&(w=S.length,c=e(B,S,A,w),c<1&&(p++,n(S,A<w?P:B,w))),w=S.length):c===0&&(p++,S=[0]),E[h++]=p,c&&S[0]?S[w++]=D[L]||0:(S=[D[L]],w=1);while((L++<C||S[0]!==void 0)&&I--)}return E[0]||E.shift(),_.e=f,on(_,l?o+zn(_)+1:o)}})();function vV(t,e){var n,r,i,o,l,c,f=0,h=0,p=t.constructor,m=p.precision;if(zn(t)>16)throw Error(vA+zn(t));if(!t.s)return new p(ui);for(bn=!1,c=m,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(r=Math.log(pl(2,h))/Math.LN10*2+5|0,c+=r,n=i=o=new p(ui),p.precision=c;;){if(i=on(i.times(t),c),n=n.times(++f),l=o.plus(ho(i,n,c)),ba(l.d).slice(0,c)===ba(o.d).slice(0,c)){for(;h--;)o=on(o.times(o),c);return p.precision=m,e==null?(bn=!0,on(o,m)):o}o=l}}function zn(t){for(var e=t.e*pn,n=t.d[0];n>=10;n/=10)e++;return e}function Xw(t,e,n){if(e>t.LN10.sd())throw bn=!0,n&&(t.precision=n),Error(Mi+"LN10 precision limit exceeded");return on(new t(t.LN10),e)}function os(t){for(var e="";t--;)e+="0";return e}function Zh(t,e){var n,r,i,o,l,c,f,h,p,m=1,v=10,_=t,E=_.d,S=_.constructor,w=S.precision;if(_.s<1)throw Error(Mi+(_.s?"NaN":"-Infinity"));if(_.eq(ui))return new S(0);if(e==null?(bn=!1,h=w):h=e,_.eq(10))return e==null&&(bn=!0),Xw(S,h);if(h+=v,S.precision=h,n=ba(E),r=n.charAt(0),o=zn(_),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=ba(_.d),r=n.charAt(0),m++;o=zn(_),r>1?(_=new S("0."+n),o++):_=new S(r+"."+n.slice(1))}else return f=Xw(S,h+2,w).times(o+""),_=Zh(new S(r+"."+n.slice(1)),h-v).plus(f),S.precision=w,e==null?(bn=!0,on(_,w)):_;for(c=l=_=ho(_.minus(ui),_.plus(ui),h),p=on(_.times(_),h),i=3;;){if(l=on(l.times(p),h),f=c.plus(ho(l,new S(i),h)),ba(f.d).slice(0,h)===ba(c.d).slice(0,h))return c=c.times(2),o!==0&&(c=c.plus(Xw(S,h+2,w).times(o+""))),c=ho(c,new S(m),h),S.precision=w,e==null?(bn=!0,on(c,w)):c;c=f,i+=2}}function Ij(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=nf(n/pn),t.d=[],r=(n+1)%pn,n<0&&(r+=pn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=pn;r<i;)t.d.push(+e.slice(r,r+=pn));e=e.slice(r),r=pn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),bn&&(t.e>Cg||t.e<-Cg))throw Error(vA+n)}else t.s=0,t.e=0,t.d=[0];return t}function on(t,e,n){var r,i,o,l,c,f,h,p,m=t.d;for(l=1,o=m[0];o>=10;o/=10)l++;if(r=e-l,r<0)r+=pn,i=e,h=m[p=0];else{if(p=Math.ceil((r+1)/pn),o=m.length,p>=o)return t;for(h=o=m[p],l=1;o>=10;o/=10)l++;r%=pn,i=r-pn+l}if(n!==void 0&&(o=pl(10,l-i-1),c=h/o%10|0,f=e<0||m[p+1]!==void 0||h%o,f=n<4?(c||f)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||f||n==6&&(r>0?i>0?h/pl(10,l-i):0:m[p-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return f?(o=zn(t),m.length=1,e=e-o-1,m[0]=pl(10,(pn-e%pn)%pn),t.e=nf(-e/pn)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=p,o=1,p--):(m.length=p+1,o=pl(10,pn-r),m[p]=i>0?(h/pl(10,l-i)%pl(10,i)|0)*o:0),f)for(;;)if(p==0){(m[0]+=o)==nr&&(m[0]=1,++t.e);break}else{if(m[p]+=o,m[p]!=nr)break;m[p--]=0,o=1}for(r=m.length;m[--r]===0;)m.pop();if(bn&&(t.e>Cg||t.e<-Cg))throw Error(vA+zn(t));return t}function bV(t,e){var n,r,i,o,l,c,f,h,p,m,v=t.constructor,_=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),bn?on(e,_):e;if(f=t.d,m=e.d,r=e.e,h=t.e,f=f.slice(),l=h-r,l){for(p=l<0,p?(n=f,l=-l,c=m.length):(n=m,r=h,c=f.length),i=Math.max(Math.ceil(_/pn),c)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=f.length,c=m.length,p=i<c,p&&(c=i),i=0;i<c;i++)if(f[i]!=m[i]){p=f[i]<m[i];break}l=0}for(p&&(n=f,f=m,m=n,e.s=-e.s),c=f.length,i=m.length-c;i>0;--i)f[c++]=0;for(i=m.length;i>l;){if(f[--i]<m[i]){for(o=i;o&&f[--o]===0;)f[o]=nr-1;--f[o],f[i]+=nr}f[i]-=m[i]}for(;f[--c]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,bn?on(e,_):e):new v(0)}function Vl(t,e,n){var r,i=zn(t),o=ba(t.d),l=o.length;return e?(n&&(r=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+os(r):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+os(-i-1)+o,n&&(r=n-l)>0&&(o+=os(r))):i>=l?(o+=os(i+1-l),n&&(r=n-i-1)>0&&(o=o+"."+os(r))):((r=i+1)<l&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(o+="."),o+=os(r))),t.s<0?"-"+o:o}function Pj(t,e){if(t.length>e)return t.length=e,!0}function _V(t){var e,n,r;function i(o){var l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,o instanceof i){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Cl+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return Ij(l,o.toString())}else if(typeof o!="string")throw Error(Cl+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,ete.test(o))Ij(l,o);else throw Error(Cl+o)}if(i.prototype=Me,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=_V,i.config=i.set=tte,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function tte(t){if(!t||typeof t!="object")throw Error(Mi+"Object expected");var e,n,r,i=["precision",1,tf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(nf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Cl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Cl+n+": "+r);return this}var bA=_V(Zee);ui=new bA(1);const rn=bA;function nte(t){return ote(t)||ate(t)||ite(t)||rte()}function rte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ite(t,e){if(t){if(typeof t=="string")return $S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $S(t,e)}}function ate(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ote(t){if(Array.isArray(t))return $S(t)}function $S(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ste=function(e){return e},xV={},wV=function(e){return e===xV},Rj=function(e){return function n(){return arguments.length===0||arguments.length===1&&wV(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},lte=function t(e,n){return e===1?n:Rj(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var l=i.filter(function(c){return c!==xV}).length;return l>=e?n.apply(void 0,i):t(e-l,Rj(function(){for(var c=arguments.length,f=new Array(c),h=0;h<c;h++)f[h]=arguments[h];var p=i.map(function(m){return wV(m)?f.shift():m});return n.apply(void 0,nte(p).concat(f))}))})},Jy=function(e){return lte(e.length,e)},US=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},ute=Jy(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),cte=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return ste;var i=n.reverse(),o=i[0],l=i.slice(1);return function(){return l.reduce(function(c,f){return f(c)},o.apply(void 0,arguments))}},BS=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},SV=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return n&&o.every(function(c,f){return c===n[f]})||(n=o,r=e.apply(void 0,o)),r}};function fte(t){var e;return t===0?e=1:e=Math.floor(new rn(t).abs().log(10).toNumber())+1,e}function hte(t,e,n){for(var r=new rn(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var dte=Jy(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),pte=Jy(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),mte=Jy(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Zy={rangeStep:hte,getDigitCount:fte,interpolateNumber:dte,uninterpolateNumber:pte,uninterpolateTruncation:mte};function qS(t){return vte(t)||yte(t)||EV(t)||gte()}function gte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yte(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function vte(t){if(Array.isArray(t))return zS(t)}function ed(t,e){return xte(t)||_te(t,e)||EV(t,e)||bte()}function bte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EV(t,e){if(t){if(typeof t=="string")return zS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zS(t,e)}}function zS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _te(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var l=t[Symbol.iterator](),c;!(r=(c=l.next()).done)&&(n.push(c.value),!(e&&n.length===e));r=!0);}catch(f){i=!0,o=f}finally{try{!r&&l.return!=null&&l.return()}finally{if(i)throw o}}return n}}function xte(t){if(Array.isArray(t))return t}function TV(t){var e=ed(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function AV(t,e,n){if(t.lte(0))return new rn(0);var r=Zy.getDigitCount(t.toNumber()),i=new rn(10).pow(r),o=t.div(i),l=r!==1?.05:.1,c=new rn(Math.ceil(o.div(l).toNumber())).add(n).mul(l),f=c.mul(i);return e?f:new rn(Math.ceil(f))}function wte(t,e,n){var r=1,i=new rn(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new rn(10).pow(Zy.getDigitCount(t)-1),i=new rn(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new rn(Math.floor(t)))}else t===0?i=new rn(Math.floor((e-1)/2)):n||(i=new rn(Math.floor(t)));var l=Math.floor((e-1)/2),c=cte(ute(function(f){return i.add(new rn(f-l).mul(r)).toNumber()}),US);return c(0,e)}function OV(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new rn(0),tickMin:new rn(0),tickMax:new rn(0)};var o=AV(new rn(e).sub(t).div(n-1),r,i),l;t<=0&&e>=0?l=new rn(0):(l=new rn(t).add(e).div(2),l=l.sub(new rn(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),f=Math.ceil(new rn(e).sub(l).div(o).toNumber()),h=c+f+1;return h>n?OV(t,e,n,r,i+1):(h<n&&(f=e>0?f+(n-h):f,c=e>0?c:c+(n-h)),{step:o,tickMin:l.sub(new rn(c).mul(o)),tickMax:l.add(new rn(f).mul(o))})}function Ste(t){var e=ed(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),c=TV([n,r]),f=ed(c,2),h=f[0],p=f[1];if(h===-1/0||p===1/0){var m=p===1/0?[h].concat(qS(US(0,i-1).map(function(){return 1/0}))):[].concat(qS(US(0,i-1).map(function(){return-1/0})),[p]);return n>r?BS(m):m}if(h===p)return wte(h,i,o);var v=OV(h,p,l,o),_=v.step,E=v.tickMin,S=v.tickMax,w=Zy.rangeStep(E,S.add(new rn(.1).mul(_)),_);return n>r?BS(w):w}function Ete(t,e){var n=ed(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=TV([r,i]),c=ed(l,2),f=c[0],h=c[1];if(f===-1/0||h===1/0)return[r,i];if(f===h)return[f];var p=Math.max(e,2),m=AV(new rn(h).sub(f).div(p-1),o,0),v=[].concat(qS(Zy.rangeStep(new rn(f),new rn(h).sub(new rn(.99).mul(m)),m)),[h]);return r>i?BS(v):v}var Tte=SV(Ste),Ate=SV(Ete),Ote="Invariant failed";function $l(t,e){throw new Error(Ote)}var Cte=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Tc(t){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(t)}function Ig(){return Ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ig.apply(this,arguments)}function Ite(t,e){return kte(t)||Nte(t,e)||Rte(t,e)||Pte()}function Pte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rte(t,e){if(t){if(typeof t=="string")return Nj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nj(t,e)}}function Nj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Nte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,l,c=[],f=!0,h=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(f=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function kte(t){if(Array.isArray(t))return t}function Mte(t,e){if(t==null)return{};var n=jte(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Dte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PV(r.key),r)}}function Vte(t,e,n){return e&&Lte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $te(t,e,n){return e=Pg(e),Ute(t,CV()?Reflect.construct(e,n||[],Pg(t).constructor):e.apply(t,n))}function Ute(t,e){if(e&&(Tc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bte(t)}function Bte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CV=function(){return!!t})()}function Pg(t){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pg(t)}function qte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FS(t,e)}function FS(t,e){return FS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},FS(t,e)}function IV(t,e,n){return e=PV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PV(t){var e=zte(t,"string");return Tc(e)=="symbol"?e:e+""}function zte(t,e){if(Tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qd=(function(t){function e(){return Dte(this,e),$te(this,e,arguments)}return qte(e,t),Vte(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,l=r.width,c=r.dataKey,f=r.data,h=r.dataPointFormatter,p=r.xAxis,m=r.yAxis,v=Mte(r,Cte),_=Qe(v,!1);this.props.direction==="x"&&p.type!=="number"&&$l();var E=f.map(function(S){var w=h(S,c),O=w.x,I=w.y,N=w.value,L=w.errorVal;if(!L)return null;var C=[],M,A;if(Array.isArray(L)){var P=Ite(L,2);M=P[0],A=P[1]}else M=A=L;if(o==="vertical"){var k=p.scale,U=I+i,D=U+l,B=U-l,V=k(N-M),Q=k(N+A);C.push({x1:Q,y1:D,x2:Q,y2:B}),C.push({x1:V,y1:U,x2:Q,y2:U}),C.push({x1:V,y1:D,x2:V,y2:B})}else if(o==="horizontal"){var J=m.scale,H=O+i,Y=H-l,ee=H+l,ce=J(N-M),_e=J(N+A);C.push({x1:Y,y1:_e,x2:ee,y2:_e}),C.push({x1:H,y1:ce,x2:H,y2:_e}),C.push({x1:Y,y1:ce,x2:ee,y2:ce})}return G.createElement(Ut,Ig({className:"recharts-errorBar",key:"bar-".concat(C.map(function(F){return"".concat(F.x1,"-").concat(F.x2,"-").concat(F.y1,"-").concat(F.y2)}))},_),C.map(function(F){return G.createElement("line",Ig({},F,{key:"line-".concat(F.x1,"-").concat(F.x2,"-").concat(F.y1,"-").concat(F.y2)}))}))});return G.createElement(Ut,{className:"recharts-errorBars"},E)}}])})(G.Component);IV(qd,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});IV(qd,"displayName","ErrorBar");function td(t){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(t)}function kj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kj(Object(n),!0).forEach(function(r){Fte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fte(t,e,n){return e=Hte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hte(t){var e=Gte(t,"string");return td(e)=="symbol"?e:e+""}function Gte(t,e){if(td(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RV=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,l=si(n,vs);if(!l)return null;var c=vs.defaultProps,f=c!==void 0?sl(sl({},c),l.props):{},h;return l.props&&l.props.payload?h=l.props&&l.props.payload:o==="children"?h=(r||[]).reduce(function(p,m){var v=m.item,_=m.props,E=_.sectors||_.data||[];return p.concat(E.map(function(S){return{type:l.props.iconType||v.props.legendType,value:S.name,color:S.fill,payload:S}}))},[]):h=(r||[]).map(function(p){var m=p.item,v=m.type.defaultProps,_=v!==void 0?sl(sl({},v),m.props):{},E=_.dataKey,S=_.name,w=_.legendType,O=_.hide;return{inactive:O,dataKey:E,type:f.iconType||w||"square",color:_A(m),value:S||E,payload:_}}),sl(sl(sl({},f),vs.getWithHeight(l,i)),{},{payload:h,item:l})};function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function Mj(t){return Xte(t)||Yte(t)||Wte(t)||Kte()}function Kte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wte(t,e){if(t){if(typeof t=="string")return HS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HS(t,e)}}function Yte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xte(t){if(Array.isArray(t))return HS(t)}function HS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function An(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jj(Object(n),!0).forEach(function(r){sc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sc(t,e,n){return e=Qte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qte(t){var e=Jte(t,"string");return nd(e)=="symbol"?e:e+""}function Jte(t,e){if(nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yn(t,e,n){return ut(t)||ut(e)?n:Qn(e)?fi(t,e,n):nt(e)?e(t):n}function Ch(t,e,n,r){var i=Xee(t,function(c){return Yn(c,e)});if(n==="number"){var o=i.filter(function(c){return Te(c)||parseFloat(c)});return o.length?[Qy(o),Xy(o)]:[1/0,-1/0]}var l=r?i.filter(function(c){return!ut(c)}):i;return l.map(function(c){return Qn(c)||c instanceof Date?c:""})}var Zte=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,l=-1,c=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(c<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var f=o.range,h=0;h<c;h++){var p=h>0?i[h-1].coordinate:i[c-1].coordinate,m=i[h].coordinate,v=h>=c-1?i[0].coordinate:i[h+1].coordinate,_=void 0;if(Mr(m-p)!==Mr(v-m)){var E=[];if(Mr(v-m)===Mr(f[1]-f[0])){_=v;var S=m+f[1]-f[0];E[0]=Math.min(S,(S+p)/2),E[1]=Math.max(S,(S+p)/2)}else{_=p;var w=v+f[1]-f[0];E[0]=Math.min(m,(w+m)/2),E[1]=Math.max(m,(w+m)/2)}var O=[Math.min(m,(_+m)/2),Math.max(m,(_+m)/2)];if(e>O[0]&&e<=O[1]||e>=E[0]&&e<=E[1]){l=i[h].index;break}}else{var I=Math.min(p,v),N=Math.max(p,v);if(e>(I+m)/2&&e<=(N+m)/2){l=i[h].index;break}}}else for(var L=0;L<c;L++)if(L===0&&e<=(r[L].coordinate+r[L+1].coordinate)/2||L>0&&L<c-1&&e>(r[L].coordinate+r[L-1].coordinate)/2&&e<=(r[L].coordinate+r[L+1].coordinate)/2||L===c-1&&e>(r[L].coordinate+r[L-1].coordinate)/2){l=r[L].index;break}return l},_A=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?An(An({},e.type.defaultProps),e.props):e.props,l=o.stroke,c=o.fill,f;switch(i){case"Line":f=l;break;case"Area":case"Radar":f=l&&l!=="none"?l:c;break;default:f=c;break}return f},ene=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var l={},c=Object.keys(o),f=0,h=c.length;f<h;f++)for(var p=o[c[f]].stackGroups,m=Object.keys(p),v=0,_=m.length;v<_;v++){var E=p[m[v]],S=E.items,w=E.cateAxisId,O=S.filter(function(A){return fo(A.type).indexOf("Bar")>=0});if(O&&O.length){var I=O[0].type.defaultProps,N=I!==void 0?An(An({},I),O[0].props):O[0].props,L=N.barSize,C=N[w];l[C]||(l[C]=[]);var M=ut(L)?n:L;l[C].push({item:O[0],stackList:O.slice(1),barSize:ut(M)?void 0:jr(M,r,0)})}}return l},tne=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,l=o===void 0?[]:o,c=e.maxBarSize,f=l.length;if(f<1)return null;var h=jr(n,i,0,!0),p,m=[];if(l[0].barSize===+l[0].barSize){var v=!1,_=i/f,E=l.reduce(function(L,C){return L+C.barSize||0},0);E+=(f-1)*h,E>=i&&(E-=(f-1)*h,h=0),E>=i&&_>0&&(v=!0,_*=.9,E=f*_);var S=(i-E)/2>>0,w={offset:S-h,size:0};p=l.reduce(function(L,C){var M={item:C.item,position:{offset:w.offset+w.size+h,size:v?_:C.barSize}},A=[].concat(Mj(L),[M]);return w=A[A.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(P){A.push({item:P,position:w})}),A},m)}else{var O=jr(r,i,0,!0);i-2*O-(f-1)*h<=0&&(h=0);var I=(i-2*O-(f-1)*h)/f;I>1&&(I>>=0);var N=c===+c?Math.min(I,c):I;p=l.reduce(function(L,C,M){var A=[].concat(Mj(L),[{item:C.item,position:{offset:O+(I+h)*M+(I-N)/2,size:N}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(P){A.push({item:P,position:A[A.length-1].position})}),A},m)}return p},nne=function(e,n,r,i){var o=r.children,l=r.width,c=r.margin,f=l-(c.left||0)-(c.right||0),h=RV({children:o,legendWidth:f});if(h){var p=i||{},m=p.width,v=p.height,_=h.align,E=h.verticalAlign,S=h.layout;if((S==="vertical"||S==="horizontal"&&E==="middle")&&_!=="center"&&Te(e[_]))return An(An({},e),{},sc({},_,e[_]+(m||0)));if((S==="horizontal"||S==="vertical"&&_==="center")&&E!=="middle"&&Te(e[E]))return An(An({},e),{},sc({},E,e[E]+(v||0)))}return e},rne=function(e,n,r){return ut(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},NV=function(e,n,r,i,o){var l=n.props.children,c=hi(l,qd).filter(function(h){return rne(i,o,h.props.direction)});if(c&&c.length){var f=c.map(function(h){return h.props.dataKey});return e.reduce(function(h,p){var m=Yn(p,r);if(ut(m))return h;var v=Array.isArray(m)?[Qy(m),Xy(m)]:[m,m],_=f.reduce(function(E,S){var w=Yn(p,S,0),O=v[0]-Math.abs(Array.isArray(w)?w[0]:w),I=v[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(O,E[0]),Math.max(I,E[1])]},[1/0,-1/0]);return[Math.min(_[0],h[0]),Math.max(_[1],h[1])]},[1/0,-1/0])}return null},ine=function(e,n,r,i,o){var l=n.map(function(c){return NV(e,c,r,o,i)}).filter(function(c){return!ut(c)});return l&&l.length?l.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]):null},kV=function(e,n,r,i,o){var l=n.map(function(f){var h=f.props.dataKey;return r==="number"&&h&&NV(e,f,h,i)||Ch(e,h,r,o)});if(r==="number")return l.reduce(function(f,h){return[Math.min(f[0],h[0]),Math.max(f[1],h[1])]},[1/0,-1/0]);var c={};return l.reduce(function(f,h){for(var p=0,m=h.length;p<m;p++)c[h[p]]||(c[h[p]]=!0,f.push(h[p]));return f},[])},MV=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},jV=function(e,n,r,i){if(i)return e.map(function(f){return f.coordinate});var o,l,c=e.map(function(f){return f.coordinate===n&&(o=!0),f.coordinate===r&&(l=!0),f.coordinate});return o||c.push(n),l||c.push(r),c},co=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,l=e.type,c=e.range,f=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,h=(n||r)&&l==="category"&&i.bandwidth?i.bandwidth()/f:0;if(h=e.axisType==="angleAxis"&&(c==null?void 0:c.length)>=2?Mr(c[0]-c[1])*2*h:h,n&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(m){var v=o?o.indexOf(m):m;return{coordinate:i(v)+h,value:m,offset:h}});return p.filter(function(m){return!jd(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,v){return{coordinate:i(m)+h,value:m,index:v,offset:h}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+h,value:m,offset:h}}):i.domain().map(function(m,v){return{coordinate:i(m)+h,value:o?o[m]:m,index:v,offset:h}})},Qw=new WeakMap,_m=function(e,n){if(typeof n!="function")return e;Qw.has(e)||Qw.set(e,new WeakMap);var r=Qw.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},DV=function(e,n,r){var i=e.scale,o=e.type,l=e.layout,c=e.axisType;if(i==="auto")return l==="radial"&&c==="radiusAxis"?{scale:Wh(),realScaleType:"band"}:l==="radial"&&c==="angleAxis"?{scale:Eg(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Oh(),realScaleType:"point"}:o==="category"?{scale:Wh(),realScaleType:"band"}:{scale:Eg(),realScaleType:"linear"};if(jl(i)){var f="scale".concat(jy(i));return{scale:(_j[f]||Oh)(),realScaleType:_j[f]?f:"point"}}return nt(i)?{scale:i}:{scale:Oh(),realScaleType:"point"}},Dj=1e-4,LV=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-Dj,l=Math.max(i[0],i[1])+Dj,c=e(n[0]),f=e(n[r-1]);(c<o||c>l||f<o||f>l)&&e.domain([n[0],n[r-1]])}},ane=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},one=function(e,n){if(!n||n.length!==2||!Te(n[0])||!Te(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!Te(e[0])||e[0]<r)&&(o[0]=r),(!Te(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},sne=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,l=0,c=0;c<n;++c){var f=jd(e[c][r][1])?e[c][r][0]:e[c][r][1];f>=0?(e[c][r][0]=o,e[c][r][1]=o+f,o=e[c][r][1]):(e[c][r][0]=l,e[c][r][1]=l+f,l=e[c][r][1])}},lne=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,l=0;l<n;++l){var c=jd(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=o,e[l][r][1]=o+c,o=e[l][r][1]):(e[l][r][0]=0,e[l][r][1]=0)}},une={sign:sne,expand:XW,none:yc,silhouette:QW,wiggle:JW,positive:lne},cne=function(e,n,r){var i=n.map(function(c){return c.props.dataKey}),o=une[r],l=YW().keys(i).value(function(c,f){return+Yn(c,f,0)}).order(xS).offset(o);return l(e)},fne=function(e,n,r,i,o,l){if(!e)return null;var c=l?n.reverse():n,f={},h=c.reduce(function(m,v){var _,E=(_=v.type)!==null&&_!==void 0&&_.defaultProps?An(An({},v.type.defaultProps),v.props):v.props,S=E.stackId,w=E.hide;if(w)return m;var O=E[r],I=m[O]||{hasStack:!1,stackGroups:{}};if(Qn(S)){var N=I.stackGroups[S]||{numericAxisId:r,cateAxisId:i,items:[]};N.items.push(v),I.hasStack=!0,I.stackGroups[S]=N}else I.stackGroups[Jc("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[v]};return An(An({},m),{},sc({},O,I))},f),p={};return Object.keys(h).reduce(function(m,v){var _=h[v];if(_.hasStack){var E={};_.stackGroups=Object.keys(_.stackGroups).reduce(function(S,w){var O=_.stackGroups[w];return An(An({},S),{},sc({},w,{numericAxisId:r,cateAxisId:i,items:O.items,stackedData:cne(e,O.items,o)}))},E)}return An(An({},m),{},sc({},v,_))},p)},VV=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,l=n.originalDomain,c=n.allowDecimals,f=r||n.scale;if(f!=="auto"&&f!=="linear")return null;if(o&&i==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var h=e.domain();if(!h.length)return null;var p=Tte(h,o,c);return e.domain([Qy(p),Xy(p)]),{niceTicks:p}}if(o&&i==="number"){var m=e.domain(),v=Ate(m,o,c);return{niceTicks:v}}return null};function Lj(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,l=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ut(i[e.dataKey])){var c=og(n,"value",i[e.dataKey]);if(c)return c.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var f=Yn(i,ut(l)?e.dataKey:l);return ut(f)?null:e.scale(f)}var Vj=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,l=e.entry,c=e.index;if(n.type==="category")return r[c]?r[c].coordinate+i:null;var f=Yn(l,n.dataKey,n.domain[c]);return ut(f)?null:n.scale(f)-o/2+i},hne=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},dne=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?An(An({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Qn(o)){var l=n[o];if(l){var c=l.items.indexOf(e);return c>=0?l.stackedData[c]:null}}return null},pne=function(e){return e.reduce(function(n,r){return[Qy(r.concat([n[0]]).filter(Te)),Xy(r.concat([n[1]]).filter(Te))]},[1/0,-1/0])},$V=function(e,n,r){return Object.keys(e).reduce(function(i,o){var l=e[o],c=l.stackedData,f=c.reduce(function(h,p){var m=pne(p.slice(n,r+1));return[Math.min(h[0],m[0]),Math.max(h[1],m[1])]},[1/0,-1/0]);return[Math.min(f[0],i[0]),Math.max(f[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},$j=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Uj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,GS=function(e,n,r){if(nt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Te(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if($j.test(e[0])){var o=+$j.exec(e[0])[1];i[0]=n[0]-o}else nt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Te(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(Uj.test(e[1])){var l=+Uj.exec(e[1])[1];i[1]=n[1]+l}else nt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Rg=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=WT(n,function(m){return m.coordinate}),l=1/0,c=1,f=o.length;c<f;c++){var h=o[c],p=o[c-1];l=Math.min((h.coordinate||0)-(p.coordinate||0),l)}return l===1/0?0:l}return r?void 0:0},Bj=function(e,n,r){return!e||!e.length||Bd(e,fi(r,"type.defaultProps.domain"))?n:e},UV=function(e,n){var r=e.type.defaultProps?An(An({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,l=r.unit,c=r.formatter,f=r.tooltipType,h=r.chartType,p=r.hide;return An(An({},Qe(e,!1)),{},{dataKey:i,unit:l,formatter:c,name:o||i,color:_A(e),value:Yn(n,i),type:f,payload:n,chartType:h,hide:p})};function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function qj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function io(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qj(Object(n),!0).forEach(function(r){BV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BV(t,e,n){return e=mne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mne(t){var e=gne(t,"string");return rd(e)=="symbol"?e:e+""}function gne(t,e){if(rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yne(t,e){return xne(t)||_ne(t,e)||bne(t,e)||vne()}function vne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bne(t,e){if(t){if(typeof t=="string")return zj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zj(t,e)}}function zj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _ne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,l,c=[],f=!0,h=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(f=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function xne(t){if(Array.isArray(t))return t}var Ng=Math.PI/180,wne=function(e){return e*180/Math.PI},un=function(e,n,r,i){return{x:e+Math.cos(-Ng*i)*r,y:n+Math.sin(-Ng*i)*r}},qV=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Sne=function(e,n,r,i,o){var l=e.width,c=e.height,f=e.startAngle,h=e.endAngle,p=jr(e.cx,l,l/2),m=jr(e.cy,c,c/2),v=qV(l,c,r),_=jr(e.innerRadius,v,0),E=jr(e.outerRadius,v,v*.8),S=Object.keys(n);return S.reduce(function(w,O){var I=n[O],N=I.domain,L=I.reversed,C;if(ut(I.range))i==="angleAxis"?C=[f,h]:i==="radiusAxis"&&(C=[_,E]),L&&(C=[C[1],C[0]]);else{C=I.range;var M=C,A=yne(M,2);f=A[0],h=A[1]}var P=DV(I,o),k=P.realScaleType,U=P.scale;U.domain(N).range(C),LV(U);var D=VV(U,io(io({},I),{},{realScaleType:k})),B=io(io(io({},I),D),{},{range:C,radius:E,realScaleType:k,scale:U,cx:p,cy:m,innerRadius:_,outerRadius:E,startAngle:f,endAngle:h});return io(io({},w),{},BV({},O,B))},{})},Ene=function(e,n){var r=e.x,i=e.y,o=n.x,l=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-l,2))},Tne=function(e,n){var r=e.x,i=e.y,o=n.cx,l=n.cy,c=Ene({x:r,y:i},{x:o,y:l});if(c<=0)return{radius:c};var f=(r-o)/c,h=Math.acos(f);return i>l&&(h=2*Math.PI-h),{radius:c,angle:wne(h),angleInRadian:h}},Ane=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),l=Math.min(i,o);return{startAngle:n-l*360,endAngle:r-l*360}},One=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),l=Math.floor(i/360),c=Math.min(o,l);return e+c*360},Fj=function(e,n){var r=e.x,i=e.y,o=Tne({x:r,y:i},n),l=o.radius,c=o.angle,f=n.innerRadius,h=n.outerRadius;if(l<f||l>h)return!1;if(l===0)return!0;var p=Ane(n),m=p.startAngle,v=p.endAngle,_=c,E;if(m<=v){for(;_>v;)_-=360;for(;_<m;)_+=360;E=_>=m&&_<=v}else{for(;_>m;)_-=360;for(;_<v;)_+=360;E=_>=v&&_<=m}return E?io(io({},n),{},{radius:l,angle:One(_,n)}):null},zV=function(e){return!$.isValidElement(e)&&!nt(e)&&typeof e!="boolean"?e.className:""};function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}var Cne=["offset"];function Ine(t){return kne(t)||Nne(t)||Rne(t)||Pne()}function Pne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rne(t,e){if(t){if(typeof t=="string")return KS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KS(t,e)}}function Nne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kne(t){if(Array.isArray(t))return KS(t)}function KS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mne(t,e){if(t==null)return{};var n=jne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Hj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Hj(Object(n),!0).forEach(function(r){Dne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Hj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dne(t,e,n){return e=Lne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lne(t){var e=Vne(t,"string");return id(e)=="symbol"?e:e+""}function Vne(t,e){if(id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ad(){return ad=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ad.apply(this,arguments)}var $ne=function(e){var n=e.value,r=e.formatter,i=ut(e.children)?n:e.children;return nt(r)?r(i):i},Une=function(e,n){var r=Mr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Bne=function(e,n,r){var i=e.position,o=e.viewBox,l=e.offset,c=e.className,f=o,h=f.cx,p=f.cy,m=f.innerRadius,v=f.outerRadius,_=f.startAngle,E=f.endAngle,S=f.clockWise,w=(m+v)/2,O=Une(_,E),I=O>=0?1:-1,N,L;i==="insideStart"?(N=_+I*l,L=S):i==="insideEnd"?(N=E-I*l,L=!S):i==="end"&&(N=E+I*l,L=S),L=O<=0?L:!L;var C=un(h,p,w,N),M=un(h,p,w,N+(L?1:-1)*359),A="M".concat(C.x,",").concat(C.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(L?0:1,`,
    `).concat(M.x,",").concat(M.y),P=ut(e.id)?Jc("recharts-radial-line-"):e.id;return G.createElement("text",ad({},r,{dominantBaseline:"central",className:vt("recharts-radial-bar-label",c)}),G.createElement("defs",null,G.createElement("path",{id:P,d:A})),G.createElement("textPath",{xlinkHref:"#".concat(P)},n))},qne=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,l=o.cx,c=o.cy,f=o.innerRadius,h=o.outerRadius,p=o.startAngle,m=o.endAngle,v=(p+m)/2;if(i==="outside"){var _=un(l,c,h+r,v),E=_.x,S=_.y;return{x:E,y:S,textAnchor:E>=l?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:l,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:l,y:c,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:l,y:c,textAnchor:"middle",verticalAnchor:"end"};var w=(f+h)/2,O=un(l,c,w,v),I=O.x,N=O.y;return{x:I,y:N,textAnchor:"middle",verticalAnchor:"middle"}},zne=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,l=n,c=l.x,f=l.y,h=l.width,p=l.height,m=p>=0?1:-1,v=m*i,_=m>0?"end":"start",E=m>0?"start":"end",S=h>=0?1:-1,w=S*i,O=S>0?"end":"start",I=S>0?"start":"end";if(o==="top"){var N={x:c+h/2,y:f-m*i,textAnchor:"middle",verticalAnchor:_};return Kn(Kn({},N),r?{height:Math.max(f-r.y,0),width:h}:{})}if(o==="bottom"){var L={x:c+h/2,y:f+p+v,textAnchor:"middle",verticalAnchor:E};return Kn(Kn({},L),r?{height:Math.max(r.y+r.height-(f+p),0),width:h}:{})}if(o==="left"){var C={x:c-w,y:f+p/2,textAnchor:O,verticalAnchor:"middle"};return Kn(Kn({},C),r?{width:Math.max(C.x-r.x,0),height:p}:{})}if(o==="right"){var M={x:c+h+w,y:f+p/2,textAnchor:I,verticalAnchor:"middle"};return Kn(Kn({},M),r?{width:Math.max(r.x+r.width-M.x,0),height:p}:{})}var A=r?{width:h,height:p}:{};return o==="insideLeft"?Kn({x:c+w,y:f+p/2,textAnchor:I,verticalAnchor:"middle"},A):o==="insideRight"?Kn({x:c+h-w,y:f+p/2,textAnchor:O,verticalAnchor:"middle"},A):o==="insideTop"?Kn({x:c+h/2,y:f+v,textAnchor:"middle",verticalAnchor:E},A):o==="insideBottom"?Kn({x:c+h/2,y:f+p-v,textAnchor:"middle",verticalAnchor:_},A):o==="insideTopLeft"?Kn({x:c+w,y:f+v,textAnchor:I,verticalAnchor:E},A):o==="insideTopRight"?Kn({x:c+h-w,y:f+v,textAnchor:O,verticalAnchor:E},A):o==="insideBottomLeft"?Kn({x:c+w,y:f+p-v,textAnchor:I,verticalAnchor:_},A):o==="insideBottomRight"?Kn({x:c+h-w,y:f+p-v,textAnchor:O,verticalAnchor:_},A):Qc(o)&&(Te(o.x)||xl(o.x))&&(Te(o.y)||xl(o.y))?Kn({x:c+jr(o.x,h),y:f+jr(o.y,p),textAnchor:"end",verticalAnchor:"end"},A):Kn({x:c+h/2,y:f+p/2,textAnchor:"middle",verticalAnchor:"middle"},A)},Fne=function(e){return"cx"in e&&Te(e.cx)};function rr(t){var e=t.offset,n=e===void 0?5:e,r=Mne(t,Cne),i=Kn({offset:n},r),o=i.viewBox,l=i.position,c=i.value,f=i.children,h=i.content,p=i.className,m=p===void 0?"":p,v=i.textBreakAll;if(!o||ut(c)&&ut(f)&&!$.isValidElement(h)&&!nt(h))return null;if($.isValidElement(h))return $.cloneElement(h,i);var _;if(nt(h)){if(_=$.createElement(h,i),$.isValidElement(_))return _}else _=$ne(i);var E=Fne(o),S=Qe(i,!0);if(E&&(l==="insideStart"||l==="insideEnd"||l==="end"))return Bne(i,_,S);var w=E?qne(i):zne(i);return G.createElement(Ll,ad({className:vt("recharts-label",m)},S,w,{breakAll:v}),_)}rr.displayName="Label";var FV=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,l=e.endAngle,c=e.r,f=e.radius,h=e.innerRadius,p=e.outerRadius,m=e.x,v=e.y,_=e.top,E=e.left,S=e.width,w=e.height,O=e.clockWise,I=e.labelViewBox;if(I)return I;if(Te(S)&&Te(w)){if(Te(m)&&Te(v))return{x:m,y:v,width:S,height:w};if(Te(_)&&Te(E))return{x:_,y:E,width:S,height:w}}return Te(m)&&Te(v)?{x:m,y:v,width:0,height:0}:Te(n)&&Te(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:l||i||0,innerRadius:h||0,outerRadius:p||f||c||0,clockWise:O}:e.viewBox?e.viewBox:{}},Hne=function(e,n){return e?e===!0?G.createElement(rr,{key:"label-implicit",viewBox:n}):Qn(e)?G.createElement(rr,{key:"label-implicit",viewBox:n,value:e}):$.isValidElement(e)?e.type===rr?$.cloneElement(e,{key:"label-implicit",viewBox:n}):G.createElement(rr,{key:"label-implicit",content:e,viewBox:n}):nt(e)?G.createElement(rr,{key:"label-implicit",content:e,viewBox:n}):Qc(e)?G.createElement(rr,ad({viewBox:n},e,{key:"label-implicit"})):null:null},Gne=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=FV(e),l=hi(i,rr).map(function(f,h){return $.cloneElement(f,{viewBox:n||o,key:"label-".concat(h)})});if(!r)return l;var c=Hne(e.label,n||o);return[c].concat(Ine(l))};rr.parseViewBox=FV;rr.renderCallByParent=Gne;var Jw,Gj;function Kne(){if(Gj)return Jw;Gj=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return Jw=t,Jw}var Wne=Kne();const Yne=Kt(Wne);function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}var Xne=["valueAccessor"],Qne=["data","dataKey","clockWise","id","textBreakAll"];function Jne(t){return nre(t)||tre(t)||ere(t)||Zne()}function Zne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ere(t,e){if(t){if(typeof t=="string")return WS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WS(t,e)}}function tre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nre(t){if(Array.isArray(t))return WS(t)}function WS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kg(){return kg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kg.apply(this,arguments)}function Kj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kj(Object(n),!0).forEach(function(r){rre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rre(t,e,n){return e=ire(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ire(t){var e=are(t,"string");return od(e)=="symbol"?e:e+""}function are(t,e){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yj(t,e){if(t==null)return{};var n=ore(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ore(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var sre=function(e){return Array.isArray(e.value)?Yne(e.value):e.value};function po(t){var e=t.valueAccessor,n=e===void 0?sre:e,r=Yj(t,Xne),i=r.data,o=r.dataKey,l=r.clockWise,c=r.id,f=r.textBreakAll,h=Yj(r,Qne);return!i||!i.length?null:G.createElement(Ut,{className:"recharts-label-list"},i.map(function(p,m){var v=ut(o)?n(p,m):Yn(p&&p.payload,o),_=ut(c)?{}:{id:"".concat(c,"-").concat(m)};return G.createElement(rr,kg({},Qe(p,!0),h,_,{parentViewBox:p.parentViewBox,value:v,textBreakAll:f,viewBox:rr.parseViewBox(ut(l)?p:Wj(Wj({},p),{},{clockWise:l})),key:"label-".concat(m),index:m}))}))}po.displayName="LabelList";function lre(t,e){return t?t===!0?G.createElement(po,{key:"labelList-implicit",data:e}):G.isValidElement(t)||nt(t)?G.createElement(po,{key:"labelList-implicit",data:e,content:t}):Qc(t)?G.createElement(po,kg({data:e},t,{key:"labelList-implicit"})):null:null}function ure(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=hi(r,po).map(function(l,c){return $.cloneElement(l,{data:e,key:"labelList-".concat(c)})});if(!n)return i;var o=lre(t.label,e);return[o].concat(Jne(i))}po.renderCallByParent=ure;function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}function YS(){return YS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YS.apply(this,arguments)}function Xj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xj(Object(n),!0).forEach(function(r){cre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cre(t,e,n){return e=fre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fre(t){var e=hre(t,"string");return sd(e)=="symbol"?e:e+""}function hre(t,e){if(sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dre=function(e,n){var r=Mr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},xm=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,l=e.sign,c=e.isExternal,f=e.cornerRadius,h=e.cornerIsExternal,p=f*(c?1:-1)+i,m=Math.asin(f/p)/Ng,v=h?o:o+l*m,_=un(n,r,p,v),E=un(n,r,i,v),S=h?o-l*m:o,w=un(n,r,p*Math.cos(m*Ng),S);return{center:_,circleTangency:E,lineTangency:w,theta:m}},HV=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,l=e.startAngle,c=e.endAngle,f=dre(l,c),h=l+f,p=un(n,r,o,l),m=un(n,r,o,h),v="M ".concat(p.x,",").concat(p.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(f)>180),",").concat(+(l>h),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var _=un(n,r,i,l),E=un(n,r,i,h);v+="L ".concat(E.x,",").concat(E.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(f)>180),",").concat(+(l<=h),`,
            `).concat(_.x,",").concat(_.y," Z")}else v+="L ".concat(n,",").concat(r," Z");return v},pre=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,l=e.cornerRadius,c=e.forceCornerRadius,f=e.cornerIsExternal,h=e.startAngle,p=e.endAngle,m=Mr(p-h),v=xm({cx:n,cy:r,radius:o,angle:h,sign:m,cornerRadius:l,cornerIsExternal:f}),_=v.circleTangency,E=v.lineTangency,S=v.theta,w=xm({cx:n,cy:r,radius:o,angle:p,sign:-m,cornerRadius:l,cornerIsExternal:f}),O=w.circleTangency,I=w.lineTangency,N=w.theta,L=f?Math.abs(h-p):Math.abs(h-p)-S-N;if(L<0)return c?"M ".concat(E.x,",").concat(E.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):HV({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:h,endAngle:p});var C="M ".concat(E.x,",").concat(E.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(L>180),",").concat(+(m<0),",").concat(O.x,",").concat(O.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(I.x,",").concat(I.y,`
  `);if(i>0){var M=xm({cx:n,cy:r,radius:i,angle:h,sign:m,isExternal:!0,cornerRadius:l,cornerIsExternal:f}),A=M.circleTangency,P=M.lineTangency,k=M.theta,U=xm({cx:n,cy:r,radius:i,angle:p,sign:-m,isExternal:!0,cornerRadius:l,cornerIsExternal:f}),D=U.circleTangency,B=U.lineTangency,V=U.theta,Q=f?Math.abs(h-p):Math.abs(h-p)-k-V;if(Q<0&&l===0)return"".concat(C,"L").concat(n,",").concat(r,"Z");C+="L".concat(B.x,",").concat(B.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Q>180),",").concat(+(m>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(P.x,",").concat(P.y,"Z")}else C+="L".concat(n,",").concat(r,"Z");return C},mre={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},GV=function(e){var n=Qj(Qj({},mre),e),r=n.cx,i=n.cy,o=n.innerRadius,l=n.outerRadius,c=n.cornerRadius,f=n.forceCornerRadius,h=n.cornerIsExternal,p=n.startAngle,m=n.endAngle,v=n.className;if(l<o||p===m)return null;var _=vt("recharts-sector",v),E=l-o,S=jr(c,E,0,!0),w;return S>0&&Math.abs(p-m)<360?w=pre({cx:r,cy:i,innerRadius:o,outerRadius:l,cornerRadius:Math.min(S,E/2),forceCornerRadius:f,cornerIsExternal:h,startAngle:p,endAngle:m}):w=HV({cx:r,cy:i,innerRadius:o,outerRadius:l,startAngle:p,endAngle:m}),G.createElement("path",YS({},Qe(n,!0),{className:_,d:w,role:"img"}))};function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function XS(){return XS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XS.apply(this,arguments)}function Jj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jj(Object(n),!0).forEach(function(r){gre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gre(t,e,n){return e=yre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yre(t){var e=vre(t,"string");return ld(e)=="symbol"?e:e+""}function vre(t,e){if(ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eD={curveBasisClosed:VW,curveBasisOpen:$W,curveBasis:LW,curveBumpX:SW,curveBumpY:EW,curveLinearClosed:UW,curveLinear:Ly,curveMonotoneX:BW,curveMonotoneY:qW,curveNatural:zW,curveStep:FW,curveStepAfter:GW,curveStepBefore:HW},wm=function(e){return e.x===+e.x&&e.y===+e.y},ih=function(e){return e.x},ah=function(e){return e.y},bre=function(e,n){if(nt(e))return e;var r="curve".concat(jy(e));return(r==="curveMonotone"||r==="curveBump")&&n?eD["".concat(r).concat(n==="vertical"?"Y":"X")]:eD[r]||Ly},_re=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,l=e.baseLine,c=e.layout,f=e.connectNulls,h=f===void 0?!1:f,p=bre(r,c),m=h?o.filter(function(S){return wm(S)}):o,v;if(Array.isArray(l)){var _=h?l.filter(function(S){return wm(S)}):l,E=m.map(function(S,w){return Zj(Zj({},S),{},{base:_[w]})});return c==="vertical"?v=dm().y(ah).x1(ih).x0(function(S){return S.base.x}):v=dm().x(ih).y1(ah).y0(function(S){return S.base.y}),v.defined(wm).curve(p),v(E)}return c==="vertical"&&Te(l)?v=dm().y(ah).x1(ih).x0(l):Te(l)?v=dm().x(ih).y1(ah).y0(l):v=z6().x(ih).y(ah),v.defined(wm).curve(p),v(m)},Mg=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var l=r&&r.length?_re(e):i;return $.createElement("path",XS({},Qe(e,!1),sg(e),{className:vt("recharts-curve",n),d:l,ref:o}))},Zw={exports:{}},e1,tD;function xre(){if(tD)return e1;tD=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return e1=t,e1}var t1,nD;function wre(){if(nD)return t1;nD=1;var t=xre();function e(){}function n(){}return n.resetWarningCache=e,t1=function(){function r(l,c,f,h,p,m){if(m!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},t1}var rD;function Sre(){return rD||(rD=1,Zw.exports=wre()()),Zw.exports}var Ere=Sre();const Yt=Kt(Ere);var Tre=Object.getOwnPropertyNames,Are=Object.getOwnPropertySymbols,Ore=Object.prototype.hasOwnProperty;function iD(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function Sm(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,l=o.get(n),c=o.get(r);if(l&&c)return l===r&&c===n;o.set(n,r),o.set(r,n);var f=t(n,r,i);return o.delete(n),o.delete(r),f}}function Cre(t){return t!=null?t[Symbol.toStringTag]:void 0}function aD(t){return Tre(t).concat(Are(t))}var Ire=Object.hasOwn||(function(t,e){return Ore.call(t,e)});function Yl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Pre="__v",Rre="__o",Nre="_owner",oD=Object.getOwnPropertyDescriptor,sD=Object.keys;function kre(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Mre(t,e){return Yl(t.getTime(),e.getTime())}function jre(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Dre(t,e){return t===e}function lD(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),l,c,f=0;(l=o.next())&&!l.done;){for(var h=e.entries(),p=!1,m=0;(c=h.next())&&!c.done;){if(i[m]){m++;continue}var v=l.value,_=c.value;if(n.equals(v[0],_[0],f,m,t,e,n)&&n.equals(v[1],_[1],v[0],_[0],t,e,n)){p=i[m]=!0;break}m++}if(!p)return!1;f++}return!0}var Lre=Yl;function Vre(t,e,n){var r=sD(t),i=r.length;if(sD(e).length!==i)return!1;for(;i-- >0;)if(!KV(t,e,n,r[i]))return!1;return!0}function oh(t,e,n){var r=aD(t),i=r.length;if(aD(e).length!==i)return!1;for(var o,l,c;i-- >0;)if(o=r[i],!KV(t,e,n,o)||(l=oD(t,o),c=oD(e,o),(l||c)&&(!l||!c||l.configurable!==c.configurable||l.enumerable!==c.enumerable||l.writable!==c.writable)))return!1;return!0}function $re(t,e){return Yl(t.valueOf(),e.valueOf())}function Ure(t,e){return t.source===e.source&&t.flags===e.flags}function uD(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),l,c;(l=o.next())&&!l.done;){for(var f=e.values(),h=!1,p=0;(c=f.next())&&!c.done;){if(!i[p]&&n.equals(l.value,c.value,l.value,c.value,t,e,n)){h=i[p]=!0;break}p++}if(!h)return!1}return!0}function Bre(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function qre(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function KV(t,e,n,r){return(r===Nre||r===Rre||r===Pre)&&(t.$$typeof||e.$$typeof)?!0:Ire(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var zre="[object Arguments]",Fre="[object Boolean]",Hre="[object Date]",Gre="[object Error]",Kre="[object Map]",Wre="[object Number]",Yre="[object Object]",Xre="[object RegExp]",Qre="[object Set]",Jre="[object String]",Zre="[object URL]",eie=Array.isArray,cD=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,fD=Object.assign,tie=Object.prototype.toString.call.bind(Object.prototype.toString);function nie(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,l=t.areNumbersEqual,c=t.areObjectsEqual,f=t.arePrimitiveWrappersEqual,h=t.areRegExpsEqual,p=t.areSetsEqual,m=t.areTypedArraysEqual,v=t.areUrlsEqual,_=t.unknownTagComparators;return function(S,w,O){if(S===w)return!0;if(S==null||w==null)return!1;var I=typeof S;if(I!==typeof w)return!1;if(I!=="object")return I==="number"?l(S,w,O):I==="function"?i(S,w,O):!1;var N=S.constructor;if(N!==w.constructor)return!1;if(N===Object)return c(S,w,O);if(eie(S))return e(S,w,O);if(cD!=null&&cD(S))return m(S,w,O);if(N===Date)return n(S,w,O);if(N===RegExp)return h(S,w,O);if(N===Map)return o(S,w,O);if(N===Set)return p(S,w,O);var L=tie(S);if(L===Hre)return n(S,w,O);if(L===Xre)return h(S,w,O);if(L===Kre)return o(S,w,O);if(L===Qre)return p(S,w,O);if(L===Yre)return typeof S.then!="function"&&typeof w.then!="function"&&c(S,w,O);if(L===Zre)return v(S,w,O);if(L===Gre)return r(S,w,O);if(L===zre)return c(S,w,O);if(L===Fre||L===Wre||L===Jre)return f(S,w,O);if(_){var C=_[L];if(!C){var M=Cre(S);M&&(C=_[M])}if(C)return C(S,w,O)}return!1}}function rie(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?oh:kre,areDatesEqual:Mre,areErrorsEqual:jre,areFunctionsEqual:Dre,areMapsEqual:r?iD(lD,oh):lD,areNumbersEqual:Lre,areObjectsEqual:r?oh:Vre,arePrimitiveWrappersEqual:$re,areRegExpsEqual:Ure,areSetsEqual:r?iD(uD,oh):uD,areTypedArraysEqual:r?oh:Bre,areUrlsEqual:qre,unknownTagComparators:void 0};if(n&&(i=fD({},i,n(i))),e){var o=Sm(i.areArraysEqual),l=Sm(i.areMapsEqual),c=Sm(i.areObjectsEqual),f=Sm(i.areSetsEqual);i=fD({},i,{areArraysEqual:o,areMapsEqual:l,areObjectsEqual:c,areSetsEqual:f})}return i}function iie(t){return function(e,n,r,i,o,l,c){return t(e,n,c)}}function aie(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(f,h){var p=r(),m=p.cache,v=m===void 0?e?new WeakMap:void 0:m,_=p.meta;return n(f,h,{cache:v,equals:i,meta:_,strict:o})};if(e)return function(f,h){return n(f,h,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var l={cache:void 0,equals:i,meta:void 0,strict:o};return function(f,h){return n(f,h,l)}}var oie=Rs();Rs({strict:!0});Rs({circular:!0});Rs({circular:!0,strict:!0});Rs({createInternalComparator:function(){return Yl}});Rs({strict:!0,createInternalComparator:function(){return Yl}});Rs({circular:!0,createInternalComparator:function(){return Yl}});Rs({circular:!0,createInternalComparator:function(){return Yl},strict:!0});function Rs(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,l=o===void 0?!1:o,c=rie(t),f=nie(c),h=r?r(f):iie(f);return aie({circular:n,comparator:f,createState:i,equals:h,strict:l})}function sie(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function hD(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):sie(i)};requestAnimationFrame(r)}function QS(t){"@babel/helpers - typeof";return QS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QS(t)}function lie(t){return hie(t)||fie(t)||cie(t)||uie()}function uie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cie(t,e){if(t){if(typeof t=="string")return dD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dD(t,e)}}function dD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hie(t){if(Array.isArray(t))return t}function die(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,c=lie(l),f=c[0],h=c.slice(1);if(typeof f=="number"){hD(i.bind(null,h),f);return}i(f),hD(i.bind(null,h));return}QS(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function pD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pD(Object(n),!0).forEach(function(r){WV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WV(t,e,n){return e=pie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pie(t){var e=mie(t,"string");return ud(e)==="symbol"?e:String(e)}function mie(t,e){if(ud(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ud(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gie=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},yie=function(e){return e},vie=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Ih=function(e,n){return Object.keys(n).reduce(function(r,i){return mD(mD({},r),{},WV({},i,e(i,n[i])))},{})},gD=function(e,n,r){return e.map(function(i){return"".concat(vie(i)," ").concat(n,"ms ").concat(r)}).join(",")};function bie(t,e){return wie(t)||xie(t,e)||YV(t,e)||_ie()}function _ie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,l,c=[],f=!0,h=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(f=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function wie(t){if(Array.isArray(t))return t}function Sie(t){return Aie(t)||Tie(t)||YV(t)||Eie()}function Eie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YV(t,e){if(t){if(typeof t=="string")return JS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JS(t,e)}}function Tie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Aie(t){if(Array.isArray(t))return JS(t)}function JS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var jg=1e-4,XV=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},QV=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},yD=function(e,n){return function(r){var i=XV(e,n);return QV(i,r)}},Oie=function(e,n){return function(r){var i=XV(e,n),o=[].concat(Sie(i.map(function(l,c){return l*c}).slice(1)),[0]);return QV(o,r)}},vD=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],l=n[2],c=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,l=1,c=1;break;case"ease":i=.25,o=.1,l=.25,c=1;break;case"ease-in":i=.42,o=0,l=1,c=1;break;case"ease-out":i=.42,o=0,l=.58,c=1;break;case"ease-in-out":i=0,o=0,l=.58,c=1;break;default:{var f=n[0].split("(");if(f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4){var h=f[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),p=bie(h,4);i=p[0],o=p[1],l=p[2],c=p[3]}}}var m=yD(i,l),v=yD(o,c),_=Oie(i,l),E=function(O){return O>1?1:O<0?0:O},S=function(O){for(var I=O>1?1:O,N=I,L=0;L<8;++L){var C=m(N)-I,M=_(N);if(Math.abs(C-I)<jg||M<jg)return v(N);N=E(N-C/M)}return v(N)};return S.isStepper=!1,S},Cie=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,l=e.dt,c=l===void 0?17:l,f=function(p,m,v){var _=-(p-m)*r,E=v*o,S=v+(_-E)*c/1e3,w=v*c/1e3+p;return Math.abs(w-m)<jg&&Math.abs(S)<jg?[m,0]:[w,S]};return f.isStepper=!0,f.dt=c,f},Iie=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return vD(i);case"spring":return Cie();default:if(i.split("(")[0]==="cubic-bezier")return vD(i)}return typeof i=="function"?i:null};function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function bD(t){return Nie(t)||Rie(t)||JV(t)||Pie()}function Pie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Nie(t){if(Array.isArray(t))return eE(t)}function _D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_D(Object(n),!0).forEach(function(r){ZS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_D(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZS(t,e,n){return e=kie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kie(t){var e=Mie(t,"string");return cd(e)==="symbol"?e:String(e)}function Mie(t,e){if(cd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jie(t,e){return Vie(t)||Lie(t,e)||JV(t,e)||Die()}function Die(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JV(t,e){if(t){if(typeof t=="string")return eE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eE(t,e)}}function eE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,l,c=[],f=!0,h=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(f=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function Vie(t){if(Array.isArray(t))return t}var Dg=function(e,n,r){return e+(n-e)*r},tE=function(e){var n=e.from,r=e.to;return n!==r},$ie=function t(e,n,r){var i=Ih(function(o,l){if(tE(l)){var c=e(l.from,l.to,l.velocity),f=jie(c,2),h=f[0],p=f[1];return dr(dr({},l),{},{from:h,velocity:p})}return l},n);return r<1?Ih(function(o,l){return tE(l)?dr(dr({},l),{},{velocity:Dg(l.velocity,i[o].velocity,r),from:Dg(l.from,i[o].from,r)}):l},n):t(e,i,r-1)};const Uie=(function(t,e,n,r,i){var o=gie(t,e),l=o.reduce(function(w,O){return dr(dr({},w),{},ZS({},O,[t[O],e[O]]))},{}),c=o.reduce(function(w,O){return dr(dr({},w),{},ZS({},O,{from:t[O],velocity:0,to:e[O]}))},{}),f=-1,h,p,m=function(){return null},v=function(){return Ih(function(O,I){return I.from},c)},_=function(){return!Object.values(c).filter(tE).length},E=function(O){h||(h=O);var I=O-h,N=I/n.dt;c=$ie(n,c,N),i(dr(dr(dr({},t),e),v())),h=O,_()||(f=requestAnimationFrame(m))},S=function(O){p||(p=O);var I=(O-p)/r,N=Ih(function(C,M){return Dg.apply(void 0,bD(M).concat([n(I)]))},l);if(i(dr(dr(dr({},t),e),N)),I<1)f=requestAnimationFrame(m);else{var L=Ih(function(C,M){return Dg.apply(void 0,bD(M).concat([n(1)]))},l);i(dr(dr(dr({},t),e),L))}};return m=n.isStepper?E:S,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(f)}}});function Ac(t){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}var Bie=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function qie(t,e){if(t==null)return{};var n=zie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zie(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function n1(t){return Kie(t)||Gie(t)||Hie(t)||Fie()}function Fie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hie(t,e){if(t){if(typeof t=="string")return nE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nE(t,e)}}function Gie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kie(t){if(Array.isArray(t))return nE(t)}function nE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xD(Object(n),!0).forEach(function(r){vh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vh(t,e,n){return e=ZV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZV(r.key),r)}}function Xie(t,e,n){return e&&Yie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZV(t){var e=Qie(t,"string");return Ac(e)==="symbol"?e:String(e)}function Qie(t,e){if(Ac(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ac(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rE(t,e)}function rE(t,e){return rE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rE(t,e)}function Zie(t){var e=eae();return function(){var r=Lg(t),i;if(e){var o=Lg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return iE(this,i)}}function iE(t,e){if(e&&(Ac(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aE(t)}function aE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lg(t){return Lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lg(t)}var Na=(function(t){Jie(n,t);var e=Zie(n);function n(r,i){var o;Wie(this,n),o=e.call(this,r,i);var l=o.props,c=l.isActive,f=l.attributeName,h=l.from,p=l.to,m=l.steps,v=l.children,_=l.duration;if(o.handleStyleChange=o.handleStyleChange.bind(aE(o)),o.changeStyle=o.changeStyle.bind(aE(o)),!c||_<=0)return o.state={style:{}},typeof v=="function"&&(o.state={style:p}),iE(o);if(m&&m.length)o.state={style:m[0].style};else if(h){if(typeof v=="function")return o.state={style:h},iE(o);o.state={style:f?vh({},f,h):h}}else o.state={style:{}};return o}return Xie(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,l=i.canBegin;this.mounted=!0,!(!o||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,l=o.isActive,c=o.canBegin,f=o.attributeName,h=o.shouldReAnimate,p=o.to,m=o.from,v=this.state.style;if(c){if(!l){var _={style:f?vh({},f,p):p};this.state&&v&&(f&&v[f]!==p||!f&&v!==p)&&this.setState(_);return}if(!(oie(i.to,p)&&i.canBegin&&i.isActive)){var E=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var S=E||h?m:i.to;if(this.state&&v){var w={style:f?vh({},f,S):S};(f&&v[f]!==S||!f&&v!==S)&&this.setState(w)}this.runAnimation(Wi(Wi({},this.props),{},{from:S,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,l=i.from,c=i.to,f=i.duration,h=i.easing,p=i.begin,m=i.onAnimationEnd,v=i.onAnimationStart,_=Uie(l,c,Iie(h),f,this.changeStyle),E=function(){o.stopJSAnimation=_()};this.manager.start([v,p,E,f,m])}},{key:"runStepAnimation",value:function(i){var o=this,l=i.steps,c=i.begin,f=i.onAnimationStart,h=l[0],p=h.style,m=h.duration,v=m===void 0?0:m,_=function(S,w,O){if(O===0)return S;var I=w.duration,N=w.easing,L=N===void 0?"ease":N,C=w.style,M=w.properties,A=w.onAnimationEnd,P=O>0?l[O-1]:w,k=M||Object.keys(C);if(typeof L=="function"||L==="spring")return[].concat(n1(S),[o.runJSAnimation.bind(o,{from:P.style,to:C,duration:I,easing:L}),I]);var U=gD(k,I,L),D=Wi(Wi(Wi({},P.style),C),{},{transition:U});return[].concat(n1(S),[D,I,A]).filter(yie)};return this.manager.start([f].concat(n1(l.reduce(_,[p,Math.max(v,c)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=die());var o=i.begin,l=i.duration,c=i.attributeName,f=i.to,h=i.easing,p=i.onAnimationStart,m=i.onAnimationEnd,v=i.steps,_=i.children,E=this.manager;if(this.unSubscribe=E.subscribe(this.handleStyleChange),typeof h=="function"||typeof _=="function"||h==="spring"){this.runJSAnimation(i);return}if(v.length>1){this.runStepAnimation(i);return}var S=c?vh({},c,f):f,w=gD(Object.keys(S),l,h);E.start([p,o,Wi(Wi({},S),{},{transition:w}),l,m])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var l=i.duration;i.attributeName,i.easing;var c=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var f=qie(i,Bie),h=$.Children.count(o),p=this.state.style;if(typeof o=="function")return o(p);if(!c||h===0||l<=0)return o;var m=function(_){var E=_.props,S=E.style,w=S===void 0?{}:S,O=E.className,I=$.cloneElement(_,Wi(Wi({},f),{},{style:Wi(Wi({},w),p),className:O}));return I};return h===1?m($.Children.only(o)):G.createElement("div",null,$.Children.map(o,function(v){return m(v)}))}}]),n})($.PureComponent);Na.displayName="Animate";Na.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Na.propTypes={from:Yt.oneOfType([Yt.object,Yt.string]),to:Yt.oneOfType([Yt.object,Yt.string]),attributeName:Yt.string,duration:Yt.number,begin:Yt.number,easing:Yt.oneOfType([Yt.string,Yt.func]),steps:Yt.arrayOf(Yt.shape({duration:Yt.number.isRequired,style:Yt.object.isRequired,easing:Yt.oneOfType([Yt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Yt.func]),properties:Yt.arrayOf("string"),onAnimationEnd:Yt.func})),children:Yt.oneOfType([Yt.node,Yt.func]),isActive:Yt.bool,canBegin:Yt.bool,onAnimationEnd:Yt.func,shouldReAnimate:Yt.bool,onAnimationStart:Yt.func,onAnimationReStart:Yt.func};function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}function Vg(){return Vg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vg.apply(this,arguments)}function tae(t,e){return aae(t)||iae(t,e)||rae(t,e)||nae()}function nae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rae(t,e){if(t){if(typeof t=="string")return wD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wD(t,e)}}function wD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,l,c=[],f=!0,h=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(f=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function aae(t){if(Array.isArray(t))return t}function SD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ED(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SD(Object(n),!0).forEach(function(r){oae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oae(t,e,n){return e=sae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sae(t){var e=lae(t,"string");return fd(e)=="symbol"?e:e+""}function lae(t,e){if(fd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TD=function(e,n,r,i,o){var l=Math.min(Math.abs(r)/2,Math.abs(i)/2),c=i>=0?1:-1,f=r>=0?1:-1,h=i>=0&&r>=0||i<0&&r<0?1:0,p;if(l>0&&o instanceof Array){for(var m=[0,0,0,0],v=0,_=4;v<_;v++)m[v]=o[v]>l?l:o[v];p="M".concat(e,",").concat(n+c*m[0]),m[0]>0&&(p+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(h,",").concat(e+f*m[0],",").concat(n)),p+="L ".concat(e+r-f*m[1],",").concat(n),m[1]>0&&(p+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(h,`,
        `).concat(e+r,",").concat(n+c*m[1])),p+="L ".concat(e+r,",").concat(n+i-c*m[2]),m[2]>0&&(p+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(h,`,
        `).concat(e+r-f*m[2],",").concat(n+i)),p+="L ".concat(e+f*m[3],",").concat(n+i),m[3]>0&&(p+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(h,`,
        `).concat(e,",").concat(n+i-c*m[3])),p+="Z"}else if(l>0&&o===+o&&o>0){var E=Math.min(l,o);p="M ".concat(e,",").concat(n+c*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(h,",").concat(e+f*E,",").concat(n,`
            L `).concat(e+r-f*E,",").concat(n,`
            A `).concat(E,",").concat(E,",0,0,").concat(h,",").concat(e+r,",").concat(n+c*E,`
            L `).concat(e+r,",").concat(n+i-c*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(h,",").concat(e+r-f*E,",").concat(n+i,`
            L `).concat(e+f*E,",").concat(n+i,`
            A `).concat(E,",").concat(E,",0,0,").concat(h,",").concat(e,",").concat(n+i-c*E," Z")}else p="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return p},uae=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,l=n.y,c=n.width,f=n.height;if(Math.abs(c)>0&&Math.abs(f)>0){var h=Math.min(o,o+c),p=Math.max(o,o+c),m=Math.min(l,l+f),v=Math.max(l,l+f);return r>=h&&r<=p&&i>=m&&i<=v}return!1},cae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xA=function(e){var n=ED(ED({},cae),e),r=$.useRef(),i=$.useState(-1),o=tae(i,2),l=o[0],c=o[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var L=r.current.getTotalLength();L&&c(L)}catch{}},[]);var f=n.x,h=n.y,p=n.width,m=n.height,v=n.radius,_=n.className,E=n.animationEasing,S=n.animationDuration,w=n.animationBegin,O=n.isAnimationActive,I=n.isUpdateAnimationActive;if(f!==+f||h!==+h||p!==+p||m!==+m||p===0||m===0)return null;var N=vt("recharts-rectangle",_);return I?G.createElement(Na,{canBegin:l>0,from:{width:p,height:m,x:f,y:h},to:{width:p,height:m,x:f,y:h},duration:S,animationEasing:E,isActive:I},function(L){var C=L.width,M=L.height,A=L.x,P=L.y;return G.createElement(Na,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:S,isActive:O,easing:E},G.createElement("path",Vg({},Qe(n,!0),{className:N,d:TD(A,P,C,M,v),ref:r})))}):G.createElement("path",Vg({},Qe(n,!0),{className:N,d:TD(f,h,p,m,v)}))},fae=["points","className","baseLinePoints","connectNulls"];function Xu(){return Xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xu.apply(this,arguments)}function hae(t,e){if(t==null)return{};var n=dae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function AD(t){return yae(t)||gae(t)||mae(t)||pae()}function pae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mae(t,e){if(t){if(typeof t=="string")return oE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oE(t,e)}}function gae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yae(t){if(Array.isArray(t))return oE(t)}function oE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var OD=function(e){return e&&e.x===+e.x&&e.y===+e.y},vae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){OD(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),OD(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Ph=function(e,n){var r=vae(e);n&&(r=[r.reduce(function(o,l){return[].concat(AD(o),AD(l))},[])]);var i=r.map(function(o){return o.reduce(function(l,c,f){return"".concat(l).concat(f===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},bae=function(e,n,r){var i=Ph(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Ph(n.reverse(),r).slice(1))},_ae=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,l=hae(e,fae);if(!n||!n.length)return null;var c=vt("recharts-polygon",r);if(i&&i.length){var f=l.stroke&&l.stroke!=="none",h=bae(n,i,o);return G.createElement("g",{className:c},G.createElement("path",Xu({},Qe(l,!0),{fill:h.slice(-1)==="Z"?l.fill:"none",stroke:"none",d:h})),f?G.createElement("path",Xu({},Qe(l,!0),{fill:"none",d:Ph(n,o)})):null,f?G.createElement("path",Xu({},Qe(l,!0),{fill:"none",d:Ph(i,o)})):null)}var p=Ph(n,o);return G.createElement("path",Xu({},Qe(l,!0),{fill:p.slice(-1)==="Z"?l.fill:"none",className:c,d:p}))};function sE(){return sE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sE.apply(this,arguments)}var ev=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,l=vt("recharts-dot",o);return n===+n&&r===+r&&i===+i?$.createElement("circle",sE({},Qe(e,!1),sg(e),{className:l,cx:n,cy:r,r:i})):null};function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}var xae=["x","y","top","left","width","height","className"];function lE(){return lE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lE.apply(this,arguments)}function CD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CD(Object(n),!0).forEach(function(r){Sae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sae(t,e,n){return e=Eae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eae(t){var e=Tae(t,"string");return hd(e)=="symbol"?e:e+""}function Tae(t,e){if(hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Aae(t,e){if(t==null)return{};var n=Oae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Oae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Cae=function(e,n,r,i,o,l){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(l,",").concat(n,"h").concat(r)},Iae=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,l=e.top,c=l===void 0?0:l,f=e.left,h=f===void 0?0:f,p=e.width,m=p===void 0?0:p,v=e.height,_=v===void 0?0:v,E=e.className,S=Aae(e,xae),w=wae({x:r,y:o,top:c,left:h,width:m,height:_},S);return!Te(r)||!Te(o)||!Te(m)||!Te(_)||!Te(c)||!Te(h)?null:G.createElement("path",lE({},Qe(w,!0),{className:vt("recharts-cross",E),d:Cae(r,o,m,_,c,h)}))},r1,ID;function Pae(){if(ID)return r1;ID=1;var t=Yy(),e=pV(),n=Ma();function r(i,o){return i&&i.length?t(i,n(o,2),e):void 0}return r1=r,r1}var Rae=Pae();const Nae=Kt(Rae);var i1,PD;function kae(){if(PD)return i1;PD=1;var t=Yy(),e=Ma(),n=mV();function r(i,o){return i&&i.length?t(i,e(o,2),n):void 0}return i1=r,i1}var Mae=kae();const jae=Kt(Mae);var Dae=["cx","cy","angle","ticks","axisLine"],Lae=["ticks","tick","angle","tickFormatter","stroke"];function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}function Rh(){return Rh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rh.apply(this,arguments)}function RD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ll(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RD(Object(n),!0).forEach(function(r){tv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ND(t,e){if(t==null)return{};var n=Vae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Vae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $ae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t$(r.key),r)}}function Uae(t,e,n){return e&&kD(t.prototype,e),n&&kD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bae(t,e,n){return e=$g(e),qae(t,e$()?Reflect.construct(e,n||[],$g(t).constructor):e.apply(t,n))}function qae(t,e){if(e&&(Oc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zae(t)}function zae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e$=function(){return!!t})()}function $g(t){return $g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$g(t)}function Fae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uE(t,e)}function uE(t,e){return uE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uE(t,e)}function tv(t,e,n){return e=t$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t$(t){var e=Hae(t,"string");return Oc(e)=="symbol"?e:e+""}function Hae(t,e){if(Oc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nv=(function(t){function e(){return $ae(this,e),Bae(this,e,arguments)}return Fae(e,t),Uae(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,l=o.angle,c=o.cx,f=o.cy;return un(c,f,i,l)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,l=r.angle,c=r.ticks,f=Nae(c,function(p){return p.coordinate||0}),h=jae(c,function(p){return p.coordinate||0});return{cx:i,cy:o,startAngle:l,endAngle:l,innerRadius:h.coordinate||0,outerRadius:f.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,l=r.angle,c=r.ticks,f=r.axisLine,h=ND(r,Dae),p=c.reduce(function(E,S){return[Math.min(E[0],S.coordinate),Math.max(E[1],S.coordinate)]},[1/0,-1/0]),m=un(i,o,p[0],l),v=un(i,o,p[1],l),_=ll(ll(ll({},Qe(h,!1)),{},{fill:"none"},Qe(f,!1)),{},{x1:m.x,y1:m.y,x2:v.x,y2:v.y});return G.createElement("line",Rh({className:"recharts-polar-radius-axis-line"},_))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,l=i.tick,c=i.angle,f=i.tickFormatter,h=i.stroke,p=ND(i,Lae),m=this.getTickTextAnchor(),v=Qe(p,!1),_=Qe(l,!1),E=o.map(function(S,w){var O=r.getTickValueCoord(S),I=ll(ll(ll(ll({textAnchor:m,transform:"rotate(".concat(90-c,", ").concat(O.x,", ").concat(O.y,")")},v),{},{stroke:"none",fill:h},_),{},{index:w},O),{},{payload:S});return G.createElement(Ut,Rh({className:vt("recharts-polar-radius-axis-tick",zV(l)),key:"tick-".concat(S.coordinate)},Dl(r.props,S,w)),e.renderTickItem(l,I,f?f(S.value,w):S.value))});return G.createElement(Ut,{className:"recharts-polar-radius-axis-ticks"},E)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,l=r.tick;return!i||!i.length?null:G.createElement(Ut,{className:vt("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),l&&this.renderTicks(),rr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var l;return G.isValidElement(r)?l=G.cloneElement(r,i):nt(r)?l=r(i):l=G.createElement(Ll,Rh({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),l}}])})($.PureComponent);tv(nv,"displayName","PolarRadiusAxis");tv(nv,"axisType","radiusAxis");tv(nv,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}function yl(){return yl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yl.apply(this,arguments)}function MD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ul(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MD(Object(n),!0).forEach(function(r){rv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r$(r.key),r)}}function Kae(t,e,n){return e&&jD(t.prototype,e),n&&jD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wae(t,e,n){return e=Ug(e),Yae(t,n$()?Reflect.construct(e,n||[],Ug(t).constructor):e.apply(t,n))}function Yae(t,e){if(e&&(Cc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xae(t)}function Xae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n$=function(){return!!t})()}function Ug(t){return Ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ug(t)}function Qae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cE(t,e)}function cE(t,e){return cE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cE(t,e)}function rv(t,e,n){return e=r$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r$(t){var e=Jae(t,"string");return Cc(e)=="symbol"?e:e+""}function Jae(t,e){if(Cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zae=Math.PI/180,DD=1e-5,iv=(function(t){function e(){return Gae(this,e),Wae(this,e,arguments)}return Qae(e,t),Kae(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,l=i.cy,c=i.radius,f=i.orientation,h=i.tickSize,p=h||8,m=un(o,l,c,r.coordinate),v=un(o,l,c+(f==="inner"?-1:1)*p,r.coordinate);return{x1:m.x,y1:m.y,x2:v.x,y2:v.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*Zae),l;return o>DD?l=i==="outer"?"start":"end":o<-DD?l=i==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,l=r.radius,c=r.axisLine,f=r.axisLineType,h=ul(ul({},Qe(this.props,!1)),{},{fill:"none"},Qe(c,!1));if(f==="circle")return G.createElement(ev,yl({className:"recharts-polar-angle-axis-line"},h,{cx:i,cy:o,r:l}));var p=this.props.ticks,m=p.map(function(v){return un(i,o,l,v.coordinate)});return G.createElement(_ae,yl({className:"recharts-polar-angle-axis-line"},h,{points:m}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,l=i.tick,c=i.tickLine,f=i.tickFormatter,h=i.stroke,p=Qe(this.props,!1),m=Qe(l,!1),v=ul(ul({},p),{},{fill:"none"},Qe(c,!1)),_=o.map(function(E,S){var w=r.getTickLineCoord(E),O=r.getTickTextAnchor(E),I=ul(ul(ul({textAnchor:O},p),{},{stroke:"none",fill:h},m),{},{index:S,payload:E,x:w.x2,y:w.y2});return G.createElement(Ut,yl({className:vt("recharts-polar-angle-axis-tick",zV(l)),key:"tick-".concat(E.coordinate)},Dl(r.props,E,S)),c&&G.createElement("line",yl({className:"recharts-polar-angle-axis-tick-line"},v,w)),l&&e.renderTickItem(l,I,f?f(E.value,S):E.value))});return G.createElement(Ut,{className:"recharts-polar-angle-axis-ticks"},_)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,l=r.axisLine;return o<=0||!i||!i.length?null:G.createElement(Ut,{className:vt("recharts-polar-angle-axis",this.props.className)},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var l;return G.isValidElement(r)?l=G.cloneElement(r,i):nt(r)?l=r(i):l=G.createElement(Ll,yl({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),l}}])})($.PureComponent);rv(iv,"displayName","PolarAngleAxis");rv(iv,"axisType","angleAxis");rv(iv,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var a1,LD;function eoe(){if(LD)return a1;LD=1;var t=h5(),e=t(Object.getPrototypeOf,Object);return a1=e,a1}var o1,VD;function toe(){if(VD)return o1;VD=1;var t=So(),e=eoe(),n=Eo(),r="[object Object]",i=Function.prototype,o=Object.prototype,l=i.toString,c=o.hasOwnProperty,f=l.call(Object);function h(p){if(!n(p)||t(p)!=r)return!1;var m=e(p);if(m===null)return!0;var v=c.call(m,"constructor")&&m.constructor;return typeof v=="function"&&v instanceof v&&l.call(v)==f}return o1=h,o1}var noe=toe();const roe=Kt(noe);var s1,$D;function ioe(){if($D)return s1;$D=1;var t=So(),e=Eo(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return s1=r,s1}var aoe=ioe();const ooe=Kt(aoe);function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}function Bg(){return Bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bg.apply(this,arguments)}function soe(t,e){return foe(t)||coe(t,e)||uoe(t,e)||loe()}function loe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uoe(t,e){if(t){if(typeof t=="string")return UD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UD(t,e)}}function UD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function coe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,l,c=[],f=!0,h=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(f=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function foe(t){if(Array.isArray(t))return t}function BD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BD(Object(n),!0).forEach(function(r){hoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hoe(t,e,n){return e=doe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function doe(t){var e=poe(t,"string");return dd(e)=="symbol"?e:e+""}function poe(t,e){if(dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zD=function(e,n,r,i,o){var l=r-i,c;return c="M ".concat(e,",").concat(n),c+="L ".concat(e+r,",").concat(n),c+="L ".concat(e+r-l/2,",").concat(n+o),c+="L ".concat(e+r-l/2-i,",").concat(n+o),c+="L ".concat(e,",").concat(n," Z"),c},moe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},goe=function(e){var n=qD(qD({},moe),e),r=$.useRef(),i=$.useState(-1),o=soe(i,2),l=o[0],c=o[1];$.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&c(N)}catch{}},[]);var f=n.x,h=n.y,p=n.upperWidth,m=n.lowerWidth,v=n.height,_=n.className,E=n.animationEasing,S=n.animationDuration,w=n.animationBegin,O=n.isUpdateAnimationActive;if(f!==+f||h!==+h||p!==+p||m!==+m||v!==+v||p===0&&m===0||v===0)return null;var I=vt("recharts-trapezoid",_);return O?G.createElement(Na,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:v,x:f,y:h},to:{upperWidth:p,lowerWidth:m,height:v,x:f,y:h},duration:S,animationEasing:E,isActive:O},function(N){var L=N.upperWidth,C=N.lowerWidth,M=N.height,A=N.x,P=N.y;return G.createElement(Na,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:S,easing:E},G.createElement("path",Bg({},Qe(n,!0),{className:I,d:zD(A,P,L,C,M),ref:r})))}):G.createElement("g",null,G.createElement("path",Bg({},Qe(n,!0),{className:I,d:zD(f,h,p,m,v)})))},yoe=["option","shapeType","propTransformer","activeClassName","isActive"];function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function voe(t,e){if(t==null)return{};var n=boe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function boe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function FD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FD(Object(n),!0).forEach(function(r){_oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _oe(t,e,n){return e=xoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xoe(t){var e=woe(t,"string");return pd(e)=="symbol"?e:e+""}function woe(t,e){if(pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Soe(t,e){return qg(qg({},e),t)}function Eoe(t,e){return t==="symbols"}function HD(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return G.createElement(xA,n);case"trapezoid":return G.createElement(goe,n);case"sector":return G.createElement(GV,n);case"symbols":if(Eoe(e))return G.createElement(UT,n);break;default:return null}}function Toe(t){return $.isValidElement(t)?t.props:t}function i$(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Soe:r,o=t.activeClassName,l=o===void 0?"recharts-active-shape":o,c=t.isActive,f=voe(t,yoe),h;if($.isValidElement(e))h=$.cloneElement(e,qg(qg({},f),Toe(e)));else if(nt(e))h=e(f);else if(roe(e)&&!ooe(e)){var p=i(e,f);h=G.createElement(HD,{shapeType:n,elementProps:p})}else{var m=f;h=G.createElement(HD,{shapeType:n,elementProps:m})}return c?G.createElement(Ut,{className:l},h):h}function av(t,e){return e!=null&&"trapezoids"in t.props}function ov(t,e){return e!=null&&"sectors"in t.props}function md(t,e){return e!=null&&"points"in t.props}function Aoe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Ooe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Coe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Ioe(t,e){var n;return av(t,e)?n=Aoe:ov(t,e)?n=Ooe:md(t,e)&&(n=Coe),n}function Poe(t,e){var n;return av(t,e)?n="trapezoids":ov(t,e)?n="sectors":md(t,e)&&(n="points"),n}function Roe(t,e){if(av(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(ov(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return md(t,e)?e.payload:{}}function Noe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Poe(n,e),o=Roe(n,e),l=r.filter(function(f,h){var p=Bd(o,f),m=n.props[i].filter(function(E){var S=Ioe(n,e);return S(E,e)}),v=n.props[i].indexOf(m[m.length-1]),_=h===v;return p&&_}),c=r.indexOf(l[l.length-1]);return c}var Lm;function Ic(t){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}function Qu(){return Qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qu.apply(this,arguments)}function GD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GD(Object(n),!0).forEach(function(r){Ni(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function koe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o$(r.key),r)}}function Moe(t,e,n){return e&&KD(t.prototype,e),n&&KD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function joe(t,e,n){return e=zg(e),Doe(t,a$()?Reflect.construct(e,n||[],zg(t).constructor):e.apply(t,n))}function Doe(t,e){if(e&&(Ic(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Loe(t)}function Loe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a$=function(){return!!t})()}function zg(t){return zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zg(t)}function Voe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fE(t,e)}function fE(t,e){return fE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fE(t,e)}function Ni(t,e,n){return e=o$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o$(t){var e=$oe(t,"string");return Ic(e)=="symbol"?e:e+""}function $oe(t,e){if(Ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ao=(function(t){function e(n){var r;return koe(this,e),r=joe(this,e,[n]),Ni(r,"pieRef",null),Ni(r,"sectorRefs",[]),Ni(r,"id",Jc("recharts-pie-")),Ni(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),nt(i)&&i()}),Ni(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),nt(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Voe(e,t),Moe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.label,c=o.labelLine,f=o.dataKey,h=o.valueKey,p=Qe(this.props,!1),m=Qe(l,!1),v=Qe(c,!1),_=l&&l.offsetRadius||20,E=r.map(function(S,w){var O=(S.startAngle+S.endAngle)/2,I=un(S.cx,S.cy,S.outerRadius+_,O),N=sn(sn(sn(sn({},p),S),{},{stroke:"none"},m),{},{index:w,textAnchor:e.getTextAnchor(I.x,S.cx)},I),L=sn(sn(sn(sn({},p),S),{},{fill:"none",stroke:S.fill},v),{},{index:w,points:[un(S.cx,S.cy,S.outerRadius,O),I]}),C=f;return ut(f)&&ut(h)?C="value":ut(f)&&(C=h),G.createElement(Ut,{key:"label-".concat(S.startAngle,"-").concat(S.endAngle,"-").concat(S.midAngle,"-").concat(w)},c&&e.renderLabelLineItem(c,L,"line"),e.renderLabelItem(l,N,Yn(S,C)))});return G.createElement(Ut,{className:"recharts-pie-labels"},E)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,l=o.activeShape,c=o.blendStroke,f=o.inactiveShape;return r.map(function(h,p){if((h==null?void 0:h.startAngle)===0&&(h==null?void 0:h.endAngle)===0&&r.length!==1)return null;var m=i.isActiveIndex(p),v=f&&i.hasActiveIndex()?f:null,_=m?l:v,E=sn(sn({},h),{},{stroke:c?h.fill:h.stroke,tabIndex:-1});return G.createElement(Ut,Qu({ref:function(w){w&&!i.sectorRefs.includes(w)&&i.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},Dl(i.props,h,p),{key:"sector-".concat(h==null?void 0:h.startAngle,"-").concat(h==null?void 0:h.endAngle,"-").concat(h.midAngle,"-").concat(p)}),G.createElement(i$,Qu({option:_,isActive:m,shapeType:"sector"},E)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,l=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,m=this.state,v=m.prevSectors,_=m.prevIsAnimationActive;return G.createElement(Na,{begin:c,duration:f,isActive:l,easing:h,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(_),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(E){var S=E.t,w=[],O=o&&o[0],I=O.startAngle;return o.forEach(function(N,L){var C=v&&v[L],M=L>0?fi(N,"paddingAngle",0):0;if(C){var A=li(C.endAngle-C.startAngle,N.endAngle-N.startAngle),P=sn(sn({},N),{},{startAngle:I+M,endAngle:I+A(S)+M});w.push(P),I=P.endAngle}else{var k=N.endAngle,U=N.startAngle,D=li(0,k-U),B=D(S),V=sn(sn({},N),{},{startAngle:I+M,endAngle:I+B+M});w.push(V),I=V.endAngle}}),G.createElement(Ut,null,r.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var l=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"ArrowRight":{var c=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[c].focus(),i.setState({sectorToFocus:c});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,l=this.state.prevSectors;return o&&i&&i.length&&(!l||!Bd(l,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,l=i.sectors,c=i.className,f=i.label,h=i.cx,p=i.cy,m=i.innerRadius,v=i.outerRadius,_=i.isAnimationActive,E=this.state.isAnimationFinished;if(o||!l||!l.length||!Te(h)||!Te(p)||!Te(m)||!Te(v))return null;var S=vt("recharts-pie",c);return G.createElement(Ut,{tabIndex:this.props.rootTabIndex,className:S,ref:function(O){r.pieRef=O}},this.renderSectors(),f&&this.renderLabels(l),rr.renderCallByParent(this.props,null,!1),(!_||E)&&po.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(G.isValidElement(r))return G.cloneElement(r,i);if(nt(r))return r(i);var l=vt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return G.createElement(Mg,Qu({},i,{key:o,type:"linear",className:l}))}},{key:"renderLabelItem",value:function(r,i,o){if(G.isValidElement(r))return G.cloneElement(r,i);var l=o;if(nt(r)&&(l=r(i),G.isValidElement(l)))return l;var c=vt("recharts-pie-label-text",typeof r!="boolean"&&!nt(r)?r.className:"");return G.createElement(Ll,Qu({},i,{alignmentBaseline:"middle",className:c}),l)}}])})($.PureComponent);Lm=Ao;Ni(Ao,"displayName","Pie");Ni(Ao,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Gl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ni(Ao,"parseDeltaAngle",function(t,e){var n=Mr(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Ni(Ao,"getRealPieData",function(t){var e=t.data,n=t.children,r=Qe(t,!1),i=hi(n,qy);return e&&e.length?e.map(function(o,l){return sn(sn(sn({payload:o},r),o),i&&i[l]&&i[l].props)}):i&&i.length?i.map(function(o){return sn(sn({},r),o.props)}):[]});Ni(Ao,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,l=qV(i,o),c=r+jr(t.cx,i,i/2),f=n+jr(t.cy,o,o/2),h=jr(t.innerRadius,l,0),p=jr(t.outerRadius,l,l*.8),m=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:c,cy:f,innerRadius:h,outerRadius:p,maxRadius:m}});Ni(Ao,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?sn(sn({},e.type.defaultProps),e.props):e.props,i=Lm.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,l=r.startAngle,c=r.endAngle,f=r.paddingAngle,h=r.dataKey,p=r.nameKey,m=r.valueKey,v=r.tooltipType,_=Math.abs(r.minAngle),E=Lm.parseCoordinateOfPie(r,n),S=Lm.parseDeltaAngle(l,c),w=Math.abs(S),O=h;ut(h)&&ut(m)?(na(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),O="value"):ut(h)&&(na(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),O=m);var I=i.filter(function(P){return Yn(P,O,0)!==0}).length,N=(w>=360?I:I-1)*f,L=w-I*_-N,C=i.reduce(function(P,k){var U=Yn(k,O,0);return P+(Te(U)?U:0)},0),M;if(C>0){var A;M=i.map(function(P,k){var U=Yn(P,O,0),D=Yn(P,p,k),B=(Te(U)?U:0)/C,V;k?V=A.endAngle+Mr(S)*f*(U!==0?1:0):V=l;var Q=V+Mr(S)*((U!==0?_:0)+B*L),J=(V+Q)/2,H=(E.innerRadius+E.outerRadius)/2,Y=[{name:D,value:U,payload:P,dataKey:O,type:v}],ee=un(E.cx,E.cy,H,J);return A=sn(sn(sn({percent:B,cornerRadius:o,name:D,tooltipPayload:Y,midAngle:J,middleRadius:H,tooltipPosition:ee},P),E),{},{value:Yn(P,O),startAngle:V,endAngle:Q,payload:P,paddingAngle:Mr(S)*f}),A})}return sn(sn({},E),{},{sectors:M,data:i})});var l1,WD;function Uoe(){if(WD)return l1;WD=1;var t=Math.ceil,e=Math.max;function n(r,i,o,l){for(var c=-1,f=e(t((i-r)/(o||1)),0),h=Array(f);f--;)h[l?f:++c]=r,r+=o;return h}return l1=n,l1}var u1,YD;function s$(){if(YD)return u1;YD=1;var t=C5(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var o=i<0?-1:1;return o*n}return i===i?i:0}return u1=r,u1}var c1,XD;function Boe(){if(XD)return c1;XD=1;var t=Uoe(),e=By(),n=s$();function r(i){return function(o,l,c){return c&&typeof c!="number"&&e(o,l,c)&&(l=c=void 0),o=n(o),l===void 0?(l=o,o=0):l=n(l),c=c===void 0?o<l?1:-1:n(c),t(o,l,c,i)}}return c1=r,c1}var f1,QD;function qoe(){if(QD)return f1;QD=1;var t=Boe(),e=t();return f1=e,f1}var zoe=qoe();const Fg=Kt(zoe);function gd(t){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gd(t)}function JD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JD(Object(n),!0).forEach(function(r){l$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l$(t,e,n){return e=Foe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Foe(t){var e=Hoe(t,"string");return gd(e)=="symbol"?e:e+""}function Hoe(t,e){if(gd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Goe=["Webkit","Moz","O","ms"],Koe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=Goe.reduce(function(o,l){return ZD(ZD({},o),{},l$({},l+r,n))},{});return i[e]=n,i};function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}function Hg(){return Hg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hg.apply(this,arguments)}function eL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function h1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eL(Object(n),!0).forEach(function(r){oi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Woe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c$(r.key),r)}}function Yoe(t,e,n){return e&&tL(t.prototype,e),n&&tL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xoe(t,e,n){return e=Gg(e),Qoe(t,u$()?Reflect.construct(e,n||[],Gg(t).constructor):e.apply(t,n))}function Qoe(t,e){if(e&&(Pc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Joe(t)}function Joe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u$=function(){return!!t})()}function Gg(t){return Gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gg(t)}function Zoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hE(t,e)}function hE(t,e){return hE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hE(t,e)}function oi(t,e,n){return e=c$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c$(t){var e=ese(t,"string");return Pc(e)=="symbol"?e:e+""}function ese(t,e){if(Pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tse=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,l=e.width,c=e.travellerWidth;if(!n||!n.length)return{};var f=n.length,h=Oh().domain(Fg(0,f)).range([o,o+l-c]),p=h.domain().map(function(m){return h(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(r),endX:h(i),scale:h,scaleValues:p}},nL=function(e){return e.changedTouches&&!!e.changedTouches.length},Rc=(function(t){function e(n){var r;return Woe(this,e),r=Xoe(this,e,[n]),oi(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),oi(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),oi(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,l=i.onDragEnd,c=i.startIndex;l==null||l({endIndex:o,startIndex:c})}),r.detachDragEndListener()}),oi(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),oi(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),oi(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),oi(r,"handleSlideDragStart",function(i){var o=nL(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Zoe(e,t),Yoe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,l=this.state.scaleValues,c=this.props,f=c.gap,h=c.data,p=h.length-1,m=Math.min(i,o),v=Math.max(i,o),_=e.getIndexInRange(l,m),E=e.getIndexInRange(l,v);return{startIndex:_-_%f,endIndex:E===p?p:E-E%f}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,l=i.tickFormatter,c=i.dataKey,f=Yn(o[r],c,r);return nt(l)?l(f,r):f}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,l=i.startX,c=i.endX,f=this.props,h=f.x,p=f.width,m=f.travellerWidth,v=f.startIndex,_=f.endIndex,E=f.onChange,S=r.pageX-o;S>0?S=Math.min(S,h+p-m-c,h+p-m-l):S<0&&(S=Math.max(S,h-l,h-c));var w=this.getIndex({startX:l+S,endX:c+S});(w.startIndex!==v||w.endIndex!==_)&&E&&E(w),this.setState({startX:l+S,endX:c+S,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=nL(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,l=i.movingTravellerId,c=i.endX,f=i.startX,h=this.state[l],p=this.props,m=p.x,v=p.width,_=p.travellerWidth,E=p.onChange,S=p.gap,w=p.data,O={startX:this.state.startX,endX:this.state.endX},I=r.pageX-o;I>0?I=Math.min(I,m+v-_-h):I<0&&(I=Math.max(I,m-h)),O[l]=h+I;var N=this.getIndex(O),L=N.startIndex,C=N.endIndex,M=function(){var P=w.length-1;return l==="startX"&&(c>f?L%S===0:C%S===0)||c<f&&C===P||l==="endX"&&(c>f?C%S===0:L%S===0)||c>f&&C===P};this.setState(oi(oi({},l,h+I),"brushMoveStartX",r.pageX),function(){E&&M()&&E(N)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,l=this.state,c=l.scaleValues,f=l.startX,h=l.endX,p=this.state[i],m=c.indexOf(p);if(m!==-1){var v=m+r;if(!(v===-1||v>=c.length)){var _=c[v];i==="startX"&&_>=h||i==="endX"&&_<=f||this.setState(oi({},i,_),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,l=r.width,c=r.height,f=r.fill,h=r.stroke;return G.createElement("rect",{stroke:h,fill:f,x:i,y:o,width:l,height:c})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,l=r.width,c=r.height,f=r.data,h=r.children,p=r.padding,m=$.Children.only(h);return m?G.cloneElement(m,{x:i,y:o,width:l,height:c,margin:p,compact:!0,data:f}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,l,c=this,f=this.props,h=f.y,p=f.travellerWidth,m=f.height,v=f.traveller,_=f.ariaLabel,E=f.data,S=f.startIndex,w=f.endIndex,O=Math.max(r,this.props.x),I=h1(h1({},Qe(this.props,!1)),{},{x:O,y:h,width:p,height:m}),N=_||"Min value: ".concat((o=E[S])===null||o===void 0?void 0:o.name,", Max value: ").concat((l=E[w])===null||l===void 0?void 0:l.name);return G.createElement(Ut,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),c.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,i))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(v,I))}},{key:"renderSlide",value:function(r,i){var o=this.props,l=o.y,c=o.height,f=o.stroke,h=o.travellerWidth,p=Math.min(r,i)+h,m=Math.max(Math.abs(i-r)-h,0);return G.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:f,fillOpacity:.2,x:p,y:l,width:m,height:c})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,l=r.y,c=r.height,f=r.travellerWidth,h=r.stroke,p=this.state,m=p.startX,v=p.endX,_=5,E={pointerEvents:"none",fill:h};return G.createElement(Ut,{className:"recharts-brush-texts"},G.createElement(Ll,Hg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,v)-_,y:l+c/2},E),this.getTextOfTick(i)),G.createElement(Ll,Hg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,v)+f+_,y:l+c/2},E),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,l=r.children,c=r.x,f=r.y,h=r.width,p=r.height,m=r.alwaysShowText,v=this.state,_=v.startX,E=v.endX,S=v.isTextActive,w=v.isSlideMoving,O=v.isTravellerMoving,I=v.isTravellerFocused;if(!i||!i.length||!Te(c)||!Te(f)||!Te(h)||!Te(p)||h<=0||p<=0)return null;var N=vt("recharts-brush",o),L=G.Children.count(l)===1,C=Koe("userSelect","none");return G.createElement(Ut,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),L&&this.renderPanorama(),this.renderSlide(_,E),this.renderTravellerLayer(_,"startX"),this.renderTravellerLayer(E,"endX"),(S||w||O||I||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,l=r.width,c=r.height,f=r.stroke,h=Math.floor(o+c/2)-1;return G.createElement(G.Fragment,null,G.createElement("rect",{x:i,y:o,width:l,height:c,fill:f,stroke:"none"}),G.createElement("line",{x1:i+1,y1:h,x2:i+l-1,y2:h,fill:"none",stroke:"#fff"}),G.createElement("line",{x1:i+1,y1:h+2,x2:i+l-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return G.isValidElement(r)?o=G.cloneElement(r,i):nt(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,l=r.width,c=r.x,f=r.travellerWidth,h=r.updateId,p=r.startIndex,m=r.endIndex;if(o!==i.prevData||h!==i.prevUpdateId)return h1({prevData:o,prevTravellerWidth:f,prevUpdateId:h,prevX:c,prevWidth:l},o&&o.length?tse({data:o,width:l,x:c,travellerWidth:f,startIndex:p,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(l!==i.prevWidth||c!==i.prevX||f!==i.prevTravellerWidth)){i.scale.range([c,c+l-f]);var v=i.scale.domain().map(function(_){return i.scale(_)});return{prevData:o,prevTravellerWidth:f,prevUpdateId:h,prevX:c,prevWidth:l,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,l=0,c=o-1;c-l>1;){var f=Math.floor((l+c)/2);r[f]>i?c=f:l=f}return i>=r[c]?c:l}}])})($.PureComponent);oi(Rc,"displayName","Brush");oi(Rc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var d1,rL;function nse(){if(rL)return d1;rL=1;var t=KT();function e(n,r){var i;return t(n,function(o,l,c){return i=r(o,l,c),!i}),!!i}return d1=e,d1}var p1,iL;function rse(){if(iL)return p1;iL=1;var t=a5(),e=Ma(),n=nse(),r=Kr(),i=By();function o(l,c,f){var h=r(l)?t:n;return f&&i(l,c,f)&&(c=void 0),h(l,e(c,3))}return p1=o,p1}var ise=rse();const ase=Kt(ise);var Oa=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},m1,aL;function ose(){if(aL)return m1;aL=1;var t=S5();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return m1=e,m1}var g1,oL;function sse(){if(oL)return g1;oL=1;var t=ose(),e=x5(),n=Ma();function r(i,o){var l={};return o=n(o,3),e(i,function(c,f,h){t(l,f,o(c,f,h))}),l}return g1=r,g1}var lse=sse();const use=Kt(lse);var y1,sL;function cse(){if(sL)return y1;sL=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return y1=t,y1}var v1,lL;function fse(){if(lL)return v1;lL=1;var t=KT();function e(n,r){var i=!0;return t(n,function(o,l,c){return i=!!r(o,l,c),i}),i}return v1=e,v1}var b1,uL;function hse(){if(uL)return b1;uL=1;var t=cse(),e=fse(),n=Ma(),r=Kr(),i=By();function o(l,c,f){var h=r(l)?t:e;return f&&i(l,c,f)&&(c=void 0),h(l,n(c,3))}return b1=o,b1}var dse=hse();const f$=Kt(dse);var pse=["x","y"];function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function dE(){return dE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dE.apply(this,arguments)}function cL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cL(Object(n),!0).forEach(function(r){mse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mse(t,e,n){return e=gse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gse(t){var e=yse(t,"string");return yd(e)=="symbol"?e:e+""}function yse(t,e){if(yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vse(t,e){if(t==null)return{};var n=bse(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _se(t,e){var n=t.x,r=t.y,i=vse(t,pse),o="".concat(n),l=parseInt(o,10),c="".concat(r),f=parseInt(c,10),h="".concat(e.height||i.height),p=parseInt(h,10),m="".concat(e.width||i.width),v=parseInt(m,10);return sh(sh(sh(sh(sh({},e),i),l?{x:l}:{}),f?{y:f}:{}),{},{height:p,width:v,name:e.name,radius:e.radius})}function fL(t){return G.createElement(i$,dE({shapeType:"rectangle",propTransformer:_se,activeClassName:"recharts-active-bar"},t))}var xse=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=Te(r)||FK(r);return o?e(r,i):(o||$l(),n)}},wse=["value","background"],h$;function Nc(t){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(t)}function Sse(t,e){if(t==null)return{};var n=Ese(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ese(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Kg(){return Kg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kg.apply(this,arguments)}function hL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hL(Object(n),!0).forEach(function(r){hs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p$(r.key),r)}}function Ase(t,e,n){return e&&dL(t.prototype,e),n&&dL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ose(t,e,n){return e=Wg(e),Cse(t,d$()?Reflect.construct(e,n||[],Wg(t).constructor):e.apply(t,n))}function Cse(t,e){if(e&&(Nc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ise(t)}function Ise(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d$=function(){return!!t})()}function Wg(t){return Wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wg(t)}function Pse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pE(t,e)}function pE(t,e){return pE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pE(t,e)}function hs(t,e,n){return e=p$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p$(t){var e=Rse(t,"string");return Nc(e)=="symbol"?e:e+""}function Rse(t,e){if(Nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zd=(function(t){function e(){var n;Tse(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Ose(this,e,[].concat(i)),hs(n,"state",{isAnimationFinished:!1}),hs(n,"id",Jc("recharts-bar-")),hs(n,"handleAnimationEnd",function(){var l=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),l&&l()}),hs(n,"handleAnimationStart",function(){var l=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),l&&l()}),n}return Pse(e,t),Ase(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,l=o.shape,c=o.dataKey,f=o.activeIndex,h=o.activeBar,p=Qe(this.props,!1);return r&&r.map(function(m,v){var _=v===f,E=_?h:l,S=Bn(Bn(Bn({},p),m),{},{isActive:_,option:E,index:v,dataKey:c,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return G.createElement(Ut,Kg({className:"recharts-bar-rectangle"},Dl(i.props,m,v),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(v)}),G.createElement(fL,S))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,l=i.layout,c=i.isAnimationActive,f=i.animationBegin,h=i.animationDuration,p=i.animationEasing,m=i.animationId,v=this.state.prevData;return G.createElement(Na,{begin:f,duration:h,isActive:c,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var E=_.t,S=o.map(function(w,O){var I=v&&v[O];if(I){var N=li(I.x,w.x),L=li(I.y,w.y),C=li(I.width,w.width),M=li(I.height,w.height);return Bn(Bn({},w),{},{x:N(E),y:L(E),width:C(E),height:M(E)})}if(l==="horizontal"){var A=li(0,w.height),P=A(E);return Bn(Bn({},w),{},{y:w.y+w.height-P,height:P})}var k=li(0,w.width),U=k(E);return Bn(Bn({},w),{},{width:U})});return G.createElement(Ut,null,r.renderRectanglesStatically(S))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,l=this.state.prevData;return o&&i&&i.length&&(!l||!Bd(l,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,l=i.dataKey,c=i.activeIndex,f=Qe(this.props.background,!1);return o.map(function(h,p){h.value;var m=h.background,v=Sse(h,wse);if(!m)return null;var _=Bn(Bn(Bn(Bn(Bn({},v),{},{fill:"#eee"},m),f),Dl(r.props,h,p)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:l,index:p,className:"recharts-bar-background-rectangle"});return G.createElement(fL,Kg({key:"background-bar-".concat(p),option:r.props.background,isActive:p===c},_))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.data,c=o.xAxis,f=o.yAxis,h=o.layout,p=o.children,m=hi(p,qd);if(!m)return null;var v=h==="vertical"?l[0].height/2:l[0].width/2,_=function(w,O){var I=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:I,errorVal:Yn(w,O)}},E={clipPath:r?"url(#clipPath-".concat(i,")"):null};return G.createElement(Ut,E,m.map(function(S){return G.cloneElement(S,{key:"error-bar-".concat(i,"-").concat(S.props.dataKey),data:l,xAxis:c,yAxis:f,layout:h,offset:v,dataPointFormatter:_})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,l=r.className,c=r.xAxis,f=r.yAxis,h=r.left,p=r.top,m=r.width,v=r.height,_=r.isAnimationActive,E=r.background,S=r.id;if(i||!o||!o.length)return null;var w=this.state.isAnimationFinished,O=vt("recharts-bar",l),I=c&&c.allowDataOverflow,N=f&&f.allowDataOverflow,L=I||N,C=ut(S)?this.id:S;return G.createElement(Ut,{className:O},I||N?G.createElement("defs",null,G.createElement("clipPath",{id:"clipPath-".concat(C)},G.createElement("rect",{x:I?h:h-m/2,y:N?p:p-v/2,width:I?m:m*2,height:N?v:v*2}))):null,G.createElement(Ut,{className:"recharts-bar-rectangles",clipPath:L?"url(#clipPath-".concat(C,")"):null},E?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(L,C),(!_||w)&&po.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})($.PureComponent);h$=zd;hs(zd,"displayName","Bar");hs(zd,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Gl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});hs(zd,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,l=t.yAxis,c=t.xAxisTicks,f=t.yAxisTicks,h=t.stackedData,p=t.dataStartIndex,m=t.displayedData,v=t.offset,_=ane(r,n);if(!_)return null;var E=e.layout,S=n.type.defaultProps,w=S!==void 0?Bn(Bn({},S),n.props):n.props,O=w.dataKey,I=w.children,N=w.minPointSize,L=E==="horizontal"?l:o,C=h?L.scale.domain():null,M=hne({numericAxis:L}),A=hi(I,qy),P=m.map(function(k,U){var D,B,V,Q,J,H;h?D=one(h[p+U],C):(D=Yn(k,O),Array.isArray(D)||(D=[M,D]));var Y=xse(N,h$.defaultProps.minPointSize)(D[1],U);if(E==="horizontal"){var ee,ce=[l.scale(D[0]),l.scale(D[1])],_e=ce[0],F=ce[1];B=Vj({axis:o,ticks:c,bandSize:i,offset:_.offset,entry:k,index:U}),V=(ee=F??_e)!==null&&ee!==void 0?ee:void 0,Q=_.size;var W=_e-F;if(J=Number.isNaN(W)?0:W,H={x:B,y:l.y,width:Q,height:l.height},Math.abs(Y)>0&&Math.abs(J)<Math.abs(Y)){var se=Mr(J||Y)*(Math.abs(Y)-Math.abs(J));V-=se,J+=se}}else{var me=[o.scale(D[0]),o.scale(D[1])],ve=me[0],xe=me[1];if(B=ve,V=Vj({axis:l,ticks:f,bandSize:i,offset:_.offset,entry:k,index:U}),Q=xe-ve,J=_.size,H={x:o.x,y:V,width:o.width,height:J},Math.abs(Y)>0&&Math.abs(Q)<Math.abs(Y)){var Ie=Mr(Q||Y)*(Math.abs(Y)-Math.abs(Q));Q+=Ie}}return Bn(Bn(Bn({},k),{},{x:B,y:V,width:Q,height:J,value:h?D:D[1],payload:k,background:H},A&&A[U]&&A[U].props),{},{tooltipPayload:[UV(n,k)],tooltipPosition:{x:B+Q/2,y:V+J/2}})});return Bn({data:P,layout:E},v)});function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function Nse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m$(r.key),r)}}function kse(t,e,n){return e&&pL(t.prototype,e),n&&pL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mL(Object(n),!0).forEach(function(r){sv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sv(t,e,n){return e=m$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m$(t){var e=Mse(t,"string");return vd(e)=="symbol"?e:e+""}function Mse(t,e){if(vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jse=function(e,n,r,i,o){var l=e.width,c=e.height,f=e.layout,h=e.children,p=Object.keys(n),m={left:r.left,leftMirror:r.left,right:l-r.right,rightMirror:l-r.right,top:r.top,topMirror:r.top,bottom:c-r.bottom,bottomMirror:c-r.bottom},v=!!si(h,zd);return p.reduce(function(_,E){var S=n[E],w=S.orientation,O=S.domain,I=S.padding,N=I===void 0?{}:I,L=S.mirror,C=S.reversed,M="".concat(w).concat(L?"Mirror":""),A,P,k,U,D;if(S.type==="number"&&(S.padding==="gap"||S.padding==="no-gap")){var B=O[1]-O[0],V=1/0,Q=S.categoricalDomain.sort(KK);if(Q.forEach(function(me,ve){ve>0&&(V=Math.min((me||0)-(Q[ve-1]||0),V))}),Number.isFinite(V)){var J=V/B,H=S.layout==="vertical"?r.height:r.width;if(S.padding==="gap"&&(A=J*H/2),S.padding==="no-gap"){var Y=jr(e.barCategoryGap,J*H),ee=J*H/2;A=ee-Y-(ee-Y)/H*Y}}}i==="xAxis"?P=[r.left+(N.left||0)+(A||0),r.left+r.width-(N.right||0)-(A||0)]:i==="yAxis"?P=f==="horizontal"?[r.top+r.height-(N.bottom||0),r.top+(N.top||0)]:[r.top+(N.top||0)+(A||0),r.top+r.height-(N.bottom||0)-(A||0)]:P=S.range,C&&(P=[P[1],P[0]]);var ce=DV(S,o,v),_e=ce.scale,F=ce.realScaleType;_e.domain(O).range(P),LV(_e);var W=VV(_e,Xi(Xi({},S),{},{realScaleType:F}));i==="xAxis"?(D=w==="top"&&!L||w==="bottom"&&L,k=r.left,U=m[M]-D*S.height):i==="yAxis"&&(D=w==="left"&&!L||w==="right"&&L,k=m[M]-D*S.width,U=r.top);var se=Xi(Xi(Xi({},S),W),{},{realScaleType:F,x:k,y:U,scale:_e,width:i==="xAxis"?r.width:S.width,height:i==="yAxis"?r.height:S.height});return se.bandSize=Rg(se,W),!S.hide&&i==="xAxis"?m[M]+=(D?-1:1)*se.height:S.hide||(m[M]+=(D?-1:1)*se.width),Xi(Xi({},_),{},sv({},E,se))},{})},g$=function(e,n){var r=e.x,i=e.y,o=n.x,l=n.y;return{x:Math.min(r,o),y:Math.min(i,l),width:Math.abs(o-r),height:Math.abs(l-i)}},Dse=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return g$({x:n,y:r},{x:i,y:o})},y$=(function(){function t(e){Nse(this,t),this.scale=e}return kse(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(n)+c}default:return this.scale(n)}if(i){var f=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+f}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();sv(y$,"EPS",1e-4);var wA=function(e){var n=Object.keys(e).reduce(function(r,i){return Xi(Xi({},r),{},sv({},i,y$.create(e[i])))},{});return Xi(Xi({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=o.bandAware,c=o.position;return use(i,function(f,h){return n[h].apply(f,{bandAware:l,position:c})})},isInRange:function(i){return f$(i,function(o,l){return n[l].isInRange(o)})}})};function Lse(t){return(t%180+180)%180}var Vse=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Lse(i),l=o*Math.PI/180,c=Math.atan(r/n),f=l>c&&l<Math.PI-c?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},_1,gL;function $se(){if(gL)return _1;gL=1;var t=Ma(),e=Dd(),n=$y();function r(i){return function(o,l,c){var f=Object(o);if(!e(o)){var h=t(l,3);o=n(o),l=function(m){return h(f[m],m,f)}}var p=i(o,l,c);return p>-1?f[h?o[p]:p]:void 0}}return _1=r,_1}var x1,yL;function Use(){if(yL)return x1;yL=1;var t=s$();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return x1=e,x1}var w1,vL;function Bse(){if(vL)return w1;vL=1;var t=g5(),e=Ma(),n=Use(),r=Math.max;function i(o,l,c){var f=o==null?0:o.length;if(!f)return-1;var h=c==null?0:n(c);return h<0&&(h=r(f+h,0)),t(o,e(l,3),h)}return w1=i,w1}var S1,bL;function qse(){if(bL)return S1;bL=1;var t=$se(),e=Bse(),n=t(e);return S1=n,S1}var zse=qse();const Fse=Kt(zse);var Hse=N6();const Gse=Kt(Hse);var Kse=Gse(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),SA=$.createContext(void 0),EA=$.createContext(void 0),v$=$.createContext(void 0),b$=$.createContext({}),_$=$.createContext(void 0),x$=$.createContext(0),w$=$.createContext(0),_L=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,l=e.clipPathId,c=e.children,f=e.width,h=e.height,p=Kse(o);return G.createElement(SA.Provider,{value:r},G.createElement(EA.Provider,{value:i},G.createElement(b$.Provider,{value:o},G.createElement(v$.Provider,{value:p},G.createElement(_$.Provider,{value:l},G.createElement(x$.Provider,{value:h},G.createElement(w$.Provider,{value:f},c)))))))},Wse=function(){return $.useContext(_$)},S$=function(e){var n=$.useContext(SA);n==null&&$l();var r=n[e];return r==null&&$l(),r},Yse=function(){var e=$.useContext(SA);return cs(e)},Xse=function(){var e=$.useContext(EA),n=Fse(e,function(r){return f$(r.domain,Number.isFinite)});return n||cs(e)},E$=function(e){var n=$.useContext(EA);n==null&&$l();var r=n[e];return r==null&&$l(),r},Qse=function(){var e=$.useContext(v$);return e},Jse=function(){return $.useContext(b$)},TA=function(){return $.useContext(w$)},AA=function(){return $.useContext(x$)};function kc(t){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(t)}function Zse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ele(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A$(r.key),r)}}function tle(t,e,n){return e&&ele(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nle(t,e,n){return e=Yg(e),rle(t,T$()?Reflect.construct(e,n||[],Yg(t).constructor):e.apply(t,n))}function rle(t,e){if(e&&(kc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ile(t)}function ile(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T$=function(){return!!t})()}function Yg(t){return Yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yg(t)}function ale(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mE(t,e)}function mE(t,e){return mE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mE(t,e)}function xL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xL(Object(n),!0).forEach(function(r){OA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OA(t,e,n){return e=A$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A$(t){var e=ole(t,"string");return kc(e)=="symbol"?e:e+""}function ole(t,e){if(kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function sle(t,e){return fle(t)||cle(t,e)||ule(t,e)||lle()}function lle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ule(t,e){if(t){if(typeof t=="string")return SL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SL(t,e)}}function SL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,l,c=[],f=!0,h=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(f=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function fle(t){if(Array.isArray(t))return t}function gE(){return gE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gE.apply(this,arguments)}var hle=function(e,n){var r;return G.isValidElement(e)?r=G.cloneElement(e,n):nt(e)?r=e(n):r=G.createElement("line",gE({},n,{className:"recharts-reference-line-line"})),r},dle=function(e,n,r,i,o,l,c,f,h){var p=o.x,m=o.y,v=o.width,_=o.height;if(r){var E=h.y,S=e.y.apply(E,{position:l});if(Oa(h,"discard")&&!e.y.isInRange(S))return null;var w=[{x:p+v,y:S},{x:p,y:S}];return f==="left"?w.reverse():w}if(n){var O=h.x,I=e.x.apply(O,{position:l});if(Oa(h,"discard")&&!e.x.isInRange(I))return null;var N=[{x:I,y:m+_},{x:I,y:m}];return c==="top"?N.reverse():N}if(i){var L=h.segment,C=L.map(function(M){return e.apply(M,{position:l})});return Oa(h,"discard")&&ase(C,function(M){return!e.isInRange(M)})?null:C}return null};function ple(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,l=t.shape,c=t.className,f=t.alwaysShow,h=Wse(),p=S$(i),m=E$(o),v=Qse();if(!h||!v)return null;na(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var _=wA({x:p.scale,y:m.scale}),E=Qn(e),S=Qn(n),w=r&&r.length===2,O=dle(_,E,S,w,v,t.position,p.orientation,m.orientation,t);if(!O)return null;var I=sle(O,2),N=I[0],L=N.x,C=N.y,M=I[1],A=M.x,P=M.y,k=Oa(t,"hidden")?"url(#".concat(h,")"):void 0,U=wL(wL({clipPath:k},Qe(t,!0)),{},{x1:L,y1:C,x2:A,y2:P});return G.createElement(Ut,{className:vt("recharts-reference-line",c)},hle(l,U),rr.renderCallByParent(t,Dse({x1:L,y1:C,x2:A,y2:P})))}var CA=(function(t){function e(){return Zse(this,e),nle(this,e,arguments)}return ale(e,t),tle(e,[{key:"render",value:function(){return G.createElement(ple,this.props)}}])})(G.Component);OA(CA,"displayName","ReferenceLine");OA(CA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function yE(){return yE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yE.apply(this,arguments)}function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function EL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EL(Object(n),!0).forEach(function(r){lv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C$(r.key),r)}}function yle(t,e,n){return e&&gle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vle(t,e,n){return e=Xg(e),ble(t,O$()?Reflect.construct(e,n||[],Xg(t).constructor):e.apply(t,n))}function ble(t,e){if(e&&(Mc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _le(t)}function _le(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O$=function(){return!!t})()}function Xg(t){return Xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xg(t)}function xle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vE(t,e)}function vE(t,e){return vE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vE(t,e)}function lv(t,e,n){return e=C$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C$(t){var e=wle(t,"string");return Mc(e)=="symbol"?e:e+""}function wle(t,e){if(Mc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Sle=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,l=wA({x:i.scale,y:o.scale}),c=l.apply({x:n,y:r},{bandAware:!0});return Oa(e,"discard")&&!l.isInRange(c)?null:c},uv=(function(t){function e(){return mle(this,e),vle(this,e,arguments)}return xle(e,t),yle(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,l=r.r,c=r.alwaysShow,f=r.clipPathId,h=Qn(i),p=Qn(o);if(na(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!p)return null;var m=Sle(this.props);if(!m)return null;var v=m.x,_=m.y,E=this.props,S=E.shape,w=E.className,O=Oa(this.props,"hidden")?"url(#".concat(f,")"):void 0,I=TL(TL({clipPath:O},Qe(this.props,!0)),{},{cx:v,cy:_});return G.createElement(Ut,{className:vt("recharts-reference-dot",w)},e.renderDot(S,I),rr.renderCallByParent(this.props,{x:v-l,y:_-l,width:2*l,height:2*l}))}}])})(G.Component);lv(uv,"displayName","ReferenceDot");lv(uv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});lv(uv,"renderDot",function(t,e){var n;return G.isValidElement(t)?n=G.cloneElement(t,e):nt(t)?n=t(e):n=G.createElement(ev,yE({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function bE(){return bE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bE.apply(this,arguments)}function jc(t){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(t)}function AL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AL(Object(n),!0).forEach(function(r){cv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ele(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P$(r.key),r)}}function Ale(t,e,n){return e&&Tle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ole(t,e,n){return e=Qg(e),Cle(t,I$()?Reflect.construct(e,n||[],Qg(t).constructor):e.apply(t,n))}function Cle(t,e){if(e&&(jc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ile(t)}function Ile(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I$=function(){return!!t})()}function Qg(t){return Qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qg(t)}function Ple(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_E(t,e)}function _E(t,e){return _E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_E(t,e)}function cv(t,e,n){return e=P$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P$(t){var e=Rle(t,"string");return jc(e)=="symbol"?e:e+""}function Rle(t,e){if(jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Nle=function(e,n,r,i,o){var l=o.x1,c=o.x2,f=o.y1,h=o.y2,p=o.xAxis,m=o.yAxis;if(!p||!m)return null;var v=wA({x:p.scale,y:m.scale}),_={x:e?v.x.apply(l,{position:"start"}):v.x.rangeMin,y:r?v.y.apply(f,{position:"start"}):v.y.rangeMin},E={x:n?v.x.apply(c,{position:"end"}):v.x.rangeMax,y:i?v.y.apply(h,{position:"end"}):v.y.rangeMax};return Oa(o,"discard")&&(!v.isInRange(_)||!v.isInRange(E))?null:g$(_,E)},fv=(function(t){function e(){return Ele(this,e),Ole(this,e,arguments)}return Ple(e,t),Ale(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,l=r.y1,c=r.y2,f=r.className,h=r.alwaysShow,p=r.clipPathId;na(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Qn(i),v=Qn(o),_=Qn(l),E=Qn(c),S=this.props.shape;if(!m&&!v&&!_&&!E&&!S)return null;var w=Nle(m,v,_,E,this.props);if(!w&&!S)return null;var O=Oa(this.props,"hidden")?"url(#".concat(p,")"):void 0;return G.createElement(Ut,{className:vt("recharts-reference-area",f)},e.renderRect(S,OL(OL({clipPath:O},Qe(this.props,!0)),w)),rr.renderCallByParent(this.props,w))}}])})(G.Component);cv(fv,"displayName","ReferenceArea");cv(fv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});cv(fv,"renderRect",function(t,e){var n;return G.isValidElement(t)?n=G.cloneElement(t,e):nt(t)?n=t(e):n=G.createElement(xA,bE({},e,{className:"recharts-reference-area-rect"})),n});function R$(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function kle(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Vse(r,n)}function Mle(t,e,n){var r=n==="width",i=t.x,o=t.y,l=t.width,c=t.height;return e===1?{start:r?i:o,end:r?i+l:o+c}:{start:r?i+l:o+c,end:r?i:o}}function Jg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function jle(t,e){return R$(t,e+1)}function Dle(t,e,n,r,i){for(var o=(r||[]).slice(),l=e.start,c=e.end,f=0,h=1,p=l,m=function(){var E=r==null?void 0:r[f];if(E===void 0)return{v:R$(r,h)};var S=f,w,O=function(){return w===void 0&&(w=n(E,S)),w},I=E.coordinate,N=f===0||Jg(t,I,O,p,c);N||(f=0,p=l,h+=1),N&&(p=I+t*(O()/2+i),f+=h)},v;h<=o.length;)if(v=m(),v)return v.v;return[]}function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function CL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CL(Object(n),!0).forEach(function(r){Lle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lle(t,e,n){return e=Vle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vle(t){var e=$le(t,"string");return bd(e)=="symbol"?e:e+""}function $le(t,e){if(bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ule(t,e,n,r,i){for(var o=(r||[]).slice(),l=o.length,c=e.start,f=e.end,h=function(v){var _=o[v],E,S=function(){return E===void 0&&(E=n(_,v)),E};if(v===l-1){var w=t*(_.coordinate+t*S()/2-f);o[v]=_=Er(Er({},_),{},{tickCoord:w>0?_.coordinate-w*t:_.coordinate})}else o[v]=_=Er(Er({},_),{},{tickCoord:_.coordinate});var O=Jg(t,_.tickCoord,S,c,f);O&&(f=_.tickCoord-t*(S()/2+i),o[v]=Er(Er({},_),{},{isShow:!0}))},p=l-1;p>=0;p--)h(p);return o}function Ble(t,e,n,r,i,o){var l=(r||[]).slice(),c=l.length,f=e.start,h=e.end;if(o){var p=r[c-1],m=n(p,c-1),v=t*(p.coordinate+t*m/2-h);l[c-1]=p=Er(Er({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate});var _=Jg(t,p.tickCoord,function(){return m},f,h);_&&(h=p.tickCoord-t*(m/2+i),l[c-1]=Er(Er({},p),{},{isShow:!0}))}for(var E=o?c-1:c,S=function(I){var N=l[I],L,C=function(){return L===void 0&&(L=n(N,I)),L};if(I===0){var M=t*(N.coordinate-t*C()/2-f);l[I]=N=Er(Er({},N),{},{tickCoord:M<0?N.coordinate-M*t:N.coordinate})}else l[I]=N=Er(Er({},N),{},{tickCoord:N.coordinate});var A=Jg(t,N.tickCoord,C,f,h);A&&(f=N.tickCoord+t*(C()/2+i),l[I]=Er(Er({},N),{},{isShow:!0}))},w=0;w<E;w++)S(w);return l}function IA(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,l=t.minTickGap,c=t.orientation,f=t.interval,h=t.tickFormatter,p=t.unit,m=t.angle;if(!i||!i.length||!r)return[];if(Te(f)||Gl.isSsr)return jle(i,typeof f=="number"&&Te(f)?f:0);var v=[],_=c==="top"||c==="bottom"?"width":"height",E=p&&_==="width"?Ah(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=function(N,L){var C=nt(h)?h(N.value,L):N.value;return _==="width"?kle(Ah(C,{fontSize:e,letterSpacing:n}),E,m):Ah(C,{fontSize:e,letterSpacing:n})[_]},w=i.length>=2?Mr(i[1].coordinate-i[0].coordinate):1,O=Mle(o,w,_);return f==="equidistantPreserveStart"?Dle(w,O,S,i,l):(f==="preserveStart"||f==="preserveStartEnd"?v=Ble(w,O,S,i,l,f==="preserveStartEnd"):v=Ule(w,O,S,i,l),v.filter(function(I){return I.isShow}))}var qle=["viewBox"],zle=["viewBox"],Fle=["ticks"];function Dc(t){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(t)}function Ju(){return Ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ju.apply(this,arguments)}function IL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IL(Object(n),!0).forEach(function(r){PA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E1(t,e){if(t==null)return{};var n=Hle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k$(r.key),r)}}function Kle(t,e,n){return e&&PL(t.prototype,e),n&&PL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wle(t,e,n){return e=Zg(e),Yle(t,N$()?Reflect.construct(e,n||[],Zg(t).constructor):e.apply(t,n))}function Yle(t,e){if(e&&(Dc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xle(t)}function Xle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N$=function(){return!!t})()}function Zg(t){return Zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zg(t)}function Qle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xE(t,e)}function xE(t,e){return xE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xE(t,e)}function PA(t,e,n){return e=k$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k$(t){var e=Jle(t,"string");return Dc(e)=="symbol"?e:e+""}function Jle(t,e){if(Dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rf=(function(t){function e(n){var r;return Gle(this,e),r=Wle(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Qle(e,t),Kle(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,l=E1(r,qle),c=this.props,f=c.viewBox,h=E1(c,zle);return!ac(o,f)||!ac(l,h)||!ac(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,l=i.y,c=i.width,f=i.height,h=i.orientation,p=i.tickSize,m=i.mirror,v=i.tickMargin,_,E,S,w,O,I,N=m?-1:1,L=r.tickSize||p,C=Te(r.tickCoord)?r.tickCoord:r.coordinate;switch(h){case"top":_=E=r.coordinate,w=l+ +!m*f,S=w-N*L,I=S-N*v,O=C;break;case"left":S=w=r.coordinate,E=o+ +!m*c,_=E-N*L,O=_-N*v,I=C;break;case"right":S=w=r.coordinate,E=o+ +m*c,_=E+N*L,O=_+N*v,I=C;break;default:_=E=r.coordinate,w=l+ +m*f,S=w+N*L,I=S+N*v,O=C;break}return{line:{x1:_,y1:S,x2:E,y2:w},tick:{x:O,y:I}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,l;switch(i){case"left":l=o?"start":"end";break;case"right":l=o?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,l="end";switch(i){case"left":case"right":l="middle";break;case"top":l=o?"start":"end";break;default:l=o?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,l=r.width,c=r.height,f=r.orientation,h=r.mirror,p=r.axisLine,m=Gn(Gn(Gn({},Qe(this.props,!1)),Qe(p,!1)),{},{fill:"none"});if(f==="top"||f==="bottom"){var v=+(f==="top"&&!h||f==="bottom"&&h);m=Gn(Gn({},m),{},{x1:i,y1:o+v*c,x2:i+l,y2:o+v*c})}else{var _=+(f==="left"&&!h||f==="right"&&h);m=Gn(Gn({},m),{},{x1:i+_*l,y1:o,x2:i+_*l,y2:o+c})}return G.createElement("line",Ju({},m,{className:vt("recharts-cartesian-axis-line",fi(p,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var l=this,c=this.props,f=c.tickLine,h=c.stroke,p=c.tick,m=c.tickFormatter,v=c.unit,_=IA(Gn(Gn({},this.props),{},{ticks:r}),i,o),E=this.getTickTextAnchor(),S=this.getTickVerticalAnchor(),w=Qe(this.props,!1),O=Qe(p,!1),I=Gn(Gn({},w),{},{fill:"none"},Qe(f,!1)),N=_.map(function(L,C){var M=l.getTickLineCoord(L),A=M.line,P=M.tick,k=Gn(Gn(Gn(Gn({textAnchor:E,verticalAnchor:S},w),{},{stroke:"none",fill:h},O),P),{},{index:C,payload:L,visibleTicksCount:_.length,tickFormatter:m});return G.createElement(Ut,Ju({className:"recharts-cartesian-axis-tick",key:"tick-".concat(L.value,"-").concat(L.coordinate,"-").concat(L.tickCoord)},Dl(l.props,L,C)),f&&G.createElement("line",Ju({},I,A,{className:vt("recharts-cartesian-axis-tick-line",fi(f,"className"))})),p&&e.renderTickItem(p,k,"".concat(nt(m)?m(L.value,C):L.value).concat(v||"")))});return G.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,l=i.width,c=i.height,f=i.ticksGenerator,h=i.className,p=i.hide;if(p)return null;var m=this.props,v=m.ticks,_=E1(m,Fle),E=v;return nt(f)&&(E=v&&v.length>0?f(this.props):f(_)),l<=0||c<=0||!E||!E.length?null:G.createElement(Ut,{className:vt("recharts-cartesian-axis",h),ref:function(w){r.layerReference=w}},o&&this.renderAxisLine(),this.renderTicks(E,this.state.fontSize,this.state.letterSpacing),rr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var l,c=vt(i.className,"recharts-cartesian-axis-tick-value");return G.isValidElement(r)?l=G.cloneElement(r,Gn(Gn({},i),{},{className:c})):nt(r)?l=r(Gn(Gn({},i),{},{className:c})):l=G.createElement(Ll,Ju({},i,{className:"recharts-cartesian-axis-tick-value"}),o),l}}])})($.Component);PA(rf,"displayName","CartesianAxis");PA(rf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Zle=["x1","y1","x2","y2","key"],eue=["offset"];function Ul(t){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ul(t)}function RL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Or(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RL(Object(n),!0).forEach(function(r){tue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tue(t,e,n){return e=nue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nue(t){var e=rue(t,"string");return Ul(e)=="symbol"?e:e+""}function rue(t,e){if(Ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function El(){return El=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},El.apply(this,arguments)}function NL(t,e){if(t==null)return{};var n=iue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var aue=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,f=e.ry;return G.createElement("rect",{x:i,y:o,ry:f,width:l,height:c,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function M$(t,e){var n;if(G.isValidElement(t))n=G.cloneElement(t,e);else if(nt(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,l=e.y2,c=e.key,f=NL(e,Zle),h=Qe(f,!1);h.offset;var p=NL(h,eue);n=G.createElement("line",El({},p,{x1:r,y1:i,x2:o,y2:l,fill:"none",key:c}))}return n}function oue(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var l=o.map(function(c,f){var h=Or(Or({},t),{},{x1:e,y1:c,x2:e+n,y2:c,key:"line-".concat(f),index:f});return M$(i,h)});return G.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function sue(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var l=o.map(function(c,f){var h=Or(Or({},t),{},{x1:c,y1:e,x2:c,y2:e+n,key:"line-".concat(f),index:f});return M$(i,h)});return G.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function lue(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,l=t.height,c=t.horizontalPoints,f=t.horizontal,h=f===void 0?!0:f;if(!h||!e||!e.length)return null;var p=c.map(function(v){return Math.round(v+i-i)}).sort(function(v,_){return v-_});i!==p[0]&&p.unshift(0);var m=p.map(function(v,_){var E=!p[_+1],S=E?i+l-v:p[_+1]-v;if(S<=0)return null;var w=_%e.length;return G.createElement("rect",{key:"react-".concat(_),y:v,x:r,height:S,width:o,stroke:"none",fill:e[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return G.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function uue(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,l=t.y,c=t.width,f=t.height,h=t.verticalPoints;if(!n||!r||!r.length)return null;var p=h.map(function(v){return Math.round(v+o-o)}).sort(function(v,_){return v-_});o!==p[0]&&p.unshift(0);var m=p.map(function(v,_){var E=!p[_+1],S=E?o+c-v:p[_+1]-v;if(S<=0)return null;var w=_%r.length;return G.createElement("rect",{key:"react-".concat(_),x:v,y:l,width:S,height:f,stroke:"none",fill:r[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return G.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var cue=function(e,n){var r=e.xAxis,i=e.width,o=e.height,l=e.offset;return jV(IA(Or(Or(Or({},rf.defaultProps),r),{},{ticks:co(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),l.left,l.left+l.width,n)},fue=function(e,n){var r=e.yAxis,i=e.width,o=e.height,l=e.offset;return jV(IA(Or(Or(Or({},rf.defaultProps),r),{},{ticks:co(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),l.top,l.top+l.height,n)},Bu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function j$(t){var e,n,r,i,o,l,c=TA(),f=AA(),h=Jse(),p=Or(Or({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Bu.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Bu.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Bu.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Bu.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Bu.vertical,verticalFill:(l=t.verticalFill)!==null&&l!==void 0?l:Bu.verticalFill,x:Te(t.x)?t.x:h.left,y:Te(t.y)?t.y:h.top,width:Te(t.width)?t.width:h.width,height:Te(t.height)?t.height:h.height}),m=p.x,v=p.y,_=p.width,E=p.height,S=p.syncWithTicks,w=p.horizontalValues,O=p.verticalValues,I=Yse(),N=Xse();if(!Te(_)||_<=0||!Te(E)||E<=0||!Te(m)||m!==+m||!Te(v)||v!==+v)return null;var L=p.verticalCoordinatesGenerator||cue,C=p.horizontalCoordinatesGenerator||fue,M=p.horizontalPoints,A=p.verticalPoints;if((!M||!M.length)&&nt(C)){var P=w&&w.length,k=C({yAxis:N?Or(Or({},N),{},{ticks:P?w:N.ticks}):void 0,width:c,height:f,offset:h},P?!0:S);na(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ul(k),"]")),Array.isArray(k)&&(M=k)}if((!A||!A.length)&&nt(L)){var U=O&&O.length,D=L({xAxis:I?Or(Or({},I),{},{ticks:U?O:I.ticks}):void 0,width:c,height:f,offset:h},U?!0:S);na(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ul(D),"]")),Array.isArray(D)&&(A=D)}return G.createElement("g",{className:"recharts-cartesian-grid"},G.createElement(aue,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),G.createElement(oue,El({},p,{offset:h,horizontalPoints:M,xAxis:I,yAxis:N})),G.createElement(sue,El({},p,{offset:h,verticalPoints:A,xAxis:I,yAxis:N})),G.createElement(lue,El({},p,{horizontalPoints:M})),G.createElement(uue,El({},p,{verticalPoints:A})))}j$.displayName="CartesianGrid";var hue=["type","layout","connectNulls","ref"],due=["key"];function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}function kL(t,e){if(t==null)return{};var n=pue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Nh(){return Nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nh.apply(this,arguments)}function ML(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ai(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ML(Object(n),!0).forEach(function(r){Qi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ML(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qu(t){return vue(t)||yue(t)||gue(t)||mue()}function mue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gue(t,e){if(t){if(typeof t=="string")return wE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wE(t,e)}}function yue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vue(t){if(Array.isArray(t))return wE(t)}function wE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L$(r.key),r)}}function _ue(t,e,n){return e&&jL(t.prototype,e),n&&jL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xue(t,e,n){return e=ey(e),wue(t,D$()?Reflect.construct(e,n||[],ey(t).constructor):e.apply(t,n))}function wue(t,e){if(e&&(Lc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sue(t)}function Sue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D$=function(){return!!t})()}function ey(t){return ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ey(t)}function Eue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SE(t,e)}function SE(t,e){return SE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},SE(t,e)}function Qi(t,e,n){return e=L$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L$(t){var e=Tue(t,"string");return Lc(e)=="symbol"?e:e+""}function Tue(t,e){if(Lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vc=(function(t){function e(){var n;bue(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=xue(this,e,[].concat(i)),Qi(n,"state",{isAnimationFinished:!0,totalLength:0}),Qi(n,"generateSimpleStrokeDasharray",function(l,c){return"".concat(c,"px ").concat(l-c,"px")}),Qi(n,"getStrokeDasharray",function(l,c,f){var h=f.reduce(function(O,I){return O+I});if(!h)return n.generateSimpleStrokeDasharray(c,l);for(var p=Math.floor(l/h),m=l%h,v=c-l,_=[],E=0,S=0;E<f.length;S+=f[E],++E)if(S+f[E]>m){_=[].concat(qu(f.slice(0,E)),[m-S]);break}var w=_.length%2===0?[0,v]:[v];return[].concat(qu(e.repeat(f,p)),qu(_),w).map(function(O){return"".concat(O,"px")}).join(", ")}),Qi(n,"id",Jc("recharts-line-")),Qi(n,"pathRef",function(l){n.mainCurve=l}),Qi(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Qi(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Eue(e,t),_ue(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.points,c=o.xAxis,f=o.yAxis,h=o.layout,p=o.children,m=hi(p,qd);if(!m)return null;var v=function(S,w){return{x:S.x,y:S.y,value:S.value,errorVal:Yn(S.payload,w)}},_={clipPath:r?"url(#clipPath-".concat(i,")"):null};return G.createElement(Ut,_,m.map(function(E){return G.cloneElement(E,{key:"bar-".concat(E.props.dataKey),data:l,xAxis:c,yAxis:f,layout:h,dataPointFormatter:v})}))}},{key:"renderDots",value:function(r,i,o){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var c=this.props,f=c.dot,h=c.points,p=c.dataKey,m=Qe(this.props,!1),v=Qe(f,!0),_=h.map(function(S,w){var O=ai(ai(ai({key:"dot-".concat(w),r:3},m),v),{},{index:w,cx:S.x,cy:S.y,value:S.value,dataKey:p,payload:S.payload,points:h});return e.renderDotItem(f,O)}),E={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return G.createElement(Ut,Nh({className:"recharts-line-dots",key:"dots"},E),_)}},{key:"renderCurveStatically",value:function(r,i,o,l){var c=this.props,f=c.type,h=c.layout,p=c.connectNulls;c.ref;var m=kL(c,hue),v=ai(ai(ai({},Qe(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},l),{},{type:f,layout:h,connectNulls:p});return G.createElement(Mg,Nh({},v,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,l=this.props,c=l.points,f=l.strokeDasharray,h=l.isAnimationActive,p=l.animationBegin,m=l.animationDuration,v=l.animationEasing,_=l.animationId,E=l.animateNewValues,S=l.width,w=l.height,O=this.state,I=O.prevPoints,N=O.totalLength;return G.createElement(Na,{begin:p,duration:m,isActive:h,easing:v,from:{t:0},to:{t:1},key:"line-".concat(_),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(L){var C=L.t;if(I){var M=I.length/c.length,A=c.map(function(B,V){var Q=Math.floor(V*M);if(I[Q]){var J=I[Q],H=li(J.x,B.x),Y=li(J.y,B.y);return ai(ai({},B),{},{x:H(C),y:Y(C)})}if(E){var ee=li(S*2,B.x),ce=li(w/2,B.y);return ai(ai({},B),{},{x:ee(C),y:ce(C)})}return ai(ai({},B),{},{x:B.x,y:B.y})});return o.renderCurveStatically(A,r,i)}var P=li(0,N),k=P(C),U;if(f){var D="".concat(f).split(/[,\s]+/gim).map(function(B){return parseFloat(B)});U=o.getStrokeDasharray(k,N,D)}else U=o.generateSimpleStrokeDasharray(N,k);return o.renderCurveStatically(c,r,i,{strokeDasharray:U})})}},{key:"renderCurve",value:function(r,i){var o=this.props,l=o.points,c=o.isAnimationActive,f=this.state,h=f.prevPoints,p=f.totalLength;return c&&l&&l.length&&(!h&&p>0||!Bd(h,l))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(l,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,l=i.dot,c=i.points,f=i.className,h=i.xAxis,p=i.yAxis,m=i.top,v=i.left,_=i.width,E=i.height,S=i.isAnimationActive,w=i.id;if(o||!c||!c.length)return null;var O=this.state.isAnimationFinished,I=c.length===1,N=vt("recharts-line",f),L=h&&h.allowDataOverflow,C=p&&p.allowDataOverflow,M=L||C,A=ut(w)?this.id:w,P=(r=Qe(l,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},k=P.r,U=k===void 0?3:k,D=P.strokeWidth,B=D===void 0?2:D,V=nW(l)?l:{},Q=V.clipDot,J=Q===void 0?!0:Q,H=U*2+B;return G.createElement(Ut,{className:N},L||C?G.createElement("defs",null,G.createElement("clipPath",{id:"clipPath-".concat(A)},G.createElement("rect",{x:L?v:v-_/2,y:C?m:m-E/2,width:L?_:_*2,height:C?E:E*2})),!J&&G.createElement("clipPath",{id:"clipPath-dots-".concat(A)},G.createElement("rect",{x:v-H/2,y:m-H/2,width:_+H,height:E+H}))):null,!I&&this.renderCurve(M,A),this.renderErrorBar(M,A),(I||l)&&this.renderDots(M,J,A),(!S||O)&&po.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(qu(r),[0]):r,l=[],c=0;c<i;++c)l=[].concat(qu(l),qu(o));return l}},{key:"renderDotItem",value:function(r,i){var o;if(G.isValidElement(r))o=G.cloneElement(r,i);else if(nt(r))o=r(i);else{var l=i.key,c=kL(i,due),f=vt("recharts-line-dot",typeof r!="boolean"?r.className:"");o=G.createElement(ev,Nh({key:l},c,{className:f}))}return o}}])})($.PureComponent);Qi(Vc,"displayName","Line");Qi(Vc,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Gl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Qi(Vc,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,l=t.dataKey,c=t.bandSize,f=t.displayedData,h=t.offset,p=e.layout,m=f.map(function(v,_){var E=Yn(v,l);return p==="horizontal"?{x:Lj({axis:n,ticks:i,bandSize:c,entry:v,index:_}),y:ut(E)?null:r.scale(E),value:E,payload:v}:{x:ut(E)?null:n.scale(E),y:Lj({axis:r,ticks:o,bandSize:c,entry:v,index:_}),value:E,payload:v}});return ai({points:m,layout:p},h)});function $c(t){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$c(t)}function Aue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,U$(r.key),r)}}function Cue(t,e,n){return e&&Oue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Iue(t,e,n){return e=ty(e),Pue(t,V$()?Reflect.construct(e,n||[],ty(t).constructor):e.apply(t,n))}function Pue(t,e){if(e&&($c(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rue(t)}function Rue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V$=function(){return!!t})()}function ty(t){return ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ty(t)}function Nue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EE(t,e)}function EE(t,e){return EE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},EE(t,e)}function $$(t,e,n){return e=U$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U$(t){var e=kue(t,"string");return $c(e)=="symbol"?e:e+""}function kue(t,e){if($c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function TE(){return TE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TE.apply(this,arguments)}function Mue(t){var e=t.xAxisId,n=TA(),r=AA(),i=S$(e);return i==null?null:$.createElement(rf,TE({},i,{className:vt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(l){return co(l,!0)}}))}var hv=(function(t){function e(){return Aue(this,e),Iue(this,e,arguments)}return Nue(e,t),Cue(e,[{key:"render",value:function(){return $.createElement(Mue,this.props)}}])})($.Component);$$(hv,"displayName","XAxis");$$(hv,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function jue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Due(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,z$(r.key),r)}}function Lue(t,e,n){return e&&Due(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vue(t,e,n){return e=ny(e),$ue(t,B$()?Reflect.construct(e,n||[],ny(t).constructor):e.apply(t,n))}function $ue(t,e){if(e&&(Uc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uue(t)}function Uue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B$=function(){return!!t})()}function ny(t){return ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ny(t)}function Bue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AE(t,e)}function AE(t,e){return AE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AE(t,e)}function q$(t,e,n){return e=z$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z$(t){var e=que(t,"string");return Uc(e)=="symbol"?e:e+""}function que(t,e){if(Uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function OE(){return OE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OE.apply(this,arguments)}var zue=function(e){var n=e.yAxisId,r=TA(),i=AA(),o=E$(n);return o==null?null:$.createElement(rf,OE({},o,{className:vt("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(c){return co(c,!0)}}))},_d=(function(t){function e(){return jue(this,e),Vue(this,e,arguments)}return Bue(e,t),Lue(e,[{key:"render",value:function(){return $.createElement(zue,this.props)}}])})($.Component);q$(_d,"displayName","YAxis");q$(_d,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function DL(t){return Kue(t)||Gue(t)||Hue(t)||Fue()}function Fue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hue(t,e){if(t){if(typeof t=="string")return CE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CE(t,e)}}function Gue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kue(t){if(Array.isArray(t))return CE(t)}function CE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var IE=function(e,n,r,i,o){var l=hi(e,CA),c=hi(e,uv),f=[].concat(DL(l),DL(c)),h=hi(e,fv),p="".concat(i,"Id"),m=i[0],v=n;if(f.length&&(v=f.reduce(function(S,w){if(w.props[p]===r&&Oa(w.props,"extendDomain")&&Te(w.props[m])){var O=w.props[m];return[Math.min(S[0],O),Math.max(S[1],O)]}return S},v)),h.length){var _="".concat(m,"1"),E="".concat(m,"2");v=h.reduce(function(S,w){if(w.props[p]===r&&Oa(w.props,"extendDomain")&&Te(w.props[_])&&Te(w.props[E])){var O=w.props[_],I=w.props[E];return[Math.min(S[0],O,I),Math.max(S[1],O,I)]}return S},v)}return o&&o.length&&(v=o.reduce(function(S,w){return Te(w)?[Math.min(S[0],w),Math.max(S[1],w)]:S},v)),v},T1={exports:{}},LL;function Wue(){return LL||(LL=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function o(f,h,p,m,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var _=new i(p,m||f,v),E=n?n+h:h;return f._events[E]?f._events[E].fn?f._events[E]=[f._events[E],_]:f._events[E].push(_):(f._events[E]=_,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],p,m;if(this._eventsCount===0)return h;for(m in p=this._events)e.call(p,m)&&h.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},c.prototype.listeners=function(h){var p=n?n+h:h,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,_=m.length,E=new Array(_);v<_;v++)E[v]=m[v].fn;return E},c.prototype.listenerCount=function(h){var p=n?n+h:h,m=this._events[p];return m?m.fn?1:m.length:0},c.prototype.emit=function(h,p,m,v,_,E){var S=n?n+h:h;if(!this._events[S])return!1;var w=this._events[S],O=arguments.length,I,N;if(w.fn){switch(w.once&&this.removeListener(h,w.fn,void 0,!0),O){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,p),!0;case 3:return w.fn.call(w.context,p,m),!0;case 4:return w.fn.call(w.context,p,m,v),!0;case 5:return w.fn.call(w.context,p,m,v,_),!0;case 6:return w.fn.call(w.context,p,m,v,_,E),!0}for(N=1,I=new Array(O-1);N<O;N++)I[N-1]=arguments[N];w.fn.apply(w.context,I)}else{var L=w.length,C;for(N=0;N<L;N++)switch(w[N].once&&this.removeListener(h,w[N].fn,void 0,!0),O){case 1:w[N].fn.call(w[N].context);break;case 2:w[N].fn.call(w[N].context,p);break;case 3:w[N].fn.call(w[N].context,p,m);break;case 4:w[N].fn.call(w[N].context,p,m,v);break;default:if(!I)for(C=1,I=new Array(O-1);C<O;C++)I[C-1]=arguments[C];w[N].fn.apply(w[N].context,I)}}return!0},c.prototype.on=function(h,p,m){return o(this,h,p,m,!1)},c.prototype.once=function(h,p,m){return o(this,h,p,m,!0)},c.prototype.removeListener=function(h,p,m,v){var _=n?n+h:h;if(!this._events[_])return this;if(!p)return l(this,_),this;var E=this._events[_];if(E.fn)E.fn===p&&(!v||E.once)&&(!m||E.context===m)&&l(this,_);else{for(var S=0,w=[],O=E.length;S<O;S++)(E[S].fn!==p||v&&!E[S].once||m&&E[S].context!==m)&&w.push(E[S]);w.length?this._events[_]=w.length===1?w[0]:w:l(this,_)}return this},c.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(T1)),T1.exports}var Yue=Wue();const Xue=Kt(Yue);var A1=new Xue,O1="recharts.syncMouseEvents";function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}function Que(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F$(r.key),r)}}function Zue(t,e,n){return e&&Jue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function C1(t,e,n){return e=F$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F$(t){var e=ece(t,"string");return xd(e)=="symbol"?e:e+""}function ece(t,e){if(xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tce=(function(){function t(){Que(this,t),C1(this,"activeIndex",0),C1(this,"coordinateList",[]),C1(this,"layout","horizontal")}return Zue(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,l=n.container,c=l===void 0?null:l,f=n.layout,h=f===void 0?null:f,p=n.offset,m=p===void 0?null:p,v=n.mouseHandlerCallback,_=v===void 0?null:v;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=c??this.container,this.layout=h??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=_??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,l=i.y,c=i.height,f=this.coordinateList[this.activeIndex].coordinate,h=((n=window)===null||n===void 0?void 0:n.scrollX)||0,p=((r=window)===null||r===void 0?void 0:r.scrollY)||0,m=o+f+h,v=l+this.offset.top+c/2+p;this.mouseHandlerCallback({pageX:m,pageY:v})}}}])})();function nce(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Te(r)&&Te(i))return!0}return!1}function rce(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function H$(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,l=un(e,n,r,i),c=un(e,n,r,o);return{points:[l,c],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function ice(t,e,n){var r,i,o,l;if(t==="horizontal")r=e.x,o=r,i=n.top,l=n.top+n.height;else if(t==="vertical")i=e.y,l=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var c=e.cx,f=e.cy,h=e.innerRadius,p=e.outerRadius,m=e.angle,v=un(c,f,h,m),_=un(c,f,p,m);r=v.x,i=v.y,o=_.x,l=_.y}else return H$(e);return[{x:r,y:i},{x:o,y:l}]}function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function VL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Em(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VL(Object(n),!0).forEach(function(r){ace(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ace(t,e,n){return e=oce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oce(t){var e=sce(t,"string");return wd(e)=="symbol"?e:e+""}function sce(t,e){if(wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lce(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,l=t.activeCoordinate,c=t.activePayload,f=t.offset,h=t.activeTooltipIndex,p=t.tooltipAxisBandSize,m=t.layout,v=t.chartName,_=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!_||!o||!l||v!=="ScatterChart"&&i!=="axis")return null;var E,S=Mg;if(v==="ScatterChart")E=l,S=Iae;else if(v==="BarChart")E=rce(m,l,f,p),S=xA;else if(m==="radial"){var w=H$(l),O=w.cx,I=w.cy,N=w.radius,L=w.startAngle,C=w.endAngle;E={cx:O,cy:I,startAngle:L,endAngle:C,innerRadius:N,outerRadius:N},S=GV}else E={points:ice(m,l,f)},S=Mg;var M=Em(Em(Em(Em({stroke:"#ccc",pointerEvents:"none"},f),E),Qe(_,!1)),{},{payload:c,payloadIndex:h,className:vt("recharts-tooltip-cursor",_.className)});return $.isValidElement(_)?$.cloneElement(_,M):$.createElement(S,M)}var uce=["item"],cce=["children","className","width","height","style","compact","title","desc"];function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function Zu(){return Zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zu.apply(this,arguments)}function $L(t,e){return dce(t)||hce(t,e)||K$(t,e)||fce()}function fce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,l,c=[],f=!0,h=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(f=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function dce(t){if(Array.isArray(t))return t}function UL(t,e){if(t==null)return{};var n=pce(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W$(r.key),r)}}function yce(t,e,n){return e&&gce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vce(t,e,n){return e=ry(e),bce(t,G$()?Reflect.construct(e,n||[],ry(t).constructor):e.apply(t,n))}function bce(t,e){if(e&&(Bc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ce(t)}function _ce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G$=function(){return!!t})()}function ry(t){return ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ry(t)}function xce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PE(t,e)}function PE(t,e){return PE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PE(t,e)}function qc(t){return Ece(t)||Sce(t)||K$(t)||wce()}function wce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K$(t,e){if(t){if(typeof t=="string")return RE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RE(t,e)}}function Sce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ece(t){if(Array.isArray(t))return RE(t)}function RE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function BL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function he(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BL(Object(n),!0).forEach(function(r){et(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function et(t,e,n){return e=W$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W$(t){var e=Tce(t,"string");return Bc(e)=="symbol"?e:e+""}function Tce(t,e){if(Bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ace={xAxis:["bottom","top"],yAxis:["left","right"]},Oce={width:"100%",height:"100%"},Y$={x:0,y:0};function Tm(t){return t}var Cce=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Ice=function(e,n,r,i){var o=n.find(function(p){return p&&p.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var l=o.coordinate,c=i.radius;return he(he(he({},i),un(i.cx,i.cy,c,l)),{},{angle:l,radius:c})}var f=o.coordinate,h=i.angle;return he(he(he({},i),un(i.cx,i.cy,f,h)),{},{angle:h,radius:f})}return Y$},dv=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,l=(r??[]).reduce(function(c,f){var h=f.props.data;return h&&h.length?[].concat(qc(c),qc(h)):c},[]);return l.length>0?l:e&&e.length&&Te(i)&&Te(o)?e.slice(i,o+1):[]};function X$(t){return t==="number"?[0,"auto"]:void 0}var NE=function(e,n,r,i){var o=e.graphicalItems,l=e.tooltipAxis,c=dv(n,e);return r<0||!o||!o.length||r>=c.length?null:o.reduce(function(f,h){var p,m=(p=h.props.data)!==null&&p!==void 0?p:n;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var v;if(l.dataKey&&!l.allowDuplicatedCategory){var _=m===void 0?c:m;v=og(_,l.dataKey,i)}else v=m&&m[r]||c[r];return v?[].concat(qc(f),[UV(h,v)]):f},[])},qL=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},l=Cce(o,r),c=e.orderedTooltipTicks,f=e.tooltipAxis,h=e.tooltipTicks,p=Zte(l,c,h,f);if(p>=0&&h){var m=h[p]&&h[p].value,v=NE(e,n,p,m),_=Ice(r,c,p,o);return{activeTooltipIndex:p,activeLabel:m,activePayload:v,activeCoordinate:_}}return null},Pce=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,l=n.axisIdKey,c=n.stackGroups,f=n.dataStartIndex,h=n.dataEndIndex,p=e.layout,m=e.children,v=e.stackOffset,_=MV(p,o);return r.reduce(function(E,S){var w,O=S.type.defaultProps!==void 0?he(he({},S.type.defaultProps),S.props):S.props,I=O.type,N=O.dataKey,L=O.allowDataOverflow,C=O.allowDuplicatedCategory,M=O.scale,A=O.ticks,P=O.includeHidden,k=O[l];if(E[k])return E;var U=dv(e.data,{graphicalItems:i.filter(function(W){var se,me=l in W.props?W.props[l]:(se=W.type.defaultProps)===null||se===void 0?void 0:se[l];return me===k}),dataStartIndex:f,dataEndIndex:h}),D=U.length,B,V,Q;nce(O.domain,L,I)&&(B=GS(O.domain,null,L),_&&(I==="number"||M!=="auto")&&(Q=Ch(U,N,"category")));var J=X$(I);if(!B||B.length===0){var H,Y=(H=O.domain)!==null&&H!==void 0?H:J;if(N){if(B=Ch(U,N,I),I==="category"&&_){var ee=GK(B);C&&ee?(V=B,B=Fg(0,D)):C||(B=Bj(Y,B,S).reduce(function(W,se){return W.indexOf(se)>=0?W:[].concat(qc(W),[se])},[]))}else if(I==="category")C?B=B.filter(function(W){return W!==""&&!ut(W)}):B=Bj(Y,B,S).reduce(function(W,se){return W.indexOf(se)>=0||se===""||ut(se)?W:[].concat(qc(W),[se])},[]);else if(I==="number"){var ce=ine(U,i.filter(function(W){var se,me,ve=l in W.props?W.props[l]:(se=W.type.defaultProps)===null||se===void 0?void 0:se[l],xe="hide"in W.props?W.props.hide:(me=W.type.defaultProps)===null||me===void 0?void 0:me.hide;return ve===k&&(P||!xe)}),N,o,p);ce&&(B=ce)}_&&(I==="number"||M!=="auto")&&(Q=Ch(U,N,"category"))}else _?B=Fg(0,D):c&&c[k]&&c[k].hasStack&&I==="number"?B=v==="expand"?[0,1]:$V(c[k].stackGroups,f,h):B=kV(U,i.filter(function(W){var se=l in W.props?W.props[l]:W.type.defaultProps[l],me="hide"in W.props?W.props.hide:W.type.defaultProps.hide;return se===k&&(P||!me)}),I,p,!0);if(I==="number")B=IE(m,B,k,o,A),Y&&(B=GS(Y,B,L));else if(I==="category"&&Y){var _e=Y,F=B.every(function(W){return _e.indexOf(W)>=0});F&&(B=_e)}}return he(he({},E),{},et({},k,he(he({},O),{},{axisType:o,domain:B,categoricalDomain:Q,duplicateDomain:V,originalDomain:(w=O.domain)!==null&&w!==void 0?w:J,isCategorical:_,layout:p})))},{})},Rce=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,l=n.axisIdKey,c=n.stackGroups,f=n.dataStartIndex,h=n.dataEndIndex,p=e.layout,m=e.children,v=dv(e.data,{graphicalItems:r,dataStartIndex:f,dataEndIndex:h}),_=v.length,E=MV(p,o),S=-1;return r.reduce(function(w,O){var I=O.type.defaultProps!==void 0?he(he({},O.type.defaultProps),O.props):O.props,N=I[l],L=X$("number");if(!w[N]){S++;var C;return E?C=Fg(0,_):c&&c[N]&&c[N].hasStack?(C=$V(c[N].stackGroups,f,h),C=IE(m,C,N,o)):(C=GS(L,kV(v,r.filter(function(M){var A,P,k=l in M.props?M.props[l]:(A=M.type.defaultProps)===null||A===void 0?void 0:A[l],U="hide"in M.props?M.props.hide:(P=M.type.defaultProps)===null||P===void 0?void 0:P.hide;return k===N&&!U}),"number",p),i.defaultProps.allowDataOverflow),C=IE(m,C,N,o)),he(he({},w),{},et({},N,he(he({axisType:o},i.defaultProps),{},{hide:!0,orientation:fi(Ace,"".concat(o,".").concat(S%2),null),domain:C,originalDomain:L,isCategorical:E,layout:p})))}return w},{})},Nce=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,l=n.graphicalItems,c=n.stackGroups,f=n.dataStartIndex,h=n.dataEndIndex,p=e.children,m="".concat(i,"Id"),v=hi(p,o),_={};return v&&v.length?_=Pce(e,{axes:v,graphicalItems:l,axisType:i,axisIdKey:m,stackGroups:c,dataStartIndex:f,dataEndIndex:h}):l&&l.length&&(_=Rce(e,{Axis:o,graphicalItems:l,axisType:i,axisIdKey:m,stackGroups:c,dataStartIndex:f,dataEndIndex:h})),_},kce=function(e){var n=cs(e),r=co(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:WT(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Rg(n,r)}},zL=function(e){var n=e.children,r=e.defaultShowTooltip,i=si(n,Rc),o=0,l=0;return e.data&&e.data.length!==0&&(l=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(l=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!r}},Mce=function(e){return!e||!e.length?!1:e.some(function(n){var r=fo(n&&n.type);return r&&r.indexOf("Bar")>=0})},FL=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},jce=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,l=o===void 0?{}:o,c=e.yAxisMap,f=c===void 0?{}:c,h=r.width,p=r.height,m=r.children,v=r.margin||{},_=si(m,Rc),E=si(m,vs),S=Object.keys(f).reduce(function(C,M){var A=f[M],P=A.orientation;return!A.mirror&&!A.hide?he(he({},C),{},et({},P,C[P]+A.width)):C},{left:v.left||0,right:v.right||0}),w=Object.keys(l).reduce(function(C,M){var A=l[M],P=A.orientation;return!A.mirror&&!A.hide?he(he({},C),{},et({},P,fi(C,"".concat(P))+A.height)):C},{top:v.top||0,bottom:v.bottom||0}),O=he(he({},w),S),I=O.bottom;_&&(O.bottom+=_.props.height||Rc.defaultProps.height),E&&n&&(O=nne(O,i,r,n));var N=h-O.left-O.right,L=p-O.top-O.bottom;return he(he({brushBottom:I},O),{},{width:Math.max(N,0),height:Math.max(L,0)})},Dce=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Q$=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,l=e.validateTooltipEventTypes,c=l===void 0?["axis"]:l,f=e.axisComponents,h=e.legendContent,p=e.formatAxisMap,m=e.defaultProps,v=function(O,I){var N=I.graphicalItems,L=I.stackGroups,C=I.offset,M=I.updateId,A=I.dataStartIndex,P=I.dataEndIndex,k=O.barSize,U=O.layout,D=O.barGap,B=O.barCategoryGap,V=O.maxBarSize,Q=FL(U),J=Q.numericAxisName,H=Q.cateAxisName,Y=Mce(N),ee=[];return N.forEach(function(ce,_e){var F=dv(O.data,{graphicalItems:[ce],dataStartIndex:A,dataEndIndex:P}),W=ce.type.defaultProps!==void 0?he(he({},ce.type.defaultProps),ce.props):ce.props,se=W.dataKey,me=W.maxBarSize,ve=W["".concat(J,"Id")],xe=W["".concat(H,"Id")],Ie={},De=f.reduce(function(_t,Mt){var cn=I["".concat(Mt.axisType,"Map")],Ae=W["".concat(Mt.axisType,"Id")];cn&&cn[Ae]||Mt.axisType==="zAxis"||$l();var bt=cn[Ae];return he(he({},_t),{},et(et({},Mt.axisType,bt),"".concat(Mt.axisType,"Ticks"),co(bt)))},Ie),ye=De[H],Re=De["".concat(H,"Ticks")],$e=L&&L[ve]&&L[ve].hasStack&&dne(ce,L[ve].stackGroups),ne=fo(ce.type).indexOf("Bar")>=0,Ke=Rg(ye,Re),we=[],Ee=Y&&ene({barSize:k,stackGroups:L,totalSize:Dce(De,H)});if(ne){var Ve,Ye,ft=ut(me)?V:me,He=(Ve=(Ye=Rg(ye,Re,!0))!==null&&Ye!==void 0?Ye:ft)!==null&&Ve!==void 0?Ve:0;we=tne({barGap:D,barCategoryGap:B,bandSize:He!==Ke?He:Ke,sizeList:Ee[xe],maxBarSize:ft}),He!==Ke&&(we=we.map(function(_t){return he(he({},_t),{},{position:he(he({},_t.position),{},{offset:_t.position.offset-He/2})})}))}var ze=ce&&ce.type&&ce.type.getComposedData;ze&&ee.push({props:he(he({},ze(he(he({},De),{},{displayedData:F,props:O,dataKey:se,item:ce,bandSize:Ke,barPosition:we,offset:C,stackedData:$e,layout:U,dataStartIndex:A,dataEndIndex:P}))),{},et(et(et({key:ce.key||"item-".concat(_e)},J,De[J]),H,De[H]),"animationId",M)),childIndex:aW(ce,O.children),item:ce})}),ee},_=function(O,I){var N=O.props,L=O.dataStartIndex,C=O.dataEndIndex,M=O.updateId;if(!tN({props:N}))return null;var A=N.children,P=N.layout,k=N.stackOffset,U=N.data,D=N.reverseStackOrder,B=FL(P),V=B.numericAxisName,Q=B.cateAxisName,J=hi(A,r),H=fne(U,J,"".concat(V,"Id"),"".concat(Q,"Id"),k,D),Y=f.reduce(function(W,se){var me="".concat(se.axisType,"Map");return he(he({},W),{},et({},me,Nce(N,he(he({},se),{},{graphicalItems:J,stackGroups:se.axisType===V&&H,dataStartIndex:L,dataEndIndex:C}))))},{}),ee=jce(he(he({},Y),{},{props:N,graphicalItems:J}),I==null?void 0:I.legendBBox);Object.keys(Y).forEach(function(W){Y[W]=p(N,Y[W],ee,W.replace("Map",""),n)});var ce=Y["".concat(Q,"Map")],_e=kce(ce),F=v(N,he(he({},Y),{},{dataStartIndex:L,dataEndIndex:C,updateId:M,graphicalItems:J,stackGroups:H,offset:ee}));return he(he({formattedGraphicalItems:F,graphicalItems:J,offset:ee,stackGroups:H},_e),Y)},E=(function(w){function O(I){var N,L,C;return mce(this,O),C=vce(this,O,[I]),et(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),et(C,"accessibilityManager",new tce),et(C,"handleLegendBBoxUpdate",function(M){if(M){var A=C.state,P=A.dataStartIndex,k=A.dataEndIndex,U=A.updateId;C.setState(he({legendBBox:M},_({props:C.props,dataStartIndex:P,dataEndIndex:k,updateId:U},he(he({},C.state),{},{legendBBox:M}))))}}),et(C,"handleReceiveSyncEvent",function(M,A,P){if(C.props.syncId===M){if(P===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(A)}}),et(C,"handleBrushChange",function(M){var A=M.startIndex,P=M.endIndex;if(A!==C.state.dataStartIndex||P!==C.state.dataEndIndex){var k=C.state.updateId;C.setState(function(){return he({dataStartIndex:A,dataEndIndex:P},_({props:C.props,dataStartIndex:A,dataEndIndex:P,updateId:k},C.state))}),C.triggerSyncEvent({dataStartIndex:A,dataEndIndex:P})}}),et(C,"handleMouseEnter",function(M){var A=C.getMouseInfo(M);if(A){var P=he(he({},A),{},{isTooltipActive:!0});C.setState(P),C.triggerSyncEvent(P);var k=C.props.onMouseEnter;nt(k)&&k(P,M)}}),et(C,"triggeredAfterMouseMove",function(M){var A=C.getMouseInfo(M),P=A?he(he({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(P),C.triggerSyncEvent(P);var k=C.props.onMouseMove;nt(k)&&k(P,M)}),et(C,"handleItemMouseEnter",function(M){C.setState(function(){return{isTooltipActive:!0,activeItem:M,activePayload:M.tooltipPayload,activeCoordinate:M.tooltipPosition||{x:M.cx,y:M.cy}}})}),et(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),et(C,"handleMouseMove",function(M){M.persist(),C.throttleTriggeredAfterMouseMove(M)}),et(C,"handleMouseLeave",function(M){C.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};C.setState(A),C.triggerSyncEvent(A);var P=C.props.onMouseLeave;nt(P)&&P(A,M)}),et(C,"handleOuterEvent",function(M){var A=iW(M),P=fi(C.props,"".concat(A));if(A&&nt(P)){var k,U;/.*touch.*/i.test(A)?U=C.getMouseInfo(M.changedTouches[0]):U=C.getMouseInfo(M),P((k=U)!==null&&k!==void 0?k:{},M)}}),et(C,"handleClick",function(M){var A=C.getMouseInfo(M);if(A){var P=he(he({},A),{},{isTooltipActive:!0});C.setState(P),C.triggerSyncEvent(P);var k=C.props.onClick;nt(k)&&k(P,M)}}),et(C,"handleMouseDown",function(M){var A=C.props.onMouseDown;if(nt(A)){var P=C.getMouseInfo(M);A(P,M)}}),et(C,"handleMouseUp",function(M){var A=C.props.onMouseUp;if(nt(A)){var P=C.getMouseInfo(M);A(P,M)}}),et(C,"handleTouchMove",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(M.changedTouches[0])}),et(C,"handleTouchStart",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&C.handleMouseDown(M.changedTouches[0])}),et(C,"handleTouchEnd",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&C.handleMouseUp(M.changedTouches[0])}),et(C,"handleDoubleClick",function(M){var A=C.props.onDoubleClick;if(nt(A)){var P=C.getMouseInfo(M);A(P,M)}}),et(C,"handleContextMenu",function(M){var A=C.props.onContextMenu;if(nt(A)){var P=C.getMouseInfo(M);A(P,M)}}),et(C,"triggerSyncEvent",function(M){C.props.syncId!==void 0&&A1.emit(O1,C.props.syncId,M,C.eventEmitterSymbol)}),et(C,"applySyncEvent",function(M){var A=C.props,P=A.layout,k=A.syncMethod,U=C.state.updateId,D=M.dataStartIndex,B=M.dataEndIndex;if(M.dataStartIndex!==void 0||M.dataEndIndex!==void 0)C.setState(he({dataStartIndex:D,dataEndIndex:B},_({props:C.props,dataStartIndex:D,dataEndIndex:B,updateId:U},C.state)));else if(M.activeTooltipIndex!==void 0){var V=M.chartX,Q=M.chartY,J=M.activeTooltipIndex,H=C.state,Y=H.offset,ee=H.tooltipTicks;if(!Y)return;if(typeof k=="function")J=k(ee,M);else if(k==="value"){J=-1;for(var ce=0;ce<ee.length;ce++)if(ee[ce].value===M.activeLabel){J=ce;break}}var _e=he(he({},Y),{},{x:Y.left,y:Y.top}),F=Math.min(V,_e.x+_e.width),W=Math.min(Q,_e.y+_e.height),se=ee[J]&&ee[J].value,me=NE(C.state,C.props.data,J),ve=ee[J]?{x:P==="horizontal"?ee[J].coordinate:F,y:P==="horizontal"?W:ee[J].coordinate}:Y$;C.setState(he(he({},M),{},{activeLabel:se,activeCoordinate:ve,activePayload:me,activeTooltipIndex:J}))}else C.setState(M)}),et(C,"renderCursor",function(M){var A,P=C.state,k=P.isTooltipActive,U=P.activeCoordinate,D=P.activePayload,B=P.offset,V=P.activeTooltipIndex,Q=P.tooltipAxisBandSize,J=C.getTooltipEventType(),H=(A=M.props.active)!==null&&A!==void 0?A:k,Y=C.props.layout,ee=M.key||"_recharts-cursor";return G.createElement(lce,{key:ee,activeCoordinate:U,activePayload:D,activeTooltipIndex:V,chartName:n,element:M,isActive:H,layout:Y,offset:B,tooltipAxisBandSize:Q,tooltipEventType:J})}),et(C,"renderPolarAxis",function(M,A,P){var k=fi(M,"type.axisType"),U=fi(C.state,"".concat(k,"Map")),D=M.type.defaultProps,B=D!==void 0?he(he({},D),M.props):M.props,V=U&&U[B["".concat(k,"Id")]];return $.cloneElement(M,he(he({},V),{},{className:vt(k,V.className),key:M.key||"".concat(A,"-").concat(P),ticks:co(V,!0)}))}),et(C,"renderPolarGrid",function(M){var A=M.props,P=A.radialLines,k=A.polarAngles,U=A.polarRadius,D=C.state,B=D.radiusAxisMap,V=D.angleAxisMap,Q=cs(B),J=cs(V),H=J.cx,Y=J.cy,ee=J.innerRadius,ce=J.outerRadius;return $.cloneElement(M,{polarAngles:Array.isArray(k)?k:co(J,!0).map(function(_e){return _e.coordinate}),polarRadius:Array.isArray(U)?U:co(Q,!0).map(function(_e){return _e.coordinate}),cx:H,cy:Y,innerRadius:ee,outerRadius:ce,key:M.key||"polar-grid",radialLines:P})}),et(C,"renderLegend",function(){var M=C.state.formattedGraphicalItems,A=C.props,P=A.children,k=A.width,U=A.height,D=C.props.margin||{},B=k-(D.left||0)-(D.right||0),V=RV({children:P,formattedGraphicalItems:M,legendWidth:B,legendContent:h});if(!V)return null;var Q=V.item,J=UL(V,uce);return $.cloneElement(Q,he(he({},J),{},{chartWidth:k,chartHeight:U,margin:D,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),et(C,"renderTooltip",function(){var M,A=C.props,P=A.children,k=A.accessibilityLayer,U=si(P,Yi);if(!U)return null;var D=C.state,B=D.isTooltipActive,V=D.activeCoordinate,Q=D.activePayload,J=D.activeLabel,H=D.offset,Y=(M=U.props.active)!==null&&M!==void 0?M:B;return $.cloneElement(U,{viewBox:he(he({},H),{},{x:H.left,y:H.top}),active:Y,label:J,payload:Y?Q:[],coordinate:V,accessibilityLayer:k})}),et(C,"renderBrush",function(M){var A=C.props,P=A.margin,k=A.data,U=C.state,D=U.offset,B=U.dataStartIndex,V=U.dataEndIndex,Q=U.updateId;return $.cloneElement(M,{key:M.key||"_recharts-brush",onChange:_m(C.handleBrushChange,M.props.onChange),data:k,x:Te(M.props.x)?M.props.x:D.left,y:Te(M.props.y)?M.props.y:D.top+D.height+D.brushBottom-(P.bottom||0),width:Te(M.props.width)?M.props.width:D.width,startIndex:B,endIndex:V,updateId:"brush-".concat(Q)})}),et(C,"renderReferenceElement",function(M,A,P){if(!M)return null;var k=C,U=k.clipPathId,D=C.state,B=D.xAxisMap,V=D.yAxisMap,Q=D.offset,J=M.type.defaultProps||{},H=M.props,Y=H.xAxisId,ee=Y===void 0?J.xAxisId:Y,ce=H.yAxisId,_e=ce===void 0?J.yAxisId:ce;return $.cloneElement(M,{key:M.key||"".concat(A,"-").concat(P),xAxis:B[ee],yAxis:V[_e],viewBox:{x:Q.left,y:Q.top,width:Q.width,height:Q.height},clipPathId:U})}),et(C,"renderActivePoints",function(M){var A=M.item,P=M.activePoint,k=M.basePoint,U=M.childIndex,D=M.isRange,B=[],V=A.props.key,Q=A.item.type.defaultProps!==void 0?he(he({},A.item.type.defaultProps),A.item.props):A.item.props,J=Q.activeDot,H=Q.dataKey,Y=he(he({index:U,dataKey:H,cx:P.x,cy:P.y,r:4,fill:_A(A.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},Qe(J,!1)),sg(J));return B.push(O.renderActiveDot(J,Y,"".concat(V,"-activePoint-").concat(U))),k?B.push(O.renderActiveDot(J,he(he({},Y),{},{cx:k.x,cy:k.y}),"".concat(V,"-basePoint-").concat(U))):D&&B.push(null),B}),et(C,"renderGraphicChild",function(M,A,P){var k=C.filterFormatItem(M,A,P);if(!k)return null;var U=C.getTooltipEventType(),D=C.state,B=D.isTooltipActive,V=D.tooltipAxis,Q=D.activeTooltipIndex,J=D.activeLabel,H=C.props.children,Y=si(H,Yi),ee=k.props,ce=ee.points,_e=ee.isRange,F=ee.baseLine,W=k.item.type.defaultProps!==void 0?he(he({},k.item.type.defaultProps),k.item.props):k.item.props,se=W.activeDot,me=W.hide,ve=W.activeBar,xe=W.activeShape,Ie=!!(!me&&B&&Y&&(se||ve||xe)),De={};U!=="axis"&&Y&&Y.props.trigger==="click"?De={onClick:_m(C.handleItemMouseEnter,M.props.onClick)}:U!=="axis"&&(De={onMouseLeave:_m(C.handleItemMouseLeave,M.props.onMouseLeave),onMouseEnter:_m(C.handleItemMouseEnter,M.props.onMouseEnter)});var ye=$.cloneElement(M,he(he({},k.props),De));function Re(Mt){return typeof V.dataKey=="function"?V.dataKey(Mt.payload):null}if(Ie)if(Q>=0){var $e,ne;if(V.dataKey&&!V.allowDuplicatedCategory){var Ke=typeof V.dataKey=="function"?Re:"payload.".concat(V.dataKey.toString());$e=og(ce,Ke,J),ne=_e&&F&&og(F,Ke,J)}else $e=ce==null?void 0:ce[Q],ne=_e&&F&&F[Q];if(xe||ve){var we=M.props.activeIndex!==void 0?M.props.activeIndex:Q;return[$.cloneElement(M,he(he(he({},k.props),De),{},{activeIndex:we})),null,null]}if(!ut($e))return[ye].concat(qc(C.renderActivePoints({item:k,activePoint:$e,basePoint:ne,childIndex:Q,isRange:_e})))}else{var Ee,Ve=(Ee=C.getItemByXY(C.state.activeCoordinate))!==null&&Ee!==void 0?Ee:{graphicalItem:ye},Ye=Ve.graphicalItem,ft=Ye.item,He=ft===void 0?M:ft,ze=Ye.childIndex,_t=he(he(he({},k.props),De),{},{activeIndex:ze});return[$.cloneElement(He,_t),null,null]}return _e?[ye,null,null]:[ye,null]}),et(C,"renderCustomized",function(M,A,P){return $.cloneElement(M,he(he({key:"recharts-customized-".concat(P)},C.props),C.state))}),et(C,"renderMap",{CartesianGrid:{handler:Tm,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:Tm},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:Tm},YAxis:{handler:Tm},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((N=I.id)!==null&&N!==void 0?N:Jc("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=I5(C.triggeredAfterMouseMove,(L=I.throttleDelay)!==null&&L!==void 0?L:1e3/60),C.state={},C}return xce(O,w),yce(O,[{key:"componentDidMount",value:function(){var N,L;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(L=this.props.margin.top)!==null&&L!==void 0?L:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,L=N.children,C=N.data,M=N.height,A=N.layout,P=si(L,Yi);if(P){var k=P.props.defaultIndex;if(!(typeof k!="number"||k<0||k>this.state.tooltipTicks.length-1)){var U=this.state.tooltipTicks[k]&&this.state.tooltipTicks[k].value,D=NE(this.state,C,k,U),B=this.state.tooltipTicks[k].coordinate,V=(this.state.offset.top+M)/2,Q=A==="horizontal",J=Q?{x:B,y:V}:{y:B,x:V},H=this.state.formattedGraphicalItems.find(function(ee){var ce=ee.item;return ce.type.name==="Scatter"});H&&(J=he(he({},J),H.props.points[k].tooltipPosition),D=H.props.points[k].tooltipPayload);var Y={activeTooltipIndex:k,isTooltipActive:!0,activeLabel:U,activePayload:D,activeCoordinate:J};this.setState(Y),this.renderCursor(P),this.accessibilityManager.setIndex(k)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,L){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==L.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var C,M;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(M=this.props.margin.top)!==null&&M!==void 0?M:0}})}return null}},{key:"componentDidUpdate",value:function(N){pS([si(N.children,Yi)],[si(this.props.children,Yi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=si(this.props.children,Yi);if(N&&typeof N.props.shared=="boolean"){var L=N.props.shared?"axis":"item";return c.indexOf(L)>=0?L:o}return o}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var L=this.container,C=L.getBoundingClientRect(),M=HQ(C),A={chartX:Math.round(N.pageX-M.left),chartY:Math.round(N.pageY-M.top)},P=C.width/L.offsetWidth||1,k=this.inRange(A.chartX,A.chartY,P);if(!k)return null;var U=this.state,D=U.xAxisMap,B=U.yAxisMap,V=this.getTooltipEventType(),Q=qL(this.state,this.props.data,this.props.layout,k);if(V!=="axis"&&D&&B){var J=cs(D).scale,H=cs(B).scale,Y=J&&J.invert?J.invert(A.chartX):null,ee=H&&H.invert?H.invert(A.chartY):null;return he(he({},A),{},{xValue:Y,yValue:ee},Q)}return Q?he(he({},A),Q):null}},{key:"inRange",value:function(N,L){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,M=this.props.layout,A=N/C,P=L/C;if(M==="horizontal"||M==="vertical"){var k=this.state.offset,U=A>=k.left&&A<=k.left+k.width&&P>=k.top&&P<=k.top+k.height;return U?{x:A,y:P}:null}var D=this.state,B=D.angleAxisMap,V=D.radiusAxisMap;if(B&&V){var Q=cs(B);return Fj({x:A,y:P},Q)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,L=this.getTooltipEventType(),C=si(N,Yi),M={};C&&L==="axis"&&(C.props.trigger==="click"?M={onClick:this.handleClick}:M={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=sg(this.props,this.handleOuterEvent);return he(he({},A),M)}},{key:"addListener",value:function(){A1.on(O1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){A1.removeListener(O1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,L,C){for(var M=this.state.formattedGraphicalItems,A=0,P=M.length;A<P;A++){var k=M[A];if(k.item===N||k.props.key===N.key||L===fo(k.item.type)&&C===k.childIndex)return k}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,L=this.state.offset,C=L.left,M=L.top,A=L.height,P=L.width;return G.createElement("defs",null,G.createElement("clipPath",{id:N},G.createElement("rect",{x:C,y:M,height:A,width:P})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(L,C){var M=$L(C,2),A=M[0],P=M[1];return he(he({},L),{},et({},A,P.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(L,C){var M=$L(C,2),A=M[0],P=M[1];return he(he({},L),{},et({},A,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var L;return(L=this.state.xAxisMap)===null||L===void 0||(L=L[N])===null||L===void 0?void 0:L.scale}},{key:"getYScaleByAxisId",value:function(N){var L;return(L=this.state.yAxisMap)===null||L===void 0||(L=L[N])===null||L===void 0?void 0:L.scale}},{key:"getItemByXY",value:function(N){var L=this.state,C=L.formattedGraphicalItems,M=L.activeItem;if(C&&C.length)for(var A=0,P=C.length;A<P;A++){var k=C[A],U=k.props,D=k.item,B=D.type.defaultProps!==void 0?he(he({},D.type.defaultProps),D.props):D.props,V=fo(D.type);if(V==="Bar"){var Q=(U.data||[]).find(function(ee){return uae(N,ee)});if(Q)return{graphicalItem:k,payload:Q}}else if(V==="RadialBar"){var J=(U.data||[]).find(function(ee){return Fj(N,ee)});if(J)return{graphicalItem:k,payload:J}}else if(av(k,M)||ov(k,M)||md(k,M)){var H=Noe({graphicalItem:k,activeTooltipItem:M,itemData:B.data}),Y=B.activeIndex===void 0?H:B.activeIndex;return{graphicalItem:he(he({},k),{},{childIndex:Y}),payload:md(k,M)?B.data[H]:k.props.data[H]}}}return null}},{key:"render",value:function(){var N=this;if(!tN(this))return null;var L=this.props,C=L.children,M=L.className,A=L.width,P=L.height,k=L.style,U=L.compact,D=L.title,B=L.desc,V=UL(L,cce),Q=Qe(V,!1);if(U)return G.createElement(_L,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement(gS,Zu({},Q,{width:A,height:P,title:D,desc:B}),this.renderClipPath(),rN(C,this.renderMap)));if(this.props.accessibilityLayer){var J,H;Q.tabIndex=(J=this.props.tabIndex)!==null&&J!==void 0?J:0,Q.role=(H=this.props.role)!==null&&H!==void 0?H:"application",Q.onKeyDown=function(ee){N.accessibilityManager.keyboardEvent(ee)},Q.onFocus=function(){N.accessibilityManager.focus()}}var Y=this.parseEventsOfWrapper();return G.createElement(_L,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement("div",Zu({className:vt("recharts-wrapper",M),style:he({position:"relative",cursor:"default",width:A,height:P},k)},Y,{ref:function(ce){N.container=ce}}),G.createElement(gS,Zu({},Q,{width:A,height:P,title:D,desc:B,style:Oce}),this.renderClipPath(),rN(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})($.Component);et(E,"displayName",n),et(E,"defaultProps",he({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),et(E,"getDerivedStateFromProps",function(w,O){var I=w.dataKey,N=w.data,L=w.children,C=w.width,M=w.height,A=w.layout,P=w.stackOffset,k=w.margin,U=O.dataStartIndex,D=O.dataEndIndex;if(O.updateId===void 0){var B=zL(w);return he(he(he({},B),{},{updateId:0},_(he(he({props:w},B),{},{updateId:0}),O)),{},{prevDataKey:I,prevData:N,prevWidth:C,prevHeight:M,prevLayout:A,prevStackOffset:P,prevMargin:k,prevChildren:L})}if(I!==O.prevDataKey||N!==O.prevData||C!==O.prevWidth||M!==O.prevHeight||A!==O.prevLayout||P!==O.prevStackOffset||!ac(k,O.prevMargin)){var V=zL(w),Q={chartX:O.chartX,chartY:O.chartY,isTooltipActive:O.isTooltipActive},J=he(he({},qL(O,N,A)),{},{updateId:O.updateId+1}),H=he(he(he({},V),Q),J);return he(he(he({},H),_(he({props:w},H),O)),{},{prevDataKey:I,prevData:N,prevWidth:C,prevHeight:M,prevLayout:A,prevStackOffset:P,prevMargin:k,prevChildren:L})}if(!pS(L,O.prevChildren)){var Y,ee,ce,_e,F=si(L,Rc),W=F&&(Y=(ee=F.props)===null||ee===void 0?void 0:ee.startIndex)!==null&&Y!==void 0?Y:U,se=F&&(ce=(_e=F.props)===null||_e===void 0?void 0:_e.endIndex)!==null&&ce!==void 0?ce:D,me=W!==U||se!==D,ve=!ut(N),xe=ve&&!me?O.updateId:O.updateId+1;return he(he({updateId:xe},_(he(he({props:w},O),{},{updateId:xe,dataStartIndex:W,dataEndIndex:se}),O)),{},{prevChildren:L,dataStartIndex:W,dataEndIndex:se})}return null}),et(E,"renderActiveDot",function(w,O,I){var N;return $.isValidElement(w)?N=$.cloneElement(w,O):nt(w)?N=w(O):N=G.createElement(ev,O),G.createElement(Ut,{className:"recharts-active-dot",key:I},N)});var S=$.forwardRef(function(O,I){return G.createElement(E,Zu({},O,{ref:I}))});return S.displayName=E.displayName,S},Lce=Q$({chartName:"LineChart",GraphicalChild:Vc,axisComponents:[{axisType:"xAxis",AxisComp:hv},{axisType:"yAxis",AxisComp:_d}],formatAxisMap:jse}),Vce=Q$({chartName:"PieChart",GraphicalChild:Ao,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:iv},{axisType:"radiusAxis",AxisComp:nv}],formatAxisMap:Sne,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const vl=t=>{if(!t)return"";const e=new Date(t);if(isNaN(e.getTime()))return"";const n=e.getDate(),r=e.getMonth()+1,i=e.getFullYear().toString().slice(-2);return`${n}/${r}/${i}`},$ce=t=>{if(t===void 0||isNaN(t))return"0s";const e=Math.floor(t/60),n=Math.floor(t%60);return`${e}m ${n}s`},Uce=({active:t,payload:e,label:n})=>{if(t&&e&&e.length){const r=e[0].payload,i=typeof n=="number"?vl(n)+", "+new Date(n).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):n;return x.jsxs("div",{className:"p-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-xl text-xs sm:text-sm z-50",children:[x.jsx("p",{className:"font-bold mb-2 text-slate-700 dark:text-slate-200 border-b border-slate-100 dark:border-slate-700 pb-1",children:i}),x.jsxs("div",{className:"space-y-1",children:[x.jsxs("p",{className:"flex justify-between gap-4",style:{color:"var(--color-chart-wpm)"},children:[x.jsx("span",{children:"WPM:"}),x.jsx("span",{className:"font-bold",children:r.wpm})]}),x.jsxs("p",{className:"flex justify-between gap-4",style:{color:"var(--color-chart-acc)"},children:[x.jsx("span",{children:"Accuracy:"}),x.jsxs("span",{className:"font-bold",children:[Number(r.accuracy).toFixed(2),"%"]})]}),r.errors!==void 0&&x.jsxs("p",{className:"text-red-500 flex justify-between gap-4",children:[x.jsx("span",{children:"Errors:"}),x.jsx("span",{className:"font-bold",children:r.errors})]}),r.duration!==void 0&&x.jsxs("p",{className:"text-slate-500 dark:text-slate-400 flex justify-between gap-4",children:[x.jsx("span",{children:"Duration:"}),x.jsx("span",{className:"font-bold",children:$ce(r.duration)})]})]})]})}return null},J$=({data:t,xDataKey:e="date",xAxisConfig:n})=>t.length===0?x.jsx("div",{className:"flex items-center justify-center h-full text-slate-500 text-sm",children:"Not enough data to show trends."}):x.jsx("div",{className:"w-full h-[250px] sm:h-[300px]",children:x.jsx(P5,{width:"100%",height:"100%",children:x.jsxs(Lce,{data:t,margin:{top:10,right:10,left:0,bottom:0},children:[x.jsx(j$,{strokeDasharray:"3 3",strokeOpacity:.1,vertical:!1}),x.jsx(hv,{dataKey:e,type:(n==null?void 0:n.type)||"category",domain:n==null?void 0:n.domain,ticks:n==null?void 0:n.ticks,tickFormatter:n==null?void 0:n.tickFormatter,tick:{fontSize:10,fill:"#64748b"},tickMargin:10,axisLine:{stroke:"#e2e8f0"},tickLine:!1}),x.jsx(_d,{yAxisId:"left",tick:{fontSize:10,fill:"#64748b"},domain:[0,"dataMax + 10"],width:40,axisLine:{stroke:"#e2e8f0"},tickLine:{stroke:"#e2e8f0"}}),x.jsx(_d,{yAxisId:"right",orientation:"right",tick:{fontSize:10,fill:"#94a3b8"},domain:[0,100],width:30,axisLine:{stroke:"#e2e8f0"},tickLine:{stroke:"#e2e8f0"}}),x.jsx(Yi,{content:x.jsx(Uce,{})}),x.jsx(vs,{wrapperStyle:{fontSize:"12px",paddingTop:"10px"},iconType:"circle"}),x.jsx(Vc,{yAxisId:"left",type:"monotone",dataKey:"wpm",name:"WPM",stroke:"var(--color-chart-wpm)",strokeWidth:2,dot:{r:3,strokeWidth:0,fill:"var(--color-chart-wpm)"},activeDot:{r:5,strokeWidth:2,stroke:"#fff"},animationDuration:1e3}),x.jsx(Vc,{yAxisId:"right",type:"monotone",dataKey:"accuracy",name:"Accuracy",stroke:"var(--color-chart-acc)",strokeWidth:2,dot:{r:3,strokeWidth:0,fill:"var(--color-chart-acc)"},activeDot:{r:5,strokeWidth:2,stroke:"#fff"},animationDuration:1e3})]})})}),kE=({isOpen:t,onClose:e,title:n,message:r,buttons:i})=>{const o=$.useRef([]),[l,c]=$.useState(0);return $.useEffect(()=>{o.current=o.current.slice(0,i.length)},[i]),$.useEffect(()=>{if(t){const f=setTimeout(()=>{var p;(p=o.current[0])==null||p.focus(),c(0)},100),h=p=>{var E;if(!t||p.key==="Tab")return;p.preventDefault();const m=o.current.filter(Boolean);if(m.length===0)return;const v=m.findIndex(S=>S===document.activeElement);if(p.key==="Enter"){v!==-1&&m[v].click();return}let _=v===-1?0:v;p.key==="ArrowRight"?_=(v+1)%m.length:p.key==="ArrowLeft"&&(_=(v-1+m.length)%m.length),(E=m[_])==null||E.focus()};return document.addEventListener("keydown",h),()=>{clearTimeout(f),document.removeEventListener("keydown",h)}}},[t,i]),x.jsxs(Fl,{isOpen:t,onClose:e,title:n,children:[x.jsx("div",{className:"text-slate-600 dark:text-slate-300 mb-6",children:r}),x.jsx("div",{className:"flex justify-center items-center gap-3",children:i.map((f,h)=>x.jsx(Ge,{ref:p=>{o.current[h]=p},onClick:f.onClick,variant:h===l?"primary":"secondary",onFocus:()=>c(h),onMouseEnter:()=>{var p;return(p=o.current[h])==null?void 0:p.focus()},children:f.label},f.label))})]})},Z$=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),HL=["#a855f7","#6366f1","#ec4899","#f97316","#06b6d4","#10b981"],GL=t=>{if(isNaN(t)||t<0)return"0m 00s";const e=Math.floor(t/60),n=Math.floor(t%60);return`${e}m ${n.toString().padStart(2,"0")}s`},KL=Math.PI/180,Bce=({cx:t,cy:e,midAngle:n,outerRadius:r,fill:i,percent:o,name:l})=>{const c=Math.sin(-KL*n),f=Math.cos(-KL*n),h=t+(r+5)*f,p=e+(r+5)*c,m=t+(r+15)*f,v=e+(r+15)*c,_=m+(f>=0?1:-1)*12,E=v,S=f>=0?"start":"end";return o<.02?null:x.jsxs("g",{children:[x.jsx("path",{d:`M${h},${p}L${m},${v}L${_},${E}`,stroke:i,fill:"none"}),x.jsx("circle",{cx:_,cy:E,r:2,fill:i,stroke:"none"}),x.jsx("text",{x:_+(f>=0?1:-1)*8,y:E,textAnchor:S,fill:"#64748b",className:"dark:fill-slate-400 text-xs",dy:-6,children:l}),x.jsx("text",{x:_+(f>=0?1:-1)*8,y:E,dy:10,textAnchor:S,fill:"#1e293b",className:"dark:fill-slate-200 font-bold text-sm",children:`${(o*100).toFixed(2)}%`})]})},WL=t=>{switch(t){case" ":return"Space ()";case`
`:return"Enter ()";case"	":return"Tab ()";default:return t}},qce=()=>{const t=$.useContext(On);if(!t)throw new Error("AppContext not found");const{practiceHistory:e,keyErrorStats:n,keyAttemptStats:r,wpmGoal:i,accuracyGoal:o,timeGoal:l,dailyPracticeTime:c,setGoals:f,navigateTo:h,startTargetedSession:p,showAlert:m,reloadDataFromStorage:v,deletePracticeSession:_,clearPracticeHistory:E,openSetupModal:S,fetchNewSnippet:w,startCustomSession:O,closeSetupModal:I,isSetupModalOpen:N}=t,[L,C]=$.useState(!1),[M,A]=$.useState(!1),[P,k]=$.useState("all"),U=$.useRef(null),[D,B]=$.useState(null),[V,Q]=$.useState(null),[J,H]=$.useState(0),Y=$.useRef(null),ee=$.useRef(null);$.useEffect(()=>{var pe;e.length===0&&((pe=Y.current)==null||pe.focus())},[e.length]),$.useEffect(()=>{if(e.length>0)return;const pe=Pe=>{(Pe.key==="ArrowRight"||Pe.key==="ArrowLeft")&&(Pe.preventDefault(),H(at=>at===0?1:0))};return window.addEventListener("keydown",pe),()=>window.removeEventListener("keydown",pe)},[e.length]),$.useEffect(()=>{var pe,Pe;e.length>0||(J===0?(pe=Y.current)==null||pe.focus():(Pe=ee.current)==null||Pe.focus())},[J,e.length]),Fr("2",()=>k("24h"),{disabled:L||N}),Fr("7",()=>k("7d"),{disabled:L||N}),Fr("3",()=>k("30d"),{disabled:L||N}),Fr("a",()=>k("all"),{disabled:L||N});const ce=$.useCallback(()=>{try{A6({practiceHistory:e,keyErrorStats:n,keyAttemptStats:r}),m("Data exported successfully!","info")}catch(pe){m("Failed to export data.","error"),console.error(pe)}},[m,e,n,r]),_e=$.useCallback(()=>{var pe;(pe=U.current)==null||pe.click()},[]);Fr("E",ce,{disabled:L||N}),Fr("I",_e,{disabled:L||N});const F=(pe,Pe)=>{try{wG(pe,Pe),v(),m("Data imported successfully. Please refresh the page to see changes.","info",8e3)}catch(at){const jt=at instanceof Error?at.message:"An unknown error occurred.";m(`Import failed: ${jt}`,"error"),console.error(at)}},W=pe=>{var jt;const Pe=(jt=pe.target.files)==null?void 0:jt[0];if(!Pe)return;const at=new FileReader;at.onload=ht=>{var Cn;const St=(Cn=ht.target)==null?void 0:Cn.result;if(!St){m("File is empty or could not be read.","error");return}const it=localStorage.getItem("practiceHistory");it&&JSON.parse(it).length>0?B({fileContent:St}):F(St,"replace"),pe.target&&(pe.target.value="")},at.onerror=()=>{m("Error reading the selected file.","error"),pe.target&&(pe.target.value="")},at.readAsText(Pe)},se=pe=>{D&&F(D.fileContent,pe),B(null)},me=()=>{(V==null?void 0:V.type)==="single"&&V.timestamp?(_(V.timestamp),m("Session deleted.","info"),Q(null)):(V==null?void 0:V.type)==="all"&&(localStorage.clear(),window.location.reload())},ve=$.useMemo(()=>{const pe=Date.now();return P==="24h"?e.filter(Pe=>pe-Pe.timestamp<1440*60*1e3):P==="7d"?e.filter(Pe=>pe-Pe.timestamp<10080*60*1e3):P==="30d"?e.filter(Pe=>pe-Pe.timestamp<720*60*60*1e3):e},[e,P]),xe=$.useMemo(()=>{if(ve.length===0)return{avgWpm:0,avgAccuracy:0,totalDuration:0,sessions:0,bestWpm:0,totalLines:0,totalErrors:0};const pe=ve.reduce((it,gt)=>it+gt.wpm,0),Pe=ve.reduce((it,gt)=>it+gt.accuracy,0),at=ve.reduce((it,gt)=>it+gt.duration,0),jt=Math.max(0,...ve.map(it=>it.wpm)),ht=ve.reduce((it,gt)=>it+(gt.linesTyped||0),0),St=ve.reduce((it,gt)=>it+gt.errors,0);return{avgWpm:Math.round(pe/ve.length),avgAccuracy:parseFloat((Pe/ve.length).toFixed(2)),totalDuration:at,sessions:ve.length,bestWpm:jt,totalLines:ht,totalErrors:St}},[ve]),Ie=$.useMemo(()=>e.length===0?[]:Object.entries(n).map(([pe,Pe])=>{const at=r[pe]||Pe,jt=Number(Pe),ht=Number(at),St=ht>0?jt/ht*100:0;return{key:pe,errors:jt,attempts:ht,errorRate:St}}).filter(pe=>pe.errors>0).sort((pe,Pe)=>Pe.errorRate-pe.errorRate),[n,r,e]),De=$.useMemo(()=>Ie.slice(0,5),[Ie]),ye=$.useMemo(()=>{if(ve.length===0)return[];const pe={};return ve.forEach(Pe=>{pe[Pe.language]=(pe[Pe.language]||0)+Pe.duration}),Object.entries(pe).map(([Pe,at])=>({name:Pe,value:at}))},[ve]),Re=pe=>{const Pe=Math.floor(pe/3600),at=Math.floor(pe%3600/60);return`${Pe}h ${at}m`},$e=()=>{const pe=De.map(Pe=>Pe.key);pe.length>0&&(h("practice"),p(pe,{length:"medium",level:"medium"}))},ne=$.useMemo(()=>{const pe=new Date,Pe=ve.slice().sort((xt,fn)=>xt.timestamp-fn.timestamp);let at=Pe,jt="number",ht="timestamp",St=["auto","auto"],it,gt=xt=>vl(xt);const Cn=(xt,fn,zt)=>{if(!xt)return"";const wt=new Date(xt),Ue=`${wt.getDate()}/${wt.getMonth()+1}`;if(fn===0){const qe=new Date().getFullYear();return wt.getFullYear()!==qe?vl(xt):Ue}const Le=zt[fn-1];return Le&&new Date(Le).getFullYear()!==wt.getFullYear()?vl(xt):Ue},qt=xt=>(fn,zt)=>Cn(fn,zt,xt);switch(P){case"24h":St=[pe.getTime()-1440*60*1e3,pe.getTime()],gt=xt=>new Date(xt).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"}),it=Array.from({length:7},(xt,fn)=>pe.getTime()-fn*4*60*60*1e3).reverse();break;case"7d":{const xt=new Date(pe);xt.setDate(pe.getDate()-6),xt.setHours(0,0,0,0),St=[xt.getTime(),pe.getTime()],it=Array.from({length:7},(fn,zt)=>{const wt=new Date(xt);return wt.setDate(wt.getDate()+zt),wt.getTime()}),gt=qt(it);break}case"30d":{const xt=new Date(pe);xt.setDate(pe.getDate()-29),xt.setHours(0,0,0,0),St=[xt.getTime(),pe.getTime()],it=Array.from({length:7},(fn,zt)=>{const wt=new Date(xt);return wt.setDate(wt.getDate()+zt*5),wt.getTime()}),gt=qt(it);break}case"all":{St=["auto","auto"],jt="category",gt=(xt,fn)=>{if(fn>0&&Pe[fn-1]){const wt=new Date(Pe[fn-1].timestamp),Ue=new Date(xt);if(wt.getFullYear()!==Ue.getFullYear())return vl(xt)}const zt=new Date(xt);return`${zt.getDate()}/${zt.getMonth()+1}`};break}}return{data:at,xAxisType:jt,xDataKey:ht,domain:St,ticks:it,tickFormatter:gt}},[ve,P]),Ke=i>0?Math.min(100,xe.avgWpm/i*100):0,we=o>0?Math.min(100,xe.avgAccuracy/o*100):0,Ee=l*60,Ve=Ee>0?Math.min(100,c/Ee*100):0,Ye=xe.avgWpm>i,ft=xe.avgAccuracy>=o,He=c>Ee;let ze=0,_t=0;Ye&&(_t=Math.floor(xe.avgWpm/10)*10+10,ze=_t-i);let Mt=0,cn=0;if(He){const pe=c/60;cn=Math.floor(pe/5)*5+5,Mt=cn-l}const Ae=Math.min(5,100-o);if(e.length===0)return x.jsxs("div",{className:"text-center p-8 h-full flex flex-col justify-center items-center",children:[x.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Your Dashboard"}),x.jsx("p",{className:"text-slate-500 mb-6",children:"You haven't completed any practice sessions yet. Start a new session or import your previous data."}),x.jsxs("div",{className:"flex gap-4",children:[x.jsx(Ge,{ref:Y,variant:J===0?"primary":"secondary",onClick:()=>{S()},onFocus:()=>H(0),onMouseEnter:()=>H(0),accessKeyChar:"Enter",accessKeyLabel:"",children:"Start Practicing"}),x.jsx(Ge,{ref:ee,variant:J===1?"primary":"secondary",onClick:_e,onFocus:()=>H(1),onMouseEnter:()=>H(1),accessKeyChar:"I",title:"Import Data (Alt+I)",children:"Import Data"})]}),x.jsx("input",{type:"file",ref:U,className:"hidden",accept:".json,application/json",onChange:W})]});const bt=[{label:"Last 24 Hrs",value:"24h"},{label:"Last 7 Days",value:"7d"},{label:"Last 30 Days",value:"30d"},{label:"All Time",value:"all"}],Nt=["2","7","3","A"];return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"space-y-8 h-full overflow-y-auto custom-scrollbar p-4",children:[x.jsxs("div",{className:"flex flex-col xl:flex-row justify-between xl:items-center gap-4",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[x.jsx("h1",{className:"text-3xl font-bold",children:"Your Progress Dashboard"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(Ge,{variant:"outline",size:"sm",onClick:_e,title:"Import Data (Alt+I)",accessKeyChar:"I",children:"Import"}),x.jsx(Ge,{variant:"outline",size:"sm",onClick:ce,title:"Export Data (Alt+E)",accessKeyChar:"E",children:"Export"})]})]}),x.jsx(mh,{options:bt,selectedValue:P,onSelect:pe=>k(pe),accessKeyChars:Nt,disabled:N})]}),ve.length===0?x.jsx(mr,{className:"p-8 text-center text-slate-500",children:"No practice sessions found for the selected time period."}):x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[x.jsx(gr,{label:"Average WPM",value:xe.avgWpm}),x.jsx(gr,{label:"Average Accuracy",value:`${xe.avgAccuracy}%`}),x.jsx(gr,{label:"Best WPM",value:xe.bestWpm}),x.jsx(gr,{label:"Total Practice Time",value:Re(xe.totalDuration)}),x.jsx(gr,{label:"Total Lines Typed",value:xe.totalLines}),x.jsx(gr,{label:"Total Errors",value:xe.totalErrors})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[x.jsxs(mr,{className:"lg:col-span-2 p-6 flex flex-col justify-center min-h-[450px]",children:[x.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Historical Performance"}),x.jsx(J$,{data:ne.data,xDataKey:ne.xDataKey,xAxisConfig:{type:ne.xAxisType,domain:ne.domain,ticks:ne.ticks,tickFormatter:ne.tickFormatter}})]}),x.jsxs("div",{className:"space-y-8",children:[x.jsxs(mr,{className:"p-6",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h2",{className:"text-xl font-semibold",children:"Your Goals"}),x.jsx(Ge,{variant:"ghost",size:"icon",onClick:()=>C(!0),children:x.jsx(C6,{className:"w-5 h-5"})})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[x.jsxs("span",{className:"text-sm font-medium",children:["Daily Time: ",GL(c)," / ",l,"m"]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:`text-sm font-bold ${c>=Ee?"text-amber-500":""}`,children:c>=Ee?"Goal Achieved!":`${Ve.toFixed(0)}%`}),He&&Mt>0&&x.jsxs(Ge,{variant:"ghost",size:"sm",className:"!py-0 !px-2 !h-auto",onClick:()=>f(i,o,cn),title:`Increase daily time goal to ${cn} minutes`,children:["+",Mt," min"]})]})]}),x.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2.5",children:x.jsx("div",{className:`h-2.5 rounded-full ${c>=Ee?"bg-amber-400":"bg-primary-500"}`,style:{width:`${Ve}%`}})})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[x.jsxs("span",{className:"text-sm font-medium",children:["WPM: ",xe.avgWpm," / ",i]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:`text-sm font-bold ${xe.avgWpm>=i?"text-amber-500":""}`,children:xe.avgWpm>=i?"Goal Achieved!":`${Ke.toFixed(0)}%`}),Ye&&ze>0&&x.jsxs(Ge,{variant:"ghost",size:"sm",className:"!py-0 !px-2 !h-auto",onClick:()=>f(_t,o,l),title:`Increase WPM goal to ${_t}`,children:["+",ze," WPM"]})]})]}),x.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2.5",children:x.jsx("div",{className:`h-2.5 rounded-full ${xe.avgWpm>=i?"bg-amber-400":"bg-primary-500"}`,style:{width:`${Ke}%`}})})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[x.jsxs("span",{className:"text-sm font-medium",children:["Accuracy: ",xe.avgAccuracy,"% / ",o,"%"]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:`text-sm font-bold ${xe.avgAccuracy>=o?"text-amber-500":""}`,children:xe.avgAccuracy>=o?"Goal Achieved!":`${we.toFixed(0)}%`}),ft&&Ae>0&&x.jsxs(Ge,{variant:"ghost",size:"sm",className:"!py-0 !px-2 !h-auto",onClick:()=>f(i,o+Ae,l),title:`Increase Accuracy goal to ${o+Ae}%`,children:["+",Ae,"%"]})]})]}),x.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2.5",children:x.jsx("div",{className:`h-2.5 rounded-full ${xe.avgAccuracy>=o?"bg-amber-400":"bg-primary-500"}`,style:{width:`${we}%`}})})]})]})]}),x.jsxs(mr,{className:"p-6",children:[x.jsx("div",{className:"flex justify-between items-center mb-4",children:x.jsx("h2",{className:"text-xl font-semibold",children:"Language Focus"})}),ye.length>0?x.jsx("div",{className:"flex justify-center w-full",children:x.jsx(P5,{width:"100%",height:300,children:x.jsxs(Vce,{children:[x.jsx(Ao,{data:ye,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",nameKey:"name",label:Bce,children:ye.map((pe,Pe)=>x.jsx(qy,{fill:HL[Pe%HL.length]},`cell-${Pe}`))}),x.jsx(Yi,{formatter:pe=>Re(pe)}),x.jsx(vs,{wrapperStyle:{paddingTop:"20px"}})]})})}):x.jsx("p",{className:"text-center text-slate-500",children:"No language data available for this period."})]})]})]}),x.jsxs(mr,{className:"p-6",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h2",{className:"text-xl font-semibold",children:"Error Analysis"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(Ge,{variant:"ghost",size:"sm",onClick:()=>A(!0),children:"View All"}),x.jsx(Ge,{variant:"secondary",size:"sm",onClick:$e,disabled:De.length===0,title:"Practice your weakest keys immediately",children:"Practice Errors"})]})]}),De.length>0?x.jsxs("div",{className:"space-y-4",children:[De.map((pe,Pe)=>x.jsxs("div",{className:"space-y-1",children:[x.jsxs("div",{className:"flex justify-between items-center text-sm",children:[x.jsx("span",{className:"font-mono bg-slate-100 dark:bg-slate-700 px-1.5 py-0.5 rounded text-slate-700 dark:text-slate-300",children:WL(pe.key)}),x.jsxs("span",{className:"text-slate-500 dark:text-slate-400 text-xs",children:[pe.errors," Errors / ",pe.attempts," Attempts (",pe.errorRate.toFixed(1),"%)"]})]}),x.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-1.5",children:x.jsx("div",{className:"bg-red-500 h-1.5 rounded-full",style:{width:`${Math.min(100,pe.errorRate)}%`}})})]},Pe)),Ie.length>5&&x.jsxs("p",{className:"text-xs text-center text-slate-500 mt-2",children:["+ ",Ie.length-5," other keys needing practice"]})]}):x.jsx("p",{className:"text-center text-slate-500",children:"No significant errors found for this period."})]}),x.jsxs(mr,{className:"p-6",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h2",{className:"text-xl font-semibold",children:"Recent Sessions"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(Ge,{variant:"secondary",size:"sm",onClick:()=>h("history"),children:"View All"}),x.jsx(Ge,{variant:"destructive",size:"sm",onClick:()=>Q({type:"all"}),children:"Clear All History"})]})]}),ve.length>0?x.jsx("div",{className:"w-full",children:x.jsxs("table",{className:"w-full divide-y divide-slate-200 dark:divide-slate-700 table-fixed",children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{className:"w-1/4 px-2 sm:px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Date"}),x.jsx("th",{className:"w-1/6 px-2 sm:px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"WPM"}),x.jsx("th",{className:"w-1/6 px-2 sm:px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Acc"}),x.jsx("th",{className:"hidden lg:table-cell w-1/6 px-2 sm:px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Duration"}),x.jsx("th",{className:"hidden xl:table-cell w-1/6 px-2 sm:px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Language"}),x.jsx("th",{className:"hidden md:table-cell w-1/6 px-2 sm:px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Errors"}),x.jsx("th",{className:"w-16 px-2 sm:px-4 py-2 text-center text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Action"})]})}),x.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:ve.sort((pe,Pe)=>Pe.timestamp-pe.timestamp).slice(0,5).map((pe,Pe)=>x.jsxs("tr",{className:Pe%2===0?"bg-slate-50 dark:bg-slate-800":"",children:[x.jsx("td",{className:"px-2 sm:px-4 py-2 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:vl(pe.date)}),x.jsx("td",{className:"px-2 sm:px-4 py-2 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:pe.wpm.toFixed(0)}),x.jsxs("td",{className:"px-2 sm:px-4 py-2 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:[pe.accuracy.toFixed(1),"%"]}),x.jsx("td",{className:"hidden lg:table-cell px-2 sm:px-4 py-2 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:GL(pe.duration)}),x.jsx("td",{className:"hidden xl:table-cell px-2 sm:px-4 py-2 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:pe.language}),x.jsx("td",{className:"hidden md:table-cell px-2 sm:px-4 py-2 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:pe.errors}),x.jsx("td",{className:"px-2 sm:px-4 py-2 whitespace-nowrap text-center text-sm font-medium",children:x.jsx(Ge,{variant:"ghost",size:"icon",onClick:()=>Q({type:"single",timestamp:pe.timestamp}),children:x.jsx(Z$,{className:"w-4 h-4 text-red-500"})})})]},pe.id))})]})}):x.jsx("p",{className:"text-center text-slate-500",children:"No recent sessions for this period."})]})]})]}),x.jsx(rK,{isOpen:L,onClose:()=>C(!1),onSave:(pe,Pe,at)=>{f(pe,Pe,at),C(!1)},currentWpmGoal:i,currentAccuracyGoal:o,currentTimeGoal:l}),x.jsxs(Fl,{isOpen:M,onClose:()=>A(!1),title:"All Error Stats",children:[x.jsx("div",{className:"max-h-[60vh] overflow-y-auto custom-scrollbar pr-2",children:Ie.length>0?x.jsx("div",{className:"space-y-3",children:Ie.map((pe,Pe)=>x.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[x.jsx("div",{className:"flex justify-between items-start mb-3",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"font-mono bg-slate-200 dark:bg-slate-700 px-3 py-1.5 rounded-lg text-lg font-semibold text-slate-800 dark:text-slate-200",children:WL(pe.key)}),x.jsxs("span",{className:"text-red-600 dark:text-red-400 font-bold text-base",children:[pe.errorRate.toFixed(1),"%"]})]})}),x.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm mb-2",children:[x.jsxs("div",{className:"text-slate-600 dark:text-slate-400",children:[x.jsx("span",{className:"font-medium",children:"Errors:"})," ",pe.errors]}),x.jsxs("div",{className:"text-slate-600 dark:text-slate-400",children:[x.jsx("span",{className:"font-medium",children:"Attempts:"})," ",pe.attempts]})]}),x.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2",children:x.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 h-2 rounded-full transition-all",style:{width:`${Math.min(100,pe.errorRate)}%`}})})]},Pe))}):x.jsx("p",{className:"text-center text-slate-500 py-8",children:"No error data available."})}),x.jsx("div",{className:"mt-6 flex justify-center",children:x.jsx(Ge,{variant:"secondary",onClick:()=>A(!1),accessKeyChar:"C",autoFocus:!0,children:"Close"})})]}),x.jsx(kE,{isOpen:!!D,onClose:()=>B(null),title:"Import Data",message:"You have existing practice history. How would you like to import the new data?",buttons:[{label:"Merge",onClick:()=>se("merge"),variant:"primary"},{label:"Replace",onClick:()=>se("replace"),variant:"secondary"}]}),x.jsx(kE,{isOpen:!!V,onClose:()=>Q(null),title:(V==null?void 0:V.type)==="all"?"Delete All History":"Delete Session",message:(V==null?void 0:V.type)==="all"?x.jsxs("span",{children:["Are you sure you want to delete ALL practice history? This action cannot be undone and will reset the website to a fresh state.",x.jsx("br",{}),x.jsx("br",{}),"To prevent data loss, we recommend you ",x.jsx("span",{className:"text-blue-600 dark:text-blue-400 cursor-pointer hover:underline font-medium",onClick:ce,children:"Export"})," your data first."]}):"Are you sure you want to delete this practice session?",buttons:[{label:"Cancel",onClick:()=>Q(null),variant:"secondary"},{label:"Delete",onClick:me,variant:"primary",className:"bg-red-600 hover:bg-red-700 text-white"}]}),x.jsx("input",{type:"file",ref:U,className:"hidden",accept:".json,application/json",onChange:W})]})},zce=()=>{const t=$.useContext(On);if(!t)return null;const{practiceHistory:e,deletePracticeSession:n,clearPracticeHistory:r,navigateTo:i,showAlert:o}=t,[l,c]=$.useState(null),f=()=>{(l==null?void 0:l.type)==="single"&&l.timestamp?n(l.timestamp):(l==null?void 0:l.type)==="all"&&r(),c(null)},h=()=>{try{A6({practiceHistory:e,keyErrorStats:t.keyErrorStats,keyAttemptStats:t.keyAttemptStats}),o("Data exported successfully!","info")}catch(v){o("Failed to export data.","error"),console.error(v)}},p=v=>{const _=Math.floor(v/60),E=Math.floor(v%60);return`${_}m ${E.toString().padStart(2,"0")}s`},m=$.useMemo(()=>[...e].sort((v,_)=>_.timestamp-v.timestamp),[e]);return x.jsxs("div",{className:"space-y-6 h-full overflow-y-auto custom-scrollbar p-4",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(Ge,{variant:"outline",onClick:()=>i("dashboard"),title:"Back to Dashboard",accessKeyChar:"ArrowLeft",accessKeyLabel:"",children:" Back to Dashboard"}),x.jsx("h1",{className:"text-3xl font-bold",children:"Practice History"})]}),m.length>0&&x.jsx(Ge,{variant:"destructive",onClick:()=>c({type:"all"}),children:"Clear All History"})]}),x.jsx(mr,{className:"p-6",children:m.length>0?x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Date"}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"WPM"}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Accuracy"}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Duration"}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Language"}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Lines"}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Errors"}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),x.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:m.map((v,_)=>x.jsxs("tr",{className:_%2===0?"bg-slate-50 dark:bg-slate-800":"",children:[x.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:[vl(v.timestamp),x.jsx("span",{className:"block text-xs text-gray-700 dark:text-gray-300",children:new Date(v.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100 font-medium",children:v.wpm.toFixed(0)}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:x.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v.accuracy>=95?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":v.accuracy>=90?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:[v.accuracy.toFixed(1),"%"]})}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:p(v.duration)}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:v.language}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:v.linesTyped||0}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:v.errors}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium",children:x.jsx(Ge,{variant:"ghost",size:"icon",onClick:()=>c({type:"single",timestamp:v.timestamp}),title:"Delete Session",children:x.jsx(Z$,{className:"w-4 h-4 text-red-500"})})})]},v.timestamp))})]})}):x.jsxs("div",{className:"text-center py-12 text-slate-500",children:[x.jsx("p",{className:"text-lg mb-2",children:"No practice history found."}),x.jsx("p",{className:"text-sm",children:"Complete some practice sessions to see them listed here."}),x.jsx(Ge,{className:"mt-4",onClick:()=>i("practice"),children:"Start Practicing"})]})}),x.jsx(kE,{isOpen:!!l,onClose:()=>c(null),title:(l==null?void 0:l.type)==="all"?"Delete All History":"Delete Session",message:(l==null?void 0:l.type)==="all"?x.jsxs("span",{children:["Are you sure you want to delete ALL practice history? This action cannot be undone.",x.jsx("br",{}),x.jsx("br",{}),"To prevent data loss, we recommend you ",x.jsx("span",{className:"text-blue-600 dark:text-blue-400 cursor-pointer hover:underline font-medium",onClick:h,children:"Export"})," your data first."]}):"Are you sure you want to delete this practice session?",buttons:[{label:"Cancel",onClick:()=>c(null),variant:"secondary"},{label:"Delete",onClick:f,variant:"primary",className:"bg-red-600 hover:bg-red-700 text-white"}]})]})},Fce="modulepreload",Hce=function(t){return"/ai-code-typer/"+t},YL={},Gce=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=l(n.map(h=>{if(h=Hce(h),h in YL)return;YL[h]=!0;const p=h.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":Fce,p||(v.as="script"),v.crossOrigin="",v.href=h,f&&v.setAttribute("nonce",f),document.head.appendChild(v),p)return new Promise((_,E)=>{v.addEventListener("load",_),v.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})},eU=6048e5,Kce=864e5,tU=6e4,nU=36e5,XL=Symbol.for("constructDateFrom");function ra(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&XL in t?t[XL](e):t instanceof Date?new t.constructor(e):new Date(e)}function ir(t,e){return ra(e||t,t)}function rU(t,e,n){const r=ir(t,n==null?void 0:n.in);return isNaN(e)?ra(t,NaN):(e&&r.setDate(r.getDate()+e),r)}let Wce={};function pv(){return Wce}function Sd(t,e){var c,f,h,p;const n=pv(),r=(e==null?void 0:e.weekStartsOn)??((f=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:f.weekStartsOn)??n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,i=ir(t,e==null?void 0:e.in),o=i.getDay(),l=(o<r?7:0)+o-r;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function iy(t,e){return Sd(t,{...e,weekStartsOn:1})}function iU(t,e){const n=ir(t,e==null?void 0:e.in),r=n.getFullYear(),i=ra(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const o=iy(i),l=ra(n,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const c=iy(l);return n.getTime()>=o.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function QL(t){const e=ir(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function aU(t,...e){const n=ra.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function JL(t,e){const n=ir(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function oU(t,e,n){const[r,i]=aU(n==null?void 0:n.in,t,e),o=JL(r),l=JL(i),c=+o-QL(o),f=+l-QL(l);return Math.round((c-f)/Kce)}function Yce(t,e){const n=iU(t,e),r=ra(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),iy(r)}function Xce(t,e,n){return rU(t,e*7,n)}function Qce(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function sU(t){return!(!Qce(t)&&typeof t!="number"||isNaN(+ir(t)))}function Jce(t,e){const[n,r]=aU(t,e.start,e.end);return{start:n,end:r}}function lU(t,e){const{start:n,end:r}=Jce(e==null?void 0:e.in,t);let i=+n>+r;const o=i?+n:+r,l=i?r:n;l.setHours(0,0,0,0);let c=1;const f=[];for(;+l<=o;)f.push(ra(n,l)),l.setDate(l.getDate()+c),l.setHours(0,0,0,0);return i?f.reverse():f}function Zce(t,e){const n=ir(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const efe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},tfe=(t,e,n)=>{let r;const i=efe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function I1(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const nfe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},rfe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ife={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},afe={date:I1({formats:nfe,defaultWidth:"full"}),time:I1({formats:rfe,defaultWidth:"full"}),dateTime:I1({formats:ife,defaultWidth:"full"})},ofe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},sfe=(t,e,n,r)=>ofe[t];function lh(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,c=n!=null&&n.width?String(n.width):l;i=t.formattingValues[c]||t.formattingValues[l]}else{const l=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[c]||t.values[l]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const lfe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ufe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},cfe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ffe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},hfe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dfe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},pfe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},mfe={ordinalNumber:pfe,era:lh({values:lfe,defaultWidth:"wide"}),quarter:lh({values:ufe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:lh({values:cfe,defaultWidth:"wide"}),day:lh({values:ffe,defaultWidth:"wide"}),dayPeriod:lh({values:hfe,defaultWidth:"wide",formattingValues:dfe,defaultFormattingWidth:"wide"})};function uh(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const l=o[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],f=Array.isArray(c)?yfe(c,m=>m.test(l)):gfe(c,m=>m.test(l));let h;h=t.valueCallback?t.valueCallback(f):f,h=n.valueCallback?n.valueCallback(h):h;const p=e.slice(l.length);return{value:h,rest:p}}}function gfe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function yfe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function vfe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let l=t.valueCallback?t.valueCallback(o[0]):o[0];l=n.valueCallback?n.valueCallback(l):l;const c=e.slice(i.length);return{value:l,rest:c}}}const bfe=/^(\d+)(th|st|nd|rd)?/i,_fe=/\d+/i,xfe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},wfe={any:[/^b/i,/^(a|c)/i]},Sfe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Efe={any:[/1/i,/2/i,/3/i,/4/i]},Tfe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Afe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ofe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Cfe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ife={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Pfe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Rfe={ordinalNumber:vfe({matchPattern:bfe,parsePattern:_fe,valueCallback:t=>parseInt(t,10)}),era:uh({matchPatterns:xfe,defaultMatchWidth:"wide",parsePatterns:wfe,defaultParseWidth:"any"}),quarter:uh({matchPatterns:Sfe,defaultMatchWidth:"wide",parsePatterns:Efe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:uh({matchPatterns:Tfe,defaultMatchWidth:"wide",parsePatterns:Afe,defaultParseWidth:"any"}),day:uh({matchPatterns:Ofe,defaultMatchWidth:"wide",parsePatterns:Cfe,defaultParseWidth:"any"}),dayPeriod:uh({matchPatterns:Ife,defaultMatchWidth:"any",parsePatterns:Pfe,defaultParseWidth:"any"})},Nfe={code:"en-US",formatDistance:tfe,formatLong:afe,formatRelative:sfe,localize:mfe,match:Rfe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kfe(t,e){const n=ir(t,e==null?void 0:e.in);return oU(n,Zce(n))+1}function Mfe(t,e){const n=ir(t,e==null?void 0:e.in),r=+iy(n)-+Yce(n);return Math.round(r/eU)+1}function uU(t,e){var p,m,v,_;const n=ir(t,e==null?void 0:e.in),r=n.getFullYear(),i=pv(),o=(e==null?void 0:e.firstWeekContainsDate)??((m=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??i.firstWeekContainsDate??((_=(v=i.locale)==null?void 0:v.options)==null?void 0:_.firstWeekContainsDate)??1,l=ra((e==null?void 0:e.in)||t,0);l.setFullYear(r+1,0,o),l.setHours(0,0,0,0);const c=Sd(l,e),f=ra((e==null?void 0:e.in)||t,0);f.setFullYear(r,0,o),f.setHours(0,0,0,0);const h=Sd(f,e);return+n>=+c?r+1:+n>=+h?r:r-1}function jfe(t,e){var c,f,h,p;const n=pv(),r=(e==null?void 0:e.firstWeekContainsDate)??((f=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,i=uU(t,e),o=ra((e==null?void 0:e.in)||t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Sd(o,e)}function Dfe(t,e){const n=ir(t,e==null?void 0:e.in),r=+Sd(n,e)-+jfe(n,e);return Math.round(r/eU)+1}function At(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const as={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return At(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):At(n+1,2)},d(t,e){return At(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return At(t.getHours()%12||12,e.length)},H(t,e){return At(t.getHours(),e.length)},m(t,e){return At(t.getMinutes(),e.length)},s(t,e){return At(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return At(i,e.length)}},zu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ZL={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return as.y(t,e)},Y:function(t,e,n,r){const i=uU(t,r),o=i>0?i:1-i;if(e==="YY"){const l=o%100;return At(l,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):At(o,e.length)},R:function(t,e){const n=iU(t);return At(n,e.length)},u:function(t,e){const n=t.getFullYear();return At(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return At(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return At(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return as.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return At(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Dfe(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):At(i,e.length)},I:function(t,e,n){const r=Mfe(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):At(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):as.d(t,e)},D:function(t,e,n){const r=kfe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):At(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return At(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return At(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return At(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=zu.noon:r===0?i=zu.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=zu.evening:r>=12?i=zu.afternoon:r>=4?i=zu.morning:i=zu.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return as.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):as.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):At(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):At(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):as.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):as.s(t,e)},S:function(t,e){return as.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return t4(r);case"XXXX":case"XX":return ml(r);case"XXXXX":case"XXX":default:return ml(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return t4(r);case"xxxx":case"xx":return ml(r);case"xxxxx":case"xxx":default:return ml(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+e4(r,":");case"OOOO":default:return"GMT"+ml(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+e4(r,":");case"zzzz":default:return"GMT"+ml(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return At(r,e.length)},T:function(t,e,n){return At(+t,e.length)}};function e4(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+At(o,2)}function t4(t,e){return t%60===0?(t>0?"-":"+")+At(Math.abs(t)/60,2):ml(t,e)}function ml(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=At(Math.trunc(r/60),2),o=At(r%60,2);return n+i+e+o}const n4=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},cU=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Lfe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return n4(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",n4(r,e)).replace("{{time}}",cU(i,e))},Vfe={p:cU,P:Lfe},$fe=/^D+$/,Ufe=/^Y+$/,Bfe=["D","DD","YY","YYYY"];function qfe(t){return $fe.test(t)}function zfe(t){return Ufe.test(t)}function Ffe(t,e,n){const r=Hfe(t,e,n);if(console.warn(r),Bfe.includes(t))throw new RangeError(r)}function Hfe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Gfe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Kfe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Wfe=/^'([^]*?)'?$/,Yfe=/''/g,Xfe=/[a-zA-Z]/;function fU(t,e,n){var p,m,v,_;const r=pv(),i=r.locale??Nfe,o=r.firstWeekContainsDate??((m=(p=r.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,l=r.weekStartsOn??((_=(v=r.locale)==null?void 0:v.options)==null?void 0:_.weekStartsOn)??0,c=ir(t,n==null?void 0:n.in);if(!sU(c))throw new RangeError("Invalid time value");let f=e.match(Kfe).map(E=>{const S=E[0];if(S==="p"||S==="P"){const w=Vfe[S];return w(E,i.formatLong)}return E}).join("").match(Gfe).map(E=>{if(E==="''")return{isToken:!1,value:"'"};const S=E[0];if(S==="'")return{isToken:!1,value:Qfe(E)};if(ZL[S])return{isToken:!0,value:E};if(S.match(Xfe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:E}});i.localize.preprocessor&&(f=i.localize.preprocessor(c,f));const h={firstWeekContainsDate:o,weekStartsOn:l,locale:i};return f.map(E=>{if(!E.isToken)return E.value;const S=E.value;(zfe(S)||qfe(S))&&Ffe(S,e,String(t));const w=ZL[S[0]];return w(c,S,i.localize,h)}).join("")}function Qfe(t){const e=t.match(Wfe);return e?e[1].replace(Yfe,"'"):t}function hU(t,e){const n=ir(t,e==null?void 0:e.in);if(isNaN(+n))throw new RangeError("Invalid time value");const r=(e==null?void 0:e.format)??"extended",i=(e==null?void 0:e.representation)??"complete";let o="",l="";const c=r==="extended"?"-":"",f=r==="extended"?":":"";if(i!=="time"){const h=At(n.getDate(),2),p=At(n.getMonth()+1,2);o=`${At(n.getFullYear(),4)}${c}${p}${c}${h}`}if(i!=="date"){const h=n.getTimezoneOffset();if(h!==0){const S=Math.abs(h),w=At(Math.trunc(S/60),2),O=At(S%60,2);l=`${h<0?"+":"-"}${w}:${O}`}else l="Z";const p=At(n.getHours(),2),m=At(n.getMinutes(),2),v=At(n.getSeconds(),2),_=o===""?"":"T",E=[p,m,v].join(f);o=`${o}${_}${E}${l}`}return o}function dU(t,e){return ir(t,e==null?void 0:e.in).getDay()}function Jfe(t,e){return ir(t,e==null?void 0:e.in).getMonth()}function Zfe(t,e){return ir(t,e==null?void 0:e.in).getFullYear()}function ehe(t,e,n){let r=e-dU(t,n);return r<=0&&(r+=7),rU(t,r,n)}function zc(t,e){const n=()=>ra(e==null?void 0:e.in,NaN),i=ihe(t);let o;if(i.date){const h=ahe(i.date,2);o=ohe(h.restDateString,h.year)}if(!o||isNaN(+o))return n();const l=+o;let c=0,f;if(i.time&&(c=she(i.time),isNaN(c)))return n();if(i.timezone){if(f=lhe(i.timezone),isNaN(f))return n()}else{const h=new Date(l+c),p=ir(0,e==null?void 0:e.in);return p.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),p.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),p}return ir(l+c+f,e==null?void 0:e.in)}const Am={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},the=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,nhe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,rhe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ihe(t){const e={},n=t.split(Am.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Am.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Am.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=Am.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function ahe(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:t.slice((r[1]||r[2]).length)}}function ohe(t,e){if(e===null)return new Date(NaN);const n=t.match(the);if(!n)return new Date(NaN);const r=!!n[4],i=ch(n[1]),o=ch(n[2])-1,l=ch(n[3]),c=ch(n[4]),f=ch(n[5])-1;if(r)return dhe(e,c,f)?uhe(e,c,f):new Date(NaN);{const h=new Date(0);return!fhe(e,o,l)||!hhe(e,i)?new Date(NaN):(h.setUTCFullYear(e,o,Math.max(i,l)),h)}}function ch(t){return t?parseInt(t):1}function she(t){const e=t.match(nhe);if(!e)return NaN;const n=P1(e[1]),r=P1(e[2]),i=P1(e[3]);return phe(n,r,i)?n*nU+r*tU+i*1e3:NaN}function P1(t){return t&&parseFloat(t.replace(",","."))||0}function lhe(t){if(t==="Z")return 0;const e=t.match(rhe);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return mhe(r,i)?n*(r*nU+i*tU):NaN}function uhe(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,o=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}const che=[31,null,31,30,31,30,31,31,30,31,30,31];function pU(t){return t%400===0||t%4===0&&t%100!==0}function fhe(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(che[e]||(pU(t)?29:28))}function hhe(t,e){return e>=1&&e<=(pU(t)?366:365)}function dhe(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function phe(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function mhe(t,e){return e>=0&&e<=59}function ghe(t,e,n){return Xce(t,-1,n)}const RA="react-activity-calendar",R1=8,mU=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],yhe={months:mU,weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],totalCount:"{{count}} activities in {{year}}",legend:{less:"Less",more:"More"}};function vhe(){const[t,e]=$.useState("light"),n=r=>{e(r.matches?"dark":"light")};return $.useEffect(()=>{const r=window.matchMedia("(prefers-color-scheme: dark)");return e(r.matches?"dark":"light"),r.addEventListener("change",n),()=>{r.removeEventListener("change",n)}},[]),t}const gU=`${RA}--loading-animation`;function bhe(t,e){$.useEffect(()=>{const n=`oklab(from ${t} l a b)`,r=e==="light"?`oklab(from ${t} calc(l * 0.96) a b)`:`oklab(from ${t} calc(l * 1.08) a b)`,i=document.createElement("style");return i.innerHTML=`
      @keyframes ${gU} {
        0% {
          fill: ${n};
        }
        50% {
          fill: ${r};
        }
        100% {
          fill: ${n};
        }
      }
    `,document.head.appendChild(i),()=>{document.head.removeChild(i)}},[t,e])}const _he="(prefers-reduced-motion: reduce)";function xhe(){const[t,e]=$.useState(!0);return $.useEffect(()=>{const n=window.matchMedia(_he);e(n.matches);const r=i=>{e(i.matches)};return n.addEventListener("change",r),()=>{n.removeEventListener("change",r)}},[]),t}function whe(t,e){if(t.length===0)throw new Error("Activity data must not be empty.");for(const{date:n,level:r,count:i}of t){if(!sU(zc(n)))throw new Error(`Activity date '${n}' is not a valid ISO 8601 date string.`);if(i<0)throw new RangeError(`Activity count must not be negative, found ${i}.`);if(r<0||r>e)throw new RangeError(`Activity level ${r} for ${n} is out of range. It must be between 0 and ${e}.`)}}function She(t,e=0){const n=Ehe(t),r=n[0],i=zc(r.date),o=dU(i)===e?i:ghe(ehe(i,e)),l=[...Array(oU(i,o)).fill(void 0),...n],c=Math.ceil(l.length/7);return ay(c).map(f=>l.slice(f*7,f*7+7))}function Ehe(t){const e=new Map(t.map(i=>[i.date,i])),n=t[0],r=t[t.length-1];return lU({start:zc(n.date),end:zc(r.date)}).map(i=>{const o=hU(i,{representation:"date"});return e.has(o)?e.get(o):{date:o,count:0,level:0}})}function cl(t){return`${RA}__${t}`}function ay(t){return[...Array(t).keys()]}function The(){const t=new Date().getFullYear();return lU({start:new Date(t,0,1),end:new Date(t,11,31)}).map(n=>({date:hU(n,{representation:"date"}),count:0,level:0}))}function Ahe(t,e=mU){return t.reduce((n,r,i)=>{const o=r.find(f=>f!==void 0);if(!o)throw new Error(`Unexpected error: Week ${i+1} is empty.`);const l=e[Jfe(zc(o.date))];if(!l){const f=new Date(o.date).toLocaleString("en-US",{month:"short"});throw new Error(`Unexpected error: undefined month label for ${f}.`)}const c=n[n.length-1];return i===0||(c==null?void 0:c.label)!==l?[...n,{weekIndex:i,label:l}]:n},[]).filter(({weekIndex:n},r,i)=>r===0?i[1]&&i[1].weekIndex-n>=3:r===i.length-1?t.slice(n).length>=3:!0)}function Ohe(t,e,n){if(t.length!==7)throw new Error("Exactly 7 labels, one for each weekday must be passed.");return t.reduce((r,i,o)=>e.byDayIndex(o)?Math.max(r,Math.ceil(Che(i,n).width)):r,0)}function Che(t,e){if(typeof document>"u"||typeof window>"u")return{width:0,height:0};if(e<1)throw new RangeError("fontSize must be positive");if(t.length===0)return{width:0,height:0};const n="http://www.w3.org/2000/svg",r=document.createElementNS(n,"svg");r.style.position="absolute",r.style.visibility="hidden",r.style.fontFamily=window.getComputedStyle(document.body).fontFamily,r.style.fontSize=`${e}px`;const i=document.createElementNS(n,"text");i.textContent=t,r.appendChild(i),document.body.appendChild(r);const o=i.getBBox();return document.body.removeChild(r),{width:o.width,height:o.height}}function Ihe(t,e){if(!t)return{byDayIndex:()=>!1,shouldShow:!1};if(t===!0)return{byDayIndex:r=>(7+r-e)%7%2!==0,shouldShow:!0};const n=[];for(const r of t){const i=Phe[r.toLowerCase()];n[i]=!0}return{byDayIndex:r=>n[r]??!1,shouldShow:t.length>0}}const Phe={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};function Rhe(t,e=5){const n=Nhe(e);return t?(khe(t,e),t.light=t.light??n.light,t.dark=t.dark??n.dark,{light:r4(t.light)?oy(t.light,e):t.light,dark:r4(t.dark)?oy(t.dark,e):t.dark}):n}function Nhe(t){return{light:oy(["hsl(0, 0%, 92%)","hsl(0, 0%, 26%)"],t),dark:oy(["hsl(0, 0%, 22%)","hsl(0, 0%, 92%)"],t)}}function khe(t,e){const n='The number of colors is controlled by the "maxLevel" property.';if(typeof t!="object"||t.light===void 0&&t.dark===void 0)throw new Error(`The theme object must contain at least one of the fields "light" and "dark" with exactly 2 or ${e} colors respectively. ${n}`);if(t.light){const{length:r}=t.light;if(r!==2&&r!==e)throw new Error(`theme.light must contain exactly 2 or ${e} colors, ${r} passed. ${n}`);for(const i of t.light)if(typeof window<"u"&&!CSS.supports("color",i))throw new Error(`Invalid color "${i}" passed. All CSS color formats are accepted.`)}if(t.dark){const{length:r}=t.dark;if(r!==2&&r!==e)throw new Error(`theme.dark must contain exactly 2 or ${e} colors, ${r} passed. ${n}`);for(const i of t.dark)if(typeof window<"u"&&!CSS.supports("color",i))throw new Error(`Invalid color "${i}" passed. All CSS color formats are accepted.`)}}function oy([t,e],n){return ay(n).map(r=>{switch(r){case 0:return t;case n-1:return e;default:{const i=r/(n-1)*100;return`color-mix(in oklab, ${e} ${parseFloat(i.toFixed(2))}%, ${t})`}}})}function r4(t){return t.length===2}const fl={container:t=>({width:"max-content",maxWidth:"100%",display:"flex",flexDirection:"column",gap:"8px",fontSize:`${t}px`}),scrollContainer:t=>({maxWidth:"100%",overflowX:"auto",overflowY:"hidden",paddingTop:Math.ceil(.1*t)}),calendar:{display:"block",overflow:"visible"},rect:t=>({stroke:t==="light"?"rgba(0, 0, 0, 0.08)":"rgba(255, 255, 255, 0.04)"}),footer:{container:{display:"flex",flexWrap:"wrap",gap:"4px 16px",whiteSpace:"nowrap"},legend:{marginLeft:"auto",display:"flex",alignItems:"center",gap:"3px"}}},i4=$.lazy(()=>Gce(()=>import("./Tooltip-BOuzdJNe-BEiEjVUi.js"),[]).then(t=>({default:t.Tooltip}))),yU=$.forwardRef(({data:t,blockMargin:e=4,blockRadius:n=2,blockSize:r=12,colorScheme:i=void 0,fontSize:o=14,labels:l=void 0,loading:c=!1,maxLevel:f=4,renderBlock:h=void 0,renderColorLegend:p=void 0,showColorLegend:m=!0,showMonthLabels:v=!0,showTotalCount:_=!0,showWeekdayLabels:E=!1,style:S={},theme:w=void 0,tooltips:O={},weekStart:I=0},N)=>{const[L,C]=$.useState(!1);$.useEffect(()=>{C(!0)},[]),f=Math.max(1,f);const M=Rhe(w,f+1),A=vhe(),P=i??A,k=M[P];bhe(k[0],P);const U=!xhe();c&&(t=The()),whe(t,f);const D=t[0],B=Zfe(zc(D.date)),V=She(t,I),Q=Object.assign({},yhe,l),J=v?o+R1:0,H=Ihe(E,I),Y=L&&H.shouldShow?Ohe(Q.weekdays,H,o)+R1:void 0;function ee(){return{width:V.length*(r+e)-e,height:J+(r+e)*7-e}}function ce(){return V.map((ve,xe)=>ve.map((Ie,De)=>{if(!Ie)return null;const ye=c&&U?{animation:`${gU} 1.75s ease-in-out infinite`,animationDelay:`${xe*20+De*20}ms`}:void 0,Re=x.jsx("rect",{x:0,y:J+(r+e)*De,width:r,height:r,rx:n,ry:n,fill:k[Ie.level],"data-date":Ie.date,"data-level":Ie.level,style:{...fl.rect(P),...ye}}),$e=h?h(Re,Ie):Re;return x.jsx($.Fragment,{children:O.activity?x.jsx($.Suspense,{fallback:$e,children:x.jsx(i4,{text:O.activity.text(Ie),colorScheme:P,placement:O.activity.placement??"top",hoverRestMs:O.activity.hoverRestMs,offset:O.activity.offset,transitionStyles:O.activity.transitionStyles,withArrow:O.activity.withArrow,children:$e})}):$e},Ie.date)})).map((ve,xe)=>x.jsx("g",{transform:`translate(${(r+e)*xe}, 0)`,children:ve},xe))}function _e(){if(!_&&!m)return null;const ve=t.reduce((xe,Ie)=>xe+Ie.count,0);return x.jsxs("footer",{className:cl("footer"),style:{...fl.footer.container,marginLeft:Y},children:[c&&x.jsx("div",{children:""}),!c&&_&&x.jsx("div",{className:cl("count"),children:Q.totalCount?Q.totalCount.replace("{{count}}",String(ve)).replace("{{year}}",String(B)):`${ve} activities in ${B}`}),!c&&m&&x.jsxs("div",{className:cl("legend-colors"),style:fl.footer.legend,children:[x.jsx("span",{style:{marginRight:"0.4em"},children:Q.legend.less}),ay(f+1).map(xe=>{const Ie=x.jsx("svg",{width:r,height:r,children:x.jsx("rect",{width:r,height:r,fill:k[xe],rx:n,ry:n,style:fl.rect(P)})},xe),De=p?p(Ie,xe):Ie;return x.jsx($.Fragment,{children:O.colorLegend?x.jsx($.Suspense,{fallback:De,children:x.jsx(i4,{text:O.colorLegend.text(xe),colorScheme:P,placement:O.colorLegend.placement??"bottom",hoverRestMs:O.colorLegend.hoverRestMs,offset:O.colorLegend.offset,transitionStyles:O.colorLegend.transitionStyles,withArrow:O.colorLegend.withArrow,children:De})}):De},xe)}),x.jsx("span",{style:{marginLeft:"0.4em"},children:Q.legend.more})]})]})}function F(){return H.shouldShow?x.jsx("g",{className:cl("legend-weekday"),children:ay(7).map(ve=>{const xe=(ve+I)%7;return H.byDayIndex(xe)?x.jsx("text",{x:-R1,y:J+(r+e)*ve+r/2,dominantBaseline:"central",textAnchor:"end",fill:"currentColor",children:Q.weekdays[xe]},ve):null})}):null}function W(){return v?x.jsx("g",{className:cl("legend-month"),children:Ahe(V,Q.months).map(({label:ve,weekIndex:xe})=>x.jsx("text",{x:(r+e)*xe,y:0,dominantBaseline:"hanging",fill:"currentColor",children:ve},xe))}):null}const{width:se,height:me}=ee();return x.jsxs("article",{ref:N,className:RA,style:{...S,...fl.container(o)},children:[x.jsx("div",{className:cl("scroll-container"),style:fl.scrollContainer(o),children:x.jsxs("svg",{width:se,height:me,viewBox:`0 0 ${se} ${me}`,className:cl("calendar"),style:{...fl.calendar,marginLeft:Y},children:[!c&&F(),!c&&W(),ce()]})}),_e()]})});yU.displayName="ActivityCalendar";const Mhe=({data:t})=>{const e=$.useContext(On),n=(e==null?void 0:e.theme)||"dark",r={light:["#f1f5f9","#bbf7d0","#86efac","#4ade80","#16a34a"],dark:["#1e293b","#064e3b","#065f46","#047857","#059669"]};return!t||t.length===0?x.jsx("div",{className:"w-full h-32 flex items-center justify-center text-slate-500 text-sm italic",children:"No coding activity recorded yet. Start practicing to see your heatmap!"}):x.jsx("div",{className:"w-full flex justify-center py-4",children:x.jsx(yU,{data:t,theme:r,colorScheme:n,showWeekdayLabels:!0,blockSize:12,blockMargin:4,fontSize:12,labels:{legend:{less:"Less",more:"More"},months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],totalCount:"{{count}} sessions in {{year}}",weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}})})},jhe=({badges:t})=>{const e=[...t].sort((n,r)=>n.earned===r.earned?0:n.earned?-1:1);return x.jsx("div",{className:"grid grid-cols-2 md:grid-cols-1 xl:grid-cols-2 gap-3",children:e.map(n=>x.jsxs("div",{className:`relative group p-3 rounded-xl border transition-all duration-300 ${n.earned?`${n.color} border-transparent shadow-sm`:"bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 opacity-60 grayscale"}`,children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("span",{className:"text-2xl",children:n.icon}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("p",{className:"text-sm font-bold leading-tight break-words",children:n.name}),x.jsx("p",{className:"text-[10px] opacity-80 truncate leading-tight",children:n.earned?"Unlocked":"Locked"})]})]}),x.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-10 w-max max-w-[200px]",children:[n.description,x.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]},n.id))})},gl=[{name:"Novice",minTests:0,color:"text-gray-500"},{name:"Script Kiddie",minTests:10,color:"text-green-500"},{name:"Hacker",minTests:50,color:"text-blue-500"},{name:"Elite Typer",minTests:100,color:"text-purple-500"},{name:"Grandmaster",minTests:250,color:"text-amber-500"}],Dhe=t=>{let e=gl[0],n=gl[1];for(let i=0;i<gl.length&&t>=gl[i].minTests;i++)e=gl[i],n=gl[i+1]||null;let r=0;if(n){const i=n.minTests-e.minTests,o=t-e.minTests;r=Math.min(100,Math.max(0,o/i*100))}else r=100;return{currentLevel:e,nextLevel:n,progress:r}},Lhe=t=>{const e=t.length,n=Math.max(0,...t.map(l=>l.wpm)),r=t.length>0?t.reduce((l,c)=>l+c.accuracy,0)/t.length:0,i=t.reduce((l,c)=>l+c.duration,0);return[{id:"first_step",name:"First Step",description:"Complete your first practice session.",icon:"",earned:e>=1,color:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400"},{id:"speedster",name:"Speedster",description:"Reach 60 WPM in a single session.",icon:"",earned:n>=60,color:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400"},{id:"sniper",name:"Sniper",description:"Maintain an average accuracy of 98% or higher.",icon:"",earned:t.length>=5&&r>=98,color:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"},{id:"dedicated",name:"Dedicated",description:"Complete 50 practice sessions.",icon:"",earned:e>=50,color:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"},{id:"marathon",name:"Marathon Runner",description:"Practice for over 2 hours total.",icon:"",earned:i>=7200,color:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400"},{id:"century",name:"Centurion",description:"Reach 100 WPM in a session.",icon:"",earned:n>=100,color:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400"}]},Vhe=(t,e)=>Object.entries(t).map(([r,i])=>{const o=e[r]||i,l=o>0?i/o*100:0;return{key:r,rate:l,errors:i,attempts:o}}).filter(r=>r.errors>0).sort((r,i)=>i.rate-r.rate).slice(0,3),$he=t=>{const e={};return t.forEach(n=>{if(n.timestamp)try{const r=new Date(n.timestamp);if(isNaN(r.getTime()))return;const i=fU(r,"yyyy-MM-dd");e[i]=(e[i]||0)+1}catch{console.error("Invalid date for session",n)}}),Object.entries(e).map(([n,r])=>{let i=0;return r===0?i=0:r<=2?i=1:r<=5?i=2:r<=10?i=3:i=4,{date:n,count:r,level:i}})},Uhe=t=>t.slice().sort((e,n)=>e.timestamp-n.timestamp).slice(-20).map(e=>{try{const n=new Date(e.timestamp);return{date:isNaN(n.getTime())?"Unknown":fU(n,"MMM dd"),wpm:e.wpm,accuracy:e.accuracy}}catch{return{date:"Err",wpm:e.wpm,accuracy:e.accuracy}}}),Bhe=({isOpen:t,onClose:e})=>{const{user:n,updateUserProfile:r}=Oy(),[i,o]=$.useState(""),[l,c]=$.useState(""),[f,h]=$.useState(!1),[p,m]=$.useState(null);$.useEffect(()=>{t&&n&&(o(n.displayName||""),c(n.photoURL||""),m(null))},[t,n]);const v=async _=>{_.preventDefault(),h(!0),m(null);try{await r({displayName:i.trim(),photoURL:l.trim()||void 0}),e()}catch(E){m(E.message||"Failed to update profile")}finally{h(!1)}};return x.jsx(Fl,{isOpen:t,onClose:e,title:"Edit Profile",children:x.jsxs("form",{onSubmit:v,className:"space-y-4",children:[p&&x.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-500 text-sm p-3 rounded",children:p}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{htmlFor:"displayName",className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Display Name"}),x.jsx("input",{id:"displayName",type:"text",value:i,onChange:_=>o(_.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-slate-900 dark:text-slate-100",placeholder:"Your Name",required:!0})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{htmlFor:"photoURL",className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Avatar URL"}),x.jsx("input",{id:"photoURL",type:"url",value:l,onChange:_=>c(_.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-slate-900 dark:text-slate-100",placeholder:"https://example.com/avatar.jpg"}),x.jsx("p",{className:"text-xs text-slate-500",children:"Leave empty to use default avatar."})]}),x.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[x.jsx(Ge,{type:"button",variant:"ghost",onClick:e,disabled:f,children:"Cancel"}),x.jsx(Ge,{type:"submit",variant:"primary",disabled:f,children:f?"Saving...":"Save Changes"})]})]})})},qhe=()=>{const{user:t,logout:e,syncStatus:n}=Oy(),r=$.useContext(On),[i,o]=G.useState(!1);if(!r)throw new Error("AppContext not found");const{practiceHistory:l,keyErrorStats:c,keyAttemptStats:f,navigateTo:h}=r,p=$.useMemo(()=>{if(l.length===0)return{bestWpm:0,avgAccuracy:0,totalSessions:0,totalDuration:0};const I=Math.max(0,...l.map(M=>M.wpm)),N=l.reduce((M,A)=>M+A.accuracy,0),L=parseFloat((N/l.length).toFixed(2)),C=l.reduce((M,A)=>M+A.duration,0);return{bestWpm:I,avgAccuracy:L,totalSessions:l.length,totalDuration:C}},[l]),m=I=>{const N=Math.floor(I/3600),L=Math.floor(I%3600/60);return N>0?`${N}h ${L}m`:`${L}m`},v=$.useMemo(()=>Dhe(p.totalSessions),[p.totalSessions]),_=$.useMemo(()=>$he(l),[l]),E=$.useMemo(()=>Uhe(l),[l]),S=$.useMemo(()=>Lhe(l),[l]),w=$.useMemo(()=>Vhe(c,f),[c,f]),O=async()=>{await e(),window.location.reload()};return t?x.jsxs("div",{className:"max-w-6xl mx-auto p-4 space-y-6 animate-fade-in-up pb-20",children:[x.jsxs(mr,{className:"p-6 md:p-8 relative overflow-hidden dark:bg-slate-800/80 backdrop-blur-md border-b-4 border-primary-500",children:[x.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center md:items-start z-10 relative",children:[x.jsxs("div",{className:"relative group",children:[x.jsx("img",{src:t.photoURL||`https://ui-avatars.com/api/?name=${t.displayName}`,alt:t.displayName||"User",className:"w-24 h-24 md:w-32 md:h-32 rounded-full border-4 border-slate-100 dark:border-slate-700 shadow-xl object-cover"}),x.jsxs("div",{className:"absolute -bottom-2 -right-2 bg-gradient-to-r from-amber-400 to-orange-500 text-white text-xs font-bold px-3 py-1 rounded-full border-2 border-white dark:border-slate-800 shadow-sm",children:["Lvl ",gl.indexOf(v.currentLevel)]})]}),x.jsxs("div",{className:"flex-1 text-center md:text-left space-y-3 w-full",children:[x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold bg-clip-text text-transparent bg-gradient-to-r from-slate-900 to-slate-600 dark:from-white dark:to-slate-300",children:t.displayName}),x.jsx("p",{className:`font-mono text-sm md:text-base ${v.currentLevel.color} font-bold mt-1 tracking-wide uppercase`,children:v.currentLevel.name})]}),x.jsxs(Ge,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>o(!0),children:[x.jsx(C6,{className:"w-4 h-4"}),"Edit Profile"]})]}),x.jsxs("div",{className:"space-y-2 max-w-xl",children:[x.jsxs("div",{className:"flex justify-between text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:[x.jsxs("span",{children:["Progress to ",v.nextLevel?v.nextLevel.name:"Max Level"]}),x.jsxs("span",{children:[v.progress.toFixed(0),"%"]})]}),x.jsx("div",{className:"h-3 w-full bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:x.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-blue-500 shadow-[0_0_10px_rgba(59,130,246,0.5)] transition-all duration-1000 ease-out",style:{width:`${v.progress}%`}})}),x.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500",children:v.nextLevel?`${v.nextLevel.minTests-p.totalSessions} more sessions to level up`:"You are at the top of the food chain!"})]})]})]}),x.jsx("div",{className:"absolute top-0 right-0 -mt-16 -mr-16 w-64 h-64 bg-primary-500/10 rounded-full blur-3xl pointer-events-none"})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[x.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[x.jsx(gr,{label:"Highest WPM",value:p.bestWpm,className:"bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-emerald-900/10 dark:to-teal-900/10 border-l-4 border-emerald-500"}),x.jsx(gr,{label:"Total Time Coding",value:m(p.totalDuration),className:"bg-gradient-to-br from-indigo-50 to-blue-50 dark:from-indigo-900/10 dark:to-blue-900/10 border-l-4 border-indigo-500"}),x.jsx(gr,{label:"Global Percentile",value:`${p.bestWpm>80?"Top 5%":p.bestWpm>50?"Top 20%":"Top 50%"}`,className:"bg-gradient-to-br from-purple-50 to-fuchsia-50 dark:from-purple-900/10 dark:to-fuchsia-900/10 border-l-4 border-purple-500"})]}),x.jsxs(mr,{className:"md:col-span-3 p-6 dark:bg-slate-800/50 backdrop-blur-sm",children:[x.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[x.jsx("span",{className:"text-xl",children:""})," Coding Activity"]}),x.jsx(Mhe,{data:_})]}),x.jsxs(mr,{className:"md:col-span-2 p-6 dark:bg-slate-800/50 backdrop-blur-sm min-h-[350px]",children:[x.jsxs("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[x.jsx("span",{className:"text-xl",children:""})," Recent Performance"]}),x.jsx(J$,{data:E})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs(mr,{className:"p-6 dark:bg-slate-800/50 backdrop-blur-sm",children:[x.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[x.jsx("span",{className:"text-xl",children:""})," Needs Improvement"]}),w.length>0?x.jsxs("div",{className:"space-y-4",children:[x.jsx("div",{className:"flex justify-around",children:w.map((I,N)=>x.jsxs("div",{className:"flex flex-col items-center gap-1 group cursor-help relative",children:[x.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-red-50 dark:bg-red-900/20 border-2 border-red-200 dark:border-red-800 rounded-lg text-xl font-mono font-bold text-red-600 dark:text-red-400 shadow-sm",children:I.key===" "?"":I.key===`
`?"":I.key==="	"?"":I.key}),x.jsxs("span",{className:"text-xs font-semibold text-red-500",children:[I.rate.toFixed(1),"% err"]}),x.jsxs("div",{className:"absolute bottom-full mb-2 bg-slate-900 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none",children:[I.key===" "?"Space":I.key===`
`?"Enter":I.key==="	"?"Tab":I.key,": ",I.errors," errors / ",I.attempts," attempts"]})]},I.key))}),x.jsx(Ge,{size:"sm",variant:"ghost",className:"w-full mt-2 text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",onClick:()=>{const I=w.map(N=>N.key);h("practice"),r.startTargetedSession(I,{length:"medium",level:"medium"})},children:"Start Targeted Practice "})]}):x.jsxs("div",{className:"text-center py-6 text-slate-500 text-sm",children:[x.jsx("p",{children:"No significant weak keys found."}),x.jsx("p",{className:"text-xs opacity-70",children:"Keep practicing!"})]})]}),x.jsxs(mr,{className:"p-6 dark:bg-slate-800/50 backdrop-blur-sm",children:[x.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[x.jsx("span",{className:"text-xl",children:""})," Badges",x.jsxs("span",{className:"text-xs font-normal text-slate-500 ml-auto bg-slate-100 dark:bg-slate-700 px-2 py-0.5 rounded-full",children:[S.filter(I=>I.earned).length," / ",S.length]})]}),x.jsx(jhe,{badges:S})]})]})]}),x.jsx("div",{className:"flex justify-center pt-8 border-t border-slate-200 dark:border-slate-800",children:x.jsx(Ge,{variant:"ghost",className:"text-slate-500 hover:text-red-500 dark:hover:text-red-400",onClick:O,children:"Sign Out of Account"})}),x.jsx(Bhe,{isOpen:i,onClose:()=>o(!1)})]}):x.jsx("div",{className:"flex flex-col items-center justify-center h-full p-4 text-center",children:x.jsxs(mr,{className:"p-8 max-w-md w-full",children:[x.jsx("h2",{className:"text-2xl font-bold mb-4",children:"You are not signed in"}),x.jsx("p",{className:"text-slate-500 mb-6",children:"Sign in to sync your progress across devices and unlock your developer profile."})]})})},zhe=()=>{const t=$.useContext(On),[e,n]=$.useState(!1);if($.useEffect(()=>n(!0),[]),!t)return null;const{alertMessage:r}=t,i={warning:x.jsx(ic,{className:"w-5 h-5"}),info:x.jsx(ic,{className:"w-5 h-5"}),error:x.jsx(ic,{className:"w-5 h-5"})},o={warning:"bg-yellow-400 text-yellow-900",info:"bg-blue-500 text-white",error:"bg-red-500 text-white"};if(!e||!r)return null;const l=document.getElementById("alert-root");return l?AT.createPortal(x.jsx("div",{className:"fixed top-6 inset-x-0 z-[10000] flex justify-center pointer-events-none",role:"alert",children:x.jsxs("div",{className:`pointer-events-auto px-4 py-3 rounded-md shadow-lg flex items-center gap-2 animate-fade-in-up ${o[r.type]}`,children:[i[r.type],x.jsx("span",{className:"font-semibold",children:r.message})]})}),l):null},Fhe=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),x.jsx("polyline",{points:"17 8 12 3 7 8"}),x.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),Hhe=[{label:"Short",value:"short"},{label:"Medium",value:"medium"},{label:"Long",value:"long"}],Ghe=[{label:"Easy",value:"easy"},{label:"Medium",value:"medium"},{label:"Hard",value:"hard"}],Khe=[{label:"Generate with AI",value:"generate"},{label:"Upload Text",value:"upload"}],Whe=[{label:"Code Practice",value:"code"},{label:"General Typing",value:"general"}],Yhe={id:"custom",name:"Custom",prismAlias:"clike"},a4={id:"general",name:"General Text",prismAlias:"text"},Xhe=vn,N1=[...vn,Yhe],Qhe=({isOpen:t,onClose:e,onStart:n,variant:r})=>{const i=$.useContext(On);if(!i)throw new Error("AppContext not found");const{selectedLanguage:o,setSelectedLanguage:l,isLoadingSnippet:c,setLastPracticeAction:f,setupTab:h,setSetupTab:p,snippetLength:m,setSnippetLength:v,snippetLevel:_,setSnippetLevel:E,practiceMode:S,setPracticeMode:w,startMultiFileSession:O,showAlert:I,navigateTo:N,generalContentTypes:L,setGeneralContentTypes:C}=i,[M,A]=$.useState(m),[P,k]=$.useState(_),[U,D]=$.useState(S),[B,V]=$.useState(""),[Q,J]=$.useState(L),H=$.useRef(null),Y=$.useRef(null),ee=$.useRef(null),ce=$.useRef(null),_e=$.useRef(null),F=$.useRef(null),W=$.useRef(null),se=$.useRef(null),me=$.useRef(null),ve=$.useRef(null),xe=$.useRef(null),Ie=$.useRef(null),De=$.useRef(null);$.useEffect(()=>{t&&(A(m),k(_),D(S),J(L),setTimeout(()=>{var we;return(we=me.current)==null?void 0:we.focus()},50))},[t,m,_,S,L]),$.useEffect(()=>{t&&h==="upload"&&setTimeout(()=>{var we;return(we=Y.current)==null?void 0:we.focus()},50)},[t,h]),Fr("A",()=>p("generate"),{disabled:!t}),Fr("U",()=>p("upload"),{disabled:!t}),Fr("C",()=>D("code"),{disabled:!t}),Fr("G",()=>D("general"),{disabled:!t});const ye=()=>{f("generate"),w(U),v(M),E(P),C(Q),n(M,P,null,U,Q)},Re=we=>{if(we.trim().length<2){I("Code must be at least 2 characters long.","error");return}f("upload"),U==="general"&&l(a4),n(null,null,we,U)},$e=async we=>{if(we.target.files&&we.target.files.length>0){const Ee=Array.from(we.target.files);if(Ee.length===1){const Ve=Ee[0],Ye=new FileReader;Ye.onload=ft=>{var ze;const He=(ze=ft.target)==null?void 0:ze.result;Re(He)},Ye.readAsText(Ve)}else{const Ve=Ye=>new Promise(ft=>{const He=new FileReader;He.onload=ze=>{var Mt;const _t=(Mt=ze.target)==null?void 0:Mt.result;ft({file:Ye,isValid:_t.trim().length>=2})},He.readAsText(Ye)});try{const Ye=await Promise.all(Ee.map(Ve)),ft=Ye.filter(ze=>ze.isValid).map(ze=>ze.file),He=Ye.filter(ze=>!ze.isValid).map(ze=>ze.file);if(ft.length===0)I("All selected files are invalid. Code must be at least 2 characters long.","error");else{if(He.length>0){const ze=He.map(_t=>_t.name).join(", ");I(`Skipped ${He.length} invalid file(s) (<2 chars): ${ze}`,"warning",6e3)}U==="general"&&l(a4),await O(ft),e(),N("practice")}}catch(Ye){console.error("Multi-file session start failed:",Ye),I("An unexpected error occurred while processing files.","error")}}}},ne=we=>{J(Ee=>Ee.includes(we)?Ee.length===1?Ee:Ee.filter(Ve=>Ve!==we):[...Ee,we])};$.useEffect(()=>{const we=Ee=>{var ft,He,ze,_t,Mt,cn,Ae,bt;if(!t||Ee.defaultPrevented)return;const Ve=Ee.target,Ye=Ve.tagName==="TEXTAREA"||Ve.tagName==="INPUT"&&Ve.type==="text";if((Ee.ctrlKey||Ee.shiftKey||Ee.altKey)&&Ee.key==="Enter"){Ee.preventDefault(),h==="generate"?c||ye():B.trim()&&Re(B);return}if(!(Ye&&Ee.key.startsWith("Arrow"))){if(Ee.key==="ArrowLeft"||Ee.key==="ArrowRight"){const Nt=document.activeElement,pe=h==="generate"?me.current:xe.current;if(Nt===pe||Nt===Ie.current){Ee.preventDefault(),Nt===pe?(ft=Ie.current)==null||ft.focus():pe==null||pe.focus();return}if((He=W.current)!=null&&He.contains(Nt)){Ee.preventDefault();const Pe=Array.from(W.current.querySelectorAll("button")),at=Pe.indexOf(Nt);if(at!==-1){const jt=Ee.key==="ArrowRight"?1:-1,ht=(at+jt+Pe.length)%Pe.length;(ze=Pe[ht])==null||ze.focus()}return}}if(Ee.key==="Enter"&&((_t=W.current)!=null&&_t.contains(document.activeElement))){Ee.preventDefault(),document.activeElement.click();return}if(Ee.key==="ArrowDown"||Ee.key==="ArrowUp"){const Nt=[];Nt.push({ref:ee,type:"segmented"}),Nt.push({ref:ce,type:"segmented"}),h==="generate"?(U==="code"&&Nt.push({ref:se,type:"select"}),Nt.push({ref:_e,type:"segmented"}),U==="code"?Nt.push({ref:F,type:"segmented"}):Nt.push({ref:W,type:"container"}),Nt.push({ref:De,type:"container"})):(U==="code"&&Nt.push({ref:se,type:"select"}),Nt.push({ref:Y,type:"input"}),Nt.push({ref:ve,type:"button"}),Nt.push({ref:De,type:"container"}));const pe=document.activeElement,Pe=Nt.findIndex(at=>{var jt,ht,St;return at.type==="select"?((ht=(jt=at.ref.current)==null?void 0:jt.getTriggerElement)==null?void 0:ht.call(jt))===pe:at.type==="container"||at.type==="segmented"?(St=at.ref.current)==null?void 0:St.contains(pe):at.ref.current===pe});if(Pe!==-1){Ee.preventDefault();const at=Ee.key==="ArrowDown"?1:-1,jt=(Pe+at+Nt.length)%Nt.length,ht=Nt[jt];if(ht.type==="select")(Mt=ht.ref.current)==null||Mt.focus();else if(ht.type==="container")if(ht.ref===De){const St=h==="generate"?me.current:xe.current;St==null||St.focus()}else if(ht.ref===W){const St=(cn=ht.ref.current)==null?void 0:cn.querySelector("button");St==null||St.focus()}else{const St=(Ae=ht.ref.current)==null?void 0:Ae.querySelector("input");St==null||St.focus()}else(bt=ht.ref.current)==null||bt.focus()}return}if(Ee.altKey)switch(Ee.key.toLowerCase()){case"a":p("generate");break;case"u":p("upload");break;case"c":D("code");break;case"g":D("general");break;case"s":h==="generate"&&A("short");break;case"m":h==="generate"&&A("medium");break;case"l":h==="generate"&&A("long");break;case"i":h==="generate"&&U==="code"&&k("medium");break;case"h":h==="generate"&&(U==="code"?k("hard"):ne("characters"));break;case"y":h==="generate"&&(U==="code"?k("easy"):ne("symbols"));break;case"n":h==="generate"&&U==="general"&&ne("numbers");break}}};return window.addEventListener("keydown",we),()=>window.removeEventListener("keydown",we)},[t,c,U,h,M,P,Q,B,ye,Re]);const Ke=we=>{const Ee=we,Ve=N1.find(Ye=>Ye.id===Ee)||N1[0];l(Ve)};return x.jsx(Fl,{isOpen:t,onClose:e,title:"Practice Setup",size:"md",children:x.jsxs("div",{className:"space-y-6 mt-2",children:[x.jsx(mh,{ref:ee,options:Khe,selectedValue:h,onSelect:we=>{var Ee;p(we),(Ee=ee.current)==null||Ee.focus()},accessKeyChars:["A","U"]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Mode"}),x.jsx(mh,{ref:ce,options:Whe,selectedValue:U,onSelect:we=>{var Ee;D(we),(Ee=ce.current)==null||Ee.focus()},accessKeyChars:["C","G"]})]}),h==="generate"&&x.jsxs("div",{className:"space-y-4 animate-fade-in-up relative z-20",children:[U==="code"&&x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Language"}),x.jsx(lS,{ref:se,options:Xhe.map(we=>({label:we.name,value:we.id})),value:o.id,onChange:Ke,searchable:!0})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Length"}),x.jsx(mh,{ref:_e,options:Hhe,selectedValue:M,onSelect:we=>{var Ee;A(we),(Ee=_e.current)==null||Ee.focus()},accessKeyChars:["S","M","L"]})]}),U==="code"?x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Difficulty Level"}),x.jsx(mh,{ref:F,options:Ghe,selectedValue:P,onSelect:we=>{var Ee;k(we),(Ee=F.current)==null||Ee.focus()},accessKeyChars:["Y","I","H"]})]}):x.jsxs("div",{className:"space-y-2",ref:W,children:[x.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Content Type"}),x.jsxs("div",{className:"flex justify-center items-center gap-1 bg-slate-200 dark:bg-slate-700 p-1 rounded-lg",children:[x.jsx("button",{onClick:()=>ne("characters"),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 ${Q.includes("characters")?"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white shadow-sm":"text-slate-600 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:"Characters"}),x.jsx("button",{onClick:()=>ne("numbers"),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 ${Q.includes("numbers")?"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white shadow-sm":"text-slate-600 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:"Numbers"}),x.jsx("button",{onClick:()=>ne("symbols"),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 ${Q.includes("symbols")?"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white shadow-sm":"text-slate-600 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:"Symbols"})]})]})]}),h==="upload"&&x.jsxs("div",{className:"space-y-4 animate-fade-in-up",children:[U==="code"&&x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Language"}),x.jsx(lS,{ref:se,options:N1.map(we=>({label:we.name,value:we.id})),value:o.id,onChange:Ke,searchable:!0})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Paste Code"}),x.jsx("textarea",{ref:Y,className:"w-full h-32 p-3 border rounded-md dark:bg-slate-800 dark:border-slate-600 dark:text-white font-mono text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none resize-none",placeholder:"Paste your code here...",value:B,onChange:we=>V(we.target.value)})]}),x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"absolute inset-0 flex items-center",children:x.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),x.jsx("div",{className:"relative flex justify-center text-sm",children:x.jsx("span",{className:"px-2 text-slate-500 dark:text-slate-400",children:"Or upload file"})})]}),x.jsxs("div",{className:"flex justify-center",children:[x.jsx("input",{type:"file",ref:H,className:"hidden",accept:".txt,.js,.jsx,.ts,.tsx,.py,.java,.cpp,.c,.h,.hpp,.cs,.go,.rs,.php,.rb,.html,.css,.json,.md",onChange:$e,multiple:!0}),x.jsxs(Ge,{ref:ve,variant:"secondary",onClick:()=>{var we;return(we=H.current)==null?void 0:we.click()},className:"w-full",children:[x.jsx(Fhe,{className:"w-4 h-4 mr-2"}),"Select File(s)"]})]})]}),x.jsxs("div",{className:"flex justify-center gap-3 pt-4 border-t dark:border-slate-700",ref:De,children:[x.jsx(Ge,{ref:Ie,variant:"ghost",onClick:e,className:"hover:bg-slate-200 dark:hover:bg-slate-700 focus:ring-2 focus:ring-primary-500 focus:bg-slate-100 dark:focus:bg-slate-800 transition-colors",children:"Cancel"}),h==="generate"?x.jsx(Ge,{ref:me,variant:"primary",onClick:ye,isLoading:c,accessKeyChar:"Enter",accessKeyLabel:"",children:"Start Practice"}):x.jsx(Ge,{ref:xe,variant:"primary",onClick:()=>Re(B),disabled:!B.trim(),children:"Use This Text"})]})]})})},Jhe=({currentPage:t,onNavigate:e})=>{const n=$.useContext(On);if(!n)throw new Error("AppContext not found");const r=o=>{if(o==="practice"&&!n.snippet){n.openSetupModal();return}e(o)},i=[{page:"home",icon:x.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),label:"Home"},{page:"practice",icon:x.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),label:"Practice"},{page:"dashboard",icon:x.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),label:"Dashboard"}];return x.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 z-50 glass border-t border-slate-200/50 dark:border-slate-700/50 safe-area-bottom",children:x.jsx("div",{className:"flex items-center justify-around h-16 px-2",children:i.map(o=>x.jsxs("button",{onClick:()=>r(o.page),className:`flex flex-col items-center justify-center flex-1 h-full transition-all duration-200 rounded-lg group ${t===o.page?"":"hover:bg-slate-100/50 dark:hover:bg-slate-800/50"}`,children:[x.jsx("div",{className:`transition-all duration-200 ${t===o.page?"scale-110":"group-hover:scale-105"} ${t===o.page?"text-purple-600 dark:text-purple-400":"text-slate-600 dark:text-slate-400"}`,children:o.icon}),x.jsx("span",{className:`text-xs mt-1 font-medium transition-colors ${t===o.page?"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 bg-clip-text text-transparent font-semibold":"text-slate-600 dark:text-slate-400"}`,children:o.label})]},o.page))})})},Zhe=()=>{const t=$.useContext(On);if(!t)throw new Error("AppContext not found. Make sure AppContent is a child of AppProvider.");const{page:e,navigateTo:n,sessionResetKey:r,isSetupModalOpen:i,closeSetupModal:o,handleStartFromSetup:l}=t,c=()=>{switch(e){case"practice":return x.jsx(nK,{},r);case"dashboard":return x.jsx(qce,{});case"history":return x.jsx(zce,{});case"profile":return x.jsx(qhe,{});case"home":default:return x.jsx(kG,{onStartPractice:()=>n("practice")})}};return x.jsxs("div",{className:"h-screen overflow-hidden bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 font-sans transition-colors duration-300 flex flex-col",children:[x.jsx(zhe,{}),x.jsx(NG,{}),x.jsx("main",{className:"container mx-auto px-4 py-4 pt-20 pb-20 md:pb-4 flex-grow flex flex-col min-h-0 overflow-y-auto",children:c()}),x.jsx(Jhe,{currentPage:e,onNavigate:n}),x.jsx(Qhe,{isOpen:i,onClose:o,onStart:l})]})},ede=()=>x.jsx(gG,{children:x.jsx(EG,{children:x.jsx(Zhe,{})})}),vU=document.getElementById("root");if(!vU)throw new Error("Could not find root element to mount to");const tde=a9.createRoot(vU);tde.render(x.jsx(ede,{}));export{nde as R,AT as a,cl as g,x as j,$ as r};
