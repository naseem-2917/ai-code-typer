function XU(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var om=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ub={exports:{}},Qf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eI;function QU(){if(eI)return Qf;eI=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:s}}return Qf.Fragment=e,Qf.jsx=n,Qf.jsxs=n,Qf}var tI;function JU(){return tI||(tI=1,ub.exports=QU()),ub.exports}var x=JU(),cb={exports:{}},Jf={},fb={exports:{}},hb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nI;function ZU(){return nI||(nI=1,(function(t){function e(F,Y){var ee=F.length;F.push(Y);e:for(;0<ee;){var ue=ee-1>>>1,ve=F[ue];if(0<i(ve,Y))F[ue]=Y,F[ee]=ve,ee=ue;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var Y=F[0],ee=F.pop();if(ee!==Y){F[0]=ee;e:for(var ue=0,ve=F.length,H=ve>>>1;ue<H;){var W=2*(ue+1)-1,oe=F[W],me=W+1,we=F[me];if(0>i(oe,ee))me<ve&&0>i(we,oe)?(F[ue]=we,F[me]=ee,ue=me):(F[ue]=oe,F[W]=ee,ue=W);else if(me<ve&&0>i(we,ee))F[ue]=we,F[me]=ee,ue=me;else break e}}return Y}function i(F,Y){var ee=F.sortIndex-Y.sortIndex;return ee!==0?ee:F.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],h=[],p=1,m=null,v=3,_=!1,T=!1,S=!1,w=!1,O=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function V(F){for(var Y=n(h);Y!==null;){if(Y.callback===null)r(h);else if(Y.startTime<=F)r(h),Y.sortIndex=Y.expirationTime,e(f,Y);else break;Y=n(h)}}function I(F){if(S=!1,V(F),!T)if(n(f)!==null)T=!0,j||(j=!0,$());else{var Y=n(h);Y!==null&&J(I,Y.startTime-F)}}var j=!1,A=-1,P=5,N=-1;function B(){return w?!0:!(t.unstable_now()-N<P)}function D(){if(w=!1,j){var F=t.unstable_now();N=F;var Y=!0;try{e:{T=!1,S&&(S=!1,C(A),A=-1),_=!0;var ee=v;try{t:{for(V(F),m=n(f);m!==null&&!(m.expirationTime>F&&B());){var ue=m.callback;if(typeof ue=="function"){m.callback=null,v=m.priorityLevel;var ve=ue(m.expirationTime<=F);if(F=t.unstable_now(),typeof ve=="function"){m.callback=ve,V(F),Y=!0;break t}m===n(f)&&r(f),V(F)}else r(f);m=n(f)}if(m!==null)Y=!0;else{var H=n(h);H!==null&&J(I,H.startTime-F),Y=!1}}break e}finally{m=null,v=ee,_=!1}Y=void 0}}finally{Y?$():j=!1}}}var $;if(typeof R=="function")$=function(){R(D)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,Q=L.port2;L.port1.onmessage=D,$=function(){Q.postMessage(null)}}else $=function(){O(D,0)};function J(F,Y){A=O(function(){F(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(F){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var ee=v;v=Y;try{return F()}finally{v=ee}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(F,Y){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ee=v;v=F;try{return Y()}finally{v=ee}},t.unstable_scheduleCallback=function(F,Y,ee){var ue=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ue+ee:ue):ee=ue,F){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=ee+ve,F={id:p++,callback:Y,priorityLevel:F,startTime:ee,expirationTime:ve,sortIndex:-1},ee>ue?(F.sortIndex=ee,e(h,F),n(f)===null&&F===n(h)&&(S?(C(A),A=-1):S=!0,J(I,ee-ue))):(F.sortIndex=ve,e(f,F),T||_||(T=!0,j||(j=!0,$()))),F},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(F){var Y=v;return function(){var ee=v;v=Y;try{return F.apply(this,arguments)}finally{v=ee}}}})(hb)),hb}var rI;function eB(){return rI||(rI=1,fb.exports=ZU()),fb.exports}var db={exports:{}},ut={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iI;function tB(){if(iI)return ut;iI=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),v=Symbol.iterator;function _(H){return H===null||typeof H!="object"?null:(H=v&&H[v]||H["@@iterator"],typeof H=="function"?H:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function O(H,W,oe){this.props=H,this.context=W,this.refs=w,this.updater=oe||T}O.prototype.isReactComponent={},O.prototype.setState=function(H,W){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,W,"setState")},O.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function C(){}C.prototype=O.prototype;function R(H,W,oe){this.props=H,this.context=W,this.refs=w,this.updater=oe||T}var V=R.prototype=new C;V.constructor=R,S(V,O.prototype),V.isPureReactComponent=!0;var I=Array.isArray;function j(){}var A={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function N(H,W,oe){var me=oe.ref;return{$$typeof:t,type:H,key:W,ref:me!==void 0?me:null,props:oe}}function B(H,W){return N(H.type,W,H.props)}function D(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function $(H){var W={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(oe){return W[oe]})}var L=/\/+/g;function Q(H,W){return typeof H=="object"&&H!==null&&H.key!=null?$(""+H.key):W.toString(36)}function J(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(j,j):(H.status="pending",H.then(function(W){H.status==="pending"&&(H.status="fulfilled",H.value=W)},function(W){H.status==="pending"&&(H.status="rejected",H.reason=W)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function F(H,W,oe,me,we){var Se=typeof H;(Se==="undefined"||Se==="boolean")&&(H=null);var Ne=!1;if(H===null)Ne=!0;else switch(Se){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(H.$$typeof){case t:case e:Ne=!0;break;case p:return Ne=H._init,F(Ne(H._payload),W,oe,me,we)}}if(Ne)return we=we(H),Ne=me===""?"."+Q(H,0):me,I(we)?(oe="",Ne!=null&&(oe=Ne.replace(L,"$&/")+"/"),F(we,W,oe,"",function(Te){return Te})):we!=null&&(D(we)&&(we=B(we,oe+(we.key==null||H&&H.key===we.key?"":(""+we.key).replace(L,"$&/")+"/")+Ne)),W.push(we)),1;Ne=0;var $e=me===""?".":me+":";if(I(H))for(var ye=0;ye<H.length;ye++)me=H[ye],Se=$e+Q(me,ye),Ne+=F(me,W,oe,Se,we);else if(ye=_(H),typeof ye=="function")for(H=ye.call(H),ye=0;!(me=H.next()).done;)me=me.value,Se=$e+Q(me,ye++),Ne+=F(me,W,oe,Se,we);else if(Se==="object"){if(typeof H.then=="function")return F(J(H),W,oe,me,we);throw W=String(H),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function Y(H,W,oe){if(H==null)return H;var me=[],we=0;return F(H,me,"","",function(Se){return W.call(oe,Se,we++)}),me}function ee(H){if(H._status===-1){var W=H._result;W=W(),W.then(function(oe){(H._status===0||H._status===-1)&&(H._status=1,H._result=oe)},function(oe){(H._status===0||H._status===-1)&&(H._status=2,H._result=oe)}),H._status===-1&&(H._status=0,H._result=W)}if(H._status===1)return H._result.default;throw H._result}var ue=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},ve={map:Y,forEach:function(H,W,oe){Y(H,function(){W.apply(this,arguments)},oe)},count:function(H){var W=0;return Y(H,function(){W++}),W},toArray:function(H){return Y(H,function(W){return W})||[]},only:function(H){if(!D(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return ut.Activity=m,ut.Children=ve,ut.Component=O,ut.Fragment=n,ut.Profiler=i,ut.PureComponent=R,ut.StrictMode=r,ut.Suspense=f,ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,ut.__COMPILER_RUNTIME={__proto__:null,c:function(H){return A.H.useMemoCache(H)}},ut.cache=function(H){return function(){return H.apply(null,arguments)}},ut.cacheSignal=function(){return null},ut.cloneElement=function(H,W,oe){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var me=S({},H.props),we=H.key;if(W!=null)for(Se in W.key!==void 0&&(we=""+W.key),W)!P.call(W,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&W.ref===void 0||(me[Se]=W[Se]);var Se=arguments.length-2;if(Se===1)me.children=oe;else if(1<Se){for(var Ne=Array(Se),$e=0;$e<Se;$e++)Ne[$e]=arguments[$e+2];me.children=Ne}return N(H.type,we,me)},ut.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:s,_context:H},H},ut.createElement=function(H,W,oe){var me,we={},Se=null;if(W!=null)for(me in W.key!==void 0&&(Se=""+W.key),W)P.call(W,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(we[me]=W[me]);var Ne=arguments.length-2;if(Ne===1)we.children=oe;else if(1<Ne){for(var $e=Array(Ne),ye=0;ye<Ne;ye++)$e[ye]=arguments[ye+2];we.children=$e}if(H&&H.defaultProps)for(me in Ne=H.defaultProps,Ne)we[me]===void 0&&(we[me]=Ne[me]);return N(H,Se,we)},ut.createRef=function(){return{current:null}},ut.forwardRef=function(H){return{$$typeof:c,render:H}},ut.isValidElement=D,ut.lazy=function(H){return{$$typeof:p,_payload:{_status:-1,_result:H},_init:ee}},ut.memo=function(H,W){return{$$typeof:h,type:H,compare:W===void 0?null:W}},ut.startTransition=function(H){var W=A.T,oe={};A.T=oe;try{var me=H(),we=A.S;we!==null&&we(oe,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(j,ue)}catch(Se){ue(Se)}finally{W!==null&&oe.types!==null&&(W.types=oe.types),A.T=W}},ut.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},ut.use=function(H){return A.H.use(H)},ut.useActionState=function(H,W,oe){return A.H.useActionState(H,W,oe)},ut.useCallback=function(H,W){return A.H.useCallback(H,W)},ut.useContext=function(H){return A.H.useContext(H)},ut.useDebugValue=function(){},ut.useDeferredValue=function(H,W){return A.H.useDeferredValue(H,W)},ut.useEffect=function(H,W){return A.H.useEffect(H,W)},ut.useEffectEvent=function(H){return A.H.useEffectEvent(H)},ut.useId=function(){return A.H.useId()},ut.useImperativeHandle=function(H,W,oe){return A.H.useImperativeHandle(H,W,oe)},ut.useInsertionEffect=function(H,W){return A.H.useInsertionEffect(H,W)},ut.useLayoutEffect=function(H,W){return A.H.useLayoutEffect(H,W)},ut.useMemo=function(H,W){return A.H.useMemo(H,W)},ut.useOptimistic=function(H,W){return A.H.useOptimistic(H,W)},ut.useReducer=function(H,W,oe){return A.H.useReducer(H,W,oe)},ut.useRef=function(H){return A.H.useRef(H)},ut.useState=function(H){return A.H.useState(H)},ut.useSyncExternalStore=function(H,W,oe){return A.H.useSyncExternalStore(H,W,oe)},ut.useTransition=function(){return A.H.useTransition()},ut.version="19.2.0",ut}var aI;function MT(){return aI||(aI=1,db.exports=tB()),db.exports}var pb={exports:{}},wr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sI;function nB(){if(sI)return wr;sI=1;var t=MT();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(f,h,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:f,containerInfo:h,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return wr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,wr.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(f,h,null,p)},wr.flushSync=function(f){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=h,r.p=p,r.d.f()}},wr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},wr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},wr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,m=c(p,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:_}):p==="script"&&r.d.X(f,{crossOrigin:m,integrity:v,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},wr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=c(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},wr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,m=c(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},wr.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=c(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},wr.requestFormReset=function(f){r.d.r(f)},wr.unstable_batchedUpdates=function(f,h){return f(h)},wr.useFormState=function(f,h,p){return l.H.useFormState(f,h,p)},wr.useFormStatus=function(){return l.H.useHostTransitionStatus()},wr.version="19.2.0",wr}var oI;function lL(){if(oI)return pb.exports;oI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),pb.exports=nB(),pb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lI;function rB(){if(lI)return Jf;lI=1;var t=eB(),e=MT(),n=lL();function r(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(a.tag===31){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function f(a){if(s(a)!==a)throw Error(r(188))}function h(a){var o=a.alternate;if(!o){if(o=s(a),o===null)throw Error(r(188));return o!==a?null:a}for(var u=a,d=o;;){var y=u.return;if(y===null)break;var b=y.alternate;if(b===null){if(d=y.return,d!==null){u=d;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===u)return f(y),a;if(b===d)return f(y),o;b=b.sibling}throw Error(r(188))}if(u.return!==d.return)u=y,d=b;else{for(var k=!1,q=y.child;q;){if(q===u){k=!0,u=y,d=b;break}if(q===d){k=!0,d=y,u=b;break}q=q.sibling}if(!k){for(q=b.child;q;){if(q===u){k=!0,u=b,d=y;break}if(q===d){k=!0,d=b,u=y;break}q=q.sibling}if(!k)throw Error(r(189))}}if(u.alternate!==d)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:o}function p(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=p(a),o!==null)return o;a=a.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),R=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function $(a){return a===null||typeof a!="object"?null:(a=D&&a[D]||a["@@iterator"],typeof a=="function"?a:null)}var L=Symbol.for("react.client.reference");function Q(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===L?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case S:return"Fragment";case O:return"Profiler";case w:return"StrictMode";case I:return"Suspense";case j:return"SuspenseList";case N:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case T:return"Portal";case R:return a.displayName||"Context";case C:return(a._context.displayName||"Context")+".Consumer";case V:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case A:return o=a.displayName||null,o!==null?o:Q(a.type)||"Memo";case P:o=a._payload,a=a._init;try{return Q(a(o))}catch{}}return null}var J=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ue=[],ve=-1;function H(a){return{current:a}}function W(a){0>ve||(a.current=ue[ve],ue[ve]=null,ve--)}function oe(a,o){ve++,ue[ve]=a.current,a.current=o}var me=H(null),we=H(null),Se=H(null),Ne=H(null);function $e(a,o){switch(oe(Se,o),oe(we,a),oe(me,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?SC(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=SC(o),a=TC(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}W(me),oe(me,a)}function ye(){W(me),W(we),W(Se)}function Te(a){a.memoizedState!==null&&oe(Ne,a);var o=me.current,u=TC(o,a.type);o!==u&&(oe(we,a),oe(me,u))}function Re(a){we.current===a&&(W(me),W(we)),Ne.current===a&&(W(Ne),Kf._currentValue=ee)}var ne,He;function xe(a){if(ne===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);ne=o&&o[1]||"",He=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ne+a+He}var Ee=!1;function Be(a,o){if(!a||Ee)return"";Ee=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(ce){var se=ce}Reflect.construct(a,[],ge)}else{try{ge.call()}catch(ce){se=ce}a.call(ge.prototype)}}else{try{throw Error()}catch(ce){se=ce}(ge=a())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(ce){if(ce&&se&&typeof ce.stack=="string")return[ce.stack,se.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),k=b[0],q=b[1];if(k&&q){var K=k.split(`
`),ae=q.split(`
`);for(y=d=0;d<K.length&&!K[d].includes("DetermineComponentFrameRoot");)d++;for(;y<ae.length&&!ae[y].includes("DetermineComponentFrameRoot");)y++;if(d===K.length||y===ae.length)for(d=K.length-1,y=ae.length-1;1<=d&&0<=y&&K[d]!==ae[y];)y--;for(;1<=d&&0<=y;d--,y--)if(K[d]!==ae[y]){if(d!==1||y!==1)do if(d--,y--,0>y||K[d]!==ae[y]){var fe=`
`+K[d].replace(" at new "," at ");return a.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",a.displayName)),fe}while(1<=d&&0<=y);break}}}finally{Ee=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?xe(u):""}function We(a,o){switch(a.tag){case 26:case 27:case 5:return xe(a.type);case 16:return xe("Lazy");case 13:return a.child!==o&&o!==null?xe("Suspense Fallback"):xe("Suspense");case 19:return xe("SuspenseList");case 0:case 15:return Be(a.type,!1);case 11:return Be(a.type.render,!1);case 1:return Be(a.type,!0);case 31:return xe("Activity");default:return""}}function st(a){try{var o="",u=null;do o+=We(a,u),u=a,a=a.return;while(a);return o}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Ye=Object.prototype.hasOwnProperty,qe=t.unstable_scheduleCallback,_t=t.unstable_cancelCallback,Dt=t.unstable_shouldYield,En=t.unstable_requestPaint,Ie=t.unstable_now,ht=t.unstable_getCurrentPriorityLevel,xt=t.unstable_ImmediatePriority,Vt=t.unstable_UserBlockingPriority,Zt=t.unstable_NormalPriority,en=t.unstable_LowPriority,xn=t.unstable_IdlePriority,Pt=t.log,he=t.unstable_setDisableYieldValue,Ae=null,Ge=null;function kt(a){if(typeof Pt=="function"&&he(a),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(Ae,a)}catch{}}var ot=Math.clz32?Math.clz32:dt,Kt=Math.log,Rt=Math.LN2;function dt(a){return a>>>=0,a===0?32:31-(Kt(a)/Rt|0)|0}var $t=256,Ue=262144,Oe=4194304;function je(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function pt(a,o,u){var d=a.pendingLanes;if(d===0)return 0;var y=0,b=a.suspendedLanes,k=a.pingedLanes;a=a.warmLanes;var q=d&134217727;return q!==0?(d=q&~b,d!==0?y=je(d):(k&=q,k!==0?y=je(k):u||(u=q&~a,u!==0&&(y=je(u))))):(q=d&~b,q!==0?y=je(q):k!==0?y=je(k):u||(u=d&~a,u!==0&&(y=je(u)))),y===0?0:o!==0&&o!==y&&(o&b)===0&&(b=y&-y,u=o&-o,b>=u||b===32&&(u&4194048)!==0)?o:y}function jt(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function or(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vr(){var a=Oe;return Oe<<=1,(Oe&62914560)===0&&(Oe=4194304),a}function Dn(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function Xr(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function sf(a,o,u,d,y,b){var k=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var q=a.entanglements,K=a.expirationTimes,ae=a.hiddenUpdates;for(u=k&~u;0<u;){var fe=31-ot(u),ge=1<<fe;q[fe]=0,K[fe]=-1;var se=ae[fe];if(se!==null)for(ae[fe]=null,fe=0;fe<se.length;fe++){var ce=se[fe];ce!==null&&(ce.lane&=-536870913)}u&=~ge}d!==0&&Ma(a,d,0),b!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=b&~(k&~o))}function Ma(a,o,u){a.pendingLanes|=o,a.suspendedLanes&=~o;var d=31-ot(o);a.entangledLanes|=o,a.entanglements[d]=a.entanglements[d]|1073741824|u&261930}function No(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var d=31-ot(u),y=1<<d;y&o|a[d]&o&&(a[d]|=o),u&=~y}}function jo(a,o){var u=o&-o;return u=(u&42)!==0?1:Da(u),(u&(a.suspendedLanes|o))!==0?0:u}function Da(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Li(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Xl(){var a=Y.p;return a!==0?a:(a=window.event,a===void 0?32:KC(a.type))}function Qr(a,o){var u=Y.p;try{return Y.p=a,o()}finally{Y.p=u}}var Jr=Math.random().toString(36).slice(2),Pn="__reactFiber$"+Jr,kn="__reactProps$"+Jr,$r="__reactContainer$"+Jr,Vi="__reactEvents$"+Jr,As="__reactListeners$"+Jr,Ql="__reactHandles$"+Jr,Jl="__reactResources$"+Jr,mi="__reactMarker$"+Jr;function $i(a){delete a[Pn],delete a[kn],delete a[Vi],delete a[As],delete a[Ql]}function br(a){var o=a[Pn];if(o)return o;for(var u=a.parentNode;u;){if(o=u[$r]||u[Pn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=kC(a);a!==null;){if(u=a[Pn])return u;a=kC(a)}return o}a=u,u=a.parentNode}return null}function xr(a){if(a=a[Pn]||a[$r]){var o=a.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return a}return null}function Pr(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(r(33))}function gi(a){var o=a[Jl];return o||(o=a[Jl]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function _n(a){a[mi]=!0}var Mo=new Set,La={};function Zr(a,o){yi(a,o),yi(a+"Capture",o)}function yi(a,o){for(La[a]=o,a=0;a<o.length;a++)Mo.add(o[a])}var Do=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lo={},Vo={};function Zl(a){return Ye.call(Vo,a)?!0:Ye.call(Lo,a)?!1:Do.test(a)?Vo[a]=!0:(Lo[a]=!0,!1)}function Os(a,o,u){if(Zl(o))if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+u)}}function kr(a,o,u){if(u===null)a.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+u)}}function An(a,o,u,d){if(d===null)a.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(o,u,""+d)}}function Ln(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function aa(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function $o(a,o,u){var d=Object.getOwnPropertyDescriptor(a.constructor.prototype,o);if(!a.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,b=d.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return y.call(this)},set:function(k){u=""+k,b.call(this,k)}}),Object.defineProperty(a,o,{enumerable:d.enumerable}),{getValue:function(){return u},setValue:function(k){u=""+k},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function ie(a){if(!a._valueTracker){var o=aa(a)?"checked":"value";a._valueTracker=$o(a,o,""+a[o])}}function ke(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),d="";return a&&(d=aa(a)?a.checked?"true":"false":a.value),a=d,a!==u?(o.setValue(a),!0):!1}function Me(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Qe=/[\n"\\]/g;function lt(a){return a.replace(Qe,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function mt(a,o,u,d,y,b,k,q){a.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.type=k:a.removeAttribute("type"),o!=null?k==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Ln(o)):a.value!==""+Ln(o)&&(a.value=""+Ln(o)):k!=="submit"&&k!=="reset"||a.removeAttribute("value"),o!=null?_r(a,k,Ln(o)):u!=null?_r(a,k,Ln(u)):d!=null&&a.removeAttribute("value"),y==null&&b!=null&&(a.defaultChecked=!!b),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?a.name=""+Ln(q):a.removeAttribute("name")}function Lt(a,o,u,d,y,b,k,q){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),o!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||o!=null)){ie(a);return}u=u!=null?""+Ln(u):"",o=o!=null?""+Ln(o):u,q||o===a.value||(a.value=o),a.defaultValue=o}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=q?a.checked:!!d,a.defaultChecked=!!d,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(a.name=k),ie(a)}function _r(a,o,u){o==="number"&&Me(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function sa(a,o,u,d){if(a=a.options,o){o={};for(var y=0;y<u.length;y++)o["$"+u[y]]=!0;for(u=0;u<a.length;u++)y=o.hasOwnProperty("$"+a[u].value),a[u].selected!==y&&(a[u].selected=y),y&&d&&(a[u].defaultSelected=!0)}else{for(u=""+Ln(u),o=null,y=0;y<a.length;y++){if(a[y].value===u){a[y].selected=!0,d&&(a[y].defaultSelected=!0);return}o!==null||a[y].disabled||(o=a[y])}o!==null&&(o.selected=!0)}}function eu(a,o,u){if(o!=null&&(o=""+Ln(o),o!==a.value&&(a.value=o),u==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=u!=null?""+Ln(u):""}function oa(a,o,u,d){if(o==null){if(d!=null){if(u!=null)throw Error(r(92));if(J(d)){if(1<d.length)throw Error(r(93));d=d[0]}u=d}u==null&&(u=""),o=u}u=Ln(o),a.defaultValue=u,d=a.textContent,d===u&&d!==""&&d!==null&&(a.value=d),ie(a)}function lr(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=o;return}}a.textContent=o}var Hd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function of(a,o,u){var d=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":d?a.setProperty(o,u):typeof u!="number"||u===0||Hd.has(o)?o==="float"?a.cssFloat=u:a[o]=(""+u).trim():a[o]=u+"px"}function lf(a,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(a=a.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var y in o)d=o[y],o.hasOwnProperty(y)&&u[y]!==d&&of(a,y,d)}else for(var b in o)o.hasOwnProperty(b)&&of(a,b,o[b])}function tu(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function nu(a){return Cs.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Ui(){}var uf=null;function vi(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Is=null,la=null;function Uo(a){var o=xr(a);if(o&&(a=o.stateNode)){var u=a[kn]||null;e:switch(a=o.stateNode,o.type){case"input":if(mt(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+lt(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var d=u[o];if(d!==a&&d.form===a.form){var y=d[kn]||null;if(!y)throw Error(r(90));mt(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(o=0;o<u.length;o++)d=u[o],d.form===a.form&&ke(d)}break e;case"textarea":eu(a,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&sa(a,!!u.multiple,o,!1)}}}var ru=!1;function Ps(a,o,u){if(ru)return a(o,u);ru=!0;try{var d=a(o);return d}finally{if(ru=!1,(Is!==null||la!==null)&&($p(),Is&&(o=Is,a=la,la=Is=null,Uo(o),a)))for(o=0;o<a.length;o++)Uo(a[o])}}function Bi(a,o){var u=a.stateNode;if(u===null)return null;var d=u[kn]||null;if(d===null)return null;u=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bo=!1;if(bi)try{var tn={};Object.defineProperty(tn,"passive",{get:function(){Bo=!0}}),window.addEventListener("test",tn,tn),window.removeEventListener("test",tn,tn)}catch{Bo=!1}var ua=null,cf=null,qo=null;function ff(){if(qo)return qo;var a,o=cf,u=o.length,d,y="value"in ua?ua.value:ua.textContent,b=y.length;for(a=0;a<u&&o[a]===y[a];a++);var k=u-a;for(d=1;d<=k&&o[u-d]===y[b-d];d++);return qo=y.slice(a,1<d?1-d:void 0)}function zo(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Va(){return!0}function qi(){return!1}function ur(a){function o(u,d,y,b,k){this._reactName=u,this._targetInst=y,this.type=d,this.nativeEvent=b,this.target=k,this.currentTarget=null;for(var q in a)a.hasOwnProperty(q)&&(u=a[q],this[q]=u?u(b):b[q]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Va:qi,this.isPropagationStopped=qi,this}return m(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Va)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Va)},persist:function(){},isPersistent:Va}),o}var $a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ca=ur($a),ks=m({},$a,{view:0,detail:0}),hf=ur(ks),Rs,iu,fa,au=m({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==fa&&(fa&&a.type==="mousemove"?(Rs=a.screenX-fa.screenX,iu=a.screenY-fa.screenY):iu=Rs=0,fa=a),Rs)},movementY:function(a){return"movementY"in a?a.movementY:iu}}),df=ur(au),Fo=m({},au,{dataTransfer:0}),Kd=ur(Fo),Wd=m({},ks,{relatedTarget:0}),Ho=ur(Wd),pf=m({},$a,{animationName:0,elapsedTime:0,pseudoElement:0}),Yd=ur(pf),su=m({},$a,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Xd=ur(su),Qd=m({},$a,{data:0}),ha=ur(Qd),Jd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ep={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tp(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=ep[a])?!!o[a]:!1}function Ns(){return tp}var Rr=m({},ks,{key:function(a){if(a.key){var o=Jd[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=zo(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Zd[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(a){return a.type==="keypress"?zo(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?zo(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),np=ur(Rr),rp=m({},au,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ua=ur(rp),g=m({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),E=ur(g),M=m({},$a,{propertyName:0,elapsedTime:0,pseudoElement:0}),z=ur(M),te=m({},au,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),le=ur(te),Pe=m({},$a,{newState:0,oldState:0}),gt=ur(Pe),Rn=[9,13,27,32],Ft=bi&&"CompositionEvent"in window,gn=null;bi&&"documentMode"in document&&(gn=document.documentMode);var xi=bi&&"TextEvent"in window&&!gn,da=bi&&(!Ft||gn&&8<gn&&11>=gn),zi=" ",Fi=!1;function Go(a,o){switch(a){case"keyup":return Rn.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ou(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var lu=!1;function x$(a,o){switch(a){case"compositionend":return ou(o);case"keypress":return o.which!==32?null:(Fi=!0,zi);case"textInput":return a=o.data,a===zi&&Fi?null:a;default:return null}}function _$(a,o){if(lu)return a==="compositionend"||!Ft&&Go(a,o)?(a=ff(),qo=cf=ua=null,lu=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return da&&o.locale!=="ko"?null:o.data;default:return null}}var w$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jA(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!w$[a.type]:o==="textarea"}function MA(a,o,u,d){Is?la?la.push(d):la=[d]:Is=d,o=Gp(o,"onChange"),0<o.length&&(u=new ca("onChange","change",null,u,d),a.push({event:u,listeners:o}))}var mf=null,gf=null;function S$(a){yC(a,0)}function ip(a){var o=Pr(a);if(ke(o))return a}function DA(a,o){if(a==="change")return o}var LA=!1;if(bi){var gv;if(bi){var yv="oninput"in document;if(!yv){var VA=document.createElement("div");VA.setAttribute("oninput","return;"),yv=typeof VA.oninput=="function"}gv=yv}else gv=!1;LA=gv&&(!document.documentMode||9<document.documentMode)}function $A(){mf&&(mf.detachEvent("onpropertychange",UA),gf=mf=null)}function UA(a){if(a.propertyName==="value"&&ip(gf)){var o=[];MA(o,gf,a,vi(a)),Ps(S$,o)}}function T$(a,o,u){a==="focusin"?($A(),mf=o,gf=u,mf.attachEvent("onpropertychange",UA)):a==="focusout"&&$A()}function E$(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return ip(gf)}function A$(a,o){if(a==="click")return ip(o)}function O$(a,o){if(a==="input"||a==="change")return ip(o)}function C$(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var ei=typeof Object.is=="function"?Object.is:C$;function yf(a,o){if(ei(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),d=Object.keys(o);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var y=u[d];if(!Ye.call(o,y)||!ei(a[y],o[y]))return!1}return!0}function BA(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function qA(a,o){var u=BA(a);a=0;for(var d;u;){if(u.nodeType===3){if(d=a+u.textContent.length,a<=o&&d>=o)return{node:u,offset:o-a};a=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=BA(u)}}function zA(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?zA(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function FA(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=Me(a.document);o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)a=o.contentWindow;else break;o=Me(a.document)}return o}function vv(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var I$=bi&&"documentMode"in document&&11>=document.documentMode,uu=null,bv=null,vf=null,xv=!1;function HA(a,o,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;xv||uu==null||uu!==Me(d)||(d=uu,"selectionStart"in d&&vv(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),vf&&yf(vf,d)||(vf=d,d=Gp(bv,"onSelect"),0<d.length&&(o=new ca("onSelect","select",null,o,u),a.push({event:o,listeners:d}),o.target=uu)))}function Ko(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var cu={animationend:Ko("Animation","AnimationEnd"),animationiteration:Ko("Animation","AnimationIteration"),animationstart:Ko("Animation","AnimationStart"),transitionrun:Ko("Transition","TransitionRun"),transitionstart:Ko("Transition","TransitionStart"),transitioncancel:Ko("Transition","TransitionCancel"),transitionend:Ko("Transition","TransitionEnd")},_v={},GA={};bi&&(GA=document.createElement("div").style,"AnimationEvent"in window||(delete cu.animationend.animation,delete cu.animationiteration.animation,delete cu.animationstart.animation),"TransitionEvent"in window||delete cu.transitionend.transition);function Wo(a){if(_v[a])return _v[a];if(!cu[a])return a;var o=cu[a],u;for(u in o)if(o.hasOwnProperty(u)&&u in GA)return _v[a]=o[u];return a}var KA=Wo("animationend"),WA=Wo("animationiteration"),YA=Wo("animationstart"),P$=Wo("transitionrun"),k$=Wo("transitionstart"),R$=Wo("transitioncancel"),XA=Wo("transitionend"),QA=new Map,wv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wv.push("scrollEnd");function Hi(a,o){QA.set(a,o),Zr(o,[a])}var ap=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},_i=[],fu=0,Sv=0;function sp(){for(var a=fu,o=Sv=fu=0;o<a;){var u=_i[o];_i[o++]=null;var d=_i[o];_i[o++]=null;var y=_i[o];_i[o++]=null;var b=_i[o];if(_i[o++]=null,d!==null&&y!==null){var k=d.pending;k===null?y.next=y:(y.next=k.next,k.next=y),d.pending=y}b!==0&&JA(u,y,b)}}function op(a,o,u,d){_i[fu++]=a,_i[fu++]=o,_i[fu++]=u,_i[fu++]=d,Sv|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function Tv(a,o,u,d){return op(a,o,u,d),lp(a)}function Yo(a,o){return op(a,null,null,o),lp(a)}function JA(a,o,u){a.lanes|=u;var d=a.alternate;d!==null&&(d.lanes|=u);for(var y=!1,b=a.return;b!==null;)b.childLanes|=u,d=b.alternate,d!==null&&(d.childLanes|=u),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(y=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,y&&o!==null&&(y=31-ot(u),a=b.hiddenUpdates,d=a[y],d===null?a[y]=[o]:d.push(o),o.lane=u|536870912),b):null}function lp(a){if(50<Uf)throw Uf=0,N0=null,Error(r(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var hu={};function N$(a,o,u,d){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(a,o,u,d){return new N$(a,o,u,d)}function Ev(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ba(a,o){var u=a.alternate;return u===null?(u=ti(a.tag,o,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function ZA(a,o){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,o=u.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function up(a,o,u,d,y,b){var k=0;if(d=a,typeof a=="function")Ev(a)&&(k=1);else if(typeof a=="string")k=VU(a,u,me.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case N:return a=ti(31,u,o,y),a.elementType=N,a.lanes=b,a;case S:return Xo(u.children,y,b,o);case w:k=8,y|=24;break;case O:return a=ti(12,u,o,y|2),a.elementType=O,a.lanes=b,a;case I:return a=ti(13,u,o,y),a.elementType=I,a.lanes=b,a;case j:return a=ti(19,u,o,y),a.elementType=j,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case R:k=10;break e;case C:k=9;break e;case V:k=11;break e;case A:k=14;break e;case P:k=16,d=null;break e}k=29,u=Error(r(130,a===null?"null":typeof a,"")),d=null}return o=ti(k,u,o,y),o.elementType=a,o.type=d,o.lanes=b,o}function Xo(a,o,u,d){return a=ti(7,a,d,o),a.lanes=u,a}function Av(a,o,u){return a=ti(6,a,null,o),a.lanes=u,a}function eO(a){var o=ti(18,null,null,0);return o.stateNode=a,o}function Ov(a,o,u){return o=ti(4,a.children!==null?a.children:[],a.key,o),o.lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var tO=new WeakMap;function wi(a,o){if(typeof a=="object"&&a!==null){var u=tO.get(a);return u!==void 0?u:(o={value:a,source:o,stack:st(o)},tO.set(a,o),o)}return{value:a,source:o,stack:st(o)}}var du=[],pu=0,cp=null,bf=0,Si=[],Ti=0,js=null,pa=1,ma="";function qa(a,o){du[pu++]=bf,du[pu++]=cp,cp=a,bf=o}function nO(a,o,u){Si[Ti++]=pa,Si[Ti++]=ma,Si[Ti++]=js,js=a;var d=pa;a=ma;var y=32-ot(d)-1;d&=~(1<<y),u+=1;var b=32-ot(o)+y;if(30<b){var k=y-y%5;b=(d&(1<<k)-1).toString(32),d>>=k,y-=k,pa=1<<32-ot(o)+y|u<<y|d,ma=b+a}else pa=1<<b|u<<y|d,ma=a}function Cv(a){a.return!==null&&(qa(a,1),nO(a,1,0))}function Iv(a){for(;a===cp;)cp=du[--pu],du[pu]=null,bf=du[--pu],du[pu]=null;for(;a===js;)js=Si[--Ti],Si[Ti]=null,ma=Si[--Ti],Si[Ti]=null,pa=Si[--Ti],Si[Ti]=null}function rO(a,o){Si[Ti++]=pa,Si[Ti++]=ma,Si[Ti++]=js,pa=o.id,ma=o.overflow,js=a}var cr=null,hn=null,Nt=!1,Ms=null,Ei=!1,Pv=Error(r(519));function Ds(a){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xf(wi(o,a)),Pv}function iO(a){var o=a.stateNode,u=a.type,d=a.memoizedProps;switch(o[Pn]=a,o[kn]=d,u){case"dialog":St("cancel",o),St("close",o);break;case"iframe":case"object":case"embed":St("load",o);break;case"video":case"audio":for(u=0;u<qf.length;u++)St(qf[u],o);break;case"source":St("error",o);break;case"img":case"image":case"link":St("error",o),St("load",o);break;case"details":St("toggle",o);break;case"input":St("invalid",o),Lt(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":St("invalid",o);break;case"textarea":St("invalid",o),oa(o,d.value,d.defaultValue,d.children)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||d.suppressHydrationWarning===!0||_C(o.textContent,u)?(d.popover!=null&&(St("beforetoggle",o),St("toggle",o)),d.onScroll!=null&&St("scroll",o),d.onScrollEnd!=null&&St("scrollend",o),d.onClick!=null&&(o.onclick=Ui),o=!0):o=!1,o||Ds(a,!0)}function aO(a){for(cr=a.return;cr;)switch(cr.tag){case 5:case 31:case 13:Ei=!1;return;case 27:case 3:Ei=!0;return;default:cr=cr.return}}function mu(a){if(a!==cr)return!1;if(!Nt)return aO(a),Nt=!0,!1;var o=a.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||W0(a.type,a.memoizedProps)),u=!u),u&&hn&&Ds(a),aO(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));hn=PC(a)}else if(o===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));hn=PC(a)}else o===27?(o=hn,Xs(a.type)?(a=Z0,Z0=null,hn=a):hn=o):hn=cr?Oi(a.stateNode.nextSibling):null;return!0}function Qo(){hn=cr=null,Nt=!1}function kv(){var a=Ms;return a!==null&&(zr===null?zr=a:zr.push.apply(zr,a),Ms=null),a}function xf(a){Ms===null?Ms=[a]:Ms.push(a)}var Rv=H(null),Jo=null,za=null;function Ls(a,o,u){oe(Rv,o._currentValue),o._currentValue=u}function Fa(a){a._currentValue=Rv.current,W(Rv)}function Nv(a,o,u){for(;a!==null;){var d=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),a===u)break;a=a.return}}function jv(a,o,u,d){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var b=y.dependencies;if(b!==null){var k=y.child;b=b.firstContext;e:for(;b!==null;){var q=b;b=y;for(var K=0;K<o.length;K++)if(q.context===o[K]){b.lanes|=u,q=b.alternate,q!==null&&(q.lanes|=u),Nv(b.return,u,a),d||(k=null);break e}b=q.next}}else if(y.tag===18){if(k=y.return,k===null)throw Error(r(341));k.lanes|=u,b=k.alternate,b!==null&&(b.lanes|=u),Nv(k,u,a),k=null}else k=y.child;if(k!==null)k.return=y;else for(k=y;k!==null;){if(k===a){k=null;break}if(y=k.sibling,y!==null){y.return=k.return,k=y;break}k=k.return}y=k}}function gu(a,o,u,d){a=null;for(var y=o,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var k=y.alternate;if(k===null)throw Error(r(387));if(k=k.memoizedProps,k!==null){var q=y.type;ei(y.pendingProps.value,k.value)||(a!==null?a.push(q):a=[q])}}else if(y===Ne.current){if(k=y.alternate,k===null)throw Error(r(387));k.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(Kf):a=[Kf])}y=y.return}a!==null&&jv(o,a,u,d),o.flags|=262144}function fp(a){for(a=a.firstContext;a!==null;){if(!ei(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Zo(a){Jo=a,za=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function fr(a){return sO(Jo,a)}function hp(a,o){return Jo===null&&Zo(a),sO(a,o)}function sO(a,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},za===null){if(a===null)throw Error(r(308));za=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else za=za.next=o;return u}var j$=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(u,d){a.push(d)}};this.abort=function(){o.aborted=!0,a.forEach(function(u){return u()})}},M$=t.unstable_scheduleCallback,D$=t.unstable_NormalPriority,Vn={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mv(){return{controller:new j$,data:new Map,refCount:0}}function _f(a){a.refCount--,a.refCount===0&&M$(D$,function(){a.controller.abort()})}var wf=null,Dv=0,yu=0,vu=null;function L$(a,o){if(wf===null){var u=wf=[];Dv=0,yu=$0(),vu={status:"pending",value:void 0,then:function(d){u.push(d)}}}return Dv++,o.then(oO,oO),o}function oO(){if(--Dv===0&&wf!==null){vu!==null&&(vu.status="fulfilled");var a=wf;wf=null,yu=0,vu=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function V$(a,o){var u=[],d={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return a.then(function(){d.status="fulfilled",d.value=o;for(var y=0;y<u.length;y++)(0,u[y])(o)},function(y){for(d.status="rejected",d.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),d}var lO=F.S;F.S=function(a,o){H2=Ie(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&L$(a,o),lO!==null&&lO(a,o)};var el=H(null);function Lv(){var a=el.current;return a!==null?a:on.pooledCache}function dp(a,o){o===null?oe(el,el.current):oe(el,o.pool)}function uO(){var a=Lv();return a===null?null:{parent:Vn._currentValue,pool:a}}var bu=Error(r(460)),Vv=Error(r(474)),pp=Error(r(542)),mp={then:function(){}};function cO(a){return a=a.status,a==="fulfilled"||a==="rejected"}function fO(a,o,u){switch(u=a[u],u===void 0?a.push(o):u!==o&&(o.then(Ui,Ui),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,dO(a),a;default:if(typeof o.status=="string")o.then(Ui,Ui);else{if(a=on,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=o,a.status="pending",a.then(function(d){if(o.status==="pending"){var y=o;y.status="fulfilled",y.value=d}},function(d){if(o.status==="pending"){var y=o;y.status="rejected",y.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,dO(a),a}throw nl=o,bu}}function tl(a){try{var o=a._init;return o(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(nl=u,bu):u}}var nl=null;function hO(){if(nl===null)throw Error(r(459));var a=nl;return nl=null,a}function dO(a){if(a===bu||a===pp)throw Error(r(483))}var xu=null,Sf=0;function gp(a){var o=Sf;return Sf+=1,xu===null&&(xu=[]),fO(xu,a,o)}function Tf(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function yp(a,o){throw o.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(o),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function pO(a){function o(Z,X){if(a){var re=Z.deletions;re===null?(Z.deletions=[X],Z.flags|=16):re.push(X)}}function u(Z,X){if(!a)return null;for(;X!==null;)o(Z,X),X=X.sibling;return null}function d(Z){for(var X=new Map;Z!==null;)Z.key!==null?X.set(Z.key,Z):X.set(Z.index,Z),Z=Z.sibling;return X}function y(Z,X){return Z=Ba(Z,X),Z.index=0,Z.sibling=null,Z}function b(Z,X,re){return Z.index=re,a?(re=Z.alternate,re!==null?(re=re.index,re<X?(Z.flags|=67108866,X):re):(Z.flags|=67108866,X)):(Z.flags|=1048576,X)}function k(Z){return a&&Z.alternate===null&&(Z.flags|=67108866),Z}function q(Z,X,re,pe){return X===null||X.tag!==6?(X=Av(re,Z.mode,pe),X.return=Z,X):(X=y(X,re),X.return=Z,X)}function K(Z,X,re,pe){var Xe=re.type;return Xe===S?fe(Z,X,re.props.children,pe,re.key):X!==null&&(X.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===P&&tl(Xe)===X.type)?(X=y(X,re.props),Tf(X,re),X.return=Z,X):(X=up(re.type,re.key,re.props,null,Z.mode,pe),Tf(X,re),X.return=Z,X)}function ae(Z,X,re,pe){return X===null||X.tag!==4||X.stateNode.containerInfo!==re.containerInfo||X.stateNode.implementation!==re.implementation?(X=Ov(re,Z.mode,pe),X.return=Z,X):(X=y(X,re.children||[]),X.return=Z,X)}function fe(Z,X,re,pe,Xe){return X===null||X.tag!==7?(X=Xo(re,Z.mode,pe,Xe),X.return=Z,X):(X=y(X,re),X.return=Z,X)}function ge(Z,X,re){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=Av(""+X,Z.mode,re),X.return=Z,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case _:return re=up(X.type,X.key,X.props,null,Z.mode,re),Tf(re,X),re.return=Z,re;case T:return X=Ov(X,Z.mode,re),X.return=Z,X;case P:return X=tl(X),ge(Z,X,re)}if(J(X)||$(X))return X=Xo(X,Z.mode,re,null),X.return=Z,X;if(typeof X.then=="function")return ge(Z,gp(X),re);if(X.$$typeof===R)return ge(Z,hp(Z,X),re);yp(Z,X)}return null}function se(Z,X,re,pe){var Xe=X!==null?X.key:null;if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return Xe!==null?null:q(Z,X,""+re,pe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case _:return re.key===Xe?K(Z,X,re,pe):null;case T:return re.key===Xe?ae(Z,X,re,pe):null;case P:return re=tl(re),se(Z,X,re,pe)}if(J(re)||$(re))return Xe!==null?null:fe(Z,X,re,pe,null);if(typeof re.then=="function")return se(Z,X,gp(re),pe);if(re.$$typeof===R)return se(Z,X,hp(Z,re),pe);yp(Z,re)}return null}function ce(Z,X,re,pe,Xe){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return Z=Z.get(re)||null,q(X,Z,""+pe,Xe);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case _:return Z=Z.get(pe.key===null?re:pe.key)||null,K(X,Z,pe,Xe);case T:return Z=Z.get(pe.key===null?re:pe.key)||null,ae(X,Z,pe,Xe);case P:return pe=tl(pe),ce(Z,X,re,pe,Xe)}if(J(pe)||$(pe))return Z=Z.get(re)||null,fe(X,Z,pe,Xe,null);if(typeof pe.then=="function")return ce(Z,X,re,gp(pe),Xe);if(pe.$$typeof===R)return ce(Z,X,re,hp(X,pe),Xe);yp(X,pe)}return null}function Ve(Z,X,re,pe){for(var Xe=null,Ut=null,ze=X,vt=X=0,At=null;ze!==null&&vt<re.length;vt++){ze.index>vt?(At=ze,ze=null):At=ze.sibling;var Bt=se(Z,ze,re[vt],pe);if(Bt===null){ze===null&&(ze=At);break}a&&ze&&Bt.alternate===null&&o(Z,ze),X=b(Bt,X,vt),Ut===null?Xe=Bt:Ut.sibling=Bt,Ut=Bt,ze=At}if(vt===re.length)return u(Z,ze),Nt&&qa(Z,vt),Xe;if(ze===null){for(;vt<re.length;vt++)ze=ge(Z,re[vt],pe),ze!==null&&(X=b(ze,X,vt),Ut===null?Xe=ze:Ut.sibling=ze,Ut=ze);return Nt&&qa(Z,vt),Xe}for(ze=d(ze);vt<re.length;vt++)At=ce(ze,Z,vt,re[vt],pe),At!==null&&(a&&At.alternate!==null&&ze.delete(At.key===null?vt:At.key),X=b(At,X,vt),Ut===null?Xe=At:Ut.sibling=At,Ut=At);return a&&ze.forEach(function(to){return o(Z,to)}),Nt&&qa(Z,vt),Xe}function et(Z,X,re,pe){if(re==null)throw Error(r(151));for(var Xe=null,Ut=null,ze=X,vt=X=0,At=null,Bt=re.next();ze!==null&&!Bt.done;vt++,Bt=re.next()){ze.index>vt?(At=ze,ze=null):At=ze.sibling;var to=se(Z,ze,Bt.value,pe);if(to===null){ze===null&&(ze=At);break}a&&ze&&to.alternate===null&&o(Z,ze),X=b(to,X,vt),Ut===null?Xe=to:Ut.sibling=to,Ut=to,ze=At}if(Bt.done)return u(Z,ze),Nt&&qa(Z,vt),Xe;if(ze===null){for(;!Bt.done;vt++,Bt=re.next())Bt=ge(Z,Bt.value,pe),Bt!==null&&(X=b(Bt,X,vt),Ut===null?Xe=Bt:Ut.sibling=Bt,Ut=Bt);return Nt&&qa(Z,vt),Xe}for(ze=d(ze);!Bt.done;vt++,Bt=re.next())Bt=ce(ze,Z,vt,Bt.value,pe),Bt!==null&&(a&&Bt.alternate!==null&&ze.delete(Bt.key===null?vt:Bt.key),X=b(Bt,X,vt),Ut===null?Xe=Bt:Ut.sibling=Bt,Ut=Bt);return a&&ze.forEach(function(YU){return o(Z,YU)}),Nt&&qa(Z,vt),Xe}function an(Z,X,re,pe){if(typeof re=="object"&&re!==null&&re.type===S&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case _:e:{for(var Xe=re.key;X!==null;){if(X.key===Xe){if(Xe=re.type,Xe===S){if(X.tag===7){u(Z,X.sibling),pe=y(X,re.props.children),pe.return=Z,Z=pe;break e}}else if(X.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===P&&tl(Xe)===X.type){u(Z,X.sibling),pe=y(X,re.props),Tf(pe,re),pe.return=Z,Z=pe;break e}u(Z,X);break}else o(Z,X);X=X.sibling}re.type===S?(pe=Xo(re.props.children,Z.mode,pe,re.key),pe.return=Z,Z=pe):(pe=up(re.type,re.key,re.props,null,Z.mode,pe),Tf(pe,re),pe.return=Z,Z=pe)}return k(Z);case T:e:{for(Xe=re.key;X!==null;){if(X.key===Xe)if(X.tag===4&&X.stateNode.containerInfo===re.containerInfo&&X.stateNode.implementation===re.implementation){u(Z,X.sibling),pe=y(X,re.children||[]),pe.return=Z,Z=pe;break e}else{u(Z,X);break}else o(Z,X);X=X.sibling}pe=Ov(re,Z.mode,pe),pe.return=Z,Z=pe}return k(Z);case P:return re=tl(re),an(Z,X,re,pe)}if(J(re))return Ve(Z,X,re,pe);if($(re)){if(Xe=$(re),typeof Xe!="function")throw Error(r(150));return re=Xe.call(re),et(Z,X,re,pe)}if(typeof re.then=="function")return an(Z,X,gp(re),pe);if(re.$$typeof===R)return an(Z,X,hp(Z,re),pe);yp(Z,re)}return typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint"?(re=""+re,X!==null&&X.tag===6?(u(Z,X.sibling),pe=y(X,re),pe.return=Z,Z=pe):(u(Z,X),pe=Av(re,Z.mode,pe),pe.return=Z,Z=pe),k(Z)):u(Z,X)}return function(Z,X,re,pe){try{Sf=0;var Xe=an(Z,X,re,pe);return xu=null,Xe}catch(ze){if(ze===bu||ze===pp)throw ze;var Ut=ti(29,ze,null,Z.mode);return Ut.lanes=pe,Ut.return=Z,Ut}finally{}}}var rl=pO(!0),mO=pO(!1),Vs=!1;function $v(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uv(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function $s(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Us(a,o,u){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(Ht&2)!==0){var y=d.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),d.pending=o,o=lp(a),JA(a,null,u),o}return op(a,d,o,u),lp(a)}function Ef(a,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var d=o.lanes;d&=a.pendingLanes,u|=d,o.lanes=u,No(a,u)}}function Bv(a,o){var u=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var y=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var k={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?y=b=k:b=b.next=k,u=u.next}while(u!==null);b===null?y=b=o:b=b.next=o}else y=b=o;u={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}var qv=!1;function Af(){if(qv){var a=vu;if(a!==null)throw a}}function Of(a,o,u,d){qv=!1;var y=a.updateQueue;Vs=!1;var b=y.firstBaseUpdate,k=y.lastBaseUpdate,q=y.shared.pending;if(q!==null){y.shared.pending=null;var K=q,ae=K.next;K.next=null,k===null?b=ae:k.next=ae,k=K;var fe=a.alternate;fe!==null&&(fe=fe.updateQueue,q=fe.lastBaseUpdate,q!==k&&(q===null?fe.firstBaseUpdate=ae:q.next=ae,fe.lastBaseUpdate=K))}if(b!==null){var ge=y.baseState;k=0,fe=ae=K=null,q=b;do{var se=q.lane&-536870913,ce=se!==q.lane;if(ce?(Et&se)===se:(d&se)===se){se!==0&&se===yu&&(qv=!0),fe!==null&&(fe=fe.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var Ve=a,et=q;se=o;var an=u;switch(et.tag){case 1:if(Ve=et.payload,typeof Ve=="function"){ge=Ve.call(an,ge,se);break e}ge=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=et.payload,se=typeof Ve=="function"?Ve.call(an,ge,se):Ve,se==null)break e;ge=m({},ge,se);break e;case 2:Vs=!0}}se=q.callback,se!==null&&(a.flags|=64,ce&&(a.flags|=8192),ce=y.callbacks,ce===null?y.callbacks=[se]:ce.push(se))}else ce={lane:se,tag:q.tag,payload:q.payload,callback:q.callback,next:null},fe===null?(ae=fe=ce,K=ge):fe=fe.next=ce,k|=se;if(q=q.next,q===null){if(q=y.shared.pending,q===null)break;ce=q,q=ce.next,ce.next=null,y.lastBaseUpdate=ce,y.shared.pending=null}}while(!0);fe===null&&(K=ge),y.baseState=K,y.firstBaseUpdate=ae,y.lastBaseUpdate=fe,b===null&&(y.shared.lanes=0),Hs|=k,a.lanes=k,a.memoizedState=ge}}function gO(a,o){if(typeof a!="function")throw Error(r(191,a));a.call(o)}function yO(a,o){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)gO(u[a],o)}var _u=H(null),vp=H(0);function vO(a,o){a=Za,oe(vp,a),oe(_u,o),Za=a|o.baseLanes}function zv(){oe(vp,Za),oe(_u,_u.current)}function Fv(){Za=vp.current,W(_u),W(vp)}var ni=H(null),Ai=null;function Bs(a){var o=a.alternate;oe(Nn,Nn.current&1),oe(ni,a),Ai===null&&(o===null||_u.current!==null||o.memoizedState!==null)&&(Ai=a)}function Hv(a){oe(Nn,Nn.current),oe(ni,a),Ai===null&&(Ai=a)}function bO(a){a.tag===22?(oe(Nn,Nn.current),oe(ni,a),Ai===null&&(Ai=a)):qs()}function qs(){oe(Nn,Nn.current),oe(ni,ni.current)}function ri(a){W(ni),Ai===a&&(Ai=null),W(Nn)}var Nn=H(0);function bp(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||Q0(u)||J0(u)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ha=0,yt=null,nn=null,$n=null,xp=!1,wu=!1,il=!1,_p=0,Cf=0,Su=null,$$=0;function On(){throw Error(r(321))}function Gv(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!ei(a[u],o[u]))return!1;return!0}function Kv(a,o,u,d,y,b){return Ha=b,yt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,F.H=a===null||a.memoizedState===null?n2:l0,il=!1,b=u(d,y),il=!1,wu&&(b=_O(o,u,d,y)),xO(a),b}function xO(a){F.H=kf;var o=nn!==null&&nn.next!==null;if(Ha=0,$n=nn=yt=null,xp=!1,Cf=0,Su=null,o)throw Error(r(300));a===null||Un||(a=a.dependencies,a!==null&&fp(a)&&(Un=!0))}function _O(a,o,u,d){yt=a;var y=0;do{if(wu&&(Su=null),Cf=0,wu=!1,25<=y)throw Error(r(301));if(y+=1,$n=nn=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}F.H=r2,b=o(u,d)}while(wu);return b}function U$(){var a=F.H,o=a.useState()[0];return o=typeof o.then=="function"?If(o):o,a=a.useState()[0],(nn!==null?nn.memoizedState:null)!==a&&(yt.flags|=1024),o}function Wv(){var a=_p!==0;return _p=0,a}function Yv(a,o,u){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~u}function Xv(a){if(xp){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}xp=!1}Ha=0,$n=nn=yt=null,wu=!1,Cf=_p=0,Su=null}function Nr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $n===null?yt.memoizedState=$n=a:$n=$n.next=a,$n}function jn(){if(nn===null){var a=yt.alternate;a=a!==null?a.memoizedState:null}else a=nn.next;var o=$n===null?yt.memoizedState:$n.next;if(o!==null)$n=o,nn=a;else{if(a===null)throw yt.alternate===null?Error(r(467)):Error(r(310));nn=a,a={memoizedState:nn.memoizedState,baseState:nn.baseState,baseQueue:nn.baseQueue,queue:nn.queue,next:null},$n===null?yt.memoizedState=$n=a:$n=$n.next=a}return $n}function wp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function If(a){var o=Cf;return Cf+=1,Su===null&&(Su=[]),a=fO(Su,a,o),o=yt,($n===null?o.memoizedState:$n.next)===null&&(o=o.alternate,F.H=o===null||o.memoizedState===null?n2:l0),a}function Sp(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return If(a);if(a.$$typeof===R)return fr(a)}throw Error(r(438,String(a)))}function Qv(a){var o=null,u=yt.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var d=yt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(y){return y.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=wp(),yt.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(a),d=0;d<a;d++)u[d]=B;return o.index++,u}function Ga(a,o){return typeof o=="function"?o(a):o}function Tp(a){var o=jn();return Jv(o,nn,a)}function Jv(a,o,u){var d=a.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=u;var y=a.baseQueue,b=d.pending;if(b!==null){if(y!==null){var k=y.next;y.next=b.next,b.next=k}o.baseQueue=y=b,d.pending=null}if(b=a.baseState,y===null)a.memoizedState=b;else{o=y.next;var q=k=null,K=null,ae=o,fe=!1;do{var ge=ae.lane&-536870913;if(ge!==ae.lane?(Et&ge)===ge:(Ha&ge)===ge){var se=ae.revertLane;if(se===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),ge===yu&&(fe=!0);else if((Ha&se)===se){ae=ae.next,se===yu&&(fe=!0);continue}else ge={lane:0,revertLane:ae.revertLane,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},K===null?(q=K=ge,k=b):K=K.next=ge,yt.lanes|=se,Hs|=se;ge=ae.action,il&&u(b,ge),b=ae.hasEagerState?ae.eagerState:u(b,ge)}else se={lane:ge,revertLane:ae.revertLane,gesture:ae.gesture,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},K===null?(q=K=se,k=b):K=K.next=se,yt.lanes|=ge,Hs|=ge;ae=ae.next}while(ae!==null&&ae!==o);if(K===null?k=b:K.next=q,!ei(b,a.memoizedState)&&(Un=!0,fe&&(u=vu,u!==null)))throw u;a.memoizedState=b,a.baseState=k,a.baseQueue=K,d.lastRenderedState=b}return y===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function Zv(a){var o=jn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var d=u.dispatch,y=u.pending,b=o.memoizedState;if(y!==null){u.pending=null;var k=y=y.next;do b=a(b,k.action),k=k.next;while(k!==y);ei(b,o.memoizedState)||(Un=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),u.lastRenderedState=b}return[b,d]}function wO(a,o,u){var d=yt,y=jn(),b=Nt;if(b){if(u===void 0)throw Error(r(407));u=u()}else u=o();var k=!ei((nn||y).memoizedState,u);if(k&&(y.memoizedState=u,Un=!0),y=y.queue,n0(EO.bind(null,d,y,a),[a]),y.getSnapshot!==o||k||$n!==null&&$n.memoizedState.tag&1){if(d.flags|=2048,Tu(9,{destroy:void 0},TO.bind(null,d,y,u,o),null),on===null)throw Error(r(349));b||(Ha&127)!==0||SO(d,o,u)}return u}function SO(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},o=yt.updateQueue,o===null?(o=wp(),yt.updateQueue=o,o.stores=[a]):(u=o.stores,u===null?o.stores=[a]:u.push(a))}function TO(a,o,u,d){o.value=u,o.getSnapshot=d,AO(o)&&OO(a)}function EO(a,o,u){return u(function(){AO(o)&&OO(a)})}function AO(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!ei(a,u)}catch{return!0}}function OO(a){var o=Yo(a,2);o!==null&&Fr(o,a,2)}function e0(a){var o=Nr();if(typeof a=="function"){var u=a;if(a=u(),il){kt(!0);try{u()}finally{kt(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:a},o}function CO(a,o,u,d){return a.baseState=u,Jv(a,nn,typeof d=="function"?d:Ga)}function B$(a,o,u,d,y){if(Op(a))throw Error(r(485));if(a=o.action,a!==null){var b={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){b.listeners.push(k)}};F.T!==null?u(!0):b.isTransition=!1,d(b),u=o.pending,u===null?(b.next=o.pending=b,IO(o,b)):(b.next=u.next,o.pending=u.next=b)}}function IO(a,o){var u=o.action,d=o.payload,y=a.state;if(o.isTransition){var b=F.T,k={};F.T=k;try{var q=u(y,d),K=F.S;K!==null&&K(k,q),PO(a,o,q)}catch(ae){t0(a,o,ae)}finally{b!==null&&k.types!==null&&(b.types=k.types),F.T=b}}else try{b=u(y,d),PO(a,o,b)}catch(ae){t0(a,o,ae)}}function PO(a,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){kO(a,o,d)},function(d){return t0(a,o,d)}):kO(a,o,u)}function kO(a,o,u){o.status="fulfilled",o.value=u,RO(o),a.state=u,o=a.pending,o!==null&&(u=o.next,u===o?a.pending=null:(u=u.next,o.next=u,IO(a,u)))}function t0(a,o,u){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=u,RO(o),o=o.next;while(o!==d)}a.action=null}function RO(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function NO(a,o){return o}function jO(a,o){if(Nt){var u=on.formState;if(u!==null){e:{var d=yt;if(Nt){if(hn){t:{for(var y=hn,b=Ei;y.nodeType!==8;){if(!b){y=null;break t}if(y=Oi(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){hn=Oi(y.nextSibling),d=y.data==="F!";break e}}Ds(d)}d=!1}d&&(o=u[0])}}return u=Nr(),u.memoizedState=u.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:NO,lastRenderedState:o},u.queue=d,u=ZO.bind(null,yt,d),d.dispatch=u,d=e0(!1),b=o0.bind(null,yt,!1,d.queue),d=Nr(),y={state:o,dispatch:null,action:a,pending:null},d.queue=y,u=B$.bind(null,yt,y,b,u),y.dispatch=u,d.memoizedState=a,[o,u,!1]}function MO(a){var o=jn();return DO(o,nn,a)}function DO(a,o,u){if(o=Jv(a,o,NO)[0],a=Tp(Ga)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=If(o)}catch(k){throw k===bu?pp:k}else d=o;o=jn();var y=o.queue,b=y.dispatch;return u!==o.memoizedState&&(yt.flags|=2048,Tu(9,{destroy:void 0},q$.bind(null,y,u),null)),[d,b,a]}function q$(a,o){a.action=o}function LO(a){var o=jn(),u=nn;if(u!==null)return DO(o,u,a);jn(),o=o.memoizedState,u=jn();var d=u.queue.dispatch;return u.memoizedState=a,[o,d,!1]}function Tu(a,o,u,d){return a={tag:a,create:u,deps:d,inst:o,next:null},o=yt.updateQueue,o===null&&(o=wp(),yt.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=a.next=a:(d=u.next,u.next=a,a.next=d,o.lastEffect=a),a}function VO(){return jn().memoizedState}function Ep(a,o,u,d){var y=Nr();yt.flags|=a,y.memoizedState=Tu(1|o,{destroy:void 0},u,d===void 0?null:d)}function Ap(a,o,u,d){var y=jn();d=d===void 0?null:d;var b=y.memoizedState.inst;nn!==null&&d!==null&&Gv(d,nn.memoizedState.deps)?y.memoizedState=Tu(o,b,u,d):(yt.flags|=a,y.memoizedState=Tu(1|o,b,u,d))}function $O(a,o){Ep(8390656,8,a,o)}function n0(a,o){Ap(2048,8,a,o)}function z$(a){yt.flags|=4;var o=yt.updateQueue;if(o===null)o=wp(),yt.updateQueue=o,o.events=[a];else{var u=o.events;u===null?o.events=[a]:u.push(a)}}function UO(a){var o=jn().memoizedState;return z$({ref:o,nextImpl:a}),function(){if((Ht&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function BO(a,o){return Ap(4,2,a,o)}function qO(a,o){return Ap(4,4,a,o)}function zO(a,o){if(typeof o=="function"){a=a();var u=o(a);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function FO(a,o,u){u=u!=null?u.concat([a]):null,Ap(4,4,zO.bind(null,o,a),u)}function r0(){}function HO(a,o){var u=jn();o=o===void 0?null:o;var d=u.memoizedState;return o!==null&&Gv(o,d[1])?d[0]:(u.memoizedState=[a,o],a)}function GO(a,o){var u=jn();o=o===void 0?null:o;var d=u.memoizedState;if(o!==null&&Gv(o,d[1]))return d[0];if(d=a(),il){kt(!0);try{a()}finally{kt(!1)}}return u.memoizedState=[d,o],d}function i0(a,o,u){return u===void 0||(Ha&1073741824)!==0&&(Et&261930)===0?a.memoizedState=o:(a.memoizedState=u,a=K2(),yt.lanes|=a,Hs|=a,u)}function KO(a,o,u,d){return ei(u,o)?u:_u.current!==null?(a=i0(a,u,d),ei(a,o)||(Un=!0),a):(Ha&42)===0||(Ha&1073741824)!==0&&(Et&261930)===0?(Un=!0,a.memoizedState=u):(a=K2(),yt.lanes|=a,Hs|=a,o)}function WO(a,o,u,d,y){var b=Y.p;Y.p=b!==0&&8>b?b:8;var k=F.T,q={};F.T=q,o0(a,!1,o,u);try{var K=y(),ae=F.S;if(ae!==null&&ae(q,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var fe=V$(K,d);Pf(a,o,fe,si(a))}else Pf(a,o,d,si(a))}catch(ge){Pf(a,o,{then:function(){},status:"rejected",reason:ge},si())}finally{Y.p=b,k!==null&&q.types!==null&&(k.types=q.types),F.T=k}}function F$(){}function a0(a,o,u,d){if(a.tag!==5)throw Error(r(476));var y=YO(a).queue;WO(a,y,o,ee,u===null?F$:function(){return XO(a),u(d)})}function YO(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:ee},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:u},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function XO(a){var o=YO(a);o.next===null&&(o=a.alternate.memoizedState),Pf(a,o.next.queue,{},si())}function s0(){return fr(Kf)}function QO(){return jn().memoizedState}function JO(){return jn().memoizedState}function H$(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var u=si();a=$s(u);var d=Us(o,a,u);d!==null&&(Fr(d,o,u),Ef(d,o,u)),o={cache:Mv()},a.payload=o;return}o=o.return}}function G$(a,o,u){var d=si();u={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Op(a)?e2(o,u):(u=Tv(a,o,u,d),u!==null&&(Fr(u,a,d),t2(u,o,d)))}function ZO(a,o,u){var d=si();Pf(a,o,u,d)}function Pf(a,o,u,d){var y={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Op(a))e2(o,y);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var k=o.lastRenderedState,q=b(k,u);if(y.hasEagerState=!0,y.eagerState=q,ei(q,k))return op(a,o,y,0),on===null&&sp(),!1}catch{}finally{}if(u=Tv(a,o,y,d),u!==null)return Fr(u,a,d),t2(u,o,d),!0}return!1}function o0(a,o,u,d){if(d={lane:2,revertLane:$0(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Op(a)){if(o)throw Error(r(479))}else o=Tv(a,u,d,2),o!==null&&Fr(o,a,2)}function Op(a){var o=a.alternate;return a===yt||o!==null&&o===yt}function e2(a,o){wu=xp=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function t2(a,o,u){if((u&4194048)!==0){var d=o.lanes;d&=a.pendingLanes,u|=d,o.lanes=u,No(a,u)}}var kf={readContext:fr,use:Sp,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useLayoutEffect:On,useInsertionEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useSyncExternalStore:On,useId:On,useHostTransitionStatus:On,useFormState:On,useActionState:On,useOptimistic:On,useMemoCache:On,useCacheRefresh:On};kf.useEffectEvent=On;var n2={readContext:fr,use:Sp,useCallback:function(a,o){return Nr().memoizedState=[a,o===void 0?null:o],a},useContext:fr,useEffect:$O,useImperativeHandle:function(a,o,u){u=u!=null?u.concat([a]):null,Ep(4194308,4,zO.bind(null,o,a),u)},useLayoutEffect:function(a,o){return Ep(4194308,4,a,o)},useInsertionEffect:function(a,o){Ep(4,2,a,o)},useMemo:function(a,o){var u=Nr();o=o===void 0?null:o;var d=a();if(il){kt(!0);try{a()}finally{kt(!1)}}return u.memoizedState=[d,o],d},useReducer:function(a,o,u){var d=Nr();if(u!==void 0){var y=u(o);if(il){kt(!0);try{u(o)}finally{kt(!1)}}}else y=o;return d.memoizedState=d.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},d.queue=a,a=a.dispatch=G$.bind(null,yt,a),[d.memoizedState,a]},useRef:function(a){var o=Nr();return a={current:a},o.memoizedState=a},useState:function(a){a=e0(a);var o=a.queue,u=ZO.bind(null,yt,o);return o.dispatch=u,[a.memoizedState,u]},useDebugValue:r0,useDeferredValue:function(a,o){var u=Nr();return i0(u,a,o)},useTransition:function(){var a=e0(!1);return a=WO.bind(null,yt,a.queue,!0,!1),Nr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,u){var d=yt,y=Nr();if(Nt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),on===null)throw Error(r(349));(Et&127)!==0||SO(d,o,u)}y.memoizedState=u;var b={value:u,getSnapshot:o};return y.queue=b,$O(EO.bind(null,d,b,a),[a]),d.flags|=2048,Tu(9,{destroy:void 0},TO.bind(null,d,b,u,o),null),u},useId:function(){var a=Nr(),o=on.identifierPrefix;if(Nt){var u=ma,d=pa;u=(d&~(1<<32-ot(d)-1)).toString(32)+u,o="_"+o+"R_"+u,u=_p++,0<u&&(o+="H"+u.toString(32)),o+="_"}else u=$$++,o="_"+o+"r_"+u.toString(32)+"_";return a.memoizedState=o},useHostTransitionStatus:s0,useFormState:jO,useActionState:jO,useOptimistic:function(a){var o=Nr();o.memoizedState=o.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=o0.bind(null,yt,!0,u),u.dispatch=o,[a,o]},useMemoCache:Qv,useCacheRefresh:function(){return Nr().memoizedState=H$.bind(null,yt)},useEffectEvent:function(a){var o=Nr(),u={impl:a};return o.memoizedState=u,function(){if((Ht&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},l0={readContext:fr,use:Sp,useCallback:HO,useContext:fr,useEffect:n0,useImperativeHandle:FO,useInsertionEffect:BO,useLayoutEffect:qO,useMemo:GO,useReducer:Tp,useRef:VO,useState:function(){return Tp(Ga)},useDebugValue:r0,useDeferredValue:function(a,o){var u=jn();return KO(u,nn.memoizedState,a,o)},useTransition:function(){var a=Tp(Ga)[0],o=jn().memoizedState;return[typeof a=="boolean"?a:If(a),o]},useSyncExternalStore:wO,useId:QO,useHostTransitionStatus:s0,useFormState:MO,useActionState:MO,useOptimistic:function(a,o){var u=jn();return CO(u,nn,a,o)},useMemoCache:Qv,useCacheRefresh:JO};l0.useEffectEvent=UO;var r2={readContext:fr,use:Sp,useCallback:HO,useContext:fr,useEffect:n0,useImperativeHandle:FO,useInsertionEffect:BO,useLayoutEffect:qO,useMemo:GO,useReducer:Zv,useRef:VO,useState:function(){return Zv(Ga)},useDebugValue:r0,useDeferredValue:function(a,o){var u=jn();return nn===null?i0(u,a,o):KO(u,nn.memoizedState,a,o)},useTransition:function(){var a=Zv(Ga)[0],o=jn().memoizedState;return[typeof a=="boolean"?a:If(a),o]},useSyncExternalStore:wO,useId:QO,useHostTransitionStatus:s0,useFormState:LO,useActionState:LO,useOptimistic:function(a,o){var u=jn();return nn!==null?CO(u,nn,a,o):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:Qv,useCacheRefresh:JO};r2.useEffectEvent=UO;function u0(a,o,u,d){o=a.memoizedState,u=u(d,o),u=u==null?o:m({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var c0={enqueueSetState:function(a,o,u){a=a._reactInternals;var d=si(),y=$s(d);y.payload=o,u!=null&&(y.callback=u),o=Us(a,y,d),o!==null&&(Fr(o,a,d),Ef(o,a,d))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var d=si(),y=$s(d);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=Us(a,y,d),o!==null&&(Fr(o,a,d),Ef(o,a,d))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=si(),d=$s(u);d.tag=2,o!=null&&(d.callback=o),o=Us(a,d,u),o!==null&&(Fr(o,a,u),Ef(o,a,u))}};function i2(a,o,u,d,y,b,k){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,b,k):o.prototype&&o.prototype.isPureReactComponent?!yf(u,d)||!yf(y,b):!0}function a2(a,o,u,d){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,d),o.state!==a&&c0.enqueueReplaceState(o,o.state,null)}function al(a,o){var u=o;if("ref"in o){u={};for(var d in o)d!=="ref"&&(u[d]=o[d])}if(a=a.defaultProps){u===o&&(u=m({},u));for(var y in a)u[y]===void 0&&(u[y]=a[y])}return u}function s2(a){ap(a)}function o2(a){console.error(a)}function l2(a){ap(a)}function Cp(a,o){try{var u=a.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function u2(a,o,u){try{var d=a.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function f0(a,o,u){return u=$s(u),u.tag=3,u.payload={element:null},u.callback=function(){Cp(a,o)},u}function c2(a){return a=$s(a),a.tag=3,a}function f2(a,o,u,d){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var b=d.value;a.payload=function(){return y(b)},a.callback=function(){u2(o,u,d)}}var k=u.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(a.callback=function(){u2(o,u,d),typeof y!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var q=d.stack;this.componentDidCatch(d.value,{componentStack:q!==null?q:""})})}function K$(a,o,u,d,y){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=u.alternate,o!==null&&gu(o,u,y,!0),u=ni.current,u!==null){switch(u.tag){case 31:case 13:return Ai===null?Up():u.alternate===null&&Cn===0&&(Cn=3),u.flags&=-257,u.flags|=65536,u.lanes=y,d===mp?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([d]):o.add(d),D0(a,d,y)),!1;case 22:return u.flags|=65536,d===mp?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([d]):u.add(d)),D0(a,d,y)),!1}throw Error(r(435,u.tag))}return D0(a,d,y),Up(),!1}if(Nt)return o=ni.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=y,d!==Pv&&(a=Error(r(422),{cause:d}),xf(wi(a,u)))):(d!==Pv&&(o=Error(r(423),{cause:d}),xf(wi(o,u))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,d=wi(d,u),y=f0(a.stateNode,d,y),Bv(a,y),Cn!==4&&(Cn=2)),!1;var b=Error(r(520),{cause:d});if(b=wi(b,u),$f===null?$f=[b]:$f.push(b),Cn!==4&&(Cn=2),o===null)return!0;d=wi(d,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,a=y&-y,u.lanes|=a,a=f0(u.stateNode,d,a),Bv(u,a),!1;case 1:if(o=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Gs===null||!Gs.has(b))))return u.flags|=65536,y&=-y,u.lanes|=y,y=c2(y),f2(y,a,u,d),Bv(u,y),!1}u=u.return}while(u!==null);return!1}var h0=Error(r(461)),Un=!1;function hr(a,o,u,d){o.child=a===null?mO(o,null,u,d):rl(o,a.child,u,d)}function h2(a,o,u,d,y){u=u.render;var b=o.ref;if("ref"in d){var k={};for(var q in d)q!=="ref"&&(k[q]=d[q])}else k=d;return Zo(o),d=Kv(a,o,u,k,b,y),q=Wv(),a!==null&&!Un?(Yv(a,o,y),Ka(a,o,y)):(Nt&&q&&Cv(o),o.flags|=1,hr(a,o,d,y),o.child)}function d2(a,o,u,d,y){if(a===null){var b=u.type;return typeof b=="function"&&!Ev(b)&&b.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=b,p2(a,o,b,d,y)):(a=up(u.type,null,d,o,o.mode,y),a.ref=o.ref,a.return=o,o.child=a)}if(b=a.child,!x0(a,y)){var k=b.memoizedProps;if(u=u.compare,u=u!==null?u:yf,u(k,d)&&a.ref===o.ref)return Ka(a,o,y)}return o.flags|=1,a=Ba(b,d),a.ref=o.ref,a.return=o,o.child=a}function p2(a,o,u,d,y){if(a!==null){var b=a.memoizedProps;if(yf(b,d)&&a.ref===o.ref)if(Un=!1,o.pendingProps=d=b,x0(a,y))(a.flags&131072)!==0&&(Un=!0);else return o.lanes=a.lanes,Ka(a,o,y)}return d0(a,o,u,d,y)}function m2(a,o,u,d){var y=d.children,b=a!==null?a.memoizedState:null;if(a===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((o.flags&128)!==0){if(b=b!==null?b.baseLanes|u:u,a!==null){for(d=o.child=a.child,y=0;d!==null;)y=y|d.lanes|d.childLanes,d=d.sibling;d=y&~b}else d=0,o.child=null;return g2(a,o,b,u,d)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&dp(o,b!==null?b.cachePool:null),b!==null?vO(o,b):zv(),bO(o);else return d=o.lanes=536870912,g2(a,o,b!==null?b.baseLanes|u:u,u,d)}else b!==null?(dp(o,b.cachePool),vO(o,b),qs(),o.memoizedState=null):(a!==null&&dp(o,null),zv(),qs());return hr(a,o,y,u),o.child}function Rf(a,o){return a!==null&&a.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function g2(a,o,u,d,y){var b=Lv();return b=b===null?null:{parent:Vn._currentValue,pool:b},o.memoizedState={baseLanes:u,cachePool:b},a!==null&&dp(o,null),zv(),bO(o),a!==null&&gu(a,o,d,!0),o.childLanes=y,null}function Ip(a,o){return o=kp({mode:o.mode,children:o.children},a.mode),o.ref=a.ref,a.child=o,o.return=a,o}function y2(a,o,u){return rl(o,a.child,null,u),a=Ip(o,o.pendingProps),a.flags|=2,ri(o),o.memoizedState=null,a}function W$(a,o,u){var d=o.pendingProps,y=(o.flags&128)!==0;if(o.flags&=-129,a===null){if(Nt){if(d.mode==="hidden")return a=Ip(o,d),o.lanes=536870912,Rf(null,a);if(Hv(o),(a=hn)?(a=IC(a,Ei),a=a!==null&&a.data==="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:js!==null?{id:pa,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},u=eO(a),u.return=o,o.child=u,cr=o,hn=null)):a=null,a===null)throw Ds(o);return o.lanes=536870912,null}return Ip(o,d)}var b=a.memoizedState;if(b!==null){var k=b.dehydrated;if(Hv(o),y)if(o.flags&256)o.flags&=-257,o=y2(a,o,u);else if(o.memoizedState!==null)o.child=a.child,o.flags|=128,o=null;else throw Error(r(558));else if(Un||gu(a,o,u,!1),y=(u&a.childLanes)!==0,Un||y){if(d=on,d!==null&&(k=jo(d,u),k!==0&&k!==b.retryLane))throw b.retryLane=k,Yo(a,k),Fr(d,a,k),h0;Up(),o=y2(a,o,u)}else a=b.treeContext,hn=Oi(k.nextSibling),cr=o,Nt=!0,Ms=null,Ei=!1,a!==null&&rO(o,a),o=Ip(o,d),o.flags|=4096;return o}return a=Ba(a.child,{mode:d.mode,children:d.children}),a.ref=o.ref,o.child=a,a.return=o,a}function Pp(a,o){var u=o.ref;if(u===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(o.flags|=4194816)}}function d0(a,o,u,d,y){return Zo(o),u=Kv(a,o,u,d,void 0,y),d=Wv(),a!==null&&!Un?(Yv(a,o,y),Ka(a,o,y)):(Nt&&d&&Cv(o),o.flags|=1,hr(a,o,u,y),o.child)}function v2(a,o,u,d,y,b){return Zo(o),o.updateQueue=null,u=_O(o,d,u,y),xO(a),d=Wv(),a!==null&&!Un?(Yv(a,o,b),Ka(a,o,b)):(Nt&&d&&Cv(o),o.flags|=1,hr(a,o,u,b),o.child)}function b2(a,o,u,d,y){if(Zo(o),o.stateNode===null){var b=hu,k=u.contextType;typeof k=="object"&&k!==null&&(b=fr(k)),b=new u(d,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=c0,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=d,b.state=o.memoizedState,b.refs={},$v(o),k=u.contextType,b.context=typeof k=="object"&&k!==null?fr(k):hu,b.state=o.memoizedState,k=u.getDerivedStateFromProps,typeof k=="function"&&(u0(o,u,k,d),b.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(k=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),k!==b.state&&c0.enqueueReplaceState(b,b.state,null),Of(o,d,b,y),Af(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(a===null){b=o.stateNode;var q=o.memoizedProps,K=al(u,q);b.props=K;var ae=b.context,fe=u.contextType;k=hu,typeof fe=="object"&&fe!==null&&(k=fr(fe));var ge=u.getDerivedStateFromProps;fe=typeof ge=="function"||typeof b.getSnapshotBeforeUpdate=="function",q=o.pendingProps!==q,fe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(q||ae!==k)&&a2(o,b,d,k),Vs=!1;var se=o.memoizedState;b.state=se,Of(o,d,b,y),Af(),ae=o.memoizedState,q||se!==ae||Vs?(typeof ge=="function"&&(u0(o,u,ge,d),ae=o.memoizedState),(K=Vs||i2(o,u,K,d,se,ae,k))?(fe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=ae),b.props=d,b.state=ae,b.context=k,d=K):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{b=o.stateNode,Uv(a,o),k=o.memoizedProps,fe=al(u,k),b.props=fe,ge=o.pendingProps,se=b.context,ae=u.contextType,K=hu,typeof ae=="object"&&ae!==null&&(K=fr(ae)),q=u.getDerivedStateFromProps,(ae=typeof q=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(k!==ge||se!==K)&&a2(o,b,d,K),Vs=!1,se=o.memoizedState,b.state=se,Of(o,d,b,y),Af();var ce=o.memoizedState;k!==ge||se!==ce||Vs||a!==null&&a.dependencies!==null&&fp(a.dependencies)?(typeof q=="function"&&(u0(o,u,q,d),ce=o.memoizedState),(fe=Vs||i2(o,u,fe,d,se,ce,K)||a!==null&&a.dependencies!==null&&fp(a.dependencies))?(ae||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,ce,K),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,ce,K)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||k===a.memoizedProps&&se===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&se===a.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=ce),b.props=d,b.state=ce,b.context=K,d=fe):(typeof b.componentDidUpdate!="function"||k===a.memoizedProps&&se===a.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&se===a.memoizedState||(o.flags|=1024),d=!1)}return b=d,Pp(a,o),d=(o.flags&128)!==0,b||d?(b=o.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,a!==null&&d?(o.child=rl(o,a.child,null,y),o.child=rl(o,null,u,y)):hr(a,o,u,y),o.memoizedState=b.state,a=o.child):a=Ka(a,o,y),a}function x2(a,o,u,d){return Qo(),o.flags|=256,hr(a,o,u,d),o.child}var p0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function m0(a){return{baseLanes:a,cachePool:uO()}}function g0(a,o,u){return a=a!==null?a.childLanes&~u:0,o&&(a|=ai),a}function _2(a,o,u){var d=o.pendingProps,y=!1,b=(o.flags&128)!==0,k;if((k=b)||(k=a!==null&&a.memoizedState===null?!1:(Nn.current&2)!==0),k&&(y=!0,o.flags&=-129),k=(o.flags&32)!==0,o.flags&=-33,a===null){if(Nt){if(y?Bs(o):qs(),(a=hn)?(a=IC(a,Ei),a=a!==null&&a.data!=="&"?a:null,a!==null&&(o.memoizedState={dehydrated:a,treeContext:js!==null?{id:pa,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},u=eO(a),u.return=o,o.child=u,cr=o,hn=null)):a=null,a===null)throw Ds(o);return J0(a)?o.lanes=32:o.lanes=536870912,null}var q=d.children;return d=d.fallback,y?(qs(),y=o.mode,q=kp({mode:"hidden",children:q},y),d=Xo(d,y,u,null),q.return=o,d.return=o,q.sibling=d,o.child=q,d=o.child,d.memoizedState=m0(u),d.childLanes=g0(a,k,u),o.memoizedState=p0,Rf(null,d)):(Bs(o),y0(o,q))}var K=a.memoizedState;if(K!==null&&(q=K.dehydrated,q!==null)){if(b)o.flags&256?(Bs(o),o.flags&=-257,o=v0(a,o,u)):o.memoizedState!==null?(qs(),o.child=a.child,o.flags|=128,o=null):(qs(),q=d.fallback,y=o.mode,d=kp({mode:"visible",children:d.children},y),q=Xo(q,y,u,null),q.flags|=2,d.return=o,q.return=o,d.sibling=q,o.child=d,rl(o,a.child,null,u),d=o.child,d.memoizedState=m0(u),d.childLanes=g0(a,k,u),o.memoizedState=p0,o=Rf(null,d));else if(Bs(o),J0(q)){if(k=q.nextSibling&&q.nextSibling.dataset,k)var ae=k.dgst;k=ae,d=Error(r(419)),d.stack="",d.digest=k,xf({value:d,source:null,stack:null}),o=v0(a,o,u)}else if(Un||gu(a,o,u,!1),k=(u&a.childLanes)!==0,Un||k){if(k=on,k!==null&&(d=jo(k,u),d!==0&&d!==K.retryLane))throw K.retryLane=d,Yo(a,d),Fr(k,a,d),h0;Q0(q)||Up(),o=v0(a,o,u)}else Q0(q)?(o.flags|=192,o.child=a.child,o=null):(a=K.treeContext,hn=Oi(q.nextSibling),cr=o,Nt=!0,Ms=null,Ei=!1,a!==null&&rO(o,a),o=y0(o,d.children),o.flags|=4096);return o}return y?(qs(),q=d.fallback,y=o.mode,K=a.child,ae=K.sibling,d=Ba(K,{mode:"hidden",children:d.children}),d.subtreeFlags=K.subtreeFlags&65011712,ae!==null?q=Ba(ae,q):(q=Xo(q,y,u,null),q.flags|=2),q.return=o,d.return=o,d.sibling=q,o.child=d,Rf(null,d),d=o.child,q=a.child.memoizedState,q===null?q=m0(u):(y=q.cachePool,y!==null?(K=Vn._currentValue,y=y.parent!==K?{parent:K,pool:K}:y):y=uO(),q={baseLanes:q.baseLanes|u,cachePool:y}),d.memoizedState=q,d.childLanes=g0(a,k,u),o.memoizedState=p0,Rf(a.child,d)):(Bs(o),u=a.child,a=u.sibling,u=Ba(u,{mode:"visible",children:d.children}),u.return=o,u.sibling=null,a!==null&&(k=o.deletions,k===null?(o.deletions=[a],o.flags|=16):k.push(a)),o.child=u,o.memoizedState=null,u)}function y0(a,o){return o=kp({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function kp(a,o){return a=ti(22,a,null,o),a.lanes=0,a}function v0(a,o,u){return rl(o,a.child,null,u),a=y0(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function w2(a,o,u){a.lanes|=o;var d=a.alternate;d!==null&&(d.lanes|=o),Nv(a.return,o,u)}function b0(a,o,u,d,y,b){var k=a.memoizedState;k===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:y,treeForkCount:b}:(k.isBackwards=o,k.rendering=null,k.renderingStartTime=0,k.last=d,k.tail=u,k.tailMode=y,k.treeForkCount=b)}function S2(a,o,u){var d=o.pendingProps,y=d.revealOrder,b=d.tail;d=d.children;var k=Nn.current,q=(k&2)!==0;if(q?(k=k&1|2,o.flags|=128):k&=1,oe(Nn,k),hr(a,o,d,u),d=Nt?bf:0,!q&&a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&w2(a,u,o);else if(a.tag===19)w2(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(u=o.child,y=null;u!==null;)a=u.alternate,a!==null&&bp(a)===null&&(y=u),u=u.sibling;u=y,u===null?(y=o.child,o.child=null):(y=u.sibling,u.sibling=null),b0(o,!1,y,u,b,d);break;case"backwards":case"unstable_legacy-backwards":for(u=null,y=o.child,o.child=null;y!==null;){if(a=y.alternate,a!==null&&bp(a)===null){o.child=y;break}a=y.sibling,y.sibling=u,u=y,y=a}b0(o,!0,u,null,b,d);break;case"together":b0(o,!1,null,null,void 0,d);break;default:o.memoizedState=null}return o.child}function Ka(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),Hs|=o.lanes,(u&o.childLanes)===0)if(a!==null){if(gu(a,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(r(153));if(o.child!==null){for(a=o.child,u=Ba(a,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,u=u.sibling=Ba(a,a.pendingProps),u.return=o;u.sibling=null}return o.child}function x0(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&fp(a)))}function Y$(a,o,u){switch(o.tag){case 3:$e(o,o.stateNode.containerInfo),Ls(o,Vn,a.memoizedState.cache),Qo();break;case 27:case 5:Te(o);break;case 4:$e(o,o.stateNode.containerInfo);break;case 10:Ls(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Hv(o),null;break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(Bs(o),o.flags|=128,null):(u&o.child.childLanes)!==0?_2(a,o,u):(Bs(o),a=Ka(a,o,u),a!==null?a.sibling:null);Bs(o);break;case 19:var y=(a.flags&128)!==0;if(d=(u&o.childLanes)!==0,d||(gu(a,o,u,!1),d=(u&o.childLanes)!==0),y){if(d)return S2(a,o,u);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),oe(Nn,Nn.current),d)break;return null;case 22:return o.lanes=0,m2(a,o,u,o.pendingProps);case 24:Ls(o,Vn,a.memoizedState.cache)}return Ka(a,o,u)}function T2(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps)Un=!0;else{if(!x0(a,u)&&(o.flags&128)===0)return Un=!1,Y$(a,o,u);Un=(a.flags&131072)!==0}else Un=!1,Nt&&(o.flags&1048576)!==0&&nO(o,bf,o.index);switch(o.lanes=0,o.tag){case 16:e:{var d=o.pendingProps;if(a=tl(o.elementType),o.type=a,typeof a=="function")Ev(a)?(d=al(a,d),o.tag=1,o=b2(null,o,a,d,u)):(o.tag=0,o=d0(null,o,a,d,u));else{if(a!=null){var y=a.$$typeof;if(y===V){o.tag=11,o=h2(null,o,a,d,u);break e}else if(y===A){o.tag=14,o=d2(null,o,a,d,u);break e}}throw o=Q(a)||a,Error(r(306,o,""))}}return o;case 0:return d0(a,o,o.type,o.pendingProps,u);case 1:return d=o.type,y=al(d,o.pendingProps),b2(a,o,d,y,u);case 3:e:{if($e(o,o.stateNode.containerInfo),a===null)throw Error(r(387));d=o.pendingProps;var b=o.memoizedState;y=b.element,Uv(a,o),Of(o,d,null,u);var k=o.memoizedState;if(d=k.cache,Ls(o,Vn,d),d!==b.cache&&jv(o,[Vn],u,!0),Af(),d=k.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:k.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=x2(a,o,d,u);break e}else if(d!==y){y=wi(Error(r(424)),o),xf(y),o=x2(a,o,d,u);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(hn=Oi(a.firstChild),cr=o,Nt=!0,Ms=null,Ei=!0,u=mO(o,null,d,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Qo(),d===y){o=Ka(a,o,u);break e}hr(a,o,d,u)}o=o.child}return o;case 26:return Pp(a,o),a===null?(u=MC(o.type,null,o.pendingProps,null))?o.memoizedState=u:Nt||(u=o.type,a=o.pendingProps,d=Kp(Se.current).createElement(u),d[Pn]=o,d[kn]=a,dr(d,u,a),_n(d),o.stateNode=d):o.memoizedState=MC(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return Te(o),a===null&&Nt&&(d=o.stateNode=RC(o.type,o.pendingProps,Se.current),cr=o,Ei=!0,y=hn,Xs(o.type)?(Z0=y,hn=Oi(d.firstChild)):hn=y),hr(a,o,o.pendingProps.children,u),Pp(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&Nt&&((y=d=hn)&&(d=EU(d,o.type,o.pendingProps,Ei),d!==null?(o.stateNode=d,cr=o,hn=Oi(d.firstChild),Ei=!1,y=!0):y=!1),y||Ds(o)),Te(o),y=o.type,b=o.pendingProps,k=a!==null?a.memoizedProps:null,d=b.children,W0(y,b)?d=null:k!==null&&W0(y,k)&&(o.flags|=32),o.memoizedState!==null&&(y=Kv(a,o,U$,null,null,u),Kf._currentValue=y),Pp(a,o),hr(a,o,d,u),o.child;case 6:return a===null&&Nt&&((a=u=hn)&&(u=AU(u,o.pendingProps,Ei),u!==null?(o.stateNode=u,cr=o,hn=null,a=!0):a=!1),a||Ds(o)),null;case 13:return _2(a,o,u);case 4:return $e(o,o.stateNode.containerInfo),d=o.pendingProps,a===null?o.child=rl(o,null,d,u):hr(a,o,d,u),o.child;case 11:return h2(a,o,o.type,o.pendingProps,u);case 7:return hr(a,o,o.pendingProps,u),o.child;case 8:return hr(a,o,o.pendingProps.children,u),o.child;case 12:return hr(a,o,o.pendingProps.children,u),o.child;case 10:return d=o.pendingProps,Ls(o,o.type,d.value),hr(a,o,d.children,u),o.child;case 9:return y=o.type._context,d=o.pendingProps.children,Zo(o),y=fr(y),d=d(y),o.flags|=1,hr(a,o,d,u),o.child;case 14:return d2(a,o,o.type,o.pendingProps,u);case 15:return p2(a,o,o.type,o.pendingProps,u);case 19:return S2(a,o,u);case 31:return W$(a,o,u);case 22:return m2(a,o,u,o.pendingProps);case 24:return Zo(o),d=fr(Vn),a===null?(y=Lv(),y===null&&(y=on,b=Mv(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=u),y=b),o.memoizedState={parent:d,cache:y},$v(o),Ls(o,Vn,y)):((a.lanes&u)!==0&&(Uv(a,o),Of(o,null,null,u),Af()),y=a.memoizedState,b=o.memoizedState,y.parent!==d?(y={parent:d,cache:d},o.memoizedState=y,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=y),Ls(o,Vn,d)):(d=b.cache,Ls(o,Vn,d),d!==y.cache&&jv(o,[Vn],u,!0))),hr(a,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Wa(a){a.flags|=4}function _0(a,o,u,d,y){if((o=(a.mode&32)!==0)&&(o=!1),o){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(Q2())a.flags|=8192;else throw nl=mp,Vv}else a.flags&=-16777217}function E2(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!UC(o))if(Q2())a.flags|=8192;else throw nl=mp,Vv}function Rp(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?Vr():536870912,a.lanes|=o,Cu|=o)}function Nf(a,o){if(!Nt)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function dn(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,d=0;if(o)for(var y=a.child;y!==null;)u|=y.lanes|y.childLanes,d|=y.subtreeFlags&65011712,d|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)u|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=d,a.childLanes=u,o}function X$(a,o,u){var d=o.pendingProps;switch(Iv(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(o),null;case 1:return dn(o),null;case 3:return u=o.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Fa(Vn),ye(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(mu(o)?Wa(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,kv())),dn(o),null;case 26:var y=o.type,b=o.memoizedState;return a===null?(Wa(o),b!==null?(dn(o),E2(o,b)):(dn(o),_0(o,y,null,d,u))):b?b!==a.memoizedState?(Wa(o),dn(o),E2(o,b)):(dn(o),o.flags&=-16777217):(a=a.memoizedProps,a!==d&&Wa(o),dn(o),_0(o,y,a,d,u)),null;case 27:if(Re(o),u=Se.current,y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==d&&Wa(o);else{if(!d){if(o.stateNode===null)throw Error(r(166));return dn(o),null}a=me.current,mu(o)?iO(o):(a=RC(y,d,u),o.stateNode=a,Wa(o))}return dn(o),null;case 5:if(Re(o),y=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==d&&Wa(o);else{if(!d){if(o.stateNode===null)throw Error(r(166));return dn(o),null}if(b=me.current,mu(o))iO(o);else{var k=Kp(Se.current);switch(b){case 1:b=k.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:b=k.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":b=k.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":b=k.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":b=k.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof d.is=="string"?k.createElement("select",{is:d.is}):k.createElement("select"),d.multiple?b.multiple=!0:d.size&&(b.size=d.size);break;default:b=typeof d.is=="string"?k.createElement(y,{is:d.is}):k.createElement(y)}}b[Pn]=o,b[kn]=d;e:for(k=o.child;k!==null;){if(k.tag===5||k.tag===6)b.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===o)break e;for(;k.sibling===null;){if(k.return===null||k.return===o)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}o.stateNode=b;e:switch(dr(b,y,d),y){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Wa(o)}}return dn(o),_0(o,o.type,a===null?null:a.memoizedProps,o.pendingProps,u),null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==d&&Wa(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(r(166));if(a=Se.current,mu(o)){if(a=o.stateNode,u=o.memoizedProps,d=null,y=cr,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}a[Pn]=o,a=!!(a.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||_C(a.nodeValue,u)),a||Ds(o,!0)}else a=Kp(a).createTextNode(d),a[Pn]=o,o.stateNode=a}return dn(o),null;case 31:if(u=o.memoizedState,a===null||a.memoizedState!==null){if(d=mu(o),u!==null){if(a===null){if(!d)throw Error(r(318));if(a=o.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[Pn]=o}else Qo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;dn(o),a=!1}else u=kv(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return o.flags&256?(ri(o),o):(ri(o),null);if((o.flags&128)!==0)throw Error(r(558))}return dn(o),null;case 13:if(d=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=mu(o),d!==null&&d.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[Pn]=o}else Qo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;dn(o),y=!1}else y=kv(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return o.flags&256?(ri(o),o):(ri(o),null)}return ri(o),(o.flags&128)!==0?(o.lanes=u,o):(u=d!==null,a=a!==null&&a.memoizedState!==null,u&&(d=o.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool),b=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==y&&(d.flags|=2048)),u!==a&&u&&(o.child.flags|=8192),Rp(o,o.updateQueue),dn(o),null);case 4:return ye(),a===null&&z0(o.stateNode.containerInfo),dn(o),null;case 10:return Fa(o.type),dn(o),null;case 19:if(W(Nn),d=o.memoizedState,d===null)return dn(o),null;if(y=(o.flags&128)!==0,b=d.rendering,b===null)if(y)Nf(d,!1);else{if(Cn!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(b=bp(a),b!==null){for(o.flags|=128,Nf(d,!1),a=b.updateQueue,o.updateQueue=a,Rp(o,a),o.subtreeFlags=0,a=u,u=o.child;u!==null;)ZA(u,a),u=u.sibling;return oe(Nn,Nn.current&1|2),Nt&&qa(o,d.treeForkCount),o.child}a=a.sibling}d.tail!==null&&Ie()>Lp&&(o.flags|=128,y=!0,Nf(d,!1),o.lanes=4194304)}else{if(!y)if(a=bp(b),a!==null){if(o.flags|=128,y=!0,a=a.updateQueue,o.updateQueue=a,Rp(o,a),Nf(d,!0),d.tail===null&&d.tailMode==="hidden"&&!b.alternate&&!Nt)return dn(o),null}else 2*Ie()-d.renderingStartTime>Lp&&u!==536870912&&(o.flags|=128,y=!0,Nf(d,!1),o.lanes=4194304);d.isBackwards?(b.sibling=o.child,o.child=b):(a=d.last,a!==null?a.sibling=b:o.child=b,d.last=b)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=Ie(),a.sibling=null,u=Nn.current,oe(Nn,y?u&1|2:u&1),Nt&&qa(o,d.treeForkCount),a):(dn(o),null);case 22:case 23:return ri(o),Fv(),d=o.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(u&536870912)!==0&&(o.flags&128)===0&&(dn(o),o.subtreeFlags&6&&(o.flags|=8192)):dn(o),u=o.updateQueue,u!==null&&Rp(o,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==u&&(o.flags|=2048),a!==null&&W(el),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Fa(Vn),dn(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function Q$(a,o){switch(Iv(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Fa(Vn),ye(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return Re(o),null;case 31:if(o.memoizedState!==null){if(ri(o),o.alternate===null)throw Error(r(340));Qo()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 13:if(ri(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Qo()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return W(Nn),null;case 4:return ye(),null;case 10:return Fa(o.type),null;case 22:case 23:return ri(o),Fv(),a!==null&&W(el),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return Fa(Vn),null;case 25:return null;default:return null}}function A2(a,o){switch(Iv(o),o.tag){case 3:Fa(Vn),ye();break;case 26:case 27:case 5:Re(o);break;case 4:ye();break;case 31:o.memoizedState!==null&&ri(o);break;case 13:ri(o);break;case 19:W(Nn);break;case 10:Fa(o.type);break;case 22:case 23:ri(o),Fv(),a!==null&&W(el);break;case 24:Fa(Vn)}}function jf(a,o){try{var u=o.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var y=d.next;u=y;do{if((u.tag&a)===a){d=void 0;var b=u.create,k=u.inst;d=b(),k.destroy=d}u=u.next}while(u!==y)}}catch(q){Jt(o,o.return,q)}}function zs(a,o,u){try{var d=o.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var b=y.next;d=b;do{if((d.tag&a)===a){var k=d.inst,q=k.destroy;if(q!==void 0){k.destroy=void 0,y=o;var K=u,ae=q;try{ae()}catch(fe){Jt(y,K,fe)}}}d=d.next}while(d!==b)}}catch(fe){Jt(o,o.return,fe)}}function O2(a){var o=a.updateQueue;if(o!==null){var u=a.stateNode;try{yO(o,u)}catch(d){Jt(a,a.return,d)}}}function C2(a,o,u){u.props=al(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(d){Jt(a,o,d)}}function Mf(a,o){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:d=a.stateNode;break;default:d=a.stateNode}typeof u=="function"?a.refCleanup=u(d):u.current=d}}catch(y){Jt(a,o,y)}}function ga(a,o){var u=a.ref,d=a.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(y){Jt(a,o,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){Jt(a,o,y)}else u.current=null}function I2(a){var o=a.type,u=a.memoizedProps,d=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break e;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(y){Jt(a,a.return,y)}}function w0(a,o,u){try{var d=a.stateNode;bU(d,a.type,u,o),d[kn]=o}catch(y){Jt(a,a.return,y)}}function P2(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Xs(a.type)||a.tag===4}function S0(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||P2(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Xs(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function T0(a,o,u){var d=a.tag;if(d===5||d===6)a=a.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(a),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Ui));else if(d!==4&&(d===27&&Xs(a.type)&&(u=a.stateNode,o=null),a=a.child,a!==null))for(T0(a,o,u),a=a.sibling;a!==null;)T0(a,o,u),a=a.sibling}function Np(a,o,u){var d=a.tag;if(d===5||d===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(d!==4&&(d===27&&Xs(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(Np(a,o,u),a=a.sibling;a!==null;)Np(a,o,u),a=a.sibling}function k2(a){var o=a.stateNode,u=a.memoizedProps;try{for(var d=a.type,y=o.attributes;y.length;)o.removeAttributeNode(y[0]);dr(o,d,u),o[Pn]=a,o[kn]=u}catch(b){Jt(a,a.return,b)}}var Ya=!1,Bn=!1,E0=!1,R2=typeof WeakSet=="function"?WeakSet:Set,tr=null;function J$(a,o){if(a=a.containerInfo,G0=em,a=FA(a),vv(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var y=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var k=0,q=-1,K=-1,ae=0,fe=0,ge=a,se=null;t:for(;;){for(var ce;ge!==u||y!==0&&ge.nodeType!==3||(q=k+y),ge!==b||d!==0&&ge.nodeType!==3||(K=k+d),ge.nodeType===3&&(k+=ge.nodeValue.length),(ce=ge.firstChild)!==null;)se=ge,ge=ce;for(;;){if(ge===a)break t;if(se===u&&++ae===y&&(q=k),se===b&&++fe===d&&(K=k),(ce=ge.nextSibling)!==null)break;ge=se,se=ge.parentNode}ge=ce}u=q===-1||K===-1?null:{start:q,end:K}}else u=null}u=u||{start:0,end:0}}else u=null;for(K0={focusedElem:a,selectionRange:u},em=!1,tr=o;tr!==null;)if(o=tr,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,tr=a;else for(;tr!==null;){switch(o=tr,b=o.alternate,a=o.flags,o.tag){case 0:if((a&4)!==0&&(a=o.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)y=a[u],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,u=o,y=b.memoizedProps,b=b.memoizedState,d=u.stateNode;try{var Ve=al(u.type,y);a=d.getSnapshotBeforeUpdate(Ve,b),d.__reactInternalSnapshotBeforeUpdate=a}catch(et){Jt(u,u.return,et)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,u=a.nodeType,u===9)X0(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":X0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=o.sibling,a!==null){a.return=o.return,tr=a;break}tr=o.return}}function N2(a,o,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:Qa(a,u),d&4&&jf(5,u);break;case 1:if(Qa(a,u),d&4)if(a=u.stateNode,o===null)try{a.componentDidMount()}catch(k){Jt(u,u.return,k)}else{var y=al(u.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(y,o,a.__reactInternalSnapshotBeforeUpdate)}catch(k){Jt(u,u.return,k)}}d&64&&O2(u),d&512&&Mf(u,u.return);break;case 3:if(Qa(a,u),d&64&&(a=u.updateQueue,a!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{yO(a,o)}catch(k){Jt(u,u.return,k)}}break;case 27:o===null&&d&4&&k2(u);case 26:case 5:Qa(a,u),o===null&&d&4&&I2(u),d&512&&Mf(u,u.return);break;case 12:Qa(a,u);break;case 31:Qa(a,u),d&4&&D2(a,u);break;case 13:Qa(a,u),d&4&&L2(a,u),d&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=oU.bind(null,u),OU(a,u))));break;case 22:if(d=u.memoizedState!==null||Ya,!d){o=o!==null&&o.memoizedState!==null||Bn,y=Ya;var b=Bn;Ya=d,(Bn=o)&&!b?Ja(a,u,(u.subtreeFlags&8772)!==0):Qa(a,u),Ya=y,Bn=b}break;case 30:break;default:Qa(a,u)}}function j2(a){var o=a.alternate;o!==null&&(a.alternate=null,j2(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&$i(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var yn=null,Ur=!1;function Xa(a,o,u){for(u=u.child;u!==null;)M2(a,o,u),u=u.sibling}function M2(a,o,u){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Ae,u)}catch{}switch(u.tag){case 26:Bn||ga(u,o),Xa(a,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Bn||ga(u,o);var d=yn,y=Ur;Xs(u.type)&&(yn=u.stateNode,Ur=!1),Xa(a,o,u),Ff(u.stateNode),yn=d,Ur=y;break;case 5:Bn||ga(u,o);case 6:if(d=yn,y=Ur,yn=null,Xa(a,o,u),yn=d,Ur=y,yn!==null)if(Ur)try{(yn.nodeType===9?yn.body:yn.nodeName==="HTML"?yn.ownerDocument.body:yn).removeChild(u.stateNode)}catch(b){Jt(u,o,b)}else try{yn.removeChild(u.stateNode)}catch(b){Jt(u,o,b)}break;case 18:yn!==null&&(Ur?(a=yn,OC(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),Du(a)):OC(yn,u.stateNode));break;case 4:d=yn,y=Ur,yn=u.stateNode.containerInfo,Ur=!0,Xa(a,o,u),yn=d,Ur=y;break;case 0:case 11:case 14:case 15:zs(2,u,o),Bn||zs(4,u,o),Xa(a,o,u);break;case 1:Bn||(ga(u,o),d=u.stateNode,typeof d.componentWillUnmount=="function"&&C2(u,o,d)),Xa(a,o,u);break;case 21:Xa(a,o,u);break;case 22:Bn=(d=Bn)||u.memoizedState!==null,Xa(a,o,u),Bn=d;break;default:Xa(a,o,u)}}function D2(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Du(a)}catch(u){Jt(o,o.return,u)}}}function L2(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Du(a)}catch(u){Jt(o,o.return,u)}}function Z$(a){switch(a.tag){case 31:case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new R2),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new R2),o;default:throw Error(r(435,a.tag))}}function jp(a,o){var u=Z$(a);o.forEach(function(d){if(!u.has(d)){u.add(d);var y=lU.bind(null,a,d);d.then(y,y)}})}function Br(a,o){var u=o.deletions;if(u!==null)for(var d=0;d<u.length;d++){var y=u[d],b=a,k=o,q=k;e:for(;q!==null;){switch(q.tag){case 27:if(Xs(q.type)){yn=q.stateNode,Ur=!1;break e}break;case 5:yn=q.stateNode,Ur=!1;break e;case 3:case 4:yn=q.stateNode.containerInfo,Ur=!0;break e}q=q.return}if(yn===null)throw Error(r(160));M2(b,k,y),yn=null,Ur=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)V2(o,a),o=o.sibling}var Gi=null;function V2(a,o){var u=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Br(o,a),qr(a),d&4&&(zs(3,a,a.return),jf(3,a),zs(5,a,a.return));break;case 1:Br(o,a),qr(a),d&512&&(Bn||u===null||ga(u,u.return)),d&64&&Ya&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var y=Gi;if(Br(o,a),qr(a),d&512&&(Bn||u===null||ga(u,u.return)),d&4){var b=u!==null?u.memoizedState:null;if(d=a.memoizedState,u===null)if(d===null)if(a.stateNode===null){e:{d=a.type,u=a.memoizedProps,y=y.ownerDocument||y;t:switch(d){case"title":b=y.getElementsByTagName("title")[0],(!b||b[mi]||b[Pn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(d),y.head.insertBefore(b,y.querySelector("head > title"))),dr(b,d,u),b[Pn]=a,_n(b),d=b;break e;case"link":var k=VC("link","href",y).get(d+(u.href||""));if(k){for(var q=0;q<k.length;q++)if(b=k[q],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){k.splice(q,1);break t}}b=y.createElement(d),dr(b,d,u),y.head.appendChild(b);break;case"meta":if(k=VC("meta","content",y).get(d+(u.content||""))){for(q=0;q<k.length;q++)if(b=k[q],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){k.splice(q,1);break t}}b=y.createElement(d),dr(b,d,u),y.head.appendChild(b);break;default:throw Error(r(468,d))}b[Pn]=a,_n(b),d=b}a.stateNode=d}else $C(y,a.type,a.stateNode);else a.stateNode=LC(y,d,a.memoizedProps);else b!==d?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,d===null?$C(y,a.type,a.stateNode):LC(y,d,a.memoizedProps)):d===null&&a.stateNode!==null&&w0(a,a.memoizedProps,u.memoizedProps)}break;case 27:Br(o,a),qr(a),d&512&&(Bn||u===null||ga(u,u.return)),u!==null&&d&4&&w0(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Br(o,a),qr(a),d&512&&(Bn||u===null||ga(u,u.return)),a.flags&32){y=a.stateNode;try{lr(y,"")}catch(Ve){Jt(a,a.return,Ve)}}d&4&&a.stateNode!=null&&(y=a.memoizedProps,w0(a,y,u!==null?u.memoizedProps:y)),d&1024&&(E0=!0);break;case 6:if(Br(o,a),qr(a),d&4){if(a.stateNode===null)throw Error(r(162));d=a.memoizedProps,u=a.stateNode;try{u.nodeValue=d}catch(Ve){Jt(a,a.return,Ve)}}break;case 3:if(Xp=null,y=Gi,Gi=Wp(o.containerInfo),Br(o,a),Gi=y,qr(a),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Du(o.containerInfo)}catch(Ve){Jt(a,a.return,Ve)}E0&&(E0=!1,$2(a));break;case 4:d=Gi,Gi=Wp(a.stateNode.containerInfo),Br(o,a),qr(a),Gi=d;break;case 12:Br(o,a),qr(a);break;case 31:Br(o,a),qr(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,jp(a,d)));break;case 13:Br(o,a),qr(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Dp=Ie()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,jp(a,d)));break;case 22:y=a.memoizedState!==null;var K=u!==null&&u.memoizedState!==null,ae=Ya,fe=Bn;if(Ya=ae||y,Bn=fe||K,Br(o,a),Bn=fe,Ya=ae,qr(a),d&8192)e:for(o=a.stateNode,o._visibility=y?o._visibility&-2:o._visibility|1,y&&(u===null||K||Ya||Bn||sl(a)),u=null,o=a;;){if(o.tag===5||o.tag===26){if(u===null){K=u=o;try{if(b=K.stateNode,y)k=b.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{q=K.stateNode;var ge=K.memoizedProps.style,se=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;q.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(Ve){Jt(K,K.return,Ve)}}}else if(o.tag===6){if(u===null){K=o;try{K.stateNode.nodeValue=y?"":K.memoizedProps}catch(Ve){Jt(K,K.return,Ve)}}}else if(o.tag===18){if(u===null){K=o;try{var ce=K.stateNode;y?CC(ce,!0):CC(K.stateNode,!1)}catch(Ve){Jt(K,K.return,Ve)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=a.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,jp(a,u))));break;case 19:Br(o,a),qr(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,jp(a,d)));break;case 30:break;case 21:break;default:Br(o,a),qr(a)}}function qr(a){var o=a.flags;if(o&2){try{for(var u,d=a.return;d!==null;){if(P2(d)){u=d;break}d=d.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var y=u.stateNode,b=S0(a);Np(a,b,y);break;case 5:var k=u.stateNode;u.flags&32&&(lr(k,""),u.flags&=-33);var q=S0(a);Np(a,q,k);break;case 3:case 4:var K=u.stateNode.containerInfo,ae=S0(a);T0(a,ae,K);break;default:throw Error(r(161))}}catch(fe){Jt(a,a.return,fe)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function $2(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;$2(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function Qa(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)N2(a,o.alternate,o),o=o.sibling}function sl(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:zs(4,o,o.return),sl(o);break;case 1:ga(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&C2(o,o.return,u),sl(o);break;case 27:Ff(o.stateNode);case 26:case 5:ga(o,o.return),sl(o);break;case 22:o.memoizedState===null&&sl(o);break;case 30:sl(o);break;default:sl(o)}a=a.sibling}}function Ja(a,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,y=a,b=o,k=b.flags;switch(b.tag){case 0:case 11:case 15:Ja(y,b,u),jf(4,b);break;case 1:if(Ja(y,b,u),d=b,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ae){Jt(d,d.return,ae)}if(d=b,y=d.updateQueue,y!==null){var q=d.stateNode;try{var K=y.shared.hiddenCallbacks;if(K!==null)for(y.shared.hiddenCallbacks=null,y=0;y<K.length;y++)gO(K[y],q)}catch(ae){Jt(d,d.return,ae)}}u&&k&64&&O2(b),Mf(b,b.return);break;case 27:k2(b);case 26:case 5:Ja(y,b,u),u&&d===null&&k&4&&I2(b),Mf(b,b.return);break;case 12:Ja(y,b,u);break;case 31:Ja(y,b,u),u&&k&4&&D2(y,b);break;case 13:Ja(y,b,u),u&&k&4&&L2(y,b);break;case 22:b.memoizedState===null&&Ja(y,b,u),Mf(b,b.return);break;case 30:break;default:Ja(y,b,u)}o=o.sibling}}function A0(a,o){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&_f(u))}function O0(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&_f(a))}function Ki(a,o,u,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)U2(a,o,u,d),o=o.sibling}function U2(a,o,u,d){var y=o.flags;switch(o.tag){case 0:case 11:case 15:Ki(a,o,u,d),y&2048&&jf(9,o);break;case 1:Ki(a,o,u,d);break;case 3:Ki(a,o,u,d),y&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&_f(a)));break;case 12:if(y&2048){Ki(a,o,u,d),a=o.stateNode;try{var b=o.memoizedProps,k=b.id,q=b.onPostCommit;typeof q=="function"&&q(k,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(K){Jt(o,o.return,K)}}else Ki(a,o,u,d);break;case 31:Ki(a,o,u,d);break;case 13:Ki(a,o,u,d);break;case 23:break;case 22:b=o.stateNode,k=o.alternate,o.memoizedState!==null?b._visibility&2?Ki(a,o,u,d):Df(a,o):b._visibility&2?Ki(a,o,u,d):(b._visibility|=2,Eu(a,o,u,d,(o.subtreeFlags&10256)!==0||!1)),y&2048&&A0(k,o);break;case 24:Ki(a,o,u,d),y&2048&&O0(o.alternate,o);break;default:Ki(a,o,u,d)}}function Eu(a,o,u,d,y){for(y=y&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var b=a,k=o,q=u,K=d,ae=k.flags;switch(k.tag){case 0:case 11:case 15:Eu(b,k,q,K,y),jf(8,k);break;case 23:break;case 22:var fe=k.stateNode;k.memoizedState!==null?fe._visibility&2?Eu(b,k,q,K,y):Df(b,k):(fe._visibility|=2,Eu(b,k,q,K,y)),y&&ae&2048&&A0(k.alternate,k);break;case 24:Eu(b,k,q,K,y),y&&ae&2048&&O0(k.alternate,k);break;default:Eu(b,k,q,K,y)}o=o.sibling}}function Df(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=a,d=o,y=d.flags;switch(d.tag){case 22:Df(u,d),y&2048&&A0(d.alternate,d);break;case 24:Df(u,d),y&2048&&O0(d.alternate,d);break;default:Df(u,d)}o=o.sibling}}var Lf=8192;function Au(a,o,u){if(a.subtreeFlags&Lf)for(a=a.child;a!==null;)B2(a,o,u),a=a.sibling}function B2(a,o,u){switch(a.tag){case 26:Au(a,o,u),a.flags&Lf&&a.memoizedState!==null&&$U(u,Gi,a.memoizedState,a.memoizedProps);break;case 5:Au(a,o,u);break;case 3:case 4:var d=Gi;Gi=Wp(a.stateNode.containerInfo),Au(a,o,u),Gi=d;break;case 22:a.memoizedState===null&&(d=a.alternate,d!==null&&d.memoizedState!==null?(d=Lf,Lf=16777216,Au(a,o,u),Lf=d):Au(a,o,u));break;default:Au(a,o,u)}}function q2(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Vf(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];tr=d,F2(d,a)}q2(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)z2(a),a=a.sibling}function z2(a){switch(a.tag){case 0:case 11:case 15:Vf(a),a.flags&2048&&zs(9,a,a.return);break;case 3:Vf(a);break;case 12:Vf(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,Mp(a)):Vf(a);break;default:Vf(a)}}function Mp(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];tr=d,F2(d,a)}q2(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:zs(8,o,o.return),Mp(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,Mp(o));break;default:Mp(o)}a=a.sibling}}function F2(a,o){for(;tr!==null;){var u=tr;switch(u.tag){case 0:case 11:case 15:zs(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:_f(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,tr=d;else e:for(u=a;tr!==null;){d=tr;var y=d.sibling,b=d.return;if(j2(d),d===u){tr=null;break e}if(y!==null){y.return=b,tr=y;break e}tr=b}}}var eU={getCacheForType:function(a){var o=fr(Vn),u=o.data.get(a);return u===void 0&&(u=a(),o.data.set(a,u)),u},cacheSignal:function(){return fr(Vn).controller.signal}},tU=typeof WeakMap=="function"?WeakMap:Map,Ht=0,on=null,wt=null,Et=0,Qt=0,ii=null,Fs=!1,Ou=!1,C0=!1,Za=0,Cn=0,Hs=0,ol=0,I0=0,ai=0,Cu=0,$f=null,zr=null,P0=!1,Dp=0,H2=0,Lp=1/0,Vp=null,Gs=null,Gn=0,Ks=null,Iu=null,es=0,k0=0,R0=null,G2=null,Uf=0,N0=null;function si(){return(Ht&2)!==0&&Et!==0?Et&-Et:F.T!==null?$0():Xl()}function K2(){if(ai===0)if((Et&536870912)===0||Nt){var a=Ue;Ue<<=1,(Ue&3932160)===0&&(Ue=262144),ai=a}else ai=536870912;return a=ni.current,a!==null&&(a.flags|=32),ai}function Fr(a,o,u){(a===on&&(Qt===2||Qt===9)||a.cancelPendingCommit!==null)&&(Pu(a,0),Ws(a,Et,ai,!1)),Xr(a,u),((Ht&2)===0||a!==on)&&(a===on&&((Ht&2)===0&&(ol|=u),Cn===4&&Ws(a,Et,ai,!1)),ya(a))}function W2(a,o,u){if((Ht&6)!==0)throw Error(r(327));var d=!u&&(o&127)===0&&(o&a.expiredLanes)===0||jt(a,o),y=d?iU(a,o):M0(a,o,!0),b=d;do{if(y===0){Ou&&!d&&Ws(a,o,0,!1);break}else{if(u=a.current.alternate,b&&!nU(u)){y=M0(a,o,!1),b=!1;continue}if(y===2){if(b=o,a.errorRecoveryDisabledLanes&b)var k=0;else k=a.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){o=k;e:{var q=a;y=$f;var K=q.current.memoizedState.isDehydrated;if(K&&(Pu(q,k).flags|=256),k=M0(q,k,!1),k!==2){if(C0&&!K){q.errorRecoveryDisabledLanes|=b,ol|=b,y=4;break e}b=zr,zr=y,b!==null&&(zr===null?zr=b:zr.push.apply(zr,b))}y=k}if(b=!1,y!==2)continue}}if(y===1){Pu(a,0),Ws(a,o,0,!0);break}e:{switch(d=a,b=y,b){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Ws(d,o,ai,!Fs);break e;case 2:zr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(y=Dp+300-Ie(),10<y)){if(Ws(d,o,ai,!Fs),pt(d,0,!0)!==0)break e;es=o,d.timeoutHandle=EC(Y2.bind(null,d,u,zr,Vp,P0,o,ai,ol,Cu,Fs,b,"Throttled",-0,0),y);break e}Y2(d,u,zr,Vp,P0,o,ai,ol,Cu,Fs,b,null,-0,0)}}break}while(!0);ya(a)}function Y2(a,o,u,d,y,b,k,q,K,ae,fe,ge,se,ce){if(a.timeoutHandle=-1,ge=o.subtreeFlags,ge&8192||(ge&16785408)===16785408){ge={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ui},B2(o,b,ge);var Ve=(b&62914560)===b?Dp-Ie():(b&4194048)===b?H2-Ie():0;if(Ve=UU(ge,Ve),Ve!==null){es=b,a.cancelPendingCommit=Ve(rC.bind(null,a,o,b,u,d,y,k,q,K,fe,ge,null,se,ce)),Ws(a,b,k,!ae);return}}rC(a,o,b,u,d,y,k,q,K)}function nU(a){for(var o=a;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var y=u[d],b=y.getSnapshot;y=y.value;try{if(!ei(b(),y))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ws(a,o,u,d){o&=~I0,o&=~ol,a.suspendedLanes|=o,a.pingedLanes&=~o,d&&(a.warmLanes|=o),d=a.expirationTimes;for(var y=o;0<y;){var b=31-ot(y),k=1<<b;d[b]=-1,y&=~k}u!==0&&Ma(a,u,o)}function $p(){return(Ht&6)===0?(Bf(0),!1):!0}function j0(){if(wt!==null){if(Qt===0)var a=wt.return;else a=wt,za=Jo=null,Xv(a),xu=null,Sf=0,a=wt;for(;a!==null;)A2(a.alternate,a),a=a.return;wt=null}}function Pu(a,o){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,wU(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),es=0,j0(),on=a,wt=u=Ba(a.current,null),Et=o,Qt=0,ii=null,Fs=!1,Ou=jt(a,o),C0=!1,Cu=ai=I0=ol=Hs=Cn=0,zr=$f=null,P0=!1,(o&8)!==0&&(o|=o&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=o;0<d;){var y=31-ot(d),b=1<<y;o|=a[y],d&=~b}return Za=o,sp(),u}function X2(a,o){yt=null,F.H=kf,o===bu||o===pp?(o=hO(),Qt=3):o===Vv?(o=hO(),Qt=4):Qt=o===h0?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ii=o,wt===null&&(Cn=1,Cp(a,wi(o,a.current)))}function Q2(){var a=ni.current;return a===null?!0:(Et&4194048)===Et?Ai===null:(Et&62914560)===Et||(Et&536870912)!==0?a===Ai:!1}function J2(){var a=F.H;return F.H=kf,a===null?kf:a}function Z2(){var a=F.A;return F.A=eU,a}function Up(){Cn=4,Fs||(Et&4194048)!==Et&&ni.current!==null||(Ou=!0),(Hs&134217727)===0&&(ol&134217727)===0||on===null||Ws(on,Et,ai,!1)}function M0(a,o,u){var d=Ht;Ht|=2;var y=J2(),b=Z2();(on!==a||Et!==o)&&(Vp=null,Pu(a,o)),o=!1;var k=Cn;e:do try{if(Qt!==0&&wt!==null){var q=wt,K=ii;switch(Qt){case 8:j0(),k=6;break e;case 3:case 2:case 9:case 6:ni.current===null&&(o=!0);var ae=Qt;if(Qt=0,ii=null,ku(a,q,K,ae),u&&Ou){k=0;break e}break;default:ae=Qt,Qt=0,ii=null,ku(a,q,K,ae)}}rU(),k=Cn;break}catch(fe){X2(a,fe)}while(!0);return o&&a.shellSuspendCounter++,za=Jo=null,Ht=d,F.H=y,F.A=b,wt===null&&(on=null,Et=0,sp()),k}function rU(){for(;wt!==null;)eC(wt)}function iU(a,o){var u=Ht;Ht|=2;var d=J2(),y=Z2();on!==a||Et!==o?(Vp=null,Lp=Ie()+500,Pu(a,o)):Ou=jt(a,o);e:do try{if(Qt!==0&&wt!==null){o=wt;var b=ii;t:switch(Qt){case 1:Qt=0,ii=null,ku(a,o,b,1);break;case 2:case 9:if(cO(b)){Qt=0,ii=null,tC(o);break}o=function(){Qt!==2&&Qt!==9||on!==a||(Qt=7),ya(a)},b.then(o,o);break e;case 3:Qt=7;break e;case 4:Qt=5;break e;case 7:cO(b)?(Qt=0,ii=null,tC(o)):(Qt=0,ii=null,ku(a,o,b,7));break;case 5:var k=null;switch(wt.tag){case 26:k=wt.memoizedState;case 5:case 27:var q=wt;if(k?UC(k):q.stateNode.complete){Qt=0,ii=null;var K=q.sibling;if(K!==null)wt=K;else{var ae=q.return;ae!==null?(wt=ae,Bp(ae)):wt=null}break t}}Qt=0,ii=null,ku(a,o,b,5);break;case 6:Qt=0,ii=null,ku(a,o,b,6);break;case 8:j0(),Cn=6;break e;default:throw Error(r(462))}}aU();break}catch(fe){X2(a,fe)}while(!0);return za=Jo=null,F.H=d,F.A=y,Ht=u,wt!==null?0:(on=null,Et=0,sp(),Cn)}function aU(){for(;wt!==null&&!Dt();)eC(wt)}function eC(a){var o=T2(a.alternate,a,Za);a.memoizedProps=a.pendingProps,o===null?Bp(a):wt=o}function tC(a){var o=a,u=o.alternate;switch(o.tag){case 15:case 0:o=v2(u,o,o.pendingProps,o.type,void 0,Et);break;case 11:o=v2(u,o,o.pendingProps,o.type.render,o.ref,Et);break;case 5:Xv(o);default:A2(u,o),o=wt=ZA(o,Za),o=T2(u,o,Za)}a.memoizedProps=a.pendingProps,o===null?Bp(a):wt=o}function ku(a,o,u,d){za=Jo=null,Xv(o),xu=null,Sf=0;var y=o.return;try{if(K$(a,y,o,u,Et)){Cn=1,Cp(a,wi(u,a.current)),wt=null;return}}catch(b){if(y!==null)throw wt=y,b;Cn=1,Cp(a,wi(u,a.current)),wt=null;return}o.flags&32768?(Nt||d===1?a=!0:Ou||(Et&536870912)!==0?a=!1:(Fs=a=!0,(d===2||d===9||d===3||d===6)&&(d=ni.current,d!==null&&d.tag===13&&(d.flags|=16384))),nC(o,a)):Bp(o)}function Bp(a){var o=a;do{if((o.flags&32768)!==0){nC(o,Fs);return}a=o.return;var u=X$(o.alternate,o,Za);if(u!==null){wt=u;return}if(o=o.sibling,o!==null){wt=o;return}wt=o=a}while(o!==null);Cn===0&&(Cn=5)}function nC(a,o){do{var u=Q$(a.alternate,a);if(u!==null){u.flags&=32767,wt=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(a=a.sibling,a!==null)){wt=a;return}wt=a=u}while(a!==null);Cn=6,wt=null}function rC(a,o,u,d,y,b,k,q,K){a.cancelPendingCommit=null;do qp();while(Gn!==0);if((Ht&6)!==0)throw Error(r(327));if(o!==null){if(o===a.current)throw Error(r(177));if(b=o.lanes|o.childLanes,b|=Sv,sf(a,u,b,k,q,K),a===on&&(wt=on=null,Et=0),Iu=o,Ks=a,es=u,k0=b,R0=y,G2=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,uU(Zt,function(){return lC(),null})):(a.callbackNode=null,a.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=F.T,F.T=null,y=Y.p,Y.p=2,k=Ht,Ht|=4;try{J$(a,o,u)}finally{Ht=k,Y.p=y,F.T=d}}Gn=1,iC(),aC(),sC()}}function iC(){if(Gn===1){Gn=0;var a=Ks,o=Iu,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=F.T,F.T=null;var d=Y.p;Y.p=2;var y=Ht;Ht|=4;try{V2(o,a);var b=K0,k=FA(a.containerInfo),q=b.focusedElem,K=b.selectionRange;if(k!==q&&q&&q.ownerDocument&&zA(q.ownerDocument.documentElement,q)){if(K!==null&&vv(q)){var ae=K.start,fe=K.end;if(fe===void 0&&(fe=ae),"selectionStart"in q)q.selectionStart=ae,q.selectionEnd=Math.min(fe,q.value.length);else{var ge=q.ownerDocument||document,se=ge&&ge.defaultView||window;if(se.getSelection){var ce=se.getSelection(),Ve=q.textContent.length,et=Math.min(K.start,Ve),an=K.end===void 0?et:Math.min(K.end,Ve);!ce.extend&&et>an&&(k=an,an=et,et=k);var Z=qA(q,et),X=qA(q,an);if(Z&&X&&(ce.rangeCount!==1||ce.anchorNode!==Z.node||ce.anchorOffset!==Z.offset||ce.focusNode!==X.node||ce.focusOffset!==X.offset)){var re=ge.createRange();re.setStart(Z.node,Z.offset),ce.removeAllRanges(),et>an?(ce.addRange(re),ce.extend(X.node,X.offset)):(re.setEnd(X.node,X.offset),ce.addRange(re))}}}}for(ge=[],ce=q;ce=ce.parentNode;)ce.nodeType===1&&ge.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<ge.length;q++){var pe=ge[q];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}em=!!G0,K0=G0=null}finally{Ht=y,Y.p=d,F.T=u}}a.current=o,Gn=2}}function aC(){if(Gn===2){Gn=0;var a=Ks,o=Iu,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=F.T,F.T=null;var d=Y.p;Y.p=2;var y=Ht;Ht|=4;try{N2(a,o.alternate,o)}finally{Ht=y,Y.p=d,F.T=u}}Gn=3}}function sC(){if(Gn===4||Gn===3){Gn=0,En();var a=Ks,o=Iu,u=es,d=G2;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Gn=5:(Gn=0,Iu=Ks=null,oC(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(Gs=null),Li(u),o=o.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Ae,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=F.T,y=Y.p,Y.p=2,F.T=null;try{for(var b=a.onRecoverableError,k=0;k<d.length;k++){var q=d[k];b(q.value,{componentStack:q.stack})}}finally{F.T=o,Y.p=y}}(es&3)!==0&&qp(),ya(a),y=a.pendingLanes,(u&261930)!==0&&(y&42)!==0?a===N0?Uf++:(Uf=0,N0=a):Uf=0,Bf(0)}}function oC(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,_f(o)))}function qp(){return iC(),aC(),sC(),lC()}function lC(){if(Gn!==5)return!1;var a=Ks,o=k0;k0=0;var u=Li(es),d=F.T,y=Y.p;try{Y.p=32>u?32:u,F.T=null,u=R0,R0=null;var b=Ks,k=es;if(Gn=0,Iu=Ks=null,es=0,(Ht&6)!==0)throw Error(r(331));var q=Ht;if(Ht|=4,z2(b.current),U2(b,b.current,k,u),Ht=q,Bf(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Ae,b)}catch{}return!0}finally{Y.p=y,F.T=d,oC(a,o)}}function uC(a,o,u){o=wi(u,o),o=f0(a.stateNode,o,2),a=Us(a,o,2),a!==null&&(Xr(a,2),ya(a))}function Jt(a,o,u){if(a.tag===3)uC(a,a,u);else for(;o!==null;){if(o.tag===3){uC(o,a,u);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Gs===null||!Gs.has(d))){a=wi(u,a),u=c2(2),d=Us(o,u,2),d!==null&&(f2(u,d,o,a),Xr(d,2),ya(d));break}}o=o.return}}function D0(a,o,u){var d=a.pingCache;if(d===null){d=a.pingCache=new tU;var y=new Set;d.set(o,y)}else y=d.get(o),y===void 0&&(y=new Set,d.set(o,y));y.has(u)||(C0=!0,y.add(u),a=sU.bind(null,a,o,u),o.then(a,a))}function sU(a,o,u){var d=a.pingCache;d!==null&&d.delete(o),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,on===a&&(Et&u)===u&&(Cn===4||Cn===3&&(Et&62914560)===Et&&300>Ie()-Dp?(Ht&2)===0&&Pu(a,0):I0|=u,Cu===Et&&(Cu=0)),ya(a)}function cC(a,o){o===0&&(o=Vr()),a=Yo(a,o),a!==null&&(Xr(a,o),ya(a))}function oU(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),cC(a,u)}function lU(a,o){var u=0;switch(a.tag){case 31:case 13:var d=a.stateNode,y=a.memoizedState;y!==null&&(u=y.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(o),cC(a,u)}function uU(a,o){return qe(a,o)}var zp=null,Ru=null,L0=!1,Fp=!1,V0=!1,Ys=0;function ya(a){a!==Ru&&a.next===null&&(Ru===null?zp=Ru=a:Ru=Ru.next=a),Fp=!0,L0||(L0=!0,fU())}function Bf(a,o){if(!V0&&Fp){V0=!0;do for(var u=!1,d=zp;d!==null;){if(a!==0){var y=d.pendingLanes;if(y===0)var b=0;else{var k=d.suspendedLanes,q=d.pingedLanes;b=(1<<31-ot(42|a)+1)-1,b&=y&~(k&~q),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,pC(d,b))}else b=Et,b=pt(d,d===on?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||jt(d,b)||(u=!0,pC(d,b));d=d.next}while(u);V0=!1}}function cU(){fC()}function fC(){Fp=L0=!1;var a=0;Ys!==0&&_U()&&(a=Ys);for(var o=Ie(),u=null,d=zp;d!==null;){var y=d.next,b=hC(d,o);b===0?(d.next=null,u===null?zp=y:u.next=y,y===null&&(Ru=u)):(u=d,(a!==0||(b&3)!==0)&&(Fp=!0)),d=y}Gn!==0&&Gn!==5||Bf(a),Ys!==0&&(Ys=0)}function hC(a,o){for(var u=a.suspendedLanes,d=a.pingedLanes,y=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var k=31-ot(b),q=1<<k,K=y[k];K===-1?((q&u)===0||(q&d)!==0)&&(y[k]=or(q,o)):K<=o&&(a.expiredLanes|=q),b&=~q}if(o=on,u=Et,u=pt(a,a===o?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d=a.callbackNode,u===0||a===o&&(Qt===2||Qt===9)||a.cancelPendingCommit!==null)return d!==null&&d!==null&&_t(d),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||jt(a,u)){if(o=u&-u,o===a.callbackPriority)return o;switch(d!==null&&_t(d),Li(u)){case 2:case 8:u=Vt;break;case 32:u=Zt;break;case 268435456:u=xn;break;default:u=Zt}return d=dC.bind(null,a),u=qe(u,d),a.callbackPriority=o,a.callbackNode=u,o}return d!==null&&d!==null&&_t(d),a.callbackPriority=2,a.callbackNode=null,2}function dC(a,o){if(Gn!==0&&Gn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(qp()&&a.callbackNode!==u)return null;var d=Et;return d=pt(a,a===on?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d===0?null:(W2(a,d,o),hC(a,Ie()),a.callbackNode!=null&&a.callbackNode===u?dC.bind(null,a):null)}function pC(a,o){if(qp())return null;W2(a,o,!0)}function fU(){SU(function(){(Ht&6)!==0?qe(xt,cU):fC()})}function $0(){if(Ys===0){var a=yu;a===0&&(a=$t,$t<<=1,($t&261888)===0&&($t=256)),Ys=a}return Ys}function mC(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:nu(""+a)}function gC(a,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,a.id&&u.setAttribute("form",a.id),o.parentNode.insertBefore(u,o),a=new FormData(a),u.parentNode.removeChild(u),a}function hU(a,o,u,d,y){if(o==="submit"&&u&&u.stateNode===y){var b=mC((y[kn]||null).action),k=d.submitter;k&&(o=(o=k[kn]||null)?mC(o.formAction):k.getAttribute("formAction"),o!==null&&(b=o,k=null));var q=new ca("action","action",null,d,y);a.push({event:q,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ys!==0){var K=k?gC(y,k):new FormData(y);a0(u,{pending:!0,data:K,method:y.method,action:b},null,K)}}else typeof b=="function"&&(q.preventDefault(),K=k?gC(y,k):new FormData(y),a0(u,{pending:!0,data:K,method:y.method,action:b},b,K))},currentTarget:y}]})}}for(var U0=0;U0<wv.length;U0++){var B0=wv[U0],dU=B0.toLowerCase(),pU=B0[0].toUpperCase()+B0.slice(1);Hi(dU,"on"+pU)}Hi(KA,"onAnimationEnd"),Hi(WA,"onAnimationIteration"),Hi(YA,"onAnimationStart"),Hi("dblclick","onDoubleClick"),Hi("focusin","onFocus"),Hi("focusout","onBlur"),Hi(P$,"onTransitionRun"),Hi(k$,"onTransitionStart"),Hi(R$,"onTransitionCancel"),Hi(XA,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),Zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qf));function yC(a,o){o=(o&4)!==0;for(var u=0;u<a.length;u++){var d=a[u],y=d.event;d=d.listeners;e:{var b=void 0;if(o)for(var k=d.length-1;0<=k;k--){var q=d[k],K=q.instance,ae=q.currentTarget;if(q=q.listener,K!==b&&y.isPropagationStopped())break e;b=q,y.currentTarget=ae;try{b(y)}catch(fe){ap(fe)}y.currentTarget=null,b=K}else for(k=0;k<d.length;k++){if(q=d[k],K=q.instance,ae=q.currentTarget,q=q.listener,K!==b&&y.isPropagationStopped())break e;b=q,y.currentTarget=ae;try{b(y)}catch(fe){ap(fe)}y.currentTarget=null,b=K}}}}function St(a,o){var u=o[Vi];u===void 0&&(u=o[Vi]=new Set);var d=a+"__bubble";u.has(d)||(vC(o,a,2,!1),u.add(d))}function q0(a,o,u){var d=0;o&&(d|=4),vC(u,a,d,o)}var Hp="_reactListening"+Math.random().toString(36).slice(2);function z0(a){if(!a[Hp]){a[Hp]=!0,Mo.forEach(function(u){u!=="selectionchange"&&(mU.has(u)||q0(u,!1,a),q0(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Hp]||(o[Hp]=!0,q0("selectionchange",!1,o))}}function vC(a,o,u,d){switch(KC(o)){case 2:var y=zU;break;case 8:y=FU;break;default:y=ib}u=y.bind(null,o,u,a),y=void 0,!Bo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),d?y!==void 0?a.addEventListener(o,u,{capture:!0,passive:y}):a.addEventListener(o,u,!0):y!==void 0?a.addEventListener(o,u,{passive:y}):a.addEventListener(o,u,!1)}function F0(a,o,u,d,y){var b=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var k=d.tag;if(k===3||k===4){var q=d.stateNode.containerInfo;if(q===y)break;if(k===4)for(k=d.return;k!==null;){var K=k.tag;if((K===3||K===4)&&k.stateNode.containerInfo===y)return;k=k.return}for(;q!==null;){if(k=br(q),k===null)return;if(K=k.tag,K===5||K===6||K===26||K===27){d=b=k;continue e}q=q.parentNode}}d=d.return}Ps(function(){var ae=b,fe=vi(u),ge=[];e:{var se=QA.get(a);if(se!==void 0){var ce=ca,Ve=a;switch(a){case"keypress":if(zo(u)===0)break e;case"keydown":case"keyup":ce=np;break;case"focusin":Ve="focus",ce=Ho;break;case"focusout":Ve="blur",ce=Ho;break;case"beforeblur":case"afterblur":ce=Ho;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=df;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Kd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=E;break;case KA:case WA:case YA:ce=Yd;break;case XA:ce=z;break;case"scroll":case"scrollend":ce=hf;break;case"wheel":ce=le;break;case"copy":case"cut":case"paste":ce=Xd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=Ua;break;case"toggle":case"beforetoggle":ce=gt}var et=(o&4)!==0,an=!et&&(a==="scroll"||a==="scrollend"),Z=et?se!==null?se+"Capture":null:se;et=[];for(var X=ae,re;X!==null;){var pe=X;if(re=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||re===null||Z===null||(pe=Bi(X,Z),pe!=null&&et.push(zf(X,pe,re))),an)break;X=X.return}0<et.length&&(se=new ce(se,Ve,null,u,fe),ge.push({event:se,listeners:et}))}}if((o&7)===0){e:{if(se=a==="mouseover"||a==="pointerover",ce=a==="mouseout"||a==="pointerout",se&&u!==uf&&(Ve=u.relatedTarget||u.fromElement)&&(br(Ve)||Ve[$r]))break e;if((ce||se)&&(se=fe.window===fe?fe:(se=fe.ownerDocument)?se.defaultView||se.parentWindow:window,ce?(Ve=u.relatedTarget||u.toElement,ce=ae,Ve=Ve?br(Ve):null,Ve!==null&&(an=s(Ve),et=Ve.tag,Ve!==an||et!==5&&et!==27&&et!==6)&&(Ve=null)):(ce=null,Ve=ae),ce!==Ve)){if(et=df,pe="onMouseLeave",Z="onMouseEnter",X="mouse",(a==="pointerout"||a==="pointerover")&&(et=Ua,pe="onPointerLeave",Z="onPointerEnter",X="pointer"),an=ce==null?se:Pr(ce),re=Ve==null?se:Pr(Ve),se=new et(pe,X+"leave",ce,u,fe),se.target=an,se.relatedTarget=re,pe=null,br(fe)===ae&&(et=new et(Z,X+"enter",Ve,u,fe),et.target=re,et.relatedTarget=an,pe=et),an=pe,ce&&Ve)t:{for(et=gU,Z=ce,X=Ve,re=0,pe=Z;pe;pe=et(pe))re++;pe=0;for(var Xe=X;Xe;Xe=et(Xe))pe++;for(;0<re-pe;)Z=et(Z),re--;for(;0<pe-re;)X=et(X),pe--;for(;re--;){if(Z===X||X!==null&&Z===X.alternate){et=Z;break t}Z=et(Z),X=et(X)}et=null}else et=null;ce!==null&&bC(ge,se,ce,et,!1),Ve!==null&&an!==null&&bC(ge,an,Ve,et,!0)}}e:{if(se=ae?Pr(ae):window,ce=se.nodeName&&se.nodeName.toLowerCase(),ce==="select"||ce==="input"&&se.type==="file")var Ut=DA;else if(jA(se))if(LA)Ut=O$;else{Ut=E$;var ze=T$}else ce=se.nodeName,!ce||ce.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?ae&&tu(ae.elementType)&&(Ut=DA):Ut=A$;if(Ut&&(Ut=Ut(a,ae))){MA(ge,Ut,u,fe);break e}ze&&ze(a,se,ae),a==="focusout"&&ae&&se.type==="number"&&ae.memoizedProps.value!=null&&_r(se,"number",se.value)}switch(ze=ae?Pr(ae):window,a){case"focusin":(jA(ze)||ze.contentEditable==="true")&&(uu=ze,bv=ae,vf=null);break;case"focusout":vf=bv=uu=null;break;case"mousedown":xv=!0;break;case"contextmenu":case"mouseup":case"dragend":xv=!1,HA(ge,u,fe);break;case"selectionchange":if(I$)break;case"keydown":case"keyup":HA(ge,u,fe)}var vt;if(Ft)e:{switch(a){case"compositionstart":var At="onCompositionStart";break e;case"compositionend":At="onCompositionEnd";break e;case"compositionupdate":At="onCompositionUpdate";break e}At=void 0}else lu?Go(a,u)&&(At="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(At="onCompositionStart");At&&(da&&u.locale!=="ko"&&(lu||At!=="onCompositionStart"?At==="onCompositionEnd"&&lu&&(vt=ff()):(ua=fe,cf="value"in ua?ua.value:ua.textContent,lu=!0)),ze=Gp(ae,At),0<ze.length&&(At=new ha(At,a,null,u,fe),ge.push({event:At,listeners:ze}),vt?At.data=vt:(vt=ou(u),vt!==null&&(At.data=vt)))),(vt=xi?x$(a,u):_$(a,u))&&(At=Gp(ae,"onBeforeInput"),0<At.length&&(ze=new ha("onBeforeInput","beforeinput",null,u,fe),ge.push({event:ze,listeners:At}),ze.data=vt)),hU(ge,a,ae,u,fe)}yC(ge,o)})}function zf(a,o,u){return{instance:a,listener:o,currentTarget:u}}function Gp(a,o){for(var u=o+"Capture",d=[];a!==null;){var y=a,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=Bi(a,u),y!=null&&d.unshift(zf(a,y,b)),y=Bi(a,o),y!=null&&d.push(zf(a,y,b))),a.tag===3)return d;a=a.return}return[]}function gU(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function bC(a,o,u,d,y){for(var b=o._reactName,k=[];u!==null&&u!==d;){var q=u,K=q.alternate,ae=q.stateNode;if(q=q.tag,K!==null&&K===d)break;q!==5&&q!==26&&q!==27||ae===null||(K=ae,y?(ae=Bi(u,b),ae!=null&&k.unshift(zf(u,ae,K))):y||(ae=Bi(u,b),ae!=null&&k.push(zf(u,ae,K)))),u=u.return}k.length!==0&&a.push({event:o,listeners:k})}var yU=/\r\n?/g,vU=/\u0000|\uFFFD/g;function xC(a){return(typeof a=="string"?a:""+a).replace(yU,`
`).replace(vU,"")}function _C(a,o){return o=xC(o),xC(a)===o}function rn(a,o,u,d,y,b){switch(u){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||lr(a,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&lr(a,""+d);break;case"className":kr(a,"class",d);break;case"tabIndex":kr(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":kr(a,u,d);break;case"style":lf(a,d,b);break;case"data":if(o!=="object"){kr(a,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||u!=="href")){a.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(u);break}d=nu(""+d),a.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(o!=="input"&&rn(a,o,"name",y.name,y,null),rn(a,o,"formEncType",y.formEncType,y,null),rn(a,o,"formMethod",y.formMethod,y,null),rn(a,o,"formTarget",y.formTarget,y,null)):(rn(a,o,"encType",y.encType,y,null),rn(a,o,"method",y.method,y,null),rn(a,o,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(u);break}d=nu(""+d),a.setAttribute(u,d);break;case"onClick":d!=null&&(a.onclick=Ui);break;case"onScroll":d!=null&&St("scroll",a);break;case"onScrollEnd":d!=null&&St("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}u=nu(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,""+d):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":d===!0?a.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,d):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(u,d):a.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(u):a.setAttribute(u,d);break;case"popover":St("beforetoggle",a),St("toggle",a),Os(a,"popover",d);break;case"xlinkActuate":An(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":An(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":An(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":An(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":An(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":An(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":An(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":An(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":An(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Os(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Gd.get(u)||u,Os(a,u,d))}}function H0(a,o,u,d,y,b){switch(u){case"style":lf(a,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof d=="string"?lr(a,d):(typeof d=="number"||typeof d=="bigint")&&lr(a,""+d);break;case"onScroll":d!=null&&St("scroll",a);break;case"onScrollEnd":d!=null&&St("scrollend",a);break;case"onClick":d!=null&&(a.onclick=Ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!La.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),o=u.slice(2,y?u.length-7:void 0),b=a[kn]||null,b=b!=null?b[u]:null,typeof b=="function"&&a.removeEventListener(o,b,y),typeof d=="function")){typeof b!="function"&&b!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(o,d,y);break e}u in a?a[u]=d:d===!0?a.setAttribute(u,""):Os(a,u,d)}}}function dr(a,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":St("error",a),St("load",a);var d=!1,y=!1,b;for(b in u)if(u.hasOwnProperty(b)){var k=u[b];if(k!=null)switch(b){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:rn(a,o,b,k,u,null)}}y&&rn(a,o,"srcSet",u.srcSet,u,null),d&&rn(a,o,"src",u.src,u,null);return;case"input":St("invalid",a);var q=b=k=y=null,K=null,ae=null;for(d in u)if(u.hasOwnProperty(d)){var fe=u[d];if(fe!=null)switch(d){case"name":y=fe;break;case"type":k=fe;break;case"checked":K=fe;break;case"defaultChecked":ae=fe;break;case"value":b=fe;break;case"defaultValue":q=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,o));break;default:rn(a,o,d,fe,u,null)}}Lt(a,b,q,K,ae,k,y,!1);return;case"select":St("invalid",a),d=k=b=null;for(y in u)if(u.hasOwnProperty(y)&&(q=u[y],q!=null))switch(y){case"value":b=q;break;case"defaultValue":k=q;break;case"multiple":d=q;default:rn(a,o,y,q,u,null)}o=b,u=k,a.multiple=!!d,o!=null?sa(a,!!d,o,!1):u!=null&&sa(a,!!d,u,!0);return;case"textarea":St("invalid",a),b=y=d=null;for(k in u)if(u.hasOwnProperty(k)&&(q=u[k],q!=null))switch(k){case"value":d=q;break;case"defaultValue":y=q;break;case"children":b=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(91));break;default:rn(a,o,k,q,u,null)}oa(a,d,y,b);return;case"option":for(K in u)if(u.hasOwnProperty(K)&&(d=u[K],d!=null))switch(K){case"selected":a.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:rn(a,o,K,d,u,null)}return;case"dialog":St("beforetoggle",a),St("toggle",a),St("cancel",a),St("close",a);break;case"iframe":case"object":St("load",a);break;case"video":case"audio":for(d=0;d<qf.length;d++)St(qf[d],a);break;case"image":St("error",a),St("load",a);break;case"details":St("toggle",a);break;case"embed":case"source":case"link":St("error",a),St("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in u)if(u.hasOwnProperty(ae)&&(d=u[ae],d!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:rn(a,o,ae,d,u,null)}return;default:if(tu(o)){for(fe in u)u.hasOwnProperty(fe)&&(d=u[fe],d!==void 0&&H0(a,o,fe,d,u,void 0));return}}for(q in u)u.hasOwnProperty(q)&&(d=u[q],d!=null&&rn(a,o,q,d,u,null))}function bU(a,o,u,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,k=null,q=null,K=null,ae=null,fe=null;for(ce in u){var ge=u[ce];if(u.hasOwnProperty(ce)&&ge!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":K=ge;default:d.hasOwnProperty(ce)||rn(a,o,ce,null,d,ge)}}for(var se in d){var ce=d[se];if(ge=u[se],d.hasOwnProperty(se)&&(ce!=null||ge!=null))switch(se){case"type":b=ce;break;case"name":y=ce;break;case"checked":ae=ce;break;case"defaultChecked":fe=ce;break;case"value":k=ce;break;case"defaultValue":q=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,o));break;default:ce!==ge&&rn(a,o,se,ce,d,ge)}}mt(a,k,q,K,ae,fe,b,y);return;case"select":ce=k=q=se=null;for(b in u)if(K=u[b],u.hasOwnProperty(b)&&K!=null)switch(b){case"value":break;case"multiple":ce=K;default:d.hasOwnProperty(b)||rn(a,o,b,null,d,K)}for(y in d)if(b=d[y],K=u[y],d.hasOwnProperty(y)&&(b!=null||K!=null))switch(y){case"value":se=b;break;case"defaultValue":q=b;break;case"multiple":k=b;default:b!==K&&rn(a,o,y,b,d,K)}o=q,u=k,d=ce,se!=null?sa(a,!!u,se,!1):!!d!=!!u&&(o!=null?sa(a,!!u,o,!0):sa(a,!!u,u?[]:"",!1));return;case"textarea":ce=se=null;for(q in u)if(y=u[q],u.hasOwnProperty(q)&&y!=null&&!d.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:rn(a,o,q,null,d,y)}for(k in d)if(y=d[k],b=u[k],d.hasOwnProperty(k)&&(y!=null||b!=null))switch(k){case"value":se=y;break;case"defaultValue":ce=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==b&&rn(a,o,k,y,d,b)}eu(a,se,ce);return;case"option":for(var Ve in u)if(se=u[Ve],u.hasOwnProperty(Ve)&&se!=null&&!d.hasOwnProperty(Ve))switch(Ve){case"selected":a.selected=!1;break;default:rn(a,o,Ve,null,d,se)}for(K in d)if(se=d[K],ce=u[K],d.hasOwnProperty(K)&&se!==ce&&(se!=null||ce!=null))switch(K){case"selected":a.selected=se&&typeof se!="function"&&typeof se!="symbol";break;default:rn(a,o,K,se,d,ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var et in u)se=u[et],u.hasOwnProperty(et)&&se!=null&&!d.hasOwnProperty(et)&&rn(a,o,et,null,d,se);for(ae in d)if(se=d[ae],ce=u[ae],d.hasOwnProperty(ae)&&se!==ce&&(se!=null||ce!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,o));break;default:rn(a,o,ae,se,d,ce)}return;default:if(tu(o)){for(var an in u)se=u[an],u.hasOwnProperty(an)&&se!==void 0&&!d.hasOwnProperty(an)&&H0(a,o,an,void 0,d,se);for(fe in d)se=d[fe],ce=u[fe],!d.hasOwnProperty(fe)||se===ce||se===void 0&&ce===void 0||H0(a,o,fe,se,d,ce);return}}for(var Z in u)se=u[Z],u.hasOwnProperty(Z)&&se!=null&&!d.hasOwnProperty(Z)&&rn(a,o,Z,null,d,se);for(ge in d)se=d[ge],ce=u[ge],!d.hasOwnProperty(ge)||se===ce||se==null&&ce==null||rn(a,o,ge,se,d,ce)}function wC(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xU(){if(typeof performance.getEntriesByType=="function"){for(var a=0,o=0,u=performance.getEntriesByType("resource"),d=0;d<u.length;d++){var y=u[d],b=y.transferSize,k=y.initiatorType,q=y.duration;if(b&&q&&wC(k)){for(k=0,q=y.responseEnd,d+=1;d<u.length;d++){var K=u[d],ae=K.startTime;if(ae>q)break;var fe=K.transferSize,ge=K.initiatorType;fe&&wC(ge)&&(K=K.responseEnd,k+=fe*(K<q?1:(q-ae)/(K-ae)))}if(--d,o+=8*(b+k)/(y.duration/1e3),a++,10<a)break}}if(0<a)return o/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var G0=null,K0=null;function Kp(a){return a.nodeType===9?a:a.ownerDocument}function SC(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function TC(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function W0(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Y0=null;function _U(){var a=window.event;return a&&a.type==="popstate"?a===Y0?!1:(Y0=a,!0):(Y0=null,!1)}var EC=typeof setTimeout=="function"?setTimeout:void 0,wU=typeof clearTimeout=="function"?clearTimeout:void 0,AC=typeof Promise=="function"?Promise:void 0,SU=typeof queueMicrotask=="function"?queueMicrotask:typeof AC<"u"?function(a){return AC.resolve(null).then(a).catch(TU)}:EC;function TU(a){setTimeout(function(){throw a})}function Xs(a){return a==="head"}function OC(a,o){var u=o,d=0;do{var y=u.nextSibling;if(a.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"||u==="/&"){if(d===0){a.removeChild(y),Du(o);return}d--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")d++;else if(u==="html")Ff(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,Ff(u);for(var b=u.firstChild;b;){var k=b.nextSibling,q=b.nodeName;b[mi]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=k}}else u==="body"&&Ff(a.ownerDocument.body);u=y}while(u);Du(o)}function CC(a,o){var u=a;a=0;do{var d=u.nextSibling;if(u.nodeType===1?o?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(o?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),d&&d.nodeType===8)if(u=d.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=d}while(u)}function X0(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":X0(u),$i(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function EU(a,o,u,d){for(;a.nodeType===1;){var y=u;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[mi])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=Oi(a.nextSibling),a===null)break}return null}function AU(a,o,u){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Oi(a.nextSibling),a===null))return null;return a}function IC(a,o){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=Oi(a.nextSibling),a===null))return null;return a}function Q0(a){return a.data==="$?"||a.data==="$~"}function J0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function OU(a,o){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=o;else if(a.data!=="$?"||u.readyState!=="loading")o();else{var d=function(){o(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}function Oi(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return a}var Z0=null;function PC(a){a=a.nextSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(o===0)return Oi(a.nextSibling);o--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||o++}a=a.nextSibling}return null}function kC(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(o===0)return a;o--}else u!=="/$"&&u!=="/&"||o++}a=a.previousSibling}return null}function RC(a,o,u){switch(o=Kp(u),a){case"html":if(a=o.documentElement,!a)throw Error(r(452));return a;case"head":if(a=o.head,!a)throw Error(r(453));return a;case"body":if(a=o.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Ff(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);$i(a)}var Ci=new Map,NC=new Set;function Wp(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ts=Y.d;Y.d={f:CU,r:IU,D:PU,C:kU,L:RU,m:NU,X:MU,S:jU,M:DU};function CU(){var a=ts.f(),o=$p();return a||o}function IU(a){var o=xr(a);o!==null&&o.tag===5&&o.type==="form"?XO(o):ts.r(a)}var Nu=typeof document>"u"?null:document;function jC(a,o,u){var d=Nu;if(d&&typeof o=="string"&&o){var y=lt(o);y='link[rel="'+a+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),NC.has(y)||(NC.add(y),a={rel:a,crossOrigin:u,href:o},d.querySelector(y)===null&&(o=d.createElement("link"),dr(o,"link",a),_n(o),d.head.appendChild(o)))}}function PU(a){ts.D(a),jC("dns-prefetch",a,null)}function kU(a,o){ts.C(a,o),jC("preconnect",a,o)}function RU(a,o,u){ts.L(a,o,u);var d=Nu;if(d&&a&&o){var y='link[rel="preload"][as="'+lt(o)+'"]';o==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+lt(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+lt(u.imageSizes)+'"]')):y+='[href="'+lt(a)+'"]';var b=y;switch(o){case"style":b=ju(a);break;case"script":b=Mu(a)}Ci.has(b)||(a=m({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:a,as:o},u),Ci.set(b,a),d.querySelector(y)!==null||o==="style"&&d.querySelector(Hf(b))||o==="script"&&d.querySelector(Gf(b))||(o=d.createElement("link"),dr(o,"link",a),_n(o),d.head.appendChild(o)))}}function NU(a,o){ts.m(a,o);var u=Nu;if(u&&a){var d=o&&typeof o.as=="string"?o.as:"script",y='link[rel="modulepreload"][as="'+lt(d)+'"][href="'+lt(a)+'"]',b=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Mu(a)}if(!Ci.has(b)&&(a=m({rel:"modulepreload",href:a},o),Ci.set(b,a),u.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Gf(b)))return}d=u.createElement("link"),dr(d,"link",a),_n(d),u.head.appendChild(d)}}}function jU(a,o,u){ts.S(a,o,u);var d=Nu;if(d&&a){var y=gi(d).hoistableStyles,b=ju(a);o=o||"default";var k=y.get(b);if(!k){var q={loading:0,preload:null};if(k=d.querySelector(Hf(b)))q.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":o},u),(u=Ci.get(b))&&eb(a,u);var K=k=d.createElement("link");_n(K),dr(K,"link",a),K._p=new Promise(function(ae,fe){K.onload=ae,K.onerror=fe}),K.addEventListener("load",function(){q.loading|=1}),K.addEventListener("error",function(){q.loading|=2}),q.loading|=4,Yp(k,o,d)}k={type:"stylesheet",instance:k,count:1,state:q},y.set(b,k)}}}function MU(a,o){ts.X(a,o);var u=Nu;if(u&&a){var d=gi(u).hoistableScripts,y=Mu(a),b=d.get(y);b||(b=u.querySelector(Gf(y)),b||(a=m({src:a,async:!0},o),(o=Ci.get(y))&&tb(a,o),b=u.createElement("script"),_n(b),dr(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(y,b))}}function DU(a,o){ts.M(a,o);var u=Nu;if(u&&a){var d=gi(u).hoistableScripts,y=Mu(a),b=d.get(y);b||(b=u.querySelector(Gf(y)),b||(a=m({src:a,async:!0,type:"module"},o),(o=Ci.get(y))&&tb(a,o),b=u.createElement("script"),_n(b),dr(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(y,b))}}function MC(a,o,u,d){var y=(y=Se.current)?Wp(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=ju(u.href),u=gi(y).hoistableStyles,d=u.get(o),d||(d={type:"style",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=ju(u.href);var b=gi(y).hoistableStyles,k=b.get(a);if(k||(y=y.ownerDocument||y,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,k),(b=y.querySelector(Hf(a)))&&!b._p&&(k.instance=b,k.state.loading=5),Ci.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},Ci.set(a,u),b||LU(y,a,u,k.state))),o&&d===null)throw Error(r(528,""));return k}if(o&&d!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Mu(u),u=gi(y).hoistableScripts,d=u.get(o),d||(d={type:"script",instance:null,count:0,state:null},u.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function ju(a){return'href="'+lt(a)+'"'}function Hf(a){return'link[rel="stylesheet"]['+a+"]"}function DC(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function LU(a,o,u,d){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=a.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),dr(o,"link",u),_n(o),a.head.appendChild(o))}function Mu(a){return'[src="'+lt(a)+'"]'}function Gf(a){return"script[async]"+a}function LC(a,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var d=a.querySelector('style[data-href~="'+lt(u.href)+'"]');if(d)return o.instance=d,_n(d),d;var y=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),_n(d),dr(d,"style",y),Yp(d,u.precedence,a),o.instance=d;case"stylesheet":y=ju(u.href);var b=a.querySelector(Hf(y));if(b)return o.state.loading|=4,o.instance=b,_n(b),b;d=DC(u),(y=Ci.get(y))&&eb(d,y),b=(a.ownerDocument||a).createElement("link"),_n(b);var k=b;return k._p=new Promise(function(q,K){k.onload=q,k.onerror=K}),dr(b,"link",d),o.state.loading|=4,Yp(b,u.precedence,a),o.instance=b;case"script":return b=Mu(u.src),(y=a.querySelector(Gf(b)))?(o.instance=y,_n(y),y):(d=u,(y=Ci.get(b))&&(d=m({},u),tb(d,y)),a=a.ownerDocument||a,y=a.createElement("script"),_n(y),dr(y,"link",d),a.head.appendChild(y),o.instance=y);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,Yp(d,u.precedence,a));return o.instance}function Yp(a,o,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,b=y,k=0;k<d.length;k++){var q=d[k];if(q.dataset.precedence===o)b=q;else if(b!==y)break}b?b.parentNode.insertBefore(a,b.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(a,o.firstChild))}function eb(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function tb(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var Xp=null;function VC(a,o,u){if(Xp===null){var d=new Map,y=Xp=new Map;y.set(u,d)}else y=Xp,d=y.get(u),d||(d=new Map,y.set(u,d));if(d.has(a))return d;for(d.set(a,null),u=u.getElementsByTagName(a),y=0;y<u.length;y++){var b=u[y];if(!(b[mi]||b[Pn]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var k=b.getAttribute(o)||"";k=a+k;var q=d.get(k);q?q.push(b):d.set(k,[b])}}return d}function $C(a,o,u){a=a.ownerDocument||a,a.head.insertBefore(u,o==="title"?a.querySelector("head > title"):null)}function VU(a,o,u){if(u===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function UC(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function $U(a,o,u,d){if(u.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var y=ju(d.href),b=o.querySelector(Hf(y));if(b){o=b._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(a.count++,a=Qp.bind(a),o.then(a,a)),u.state.loading|=4,u.instance=b,_n(b);return}b=o.ownerDocument||o,d=DC(d),(y=Ci.get(y))&&eb(d,y),b=b.createElement("link"),_n(b);var k=b;k._p=new Promise(function(q,K){k.onload=q,k.onerror=K}),dr(b,"link",d),u.instance=b}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=Qp.bind(a),o.addEventListener("load",u),o.addEventListener("error",u))}}var nb=0;function UU(a,o){return a.stylesheets&&a.count===0&&Zp(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var d=setTimeout(function(){if(a.stylesheets&&Zp(a,a.stylesheets),a.unsuspend){var b=a.unsuspend;a.unsuspend=null,b()}},6e4+o);0<a.imgBytes&&nb===0&&(nb=62500*xU());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Zp(a,a.stylesheets),a.unsuspend)){var b=a.unsuspend;a.unsuspend=null,b()}},(a.imgBytes>nb?50:800)+o);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(d),clearTimeout(y)}}:null}function Qp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zp(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Jp=null;function Zp(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Jp=new Map,o.forEach(BU,a),Jp=null,Qp.call(a))}function BU(a,o){if(!(o.state.loading&4)){var u=Jp.get(a);if(u)var d=u.get(null);else{u=new Map,Jp.set(a,u);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var k=y[b];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(u.set(k.dataset.precedence,k),d=k)}d&&u.set(null,d)}y=o.instance,k=y.getAttribute("data-precedence"),b=u.get(k)||d,b===d&&u.set(null,y),u.set(k,y),this.count++,d=Qp.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),b?b.parentNode.insertBefore(y,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),o.state.loading|=4}}var Kf={$$typeof:R,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function qU(a,o,u,d,y,b,k,q,K){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dn(0),this.hiddenUpdates=Dn(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function BC(a,o,u,d,y,b,k,q,K,ae,fe,ge){return a=new qU(a,o,u,k,K,ae,fe,ge,q),o=1,b===!0&&(o|=24),b=ti(3,null,null,o),a.current=b,b.stateNode=a,o=Mv(),o.refCount++,a.pooledCache=o,o.refCount++,b.memoizedState={element:d,isDehydrated:u,cache:o},$v(b),a}function qC(a){return a?(a=hu,a):hu}function zC(a,o,u,d,y,b){y=qC(y),d.context===null?d.context=y:d.pendingContext=y,d=$s(o),d.payload={element:u},b=b===void 0?null:b,b!==null&&(d.callback=b),u=Us(a,d,o),u!==null&&(Fr(u,a,o),Ef(u,a,o))}function FC(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function rb(a,o){FC(a,o),(a=a.alternate)&&FC(a,o)}function HC(a){if(a.tag===13||a.tag===31){var o=Yo(a,67108864);o!==null&&Fr(o,a,67108864),rb(a,67108864)}}function GC(a){if(a.tag===13||a.tag===31){var o=si();o=Da(o);var u=Yo(a,o);u!==null&&Fr(u,a,o),rb(a,o)}}var em=!0;function zU(a,o,u,d){var y=F.T;F.T=null;var b=Y.p;try{Y.p=2,ib(a,o,u,d)}finally{Y.p=b,F.T=y}}function FU(a,o,u,d){var y=F.T;F.T=null;var b=Y.p;try{Y.p=8,ib(a,o,u,d)}finally{Y.p=b,F.T=y}}function ib(a,o,u,d){if(em){var y=ab(d);if(y===null)F0(a,o,d,tm,u),WC(a,d);else if(GU(y,a,o,u,d))d.stopPropagation();else if(WC(a,d),o&4&&-1<HU.indexOf(a)){for(;y!==null;){var b=xr(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var k=je(b.pendingLanes);if(k!==0){var q=b;for(q.pendingLanes|=2,q.entangledLanes|=2;k;){var K=1<<31-ot(k);q.entanglements[1]|=K,k&=~K}ya(b),(Ht&6)===0&&(Lp=Ie()+500,Bf(0))}}break;case 31:case 13:q=Yo(b,2),q!==null&&Fr(q,b,2),$p(),rb(b,2)}if(b=ab(d),b===null&&F0(a,o,d,tm,u),b===y)break;y=b}y!==null&&d.stopPropagation()}else F0(a,o,d,null,u)}}function ab(a){return a=vi(a),sb(a)}var tm=null;function sb(a){if(tm=null,a=br(a),a!==null){var o=s(a);if(o===null)a=null;else{var u=o.tag;if(u===13){if(a=l(o),a!==null)return a;a=null}else if(u===31){if(a=c(o),a!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return tm=a,null}function KC(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ht()){case xt:return 2;case Vt:return 8;case Zt:case en:return 32;case xn:return 268435456;default:return 32}default:return 32}}var ob=!1,Qs=null,Js=null,Zs=null,Wf=new Map,Yf=new Map,eo=[],HU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function WC(a,o){switch(a){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":Wf.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yf.delete(o.pointerId)}}function Xf(a,o,u,d,y,b){return a===null||a.nativeEvent!==b?(a={blockedOn:o,domEventName:u,eventSystemFlags:d,nativeEvent:b,targetContainers:[y]},o!==null&&(o=xr(o),o!==null&&HC(o)),a):(a.eventSystemFlags|=d,o=a.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),a)}function GU(a,o,u,d,y){switch(o){case"focusin":return Qs=Xf(Qs,a,o,u,d,y),!0;case"dragenter":return Js=Xf(Js,a,o,u,d,y),!0;case"mouseover":return Zs=Xf(Zs,a,o,u,d,y),!0;case"pointerover":var b=y.pointerId;return Wf.set(b,Xf(Wf.get(b)||null,a,o,u,d,y)),!0;case"gotpointercapture":return b=y.pointerId,Yf.set(b,Xf(Yf.get(b)||null,a,o,u,d,y)),!0}return!1}function YC(a){var o=br(a.target);if(o!==null){var u=s(o);if(u!==null){if(o=u.tag,o===13){if(o=l(u),o!==null){a.blockedOn=o,Qr(a.priority,function(){GC(u)});return}}else if(o===31){if(o=c(u),o!==null){a.blockedOn=o,Qr(a.priority,function(){GC(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function nm(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=ab(a.nativeEvent);if(u===null){u=a.nativeEvent;var d=new u.constructor(u.type,u);uf=d,u.target.dispatchEvent(d),uf=null}else return o=xr(u),o!==null&&HC(o),a.blockedOn=u,!1;o.shift()}return!0}function XC(a,o,u){nm(a)&&u.delete(o)}function KU(){ob=!1,Qs!==null&&nm(Qs)&&(Qs=null),Js!==null&&nm(Js)&&(Js=null),Zs!==null&&nm(Zs)&&(Zs=null),Wf.forEach(XC),Yf.forEach(XC)}function rm(a,o){a.blockedOn===o&&(a.blockedOn=null,ob||(ob=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,KU)))}var im=null;function QC(a){im!==a&&(im=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){im===a&&(im=null);for(var o=0;o<a.length;o+=3){var u=a[o],d=a[o+1],y=a[o+2];if(typeof d!="function"){if(sb(d||u)===null)continue;break}var b=xr(u);b!==null&&(a.splice(o,3),o-=3,a0(b,{pending:!0,data:y,method:u.method,action:d},d,y))}}))}function Du(a){function o(K){return rm(K,a)}Qs!==null&&rm(Qs,a),Js!==null&&rm(Js,a),Zs!==null&&rm(Zs,a),Wf.forEach(o),Yf.forEach(o);for(var u=0;u<eo.length;u++){var d=eo[u];d.blockedOn===a&&(d.blockedOn=null)}for(;0<eo.length&&(u=eo[0],u.blockedOn===null);)YC(u),u.blockedOn===null&&eo.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var y=u[d],b=u[d+1],k=y[kn]||null;if(typeof b=="function")k||QC(u);else if(k){var q=null;if(b&&b.hasAttribute("formAction")){if(y=b,k=b[kn]||null)q=k.formAction;else if(sb(y)!==null)continue}else q=k.action;typeof q=="function"?u[d+1]=q:(u.splice(d,3),d-=3),QC(u)}}}function JC(){function a(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(k){return y=k})},focusReset:"manual",scroll:"manual"})}function o(){y!==null&&(y(),y=null),d||setTimeout(u,20)}function u(){if(!d&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(u,100),function(){d=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),y!==null&&(y(),y=null)}}}function lb(a){this._internalRoot=a}am.prototype.render=lb.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,d=si();zC(u,d,a,o,null,null)},am.prototype.unmount=lb.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;zC(a.current,2,null,a,null,null),$p(),o[$r]=null}};function am(a){this._internalRoot=a}am.prototype.unstable_scheduleHydration=function(a){if(a){var o=Xl();a={blockedOn:null,target:a,priority:o};for(var u=0;u<eo.length&&o!==0&&o<eo[u].priority;u++);eo.splice(u,0,a),u===0&&YC(a)}};var ZC=e.version;if(ZC!=="19.2.0")throw Error(r(527,ZC,"19.2.0"));Y.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(o),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var WU={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sm.isDisabled&&sm.supportsFiber)try{Ae=sm.inject(WU),Ge=sm}catch{}}return Jf.createRoot=function(a,o){if(!i(a))throw Error(r(299));var u=!1,d="",y=s2,b=o2,k=l2;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(k=o.onRecoverableError)),o=BC(a,1,!1,null,null,u,d,null,y,b,k,JC),a[$r]=o.current,z0(a),new lb(o)},Jf.hydrateRoot=function(a,o,u){if(!i(a))throw Error(r(299));var d=!1,y="",b=s2,k=o2,q=l2,K=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(k=u.onCaughtError),u.onRecoverableError!==void 0&&(q=u.onRecoverableError),u.formState!==void 0&&(K=u.formState)),o=BC(a,1,!0,o,u??null,d,y,K,b,k,q,JC),o.context=qC(null),u=o.current,d=si(),d=Da(d),y=$s(d),y.callback=null,Us(u,y,d),u=d,o.current.lanes=u,Xr(o,u),ya(o),a[$r]=o.current,z0(a),new am(o)},Jf.version="19.2.0",Jf}var uI;function iB(){if(uI)return cb.exports;uI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),cb.exports=rB(),cb.exports}var aB=iB();const sB=Gt(aB);var U=MT();const G=Gt(U),fde=XU({__proto__:null,default:G},[U]),oB=()=>{};var cI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},lB=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],c=t[n++],f=((i&7)<<18|(s&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},cL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,c=l?t[i+1]:0,f=i+2<t.length,h=f?t[i+2]:0,p=s>>2,m=(s&3)<<4|c>>4;let v=(c&15)<<2|h>>6,_=h&63;f||(_=64,l||(v=64)),r.push(n[p],n[m],n[v],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||c==null||h==null||m==null)throw new uB;const v=s<<2|c>>4;if(r.push(v),h!==64){const _=c<<4&240|h>>2;if(r.push(_),m!==64){const T=h<<6&192|m;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class uB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cB=function(t){const e=uL(t);return cL.encodeByteArray(e,!0)},$m=function(t){return cB(t).replace(/\./g,"")},fL=function(t){try{return cL.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB=()=>fB().__FIREBASE_DEFAULTS__,dB=()=>{if(typeof process>"u"||typeof cI>"u")return;const t=cI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},pB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fL(t[1]);return e&&JSON.parse(e)},ly=()=>{try{return oB()||hB()||dB()||pB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hL=t=>{var e,n;return(n=(e=ly())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},mB=t=>{const e=hL(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},dL=()=>{var t;return(t=ly())==null?void 0:t.config},pL=t=>{var e;return(e=ly())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gB{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mL(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yB(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[$m(JSON.stringify(n)),$m(JSON.stringify(l)),""].join(".")}const xh={};function vB(){const t={prod:[],emulator:[]};for(const e of Object.keys(xh))xh[e]?t.emulator.push(e):t.prod.push(e);return t}function bB(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let fI=!1;function gL(t,e){if(typeof window>"u"||typeof document>"u"||!Hc(window.location.host)||xh[t]===e||xh[t]||fI)return;xh[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",s=vB().prod.length>0;function l(){const v=document.getElementById(r);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,_){v.setAttribute("width","24"),v.setAttribute("id",_),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function h(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{fI=!0,l()},v}function p(v,_){v.setAttribute("id",_),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function m(){const v=bB(r),_=n("text"),T=document.getElementById(_)||document.createElement("span"),S=n("learnmore"),w=document.getElementById(S)||document.createElement("a"),O=n("preprendIcon"),C=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const R=v.element;c(R),p(w,S);const V=h();f(C,O),R.append(C,T,w,V),document.body.appendChild(R)}s?(T.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cr())}function _B(){var e;const t=(e=ly())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wB(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EB(){const t=Cr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function AB(){return!_B()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OB(){try{return typeof indexedDB=="object"}catch{return!1}}function CB(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IB="FirebaseError";class _s extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=IB,Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ed.prototype.create)}}class Ed{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?PB(s,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new _s(i,c,r)}}function PB(t,e){return t.replace(kB,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const kB=/\{\$([^}]+)}/g;function RB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Pl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(hI(s)&&hI(l)){if(!Pl(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function hI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function NB(t,e){const n=new jB(t,e);return n.subscribe.bind(n)}class jB{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");MB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=mb),i.error===void 0&&(i.error=mb),i.complete===void 0&&(i.complete=mb);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MB(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function mb(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(t){return t&&t._delegate?t._delegate:t}class kl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new gB;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VB(e))try{this.getOrInitializeService({instanceIdentifier:dl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=dl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=dl){return this.instances.has(e)}getOptions(e=dl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:LB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=dl){return this.component?this.component.multipleInstances?e:dl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LB(t){return t===dl?void 0:t}function VB(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new DB(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ot||(Ot={}));const UB={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},BB=Ot.INFO,qB={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},zB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=qB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class DT{constructor(e){this.name=e,this._logLevel=BB,this._logHandler=zB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...e),this._logHandler(this,Ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...e),this._logHandler(this,Ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...e),this._logHandler(this,Ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...e),this._logHandler(this,Ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...e),this._logHandler(this,Ot.ERROR,...e)}}const FB=(t,e)=>e.some(n=>t instanceof n);let dI,pI;function HB(){return dI||(dI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GB(){return pI||(pI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yL=new WeakMap,j1=new WeakMap,vL=new WeakMap,gb=new WeakMap,LT=new WeakMap;function KB(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(ho(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&yL.set(n,t)}).catch(()=>{}),LT.set(e,t),e}function WB(t){if(j1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});j1.set(t,e)}let M1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return j1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ho(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function YB(t){M1=t(M1)}function XB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(yb(this),e,...n);return vL.set(r,e.sort?e.sort():[e]),ho(r)}:GB().includes(t)?function(...e){return t.apply(yb(this),e),ho(yL.get(this))}:function(...e){return ho(t.apply(yb(this),e))}}function QB(t){return typeof t=="function"?XB(t):(t instanceof IDBTransaction&&WB(t),FB(t,HB())?new Proxy(t,M1):t)}function ho(t){if(t instanceof IDBRequest)return KB(t);if(gb.has(t))return gb.get(t);const e=QB(t);return e!==t&&(gb.set(t,e),LT.set(e,t)),e}const yb=t=>LT.get(t);function JB(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),c=ho(l);return r&&l.addEventListener("upgradeneeded",f=>{r(ho(l.result),f.oldVersion,f.newVersion,ho(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{s&&f.addEventListener("close",()=>s()),i&&f.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const ZB=["get","getKey","getAll","getAllKeys","count"],eq=["put","add","delete","clear"],vb=new Map;function mI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vb.get(e))return vb.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=eq.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ZB.includes(n)))return;const s=async function(l,...c){const f=this.transaction(l,i?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),i&&f.done]))[0]};return vb.set(e,s),s}YB(t=>({...t,get:(e,n,r)=>mI(e,n)||t.get(e,n,r),has:(e,n)=>!!mI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nq(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function nq(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const D1="@firebase/app",gI="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new DT("@firebase/app"),rq="@firebase/app-compat",iq="@firebase/analytics-compat",aq="@firebase/analytics",sq="@firebase/app-check-compat",oq="@firebase/app-check",lq="@firebase/auth",uq="@firebase/auth-compat",cq="@firebase/database",fq="@firebase/data-connect",hq="@firebase/database-compat",dq="@firebase/functions",pq="@firebase/functions-compat",mq="@firebase/installations",gq="@firebase/installations-compat",yq="@firebase/messaging",vq="@firebase/messaging-compat",bq="@firebase/performance",xq="@firebase/performance-compat",_q="@firebase/remote-config",wq="@firebase/remote-config-compat",Sq="@firebase/storage",Tq="@firebase/storage-compat",Eq="@firebase/firestore",Aq="@firebase/ai",Oq="@firebase/firestore-compat",Cq="firebase",Iq="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="[DEFAULT]",Pq={[D1]:"fire-core",[rq]:"fire-core-compat",[aq]:"fire-analytics",[iq]:"fire-analytics-compat",[oq]:"fire-app-check",[sq]:"fire-app-check-compat",[lq]:"fire-auth",[uq]:"fire-auth-compat",[cq]:"fire-rtdb",[fq]:"fire-data-connect",[hq]:"fire-rtdb-compat",[dq]:"fire-fn",[pq]:"fire-fn-compat",[mq]:"fire-iid",[gq]:"fire-iid-compat",[yq]:"fire-fcm",[vq]:"fire-fcm-compat",[bq]:"fire-perf",[xq]:"fire-perf-compat",[_q]:"fire-rc",[wq]:"fire-rc-compat",[Sq]:"fire-gcs",[Tq]:"fire-gcs-compat",[Eq]:"fire-fst",[Oq]:"fire-fst-compat",[Aq]:"fire-vertex","fire-js":"fire-js",[Cq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um=new Map,kq=new Map,V1=new Map;function yI(t,e){try{t.container.addComponent(e)}catch(n){ps.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function uc(t){const e=t.name;if(V1.has(e))return ps.debug(`There were multiple attempts to register component ${e}.`),!1;V1.set(e,t);for(const n of Um.values())yI(n,t);for(const n of kq.values())yI(n,t);return!0}function VT(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ji(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},po=new Ed("app","Firebase",Rq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw po.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=Iq;function bL(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:L1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw po.create("bad-app-name",{appName:String(i)});if(n||(n=dL()),!n)throw po.create("no-options");const s=Um.get(i);if(s){if(Pl(n,s.options)&&Pl(r,s.config))return s;throw po.create("duplicate-app",{appName:i})}const l=new $B(i);for(const f of V1.values())l.addComponent(f);const c=new Nq(n,r,l);return Um.set(i,c),c}function xL(t=L1){const e=Um.get(t);if(!e&&t===L1&&dL())return bL();if(!e)throw po.create("no-app",{appName:t});return e}function mo(t,e,n){let r=Pq[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ps.warn(l.join(" "));return}uc(new kl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jq="firebase-heartbeat-database",Mq=1,jh="firebase-heartbeat-store";let bb=null;function _L(){return bb||(bb=JB(jq,Mq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(jh)}catch(n){console.warn(n)}}}}).catch(t=>{throw po.create("idb-open",{originalErrorMessage:t.message})})),bb}async function Dq(t){try{const n=(await _L()).transaction(jh),r=await n.objectStore(jh).get(wL(t));return await n.done,r}catch(e){if(e instanceof _s)ps.warn(e.message);else{const n=po.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ps.warn(n.message)}}}async function vI(t,e){try{const r=(await _L()).transaction(jh,"readwrite");await r.objectStore(jh).put(e,wL(t)),await r.done}catch(n){if(n instanceof _s)ps.warn(n.message);else{const r=po.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ps.warn(r.message)}}}function wL(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lq=1024,Vq=30;class $q{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Bq(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=bI();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Vq){const l=qq(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ps.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bI(),{heartbeatsToSend:r,unsentEntries:i}=Uq(this._heartbeatsCache.heartbeats),s=$m(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ps.warn(n),""}}}function bI(){return new Date().toISOString().substring(0,10)}function Uq(t,e=Lq){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),xI(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Bq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OB()?CB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Dq(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return vI(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return vI(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function xI(t){return $m(JSON.stringify({version:2,heartbeats:t})).length}function qq(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zq(t){uc(new kl("platform-logger",e=>new tq(e),"PRIVATE")),uc(new kl("heartbeat",e=>new $q(e),"PRIVATE")),mo(D1,gI,t),mo(D1,gI,"esm2020"),mo("fire-js","")}zq("");function SL(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Fq=SL,TL=new Ed("auth","Firebase",SL());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm=new DT("@firebase/auth");function Hq(t,...e){Bm.logLevel<=Ot.WARN&&Bm.warn(`Auth (${Gc}): ${t}`,...e)}function Cm(t,...e){Bm.logLevel<=Ot.ERROR&&Bm.error(`Auth (${Gc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(t,...e){throw UT(t,...e)}function ta(t,...e){return UT(t,...e)}function $T(t,e,n){const r={...Fq(),[e]:n};return new Ed("auth","Firebase",r).create(e,{appName:t.name})}function Al(t){return $T(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gq(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ca(t,"argument-error"),$T(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function UT(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return TL.create(t,...e)}function it(t,e,...n){if(!t)throw UT(e,...n)}function ss(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Cm(e),new Error(e)}function ms(t,e){t||ss(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Kq(){return _I()==="http:"||_I()==="https:"}function _I(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Kq()||SB()||"connection"in navigator)?navigator.onLine:!0}function Yq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,n){this.shortDelay=e,this.longDelay=n,ms(n>e,"Short delay should be less than long delay!"),this.isMobile=xB()||TB()}get(){return Wq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(t,e){ms(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qq=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Jq=new Od(3e4,6e4);function qT(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ql(t,e,n,r,i={}){return AL(t,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const c=Ad({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:f,...s};return wB()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Hc(t.emulatorConfig.host)&&(h.credentials="include"),EL.fetch()(await OL(t,t.config.apiHost,n,c),h)})}async function AL(t,e,n){t._canInitEmulator=!1;const r={...Xq,...e};try{const i=new e8(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw lm(t,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const c=s.ok?l.errorMessage:l.error.message,[f,h]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw lm(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw lm(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw lm(t,"user-disabled",l);const p=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw $T(t,p,h);Ca(t,p)}}catch(i){if(i instanceof _s)throw i;Ca(t,"network-request-failed",{message:String(i)})}}async function Zq(t,e,n,r,i={}){const s=await ql(t,e,n,r,i);return"mfaPendingCredential"in s&&Ca(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function OL(t,e,n,r){const i=`${e}${n}?${r}`,s=t,l=s.config.emulator?BT(t.config,i):`${t.config.apiScheme}://${i}`;return Qq.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(l).toString():l}class e8{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ta(this.auth,"network-request-failed")),Jq.get())})}}function lm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ta(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t8(t,e){return ql(t,"POST","/v1/accounts:delete",e)}async function qm(t,e){return ql(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function n8(t,e=!1){const n=Ir(t),r=await n.getIdToken(e),i=zT(r);it(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:_h(xb(i.auth_time)),issuedAtTime:_h(xb(i.iat)),expirationTime:_h(xb(i.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function xb(t){return Number(t)*1e3}function zT(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Cm("JWT malformed, contained fewer than 3 sections"),null;try{const i=fL(n);return i?JSON.parse(i):(Cm("Failed to decode base64 JWT payload"),null)}catch(i){return Cm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function wI(t){const e=zT(t);return it(e,"internal-error"),it(typeof e.exp<"u","internal-error"),it(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof _s&&r8(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function r8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_h(this.lastLoginAt),this.creationTime=_h(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zm(t){var m;const e=t.auth,n=await t.getIdToken(),r=await cc(t,qm(e,{idToken:n}));it(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(m=i.providerUserInfo)!=null&&m.length?CL(i.providerUserInfo):[],l=s8(t.providerData,s),c=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),h=c?f:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new U1(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function a8(t){const e=Ir(t);await zm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function s8(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function CL(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o8(t,e){const n=await AL(t,{},async()=>{const r=Ad({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,l=await OL(t,i,"/v1/token",`key=${s}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:r};return t.emulatorConfig&&Hc(t.emulatorConfig.host)&&(f.credentials="include"),EL.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function l8(t,e){return ql(t,"POST","/v2/accounts:revokeToken",qT(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){it(e.idToken,"internal-error"),it(typeof e.idToken<"u","internal-error"),it(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){it(e.length!==0,"internal-error");const n=wI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(it(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await o8(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,l=new ec;return r&&(it(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(it(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(it(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ec,this.toJSON())}_performRefresh(){return ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(t,e){it(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ea{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new i8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new U1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await cc(this,this.stsTokenManager.getToken(this.auth,e));return it(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return n8(this,e)}reload(){return a8(this)}_assign(e){this!==e&&(it(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ea({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){it(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await zm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ji(this.auth.app))return Promise.reject(Al(this.auth));const e=await this.getIdToken();return await cc(this,t8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,f=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:m,emailVerified:v,isAnonymous:_,providerData:T,stsTokenManager:S}=n;it(m&&S,e,"internal-error");const w=ec.fromJSON(this.name,S);it(typeof m=="string",e,"internal-error"),no(r,e.name),no(i,e.name),it(typeof v=="boolean",e,"internal-error"),it(typeof _=="boolean",e,"internal-error"),no(s,e.name),no(l,e.name),no(c,e.name),no(f,e.name),no(h,e.name),no(p,e.name);const O=new ea({uid:m,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:_,photoURL:l,phoneNumber:s,tenantId:c,stsTokenManager:w,createdAt:h,lastLoginAt:p});return T&&Array.isArray(T)&&(O.providerData=T.map(C=>({...C}))),f&&(O._redirectEventId=f),O}static async _fromIdTokenResponse(e,n,r=!1){const i=new ec;i.updateFromServerResponse(n);const s=new ea({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await zm(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];it(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?CL(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),c=new ec;c.updateFromIdToken(r);const f=new ea({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new U1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(f,h),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=new Map;function os(t){ms(t instanceof Function,"Expected a class definition");let e=SI.get(t);return e?(ms(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,SI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}IL.type="NONE";const TI=IL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(t,e,n){return`firebase:${t}:${e}:${n}`}class tc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Im(this.userKey,i.apiKey,s),this.fullPersistenceKey=Im("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await qm(this.auth,{idToken:e}).catch(()=>{});return n?ea._fromGetAccountInfoResponse(this.auth,n,e):null}return ea._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new tc(os(TI),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||os(TI);const l=Im(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const p=await h._get(l);if(p){let m;if(typeof p=="string"){const v=await qm(e,{idToken:p}).catch(()=>{});if(!v)break;m=await ea._fromGetAccountInfoResponse(e,v,p)}else m=ea._fromJSON(e,p);h!==s&&(c=m),s=h;break}}catch{}const f=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new tc(s,e,r):(s=f[0],c&&await s._set(l,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(l)}catch{}})),new tc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ML(e))return"Blackberry";if(DL(e))return"Webos";if(kL(e))return"Safari";if((e.includes("chrome/")||RL(e))&&!e.includes("edge/"))return"Chrome";if(jL(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function PL(t=Cr()){return/firefox\//i.test(t)}function kL(t=Cr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RL(t=Cr()){return/crios\//i.test(t)}function NL(t=Cr()){return/iemobile/i.test(t)}function jL(t=Cr()){return/android/i.test(t)}function ML(t=Cr()){return/blackberry/i.test(t)}function DL(t=Cr()){return/webos/i.test(t)}function FT(t=Cr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function u8(t=Cr()){var e;return FT(t)&&!!((e=window.navigator)!=null&&e.standalone)}function c8(){return EB()&&document.documentMode===10}function LL(t=Cr()){return FT(t)||jL(t)||DL(t)||ML(t)||/windows phone/i.test(t)||NL(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(t,e=[]){let n;switch(t){case"Browser":n=EI(Cr());break;case"Worker":n=`${EI(Cr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((l,c)=>{try{const f=e(s);l(f)}catch(f){c(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h8(t,e={}){return ql(t,"GET","/v2/passwordPolicy",qT(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8=6;class p8{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??d8,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new AI(this),this.idTokenSubscription=new AI(this),this.beforeStateQueue=new f8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=os(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await tc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await qm(this,{idToken:e}),r=await ea._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Ji(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(s=this.redirectUser)==null?void 0:s._redirectEventId,c=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&(f!=null&&f.user)&&(r=f.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return it(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Yq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ji(this.app))return Promise.reject(Al(this));const n=e?Ir(e):null;return n&&it(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&it(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ji(this.app)?Promise.reject(Al(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ji(this.app)?Promise.reject(Al(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(os(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await h8(this),n=new p8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ed("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await l8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&os(e)||this._popupRedirectResolver;it(n,this,"argument-error"),this.redirectPersistenceManager=await tc.create(this,[os(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(it(c,this,"internal-error"),c.then(()=>{l||s(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return it(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Ji(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Hq(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function uy(t){return Ir(t)}class AI{constructor(e){this.auth=e,this.observer=null,this.addObserver=NB(n=>this.observer=n)}get next(){return it(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HT={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function g8(t){HT=t}function y8(t){return HT.loadJS(t)}function v8(){return HT.gapiScript}function b8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x8(t,e){const n=VT(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Pl(s,e??{}))return i;Ca(i,"already-initialized")}return n.initialize({options:e})}function _8(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(os);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function w8(t,e,n){const r=uy(t);it(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=$L(e),{host:l,port:c}=S8(e),f=c===null?"":`:${c}`,h={url:`${s}//${l}${f}/`},p=Object.freeze({host:l,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){it(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),it(Pl(h,r.config.emulator)&&Pl(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Hc(l)?(mL(`${s}//${l}${f}`),gL("Auth",!0)):T8()}function $L(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function S8(t){const e=$L(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:OI(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:OI(l)}}}function OI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function T8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ss("not implemented")}_getIdTokenResponse(e){return ss("not implemented")}_linkToIdToken(e,n){return ss("not implemented")}_getReauthenticationResolver(e){return ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nc(t,e){return Zq(t,"POST","/v1/accounts:signInWithIdp",qT(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8="http://localhost";class Rl extends UL{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Rl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ca("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const l=new Rl(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return nc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,nc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,nc(e,n)}buildRequest(){const e={requestUri:E8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ad(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends GT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends Cd{constructor(){super("facebook.com")}static credential(e){return Rl._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return so.credentialFromTaggedObject(e)}static credentialFromError(e){return so.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return so.credential(e.oauthAccessToken)}catch{return null}}}so.FACEBOOK_SIGN_IN_METHOD="facebook.com";so.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Cd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Rl._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return as.credential(n,r)}catch{return null}}}as.GOOGLE_SIGN_IN_METHOD="google.com";as.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends Cd{constructor(){super("github.com")}static credential(e){return Rl._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oo.credentialFromTaggedObject(e)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oo.credential(e.oauthAccessToken)}catch{return null}}}oo.GITHUB_SIGN_IN_METHOD="github.com";oo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo extends Cd{constructor(){super("twitter.com")}static credential(e,n){return Rl._fromParams({providerId:lo.PROVIDER_ID,signInMethod:lo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return lo.credentialFromTaggedObject(e)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return lo.credential(n,r)}catch{return null}}}lo.TWITTER_SIGN_IN_METHOD="twitter.com";lo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ea._fromIdTokenResponse(e,r,i),l=CI(r);return new fc({user:s,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=CI(r);return new fc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function CI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm extends _s{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Fm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Fm(e,n,r,i)}}function BL(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Fm._fromErrorAndOperation(t,s,e,r):s})}async function A8(t,e,n=!1){const r=await cc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O8(t,e,n=!1){const{auth:r}=t;if(Ji(r.app))return Promise.reject(Al(r));const i="reauthenticate";try{const s=await cc(t,BL(r,i,e,t),n);it(s.idToken,r,"internal-error");const l=zT(s.idToken);it(l,r,"internal-error");const{sub:c}=l;return it(t.uid===c,r,"user-mismatch"),fc._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ca(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C8(t,e,n=!1){if(Ji(t.app))return Promise.reject(Al(t));const r="signIn",i=await BL(t,r,e),s=await fc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I8(t,e){return ql(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P8(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ir(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await cc(r,I8(r.auth,s));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:f})=>f==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function k8(t,e,n,r){return Ir(t).onIdTokenChanged(e,n,r)}function R8(t,e,n){return Ir(t).beforeAuthStateChanged(e,n)}function N8(t,e,n,r){return Ir(t).onAuthStateChanged(e,n,r)}function j8(t){return Ir(t).signOut()}const Hm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hm,"1"),this.storage.removeItem(Hm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8=1e3,D8=10;class zL extends qL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);c8()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,D8):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},M8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}zL.type="LOCAL";const L8=zL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL extends qL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}FL.type="SESSION";const HL=FL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new cy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async h=>h(n.origin,s)),f=await V8(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((c,f)=>{const h=KT("",20);i.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(m){const v=m;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(v.data.response);break;default:clearTimeout(p),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(){return window}function U8(t){xa().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GL(){return typeof xa().WorkerGlobalScope<"u"&&typeof xa().importScripts=="function"}async function B8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function q8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function z8(){return GL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL="firebaseLocalStorageDb",F8=1,Gm="firebaseLocalStorage",WL="fbase_key";class Id{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fy(t,e){return t.transaction([Gm],e?"readwrite":"readonly").objectStore(Gm)}function H8(){const t=indexedDB.deleteDatabase(KL);return new Id(t).toPromise()}function B1(){const t=indexedDB.open(KL,F8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Gm,{keyPath:WL})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Gm)?e(r):(r.close(),await H8(),e(await B1()))})})}async function II(t,e,n){const r=fy(t,!0).put({[WL]:e,value:n});return new Id(r).toPromise()}async function G8(t,e){const n=fy(t,!1).get(e),r=await new Id(n).toPromise();return r===void 0?null:r.value}function PI(t,e){const n=fy(t,!0).delete(e);return new Id(n).toPromise()}const K8=800,W8=3;class YL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await B1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>W8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cy._getInstance(z8()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await B8(),!this.activeServiceWorker)return;this.sender=new $8(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||q8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await B1();return await II(e,Hm,"1"),await PI(e,Hm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>II(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>G8(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>PI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=fy(i,!1).getAll();return new Id(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),K8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YL.type="LOCAL";const Y8=YL;new Od(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(t,e){return e?os(e):(it(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT extends UL{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return nc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return nc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function X8(t){return C8(t.auth,new WT(t),t.bypassAuthState)}function Q8(t){const{auth:e,user:n}=t;return it(n,e,"internal-error"),O8(n,new WT(t),t.bypassAuthState)}async function J8(t){const{auth:e,user:n}=t;return it(n,e,"internal-error"),A8(n,new WT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:l,type:c}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return X8;case"linkViaPopup":case"linkViaRedirect":return J8;case"reauthViaPopup":case"reauthViaRedirect":return Q8;default:Ca(this.auth,"internal-error")}}resolve(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8=new Od(2e3,1e4);async function ez(t,e,n){if(Ji(t.app))return Promise.reject(ta(t,"operation-not-supported-in-this-environment"));const r=uy(t);Gq(t,e,GT);const i=XL(r,n);return new xl(r,"signInViaPopup",e,i).executeNotNull()}class xl extends QL{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,xl.currentPopupAction&&xl.currentPopupAction.cancel(),xl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return it(e,this.auth,"internal-error"),e}async onExecution(){ms(this.filter.length===1,"Popup operations only handle one event");const e=KT();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ta(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ta(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ta(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Z8.get())};e()}}xl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tz="pendingRedirect",Pm=new Map;class nz extends QL{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Pm.get(this.auth._key());if(!e){try{const r=await rz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Pm.set(this.auth._key(),e)}return this.bypassAuthState||Pm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rz(t,e){const n=sz(e),r=az(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function iz(t,e){Pm.set(t._key(),e)}function az(t){return os(t._redirectPersistence)}function sz(t){return Im(tz,t.config.apiKey,t.name)}async function oz(t,e,n=!1){if(Ji(t.app))return Promise.reject(Al(t));const r=uy(t),i=XL(r,e),l=await new nz(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lz=600*1e3;class uz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!JL(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(ta(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lz&&this.cachedEventUids.clear(),this.cachedEventUids.has(kI(e))}saveEventToCache(e){this.cachedEventUids.add(kI(e)),this.lastProcessedEventTime=Date.now()}}function kI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function JL({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function cz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JL(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fz(t,e={}){return ql(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dz=/^https?/;async function pz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await fz(t);for(const n of e)try{if(mz(n))return}catch{}Ca(t,"unauthorized-domain")}function mz(t){const e=$1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!dz.test(n))return!1;if(hz.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gz=new Od(3e4,6e4);function RI(){const t=xa().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function yz(t){return new Promise((e,n)=>{var i,s,l;function r(){RI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{RI(),n(ta(t,"network-request-failed"))},timeout:gz.get()})}if((s=(i=xa().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((l=xa().gapi)!=null&&l.load)r();else{const c=b8("iframefcb");return xa()[c]=()=>{gapi.load?r():n(ta(t,"network-request-failed"))},y8(`${v8()}?onload=${c}`).catch(f=>n(f))}}).catch(e=>{throw km=null,e})}let km=null;function vz(t){return km=km||yz(t),km}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bz=new Od(5e3,15e3),xz="__/auth/iframe",_z="emulator/auth/iframe",wz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tz(t){const e=t.config;it(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?BT(e,_z):`https://${t.config.authDomain}/${xz}`,r={apiKey:e.apiKey,appName:t.name,v:Gc},i=Sz.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ad(r).slice(1)}`}async function Ez(t){const e=await vz(t),n=xa().gapi;return it(n,t,"internal-error"),e.open({where:document.body,url:Tz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wz,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=ta(t,"network-request-failed"),c=xa().setTimeout(()=>{s(l)},bz.get());function f(){xa().clearTimeout(c),i(r)}r.ping(f).then(f,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Az={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Oz=500,Cz=600,Iz="_blank",Pz="http://localhost";class NI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kz(t,e,n,r=Oz,i=Cz){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f={...Az,width:r.toString(),height:i.toString(),top:s,left:l},h=Cr().toLowerCase();n&&(c=RL(h)?Iz:n),PL(h)&&(e=e||Pz,f.scrollbars="yes");const p=Object.entries(f).reduce((v,[_,T])=>`${v}${_}=${T},`,"");if(u8(h)&&c!=="_self")return Rz(e||"",c),new NI(null);const m=window.open(e||"",c,p);it(m,t,"popup-blocked");try{m.focus()}catch{}return new NI(m)}function Rz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nz="__/auth/handler",jz="emulator/auth/handler",Mz=encodeURIComponent("fac");async function jI(t,e,n,r,i,s){it(t.config.authDomain,t,"auth-domain-config-required"),it(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Gc,eventId:i};if(e instanceof GT){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",RB(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))l[p]=m}if(e instanceof Cd){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const f=await t._getAppCheckToken(),h=f?`#${Mz}=${encodeURIComponent(f)}`:"";return`${Dz(t)}?${Ad(c).slice(1)}${h}`}function Dz({config:t}){return t.emulator?BT(t,jz):`https://${t.authDomain}/${Nz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="webStorageSupport";class Lz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=HL,this._completeRedirectFn=oz,this._overrideRedirectResult=iz}async _openPopup(e,n,r,i){var l;ms((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const s=await jI(e,n,r,$1(),i);return kz(e,s,KT())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await jI(e,n,r,$1(),i);return U8(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ms(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Ez(e),r=new uz(e);return n.register("authEvent",i=>(it(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_b,{type:_b},i=>{var l;const s=(l=i==null?void 0:i[0])==null?void 0:l[_b];s!==void 0&&n(!!s),Ca(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return LL()||kL()||FT()}}const Vz=Lz;var MI="@firebase/auth",DI="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){it(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Bz(t){uc(new kl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;it(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VL(t)},h=new m8(r,i,s,f);return _8(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),uc(new kl("auth-internal",e=>{const n=uy(e.getProvider("auth").getImmediate());return(r=>new $z(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mo(MI,DI,Uz(t)),mo(MI,DI,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qz=300,zz=pL("authIdTokenMaxAge")||qz;let LI=null;const Fz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>zz)return;const i=n==null?void 0:n.token;LI!==i&&(LI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Hz(t=xL()){const e=VT(t,"auth");if(e.isInitialized())return e.getImmediate();const n=x8(t,{popupRedirectResolver:Vz,persistence:[Y8,L8,HL]}),r=pL("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=Fz(s.toString());R8(n,l,()=>l(n.currentUser)),k8(n,c=>l(c))}}const i=hL("auth");return i&&w8(n,`http://${i}`),n}function Gz(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}g8({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=ta("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Gz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Bz("Browser");var VI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var go,ZL;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,P){function N(){}N.prototype=P.prototype,A.F=P.prototype,A.prototype=new N,A.prototype.constructor=A,A.D=function(B,D,$){for(var L=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)L[Q-2]=arguments[Q];return P.prototype[D].apply(B,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,P,N){N||(N=0);const B=Array(16);if(typeof P=="string")for(var D=0;D<16;++D)B[D]=P.charCodeAt(N++)|P.charCodeAt(N++)<<8|P.charCodeAt(N++)<<16|P.charCodeAt(N++)<<24;else for(D=0;D<16;++D)B[D]=P[N++]|P[N++]<<8|P[N++]<<16|P[N++]<<24;P=A.g[0],N=A.g[1],D=A.g[2];let $=A.g[3],L;L=P+($^N&(D^$))+B[0]+3614090360&4294967295,P=N+(L<<7&4294967295|L>>>25),L=$+(D^P&(N^D))+B[1]+3905402710&4294967295,$=P+(L<<12&4294967295|L>>>20),L=D+(N^$&(P^N))+B[2]+606105819&4294967295,D=$+(L<<17&4294967295|L>>>15),L=N+(P^D&($^P))+B[3]+3250441966&4294967295,N=D+(L<<22&4294967295|L>>>10),L=P+($^N&(D^$))+B[4]+4118548399&4294967295,P=N+(L<<7&4294967295|L>>>25),L=$+(D^P&(N^D))+B[5]+1200080426&4294967295,$=P+(L<<12&4294967295|L>>>20),L=D+(N^$&(P^N))+B[6]+2821735955&4294967295,D=$+(L<<17&4294967295|L>>>15),L=N+(P^D&($^P))+B[7]+4249261313&4294967295,N=D+(L<<22&4294967295|L>>>10),L=P+($^N&(D^$))+B[8]+1770035416&4294967295,P=N+(L<<7&4294967295|L>>>25),L=$+(D^P&(N^D))+B[9]+2336552879&4294967295,$=P+(L<<12&4294967295|L>>>20),L=D+(N^$&(P^N))+B[10]+4294925233&4294967295,D=$+(L<<17&4294967295|L>>>15),L=N+(P^D&($^P))+B[11]+2304563134&4294967295,N=D+(L<<22&4294967295|L>>>10),L=P+($^N&(D^$))+B[12]+1804603682&4294967295,P=N+(L<<7&4294967295|L>>>25),L=$+(D^P&(N^D))+B[13]+4254626195&4294967295,$=P+(L<<12&4294967295|L>>>20),L=D+(N^$&(P^N))+B[14]+2792965006&4294967295,D=$+(L<<17&4294967295|L>>>15),L=N+(P^D&($^P))+B[15]+1236535329&4294967295,N=D+(L<<22&4294967295|L>>>10),L=P+(D^$&(N^D))+B[1]+4129170786&4294967295,P=N+(L<<5&4294967295|L>>>27),L=$+(N^D&(P^N))+B[6]+3225465664&4294967295,$=P+(L<<9&4294967295|L>>>23),L=D+(P^N&($^P))+B[11]+643717713&4294967295,D=$+(L<<14&4294967295|L>>>18),L=N+($^P&(D^$))+B[0]+3921069994&4294967295,N=D+(L<<20&4294967295|L>>>12),L=P+(D^$&(N^D))+B[5]+3593408605&4294967295,P=N+(L<<5&4294967295|L>>>27),L=$+(N^D&(P^N))+B[10]+38016083&4294967295,$=P+(L<<9&4294967295|L>>>23),L=D+(P^N&($^P))+B[15]+3634488961&4294967295,D=$+(L<<14&4294967295|L>>>18),L=N+($^P&(D^$))+B[4]+3889429448&4294967295,N=D+(L<<20&4294967295|L>>>12),L=P+(D^$&(N^D))+B[9]+568446438&4294967295,P=N+(L<<5&4294967295|L>>>27),L=$+(N^D&(P^N))+B[14]+3275163606&4294967295,$=P+(L<<9&4294967295|L>>>23),L=D+(P^N&($^P))+B[3]+4107603335&4294967295,D=$+(L<<14&4294967295|L>>>18),L=N+($^P&(D^$))+B[8]+1163531501&4294967295,N=D+(L<<20&4294967295|L>>>12),L=P+(D^$&(N^D))+B[13]+2850285829&4294967295,P=N+(L<<5&4294967295|L>>>27),L=$+(N^D&(P^N))+B[2]+4243563512&4294967295,$=P+(L<<9&4294967295|L>>>23),L=D+(P^N&($^P))+B[7]+1735328473&4294967295,D=$+(L<<14&4294967295|L>>>18),L=N+($^P&(D^$))+B[12]+2368359562&4294967295,N=D+(L<<20&4294967295|L>>>12),L=P+(N^D^$)+B[5]+4294588738&4294967295,P=N+(L<<4&4294967295|L>>>28),L=$+(P^N^D)+B[8]+2272392833&4294967295,$=P+(L<<11&4294967295|L>>>21),L=D+($^P^N)+B[11]+1839030562&4294967295,D=$+(L<<16&4294967295|L>>>16),L=N+(D^$^P)+B[14]+4259657740&4294967295,N=D+(L<<23&4294967295|L>>>9),L=P+(N^D^$)+B[1]+2763975236&4294967295,P=N+(L<<4&4294967295|L>>>28),L=$+(P^N^D)+B[4]+1272893353&4294967295,$=P+(L<<11&4294967295|L>>>21),L=D+($^P^N)+B[7]+4139469664&4294967295,D=$+(L<<16&4294967295|L>>>16),L=N+(D^$^P)+B[10]+3200236656&4294967295,N=D+(L<<23&4294967295|L>>>9),L=P+(N^D^$)+B[13]+681279174&4294967295,P=N+(L<<4&4294967295|L>>>28),L=$+(P^N^D)+B[0]+3936430074&4294967295,$=P+(L<<11&4294967295|L>>>21),L=D+($^P^N)+B[3]+3572445317&4294967295,D=$+(L<<16&4294967295|L>>>16),L=N+(D^$^P)+B[6]+76029189&4294967295,N=D+(L<<23&4294967295|L>>>9),L=P+(N^D^$)+B[9]+3654602809&4294967295,P=N+(L<<4&4294967295|L>>>28),L=$+(P^N^D)+B[12]+3873151461&4294967295,$=P+(L<<11&4294967295|L>>>21),L=D+($^P^N)+B[15]+530742520&4294967295,D=$+(L<<16&4294967295|L>>>16),L=N+(D^$^P)+B[2]+3299628645&4294967295,N=D+(L<<23&4294967295|L>>>9),L=P+(D^(N|~$))+B[0]+4096336452&4294967295,P=N+(L<<6&4294967295|L>>>26),L=$+(N^(P|~D))+B[7]+1126891415&4294967295,$=P+(L<<10&4294967295|L>>>22),L=D+(P^($|~N))+B[14]+2878612391&4294967295,D=$+(L<<15&4294967295|L>>>17),L=N+($^(D|~P))+B[5]+4237533241&4294967295,N=D+(L<<21&4294967295|L>>>11),L=P+(D^(N|~$))+B[12]+1700485571&4294967295,P=N+(L<<6&4294967295|L>>>26),L=$+(N^(P|~D))+B[3]+2399980690&4294967295,$=P+(L<<10&4294967295|L>>>22),L=D+(P^($|~N))+B[10]+4293915773&4294967295,D=$+(L<<15&4294967295|L>>>17),L=N+($^(D|~P))+B[1]+2240044497&4294967295,N=D+(L<<21&4294967295|L>>>11),L=P+(D^(N|~$))+B[8]+1873313359&4294967295,P=N+(L<<6&4294967295|L>>>26),L=$+(N^(P|~D))+B[15]+4264355552&4294967295,$=P+(L<<10&4294967295|L>>>22),L=D+(P^($|~N))+B[6]+2734768916&4294967295,D=$+(L<<15&4294967295|L>>>17),L=N+($^(D|~P))+B[13]+1309151649&4294967295,N=D+(L<<21&4294967295|L>>>11),L=P+(D^(N|~$))+B[4]+4149444226&4294967295,P=N+(L<<6&4294967295|L>>>26),L=$+(N^(P|~D))+B[11]+3174756917&4294967295,$=P+(L<<10&4294967295|L>>>22),L=D+(P^($|~N))+B[2]+718787259&4294967295,D=$+(L<<15&4294967295|L>>>17),L=N+($^(D|~P))+B[9]+3951481745&4294967295,A.g[0]=A.g[0]+P&4294967295,A.g[1]=A.g[1]+(D+(L<<21&4294967295|L>>>11))&4294967295,A.g[2]=A.g[2]+D&4294967295,A.g[3]=A.g[3]+$&4294967295}r.prototype.v=function(A,P){P===void 0&&(P=A.length);const N=P-this.blockSize,B=this.C;let D=this.h,$=0;for(;$<P;){if(D==0)for(;$<=N;)i(this,A,$),$+=this.blockSize;if(typeof A=="string"){for(;$<P;)if(B[D++]=A.charCodeAt($++),D==this.blockSize){i(this,B),D=0;break}}else for(;$<P;)if(B[D++]=A[$++],D==this.blockSize){i(this,B),D=0;break}}this.h=D,this.o+=P},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var P=1;P<A.length-8;++P)A[P]=0;P=this.o*8;for(var N=A.length-8;N<A.length;++N)A[N]=P&255,P/=256;for(this.v(A),A=Array(16),P=0,N=0;N<4;++N)for(let B=0;B<32;B+=8)A[P++]=this.g[N]>>>B&255;return A};function s(A,P){var N=c;return Object.prototype.hasOwnProperty.call(N,A)?N[A]:N[A]=P(A)}function l(A,P){this.h=P;const N=[];let B=!0;for(let D=A.length-1;D>=0;D--){const $=A[D]|0;B&&$==P||(N[D]=$,B=!1)}this.g=N}var c={};function f(A){return-128<=A&&A<128?s(A,function(P){return new l([P|0],P<0?-1:0)}):new l([A|0],A<0?-1:0)}function h(A){if(isNaN(A)||!isFinite(A))return m;if(A<0)return w(h(-A));const P=[];let N=1;for(let B=0;A>=N;B++)P[B]=A/N|0,N*=4294967296;return new l(P,0)}function p(A,P){if(A.length==0)throw Error("number format error: empty string");if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(A.charAt(0)=="-")return w(p(A.substring(1),P));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=h(Math.pow(P,8));let B=m;for(let $=0;$<A.length;$+=8){var D=Math.min(8,A.length-$);const L=parseInt(A.substring($,$+D),P);D<8?(D=h(Math.pow(P,D)),B=B.j(D).add(h(L))):(B=B.j(N),B=B.add(h(L)))}return B}var m=f(0),v=f(1),_=f(16777216);t=l.prototype,t.m=function(){if(S(this))return-w(this).m();let A=0,P=1;for(let N=0;N<this.g.length;N++){const B=this.i(N);A+=(B>=0?B:4294967296+B)*P,P*=4294967296}return A},t.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(T(this))return"0";if(S(this))return"-"+w(this).toString(A);const P=h(Math.pow(A,6));var N=this;let B="";for(;;){const D=V(N,P).g;N=O(N,D.j(P));let $=((N.g.length>0?N.g[0]:N.h)>>>0).toString(A);if(N=D,T(N))return $+B;for(;$.length<6;)$="0"+$;B=$+B}},t.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function T(A){if(A.h!=0)return!1;for(let P=0;P<A.g.length;P++)if(A.g[P]!=0)return!1;return!0}function S(A){return A.h==-1}t.l=function(A){return A=O(this,A),S(A)?-1:T(A)?0:1};function w(A){const P=A.g.length,N=[];for(let B=0;B<P;B++)N[B]=~A.g[B];return new l(N,~A.h).add(v)}t.abs=function(){return S(this)?w(this):this},t.add=function(A){const P=Math.max(this.g.length,A.g.length),N=[];let B=0;for(let D=0;D<=P;D++){let $=B+(this.i(D)&65535)+(A.i(D)&65535),L=($>>>16)+(this.i(D)>>>16)+(A.i(D)>>>16);B=L>>>16,$&=65535,L&=65535,N[D]=L<<16|$}return new l(N,N[N.length-1]&-2147483648?-1:0)};function O(A,P){return A.add(w(P))}t.j=function(A){if(T(this)||T(A))return m;if(S(this))return S(A)?w(this).j(w(A)):w(w(this).j(A));if(S(A))return w(this.j(w(A)));if(this.l(_)<0&&A.l(_)<0)return h(this.m()*A.m());const P=this.g.length+A.g.length,N=[];for(var B=0;B<2*P;B++)N[B]=0;for(B=0;B<this.g.length;B++)for(let D=0;D<A.g.length;D++){const $=this.i(B)>>>16,L=this.i(B)&65535,Q=A.i(D)>>>16,J=A.i(D)&65535;N[2*B+2*D]+=L*J,C(N,2*B+2*D),N[2*B+2*D+1]+=$*J,C(N,2*B+2*D+1),N[2*B+2*D+1]+=L*Q,C(N,2*B+2*D+1),N[2*B+2*D+2]+=$*Q,C(N,2*B+2*D+2)}for(A=0;A<P;A++)N[A]=N[2*A+1]<<16|N[2*A];for(A=P;A<2*P;A++)N[A]=0;return new l(N,0)};function C(A,P){for(;(A[P]&65535)!=A[P];)A[P+1]+=A[P]>>>16,A[P]&=65535,P++}function R(A,P){this.g=A,this.h=P}function V(A,P){if(T(P))throw Error("division by zero");if(T(A))return new R(m,m);if(S(A))return P=V(w(A),P),new R(w(P.g),w(P.h));if(S(P))return P=V(A,w(P)),new R(w(P.g),P.h);if(A.g.length>30){if(S(A)||S(P))throw Error("slowDivide_ only works with positive integers.");for(var N=v,B=P;B.l(A)<=0;)N=I(N),B=I(B);var D=j(N,1),$=j(B,1);for(B=j(B,2),N=j(N,2);!T(B);){var L=$.add(B);L.l(A)<=0&&(D=D.add(N),$=L),B=j(B,1),N=j(N,1)}return P=O(A,D.j(P)),new R(D,P)}for(D=m;A.l(P)>=0;){for(N=Math.max(1,Math.floor(A.m()/P.m())),B=Math.ceil(Math.log(N)/Math.LN2),B=B<=48?1:Math.pow(2,B-48),$=h(N),L=$.j(P);S(L)||L.l(A)>0;)N-=B,$=h(N),L=$.j(P);T($)&&($=v),D=D.add($),A=O(A,L)}return new R(D,A)}t.B=function(A){return V(this,A).h},t.and=function(A){const P=Math.max(this.g.length,A.g.length),N=[];for(let B=0;B<P;B++)N[B]=this.i(B)&A.i(B);return new l(N,this.h&A.h)},t.or=function(A){const P=Math.max(this.g.length,A.g.length),N=[];for(let B=0;B<P;B++)N[B]=this.i(B)|A.i(B);return new l(N,this.h|A.h)},t.xor=function(A){const P=Math.max(this.g.length,A.g.length),N=[];for(let B=0;B<P;B++)N[B]=this.i(B)^A.i(B);return new l(N,this.h^A.h)};function I(A){const P=A.g.length+1,N=[];for(let B=0;B<P;B++)N[B]=A.i(B)<<1|A.i(B-1)>>>31;return new l(N,A.h)}function j(A,P){const N=P>>5;P%=32;const B=A.g.length-N,D=[];for(let $=0;$<B;$++)D[$]=P>0?A.i($+N)>>>P|A.i($+N+1)<<32-P:A.i($+N);return new l(D,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,ZL=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,go=l}).apply(typeof VI<"u"?VI:typeof self<"u"?self:typeof window<"u"?window:{});var um=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var e3,hh,t3,Rm,q1,n3,r3,i3;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof um=="object"&&um];for(var E=0;E<g.length;++E){var M=g[E];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var r=n(this);function i(g,E){if(E)e:{var M=r;g=g.split(".");for(var z=0;z<g.length-1;z++){var te=g[z];if(!(te in M))break e;M=M[te]}g=g[g.length-1],z=M[g],E=E(z),E!=z&&E!=null&&e(M,g,{configurable:!0,writable:!0,value:E})}}i("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(g){return g||function(E){var M=[],z;for(z in E)Object.prototype.hasOwnProperty.call(E,z)&&M.push([z,E[z]]);return M}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function c(g){var E=typeof g;return E=="object"&&g!=null||E=="function"}function f(g,E,M){return g.call.apply(g.bind,arguments)}function h(g,E,M){return h=f,h.apply(null,arguments)}function p(g,E){var M=Array.prototype.slice.call(arguments,1);return function(){var z=M.slice();return z.push.apply(z,arguments),g.apply(this,z)}}function m(g,E){function M(){}M.prototype=E.prototype,g.Z=E.prototype,g.prototype=new M,g.prototype.constructor=g,g.Ob=function(z,te,le){for(var Pe=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)Pe[gt-2]=arguments[gt];return E.prototype[te].apply(z,Pe)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function _(g){const E=g.length;if(E>0){const M=Array(E);for(let z=0;z<E;z++)M[z]=g[z];return M}return[]}function T(g,E){for(let z=1;z<arguments.length;z++){const te=arguments[z];var M=typeof te;if(M=M!="object"?M:te?Array.isArray(te)?"array":M:"null",M=="array"||M=="object"&&typeof te.length=="number"){M=g.length||0;const le=te.length||0;g.length=M+le;for(let Pe=0;Pe<le;Pe++)g[M+Pe]=te[Pe]}else g.push(te)}}class S{constructor(E,M){this.i=E,this.j=M,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function w(g){l.setTimeout(()=>{throw g},0)}function O(){var g=A;let E=null;return g.g&&(E=g.g,g.g=g.g.next,g.g||(g.h=null),E.next=null),E}class C{constructor(){this.h=this.g=null}add(E,M){const z=R.get();z.set(E,M),this.h?this.h.next=z:this.g=z,this.h=z}}var R=new S(()=>new V,g=>g.reset());class V{constructor(){this.next=this.g=this.h=null}set(E,M){this.h=E,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let I,j=!1,A=new C,P=()=>{const g=Promise.resolve(void 0);I=()=>{g.then(N)}};function N(){for(var g;g=O();){try{g.h.call(g.g)}catch(M){w(M)}var E=R;E.j(g),E.h<100&&(E.h++,g.next=E.g,E.g=g)}j=!1}function B(){this.u=this.u,this.C=this.C}B.prototype.u=!1,B.prototype.dispose=function(){this.u||(this.u=!0,this.N())},B.prototype[Symbol.dispose]=function(){this.dispose()},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(g,E){this.type=g,this.g=this.target=E,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,E=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const M=()=>{};l.addEventListener("test",M,E),l.removeEventListener("test",M,E)}catch{}return g})();function L(g){return/^[\s\xa0]*$/.test(g)}function Q(g,E){D.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,E)}m(Q,D),Q.prototype.init=function(g,E){const M=this.type=g.type,z=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=E,E=g.relatedTarget,E||(M=="mouseover"?E=g.fromElement:M=="mouseout"&&(E=g.toElement)),this.relatedTarget=E,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&Q.Z.h.call(this)},Q.prototype.h=function(){Q.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var J="closure_listenable_"+(Math.random()*1e6|0),F=0;function Y(g,E,M,z,te){this.listener=g,this.proxy=null,this.src=E,this.type=M,this.capture=!!z,this.ha=te,this.key=++F,this.da=this.fa=!1}function ee(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function ue(g,E,M){for(const z in g)E.call(M,g[z],z,g)}function ve(g,E){for(const M in g)E.call(void 0,g[M],M,g)}function H(g){const E={};for(const M in g)E[M]=g[M];return E}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(g,E){let M,z;for(let te=1;te<arguments.length;te++){z=arguments[te];for(M in z)g[M]=z[M];for(let le=0;le<W.length;le++)M=W[le],Object.prototype.hasOwnProperty.call(z,M)&&(g[M]=z[M])}}function me(g){this.src=g,this.g={},this.h=0}me.prototype.add=function(g,E,M,z,te){const le=g.toString();g=this.g[le],g||(g=this.g[le]=[],this.h++);const Pe=Se(g,E,z,te);return Pe>-1?(E=g[Pe],M||(E.fa=!1)):(E=new Y(E,this.src,le,!!z,te),E.fa=M,g.push(E)),E};function we(g,E){const M=E.type;if(M in g.g){var z=g.g[M],te=Array.prototype.indexOf.call(z,E,void 0),le;(le=te>=0)&&Array.prototype.splice.call(z,te,1),le&&(ee(E),g.g[M].length==0&&(delete g.g[M],g.h--))}}function Se(g,E,M,z){for(let te=0;te<g.length;++te){const le=g[te];if(!le.da&&le.listener==E&&le.capture==!!M&&le.ha==z)return te}return-1}var Ne="closure_lm_"+(Math.random()*1e6|0),$e={};function ye(g,E,M,z,te){if(Array.isArray(E)){for(let le=0;le<E.length;le++)ye(g,E[le],M,z,te);return null}return M=st(M),g&&g[J]?g.J(E,M,c(z)?!!z.capture:!1,te):Te(g,E,M,!1,z,te)}function Te(g,E,M,z,te,le){if(!E)throw Error("Invalid event type");const Pe=c(te)?!!te.capture:!!te;let gt=Be(g);if(gt||(g[Ne]=gt=new me(g)),M=gt.add(E,M,z,Pe,le),M.proxy)return M;if(z=Re(),M.proxy=z,z.src=g,z.listener=M,g.addEventListener)$||(te=Pe),te===void 0&&(te=!1),g.addEventListener(E.toString(),z,te);else if(g.attachEvent)g.attachEvent(xe(E.toString()),z);else if(g.addListener&&g.removeListener)g.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return M}function Re(){function g(M){return E.call(g.src,g.listener,M)}const E=Ee;return g}function ne(g,E,M,z,te){if(Array.isArray(E))for(var le=0;le<E.length;le++)ne(g,E[le],M,z,te);else z=c(z)?!!z.capture:!!z,M=st(M),g&&g[J]?(g=g.i,le=String(E).toString(),le in g.g&&(E=g.g[le],M=Se(E,M,z,te),M>-1&&(ee(E[M]),Array.prototype.splice.call(E,M,1),E.length==0&&(delete g.g[le],g.h--)))):g&&(g=Be(g))&&(E=g.g[E.toString()],g=-1,E&&(g=Se(E,M,z,te)),(M=g>-1?E[g]:null)&&He(M))}function He(g){if(typeof g!="number"&&g&&!g.da){var E=g.src;if(E&&E[J])we(E.i,g);else{var M=g.type,z=g.proxy;E.removeEventListener?E.removeEventListener(M,z,g.capture):E.detachEvent?E.detachEvent(xe(M),z):E.addListener&&E.removeListener&&E.removeListener(z),(M=Be(E))?(we(M,g),M.h==0&&(M.src=null,E[Ne]=null)):ee(g)}}}function xe(g){return g in $e?$e[g]:$e[g]="on"+g}function Ee(g,E){if(g.da)g=!0;else{E=new Q(E,this);const M=g.listener,z=g.ha||g.src;g.fa&&He(g),g=M.call(z,E)}return g}function Be(g){return g=g[Ne],g instanceof me?g:null}var We="__closure_events_fn_"+(Math.random()*1e9>>>0);function st(g){return typeof g=="function"?g:(g[We]||(g[We]=function(E){return g.handleEvent(E)}),g[We])}function Ye(){B.call(this),this.i=new me(this),this.M=this,this.G=null}m(Ye,B),Ye.prototype[J]=!0,Ye.prototype.removeEventListener=function(g,E,M,z){ne(this,g,E,M,z)};function qe(g,E){var M,z=g.G;if(z)for(M=[];z;z=z.G)M.push(z);if(g=g.M,z=E.type||E,typeof E=="string")E=new D(E,g);else if(E instanceof D)E.target=E.target||g;else{var te=E;E=new D(z,g),oe(E,te)}te=!0;let le,Pe;if(M)for(Pe=M.length-1;Pe>=0;Pe--)le=E.g=M[Pe],te=_t(le,z,!0,E)&&te;if(le=E.g=g,te=_t(le,z,!0,E)&&te,te=_t(le,z,!1,E)&&te,M)for(Pe=0;Pe<M.length;Pe++)le=E.g=M[Pe],te=_t(le,z,!1,E)&&te}Ye.prototype.N=function(){if(Ye.Z.N.call(this),this.i){var g=this.i;for(const E in g.g){const M=g.g[E];for(let z=0;z<M.length;z++)ee(M[z]);delete g.g[E],g.h--}}this.G=null},Ye.prototype.J=function(g,E,M,z){return this.i.add(String(g),E,!1,M,z)},Ye.prototype.K=function(g,E,M,z){return this.i.add(String(g),E,!0,M,z)};function _t(g,E,M,z){if(E=g.i.g[String(E)],!E)return!0;E=E.concat();let te=!0;for(let le=0;le<E.length;++le){const Pe=E[le];if(Pe&&!Pe.da&&Pe.capture==M){const gt=Pe.listener,Rn=Pe.ha||Pe.src;Pe.fa&&we(g.i,Pe),te=gt.call(Rn,z)!==!1&&te}}return te&&!z.defaultPrevented}function Dt(g,E){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=h(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:l.setTimeout(g,E||0)}function En(g){g.g=Dt(()=>{g.g=null,g.i&&(g.i=!1,En(g))},g.l);const E=g.h;g.h=null,g.m.apply(null,E)}class Ie extends B{constructor(E,M){super(),this.m=E,this.l=M,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:En(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ht(g){B.call(this),this.h=g,this.g={}}m(ht,B);var xt=[];function Vt(g){ue(g.g,function(E,M){this.g.hasOwnProperty(M)&&He(E)},g),g.g={}}ht.prototype.N=function(){ht.Z.N.call(this),Vt(this)},ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zt=l.JSON.stringify,en=l.JSON.parse,xn=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function Pt(){}function he(){}var Ae={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ge(){D.call(this,"d")}m(Ge,D);function kt(){D.call(this,"c")}m(kt,D);var ot={},Kt=null;function Rt(){return Kt=Kt||new Ye}ot.Ia="serverreachability";function dt(g){D.call(this,ot.Ia,g)}m(dt,D);function $t(g){const E=Rt();qe(E,new dt(E))}ot.STAT_EVENT="statevent";function Ue(g,E){D.call(this,ot.STAT_EVENT,g),this.stat=E}m(Ue,D);function Oe(g){const E=Rt();qe(E,new Ue(E,g))}ot.Ja="timingevent";function je(g,E){D.call(this,ot.Ja,g),this.size=E}m(je,D);function pt(g,E){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},E)}function jt(){this.g=!0}jt.prototype.ua=function(){this.g=!1};function or(g,E,M,z,te,le){g.info(function(){if(g.g)if(le){var Pe="",gt=le.split("&");for(let Ft=0;Ft<gt.length;Ft++){var Rn=gt[Ft].split("=");if(Rn.length>1){const gn=Rn[0];Rn=Rn[1];const xi=gn.split("_");Pe=xi.length>=2&&xi[1]=="type"?Pe+(gn+"="+Rn+"&"):Pe+(gn+"=redacted&")}}}else Pe=null;else Pe=le;return"XMLHTTP REQ ("+z+") [attempt "+te+"]: "+E+`
`+M+`
`+Pe})}function Vr(g,E,M,z,te,le,Pe){g.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+te+"]: "+E+`
`+M+`
`+le+" "+Pe})}function Dn(g,E,M,z){g.info(function(){return"XMLHTTP TEXT ("+E+"): "+sf(g,M)+(z?" "+z:"")})}function Xr(g,E){g.info(function(){return"TIMEOUT: "+E})}jt.prototype.info=function(){};function sf(g,E){if(!g.g)return E;if(!E)return null;try{const le=JSON.parse(E);if(le){for(g=0;g<le.length;g++)if(Array.isArray(le[g])){var M=le[g];if(!(M.length<2)){var z=M[1];if(Array.isArray(z)&&!(z.length<1)){var te=z[0];if(te!="noop"&&te!="stop"&&te!="close")for(let Pe=1;Pe<z.length;Pe++)z[Pe]=""}}}}return Zt(le)}catch{return E}}var Ma={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},No={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},jo;function Da(){}m(Da,Pt),Da.prototype.g=function(){return new XMLHttpRequest},jo=new Da;function Li(g){return encodeURIComponent(String(g))}function Xl(g){var E=1;g=g.split(":");const M=[];for(;E>0&&g.length;)M.push(g.shift()),E--;return g.length&&M.push(g.join(":")),M}function Qr(g,E,M,z){this.j=g,this.i=E,this.l=M,this.S=z||1,this.V=new ht(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jr}function Jr(){this.i=null,this.g="",this.h=!1}var Pn={},kn={};function $r(g,E,M){g.M=1,g.A=ke(An(E)),g.u=M,g.R=!0,Vi(g,null)}function Vi(g,E){g.F=Date.now(),mi(g),g.B=An(g.A);var M=g.B,z=g.S;Array.isArray(z)||(z=[String(z)]),tu(M.i,"t",z),g.C=0,M=g.j.L,g.h=new Jr,g.g=ep(g.j,M?E:null,!g.u),g.P>0&&(g.O=new Ie(h(g.Y,g,g.g),g.P)),E=g.V,M=g.g,z=g.ba;var te="readystatechange";Array.isArray(te)||(te&&(xt[0]=te.toString()),te=xt);for(let le=0;le<te.length;le++){const Pe=ye(M,te[le],z||E.handleEvent,!1,E.h||E);if(!Pe)break;E.g[Pe.key]=Pe}E=g.J?H(g.J):{},g.u?(g.v||(g.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,E)):(g.v="GET",g.g.ea(g.B,g.v,null,E)),$t(),or(g.i,g.v,g.B,g.l,g.S,g.u)}Qr.prototype.ba=function(g){g=g.target;const E=this.O;E&&qi(g)==3?E.j():this.Y(g)},Qr.prototype.Y=function(g){try{if(g==this.g)e:{const gt=qi(this.g),Rn=this.g.ya(),Ft=this.g.ca();if(!(gt<3)&&(gt!=3||this.g&&(this.h.h||this.g.la()||ur(this.g)))){this.K||gt!=4||Rn==7||(Rn==8||Ft<=0?$t(3):$t(2)),br(this);var E=this.g.ca();this.X=E;var M=As(this);if(this.o=E==200,Vr(this.i,this.v,this.B,this.l,this.S,gt,E),this.o){if(this.U&&!this.L){t:{if(this.g){var z,te=this.g;if((z=te.g?te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(z)){var le=z;break t}}le=null}if(g=le)Dn(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gi(this,g);else{this.o=!1,this.m=3,Oe(12),Pr(this),xr(this);break e}}if(this.R){g=!0;let gn;for(;!this.K&&this.C<M.length;)if(gn=Jl(this,M),gn==kn){gt==4&&(this.m=4,Oe(14),g=!1),Dn(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==Pn){this.m=4,Oe(15),Dn(this.i,this.l,M,"[Invalid Chunk]"),g=!1;break}else Dn(this.i,this.l,gn,null),gi(this,gn);if(Ql(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||M.length!=0||this.h.h||(this.m=1,Oe(16),g=!1),this.o=this.o&&g,!g)Dn(this.i,this.l,M,"[Invalid Chunked Response]"),Pr(this),xr(this);else if(M.length>0&&!this.W){this.W=!0;var Pe=this.j;Pe.g==this&&Pe.aa&&!Pe.P&&(Pe.j.info("Great, no buffering proxy detected. Bytes received: "+M.length),pf(Pe),Pe.P=!0,Oe(11))}}else Dn(this.i,this.l,M,null),gi(this,M);gt==4&&Pr(this),this.o&&!this.K&&(gt==4?Xd(this.j,this):(this.o=!1,mi(this)))}else $a(this.g),E==400&&M.indexOf("Unknown SID")>0?(this.m=3,Oe(12)):(this.m=0,Oe(13)),Pr(this),xr(this)}}}catch{}finally{}};function As(g){if(!Ql(g))return g.g.la();const E=ur(g.g);if(E==="")return"";let M="";const z=E.length,te=qi(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return Pr(g),xr(g),"";g.h.i=new l.TextDecoder}for(let le=0;le<z;le++)g.h.h=!0,M+=g.h.i.decode(E[le],{stream:!(te&&le==z-1)});return E.length=0,g.h.g+=M,g.C=0,g.h.g}function Ql(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function Jl(g,E){var M=g.C,z=E.indexOf(`
`,M);return z==-1?kn:(M=Number(E.substring(M,z)),isNaN(M)?Pn:(z+=1,z+M>E.length?kn:(E=E.slice(z,z+M),g.C=z+M,E)))}Qr.prototype.cancel=function(){this.K=!0,Pr(this)};function mi(g){g.T=Date.now()+g.H,$i(g,g.H)}function $i(g,E){if(g.D!=null)throw Error("WatchDog timer not null");g.D=pt(h(g.aa,g),E)}function br(g){g.D&&(l.clearTimeout(g.D),g.D=null)}Qr.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(Xr(this.i,this.B),this.M!=2&&($t(),Oe(17)),Pr(this),this.m=2,xr(this)):$i(this,this.T-g)};function xr(g){g.j.I==0||g.K||Xd(g.j,g)}function Pr(g){br(g);var E=g.O;E&&typeof E.dispose=="function"&&E.dispose(),g.O=null,Vt(g.V),g.g&&(E=g.g,g.g=null,E.abort(),E.dispose())}function gi(g,E){try{var M=g.j;if(M.I!=0&&(M.g==g||yi(M.h,g))){if(!g.L&&yi(M.h,g)&&M.I==3){try{var z=M.Ba.g.parse(E)}catch{z=null}if(Array.isArray(z)&&z.length==3){var te=z;if(te[0]==0){e:if(!M.v){if(M.g)if(M.g.F+3e3<g.F)su(M),Rs(M);else break e;Ho(M),Oe(18)}}else M.xa=te[1],0<M.xa-M.K&&te[2]<37500&&M.F&&M.A==0&&!M.C&&(M.C=pt(h(M.Va,M),6e3));Zr(M.h)<=1&&M.ta&&(M.ta=void 0)}else ha(M,11)}else if((g.L||M.g==g)&&su(M),!L(E))for(te=M.Ba.g.parse(E),E=0;E<te.length;E++){let Ft=te[E];const gn=Ft[0];if(!(gn<=M.K))if(M.K=gn,Ft=Ft[1],M.I==2)if(Ft[0]=="c"){M.M=Ft[1],M.ba=Ft[2];const xi=Ft[3];xi!=null&&(M.ka=xi,M.j.info("VER="+M.ka));const da=Ft[4];da!=null&&(M.za=da,M.j.info("SVER="+M.za));const zi=Ft[5];zi!=null&&typeof zi=="number"&&zi>0&&(z=1.5*zi,M.O=z,M.j.info("backChannelRequestTimeoutMs_="+z)),z=M;const Fi=g.g;if(Fi){const Go=Fi.g?Fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Go){var le=z.h;le.g||Go.indexOf("spdy")==-1&&Go.indexOf("quic")==-1&&Go.indexOf("h2")==-1||(le.j=le.l,le.g=new Set,le.h&&(Do(le,le.h),le.h=null))}if(z.G){const ou=Fi.g?Fi.g.getResponseHeader("X-HTTP-Session-Id"):null;ou&&(z.wa=ou,ie(z.J,z.G,ou))}}M.I=3,M.l&&M.l.ra(),M.aa&&(M.T=Date.now()-g.F,M.j.info("Handshake RTT: "+M.T+"ms")),z=M;var Pe=g;if(z.na=Zd(z,z.L?z.ba:null,z.W),Pe.L){Lo(z.h,Pe);var gt=Pe,Rn=z.O;Rn&&(gt.H=Rn),gt.D&&(br(gt),mi(gt)),z.g=Pe}else Wd(z);M.i.length>0&&fa(M)}else Ft[0]!="stop"&&Ft[0]!="close"||ha(M,7);else M.I==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?ha(M,7):hf(M):Ft[0]!="noop"&&M.l&&M.l.qa(Ft),M.A=0)}}$t(4)}catch{}}var _n=class{constructor(g,E){this.g=g,this.map=E}};function Mo(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function La(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Zr(g){return g.h?1:g.g?g.g.size:0}function yi(g,E){return g.h?g.h==E:g.g?g.g.has(E):!1}function Do(g,E){g.g?g.g.add(E):g.h=E}function Lo(g,E){g.h&&g.h==E?g.h=null:g.g&&g.g.has(E)&&g.g.delete(E)}Mo.prototype.cancel=function(){if(this.i=Vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Vo(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let E=g.i;for(const M of g.g.values())E=E.concat(M.G);return E}return _(g.i)}var Zl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Os(g,E){if(g){g=g.split("&");for(let M=0;M<g.length;M++){const z=g[M].indexOf("=");let te,le=null;z>=0?(te=g[M].substring(0,z),le=g[M].substring(z+1)):te=g[M],E(te,le?decodeURIComponent(le.replace(/\+/g," ")):"")}}}function kr(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;g instanceof kr?(this.l=g.l,Ln(this,g.j),this.o=g.o,this.g=g.g,aa(this,g.u),this.h=g.h,$o(this,Gd(g.i)),this.m=g.m):g&&(E=String(g).match(Zl))?(this.l=!1,Ln(this,E[1]||"",!0),this.o=Me(E[2]||""),this.g=Me(E[3]||"",!0),aa(this,E[4]),this.h=Me(E[5]||"",!0),$o(this,E[6]||"",!0),this.m=Me(E[7]||"")):(this.l=!1,this.i=new oa(null,this.l))}kr.prototype.toString=function(){const g=[];var E=this.j;E&&g.push(Qe(E,mt,!0),":");var M=this.g;return(M||E=="file")&&(g.push("//"),(E=this.o)&&g.push(Qe(E,mt,!0),"@"),g.push(Li(M).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.u,M!=null&&g.push(":",String(M))),(M=this.h)&&(this.g&&M.charAt(0)!="/"&&g.push("/"),g.push(Qe(M,M.charAt(0)=="/"?_r:Lt,!0))),(M=this.i.toString())&&g.push("?",M),(M=this.m)&&g.push("#",Qe(M,eu)),g.join("")},kr.prototype.resolve=function(g){const E=An(this);let M=!!g.j;M?Ln(E,g.j):M=!!g.o,M?E.o=g.o:M=!!g.g,M?E.g=g.g:M=g.u!=null;var z=g.h;if(M)aa(E,g.u);else if(M=!!g.h){if(z.charAt(0)!="/")if(this.g&&!this.h)z="/"+z;else{var te=E.h.lastIndexOf("/");te!=-1&&(z=E.h.slice(0,te+1)+z)}if(te=z,te==".."||te==".")z="";else if(te.indexOf("./")!=-1||te.indexOf("/.")!=-1){z=te.lastIndexOf("/",0)==0,te=te.split("/");const le=[];for(let Pe=0;Pe<te.length;){const gt=te[Pe++];gt=="."?z&&Pe==te.length&&le.push(""):gt==".."?((le.length>1||le.length==1&&le[0]!="")&&le.pop(),z&&Pe==te.length&&le.push("")):(le.push(gt),z=!0)}z=le.join("/")}else z=te}return M?E.h=z:M=g.i.toString()!=="",M?$o(E,Gd(g.i)):M=!!g.m,M&&(E.m=g.m),E};function An(g){return new kr(g)}function Ln(g,E,M){g.j=M?Me(E,!0):E,g.j&&(g.j=g.j.replace(/:$/,""))}function aa(g,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);g.u=E}else g.u=null}function $o(g,E,M){E instanceof oa?(g.i=E,nu(g.i,g.l)):(M||(E=Qe(E,sa)),g.i=new oa(E,g.l))}function ie(g,E,M){g.i.set(E,M)}function ke(g){return ie(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function Me(g,E){return g?E?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Qe(g,E,M){return typeof g=="string"?(g=encodeURI(g).replace(E,lt),M&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function lt(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var mt=/[#\/\?@]/g,Lt=/[#\?:]/g,_r=/[#\?]/g,sa=/[#\?@]/g,eu=/#/g;function oa(g,E){this.h=this.g=null,this.i=g||null,this.j=!!E}function lr(g){g.g||(g.g=new Map,g.h=0,g.i&&Os(g.i,function(E,M){g.add(decodeURIComponent(E.replace(/\+/g," ")),M)}))}t=oa.prototype,t.add=function(g,E){lr(this),this.i=null,g=Cs(this,g);let M=this.g.get(g);return M||this.g.set(g,M=[]),M.push(E),this.h+=1,this};function Hd(g,E){lr(g),E=Cs(g,E),g.g.has(E)&&(g.i=null,g.h-=g.g.get(E).length,g.g.delete(E))}function of(g,E){return lr(g),E=Cs(g,E),g.g.has(E)}t.forEach=function(g,E){lr(this),this.g.forEach(function(M,z){M.forEach(function(te){g.call(E,te,z,this)},this)},this)};function lf(g,E){lr(g);let M=[];if(typeof E=="string")of(g,E)&&(M=M.concat(g.g.get(Cs(g,E))));else for(g=Array.from(g.g.values()),E=0;E<g.length;E++)M=M.concat(g[E]);return M}t.set=function(g,E){return lr(this),this.i=null,g=Cs(this,g),of(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[E]),this.h+=1,this},t.get=function(g,E){return g?(g=lf(this,g),g.length>0?String(g[0]):E):E};function tu(g,E,M){Hd(g,E),M.length>0&&(g.i=null,g.g.set(Cs(g,E),_(M)),g.h+=M.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],E=Array.from(this.g.keys());for(let z=0;z<E.length;z++){var M=E[z];const te=Li(M);M=lf(this,M);for(let le=0;le<M.length;le++){let Pe=te;M[le]!==""&&(Pe+="="+Li(M[le])),g.push(Pe)}}return this.i=g.join("&")};function Gd(g){const E=new oa;return E.i=g.i,g.g&&(E.g=new Map(g.g),E.h=g.h),E}function Cs(g,E){return E=String(E),g.j&&(E=E.toLowerCase()),E}function nu(g,E){E&&!g.j&&(lr(g),g.i=null,g.g.forEach(function(M,z){const te=z.toLowerCase();z!=te&&(Hd(this,z),tu(this,te,M))},g)),g.j=E}function Ui(g,E){const M=new jt;if(l.Image){const z=new Image;z.onload=p(vi,M,"TestLoadImage: loaded",!0,E,z),z.onerror=p(vi,M,"TestLoadImage: error",!1,E,z),z.onabort=p(vi,M,"TestLoadImage: abort",!1,E,z),z.ontimeout=p(vi,M,"TestLoadImage: timeout",!1,E,z),l.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=g}else E(!1)}function uf(g,E){const M=new jt,z=new AbortController,te=setTimeout(()=>{z.abort(),vi(M,"TestPingServer: timeout",!1,E)},1e4);fetch(g,{signal:z.signal}).then(le=>{clearTimeout(te),le.ok?vi(M,"TestPingServer: ok",!0,E):vi(M,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(te),vi(M,"TestPingServer: error",!1,E)})}function vi(g,E,M,z,te){try{te&&(te.onload=null,te.onerror=null,te.onabort=null,te.ontimeout=null),z(M)}catch{}}function Is(){this.g=new xn}function la(g){this.i=g.Sb||null,this.h=g.ab||!1}m(la,Pt),la.prototype.g=function(){return new Uo(this.i,this.h)};function Uo(g,E){Ye.call(this),this.H=g,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Uo,Ye),t=Uo.prototype,t.open=function(g,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=E,this.readyState=1,Bi(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(E.body=g),(this.H||l).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ps(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Bi(this)),this.g&&(this.readyState=3,Bi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ru(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function ru(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var E=g.value?g.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!g.done}))&&(this.response=this.responseText+=E)}g.done?Ps(this):Bi(this),this.readyState==3&&ru(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,Ps(this))},t.Na=function(g){this.g&&(this.response=g,Ps(this))},t.ga=function(){this.g&&Ps(this)};function Ps(g){g.readyState=4,g.l=null,g.j=null,g.B=null,Bi(g)}t.setRequestHeader=function(g,E){this.A.append(g,E)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],E=this.h.entries();for(var M=E.next();!M.done;)M=M.value,g.push(M[0]+": "+M[1]),M=E.next();return g.join(`\r
`)};function Bi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Uo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function bi(g){let E="";return ue(g,function(M,z){E+=z,E+=":",E+=M,E+=`\r
`}),E}function Bo(g,E,M){e:{for(z in M){var z=!1;break e}z=!0}z||(M=bi(M),typeof g=="string"?M!=null&&Li(M):ie(g,E,M))}function tn(g){Ye.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(tn,Ye);var ua=/^https?$/i,cf=["POST","PUT"];t=tn.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,E,M,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);E=E?E.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():jo.g(),this.g.onreadystatechange=v(h(this.Ca,this));try{this.B=!0,this.g.open(E,String(g),!0),this.B=!1}catch(le){qo(this,le);return}if(g=M||"",M=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var te in z)M.set(te,z[te]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const le of z.keys())M.set(le,z.get(le));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(M.keys()).find(le=>le.toLowerCase()=="content-type"),te=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(cf,E,void 0)>=0)||z||te||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[le,Pe]of M)this.g.setRequestHeader(le,Pe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(le){qo(this,le)}};function qo(g,E){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=E,g.o=5,ff(g),Va(g)}function ff(g){g.A||(g.A=!0,qe(g,"complete"),qe(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,qe(this,"complete"),qe(this,"abort"),Va(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Va(this,!0)),tn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?zo(this):this.Xa())},t.Xa=function(){zo(this)};function zo(g){if(g.h&&typeof s<"u"){if(g.v&&qi(g)==4)setTimeout(g.Ca.bind(g),0);else if(qe(g,"readystatechange"),qi(g)==4){g.h=!1;try{const le=g.ca();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var M;if(!(M=E)){var z;if(z=le===0){let Pe=String(g.D).match(Zl)[1]||null;!Pe&&l.self&&l.self.location&&(Pe=l.self.location.protocol.slice(0,-1)),z=!ua.test(Pe?Pe.toLowerCase():"")}M=z}if(M)qe(g,"complete"),qe(g,"success");else{g.o=6;try{var te=qi(g)>2?g.g.statusText:""}catch{te=""}g.l=te+" ["+g.ca()+"]",ff(g)}}finally{Va(g)}}}}function Va(g,E){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const M=g.g;g.g=null,E||qe(g,"ready");try{M.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function qi(g){return g.g?g.g.readyState:0}t.ca=function(){try{return qi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var E=this.g.responseText;return g&&E.indexOf(g)==0&&(E=E.substring(g.length)),en(E)}};function ur(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function $a(g){const E={};g=(g.g&&qi(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<g.length;z++){if(L(g[z]))continue;var M=Xl(g[z]);const te=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const le=E[te]||[];E[te]=le,le.push(M)}ve(E,function(z){return z.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ca(g,E,M){return M&&M.internalChannelParams&&M.internalChannelParams[g]||E}function ks(g){this.za=0,this.i=[],this.j=new jt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ca("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ca("baseRetryDelayMs",5e3,g),this.Za=ca("retryDelaySeedMs",1e4,g),this.Ta=ca("forwardChannelMaxRetries",2,g),this.va=ca("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new Mo(g&&g.concurrentRequestLimit),this.Ba=new Is,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ks.prototype,t.ka=8,t.I=1,t.connect=function(g,E,M,z){Oe(0),this.W=g,this.H=E||{},M&&z!==void 0&&(this.H.OSID=M,this.H.OAID=z),this.F=this.X,this.J=Zd(this,null,this.W),fa(this)};function hf(g){if(iu(g),g.I==3){var E=g.V++,M=An(g.J);if(ie(M,"SID",g.M),ie(M,"RID",E),ie(M,"TYPE","terminate"),Fo(g,M),E=new Qr(g,g.j,E),E.M=2,E.A=ke(An(M)),M=!1,l.navigator&&l.navigator.sendBeacon)try{M=l.navigator.sendBeacon(E.A.toString(),"")}catch{}!M&&l.Image&&(new Image().src=E.A,M=!0),M||(E.g=ep(E.j,null),E.g.ea(E.A)),E.F=Date.now(),mi(E)}Jd(g)}function Rs(g){g.g&&(pf(g),g.g.cancel(),g.g=null)}function iu(g){Rs(g),g.v&&(l.clearTimeout(g.v),g.v=null),su(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function fa(g){if(!La(g.h)&&!g.m){g.m=!0;var E=g.Ea;I||P(),j||(I(),j=!0),A.add(E,g),g.D=0}}function au(g,E){return Zr(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=E.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=pt(h(g.Ea,g,E),Qd(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const te=new Qr(this,this.j,g);let le=this.o;if(this.U&&(le?(le=H(le),oe(le,this.U)):le=this.U),this.u!==null||this.R||(te.J=le,le=null),this.S)e:{for(var E=0,M=0;M<this.i.length;M++){t:{var z=this.i[M];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(E+=z,E>4096){E=M;break e}if(E===4096||M===this.i.length-1){E=M+1;break e}}E=1e3}else E=1e3;E=Kd(this,te,E),M=An(this.J),ie(M,"RID",g),ie(M,"CVER",22),this.G&&ie(M,"X-HTTP-Session-Id",this.G),Fo(this,M),le&&(this.R?E="headers="+Li(bi(le))+"&"+E:this.u&&Bo(M,this.u,le)),Do(this.h,te),this.Ra&&ie(M,"TYPE","init"),this.S?(ie(M,"$req",E),ie(M,"SID","null"),te.U=!0,$r(te,M,null)):$r(te,M,E),this.I=2}}else this.I==3&&(g?df(this,g):this.i.length==0||La(this.h)||df(this))};function df(g,E){var M;E?M=E.l:M=g.V++;const z=An(g.J);ie(z,"SID",g.M),ie(z,"RID",M),ie(z,"AID",g.K),Fo(g,z),g.u&&g.o&&Bo(z,g.u,g.o),M=new Qr(g,g.j,M,g.D+1),g.u===null&&(M.J=g.o),E&&(g.i=E.G.concat(g.i)),E=Kd(g,M,1e3),M.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),Do(g.h,M),$r(M,z,E)}function Fo(g,E){g.H&&ue(g.H,function(M,z){ie(E,z,M)}),g.l&&ue({},function(M,z){ie(E,z,M)})}function Kd(g,E,M){M=Math.min(g.i.length,M);const z=g.l?h(g.l.Ka,g.l,g):null;e:{var te=g.i;let gt=-1;for(;;){const Rn=["count="+M];gt==-1?M>0?(gt=te[0].g,Rn.push("ofs="+gt)):gt=0:Rn.push("ofs="+gt);let Ft=!0;for(let gn=0;gn<M;gn++){var le=te[gn].g;const xi=te[gn].map;if(le-=gt,le<0)gt=Math.max(0,te[gn].g-100),Ft=!1;else try{le="req"+le+"_"||"";try{var Pe=xi instanceof Map?xi:Object.entries(xi);for(const[da,zi]of Pe){let Fi=zi;c(zi)&&(Fi=Zt(zi)),Rn.push(le+da+"="+encodeURIComponent(Fi))}}catch(da){throw Rn.push(le+"type="+encodeURIComponent("_badmap")),da}}catch{z&&z(xi)}}if(Ft){Pe=Rn.join("&");break e}}Pe=void 0}return g=g.i.splice(0,M),E.G=g,Pe}function Wd(g){if(!g.g&&!g.v){g.Y=1;var E=g.Da;I||P(),j||(I(),j=!0),A.add(E,g),g.A=0}}function Ho(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=pt(h(g.Da,g),Qd(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,Yd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=pt(h(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Oe(10),Rs(this),Yd(this))};function pf(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function Yd(g){g.g=new Qr(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var E=An(g.na);ie(E,"RID","rpc"),ie(E,"SID",g.M),ie(E,"AID",g.K),ie(E,"CI",g.F?"0":"1"),!g.F&&g.ia&&ie(E,"TO",g.ia),ie(E,"TYPE","xmlhttp"),Fo(g,E),g.u&&g.o&&Bo(E,g.u,g.o),g.O&&(g.g.H=g.O);var M=g.g;g=g.ba,M.M=1,M.A=ke(An(E)),M.u=null,M.R=!0,Vi(M,g)}t.Va=function(){this.C!=null&&(this.C=null,Rs(this),Ho(this),Oe(19))};function su(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function Xd(g,E){var M=null;if(g.g==E){su(g),pf(g),g.g=null;var z=2}else if(yi(g.h,E))M=E.G,Lo(g.h,E),z=1;else return;if(g.I!=0){if(E.o)if(z==1){M=E.u?E.u.length:0,E=Date.now()-E.F;var te=g.D;z=Rt(),qe(z,new je(z,M)),fa(g)}else Wd(g);else if(te=E.m,te==3||te==0&&E.X>0||!(z==1&&au(g,E)||z==2&&Ho(g)))switch(M&&M.length>0&&(E=g.h,E.i=E.i.concat(M)),te){case 1:ha(g,5);break;case 4:ha(g,10);break;case 3:ha(g,6);break;default:ha(g,2)}}}function Qd(g,E){let M=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(M*=2),M*E}function ha(g,E){if(g.j.info("Error code "+E),E==2){var M=h(g.bb,g),z=g.Ua;const te=!z;z=new kr(z||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ln(z,"https"),ke(z),te?Ui(z.toString(),M):uf(z.toString(),M)}else Oe(2);g.I=0,g.l&&g.l.pa(E),Jd(g),iu(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),Oe(2)):(this.j.info("Failed to ping google.com"),Oe(1))};function Jd(g){if(g.I=0,g.ja=[],g.l){const E=Vo(g.h);(E.length!=0||g.i.length!=0)&&(T(g.ja,E),T(g.ja,g.i),g.h.i.length=0,_(g.i),g.i.length=0),g.l.oa()}}function Zd(g,E,M){var z=M instanceof kr?An(M):new kr(M);if(z.g!="")E&&(z.g=E+"."+z.g),aa(z,z.u);else{var te=l.location;z=te.protocol,E=E?E+"."+te.hostname:te.hostname,te=+te.port;const le=new kr(null);z&&Ln(le,z),E&&(le.g=E),te&&aa(le,te),M&&(le.h=M),z=le}return M=g.G,E=g.wa,M&&E&&ie(z,M,E),ie(z,"VER",g.ka),Fo(g,z),z}function ep(g,E,M){if(E&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=g.Aa&&!g.ma?new tn(new la({ab:M})):new tn(g.ma),E.Fa(g.L),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function tp(){}t=tp.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ns(){}Ns.prototype.g=function(g,E){return new Rr(g,E)};function Rr(g,E){Ye.call(this),this.g=new ks(E),this.l=g,this.h=E&&E.messageUrlParams||null,g=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(g?g["X-WebChannel-Content-Type"]=E.messageContentType:g={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(g?g["X-WebChannel-Client-Profile"]=E.sa:g={"X-WebChannel-Client-Profile":E.sa}),this.g.U=g,(g=E&&E.Qb)&&!L(g)&&(this.g.u=g),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!L(E)&&(this.g.G=E,g=this.h,g!==null&&E in g&&(g=this.h,E in g&&delete g[E])),this.j=new Ua(this)}m(Rr,Ye),Rr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Rr.prototype.close=function(){hf(this.g)},Rr.prototype.o=function(g){var E=this.g;if(typeof g=="string"){var M={};M.__data__=g,g=M}else this.v&&(M={},M.__data__=Zt(g),g=M);E.i.push(new _n(E.Ya++,g)),E.I==3&&fa(E)},Rr.prototype.N=function(){this.g.l=null,delete this.j,hf(this.g),delete this.g,Rr.Z.N.call(this)};function np(g){Ge.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var E=g.__sm__;if(E){e:{for(const M in E){g=M;break e}g=void 0}(this.i=g)&&(g=this.i,E=E!==null&&g in E?E[g]:void 0),this.data=E}else this.data=g}m(np,Ge);function rp(){kt.call(this),this.status=1}m(rp,kt);function Ua(g){this.g=g}m(Ua,tp),Ua.prototype.ra=function(){qe(this.g,"a")},Ua.prototype.qa=function(g){qe(this.g,new np(g))},Ua.prototype.pa=function(g){qe(this.g,new rp)},Ua.prototype.oa=function(){qe(this.g,"b")},Ns.prototype.createWebChannel=Ns.prototype.g,Rr.prototype.send=Rr.prototype.o,Rr.prototype.open=Rr.prototype.m,Rr.prototype.close=Rr.prototype.close,i3=function(){return new Ns},r3=function(){return Rt()},n3=ot,q1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ma.NO_ERROR=0,Ma.TIMEOUT=8,Ma.HTTP_ERROR=6,Rm=Ma,No.COMPLETE="complete",t3=No,he.EventType=Ae,Ae.OPEN="a",Ae.CLOSE="b",Ae.ERROR="c",Ae.MESSAGE="d",Ye.prototype.listen=Ye.prototype.J,hh=he,tn.prototype.listenOnce=tn.prototype.K,tn.prototype.getLastError=tn.prototype.Ha,tn.prototype.getLastErrorCode=tn.prototype.ya,tn.prototype.getStatus=tn.prototype.ca,tn.prototype.getResponseJson=tn.prototype.La,tn.prototype.getResponseText=tn.prototype.la,tn.prototype.send=tn.prototype.ea,tn.prototype.setWithCredentials=tn.prototype.Fa,e3=tn}).apply(typeof um<"u"?um:typeof self<"u"?self:typeof window<"u"?window:{});const $I="@firebase/firestore",UI="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Er.UNAUTHENTICATED=new Er(null),Er.GOOGLE_CREDENTIALS=new Er("google-credentials-uid"),Er.FIRST_PARTY=new Er("first-party-uid"),Er.MOCK_USER=new Er("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl=new DT("@firebase/firestore");function Fu(){return Nl.logLevel}function De(t,...e){if(Nl.logLevel<=Ot.DEBUG){const n=e.map(YT);Nl.debug(`Firestore (${Kc}): ${t}`,...n)}}function gs(t,...e){if(Nl.logLevel<=Ot.ERROR){const n=e.map(YT);Nl.error(`Firestore (${Kc}): ${t}`,...n)}}function hc(t,...e){if(Nl.logLevel<=Ot.WARN){const n=e.map(YT);Nl.warn(`Firestore (${Kc}): ${t}`,...n)}}function YT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,a3(t,r,n)}function a3(t,e,n){let r=`FIRESTORE (${Kc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw gs(r),new Error(r)}function Xt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||a3(e,i,r)}function ft(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends _s{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Kz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Er.UNAUTHENTICATED)))}shutdown(){}}class Wz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Yz{constructor(e){this.t=e,this.currentUser=Er.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xt(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let s=new yo;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new yo,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const f=s;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},c=f=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>c(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new yo)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xt(typeof r.accessToken=="string",31837,{l:r}),new s3(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xt(e===null||typeof e=="string",2055,{h:e}),new Er(e)}}class Xz{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Er.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Qz{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Xz(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Er.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class BI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jz{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ji(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xt(this.o===void 0,3512);const r=s=>{s.error!=null&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,De("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new BI(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Xt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new BI(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Zz(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Ct(t,e){return t<e?-1:t>e?1:0}function z1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return wb(i)===wb(s)?Ct(i,s):wb(i)?1:-1}return Ct(t.length,e.length)}const e7=55296,t7=57343;function wb(t){const e=t.charCodeAt(0);return e>=e7&&e<=t7}function dc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="__name__";class va{constructor(e,n,r){n===void 0?n=0:n>e.length&&nt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&nt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return va.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof va?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=va.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Ct(e.length,n.length)}static compareSegments(e,n){const r=va.isNumericId(e),i=va.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?va.extractNumericId(e).compare(va.extractNumericId(n)):z1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return go.fromString(e.substring(4,e.length-2))}}class wn extends va{construct(e,n,r){return new wn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Fe(_e.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new wn(n)}static emptyPath(){return new wn([])}}const n7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yr extends va{construct(e,n,r){return new yr(e,n,r)}static isValidIdentifier(e){return n7.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qI}static keyField(){return new yr([qI])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Fe(_e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Fe(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Fe(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(s(),i++)}if(s(),l)throw new Fe(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yr(n)}static emptyPath(){return new yr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.path=e}static fromPath(e){return new Ze(wn.fromString(e))}static fromName(e){return new Ze(wn.fromString(e).popFirst(5))}static empty(){return new Ze(wn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return wn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ze(new wn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r7(t,e,n){if(!n)throw new Fe(_e.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function i7(t,e,n,r){if(e===!0&&r===!0)throw new Fe(_e.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function zI(t){if(!Ze.isDocumentKey(t))throw new Fe(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function o3(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function QT(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":nt(12329,{type:typeof t})}function jl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Fe(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=QT(t);throw new Fe(_e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Pd(t,e){if(!o3(t))throw new Fe(_e.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Fe(_e.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=-62135596800,HI=1e6;class mn{static now(){return mn.fromMillis(Date.now())}static fromDate(e){return mn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*HI);return new mn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Fe(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Fe(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<FI)throw new Fe(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/HI}_compareTo(e){return this.seconds===e.seconds?Ct(this.nanoseconds,e.nanoseconds):Ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:mn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pd(e,mn._jsonSchema))return new mn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-FI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}mn._jsonSchemaVersion="firestore/timestamp/1.0",mn._jsonSchema={type:Fn("string",mn._jsonSchemaVersion),seconds:Fn("number"),nanoseconds:Fn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{static fromTimestamp(e){return new at(e)}static min(){return new at(new mn(0,0))}static max(){return new at(new mn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=-1;function a7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=at.fromTimestamp(r===1e9?new mn(n+1,0):new mn(n,r));return new xo(i,Ze.empty(),e)}function s7(t){return new xo(t.readTime,t.key,Mh)}class xo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xo(at.min(),Ze.empty(),Mh)}static max(){return new xo(at.max(),Ze.empty(),Mh)}}function o7(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ze.comparator(t.documentKey,e.documentKey),n!==0?n:Ct(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class u7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wc(t){if(t.code!==_e.FAILED_PRECONDITION||t.message!==l7)throw t;De("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&nt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new be(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof be?n:be.resolve(n)}catch(n){return be.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):be.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):be.reject(n)}static resolve(e){return new be(((n,r)=>{n(e)}))}static reject(e){return new be(((n,r)=>{r(e)}))}static waitFor(e){return new be(((n,r)=>{let i=0,s=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++s,l&&s===i&&n()}),(f=>r(f)))})),l=!0,s===i&&n()}))}static or(e){let n=be.resolve(!1);for(const r of e)n=n.next((i=>i?be.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new be(((r,i)=>{const s=e.length,l=new Array(s);let c=0;for(let f=0;f<s;f++){const h=f;n(e[h]).next((p=>{l[h]=p,++c,c===s&&r(l)}),(p=>i(p)))}}))}static doWhile(e,n){return new be(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}function c7(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hy.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=-1;function dy(t){return t==null}function Km(t){return t===0&&1/t==-1/0}function f7(t){return typeof t=="number"&&Number.isInteger(t)&&!Km(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3="";function h7(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=GI(e)),e=d7(t.get(n),e);return GI(e)}function d7(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case l3:n+="";break;default:n+=s}}return n}function GI(t){return t+l3+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ao(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function u3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n){this.comparator=e,this.root=n||mr.EMPTY}insert(e,n){return new Sn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mr.BLACK,null,null))}remove(e){return new Sn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cm(this.root,e,this.comparator,!1)}getReverseIterator(){return new cm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cm(this.root,e,this.comparator,!0)}}class cm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??mr.RED,this.left=i??mr.EMPTY,this.right=s??mr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new mr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return mr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return mr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw nt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw nt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw nt(27949);return e+(this.isRed()?0:1)}}mr.EMPTY=null,mr.RED=!0,mr.BLACK=!1;mr.EMPTY=new class{constructor(){this.size=0}get key(){throw nt(57766)}get value(){throw nt(16141)}get color(){throw nt(16727)}get left(){throw nt(29726)}get right(){throw nt(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new mr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.comparator=e,this.data=new Sn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new WI(this.data.getIterator())}getIteratorFrom(e){return new WI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Zn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Zn(this.comparator);return n.data=e,n}}class WI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this.fields=e,e.sort(yr.comparator)}static empty(){return new hi([])}unionWith(e){let n=new Zn(yr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new hi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return dc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new c3("Invalid base64 string: "+s):s}})(e);return new vr(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s})(e);return new vr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vr.EMPTY_BYTE_STRING=new vr("");const p7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _o(t){if(Xt(!!t,39018),typeof t=="string"){let e=0;const n=p7.exec(t);if(Xt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mn(t.seconds),nanos:Mn(t.nanos)}}function Mn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function wo(t){return typeof t=="string"?vr.fromBase64String(t):vr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3="server_timestamp",h3="__type__",d3="__previous_value__",p3="__local_write_time__";function ZT(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[h3])==null?void 0:r.stringValue)===f3}function py(t){const e=t.mapValue.fields[d3];return ZT(e)?py(e):e}function Dh(t){const e=_o(t.mapValue.fields[p3].timestampValue);return new mn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(e,n,r,i,s,l,c,f,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=p}}const Wm="(default)";class Lh{constructor(e,n){this.projectId=e,this.database=n||Wm}static empty(){return new Lh("","")}get isDefaultDatabase(){return this.database===Wm}isEqual(e){return e instanceof Lh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3="__type__",g7="__max__",fm={mapValue:{}},g3="__vector__",Ym="value";function So(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ZT(t)?4:v7(t)?9007199254740991:y7(t)?10:11:nt(28295,{value:t})}function Ia(t,e){if(t===e)return!0;const n=So(t);if(n!==So(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dh(t).isEqual(Dh(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=_o(i.timestampValue),c=_o(s.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return wo(i.bytesValue).isEqual(wo(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return Mn(i.geoPointValue.latitude)===Mn(s.geoPointValue.latitude)&&Mn(i.geoPointValue.longitude)===Mn(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Mn(i.integerValue)===Mn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=Mn(i.doubleValue),c=Mn(s.doubleValue);return l===c?Km(l)===Km(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return dc(t.arrayValue.values||[],e.arrayValue.values||[],Ia);case 10:case 11:return(function(i,s){const l=i.mapValue.fields||{},c=s.mapValue.fields||{};if(KI(l)!==KI(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!Ia(l[f],c[f])))return!1;return!0})(t,e);default:return nt(52216,{left:t})}}function Vh(t,e){return(t.values||[]).find((n=>Ia(n,e)))!==void 0}function pc(t,e){if(t===e)return 0;const n=So(t),r=So(e);if(n!==r)return Ct(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ct(t.booleanValue,e.booleanValue);case 2:return(function(s,l){const c=Mn(s.integerValue||s.doubleValue),f=Mn(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1})(t,e);case 3:return YI(t.timestampValue,e.timestampValue);case 4:return YI(Dh(t),Dh(e));case 5:return z1(t.stringValue,e.stringValue);case 6:return(function(s,l){const c=wo(s),f=wo(l);return c.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(s,l){const c=s.split("/"),f=l.split("/");for(let h=0;h<c.length&&h<f.length;h++){const p=Ct(c[h],f[h]);if(p!==0)return p}return Ct(c.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,l){const c=Ct(Mn(s.latitude),Mn(l.latitude));return c!==0?c:Ct(Mn(s.longitude),Mn(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return XI(t.arrayValue,e.arrayValue);case 10:return(function(s,l){var v,_,T,S;const c=s.fields||{},f=l.fields||{},h=(v=c[Ym])==null?void 0:v.arrayValue,p=(_=f[Ym])==null?void 0:_.arrayValue,m=Ct(((T=h==null?void 0:h.values)==null?void 0:T.length)||0,((S=p==null?void 0:p.values)==null?void 0:S.length)||0);return m!==0?m:XI(h,p)})(t.mapValue,e.mapValue);case 11:return(function(s,l){if(s===fm.mapValue&&l===fm.mapValue)return 0;if(s===fm.mapValue)return 1;if(l===fm.mapValue)return-1;const c=s.fields||{},f=Object.keys(c),h=l.fields||{},p=Object.keys(h);f.sort(),p.sort();for(let m=0;m<f.length&&m<p.length;++m){const v=z1(f[m],p[m]);if(v!==0)return v;const _=pc(c[f[m]],h[p[m]]);if(_!==0)return _}return Ct(f.length,p.length)})(t.mapValue,e.mapValue);default:throw nt(23264,{he:n})}}function YI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ct(t,e);const n=_o(t),r=_o(e),i=Ct(n.seconds,r.seconds);return i!==0?i:Ct(n.nanos,r.nanos)}function XI(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=pc(n[i],r[i]);if(s)return s}return Ct(n.length,r.length)}function mc(t){return F1(t)}function F1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=_o(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return wo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ze.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=F1(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${F1(n.fields[l])}`;return i+"}"})(t.mapValue):nt(61005,{value:t})}function Nm(t){switch(So(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=py(t);return e?16+Nm(e):16;case 5:return 2*t.stringValue.length;case 6:return wo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Nm(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Ao(r.fields,((s,l)=>{i+=s.length+Nm(l)})),i})(t.mapValue);default:throw nt(13486,{value:t})}}function H1(t){return!!t&&"integerValue"in t}function eE(t){return!!t&&"arrayValue"in t}function QI(t){return!!t&&"nullValue"in t}function JI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jm(t){return!!t&&"mapValue"in t}function y7(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[m3])==null?void 0:r.stringValue)===g3}function wh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ao(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=wh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wh(t.arrayValue.values[n]);return e}return{...t}}function v7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===g7}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.value=e}static empty(){return new Kr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!jm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wh(n)}setAll(e){let n=yr.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=wh(l):i.push(c.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());jm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ia(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];jm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ao(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Kr(wh(this.value))}}function y3(t){const e=[];return Ao(t.fields,((n,r)=>{const i=new yr([n]);if(jm(r)){const s=y3(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)})),new hi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,n,r,i,s,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Ar(e,0,at.min(),at.min(),at.min(),Kr.empty(),0)}static newFoundDocument(e,n,r,i){return new Ar(e,1,n,at.min(),r,i,0)}static newNoDocument(e,n){return new Ar(e,2,n,at.min(),at.min(),Kr.empty(),0)}static newUnknownDocument(e,n){return new Ar(e,3,n,at.min(),at.min(),Kr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(at.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=at.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ar&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ar(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n){this.position=e,this.inclusive=n}}function ZI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=Ze.comparator(Ze.fromName(l.referenceValue),n.key):r=pc(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function eP(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ia(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n="asc"){this.field=e,this.dir=n}}function b7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{}class Yn extends v3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new _7(e,n,r):n==="array-contains"?new T7(e,r):n==="in"?new E7(e,r):n==="not-in"?new A7(e,r):n==="array-contains-any"?new O7(e,r):new Yn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new w7(e,r):new S7(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(pc(n,this.value)):n!==null&&So(this.value)===So(n)&&this.matchesComparison(pc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return nt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pa extends v3{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Pa(e,n)}matches(e){return b3(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function b3(t){return t.op==="and"}function x3(t){return x7(t)&&b3(t)}function x7(t){for(const e of t.filters)if(e instanceof Pa)return!1;return!0}function G1(t){if(t instanceof Yn)return t.field.canonicalString()+t.op.toString()+mc(t.value);if(x3(t))return t.filters.map((e=>G1(e))).join(",");{const e=t.filters.map((n=>G1(n))).join(",");return`${t.op}(${e})`}}function _3(t,e){return t instanceof Yn?(function(r,i){return i instanceof Yn&&r.op===i.op&&r.field.isEqual(i.field)&&Ia(r.value,i.value)})(t,e):t instanceof Pa?(function(r,i){return i instanceof Pa&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,l,c)=>s&&_3(l,i.filters[c])),!0):!1})(t,e):void nt(19439)}function w3(t){return t instanceof Yn?(function(n){return`${n.field.canonicalString()} ${n.op} ${mc(n.value)}`})(t):t instanceof Pa?(function(n){return n.op.toString()+" {"+n.getFilters().map(w3).join(" ,")+"}"})(t):"Filter"}class _7 extends Yn{constructor(e,n,r){super(e,n,r),this.key=Ze.fromName(r.referenceValue)}matches(e){const n=Ze.comparator(e.key,this.key);return this.matchesComparison(n)}}class w7 extends Yn{constructor(e,n){super(e,"in",n),this.keys=S3("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class S7 extends Yn{constructor(e,n){super(e,"not-in",n),this.keys=S3("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function S3(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Ze.fromName(r.referenceValue)))}class T7 extends Yn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return eE(n)&&Vh(n.arrayValue,this.value)}}class E7 extends Yn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Vh(this.value.arrayValue,n)}}class A7 extends Yn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Vh(this.value.arrayValue,n)}}class O7 extends Yn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!eE(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Vh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(e,n=null,r=[],i=[],s=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=c,this.Te=null}}function tP(t,e=null,n=[],r=[],i=null,s=null,l=null){return new C7(t,e,n,r,i,s,l)}function tE(t){const e=ft(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>G1(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),dy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>mc(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>mc(r))).join(",")),e.Te=n}return e.Te}function nE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!b7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!_3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!eP(t.startAt,e.startAt)&&eP(t.endAt,e.endAt)}function K1(t){return Ze.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,n=null,r=[],i=[],s=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=c,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function I7(t,e,n,r,i,s,l,c){return new my(t,e,n,r,i,s,l,c)}function rE(t){return new my(t)}function nP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function P7(t){return t.collectionGroup!==null}function Sh(t){const e=ft(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Zn(yr.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Qm(s,r))})),n.has(yr.keyField().canonicalString())||e.Ie.push(new Qm(yr.keyField(),r))}return e.Ie}function _a(t){const e=ft(t);return e.Ee||(e.Ee=k7(e,Sh(t))),e.Ee}function k7(t,e){if(t.limitType==="F")return tP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Qm(i.field,s)}));const n=t.endAt?new Xm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Xm(t.startAt.position,t.startAt.inclusive):null;return tP(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function W1(t,e,n){return new my(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gy(t,e){return nE(_a(t),_a(e))&&t.limitType===e.limitType}function T3(t){return`${tE(_a(t))}|lt:${t.limitType}`}function Hu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>w3(i))).join(", ")}]`),dy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>mc(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>mc(i))).join(",")),`Target(${r})`})(_a(t))}; limitType=${t.limitType})`}function yy(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ze.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Sh(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,f){const h=ZI(l,c,f);return l.inclusive?h<=0:h<0})(r.startAt,Sh(r),i)||r.endAt&&!(function(l,c,f){const h=ZI(l,c,f);return l.inclusive?h>=0:h>0})(r.endAt,Sh(r),i))})(t,e)}function R7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function E3(t){return(e,n)=>{let r=!1;for(const i of Sh(t)){const s=N7(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function N7(t,e,n){const r=t.field.isKeyField()?Ze.comparator(e.key,n.key):(function(s,l,c){const f=l.data.field(s),h=c.data.field(s);return f!==null&&h!==null?pc(f,h):nt(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return nt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ao(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return u3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j7=new Sn(Ze.comparator);function ys(){return j7}const A3=new Sn(Ze.comparator);function dh(...t){let e=A3;for(const n of t)e=e.insert(n.key,n);return e}function O3(t){let e=A3;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function _l(){return Th()}function C3(){return Th()}function Th(){return new zl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const M7=new Sn(Ze.comparator),D7=new Zn(Ze.comparator);function It(...t){let e=D7;for(const n of t)e=e.add(n);return e}const L7=new Zn(Ct);function V7(){return L7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Km(e)?"-0":e}}function I3(t){return{integerValue:""+t}}function $7(t,e){return f7(e)?I3(e):iE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(){this._=void 0}}function U7(t,e,n){return t instanceof Jm?(function(i,s){const l={fields:{[h3]:{stringValue:f3},[p3]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ZT(s)&&(s=py(s)),s&&(l.fields[d3]=s),{mapValue:l}})(n,e):t instanceof $h?k3(t,e):t instanceof Uh?R3(t,e):(function(i,s){const l=P3(i,s),c=rP(l)+rP(i.Ae);return H1(l)&&H1(i.Ae)?I3(c):iE(i.serializer,c)})(t,e)}function B7(t,e,n){return t instanceof $h?k3(t,e):t instanceof Uh?R3(t,e):n}function P3(t,e){return t instanceof Zm?(function(r){return H1(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class Jm extends vy{}class $h extends vy{constructor(e){super(),this.elements=e}}function k3(t,e){const n=N3(e);for(const r of t.elements)n.some((i=>Ia(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Uh extends vy{constructor(e){super(),this.elements=e}}function R3(t,e){let n=N3(e);for(const r of t.elements)n=n.filter((i=>!Ia(i,r)));return{arrayValue:{values:n}}}class Zm extends vy{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function rP(t){return Mn(t.integerValue||t.doubleValue)}function N3(t){return eE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function q7(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof $h&&i instanceof $h||r instanceof Uh&&i instanceof Uh?dc(r.elements,i.elements,Ia):r instanceof Zm&&i instanceof Zm?Ia(r.Ae,i.Ae):r instanceof Jm&&i instanceof Jm})(t.transform,e.transform)}class z7{constructor(e,n){this.version=e,this.transformResults=n}}class wa{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wa}static exists(e){return new wa(void 0,e)}static updateTime(e){return new wa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class by{}function j3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new D3(t.key,wa.none()):new kd(t.key,t.data,wa.none());{const n=t.data,r=Kr.empty();let i=new Zn(yr.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new Oo(t.key,r,new hi(i.toArray()),wa.none())}}function F7(t,e,n){t instanceof kd?(function(i,s,l){const c=i.value.clone(),f=aP(i.fieldTransforms,s,l.transformResults);c.setAll(f),s.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Oo?(function(i,s,l){if(!Mm(i.precondition,s))return void s.convertToUnknownDocument(l.version);const c=aP(i.fieldTransforms,s,l.transformResults),f=s.data;f.setAll(M3(i)),f.setAll(c),s.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Eh(t,e,n,r){return t instanceof kd?(function(s,l,c,f){if(!Mm(s.precondition,l))return c;const h=s.value.clone(),p=sP(s.fieldTransforms,f,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof Oo?(function(s,l,c,f){if(!Mm(s.precondition,l))return c;const h=sP(s.fieldTransforms,f,l),p=l.data;return p.setAll(M3(s)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(s,l,c){return Mm(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function H7(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=P3(r.transform,i||null);s!=null&&(n===null&&(n=Kr.empty()),n.set(r.field,s))}return n||null}function iP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&dc(r,i,((s,l)=>q7(s,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class kd extends by{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Oo extends by{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function M3(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function aP(t,e,n){const r=new Map;Xt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,c=e.data.field(s.field);r.set(s.field,B7(l,c,n[i]))}return r}function sP(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,U7(s,l,e))}return r}class D3 extends by{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G7 extends by{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&F7(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Eh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Eh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=C3();return this.mutations.forEach((i=>{const s=e.get(i.key),l=s.overlayedDocument;let c=this.applyToLocalView(l,s.mutatedFields);c=n.has(i.key)?null:c;const f=j3(l,c);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(at.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),It())}isEqual(e){return this.batchId===e.batchId&&dc(this.mutations,e.mutations,((n,r)=>iP(n,r)))&&dc(this.baseMutations,e.baseMutations,((n,r)=>iP(n,r)))}}class aE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Xt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return M7})();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new aE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W7{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qn,Mt;function X7(t){switch(t){case _e.OK:return nt(64938);case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0;default:return nt(15467,{code:t})}}function L3(t){if(t===void 0)return gs("GRPC error has no .code"),_e.UNKNOWN;switch(t){case qn.OK:return _e.OK;case qn.CANCELLED:return _e.CANCELLED;case qn.UNKNOWN:return _e.UNKNOWN;case qn.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case qn.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case qn.INTERNAL:return _e.INTERNAL;case qn.UNAVAILABLE:return _e.UNAVAILABLE;case qn.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case qn.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case qn.NOT_FOUND:return _e.NOT_FOUND;case qn.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case qn.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case qn.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case qn.ABORTED:return _e.ABORTED;case qn.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case qn.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case qn.DATA_LOSS:return _e.DATA_LOSS;default:return nt(39323,{code:t})}}(Mt=qn||(qn={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q7(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J7=new go([4294967295,4294967295],0);function oP(t){const e=Q7().encode(t),n=new ZL;return n.update(e),new Uint8Array(n.digest())}function lP(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new go([n,r],0),new go([i,s],0)]}class sE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ph(`Invalid padding: ${n}`);if(r<0)throw new ph(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ph(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ph(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=go.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(go.fromNumber(r)));return i.compare(J7)===1&&(i=new go([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=oP(e),[r,i]=lP(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new sE(s,i,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=oP(e),[r,i]=lP(n);for(let s=0;s<this.hashCount;s++){const l=this.ye(r,i,s);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ph extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Rd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new xy(at.min(),i,new Sn(Ct),ys(),It())}}class Rd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Rd(r,n,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class V3{constructor(e,n){this.targetId=e,this.Ce=n}}class $3{constructor(e,n,r=vr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class uP{constructor(){this.ve=0,this.Fe=cP(),this.Me=vr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=It(),n=It(),r=It();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:nt(38017,{changeType:s})}})),new Rd(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=cP()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Z7{constructor(e){this.Ge=e,this.ze=new Map,this.je=ys(),this.Je=hm(),this.He=hm(),this.Ye=new Sn(Ct)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:nt(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(K1(s))if(r===0){const l=new Ze(s.path);this.et(n,l,Ar.newNoDocument(l,at.min()))}else Xt(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),f=c?this.ct(c,e,l):1;if(f!==0){this.it(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let l,c;try{l=wo(r).toUint8Array()}catch(f){if(f instanceof c3)return hc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new sE(l,i,s)}catch(f){return hc(f instanceof ph?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,l)=>{const c=this.ot(l);if(c){if(s.current&&K1(c.target)){const f=new Ze(c.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,Ar.newNoDocument(f,e))}s.Be&&(n.set(l,s.ke()),s.qe())}}));let r=It();this.He.forEach(((s,l)=>{let c=!0;l.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(s))})),this.je.forEach(((s,l)=>l.setReadTime(e)));const i=new xy(e,n,this.Ye,this.je,r);return this.je=ys(),this.Je=hm(),this.He=hm(),this.Ye=new Sn(Ct),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new uP,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Zn(Ct),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Zn(Ct),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||De("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new uP),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function hm(){return new Sn(Ze.comparator)}function cP(){return new Sn(Ze.comparator)}const eF={asc:"ASCENDING",desc:"DESCENDING"},tF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nF={and:"AND",or:"OR"};class rF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Y1(t,e){return t.useProto3Json||dy(e)?e:{value:e}}function eg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function U3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function iF(t,e){return eg(t,e.toTimestamp())}function Sa(t){return Xt(!!t,49232),at.fromTimestamp((function(n){const r=_o(n);return new mn(r.seconds,r.nanos)})(t))}function oE(t,e){return X1(t,e).canonicalString()}function X1(t,e){const n=(function(i){return new wn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function B3(t){const e=wn.fromString(t);return Xt(G3(e),10190,{key:e.toString()}),e}function Q1(t,e){return oE(t.databaseId,e.path)}function Sb(t,e){const n=B3(e);if(n.get(1)!==t.databaseId.projectId)throw new Fe(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Fe(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ze(z3(n))}function q3(t,e){return oE(t.databaseId,e)}function aF(t){const e=B3(t);return e.length===4?wn.emptyPath():z3(e)}function J1(t){return new wn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function z3(t){return Xt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function fP(t,e,n){return{name:Q1(t,e),fields:n.value.mapValue.fields}}function sF(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:nt(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(h,p){return h.useProto3Json?(Xt(p===void 0||typeof p=="string",58123),vr.fromBase64String(p||"")):(Xt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),vr.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(h){const p=h.code===void 0?_e.UNKNOWN:L3(h.code);return new Fe(p,h.message||"")})(l);n=new $3(r,i,s,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Sb(t,r.document.name),s=Sa(r.document.updateTime),l=r.document.createTime?Sa(r.document.createTime):at.min(),c=new Kr({mapValue:{fields:r.document.fields}}),f=Ar.newFoundDocument(i,s,l,c),h=r.targetIds||[],p=r.removedTargetIds||[];n=new Dm(h,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Sb(t,r.document),s=r.readTime?Sa(r.readTime):at.min(),l=Ar.newNoDocument(i,s),c=r.removedTargetIds||[];n=new Dm([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Sb(t,r.document),s=r.removedTargetIds||[];n=new Dm([],s,i,null)}else{if(!("filter"in e))return nt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,l=new Y7(i,s),c=r.targetId;n=new V3(c,l)}}return n}function oF(t,e){let n;if(e instanceof kd)n={update:fP(t,e.key,e.value)};else if(e instanceof D3)n={delete:Q1(t,e.key)};else if(e instanceof Oo)n={update:fP(t,e.key,e.data),updateMask:gF(e.fieldMask)};else{if(!(e instanceof G7))return nt(16599,{Vt:e.type});n={verify:Q1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,l){const c=l.transform;if(c instanceof Jm)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof $h)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Uh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Zm)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw nt(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:iF(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:nt(27497)})(t,e.precondition)),n}function lF(t,e){return t&&t.length>0?(Xt(e!==void 0,14353),t.map((n=>(function(i,s){let l=i.updateTime?Sa(i.updateTime):Sa(s);return l.isEqual(at.min())&&(l=Sa(s)),new z7(l,i.transformResults||[])})(n,e)))):[]}function uF(t,e){return{documents:[q3(t,e.path)]}}function cF(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=q3(t,i);const s=(function(h){if(h.length!==0)return H3(Pa.create(h,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const l=(function(h){if(h.length!==0)return h.map((p=>(function(v){return{field:Gu(v.field),direction:dF(v.dir)}})(p)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=Y1(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function fF(t){let e=aF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Xt(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=(function(m){const v=F3(m);return v instanceof Pa&&x3(v)?v.getFilters():[v]})(n.where));let l=[];n.orderBy&&(l=(function(m){return m.map((v=>(function(T){return new Qm(Ku(T.field),(function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(v)))})(n.orderBy));let c=null;n.limit&&(c=(function(m){let v;return v=typeof m=="object"?m.value:m,dy(v)?null:v})(n.limit));let f=null;n.startAt&&(f=(function(m){const v=!!m.before,_=m.values||[];return new Xm(_,v)})(n.startAt));let h=null;return n.endAt&&(h=(function(m){const v=!m.before,_=m.values||[];return new Xm(_,v)})(n.endAt)),I7(e,i,l,s,c,"F",f,h)}function hF(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return nt(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function F3(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ku(n.unaryFilter.field);return Yn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ku(n.unaryFilter.field);return Yn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ku(n.unaryFilter.field);return Yn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ku(n.unaryFilter.field);return Yn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return nt(61313);default:return nt(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Yn.create(Ku(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return nt(58110);default:return nt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Pa.create(n.compositeFilter.filters.map((r=>F3(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return nt(1026)}})(n.compositeFilter.op))})(t):nt(30097,{filter:t})}function dF(t){return eF[t]}function pF(t){return tF[t]}function mF(t){return nF[t]}function Gu(t){return{fieldPath:t.canonicalString()}}function Ku(t){return yr.fromServerFormat(t.fieldPath)}function H3(t){return t instanceof Yn?(function(n){if(n.op==="=="){if(JI(n.value))return{unaryFilter:{field:Gu(n.field),op:"IS_NAN"}};if(QI(n.value))return{unaryFilter:{field:Gu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(JI(n.value))return{unaryFilter:{field:Gu(n.field),op:"IS_NOT_NAN"}};if(QI(n.value))return{unaryFilter:{field:Gu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gu(n.field),op:pF(n.op),value:n.value}}})(t):t instanceof Pa?(function(n){const r=n.getFilters().map((i=>H3(i)));return r.length===1?r[0]:{compositeFilter:{op:mF(n.op),filters:r}}})(t):nt(54877,{filter:t})}function gF(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function G3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n,r,i,s=at.min(),l=at.min(),c=vr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new co(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e){this.yt=e}}function vF(t){const e=fF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?W1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(){this.Cn=new xF}addToCollectionParentIndex(e,n){return this.Cn.add(n),be.resolve()}getCollectionParents(e,n){return be.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return be.resolve()}deleteFieldIndex(e,n){return be.resolve()}deleteAllFieldIndexes(e){return be.resolve()}createTargetIndexes(e,n){return be.resolve()}getDocumentsMatchingTarget(e,n){return be.resolve(null)}getIndexType(e,n){return be.resolve(0)}getFieldIndexes(e,n){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}getMinOffset(e,n){return be.resolve(xo.min())}getMinOffsetFromCollectionGroup(e,n){return be.resolve(xo.min())}updateCollectionGroup(e,n,r){return be.resolve()}updateIndexEntries(e,n){return be.resolve()}}class xF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Zn(wn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Zn(wn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},K3=41943040;class Hr{static withCacheSize(e){return new Hr(e,Hr.DEFAULT_COLLECTION_PERCENTILE,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hr.DEFAULT_COLLECTION_PERCENTILE=10,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hr.DEFAULT=new Hr(K3,Hr.DEFAULT_COLLECTION_PERCENTILE,Hr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hr.DISABLED=new Hr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new gc(0)}static cr(){return new gc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP="LruGarbageCollector",_F=1048576;function pP([t,e],[n,r]){const i=Ct(t,n);return i===0?Ct(e,r):i}class wF{constructor(e){this.Ir=e,this.buffer=new Zn(pP),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();pP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class SF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){De(dP,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Yc(n)?De(dP,"Ignoring IndexedDB error during garbage collection: ",n):await Wc(n)}await this.Vr(3e5)}))}}class TF{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return be.resolve(hy.ce);const r=new wF(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(De("LruGarbageCollector","Garbage collection skipped; disabled"),be.resolve(hP)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hP):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,l,c,f,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(De("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,l=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(r=m,c=Date.now(),this.removeTargets(e,r,n)))).next((m=>(s=m,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(h=Date.now(),Fu()<=Ot.DEBUG&&De("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${s} targets in `+(f-c)+`ms
	Removed ${m} documents in `+(h-f)+`ms
Total Duration: ${h-p}ms`),be.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m}))))}}function EF(t,e){return new TF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(){this.changes=new zl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ar.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?be.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Eh(r.mutation,i,hi.empty(),mn.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,It()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=It()){const i=_l();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let l=dh();return s.forEach(((c,f)=>{l=l.insert(c,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=_l();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,It())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,i){let s=ys();const l=Th(),c=(function(){return Th()})();return n.forEach(((f,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof Oo)?s=s.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),Eh(p.mutation,h,p.mutation.getFieldMask(),mn.now())):l.set(h.key,hi.empty())})),this.recalculateAndSaveOverlays(e,s).next((f=>(f.forEach(((h,p)=>l.set(h,p))),n.forEach(((h,p)=>c.set(h,new OF(p,l.get(h)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=Th();let i=new Sn(((l,c)=>l-c)),s=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((f=>{const h=n.get(f);if(h===null)return;let p=r.get(f)||hi.empty();p=c.applyToLocalView(h,p),r.set(f,p);const m=(i.get(c.batchId)||It()).add(f);i=i.insert(c.batchId,m)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),h=f.key,p=f.value,m=C3();p.forEach((v=>{if(!s.has(v)){const _=j3(n.get(v),r.get(v));_!==null&&m.set(v,_),s=s.add(v)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,m))}return be.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Ze.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):P7(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):be.resolve(_l());let c=Mh,f=s;return l.next((h=>be.forEach(h,((p,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),s.get(p)?be.resolve():this.remoteDocumentCache.getEntry(e,p).next((v=>{f=f.insert(p,v)}))))).next((()=>this.populateOverlays(e,h,s))).next((()=>this.computeViews(e,f,h,It()))).next((p=>({batchId:c,changes:O3(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ze(n)).next((r=>{let i=dh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=dh();return this.indexManager.getCollectionParents(e,s).next((c=>be.forEach(c,(f=>{const h=(function(m,v){return new my(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((p=>{p.forEach(((m,v)=>{l=l.insert(m,v)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((l=>{s.forEach(((f,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,Ar.newInvalidDocument(p)))}));let c=dh();return l.forEach(((f,h)=>{const p=s.get(f);p!==void 0&&Eh(p.mutation,h,hi.empty(),mn.now()),yy(n,h)&&(c=c.insert(f,h))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return be.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Sa(i.createTime)}})(n)),be.resolve()}getNamedQuery(e,n){return be.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:vF(i.bundledQuery),readTime:Sa(i.readTime)}})(n)),be.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(){this.overlays=new Sn(Ze.comparator),this.qr=new Map}getOverlay(e,n){return be.resolve(this.overlays.get(n))}getOverlays(e,n){const r=_l();return be.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.St(e,n,s)})),be.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),be.resolve()}getOverlaysForCollection(e,n,r){const i=_l(),s=n.length+1,l=new Ze(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&f.largestBatchId>r&&i.set(f.getKey(),f)}return be.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Sn(((h,p)=>h-p));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=_l(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const c=_l(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,p)=>c.set(h,p))),!(c.size()>=i)););return be.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new W7(n,r));let s=this.qr.get(n);s===void 0&&(s=It(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(){this.sessionToken=vr.EMPTY_BYTE_STRING}getSessionToken(e){return be.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,be.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(){this.Qr=new Zn(nr.$r),this.Ur=new Zn(nr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new nr(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new nr(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ze(new wn([])),r=new nr(n,e),i=new nr(n,e+1),s=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),s.push(l.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ze(new wn([])),r=new nr(n,e),i=new nr(n,e+1);let s=It();return this.Ur.forEachInRange([r,i],(l=>{s=s.add(l.key)})),s}containsKey(e){const n=new nr(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class nr{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ze.comparator(e.key,n.key)||Ct(e.Yr,n.Yr)}static Kr(e,n){return Ct(e.Yr,n.Yr)||Ze.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Zn(nr.$r)}checkEmpty(e){return be.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new K7(s,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Zr=this.Zr.add(new nr(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return be.resolve(l)}lookupMutationBatch(e,n){return be.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return be.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(this.mutationQueue.length===0?JT:this.tr-1)}getAllMutationBatches(e){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new nr(n,0),i=new nr(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],(l=>{const c=this.Xr(l.Yr);s.push(c)})),be.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Zn(Ct);return n.forEach((i=>{const s=new nr(i,0),l=new nr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],(c=>{r=r.add(c.Yr)}))})),be.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ze.isDocumentKey(s)||(s=s.child(""));const l=new nr(new Ze(s),0);let c=new Zn(Ct);return this.Zr.forEachWhile((f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(f.Yr)),!0)}),l),be.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Xt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return be.forEach(n.mutations,(i=>{const s=new nr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new nr(n,0),i=this.Zr.firstAfterOrEqual(r);return be.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,be.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e){this.ri=e,this.docs=(function(){return new Sn(Ze.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return be.resolve(r?r.document.mutableCopy():Ar.newInvalidDocument(n))}getEntries(e,n){let r=ys();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ar.newInvalidDocument(i))})),be.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ys();const l=n.path,c=new Ze(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:h,value:{document:p}}=f.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||o7(s7(p),r)<=0||(i.has(p.key)||yy(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return be.resolve(s)}getAllFromCollectionGroup(e,n,r,i){nt(9500)}ii(e,n){return be.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new jF(this)}getSize(e){return be.resolve(this.size)}}class jF extends AF{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),be.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e){this.persistence=e,this.si=new zl((n=>tE(n)),nE),this.lastRemoteSnapshotVersion=at.min(),this.highestTargetId=0,this.oi=0,this._i=new lE,this.targetCount=0,this.ai=gc.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),be.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new gc(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,be.resolve()}updateTargetData(e,n){return this.Pr(n),be.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),be.waitFor(s).next((()=>i))}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return be.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),be.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((l=>{s.push(i.markPotentiallyOrphaned(e,l))})),be.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),be.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return be.resolve(r)}containsKey(e,n){return be.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e,n){this.ui={},this.overlays={},this.ci=new hy(0),this.li=!1,this.li=!0,this.hi=new kF,this.referenceDelegate=e(this),this.Pi=new MF(this),this.indexManager=new bF,this.remoteDocumentCache=(function(i){return new NF(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new yF(n),this.Ii=new IF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new PF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new RF(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){De("MemoryPersistence","Starting transaction:",e);const i=new DF(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,n){return be.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class DF extends u7{constructor(e){super(),this.currentSequenceNumber=e}}class uE{constructor(e){this.persistence=e,this.Ri=new lE,this.Vi=null}static mi(e){return new uE(e)}get fi(){if(this.Vi)return this.Vi;throw nt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),be.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),be.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),be.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.fi,(r=>{const i=Ze.fromPath(r);return this.gi(e,i).next((s=>{s||n.removeEntry(i,at.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return be.or([()=>be.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class tg{constructor(e,n){this.persistence=e,this.pi=new zl((r=>h7(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=EF(this,n)}static mi(e,n){return new tg(e,n)}Ei(){}di(e){return be.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return be.forEach(this.pi,((r,i)=>this.br(e,r,i).next((s=>s?be.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,s.removeEntry(l,at.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),be.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),be.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),be.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),be.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Nm(e.data.value)),n}br(e,n,r){return be.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return be.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=It(),i=It();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new cE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return AB()?8:c7(Cr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next((l=>{s.result=l})).next((()=>{if(!s.result)return this.ws(e,n,i,r).next((l=>{s.result=l}))})).next((()=>{if(s.result)return;const l=new LF;return this.Ss(e,n,l).next((c=>{if(s.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>s.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Fu()<=Ot.DEBUG&&De("QueryEngine","SDK will not create cache indexes for query:",Hu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),be.resolve()):(Fu()<=Ot.DEBUG&&De("QueryEngine","Query:",Hu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Fu()<=Ot.DEBUG&&De("QueryEngine","The SDK decides to create cache indexes for query:",Hu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_a(n))):be.resolve())}ys(e,n){if(nP(n))return be.resolve(null);let r=_a(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=W1(n,null,"F"),r=_a(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const l=It(...s);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((f=>{const h=this.Ds(n,c);return this.Cs(n,h,l,f.readTime)?this.ys(e,W1(n,null,"F")):this.vs(e,h,n,f)}))))})))))}ws(e,n,r,i){return nP(n)||i.isEqual(at.min())?be.resolve(null):this.ps.getDocuments(e,r).next((s=>{const l=this.Ds(n,s);return this.Cs(n,l,r,i)?be.resolve(null):(Fu()<=Ot.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hu(n)),this.vs(e,l,n,a7(i,Mh)).next((c=>c)))}))}Ds(e,n){let r=new Zn(E3(e));return n.forEach(((i,s)=>{yy(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Fu()<=Ot.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",Hu(n)),this.ps.getDocumentsMatchingQuery(e,n,xo.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((l=>{s=s.insert(l.key,l)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="LocalStore",$F=3e8;class UF{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Sn(Ct),this.xs=new zl((s=>tE(s)),nE),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CF(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function BF(t,e,n,r){return new UF(t,e,n,r)}async function Y3(t,e){const n=ft(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const l=[],c=[];let f=It();for(const h of i){l.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}for(const h of s){c.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}return n.localDocuments.getDocuments(r,f).next((h=>({Ls:h,removedBatchIds:l,addedBatchIds:c})))}))}))}function qF(t,e){const n=ft(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,f,h,p){const m=h.batch,v=m.keys();let _=be.resolve();return v.forEach((T=>{_=_.next((()=>p.getEntry(f,T))).next((S=>{const w=h.docVersions.get(T);Xt(w!==null,48541),S.version.compareTo(w)<0&&(m.applyToRemoteDocument(S,h),S.isValidDocument()&&(S.setReadTime(h.commitVersion),p.addEntry(S)))}))})),_.next((()=>c.mutationQueue.removeMutationBatch(f,m)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let f=It();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(f=f.add(c.batch.mutations[h].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function X3(t){const e=ft(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function zF(t,e){const n=ft(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((p,m)=>{const v=i.get(m);if(!v)return;c.push(n.Pi.removeMatchingKeys(s,p.removedDocuments,m).next((()=>n.Pi.addMatchingKeys(s,p.addedDocuments,m))));let _=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?_=_.withResumeToken(vr.EMPTY_BYTE_STRING,at.min()).withLastLimboFreeSnapshotVersion(at.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,r)),i=i.insert(m,_),(function(S,w,O){return S.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=$F?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(v,_,p)&&c.push(n.Pi.updateTargetData(s,_))}));let f=ys(),h=It();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))})),c.push(FF(s,l,e.documentUpdates).next((p=>{f=p.ks,h=p.qs}))),!r.isEqual(at.min())){const p=n.Pi.getLastRemoteSnapshotVersion(s).next((m=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));c.push(p)}return be.waitFor(c).next((()=>l.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,f,h))).next((()=>f))})).then((s=>(n.Ms=i,s)))}function FF(t,e,n){let r=It(),i=It();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let l=ys();return n.forEach(((c,f)=>{const h=s.get(c);f.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),f.isNoDocument()&&f.version.isEqual(at.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):De(fE,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",f.version)})),{ks:l,qs:i}}))}function HF(t,e){const n=ft(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=JT),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function GF(t,e){const n=ft(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((s=>s?(i=s,be.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new co(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Z1(t,e,n){const r=ft(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Yc(l))throw l;De(fE,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function mP(t,e,n){const r=ft(t);let i=at.min(),s=It();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,h,p){const m=ft(f),v=m.xs.get(p);return v!==void 0?be.resolve(m.Ms.get(v)):m.Pi.getTargetData(h,p)})(r,l,_a(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((f=>{s=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:at.min(),n?s:It()))).next((c=>(KF(r,R7(e),c),{documents:c,Qs:s})))))}function KF(t,e,n){let r=t.Os.get(e)||at.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class gP{constructor(){this.activeTargetIds=V7()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WF{constructor(){this.Mo=new gP,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new gP,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP="ConnectivityMonitor";class vP{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){De(yP,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){De(yP,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dm=null;function eS(){return dm===null?dm=(function(){return 268435456+Math.round(2147483648*Math.random())})():dm++,"0x"+dm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="RestConnection",XF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QF{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Wm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const l=eS(),c=this.zo(e,n.toUriEncodedString());De(Tb,`Sending RPC '${e}' ${l}:`,c,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,s);const{host:h}=new URL(c),p=Hc(h);return this.Jo(e,c,f,r,p).then((m=>(De(Tb,`Received RPC '${e}' ${l}: `,m),m)),(m=>{throw hc(Tb,`RPC '${e}' ${l} failed with error: `,m,"url: ",c,"request:",r),m}))}Ho(e,n,r,i,s,l){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Kc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}zo(e,n){const r=XF[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="WebChannelConnection";class ZF extends QF{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const l=eS();return new Promise(((c,f)=>{const h=new e3;h.setWithCredentials(!0),h.listenOnce(t3.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Rm.NO_ERROR:const m=h.getResponseJson();De(Sr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(m)),c(m);break;case Rm.TIMEOUT:De(Sr,`RPC '${e}' ${l} timed out`),f(new Fe(_e.DEADLINE_EXCEEDED,"Request time out"));break;case Rm.HTTP_ERROR:const v=h.getStatus();if(De(Sr,`RPC '${e}' ${l} failed with status:`,v,"response text:",h.getResponseText()),v>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const T=_==null?void 0:_.error;if(T&&T.status&&T.message){const S=(function(O){const C=O.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(C)>=0?C:_e.UNKNOWN})(T.status);f(new Fe(S,T.message))}else f(new Fe(_e.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new Fe(_e.UNAVAILABLE,"Connection failed."));break;default:nt(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{De(Sr,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(i);De(Sr,`RPC '${e}' ${l} sending request:`,i),h.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=eS(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=i3(),c=r3(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const p=s.join("");De(Sr,`Creating RPC '${e}' stream ${i}: ${p}`,f);const m=l.createWebChannel(p,f);this.I_(m);let v=!1,_=!1;const T=new JF({Yo:w=>{_?De(Sr,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(v||(De(Sr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),v=!0),De(Sr,`RPC '${e}' stream ${i} sending:`,w),m.send(w))},Zo:()=>m.close()}),S=(w,O,C)=>{w.listen(O,(R=>{try{C(R)}catch(V){setTimeout((()=>{throw V}),0)}}))};return S(m,hh.EventType.OPEN,(()=>{_||(De(Sr,`RPC '${e}' stream ${i} transport opened.`),T.o_())})),S(m,hh.EventType.CLOSE,(()=>{_||(_=!0,De(Sr,`RPC '${e}' stream ${i} transport closed`),T.a_(),this.E_(m))})),S(m,hh.EventType.ERROR,(w=>{_||(_=!0,hc(Sr,`RPC '${e}' stream ${i} transport errored. Name:`,w.name,"Message:",w.message),T.a_(new Fe(_e.UNAVAILABLE,"The operation could not be completed")))})),S(m,hh.EventType.MESSAGE,(w=>{var O;if(!_){const C=w.data[0];Xt(!!C,16349);const R=C,V=(R==null?void 0:R.error)||((O=R[0])==null?void 0:O.error);if(V){De(Sr,`RPC '${e}' stream ${i} received error:`,V);const I=V.status;let j=(function(N){const B=qn[N];if(B!==void 0)return L3(B)})(I),A=V.message;j===void 0&&(j=_e.INTERNAL,A="Unknown error status: "+I+" with message "+V.message),_=!0,T.a_(new Fe(j,A)),m.close()}else De(Sr,`RPC '${e}' stream ${i} received:`,C),T.u_(C)}})),S(c,n3.STAT_EVENT,(w=>{w.stat===q1.PROXY?De(Sr,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===q1.NOPROXY&&De(Sr,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{T.__()}),0),T}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Eb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(t){return new rF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&De("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP="PersistentStream";class J3{constructor(e,n,r,i,s,l,c,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Q3(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===_e.RESOURCE_EXHAUSTED?(gs(n.toString()),gs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===_e.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Fe(_e.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return De(bP,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(De(bP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class eH extends J3{constructor(e,n,r,i,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=sF(this.serializer,e),r=(function(s){if(!("targetChange"in s))return at.min();const l=s.targetChange;return l.targetIds&&l.targetIds.length?at.min():l.readTime?Sa(l.readTime):at.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=J1(this.serializer),n.addTarget=(function(s,l){let c;const f=l.target;if(c=K1(f)?{documents:uF(s,f)}:{query:cF(s,f).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=U3(s,l.resumeToken);const h=Y1(s,l.expectedCount);h!==null&&(c.expectedCount=h)}else if(l.snapshotVersion.compareTo(at.min())>0){c.readTime=eg(s,l.snapshotVersion.toTimestamp());const h=Y1(s,l.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const r=hF(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=J1(this.serializer),n.removeTarget=e,this.q_(n)}}class tH extends J3{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Xt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=lF(e.writeResults,e.commitTime),r=Sa(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=J1(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>oF(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{}class rH extends nH{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Fe(_e.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.Go(e,X1(n,r),i,s,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Fe(_e.UNKNOWN,s.toString())}))}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,X1(n,r),i,l,c,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Fe(_e.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class iH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gs(n),this.aa=!1):De("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml="RemoteStore";class aH{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Fl(this)&&(De(Ml,"Restarting streams for network reachability change."),await(async function(f){const h=ft(f);h.Ea.add(4),await Nd(h),h.Ra.set("Unknown"),h.Ea.delete(4),await wy(h)})(this))}))})),this.Ra=new iH(r,i)}}async function wy(t){if(Fl(t))for(const e of t.da)await e(!0)}async function Nd(t){for(const e of t.da)await e(!1)}function Z3(t,e){const n=ft(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),mE(n)?pE(n):Xc(n).O_()&&dE(n,e))}function hE(t,e){const n=ft(t),r=Xc(n);n.Ia.delete(e),r.O_()&&e5(n,e),n.Ia.size===0&&(r.O_()?r.L_():Fl(n)&&n.Ra.set("Unknown"))}function dE(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(at.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xc(t).Y_(e)}function e5(t,e){t.Va.Ue(e),Xc(t).Z_(e)}function pE(t){t.Va=new Z7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Xc(t).start(),t.Ra.ua()}function mE(t){return Fl(t)&&!Xc(t).x_()&&t.Ia.size>0}function Fl(t){return ft(t).Ea.size===0}function t5(t){t.Va=void 0}async function sH(t){t.Ra.set("Online")}async function oH(t){t.Ia.forEach(((e,n)=>{dE(t,e)}))}async function lH(t,e){t5(t),mE(t)?(t.Ra.ha(e),pE(t)):t.Ra.set("Unknown")}async function uH(t,e,n){if(t.Ra.set("Online"),e instanceof $3&&e.state===2&&e.cause)try{await(async function(i,s){const l=s.cause;for(const c of s.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){De(Ml,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ng(t,r)}else if(e instanceof Dm?t.Va.Ze(e):e instanceof V3?t.Va.st(e):t.Va.tt(e),!n.isEqual(at.min()))try{const r=await X3(t.localStore);n.compareTo(r)>=0&&await(function(s,l){const c=s.Va.Tt(l);return c.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const p=s.Ia.get(h);p&&s.Ia.set(h,p.withResumeToken(f.resumeToken,l))}})),c.targetMismatches.forEach(((f,h)=>{const p=s.Ia.get(f);if(!p)return;s.Ia.set(f,p.withResumeToken(vr.EMPTY_BYTE_STRING,p.snapshotVersion)),e5(s,f);const m=new co(p.target,f,h,p.sequenceNumber);dE(s,m)})),s.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){De(Ml,"Failed to raise snapshot:",r),await ng(t,r)}}async function ng(t,e,n){if(!Yc(e))throw e;t.Ea.add(1),await Nd(t),t.Ra.set("Offline"),n||(n=()=>X3(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{De(Ml,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await wy(t)}))}function n5(t,e){return e().catch((n=>ng(t,n,e)))}async function Sy(t){const e=ft(t),n=To(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:JT;for(;cH(e);)try{const i=await HF(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,fH(e,i)}catch(i){await ng(e,i)}r5(e)&&i5(e)}function cH(t){return Fl(t)&&t.Ta.length<10}function fH(t,e){t.Ta.push(e);const n=To(t);n.O_()&&n.X_&&n.ea(e.mutations)}function r5(t){return Fl(t)&&!To(t).x_()&&t.Ta.length>0}function i5(t){To(t).start()}async function hH(t){To(t).ra()}async function dH(t){const e=To(t);for(const n of t.Ta)e.ea(n.mutations)}async function pH(t,e,n){const r=t.Ta.shift(),i=aE.from(r,e,n);await n5(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Sy(t)}async function mH(t,e){e&&To(t).X_&&await(async function(r,i){if((function(l){return X7(l)&&l!==_e.ABORTED})(i.code)){const s=r.Ta.shift();To(r).B_(),await n5(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Sy(r)}})(t,e),r5(t)&&i5(t)}async function xP(t,e){const n=ft(t);n.asyncQueue.verifyOperationInProgress(),De(Ml,"RemoteStore received new credentials");const r=Fl(n);n.Ea.add(3),await Nd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await wy(n)}async function gH(t,e){const n=ft(t);e?(n.Ea.delete(2),await wy(n)):e||(n.Ea.add(2),await Nd(n),n.Ra.set("Unknown"))}function Xc(t){return t.ma||(t.ma=(function(n,r,i){const s=ft(n);return s.sa(),new eH(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:sH.bind(null,t),t_:oH.bind(null,t),r_:lH.bind(null,t),H_:uH.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),mE(t)?pE(t):t.Ra.set("Unknown")):(await t.ma.stop(),t5(t))}))),t.ma}function To(t){return t.fa||(t.fa=(function(n,r,i){const s=ft(n);return s.sa(),new tH(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:hH.bind(null,t),r_:mH.bind(null,t),ta:dH.bind(null,t),na:pH.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Sy(t)):(await t.fa.stop(),t.Ta.length>0&&(De(Ml,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new yo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,c=new gE(e,n,l,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Fe(_e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yE(t,e){if(gs("AsyncQueue",`${e}: ${t}`),Yc(t))return new Fe(_e.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{static emptySet(e){return new rc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ze.comparator(n.key,r.key):(n,r)=>Ze.comparator(n.key,r.key),this.keyedMap=dh(),this.sortedSet=new Sn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof rc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new rc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(){this.ga=new Sn(Ze.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):nt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class yc{constructor(e,n,r,i,s,l,c,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new yc(e,n,rc.emptySet(n),l,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yH{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class vH{constructor(){this.queries=wP(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ft(n),s=i.queries;i.queries=wP(),s.forEach(((l,c)=>{for(const f of c.Sa)f.onError(r)}))})(this,new Fe(_e.ABORTED,"Firestore shutting down"))}}function wP(){return new zl((t=>T3(t)),gy)}async function bH(t,e){const n=ft(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new yH,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=yE(l,`Initialization of query '${Hu(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&vE(n)}async function xH(t,e){const n=ft(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const l=s.Sa.indexOf(e);l>=0&&(s.Sa.splice(l,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function _H(t,e){const n=ft(t);let r=!1;for(const i of e){const s=i.query,l=n.queries.get(s);if(l){for(const c of l.Sa)c.Fa(i)&&(r=!0);l.wa=i}}r&&vE(n)}function wH(t,e,n){const r=ft(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function vE(t){t.Ca.forEach((e=>{e.next()}))}var tS,SP;(SP=tS||(tS={})).Ma="default",SP.Cache="cache";class SH{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new yc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=yc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==tS.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e){this.key=e}}class s5{constructor(e){this.key=e}}class TH{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=It(),this.mutatedKeys=It(),this.eu=E3(e),this.tu=new rc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new _P,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,m)=>{const v=i.get(p),_=yy(this.query,m)?m:null,T=!!v&&this.mutatedKeys.has(v.key),S=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let w=!1;v&&_?v.data.isEqual(_.data)?T!==S&&(r.track({type:3,doc:_}),w=!0):this.su(v,_)||(r.track({type:2,doc:_}),w=!0,(f&&this.eu(_,f)>0||h&&this.eu(_,h)<0)&&(c=!0)):!v&&_?(r.track({type:0,doc:_}),w=!0):v&&!_&&(r.track({type:1,doc:v}),w=!0,(f||h)&&(c=!0)),w&&(_?(l=l.add(_),s=S?s.add(p):s.delete(p)):(l=l.delete(p),s=s.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{tu:l,iu:r,Cs:c,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,m)=>(function(_,T){const S=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nt(20277,{Rt:w})}};return S(_)-S(T)})(p.type,m.type)||this.eu(p.doc,m.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,h=f!==this.Za;return this.Za=f,l.length!==0||h?{snapshot:new yc(this.query,e.tu,s,l,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _P,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=It(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new s5(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new a5(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=It();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return yc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const bE="SyncEngine";class EH{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class AH{constructor(e){this.key=e,this.hu=!1}}class OH{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new zl((c=>T3(c)),gy),this.Iu=new Map,this.Eu=new Set,this.du=new Sn(Ze.comparator),this.Au=new Map,this.Ru=new lE,this.Vu={},this.mu=new Map,this.fu=gc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function CH(t,e,n=!0){const r=h5(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await o5(r,e,n,!0),i}async function IH(t,e){const n=h5(t);await o5(n,e,!0,!1)}async function o5(t,e,n,r){const i=await GF(t.localStore,_a(e)),s=i.targetId,l=t.sharedClientState.addLocalQueryTarget(s,n);let c;return r&&(c=await PH(t,e,s,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&Z3(t.remoteStore,i),c}async function PH(t,e,n,r,i){t.pu=(m,v,_)=>(async function(S,w,O,C){let R=w.view.ru(O);R.Cs&&(R=await mP(S.localStore,w.query,!1).then((({documents:A})=>w.view.ru(A,R))));const V=C&&C.targetChanges.get(w.targetId),I=C&&C.targetMismatches.get(w.targetId)!=null,j=w.view.applyChanges(R,S.isPrimaryClient,V,I);return EP(S,w.targetId,j.au),j.snapshot})(t,m,v,_);const s=await mP(t.localStore,e,!0),l=new TH(e,s.Qs),c=l.ru(s.documents),f=Rd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=l.applyChanges(c,t.isPrimaryClient,f);EP(t,n,h.au);const p=new EH(e,n,l);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function kH(t,e,n){const r=ft(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((l=>!gy(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Z1(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&hE(r.remoteStore,i.targetId),nS(r,i.targetId)})).catch(Wc)):(nS(r,i.targetId),await Z1(r.localStore,i.targetId,!0))}async function RH(t,e){const n=ft(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),hE(n.remoteStore,r.targetId))}async function NH(t,e,n){const r=UH(t);try{const i=await(function(l,c){const f=ft(l),h=mn.now(),p=c.reduce(((_,T)=>_.add(T.key)),It());let m,v;return f.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let T=ys(),S=It();return f.Ns.getEntries(_,p).next((w=>{T=w,T.forEach(((O,C)=>{C.isValidDocument()||(S=S.add(O))}))})).next((()=>f.localDocuments.getOverlayedDocuments(_,T))).next((w=>{m=w;const O=[];for(const C of c){const R=H7(C,m.get(C.key).overlayedDocument);R!=null&&O.push(new Oo(C.key,R,y3(R.value.mapValue),wa.exists(!0)))}return f.mutationQueue.addMutationBatch(_,h,O,c)})).next((w=>{v=w;const O=w.applyToLocalDocumentSet(m,S);return f.documentOverlayCache.saveOverlays(_,w.batchId,O)}))})).then((()=>({batchId:v.batchId,changes:O3(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,f){let h=l.Vu[l.currentUser.toKey()];h||(h=new Sn(Ct)),h=h.insert(c,f),l.Vu[l.currentUser.toKey()]=h})(r,i.batchId,n),await jd(r,i.changes),await Sy(r.remoteStore)}catch(i){const s=yE(i,"Failed to persist write");n.reject(s)}}async function l5(t,e){const n=ft(t);try{const r=await zF(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const l=n.Au.get(s);l&&(Xt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?Xt(l.hu,14607):i.removedDocuments.size>0&&(Xt(l.hu,42227),l.hu=!1))})),await jd(n,r,e)}catch(r){await Wc(r)}}function TP(t,e,n){const r=ft(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const f=ft(l);f.onlineState=c;let h=!1;f.queries.forEach(((p,m)=>{for(const v of m.Sa)v.va(c)&&(h=!0)})),h&&vE(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jH(t,e,n){const r=ft(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let l=new Sn(Ze.comparator);l=l.insert(s,Ar.newNoDocument(s,at.min()));const c=It().add(s),f=new xy(at.min(),new Map,new Sn(Ct),l,c);await l5(r,f),r.du=r.du.remove(s),r.Au.delete(e),xE(r)}else await Z1(r.localStore,e,!1).then((()=>nS(r,e,n))).catch(Wc)}async function MH(t,e){const n=ft(t),r=e.batch.batchId;try{const i=await qF(n.localStore,e);c5(n,r,null),u5(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await jd(n,i)}catch(i){await Wc(i)}}async function DH(t,e,n){const r=ft(t);try{const i=await(function(l,c){const f=ft(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return f.mutationQueue.lookupMutationBatch(h,c).next((m=>(Xt(m!==null,37113),p=m.keys(),f.mutationQueue.removeMutationBatch(h,m)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,p,c))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>f.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);c5(r,e,n),u5(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await jd(r,i)}catch(i){await Wc(i)}}function u5(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function c5(t,e,n){const r=ft(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function nS(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||f5(t,r)}))}function f5(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(hE(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),xE(t))}function EP(t,e,n){for(const r of n)r instanceof a5?(t.Ru.addReference(r.key,e),LH(t,r)):r instanceof s5?(De(bE,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||f5(t,r.key)):nt(19791,{wu:r})}function LH(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(De(bE,"New document in limbo: "+n),t.Eu.add(r),xE(t))}function xE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ze(wn.fromString(e)),r=t.fu.next();t.Au.set(r,new AH(n)),t.du=t.du.insert(n,r),Z3(t.remoteStore,new co(_a(rE(n.path)),r,"TargetPurposeLimboResolution",hy.ce))}}async function jd(t,e,n){const r=ft(t),i=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,f)=>{l.push(r.pu(f,e,n).then((h=>{var p;if((h||n)&&r.isPrimaryClient){const m=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(f.targetId,m?"current":"not-current")}if(h){i.push(h);const m=cE.As(f.targetId,h);s.push(m)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(f,h){const p=ft(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>be.forEach(h,(v=>be.forEach(v.Es,(_=>p.persistence.referenceDelegate.addReference(m,v.targetId,_))).next((()=>be.forEach(v.ds,(_=>p.persistence.referenceDelegate.removeReference(m,v.targetId,_)))))))))}catch(m){if(!Yc(m))throw m;De(fE,"Failed to update sequence numbers: "+m)}for(const m of h){const v=m.targetId;if(!m.fromCache){const _=p.Ms.get(v),T=_.snapshotVersion,S=_.withLastLimboFreeSnapshotVersion(T);p.Ms=p.Ms.insert(v,S)}}})(r.localStore,s))}async function VH(t,e){const n=ft(t);if(!n.currentUser.isEqual(e)){De(bE,"User change. New user:",e.toKey());const r=await Y3(n.localStore,e);n.currentUser=e,(function(s,l){s.mu.forEach((c=>{c.forEach((f=>{f.reject(new Fe(_e.CANCELLED,l))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await jd(n,r.Ls)}}function $H(t,e){const n=ft(t),r=n.Au.get(e);if(r&&r.hu)return It().add(r.key);{let i=It();const s=n.Iu.get(e);if(!s)return i;for(const l of s){const c=n.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}function h5(t){const e=ft(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=l5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$H.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jH.bind(null,e),e.Pu.H_=_H.bind(null,e.eventManager),e.Pu.yu=wH.bind(null,e.eventManager),e}function UH(t){const e=ft(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DH.bind(null,e),e}class rg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_y(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return BF(this.persistence,new VF,e.initialUser,this.serializer)}Cu(e){return new W3(uE.mi,this.serializer)}Du(e){return new WF}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rg.provider={build:()=>new rg};class BH extends rg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xt(this.persistence.referenceDelegate instanceof tg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new SF(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Hr.withCacheSize(this.cacheSizeBytes):Hr.DEFAULT;return new W3((r=>tg.mi(r,n)),this.serializer)}}class rS{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>TP(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=VH.bind(null,this.syncEngine),await gH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new vH})()}createDatastore(e){const n=_y(e.databaseInfo.databaseId),r=(function(s){return new ZF(s)})(e.databaseInfo);return(function(s,l,c,f){return new rH(s,l,c,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,l,c){return new aH(r,i,s,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>TP(this.syncEngine,n,0)),(function(){return vP.v()?new vP:new YF})())}createSyncEngine(e,n){return(function(i,s,l,c,f,h,p){const m=new OH(i,s,l,c,f,h);return p&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const s=ft(i);De(Ml,"RemoteStore shutting down."),s.Ea.add(5),await Nd(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}rS.provider={build:()=>new rS};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qH{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo="FirestoreClient";class zH{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Er.UNAUTHENTICATED,this.clientId=XT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async l=>{De(Eo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(De(Eo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=yE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ab(t,e){t.asyncQueue.verifyOperationInProgress(),De(Eo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await Y3(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function AP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await FH(t);De(Eo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>xP(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>xP(e.remoteStore,i))),t._onlineComponents=e}async function FH(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){De(Eo,"Using user provided OfflineComponentProvider");try{await Ab(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===_e.FAILED_PRECONDITION||i.code===_e.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;hc("Error using user provided cache. Falling back to memory cache: "+n),await Ab(t,new rg)}}else De(Eo,"Using default OfflineComponentProvider"),await Ab(t,new BH(void 0));return t._offlineComponents}async function d5(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(De(Eo,"Using user provided OnlineComponentProvider"),await AP(t,t._uninitializedComponentsProvider._online)):(De(Eo,"Using default OnlineComponentProvider"),await AP(t,new rS))),t._onlineComponents}function HH(t){return d5(t).then((e=>e.syncEngine))}async function GH(t){const e=await d5(t),n=e.eventManager;return n.onListen=CH.bind(null,e.syncEngine),n.onUnlisten=kH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=IH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=RH.bind(null,e.syncEngine),n}function KH(t,e,n={}){const r=new yo;return t.asyncQueue.enqueueAndForget((async()=>(function(s,l,c,f,h){const p=new qH({next:v=>{p.Nu(),l.enqueueAndForget((()=>xH(s,m)));const _=v.docs.has(c);!_&&v.fromCache?h.reject(new Fe(_e.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&v.fromCache&&f&&f.source==="server"?h.reject(new Fe(_e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(v)},error:v=>h.reject(v)}),m=new SH(rE(c.path),p,{includeMetadataChanges:!0,qa:!0});return bH(s,m)})(await GH(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p5(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5="firestore.googleapis.com",CP=!0;class IP{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Fe(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=m5,this.ssl=CP}else this.host=e.host,this.ssl=e.ssl??CP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=K3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_F)throw new Fe(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}i7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=p5(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Fe(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Fe(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Fe(_e.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _E{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Fe(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Fe(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Kz;switch(r.type){case"firstParty":return new Qz(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Fe(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=OP.get(n);r&&(De("ComponentProvider","Removing Datastore"),OP.delete(n),r.terminate())})(this),Promise.resolve()}}function WH(t,e,n,r={}){var h;t=jl(t,_E);const i=Hc(e),s=t._getSettings(),l={...s,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(mL(`https://${c}`),gL("Firestore",!0)),s.host!==m5&&s.host!==c&&hc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...s,host:c,ssl:i,emulatorOptions:r};if(!Pl(f,l)&&(t._setSettings(f),r.mockUserToken)){let p,m;if(typeof r.mockUserToken=="string")p=r.mockUserToken,m=Er.MOCK_USER;else{p=yB(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Fe(_e.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Er(v)}t._authCredentials=new Wz(new s3(p,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wE(this.firestore,e,this._query)}}class Qn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qn(this.firestore,e,this._key)}toJSON(){return{type:Qn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Pd(n,Qn._jsonSchema))return new Qn(e,r||null,new Ze(wn.fromString(n.referencePath)))}}Qn._jsonSchemaVersion="firestore/documentReference/1.0",Qn._jsonSchema={type:Fn("string",Qn._jsonSchemaVersion),referencePath:Fn("string")};class Bh extends wE{constructor(e,n,r){super(e,n,rE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qn(this.firestore,null,new Ze(e))}withConverter(e){return new Bh(this.firestore,e,this._path)}}function iS(t,e,...n){if(t=Ir(t),arguments.length===1&&(e=XT.newId()),r7("doc","path",e),t instanceof _E){const r=wn.fromString(e,...n);return zI(r),new Qn(t,null,new Ze(r))}{if(!(t instanceof Qn||t instanceof Bh))throw new Fe(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wn.fromString(e,...n));return zI(r),new Qn(t.firestore,t instanceof Bh?t.converter:null,new Ze(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP="AsyncQueue";class kP{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Q3(this,"async_queue_retry"),this._c=()=>{const r=Eb();r&&De(PP,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Eb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Eb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new yo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Yc(e))throw e;De(PP,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,gs("INTERNAL UNHANDLED ERROR: ",RP(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=gE.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&nt(47125,{Pc:RP(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function RP(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ty extends _E{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new kP,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kP(e),this._firestoreClient=void 0,await e}}}function YH(t,e){const n=typeof t=="object"?t:xL(),r=typeof t=="string"?t:Wm,i=VT(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=mB("firestore");s&&WH(i,...s)}return i}function g5(t){if(t._terminated)throw new Fe(_e.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||XH(t),t._firestoreClient}function XH(t){var r,i,s;const e=t._freezeSettings(),n=(function(c,f,h,p){return new m7(c,f,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p5(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new zH(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ri(vr.fromBase64String(e))}catch(n){throw new Fe(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ri(vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ri._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pd(e,Ri._jsonSchema))return Ri.fromBase64String(e.bytes)}}Ri._jsonSchemaVersion="firestore/bytes/1.0",Ri._jsonSchema={type:Fn("string",Ri._jsonSchemaVersion),bytes:Fn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Fe(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Fe(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Fe(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ct(this._lat,e._lat)||Ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ta._jsonSchemaVersion}}static fromJSON(e){if(Pd(e,Ta._jsonSchema))return new Ta(e.latitude,e.longitude)}}Ta._jsonSchemaVersion="firestore/geoPoint/1.0",Ta._jsonSchema={type:Fn("string",Ta._jsonSchemaVersion),latitude:Fn("number"),longitude:Fn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ea._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pd(e,Ea._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ea(e.vectorValues);throw new Fe(_e.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ea._jsonSchemaVersion="firestore/vectorValue/1.0",Ea._jsonSchema={type:Fn("string",Ea._jsonSchemaVersion),vectorValues:Fn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QH=/^__.*__$/;class JH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Oo(e,this.data,this.fieldMask,n,this.fieldTransforms):new kd(e,this.data,n,this.fieldTransforms)}}class y5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Oo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function v5(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nt(40011,{Ac:t})}}class TE{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new TE({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ig(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(v5(this.Ac)&&QH.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class ZH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||_y(e)}Cc(e,n,r,i=!1){return new TE({Ac:e,methodName:n,Dc:r,path:yr.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function b5(t){const e=t._freezeSettings(),n=_y(t._databaseId);return new ZH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function eG(t,e,n,r,i,s={}){const l=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);EE("Data must be an object, but it was:",l,r);const c=x5(r,l);let f,h;if(s.merge)f=new hi(l.fieldMask),h=l.fieldTransforms;else if(s.mergeFields){const p=[];for(const m of s.mergeFields){const v=aS(e,m,n);if(!l.contains(v))throw new Fe(_e.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);w5(p,v)||p.push(v)}f=new hi(p),h=l.fieldTransforms.filter((m=>f.covers(m.field)))}else f=null,h=l.fieldTransforms;return new JH(new Kr(c),f,h)}class Ay extends SE{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ay}}function tG(t,e,n,r){const i=t.Cc(1,e,n);EE("Data must be an object, but it was:",i,r);const s=[],l=Kr.empty();Ao(r,((f,h)=>{const p=AE(e,f,n);h=Ir(h);const m=i.yc(p);if(h instanceof Ay)s.push(p);else{const v=Oy(h,m);v!=null&&(s.push(p),l.set(p,v))}}));const c=new hi(s);return new y5(l,c,i.fieldTransforms)}function nG(t,e,n,r,i,s){const l=t.Cc(1,e,n),c=[aS(e,r,n)],f=[i];if(s.length%2!=0)throw new Fe(_e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<s.length;v+=2)c.push(aS(e,s[v])),f.push(s[v+1]);const h=[],p=Kr.empty();for(let v=c.length-1;v>=0;--v)if(!w5(h,c[v])){const _=c[v];let T=f[v];T=Ir(T);const S=l.yc(_);if(T instanceof Ay)h.push(_);else{const w=Oy(T,S);w!=null&&(h.push(_),p.set(_,w))}}const m=new hi(h);return new y5(p,m,l.fieldTransforms)}function Oy(t,e){if(_5(t=Ir(t)))return EE("Unsupported field value:",e,t),x5(t,e);if(t instanceof SE)return(function(r,i){if(!v5(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const s=[];let l=0;for(const c of r){let f=Oy(c,i.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),l++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Ir(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $7(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=mn.fromDate(r);return{timestampValue:eg(i.serializer,s)}}if(r instanceof mn){const s=new mn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:eg(i.serializer,s)}}if(r instanceof Ta)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ri)return{bytesValue:U3(i.serializer,r._byteString)};if(r instanceof Qn){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:oE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ea)return(function(l,c){return{mapValue:{fields:{[m3]:{stringValue:g3},[Ym]:{arrayValue:{values:l.toArray().map((h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return iE(c.serializer,h)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${QT(r)}`)})(t,e)}function x5(t,e){const n={};return u3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ao(t,((r,i)=>{const s=Oy(i,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function _5(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mn||t instanceof Ta||t instanceof Ri||t instanceof Qn||t instanceof SE||t instanceof Ea)}function EE(t,e,n){if(!_5(n)||!o3(n)){const r=QT(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function aS(t,e,n){if((e=Ir(e))instanceof Ey)return e._internalPath;if(typeof e=="string")return AE(t,e);throw ig("Field path arguments must be of type string or ",t,!1,void 0,n)}const rG=new RegExp("[~\\*/\\[\\]]");function AE(t,e,n){if(e.search(rG)>=0)throw ig(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ey(...e.split("."))._internalPath}catch{throw ig(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ig(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(s||l)&&(f+=" (found",s&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new Fe(_e.INVALID_ARGUMENT,c+t+f)}function w5(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(T5("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iG extends S5{data(){return super.data()}}function T5(t,e){return typeof e=="string"?AE(t,e):e instanceof Ey?e._internalPath:e._delegate._internalPath}class aG{convertValue(e,n="none"){switch(So(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw nt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ao(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[Ym].arrayValue)==null?void 0:i.values)==null?void 0:s.map((l=>Mn(l.doubleValue)));return new Ea(n)}convertGeoPoint(e){return new Ta(Mn(e.latitude),Mn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=py(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Dh(e));default:return null}}convertTimestamp(e){const n=_o(e);return new mn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=wn.fromString(e);Xt(G3(r),9688,{name:e});const i=new Lh(r.get(1),r.get(3)),s=new Ze(r.popFirst(5));return i.isEqual(n)||gs(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sG(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class mh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ol extends S5{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(T5("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Fe(_e.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ol._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ol._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ol._jsonSchema={type:Fn("string",Ol._jsonSchemaVersion),bundleSource:Fn("string","DocumentSnapshot"),bundleName:Fn("string"),bundle:Fn("string")};class Lm extends Ol{data(e={}){return super.data(e)}}class Ah{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new mh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Lm(this._firestore,this._userDataWriter,r.key,r,new mh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Fe(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const f=new Lm(i._firestore,i._userDataWriter,c.doc.key,c.doc,new mh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>s||c.type!==3)).map((c=>{const f=new Lm(i._firestore,i._userDataWriter,c.doc.key,c.doc,new mh(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:oG(c.type),doc:f,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Fe(_e.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ah._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=XT.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function oG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lG(t){t=jl(t,Qn);const e=jl(t.firestore,Ty);return KH(g5(e),t._key).then((n=>fG(e,t,n)))}Ah._jsonSchemaVersion="firestore/querySnapshot/1.0",Ah._jsonSchema={type:Fn("string",Ah._jsonSchemaVersion),bundleSource:Fn("string","QuerySnapshot"),bundleName:Fn("string"),bundle:Fn("string")};class uG extends aG{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ri(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qn(this.firestore,null,n)}}function sS(t,e,n){t=jl(t,Qn);const r=jl(t.firestore,Ty),i=sG(t.converter,e,n);return E5(r,[eG(b5(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,wa.none())])}function cG(t,e,n,...r){t=jl(t,Qn);const i=jl(t.firestore,Ty),s=b5(i);let l;return l=typeof(e=Ir(e))=="string"||e instanceof Ey?nG(s,"updateDoc",t._key,e,n,r):tG(s,"updateDoc",t._key,e),E5(i,[l.toMutation(t._key,wa.exists(!0))])}function E5(t,e){return(function(r,i){const s=new yo;return r.asyncQueue.enqueueAndForget((async()=>NH(await HH(r),i,s))),s.promise})(g5(t),e)}function fG(t,e,n){const r=n.docs.get(e._key),i=new uG(t);return new Ol(t,i,e._key,r,new mh(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Kc=i})(Gc),uc(new kl("firestore",((r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),c=new Ty(new Yz(r.getProvider("auth-internal")),new Jz(l,r.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Fe(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lh(h.options.projectId,p)})(l,i),l);return s={useFetchStreams:n,...s},c._setSettings(s),c}),"PUBLIC").setMultipleInstances(!0)),mo($I,UI,e),mo($I,UI,"esm2020")})();var hG="firebase",dG="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mo(hG,dG,"app");const pG={apiKey:"AIzaSyDkU88zoYfO7URAqi19qtIDGs25zkgJ4_g",authDomain:"ai-code-typer-db.firebaseapp.com",projectId:"ai-code-typer-db",storageBucket:"ai-code-typer-db.firebasestorage.app",messagingSenderId:"713662672910",appId:"1:713662672910:web:990f2412b177a3e5fd8c5f",measurementId:"G-N1NK71JBG7"},A5=bL(pG),Lu=Hz(A5),mG=new as,oS=YH(A5),O5=U.createContext(null),Cy=()=>{const t=U.useContext(O5);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},gG=()=>{function t(e,n){const r=localStorage.getItem(e);if(!r)return n;try{return JSON.parse(r)}catch{return n}}return{theme:localStorage.getItem("theme")||"light",languageId:localStorage.getItem("selectedLanguage")||"python",snippetLength:localStorage.getItem("snippetLength")||"medium",snippetLevel:localStorage.getItem("snippetLevel")||"medium",blockOnErrorThreshold:Number(localStorage.getItem("blockOnErrorThreshold"))||2,fontSize:localStorage.getItem("fontSize")||"md",showKeyboard:localStorage.getItem("showKeyboard")?localStorage.getItem("showKeyboard")==="true":window.innerWidth>=768,showHandGuide:localStorage.getItem("showHandGuide")!=="false",wpmGoal:Number(localStorage.getItem("wpmGoal"))||20,accuracyGoal:Number(localStorage.getItem("accuracyGoal"))||95,timeGoal:Number(localStorage.getItem("timeGoal"))||15,lastSetupTab:localStorage.getItem("setupTab")||"generate",lastPracticeMode:localStorage.getItem("practiceMode")||"code",generalContentTypes:t("generalContentTypes",["characters"])}},yG=({children:t})=>{const[e,n]=U.useState(null),[r,i]=U.useState(null),[s,l]=U.useState(!0),[c,f]=U.useState("idle"),h=async _=>{try{f("syncing");const T=localStorage.getItem("practiceHistory"),S=T?JSON.parse(T):[],w=gG(),O=iS(oS,"users",_),C=await lG(O);let R=[],V,I=!1;if(C.exists()){const P=C.data();R=P.history||[],V=P.preferences,I=!0}let j=R,A=!1;if(S.length>0){const P=new Set(R.map(B=>B.id)),N=S.filter(B=>!P.has(B.id));N.length>0&&(j=[...R,...N],A=!0),localStorage.removeItem("practiceHistory"),localStorage.removeItem("keyErrorStats"),localStorage.removeItem("keyAttemptStats")}return(A||!I)&&(I?A&&await cG(O,{history:j}):await sS(O,{history:j})),f("synced"),{history:j,preferences:w}}catch(T){return console.error("Sync failed:",T),f("error"),null}};U.useEffect(()=>{const _=N8(Lu,async T=>{if(T){n(T);const S=await h(T.uid);S&&i(S)}else n(null),i(null);l(!1)});return()=>{_()}},[]);const p=async()=>{try{await ez(Lu,mG)}catch(_){throw console.error("Login failed:",_),_}},m=async()=>{try{await j8(Lu)}catch(_){console.error("Logout failed:",_)}},v=async _=>{if(Lu.currentUser)try{await P8(Lu.currentUser,_),n({...Lu.currentUser,..._})}catch(T){throw console.error("Failed to update profile",T),T}};return x.jsx(O5.Provider,{value:{user:e,userData:r,loading:s,loginWithGoogle:p,logout:m,syncStatus:c,updateUserProfile:v},children:t})},vn=[{id:"python",name:"Python",prismAlias:"python"},{id:"javascript",name:"JavaScript",prismAlias:"javascript"},{id:"typescript",name:"TypeScript",prismAlias:"typescript"},{id:"cpp",name:"C++",prismAlias:"cpp"},{id:"java",name:"Java",prismAlias:"java"},{id:"csharp",name:"C#",prismAlias:"csharp"},{id:"c",name:"C",prismAlias:"c"},{id:"go",name:"Go",prismAlias:"go"},{id:"rust",name:"Rust",prismAlias:"rust"},{id:"php",name:"PHP",prismAlias:"php"},{id:"ruby",name:"Ruby",prismAlias:"ruby"},{id:"swift",name:"Swift",prismAlias:"swift"},{id:"kotlin",name:"Kotlin",prismAlias:"kotlin"},{id:"html",name:"HTML",prismAlias:"html"},{id:"css",name:"CSS",prismAlias:"css"},{id:"sql",name:"SQL",prismAlias:"sql"}],vG="https://ai-code-typer-proxy.khannaseem1704.workers.dev",bG={easy:"basic syntax and concepts, like variable declaration and simple loops",medium:"intermediate concepts, like functions, classes, or common library usage",hard:"advanced or complex topics, like asynchronous programming, data structures, or algorithms"},Iy={short:"5-10 lines",medium:"15-20 lines",long:"25-30 lines"},Py=async(t,e)=>{var i,s,l,c,f,h;let r=null;for(let p=0;p<=3;p++)try{const v=await fetch(vG,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:t,systemInstruction:e||`You are a code generation engine for a typing practice app.
Your task is to provide a code snippet based on the user's request.
The snippet MUST be clean, raw code.
ABSOLUTELY NO explanations, comments, markdown backticks(\`\`\`), or any text other than the code itself.
The code must be syntactically correct for the requested language.`})});if(v.status===429)throw new Error("429: Too Many Requests");if(!v.ok){let w=v.statusText,O=!1;try{const C=await v.json();C!=null&&C.error&&(w=JSON.stringify(C.error),(C.error.code===429||C.error.status==="RESOURCE_EXHAUSTED"||(i=C.error.message)!=null&&i.toLowerCase().includes("quota"))&&(O=!0))}catch{try{const R=await v.text();R&&(w=`${v.status} - ${R}`,R.toLowerCase().includes("quota")&&(O=!0))}catch{}}throw O?new Error("Quota Exceeded: The AI service daily limit has been reached."):v.status===503||w.includes('"status":"UNAVAILABLE"')||w.includes("overloaded")?new Error('AI Service Overloaded: The model is currently overloaded. Please try again in a few moments or use the "Upload Text" option instead.'):new Error(`Worker Error: ${w}`)}const _=await v.json(),T=(h=(f=(c=(l=(s=_==null?void 0:_.candidates)==null?void 0:s[0])==null?void 0:l.content)==null?void 0:c.parts)==null?void 0:f[0])==null?void 0:h.text;if(!T)throw new Error(_.error||"The AI returned an empty snippet. Please try again.");return T.replace(/^```(?:\w+\n)?/,"").replace(/```$/,"").trim()}catch(m){r=m;const v=m instanceof Error&&m.message.includes("429"),_=m instanceof Error&&m.message.includes("AI Service Overloaded"),T=m instanceof Error&&m.message.includes("Quota Exceeded");if((v||_)&&!T&&p<3){const S=Math.pow(2,p)*1e3;await new Promise(w=>setTimeout(w,S));continue}break}throw console.error("Error generating snippet:",r),r?r.message.includes("Quota Exceeded")?r:r.message.includes("AI Service Overloaded")?new Error("AI model is overloaded. Try Upload Text option or wait a moment and retry."):r.message.includes("429")?new Error("AI service is busy. Please try again shortly."):r:new Error("Unknown error generating snippet.")},NP=async(t,e,n)=>{const r=`Generate a code snippet in ${t.name}. 
The snippet should be ${Iy[e]} long.
The difficulty level should be ${bG[n]}.`,i=`You are a strict code generation engine.
  RULES:
  1. Generate ONLY valid, clean, compilable code in ${t.name}.
  2. NO comments. NO explanation. NO markdown. NO backticks.
  3. CODE MUST BE REAL, FUNCTIONAL, AND GRAMMATICALLY CORRECT for the language.
  4. DO NOT write pseudo-code or fake logic.
  5. CRITICAL: INDENTATION MUST USE TAB CHARACTERS (	). NEVER USE SPACES FOR INDENTATION.
  6. Do not convert tabs to spaces. Use actual tab characters.`;return Py(r,i)},jP=async(t,e,n,r)=>{const s=`Generate a TARGETED PRACTICE snippet.
  
  Target Keys: [${e.map(l=>l===" "?"space":l===`
`?"newline":l==="	"?"tab":l).join(", ")}]
  Language Style: ${t.name} (but NOT functional code)
  Length: ${Iy[n]}
  
  CRITICAL RULES:
  1. The snippet must be MEANINGLESS but READABLE (pseudo-code sentences, fake logic).
  2. The Target Keys must appear 5x MORE FREQUENTLY than normal.
  3. Do NOT generate real working code. It should feel like muscle memory training.
  4. Use structure (brackets, indentation) if the language uses them.
  5. NO explanations, NO comments, ONLY the raw snippet.
  
  Examples of style:
  - "while w wraps words { ww }"
  - "Tab shifts w into wider waves { }"
  - "x = (x + x) * x; // x marks the spot"
  
  Generate the snippet now.`;return Py(s)},xG=async(t,e,n=["characters"])=>{const r=n.includes("characters"),i=n.includes("numbers"),s=n.includes("symbols");let l="";r&&i&&s?l=`Generate a text that heavily mixes words, numbers, and symbols.
    - CRITICAL REQUIREMENT: Every single sentence or line MUST contain at least one number AND one symbol.
    - Style: Technical data logs, complex passwords, inventory lists, or code-like pseudo text.
    - Example format: "User_ID: #4928 @ 10:45PM (Status: 99% Verified!)"`:r&&i?l=`Generate a text containing words and numbers. 
    - Style: Addresses, historical dates, scientific facts with measurements, or financial summaries.
    - CRITICAL REQUIREMENT: Frequent use of digits mixed with sentences. Do NOT use complex symbols like @#$%^ (only basic punctuation like . , is allowed).
    - Example format: "On July 4th, 1776, approximately 2.5 million people lived there."`:r&&s?l=`Generate a text containing words and symbols.
    - Style: Dialogues with heavy punctuation, code comments, or expressive writing.
    - CRITICAL REQUIREMENT: Frequent use of brackets (), [], {}, punctuation !?.,:; and symbols @#&. Do NOT use numbers 0-9.
    - Example format: "Hello (world)! Waiting for response... [OK] -> {verified}."`:i&&s?l=`Generate a sequence of Numbers and Symbols ONLY.
    - ABSOLUTELY FORBIDDEN: DO NOT INCLUDE ANY ALPHABET CHARACTERS (A-Z, a-z).
    - Style: Math equations, currency calculations, or abstract data strings.
    - Example format: "123+456=$579; (80% * 10) = #800 // 99.9"`:i?l=`Generate a sequence of Numbers ONLY.
    - ABSOLUTELY FORBIDDEN: DO NOT INCLUDE LETTERS OR SYMBOLS (except decimal points).
    - Style: Phone numbers, years, zip codes, or raw data streams.
    - Example format: "1990 2023 8837 1.45 00392 998 112"`:s?l=`Generate a sequence of Symbols ONLY.
    - ABSOLUTELY FORBIDDEN: DO NOT INCLUDE LETTERS OR NUMBERS.
    - Style: Random symbol patterns for pinky finger practice.
    - Example format: "!@# $ %^ &*() _+ {} [] : ; < > ?"`:l=`Generate standard English paragraphs.
    - Style: Informative, story-telling, or essays.
    - Requirement: Standard grammar and punctuation. Minimize numbers and complex symbols.`;let c="";e==="easy"&&(c="Use simple, repetitive patterns and lower density of complex items."),e==="medium"&&(c="Use varied patterns and moderate density of selected elements."),e==="hard"&&(c="Maximize the density, randomness, and complexity of the selected elements. Make it challenging.");const f=`Generate a random typing practice snippet.
The length should be roughly ${Iy[t]}.
${l}
${c}`;return Py(f,`You are a text generation engine for a general typing practice app. 
  RULES:
  1. Generate ONLY normal English text or mixed content based on instructions.
  2. ABSOLUTELY NO PROGRAMMING CODE.
  3. NO function-like patterns, NO classes, NO loops, NO braces like {}, [], () used in a code style.
  4. NO variable-like words (temp1, obj2, xValue).
  5. Format naturally with line breaks every 8-12 words.
  6. NO markdown, headers, or backticks.`)},_G=async(t,e="medium")=>{const n=Object.entries(t).map(([h,p])=>({key:h,errorRate:p.attempts>0?p.errors/p.attempts*100:0})).sort((h,p)=>p.errorRate-h.errorRate),r=n.slice(0,5),i=n.slice(5).filter(h=>h.errorRate>=10),s=[...r,...i].slice(0,7);if(s.length===0)throw new Error("No error history available for practice.");const c=`
  generate a paragraph of Abstract Prose / Creative Writing.
  
  The text must differ from normal writing because it must aggressively use these specific characters: [${s.map(h=>h.key===" "?"space":h.key===`
`?"newline":h.key==="	"?"tab":h.key).join(", ")}]
  
  STRICT RULES FOR SYMBOL USAGE (Do Not Write Code):
  1. If keys are '{}' or '[]': Use them to enclose feelings or whispers inside sentences. 
     - BAD: function { return }
     - GOOD: "I felt {lonely} but [strong] inside."
  2. If keys are '()' : Use them for side comments.
     - GOOD: "The sky (which was blue) turned grey."
  3. If keys are ';': Use them to connect two long sentences.
     - GOOD: "The rain stopped; silence followed."
  4. If keys are '$' or '#': Use them as modern slang.
     - GOOD: "I have $zero #motivation today."
  
  REQUIREMENTS:
  - Length: ${Iy[e]}
  - Structure: A flowing paragraph of English text. 
  - ABSOLUTELY NO PROGRAMMING SYNTAX (No function, var, const, return, import).
  
  Write the text now.
  `;return Py(c,`
  You are a Creative Writer, NOT a programmer.
  Your task is to write English paragraphs that look like experimental literature.
  
  CRITICAL INTERVENTION: 
  The user is trying to trick you into writing code by asking for symbols like { } ; ( ) [ ]. 
  DO NOT FALL FOR IT. 
  
  If you see '{', treat it as a fancy bracket for emphasis in a story.
  If you see ';', treat it as a punctuation mark in a novel.
  
  Output MUST be plain text prose.
  `)},lS=t=>{const e={},n={};for(const r of t){if(r.errorMap)for(const[i,s]of Object.entries(r.errorMap))e[i]=(e[i]||0)+s;if(r.attemptMap)for(const[i,s]of Object.entries(r.attemptMap))n[i]=(n[i]||0)+s}return{keyErrorStats:e,keyAttemptStats:n}},wG=t=>{const e=new Date().toISOString().split("T")[0],n=localStorage.getItem("dailyPracticeDate");let r=Number(localStorage.getItem("dailyPracticeTime")||"0");return n!==e&&(r=0,localStorage.setItem("dailyPracticeDate",e)),r+=t,localStorage.setItem("dailyPracticeTime",String(r)),r},C5=t=>{const e=["theme","selectedLanguage","practiceHistory","keyErrorStats","keyAttemptStats","wpmGoal","accuracyGoal","setupTab","timeGoal","dailyPracticeDate","dailyPracticeTime","generalContentTypes","snippetLength","snippetLevel","blockOnErrorThreshold","fontSize","showKeyboard","showHandGuide","practiceMode"],n={};e.forEach(S=>{if(t&&t[S]!==void 0)n[S]=t[S];else{const w=localStorage.getItem(S);if(w!==null)try{n[S]=JSON.parse(w)}catch{n[S]=w}}});const r=JSON.stringify(n,null,2),i=new Blob([r],{type:"application/json"}),s=new Date,l=s.getFullYear(),c=String(s.getMonth()+1).padStart(2,"0"),f=String(s.getDate()).padStart(2,"0"),h=String(s.getHours()).padStart(2,"0"),p=String(s.getMinutes()).padStart(2,"0"),m=String(s.getSeconds()).padStart(2,"0"),_=`ai-code-typer-backup-${`${l}-${c}-${f}-${h}-${p}-${m}`}.json`,T=document.createElement("a");T.href=URL.createObjectURL(i),T.download=_,document.body.appendChild(T),T.click(),document.body.removeChild(T),URL.revokeObjectURL(T.href)},SG=(t,e)=>{let n;try{n=JSON.parse(t)}catch{throw new Error("Invalid JSON file. Could not parse data.")}if(typeof n!="object"||n===null||Array.isArray(n))throw new Error("Invalid backup file format: not a JSON object.");if(!["theme","selectedLanguage","practiceHistory","keyErrorStats","wpmGoal"].some(h=>h in n))throw new Error("File does not appear to be a valid AI Code Typer backup.");Object.keys(n).forEach(h=>{if(h!=="practiceHistory"&&h!=="keyErrorStats"&&h!=="keyAttemptStats"){const p=n[h],m=typeof p=="string"?p:JSON.stringify(p);localStorage.setItem(h,m)}});let s=[];const l=Array.isArray(n.practiceHistory)?n.practiceHistory:[];if(e==="merge"){const h=localStorage.getItem("practiceHistory"),p=h?JSON.parse(h):[],m=new Set(p.map(_=>_.timestamp)),v=l.filter(_=>!m.has(_.timestamp));s=[...p,...v],s.sort((_,T)=>_.timestamp-T.timestamp)}else s=l;let{keyErrorStats:c,keyAttemptStats:f}=lS(s);Object.keys(c).length===0&&n.keyErrorStats&&Object.keys(n.keyErrorStats).length>0&&e==="replace"&&(c=n.keyErrorStats),Object.keys(f).length===0&&n.keyAttemptStats&&Object.keys(n.keyAttemptStats).length>0&&e==="replace"&&(f=n.keyAttemptStats),localStorage.setItem("practiceHistory",JSON.stringify(s)),localStorage.setItem("keyErrorStats",JSON.stringify(c)),localStorage.setItem("keyAttemptStats",JSON.stringify(f))},MP={id:"custom",name:"Custom",prismAlias:"clike"},Vu=["sm","md","lg","xl"],TG=t=>{const e=t.lastIndexOf(".");if(e<0)return MP;const n=t.substring(e).toLowerCase();return{".py":vn.find(i=>i.id==="python"),".js":vn.find(i=>i.id==="javascript"),".jsx":vn.find(i=>i.id==="javascript"),".ts":vn.find(i=>i.id==="typescript"),".tsx":vn.find(i=>i.id==="typescript"),".java":vn.find(i=>i.id==="java"),".cpp":vn.find(i=>i.id==="cpp"),".cc":vn.find(i=>i.id==="cpp"),".cxx":vn.find(i=>i.id==="cpp"),".h":vn.find(i=>i.id==="cpp"),".hpp":vn.find(i=>i.id==="cpp"),".go":vn.find(i=>i.id==="go"),".rs":vn.find(i=>i.id==="rust")}[n]||MP},Zf=t=>t.split(`
`).map(e=>{const n=e.match(/^ +/);if(n){const r=n[0].length;if(r>0&&r%4===0){const i=r/4;return"	".repeat(i)+e.substring(r)}}return e}).join(`
`);function ro(t,e){if(typeof window>"u")return e;try{const n=localStorage.getItem(t);return n?JSON.parse(n):e}catch(n){return console.warn(`Failed to parse localStorage key "${t}":`,n),e}}const Tn=U.createContext(null),EG=({children:t})=>{const{user:e,syncStatus:n,userData:r,loading:i}=Cy(),[s,l]=U.useState(()=>{const ie=localStorage.getItem("theme");return ie||"light"}),[c,f]=U.useState(()=>{const ie=localStorage.getItem("selectedLanguage");return vn.find(ke=>ke.id===(ie||"python"))||vn[0]}),[h,p]=U.useState("code"),[m,v]=U.useState(()=>ro("generalContentTypes",["characters"])),[_,T]=U.useState(""),[S,w]=U.useState(!1),[O,C]=U.useState(null),[R,V]=U.useState(!1),[I,j]=U.useState("medium"),[A,P]=U.useState("medium"),[N,B]=U.useState(2),[D,$]=U.useState(()=>{const ie=localStorage.getItem("fontSize");return ie&&Vu.includes(ie)?ie:"md"}),[L,Q]=U.useState(()=>typeof window<"u"?window.innerWidth>=768:!0),[J,F]=U.useState(!0),[Y,ee]=U.useState("home"),ue=U.useRef(null),[ve,H]=U.useState(!1),[W,oe]=U.useState(0),me=W>0,we=U.useCallback(()=>oe(ie=>ie+1),[]),Se=U.useCallback(()=>oe(ie=>Math.max(0,ie-1)),[]),[Ne,$e]=U.useState(()=>ro("practiceHistory",[])),[ye,Te]=U.useState(()=>ro("keyErrorStats",{})),[Re,ne]=U.useState(()=>ro("keyAttemptStats",{})),[He,xe]=U.useState(()=>parseInt(localStorage.getItem("wpmGoal")||"20",10)),[Ee,Be]=U.useState(()=>parseInt(localStorage.getItem("accuracyGoal")||"95",10)),[We,st]=U.useState(()=>parseInt(localStorage.getItem("timeGoal")||"15",10)),[Ye,qe]=U.useState(()=>{const ie=new Date().toISOString().split("T")[0];return localStorage.getItem("dailyPracticeDate")===ie?Number(localStorage.getItem("dailyPracticeTime")||"0"):(localStorage.setItem("dailyPracticeTime","0"),localStorage.setItem("dailyPracticeDate",ie),0)}),[_t,Dt]=U.useState(!1),[En,Ie]=U.useState([]),[ht,xt]=U.useState(null),[Vt,Zt]=U.useState(null),[en,xn]=U.useState(()=>localStorage.getItem("setupTab")||"generate"),[Pt,he]=U.useState([]),[Ae,Ge]=U.useState(-1),[kt,ot]=U.useState(null),Kt=U.useRef(null),[Rt,dt]=U.useState(0),$t=U.useCallback((ie,ke,Me=4e3)=>{Kt.current&&clearTimeout(Kt.current),ot({message:ie,type:ke}),Kt.current=window.setTimeout(()=>{ot(null)},Me)},[]),Ue=!!_,Oe=ie=>{l(ie),document.documentElement.classList.toggle("dark",ie==="dark"),localStorage.setItem("theme",ie)},je=()=>Oe(s==="light"?"dark":"light"),pt=ie=>{f(ie),localStorage.setItem("selectedLanguage",ie.id)},jt=ie=>{j(ie),localStorage.setItem("snippetLength",ie)},or=ie=>{P(ie),localStorage.setItem("snippetLevel",ie)},Vr=ie=>{B(ie),localStorage.setItem("blockOnErrorThreshold",String(ie))},Dn=ie=>{$(ie),localStorage.setItem("fontSize",ie)},Xr=()=>{const ie=Vu.indexOf(D);ie<Vu.length-1&&Dn(Vu[ie+1])},sf=()=>{const ie=Vu.indexOf(D);ie>0&&Dn(Vu[ie-1])},Ma=ie=>{Q(ie),localStorage.setItem("showKeyboard",String(ie))},No=()=>Ma(!L),jo=ie=>{F(ie),localStorage.setItem("showHandGuide",String(ie))},Da=()=>jo(!J),Li=ie=>{xn(ie),localStorage.setItem("setupTab",ie)},Xl=ie=>{p(ie),localStorage.setItem("practiceMode",ie)},Qr=ie=>{v(ie),localStorage.setItem("generalContentTypes",JSON.stringify(ie))},Jr=(ie,ke,Me)=>{xe(ie),Be(ke),st(Me),localStorage.setItem("wpmGoal",String(ie)),localStorage.setItem("accuracyGoal",String(ke)),localStorage.setItem("timeGoal",String(Me))};U.useEffect(()=>{if(n==="synced"){const ie=localStorage.getItem("practiceHistory");if(ie){console.log("Sync complete. Hydrating from local storage.");try{const ke=JSON.parse(ie);if(Array.isArray(ke)&&ke.length>0){$e(ke);const{keyErrorStats:Me,keyAttemptStats:Qe}=lS(ke);Te(Me),ne(Qe)}}catch(ke){console.error("Failed to hydrate",ke)}}}},[n]),U.useEffect(()=>{if(r){if(r.history){$e(r.history);const{keyErrorStats:ie,keyAttemptStats:ke}=lS(r.history);Te(ie),ne(ke)}kn(!0)}else e||kn(!0)},[r,e]);const[Pn,kn]=U.useState(!1);U.useEffect(()=>{const ie=Qe=>{Qe.key==="Alt"&&(Qe.preventDefault(),Dt(!0))},ke=Qe=>{Qe.key==="Alt"&&Dt(!1)},Me=()=>{Dt(!1)};return window.addEventListener("keydown",ie),window.addEventListener("keyup",ke),window.addEventListener("blur",Me),()=>{window.removeEventListener("keydown",ie),window.removeEventListener("keyup",ke),window.removeEventListener("blur",Me)}},[]);const $r=()=>H(!0),Vi=()=>H(!1),As=ie=>{ie!==Y&&(ue.current=Y),ee(ie)},Ql=()=>ue.current,Jl=U.useCallback(ie=>{Zt(()=>ie)},[]),mi=U.useCallback(()=>{Vt&&Vt()},[Vt]),$i=()=>{he([]),Ge(-1)},br=U.useCallback(async ie=>{if(S)return!1;const ke=(ie==null?void 0:ie.mode)||h,Me=(ie==null?void 0:ie.length)||I,Qe=(ie==null?void 0:ie.level)||A,lt=(ie==null?void 0:ie.contentTypes)||m;w(!0),T(""),C(null),V(!1),ke!=="targeted"&&Ie([]);try{let mt="";if(ke==="code")mt=await NP(c,Me,Qe);else if(ke==="targeted"){const Lt=En;Lt.length>0?mt=await jP(c,Lt,Me,Qe):mt=await NP(c,Me,Qe)}else ke==="general"&&(mt=await xG(Me,Qe,lt));return T(Zf(mt)),dt(Lt=>Lt+1),!0}catch(mt){const Lt=mt instanceof Error?mt.message:"Failed to generate snippet. Please try again.";return C(Lt),dt(_r=>_r+1),console.error(mt),!1}finally{w(!1)}},[c,I,A,S,h,m,En]),xr=(ie,ke)=>{$i();const Me=Zf(ie);T(Me),V(!0),Ie([]),dt(Qe=>Qe+1),ke&&p(ke)},Pr=U.useCallback(async(ie,ke)=>{if(!S){p("targeted"),Ie(ie),$i(),T(""),C(null),V(!1),w(!0);try{const Me=await jP(c,ie,ke.length,ke.level);T(Zf(Me)),dt(Qe=>Qe+1)}catch(Me){const Qe=Me instanceof Error?Me.message:"Failed to fetch a targeted snippet. Please try again.";C(Qe),dt(lt=>lt+1),console.error(Me)}finally{w(!1)}}},[c,S]),gi=U.useCallback(async()=>{if(S)return;const ie=Object.entries(ye).filter(([ke,Me])=>Me>0).sort((ke,Me)=>Me[1]-ke[1]).map(([ke])=>ke);if(ie.length===0){$t("No error history found! Practice more to generate error data.","info");return}p("error-training"),Ie(ie),$i(),T(""),C(null),V(!1),w(!0);try{const ke={};ie.forEach(Qe=>{const lt=ye[Qe]||0,mt=Re[Qe]||lt;ke[Qe]={errors:lt,attempts:mt}});const Me=await _G(ke,I);T(Zf(Me)),dt(Qe=>Qe+1)}catch(ke){const Me=ke instanceof Error?ke.message:"Failed to generate error practice snippet.";C(Me),dt(Qe=>Qe+1),console.error(ke)}finally{w(!1)}},[ye,Re,S,$t,I]),_n=U.useCallback(ie=>{if(Pt[ie]){const ke=Pt[ie];T(ke.code),f(ke.language),Ge(ie),V(!0),Ie([]),C(null),w(!1),dt(Me=>Me+1)}},[Pt]),Mo=async ie=>{w(!0),T(""),$i();const ke=Me=>new Promise((Qe,lt)=>{const mt=new FileReader;mt.onload=Lt=>{var lr;const _r=(lr=Lt.target)==null?void 0:lr.result,sa=_r.trim(),eu=_r.replace(/\r\n?/g,`
`),oa=Zf(eu);Qe({code:oa,name:Me.name,language:TG(Me.name),isValid:sa.length>=2})},mt.onerror=Lt=>lt(Lt),mt.readAsText(Me)});try{const Me=await Promise.all(ie.map(ke)),Qe=Me.filter(Lt=>Lt.isValid),lt=Me.filter(Lt=>!Lt.isValid);if(lt.length>0){const Lt=lt.map(_r=>_r.name).join(", ");$t(`Ignored files with less than 2 characters: ${Lt}`,"warning",6e3)}if(Qe.length===0)throw $t("All selected files are invalid. Code must be at least 2 characters long.","error"),new Error("All selected files are invalid.");he(Qe);const mt=Qe[0];T(mt.code),f(mt.language),Ge(0),V(!0),C(null),dt(Lt=>Lt+1)}catch(Me){const Qe=Me instanceof Error?Me.message:"Failed to process files.";throw C(Qe),dt(lt=>lt+1),console.error(Me),Me}finally{w(!1)}},La=U.useCallback(()=>{const ie=Ae+1;ie<Pt.length&&_n(ie)},[Ae,Pt,_n]),Zr=async ie=>{if(e)try{console.log("Saving history to cloud...",ie.length),await sS(iS(oS,"users",e.uid),{history:ie},{merge:!0}),console.log("Cloud save successful.")}catch(ke){console.error("Failed to save history:",ke),$t("Failed to sync with cloud. Please check your connection.","error")}},yi=ie=>{const ke={...ie};h==="general"&&(ke.language="General");let Me=[];$e(lt=>{const mt=lt.findIndex(Lt=>Lt.id===ke.id);return mt>=0?(Me=[...lt],Me[mt]=ke):Me=[...lt,ke].slice(-100),Me}),localStorage.setItem("practiceHistory",JSON.stringify(Me)),Zr(Me);const Qe=wG(ke.duration);qe(Qe),ie.errorMap&&Te(lt=>{const mt={...lt};for(const[Lt,_r]of Object.entries(ie.errorMap))mt[Lt]=(mt[Lt]||0)+_r;return mt}),ie.attemptMap&&ne(lt=>{const mt={...lt};for(const[Lt,_r]of Object.entries(ie.attemptMap))mt[Lt]=(mt[Lt]||0)+_r;return mt})},Do=()=>Dt(!0),Lo=()=>Dt(!1),Vo=U.useCallback(()=>{const ie=localStorage.getItem("theme");l(ie||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"));const ke=localStorage.getItem("selectedLanguage");f(vn.find(lt=>lt.id===ke)||vn[0]),$e(ro("practiceHistory",[])),Te(ro("keyErrorStats",{})),ne(ro("keyAttemptStats",{})),xe(parseInt(localStorage.getItem("wpmGoal")||"20",10)),Be(parseInt(localStorage.getItem("accuracyGoal")||"95",10)),st(parseInt(localStorage.getItem("timeGoal")||"15",10));const Me=new Date().toISOString().split("T")[0],Qe=localStorage.getItem("dailyPracticeDate");qe(Qe===Me?Number(localStorage.getItem("dailyPracticeTime")||"0"):0),xn(localStorage.getItem("setupTab")||"generate"),v(ro("generalContentTypes",["characters"]))},[]),Zl=U.useCallback(async(ie,ke,Me,Qe,lt)=>{Me?(xr(Me,Qe),Vi(),As("practice")):(ie&&j(ie),ke&&P(ke),Qe&&p(Qe),lt&&v(lt),Vi(),As("practice"),await br({length:ie||I,level:ke||A,mode:Qe||h,contentTypes:lt||m}))},[Vi,xr,br,I,A,h,m,As]),Os=U.useCallback(()=>{Pt.length>0&&Ae<Pt.length-1?La():br()},[Pt,Ae,La,br]),kr=U.useCallback(()=>{dt(ie=>ie+1)},[]),An=U.useCallback(()=>{$r(),dt(ie=>ie+1)},[$r]),Ln=U.useCallback(ie=>{const ke=Ne.find(mt=>mt.timestamp===ie);if(!ke)return;const Me=Ne.filter(mt=>mt.timestamp!==ie);$e(Me),localStorage.setItem("practiceHistory",JSON.stringify(Me));const Qe=new Date(ke.timestamp).toDateString(),lt=new Date().toDateString();if(Qe===lt){qe(Lt=>Math.max(0,Lt-ke.duration));const mt=Number(localStorage.getItem("dailyPracticeTime")||"0");localStorage.setItem("dailyPracticeTime",String(Math.max(0,mt-ke.duration)))}Zr(Me)},[Ne,e]),aa=U.useCallback(async()=>{if($e([]),qe(0),Te({}),ne({}),l("light"),f(vn.find(ke=>ke.id==="python")||vn[0]),p("code"),v(["characters"]),j("medium"),P("medium"),B(2),$("medium"),xe(20),Be(95),st(15),Q(window.innerWidth>=768),F(!0),["practiceHistory","keyErrorStats","keyAttemptStats","dailyPracticeTime","dailyPracticeDate","theme","selectedLanguage","generalContentTypes","snippetLength","snippetLevel","blockOnErrorThreshold","fontSize","wpmGoal","accuracyGoal","timeGoal","setupTab","sessionResultToShow","continuedSession","showKeyboard"].forEach(ke=>localStorage.removeItem(ke)),e)try{console.log("Wiping cloud data..."),await sS(iS(oS,"users",e.uid),{history:[],preferences:{theme:"dark",languageId:vn[0].id}}),console.log("Cloud wipe successful."),$t("All history and preferences cleared from device and cloud.","info")}catch(ke){console.error("Failed to wipe cloud data:",ke),$t("Failed to clear cloud data. Please check connection.","error")}else $t("All local history and preferences cleared.","info")},[e,$t]),$o={theme:s,toggleTheme:je,selectedLanguage:c,setSelectedLanguage:pt,snippet:_,isLoadingSnippet:S,snippetError:O,fetchNewSnippet:br,startCustomSession:xr,startTargetedSession:Pr,startErrorPracticeSession:gi,isCustomSession:R,isMultiFileSession:Pt.length>0,snippetLength:I,setSnippetLength:jt,snippetLevel:A,setSnippetLevel:or,blockOnErrorThreshold:N,setBlockOnErrorThreshold:Vr,fontSize:D,increaseFontSize:Xr,decreaseFontSize:sf,showKeyboard:L,toggleKeyboard:No,showHandGuide:J,toggleHandGuide:Da,page:Y,navigateTo:As,getPreviousPage:Ql,isSetupModalOpen:ve,openSetupModal:$r,closeSetupModal:Vi,isInitialSetupComplete:Ue,setupTab:en,setSetupTab:Li,practiceHistory:Ne,addPracticeResult:yi,keyErrorStats:ye,keyAttemptStats:Re,wpmGoal:He,accuracyGoal:Ee,timeGoal:We,dailyPracticeTime:Ye,setGoals:Jr,isAccessKeyMenuVisible:_t,showAccessKeyMenu:Do,hideAccessKeyMenu:Lo,currentTargetedKeys:En,setCurrentTargetedKeys:Ie,lastPracticeAction:ht,setLastPracticeAction:xt,setRequestFocusOnCodeCallback:Jl,requestFocusOnCode:mi,practiceQueue:Pt,currentQueueIndex:Ae,startMultiFileSession:Mo,loadNextSnippetInQueue:La,alertMessage:kt,showAlert:$t,reloadDataFromStorage:Vo,practiceMode:h,setPracticeMode:Xl,generalContentTypes:m,setGeneralContentTypes:Qr,sessionResetKey:Rt,handleStartFromSetup:Zl,handleNextSnippet:Os,handlePracticeSame:kr,handleSetupNew:An,deletePracticeSession:Ln,clearPracticeHistory:aa,isAnyModalOpen:me,registerModalOpen:we,registerModalClose:Se};return x.jsx(Tn.Provider,{value:$o,children:t})},AG=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("circle",{cx:"12",cy:"12",r:"5"}),x.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),x.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),x.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),x.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),x.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),x.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),x.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),x.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),OG=t=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:x.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),CG=t=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",...t,children:x.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.5,4H3.5C2.67,4,2,4.67,2,5.5v13C2,19.33,2.67,20,3.5,20h17c0.83,0,1.5-0.67,1.5-1.5V5.5C22,4.67,21.33,4,20.5,4z M6.4,8.4H4V6h2.4V8.4z M9.6,8.4H7.2V6h2.4V8.4z M12.8,8.4h-2.4V6h2.4V8.4z M16,8.4h-2.4V6h2.4V8.4z M19.2,8.4H16.8V6h2.4V8.4z M6.4,12H4V9.6h2.4V12z M9.6,12H7.2V9.6h2.4V12z M12.8,12h-2.4V9.6h2.4V12z M16,12h-2.4V9.6h2.4V12z M19.2,12H16.8V9.6h2.4V12z M16,16.4H8V14h8V16.4z"})}),DP=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M12 20V10"}),x.jsx("path",{d:"M18 20V4"}),x.jsx("path",{d:"M6 20V16"})]}),LP=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),x.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),IG=t=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:x.jsx("polyline",{points:"6 9 12 15 18 9"})}),uS=U.forwardRef(({options:t,className:e="",value:n,onChange:r,disabled:i=!1,...s},l)=>{const[c,f]=U.useState(!1),[h,p]=U.useState(Math.max(0,t.findIndex(w=>w.value===n))),m=U.useRef(null),v=U.useRef(null),_=t.find(w=>w.value===n);U.useEffect(()=>{p(Math.max(0,t.findIndex(w=>w.value===n)))},[n,t]),U.useEffect(()=>{if(c){const w=C=>{var R,V;switch(C.key){case"Escape":f(!1),(R=v.current)==null||R.focus();break;case"ArrowUp":{C.preventDefault();const I=(h-1+t.length)%t.length;p(I);break}case"ArrowDown":{C.preventDefault();const I=(h+1)%t.length;p(I);break}case"Enter":case" ":C.preventDefault(),h>=0&&h<t.length&&r(t[h].value),f(!1),(V=v.current)==null||V.focus();break}},O=C=>{m.current&&!m.current.contains(C.target)&&f(!1)};return document.addEventListener("keydown",w),document.addEventListener("mousedown",O),()=>{document.removeEventListener("keydown",w),document.removeEventListener("mousedown",O)}}},[c,h,t,r]),U.useImperativeHandle(l,()=>({focus:()=>{var w;return(w=v.current)==null?void 0:w.focus()},toggle:()=>{i||(f(w=>!w),c||p(Math.max(0,t.findIndex(w=>w.value===n))))},getTriggerElement:()=>v.current})),U.useEffect(()=>{var w;if(c){const O=(w=m.current)==null?void 0:w.querySelector("ul"),C=O==null?void 0:O.children[h];C&&C.scrollIntoView({block:"nearest"})}},[h,c]);const[T,S]=U.useState(!1);return U.useEffect(()=>{if(c&&v.current){const w=v.current.getBoundingClientRect(),O=window.innerHeight-w.bottom;S(O<220)}},[c]),x.jsxs("div",{ref:m,className:`relative ${e}`,children:[x.jsxs("button",{ref:v,type:"button",disabled:i,onClick:()=>!i&&f(!c),onKeyDown:w=>{if(!i&&!c&&(w.key==="ArrowRight"||w.key==="ArrowLeft")){w.preventDefault(),w.stopPropagation();const O=t.findIndex(V=>V.value===n),C=w.key==="ArrowRight"?1:-1;let R;O!==-1?R=(O+C+t.length)%t.length:R=0,r(t[R].value)}},className:"w-full flex items-center justify-between px-3 py-2 text-slate-900 dark:text-slate-100 bg-slate-200 dark:bg-slate-700/50 border border-transparent rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-haspopup":"listbox","aria-expanded":c,children:[x.jsx("span",{children:(_==null?void 0:_.label)||"Select..."}),x.jsx(IG,{className:`w-5 h-5 text-slate-500 dark:text-slate-400 transition-transform ${c?"rotate-180":""}`})]}),c&&x.jsx("ul",{className:`absolute z-[100] w-full bg-white dark:bg-slate-800 shadow-xl max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm border border-slate-200 dark:border-slate-700 ${T?"bottom-full mb-1":"mt-1"}`,tabIndex:-1,role:"listbox",children:t.map((w,O)=>x.jsx("li",{className:`cursor-pointer select-none relative py-2 pl-3 pr-9 transition-colors ${h===O?"text-white bg-primary-600":"text-gray-900 dark:text-gray-100 hover:bg-slate-100 dark:hover:bg-slate-700"}`,onClick:()=>{var C;r(w.value),f(!1),(C=v.current)==null||C.focus()},onMouseEnter:()=>p(O),role:"option","aria-selected":n===w.value,children:x.jsx("span",{className:`block truncate ${n===w.value?"font-semibold":"font-normal"}`,children:w.label})},w.value))})]})}),Gr=(t,e,n={})=>{const r=U.useContext(Tn);U.useEffect(()=>{if(!t||n.disabled||!e)return;const i=s=>{s.altKey&&s.key.toLowerCase()===t.toLowerCase()&&(s.preventDefault(),e(),r==null||r.hideAccessKeyMenu())};return window.addEventListener("keydown",i),()=>{window.removeEventListener("keydown",i)}},[t,e,n.disabled,r])},ag=({label:t})=>x.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 bg-black text-white dark:bg-white dark:text-black border border-white dark:border-black rounded-[2px] px-1.5 py-0 text-[10px] leading-tight font-sans font-bold z-50 shadow-sm pointer-events-none uppercase tracking-tighter min-w-[16px] text-center",children:t});var OE=lL();const PG=Gt(OE),gr=U.forwardRef(({children:t,className:e="",...n},r)=>x.jsx("div",{ref:r,className:`glass-card rounded-xl ${e}`,...n,children:t})),CE=U.createContext(!1),VP=document.getElementById("modal-root"),Co=({isOpen:t,onClose:e,title:n,children:r})=>{const i=U.useRef(null),s=U.useContext(Tn);if(Gr("X",e,{disabled:!t}),U.useEffect(()=>{if(t)return s==null||s.registerModalOpen(),()=>{s==null||s.registerModalClose()}},[t,s]),U.useEffect(()=>{const c=document.getElementById("root"),f=h=>{h.key==="Escape"&&e()};return t&&(c==null||c.classList.add("modal-open-blur"),document.addEventListener("keydown",f)),()=>{c==null||c.classList.remove("modal-open-blur"),document.removeEventListener("keydown",f)}},[t,e]),!t||!VP)return null;const l=x.jsx("div",{className:"fixed top-0 left-0 w-[100vw] h-[100vh] z-[9999] flex items-center justify-center bg-black/70 p-4",onMouseDown:c=>{c.target===c.currentTarget&&e()},children:x.jsx(gr,{ref:i,className:"w-full max-w-md max-h-[90vh] overflow-y-auto custom-scrollbar p-6 animate-fade-in-up",children:x.jsxs(CE.Provider,{value:!0,children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:n}),x.jsx(Ke,{variant:"ghost",size:"icon",onClick:e,className:"-m-2","aria-label":"Close",title:"Close (Alt+X)",accessKeyChar:"X",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),x.jsx("div",{children:r})]})})});return OE.createPortal(l,VP)},Ke=U.forwardRef(({children:t,className:e="",variant:n="primary",size:r="md",accessKeyChar:i,accessKeyLabel:s,accessKey:l,...c},f)=>{const h=U.useContext(Tn),p=U.useContext(CE),m=U.useRef(null);U.useImperativeHandle(f,()=>m.current);const v=i||l;Gr(v,()=>{var O;return(O=m.current)==null?void 0:O.click()},{disabled:c.disabled});const _="font-medium rounded-lg transition-all duration-200 relative inline-flex items-center justify-center",T={primary:"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white shadow-md hover:opacity-90 disabled:opacity-50 glow-hover",secondary:"bg-slate-200 text-slate-700 hover:bg-slate-300 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600 disabled:opacity-50",ghost:"bg-transparent text-slate-600 hover:bg-slate-100 dark:text-slate-300 dark:hover:bg-slate-700 disabled:opacity-50",outline:"bg-transparent border border-slate-300 text-slate-700 hover:bg-slate-100 dark:text-slate-300 dark:border-slate-600 dark:hover:bg-slate-700 disabled:opacity-50",destructive:"bg-red-500 text-white hover:bg-red-600 disabled:opacity-50"},S={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-4 py-2",lg:"text-base px-6 py-3",icon:"p-2"},w=(h==null?void 0:h.isAccessKeyMenuVisible)&&v&&!c.disabled&&(p||!(h!=null&&h.isAnyModalOpen));return x.jsxs("button",{ref:m,className:`${_} ${T[n]} ${S[r]} ${e}`,...c,children:[w&&x.jsx(ag,{label:s||v}),t]})});Ke.displayName="Button";const kG=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M2.5 16.5 7 5l4.5 11.5"}),x.jsx("path",{d:"M4 13h6"}),x.jsx("path",{d:"M15 12h6"}),x.jsx("path",{d:"M18 9v6"})]}),RG=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M4.5 16.5 7 9l2.5 7.5"}),x.jsx("path",{d:"M5.5 14h3"}),x.jsx("path",{d:"M15 12h6"})]}),$P=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M3 6h18"}),x.jsx("path",{d:"M3 9h14"}),x.jsx("path",{d:"M3 12h18"}),x.jsx("path",{d:"M3 15h14"}),x.jsx("path",{d:"M3 18h18"})]}),NG=({className:t="w-6 h-6"})=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]});class jG{constructor(){this.unlocked=!1,this.ctx=new(window.AudioContext||window.webkitAudioContext)}async unlock(){if(!this.unlocked)try{this.ctx.state==="closed"&&(this.ctx=new(window.AudioContext||window.webkitAudioContext)),this.ctx.state==="suspended"&&await this.ctx.resume(),this.unlocked=!0}catch(e){console.warn("AudioContext unlock failed:",e)}}playClicky(e=.3){if(!this.unlocked)return;const n=this.ctx.currentTime,r=this.ctx.createOscillator(),i=this.ctx.createOscillator(),s=this.ctx.createGain();r.connect(s),i.connect(s),s.connect(this.ctx.destination),r.type="square",r.frequency.setValueAtTime(3e3,n),r.frequency.exponentialRampToValueAtTime(1500,n+.005),i.type="sawtooth",i.frequency.setValueAtTime(800,n),i.frequency.exponentialRampToValueAtTime(200,n+.015),s.gain.setValueAtTime(e*.6,n),s.gain.exponentialRampToValueAtTime(.001,n+.03),r.start(n),r.stop(n+.03),i.start(n),i.stop(n+.03),r.onended=()=>{r.disconnect(),i.disconnect(),s.disconnect()}}playTactile(e=.3){if(!this.unlocked)return;const n=this.ctx.currentTime,r=this.ctx.createOscillator(),i=this.ctx.createGain();r.connect(i),i.connect(this.ctx.destination),r.type="triangle",r.frequency.setValueAtTime(600,n),r.frequency.exponentialRampToValueAtTime(150,n+.02),i.gain.setValueAtTime(e*.4,n),i.gain.exponentialRampToValueAtTime(.001,n+.025),r.start(n),r.stop(n+.025),r.onended=()=>{r.disconnect(),i.disconnect()}}playThock(e=.3){if(!this.unlocked)return;const n=this.ctx.currentTime,r=this.ctx.createOscillator(),i=this.ctx.createOscillator(),s=this.ctx.createGain();r.connect(s),i.connect(s),s.connect(this.ctx.destination),r.type="sine",r.frequency.setValueAtTime(100,n),r.frequency.exponentialRampToValueAtTime(40,n+.04),i.type="triangle",i.frequency.setValueAtTime(250,n),i.frequency.exponentialRampToValueAtTime(80,n+.03),s.gain.setValueAtTime(e*.5,n),s.gain.exponentialRampToValueAtTime(.001,n+.06),r.start(n),r.stop(n+.06),i.start(n),i.stop(n+.06),r.onended=()=>{r.disconnect(),i.disconnect(),s.disconnect()}}playError(e=.3){if(!this.unlocked)return;const n=this.ctx.currentTime,r=this.ctx.createOscillator(),i=this.ctx.createGain();r.connect(i),i.connect(this.ctx.destination),r.type="sine",r.frequency.setValueAtTime(350,n),r.frequency.linearRampToValueAtTime(280,n+.1),i.gain.setValueAtTime(0,n),i.gain.linearRampToValueAtTime(e*.15,n+.02),i.gain.linearRampToValueAtTime(e*.1,n+.06),i.gain.linearRampToValueAtTime(0,n+.1),r.start(n),r.stop(n+.1),r.onended=()=>{r.disconnect(),i.disconnect()}}playStar(e,n=.3){if(!this.unlocked)return;const r=this.ctx.currentTime,i=400+e*80,s=this.ctx.createOscillator(),l=this.ctx.createGain();s.connect(l),l.connect(this.ctx.destination),s.type="sine",s.frequency.setValueAtTime(i,r),l.gain.setValueAtTime(0,r),l.gain.linearRampToValueAtTime(n*.8,r+.01),l.gain.exponentialRampToValueAtTime(.001,r+.4),s.start(r),s.stop(r+.4),s.onended=()=>{s.disconnect(),l.disconnect()}}}class MG{constructor(){this.lastTypingSoundTime=0,this.TYPING_THROTTLE_MS=20,this.audio=new jG,this.settings=this.loadSettings(),this.setupAudioUnlock()}setupAudioUnlock(){const e=()=>{this.audio.unlock(),document.removeEventListener("click",e),document.removeEventListener("keydown",e),document.removeEventListener("pointerdown",e)};document.addEventListener("click",e,{once:!0}),document.addEventListener("keydown",e,{once:!0}),document.addEventListener("pointerdown",e,{once:!0})}loadSettings(){const e=localStorage.getItem("appSettings");return e?JSON.parse(e):{sound:{typingSoundEnabled:!0,errorSoundEnabled:!0,successSoundEnabled:!0,volume:.5,keyboardStyle:"tactile"},visuals:{showHandGuide:!0,autoDisableHandGuideAt:95},mobile:{disableHandGuideOnMobile:!0}}}updateSettings(e){this.settings={...this.settings,...e,sound:{...this.settings.sound,...e.sound},visuals:{...this.settings.visuals,...e.visuals},mobile:{...this.settings.mobile,...e.mobile}},localStorage.setItem("appSettings",JSON.stringify(this.settings))}playTyping(){if(!this.settings.sound.typingSoundEnabled)return;const e=Date.now();if(e-this.lastTypingSoundTime<this.TYPING_THROTTLE_MS)return;this.lastTypingSoundTime=e;const{keyboardStyle:n}=this.settings.sound,r=this.settings.sound.volume;switch(n){case"clicky":this.audio.playClicky(r);break;case"tactile":this.audio.playTactile(r);break;case"thock":this.audio.playThock(r);break}}playError(){this.settings.sound.errorSoundEnabled&&this.audio.playError(this.settings.sound.volume)}playStar(e){this.settings.sound.successSoundEnabled&&this.audio.playStar(e,this.settings.sound.volume)}getSettings(){return this.settings}shouldShowHandGuide(e){const{showHandGuide:n,autoDisableHandGuideAt:r}=this.settings.visuals;return!(!n||e&&e>=r||this.settings.mobile.disableHandGuideOnMobile&&window.innerWidth<768)}}const ic=new MG,DG=()=>{const[t,e]=U.useState(ic.getSettings()),n=(i,s,l)=>{const c={...t,[i]:{...t[i],[s]:l}};ic.updateSettings(c),e(ic.getSettings())},r=({checked:i,onChange:s,label:l,icon:c})=>x.jsxs("label",{className:"flex items-center justify-between py-3 cursor-pointer group",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[c&&x.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:c}),x.jsx("span",{className:"text-slate-700 dark:text-slate-200 font-medium",children:l})]}),x.jsx("div",{className:`relative w-11 h-6 rounded-full transition-colors duration-200 ${i?"bg-primary-500":"bg-slate-300 dark:bg-slate-600"}`,onClick:()=>s(!i),children:x.jsx("div",{className:`absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full shadow-md transition-transform duration-200 ${i?"translate-x-5":"translate-x-0"}`})})]});return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("section",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-xl p-5",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[x.jsx("svg",{className:"w-5 h-5 text-primary-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"})}),x.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Sound Effects"})]}),x.jsxs("div",{className:"space-y-1 divide-y divide-slate-200 dark:divide-slate-700",children:[x.jsx(r,{checked:t.sound.typingSoundEnabled,onChange:i=>n("sound","typingSoundEnabled",i),label:"Typing Sounds",icon:x.jsx("span",{children:""})}),x.jsx(r,{checked:t.sound.errorSoundEnabled,onChange:i=>n("sound","errorSoundEnabled",i),label:"Error Sounds",icon:x.jsx("span",{children:""})}),x.jsx(r,{checked:t.sound.successSoundEnabled,onChange:i=>n("sound","successSoundEnabled",i),label:"Success Sounds",icon:x.jsx("span",{children:""})})]}),x.jsxs("div",{className:"mt-5 pt-4 border-t border-slate-200 dark:border-slate-700",children:[x.jsxs("div",{className:"flex justify-between items-center mb-3",children:[x.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:"Volume"}),x.jsxs("span",{className:"text-sm font-semibold text-primary-600 dark:text-primary-400 bg-primary-50 dark:bg-primary-900/30 px-2 py-0.5 rounded",children:[Math.round(t.sound.volume*100),"%"]})]}),x.jsx("input",{type:"range",min:"0",max:"100",value:t.sound.volume*100,onChange:i=>n("sound","volume",Number(i.target.value)/100),className:"w-full h-2 bg-slate-200 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-primary-500"})]}),x.jsxs("div",{className:"mt-5 pt-4 border-t border-slate-200 dark:border-slate-700",children:[x.jsx("label",{className:"block mb-2 text-sm font-medium text-slate-600 dark:text-slate-300",children:"Keyboard Style"}),x.jsxs("select",{value:t.sound.keyboardStyle,onChange:i=>n("sound","keyboardStyle",i.target.value),className:"w-full p-3 border border-slate-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-100 focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",children:[x.jsx("option",{value:"clicky",children:" Clicky (Cherry MX Blue)"}),x.jsx("option",{value:"tactile",children:" Tactile (Cherry MX Brown)"}),x.jsx("option",{value:"thock",children:" Thock (Topre)"})]})]})]}),x.jsx("section",{className:"bg-gradient-to-r from-primary-50 to-purple-50 dark:from-primary-900/20 dark:to-purple-900/20 rounded-xl p-5",children:x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx("div",{className:"text-2xl",children:""}),x.jsxs("div",{children:[x.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-100 mb-1",children:"Pro Tip"}),x.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:'Different keyboard sounds can help you develop muscle memory. Try "Thock" for a satisfying deep sound!'})]})]})})]})},UP=["sm","md","lg","xl"],LG=()=>{const t=U.useContext(Tn);if(!t)throw new Error("AppContext not found");const{theme:e,toggleTheme:n,selectedLanguage:r,setSelectedLanguage:i,fontSize:s,increaseFontSize:l,decreaseFontSize:c,showKeyboard:f,toggleKeyboard:h,page:p,navigateTo:m,isAccessKeyMenuVisible:v,requestFocusOnCode:_,isSetupModalOpen:T,isAnyModalOpen:S}=t,{user:w,loginWithGoogle:O,loading:C}=Cy(),[R,V]=U.useState(!1),[I,j]=U.useState(!1),A=U.useRef(null);Gr("L",()=>{var L;return(L=A.current)==null?void 0:L.toggle()},{disabled:T}),Gr("U",()=>m("profile"),{disabled:T||!w});const P=L=>{L(),p==="practice"&&_()},N=({page:L,label:Q,icon:J,accessKeyChar:F,onClick:Y,className:ee,showLabelAlways:ue})=>x.jsxs(Ke,{onClick:Y,variant:p===L?"primary":"ghost",size:"sm",className:`!py-2 !gap-2 ${ee||""}`,accessKeyChar:F,disabled:T,children:[J,x.jsx("span",{className:ue?"inline":"hidden sm:inline",children:Q})]}),B=UP.indexOf(s),D=B>0,$=B<UP.length-1;return x.jsxs("header",{className:"glass fixed top-0 left-0 right-0 z-40 border-b border-slate-200/50 dark:border-slate-700/50 transition-all duration-300",children:[x.jsx("div",{className:"container mx-auto px-4",children:x.jsxs("div",{className:"flex items-center justify-between h-16",children:[x.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[x.jsxs("h1",{className:"text-xl font-bold bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 dark:from-indigo-400 dark:via-purple-400 dark:to-pink-400 bg-clip-text text-transparent cursor-pointer min-w-0",onClick:()=>m("home"),children:[x.jsx("span",{className:"hidden sm:inline",children:"AI Code Typer"}),x.jsx("span",{className:"inline sm:hidden",children:"ACT"})]}),x.jsxs("nav",{className:"hidden md:flex items-center gap-1 sm:gap-2",children:[x.jsx(N,{page:"home",label:"Home",icon:x.jsx(LP,{className:"w-5 h-5"}),accessKeyChar:"H",onClick:()=>m("home")}),x.jsx(N,{page:"practice",label:"Practice",icon:x.jsx($P,{className:"w-5 h-5"}),accessKeyChar:"P",onClick:()=>{t.snippet?m("practice"):t.openSetupModal()}}),x.jsx(N,{page:"dashboard",label:"Dashboard",icon:x.jsx(DP,{className:"w-5 h-5"}),accessKeyChar:"D",onClick:()=>m("dashboard")})]})]}),x.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[x.jsx(Ke,{variant:"ghost",size:"icon",onClick:()=>P(n),"aria-label":"Toggle theme",accessKeyChar:"M",disabled:T,children:e==="light"?x.jsx(OG,{className:"w-6 h-6"}):x.jsx(AG,{className:"w-6 h-6"})}),p==="practice"&&x.jsxs(x.Fragment,{children:[x.jsx(Ke,{variant:"ghost",size:"icon",onClick:()=>P(c),disabled:!D||T,"aria-label":"Decrease font size",accessKeyChar:"-",children:x.jsx(RG,{className:"w-6 h-6"})}),x.jsx(Ke,{variant:"ghost",size:"icon",onClick:()=>P(l),disabled:!$||T,"aria-label":"Increase font size",accessKeyChar:"=",children:x.jsx(kG,{className:"w-6 h-6"})}),x.jsx(Ke,{variant:f?"secondary":"ghost",size:"icon",onClick:()=>P(h),"aria-label":"Toggle keyboard",title:"Toggle keyboard",disabled:T,accessKeyChar:"K",children:x.jsx(CG,{className:"w-6 h-6"})}),x.jsx(Ke,{variant:"ghost",size:"icon",onClick:()=>j(!0),"aria-label":"Settings",title:"Settings (Sound & Visuals)",disabled:T,accessKeyChar:"S",children:x.jsx(NG,{className:"w-6 h-6"})})]}),x.jsxs("div",{className:"relative w-32 sm:w-40",children:[x.jsx(uS,{ref:A,value:r.id,onChange:L=>{const Q=vn.find(J=>J.id===L);Q&&P(()=>i(Q))},disabled:T,options:vn.map(L=>({value:L.id,label:L.name}))}),v&&!S&&x.jsx(ag,{label:"L"})]}),C?x.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-200 dark:bg-slate-700 animate-pulse border-2 border-slate-100 dark:border-slate-800"}):w?x.jsxs("button",{onClick:()=>m("profile"),className:"relative group outline-none","aria-label":"User Profile",children:[x.jsx("img",{src:w.photoURL||`https://ui-avatars.com/api/?name=${w.displayName}`,alt:"Profile",className:`w-8 h-8 rounded-full border-2 border-slate-200 dark:border-slate-700 transition-transform group-hover:scale-105 ${p==="profile"?"ring-2 ring-primary-500 ring-offset-2 dark:ring-offset-slate-900":""}`}),v&&!S&&x.jsx(ag,{label:"U"})]}):x.jsx(Ke,{variant:"primary",size:"sm",onClick:O,className:"hidden sm:flex",children:"Sign In"}),!C&&!w&&x.jsx(Ke,{variant:"ghost",size:"icon",onClick:O,className:"sm:hidden text-primary-600 dark:text-primary-400",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-6 h-6",children:[x.jsx("path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}),x.jsx("polyline",{points:"10 17 15 12 10 7"}),x.jsx("line",{x1:"15",x2:"3",y1:"12",y2:"12"})]})})]})]})}),R&&x.jsx("div",{className:"md:hidden border-t border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 absolute w-full left-0 shadow-lg z-50",children:x.jsxs("div",{className:"flex flex-col p-4 space-y-2",children:[x.jsx(N,{page:"home",label:"Home",icon:x.jsx(LP,{className:"w-5 h-5"}),accessKeyChar:"H",onClick:()=>{m("home"),V(!1)},className:"w-full justify-start",showLabelAlways:!0}),x.jsx(N,{page:"practice",label:"Practice",icon:x.jsx($P,{className:"w-5 h-5"}),accessKeyChar:"P",onClick:()=>{t.snippet?m("practice"):t.openSetupModal(),V(!1)},className:"w-full justify-start",showLabelAlways:!0}),x.jsx(N,{page:"dashboard",label:"Dashboard",icon:x.jsx(DP,{className:"w-5 h-5"}),accessKeyChar:"D",onClick:()=>{m("dashboard"),V(!1)},className:"w-full justify-start",showLabelAlways:!0})]})}),x.jsx(Co,{isOpen:I,onClose:()=>j(!1),title:"Settings",children:x.jsx(DG,{})})]})},Ob=({title:t,description:e,icon:n})=>x.jsxs(gr,{className:"p-6 text-center hover:scale-105 transition-transform duration-300",children:[x.jsx("div",{className:"text-5xl mb-4",children:n}),x.jsx("h3",{className:"text-xl font-semibold mb-2 bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 dark:from-indigo-400 dark:via-purple-400 dark:to-pink-400 bg-clip-text text-transparent",children:t}),x.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:e})]}),VG=({onStartPractice:t})=>{const e=U.useContext(Tn);if(!e)throw new Error("AppContext not found");const{startCustomSession:n,fetchNewSnippet:r,isSetupModalOpen:i,openSetupModal:s,closeSetupModal:l}=e;return U.useEffect(()=>{const c=f=>{i||f.target.closest("input, textarea, select, button")||(f.key==="Enter"||f.key===" "||f.key==="Enter"&&f.ctrlKey)&&(f.preventDefault(),s())};return window.addEventListener("keydown",c),()=>{window.removeEventListener("keydown",c)}},[i,s]),x.jsx(x.Fragment,{children:x.jsxs("div",{className:"h-full overflow-y-auto custom-scrollbar",children:[x.jsxs("div",{className:"relative min-h-[70vh] flex items-center justify-center px-4 py-12",children:[x.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-gradient-to-r from-indigo-400 to-purple-400 rounded-full blur-3xl opacity-20 animate-pulse"}),x.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full blur-3xl opacity-20 animate-pulse",style:{animationDelay:"1s"}}),x.jsxs("div",{className:"relative z-10 text-center max-w-5xl mx-auto",children:[x.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full glass mb-8 animate-fade-in-up",children:[x.jsx("span",{className:"text-2xl",children:""}),x.jsx("span",{className:"text-sm font-medium bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 dark:from-indigo-400 dark:via-purple-400 dark:to-pink-400 bg-clip-text text-transparent",children:"AI-Powered Typing Practice"})]}),x.jsxs("h1",{className:"text-5xl sm:text-6xl md:text-7xl lg:text-8xl font-extrabold tracking-tight mb-6 leading-tight",children:[x.jsx("span",{className:"text-slate-900 dark:text-white",children:"Sharpen Your"}),x.jsx("br",{}),x.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 animate-fade-in-up",children:"Coding Speed"})]}),x.jsx("p",{className:"max-w-2xl mx-auto text-lg md:text-xl text-slate-600 dark:text-slate-300 mb-10 animate-fade-in-up",style:{animationDelay:"0.2s"},children:"Practice typing real code snippets generated by AI. Boost your accuracy, increase your WPM, and master your favorite programming language's syntax."}),x.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:"0.3s"},children:x.jsxs(Ke,{size:"lg",onClick:s,className:"text-lg px-8 py-4 group",children:["Start Practicing Now",x.jsx("svg",{className:"w-5 h-5 ml-2 group-hover:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})}),x.jsx("div",{className:"mt-16 flex items-center justify-center gap-8 md:gap-16 animate-fade-in",style:{animationDelay:"0.5s"},children:[{value:"10+",label:"Languages"},{value:"AI",label:"Generated"},{value:"",label:"Practice"}].map((c,f)=>x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-indigo-600 via-purple-600 to-pink-600 dark:from-indigo-400 dark:via-purple-400 dark:to-pink-400 bg-clip-text text-transparent",children:c.value}),x.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-400",children:c.label})]},f))})]})]}),x.jsx("div",{className:"max-w-6xl mx-auto px-4 py-20",children:x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[x.jsx(Ob,{title:"AI-Powered Snippets",description:"Endless, unique practice sessions with code generated by Google's Gemini.",icon:""}),x.jsx(Ob,{title:"Real-time Feedback",description:"Instantly track your Words Per Minute (WPM) and typing accuracy as you go.",icon:""}),x.jsx(Ob,{title:"Syntax Focused",description:"Get comfortable with language-specific syntax, not just random words.",icon:""})]})})]})})};var Wu=(t=>(t[t.Idle=0]="Idle",t[t.Correct=1]="Correct",t[t.Incorrect=2]="Incorrect",t[t.Warning=3]="Warning",t))(Wu||{});const $G=(t,e,n={})=>{const{onPause:r,onResume:i}=n,[s,l]=U.useState(null),[c,f]=U.useState(Array(t.length).fill(0)),[h,p]=U.useState(""),[m,v]=U.useState(0),[_,T]=U.useState(100),[S,w]=U.useState(0),[O,C]=U.useState(0),[R,V]=U.useState(0),I=U.useRef(0),[j,A]=U.useState(!1),[P,N]=U.useState(!1),[B,D]=U.useState(!1),$=U.useRef({isPaused:!1,isFinished:!1,startTime:null,isTypingStarted:!1});U.useEffect(()=>{$.current={...$.current,isPaused:B,isFinished:j,startTime:s}}),U.useEffect(()=>{I.current=R},[R]);const L=U.useRef(null),Q=U.useRef(null),J=h.length,F=U.useRef(null),Y=U.useRef(0),ee=U.useRef(null),ue=U.useRef({}),ve=U.useRef({}),H=U.useCallback(()=>{L.current&&(clearTimeout(L.current),L.current=null)},[]),W=U.useCallback(()=>{F.current&&(clearInterval(F.current),F.current=null)},[]),oe=U.useCallback(()=>{const{isPaused:ne,isFinished:He,startTime:xe}=$.current;ne||He||!xe||(H(),W(),ee.current&&(Y.current+=Date.now()-ee.current),D(!0),r&&r())},[r,H,W]),me=U.useCallback(()=>{H(),$.current.isFinished||(L.current=window.setTimeout(oe,5e3))},[H,oe]),we=U.useCallback(()=>{W(),ee.current=Date.now(),F.current=window.setInterval(()=>{if(ee.current){const ne=Date.now()-ee.current;C((Y.current+ne)/1e3)}},100)},[W]),Se=U.useCallback(()=>{const{isPaused:ne,isFinished:He}=$.current;!ne||He||(D(!1),we(),me(),i&&i())},[i,me,we]),Ne=U.useCallback(()=>{W(),l(null),f(Array(t.length).fill(0)),p(""),v(0),T(100),w(0),C(0),V(0),I.current=0,A(!1),N(!1),D(!1),Y.current=0,ee.current=null,$.current.isTypingStarted=!1,ue.current={},ve.current={};const ne={};for(const He of t)ne[He]=(ne[He]||0)+1;ve.current=ne,Q.current&&clearTimeout(Q.current),H()},[t,H,W]);U.useEffect(()=>{Ne()},[Ne]);const $e=U.useCallback(ne=>{const He=ne.length===1,xe=["Tab","Control","Shift","Enter","Backspace"].includes(ne);if(!($.current.isFinished||t.length===0)&&!(!He&&!xe))if($.current.isPaused?Se():$.current.isTypingStarted&&me(),$.current.isTypingStarted||(l(Date.now()),we(),me(),$.current.isTypingStarted=!0),Q.current&&clearTimeout(Q.current),N(!1),ne==="Backspace")V(0),I.current=0,J>0&&(c[J-1]===2&&w(Ee=>Math.max(0,Ee-1)),p(Ee=>Ee.slice(0,-1)),f(Ee=>{const Be=[...Ee];return Be[J-1]=0,Be}));else{const Ee=ne==="Enter"?`
`:ne==="Tab"?"	":He?ne:null;if(Ee!==null&&J<t.length){const Be=t[J],We=Ee===Be;if(We)ic.playTyping(),V(0),I.current=0;else{ue.current[Be]=(ue.current[Be]||0)+1,w(_t=>_t+1),ic.playError();const st=I.current+1;if(V(st),I.current=st,e>0&&st>=e){N(!0),Q.current=window.setTimeout(()=>N(!1),200),f(_t=>{const Dt=[..._t];return Dt[J]=2,Dt});return}}if(p(st=>st+Ee),f(st=>{const Ye=[...st];return We?Ye[J]=1:Ye[J]=2,Ye}),J+1===t.length){H(),W();const Ye=(Y.current+(ee.current?Date.now()-ee.current:0))/1e3;C(Ye);const qe=Ye/60,_t=t.length/5,Dt=qe>0?Math.round(_t/qe):0;v(Dt),w(En=>{const Ie=En+(We?0:1),ht=Math.max(0,(t.length-Ie)/t.length*100);return T(parseFloat(ht.toFixed(2))),En}),A(!0)}}else if(Ee!==null&&J===t.length){const Be=I.current+1;V(Be),I.current=Be,w(We=>We+1),N(!0),Q.current=window.setTimeout(()=>N(!1),200)}}},[J,t,S,e,Se,H,me,we,W]);U.useEffect(()=>{if(s&&!j){const ne=Y.current+(ee.current&&!B?Date.now()-ee.current:0),He=ne/6e4,xe=ne/1e3,Ee=h.length/5;He>0&&(h.length>1||xe>1)?v(Math.round(Ee/He)):v(0);const Be=h.length;if(Be>0){const We=h.split("").filter((st,Ye)=>st===t[Ye]).length;T(parseFloat((We/Be*100).toFixed(2)))}else T(100)}else s||(v(0),T(100))},[h,s,j,B,t]),U.useEffect(()=>W,[W]);const ye=U.useCallback(()=>{const ne=Y.current+(ee.current&&!$.current.isPaused?Date.now()-ee.current:0);return{startTime:$.current.startTime,charStates:c,typedText:h,errors:S,consecutiveErrors:R,isFinished:j,accumulatedDuration:ne,errorMap:ue.current,attemptMap:ve.current,isTypingStarted:$.current.isTypingStarted}},[c,h,S,R,j]),Te=U.useCallback(ne=>{W(),l(ne.startTime),f(ne.charStates),p(ne.typedText),w(ne.errors),V(ne.consecutiveErrors),I.current=ne.consecutiveErrors,A(ne.isFinished),Y.current=ne.accumulatedDuration,ee.current=null,ue.current=ne.errorMap,ve.current=ne.attemptMap,$.current.isTypingStarted=ne.isTypingStarted,$.current.startTime=ne.startTime,C(ne.accumulatedDuration/1e3),D(!0)},[W]),Re=U.useCallback(()=>{$.current.isPaused?Se():oe()},[oe,Se]);return{charStates:c,typedText:h,wpm:m,accuracy:_,errors:S,consecutiveErrors:R,duration:O,isFinished:j,currentIndex:J,isError:P,isPaused:B,handleKeyDown:$e,pauseGame:oe,resumeGame:Se,togglePause:Re,reset:Ne,clearAutoPauseTimer:H,resetIdleTimer:me,errorMap:ue.current,attemptMap:ve.current,getSavableState:ye,restoreState:Te}},UG=({code:t,charStates:e,currentIndex:n,languageAlias:r,isError:i,cursorRef:s})=>{const[l,c]=U.useState([{chars:[],lineNumber:1}]),f=U.useContext(Tn);if(!f)throw new Error("AppContext not found");const{fontSize:h}=f,p=e!==void 0&&n!==void 0,m={sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"}[h];U.useEffect(()=>{const _=[];if(t&&r&&typeof Prism<"u"&&Prism.languages[r])try{const S=Prism.tokenize(t,Prism.languages[r]);let w=0;const O=C=>{for(const R of C)if(typeof R=="string")for(const V of R)_.push({char:V,classNames:["token","plain"],originalIndex:w++});else{const V=["token",R.type];if(R.alias){const I=Array.isArray(R.alias)?R.alias:[R.alias];V.push(...I)}if(typeof R.content=="string")for(const I of R.content)_.push({char:I,classNames:V,originalIndex:w++});else Array.isArray(R.content)&&O(R.content)}};if(O(S),_.map(C=>C.char).join("")!==t)throw new Error("Tokenization resulted in content mismatch.")}catch(S){console.error("Prism tokenization failed, falling back to plain text.",S),_.length=0,_.push(...t.split("").map((w,O)=>({char:w,classNames:[],originalIndex:O})))}else _.push(...t.split("").map((S,w)=>({char:S,classNames:[],originalIndex:w})));const T=[];if(t){let S=[],w=1;for(const O of _)S.push(O),O.char===`
`&&(T.push({chars:S,lineNumber:w++}),S=[]);S.length>0&&T.push({chars:S,lineNumber:w}),T.length===0&&T.push({chars:[],lineNumber:1})}else T.push({chars:[],lineNumber:1});c(T)},[t,r]);const v=_=>{const T=_.originalIndex,S=p&&T===n;let w,O=Wu.Idle;if(p)if(T<n)switch(O=e[T],O){case Wu.Correct:w="text-primary-500 dark:text-primary-400";break;case Wu.Incorrect:w="text-red-500 bg-red-500/20 rounded-sm";break;case Wu.Warning:w="text-yellow-600 dark:text-yellow-400 bg-yellow-500/20 rounded-sm";break;default:w="text-gray-400";break}else w="text-gray-600 dark:text-gray-400";else w=_.classNames.join(" ");p&&T>n&&(w="text-gray-600 dark:text-gray-400");const C=_.char===`
`,R=p&&T<n&&O===Wu.Incorrect||p&&S&&i;return x.jsxs("span",{ref:S?s:void 0,className:"relative inline-block",children:[p&&S&&!i&&x.jsx("span",{className:"absolute top-0 left-0 w-0.5 h-full bg-primary-400 animate-blink rounded-full"}),x.jsx("span",{className:`${w} ${p&&S&&i?"bg-red-500/20 rounded-sm":""}`,children:C?R?x.jsx("span",{className:"text-red-500 bg-red-500/20 px-1 select-none",children:""}):"":_.char})]},T)};return x.jsx("div",{className:`font-mono leading-relaxed tracking-wide ${m} [tab-size:4] typography-boost`,children:l.map(({chars:_,lineNumber:T},S)=>{const w=_.length===1&&_[0].char===`
`,C=S===l.length-1&&p&&n===t.length&&t.length>0;return x.jsxs("div",{className:"flex",children:[x.jsx("div",{className:"text-right pr-4 text-gray-500 dark:text-gray-400 select-none flex-shrink-0 w-10 sm:w-12","aria-hidden":"true",children:T}),x.jsxs("div",{className:"flex-1 min-w-0 whitespace-pre-wrap break-all",children:[_.map(v),w&&x.jsx("span",{className:"opacity-0 select-none",children:""}),C&&x.jsxs("span",{ref:s,className:"relative inline-block w-0",children:["",i?x.jsx("span",{className:"absolute top-0 left-0 w-2 h-full bg-red-500/50 animate-pulse rounded-sm"}):x.jsx("span",{className:"absolute top-0 left-0 w-0.5 h-full bg-primary-400 animate-blink rounded-full"})]})]})]},S)})})},ac=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),x.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),x.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),sg=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M23 4v6h-6"}),x.jsx("path",{d:"M1 20v-6h6"}),x.jsx("path",{d:"M3.5 9a9 9 0 0 1 14.8-2.6L23 10"}),x.jsx("path",{d:"M21.5 15a9 9 0 0 1-14.8 2.6L1 14"})]}),BG=()=>{const t=U.useContext(Tn);if(!t)throw new Error("AppContext not found");const{fontSize:e}=t,n={sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"}[e],r=[{width:"75%"},{width:"90%"},{width:"80%"},{width:"60%"},{width:"95%"},{width:"70%"},{width:"85%"},{width:"50%"}];return x.jsx("div",{className:`animate-pulse font-mono leading-relaxed tracking-wide ${n} typography-boost`,children:r.map((i,s)=>x.jsxs("div",{className:"flex mb-1 h-5 sm:h-6",children:[x.jsx("div",{className:"text-right pr-4 text-transparent bg-slate-300 dark:bg-slate-700 rounded-md select-none flex-shrink-0 w-10 sm:w-12","aria-hidden":"true",children:s+1}),x.jsx("div",{className:"flex-1 min-w-0 flex items-center",children:x.jsx("div",{className:"h-full bg-slate-300 dark:bg-slate-700 rounded-md",style:{width:i.width}})})]},s))})},cS=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("rect",{x:"6",y:"4",width:"4",height:"16"}),x.jsx("rect",{x:"14",y:"4",width:"4",height:"16"})]}),qG=G.forwardRef(({value:t,onValueChange:e,snippet:n,languageAlias:r,charStates:i,currentIndex:s,isError:l,isLoading:c,error:f,isPaused:h,disabled:p=!1,onRetry:m,className:v=""},_)=>{const T=U.useRef(null),S=U.useRef(null),w=U.useRef(null),O=U.useRef(null);U.useContext(Tn);const[C,R]=U.useState(()=>typeof window<"u"&&window.visualViewport?window.visualViewport.height:typeof window<"u"?window.innerHeight:600);U.useEffect(()=>{const j=()=>{window.visualViewport&&R(window.visualViewport.height)};return window.visualViewport&&(window.visualViewport.addEventListener("resize",j),window.visualViewport.addEventListener("scroll",j)),()=>{window.visualViewport&&(window.visualViewport.removeEventListener("resize",j),window.visualViewport.removeEventListener("scroll",j))}},[]),G.useImperativeHandle(_,()=>({focus:()=>{var j;(j=T.current)==null||j.focus()}})),U.useEffect(()=>{var j;!c&&!f&&!h&&!p&&((j=T.current)==null||j.focus())},[c,f,h,p]);const V=()=>{var j;p||(j=T.current)==null||j.focus()},I=j=>{e(j.target.value)};return U.useEffect(()=>{const j=w.current;j&&!h&&j.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})},[s,h]),x.jsxs("div",{ref:S,className:`relative flex-grow min-h-0 w-full flex flex-col ${l?"animate-shake":""} ${v}`,onClick:V,style:{maxHeight:`${C}px`,transition:"max-height 0.3s ease-out"},children:[x.jsx("textarea",{ref:T,className:"absolute opacity-0 w-px h-px p-0 m-0 border-0 -z-10",value:t,onChange:I,disabled:p,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",tabIndex:0}),h&&x.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center rounded-lg z-20 pointer-events-none animate-fade-in-up",children:x.jsxs("div",{className:"bg-white/90 dark:bg-slate-800/90 p-6 rounded-xl shadow-2xl border border-slate-200 dark:border-slate-700 backdrop-blur-sm",children:[x.jsxs("div",{className:"flex items-center gap-3 text-2xl font-bold text-slate-800 dark:text-slate-100 mb-2",children:[x.jsx(cS,{className:"w-8 h-8 text-primary-500"}),x.jsx("span",{children:"Paused"})]}),x.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-center",children:"Press any key to resume"})]})}),x.jsx(gr,{className:"h-full overflow-hidden flex flex-col relative w-full group",children:x.jsx("div",{className:"flex-grow overflow-y-auto custom-scrollbar relative",ref:O,children:x.jsx("div",{className:"p-4 md:p-6 min-h-full font-mono leading-relaxed",children:c?x.jsx(BG,{}):f?x.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-red-500 p-8 text-center animate-fade-in",children:[x.jsx(ac,{className:"w-12 h-12 mb-4 opacity-80"}),x.jsx("p",{className:"text-lg font-medium mb-4",children:f}),x.jsxs(Ke,{onClick:m,variant:"primary",children:[x.jsx(sg,{className:"w-4 h-4 mr-2"})," Try Again"]})]}):x.jsx(UG,{code:n,languageAlias:r,charStates:i,currentIndex:s,isError:l,cursorRef:w})})})})]})}),I5=G.memo(qG);I5.displayName="CodeEditor";const jr=({label:t,value:e})=>x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:t}),x.jsx("span",{className:"text-3xl font-bold text-primary-600 dark:text-primary-400",children:e})]}),zG=t=>{if(isNaN(t)||t<0)return"0:00";const e=Math.floor(t/60),n=Math.floor(t%60);return`${e}:${n.toString().padStart(2,"0")}`},FG=({wpm:t,accuracy:e,errors:n,progress:r,timer:i,duration:s})=>{const l=i!==void 0?i:s||0;return x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-x-8 gap-y-2 md:gap-8 min-w-[200px]",children:[x.jsx(jr,{label:"WPM",value:t}),x.jsx(jr,{label:"Accuracy",value:`${e}%`}),x.jsx(jr,{label:"Errors",value:n}),x.jsx(jr,{label:"Time",value:zG(l)})]})},HG=[["`","1","2","3","4","5","6","7","8","9","0","-","=","Backspace"],["Tab","q","w","e","r","t","y","u","i","o","p","[","]","\\"],["CapsLock","a","s","d","f","g","h","j","k","l",";","'","Enter"],["Shift","z","x","c","v","b","n","m",",",".","/","Shift"],[" "]],GG=[["~","!","@","#","$","%","^","&","*","(",")","_","+","Backspace"],["Tab","Q","W","E","R","T","Y","U","I","O","P","{","}","|"],["CapsLock","A","S","D","F","G","H","J","K","L",":",'"',"Enter"],["Shift","Z","X","C","V","B","N","M","<",">","?","Shift"],[" "]],KG=new Set(["`","1","2","3","4","5","q","w","e","r","t","a","s","d","f","g","z","x","c","v","b"]),WG=new Set(["6","7","8","9","0","-","=","y","u","i","o","p","[","]","\\","h","j","k","l",";","'","n","m",",",".","/"]),BP={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=","{":"[","}":"]","|":"\\",":":";",'"':"'","<":",",">":".","?":"/"},qP={Backspace:"flex-grow-[2]",Tab:"flex-grow-[1.5]","\\":"flex-grow-[1.5]","|":"flex-grow-[1.5]",CapsLock:"flex-grow-[1.8]",Enter:"flex-grow-[2.2]",Shift:"flex-grow-[2.5]"," ":"flex-grow-[8]"},YG={"`":"left-pinky","~":"left-pinky",1:"left-pinky","!":"left-pinky",Tab:"left-pinky",q:"left-pinky",Q:"left-pinky",CapsLock:"left-pinky",a:"left-pinky",A:"left-pinky",Shift_left:"left-pinky",z:"left-pinky",Z:"left-pinky",2:"left-ring","@":"left-ring",w:"left-ring",W:"left-ring",s:"left-ring",S:"left-ring",x:"left-ring",X:"left-ring",3:"left-middle","#":"left-middle",e:"left-middle",E:"left-middle",d:"left-middle",D:"left-middle",c:"left-middle",C:"left-middle",4:"left-index",$:"left-index",r:"left-index",R:"left-index",f:"left-index",F:"left-index",v:"left-index",V:"left-index",5:"left-index","%":"left-index",t:"left-index",T:"left-index",g:"left-index",G:"left-index",b:"left-index",B:"left-index",6:"right-index","^":"right-index",y:"right-index",Y:"right-index",h:"right-index",H:"right-index",n:"right-index",N:"right-index",7:"right-index","&":"right-index",u:"right-index",U:"right-index",j:"right-index",J:"right-index",m:"right-index",M:"right-index",8:"right-middle","*":"right-middle",i:"right-middle",I:"right-middle",k:"right-middle",K:"right-middle",",":"right-middle","<":"right-middle",9:"right-ring","(":"right-ring",o:"right-ring",O:"right-ring",l:"right-ring",L:"right-ring",".":"right-ring",">":"right-ring",0:"right-pinky",")":"right-pinky","-":"right-pinky",_:"right-pinky","=":"right-pinky","+":"right-pinky",Backspace:"right-pinky",p:"right-pinky",P:"right-pinky","[":"right-pinky","{":"right-pinky","]":"right-pinky","}":"right-pinky","\\":"right-pinky","|":"right-pinky",Enter:"right-pinky",";":"right-pinky",":":"right-pinky","'":"right-pinky",'"':"right-pinky",Shift_right:"right-pinky","/":"right-pinky","?":"right-pinky"," ":"thumb"},Cb={"left-pinky":"bg-blue-500 text-white","left-ring":"bg-green-500 text-white","left-middle":"bg-yellow-500 text-black","left-index":"bg-red-500 text-white",thumb:"bg-purple-500 text-white","right-index":"bg-red-500 text-white","right-middle":"bg-yellow-500 text-black","right-ring":"bg-green-500 text-white","right-pinky":"bg-blue-500 text-white",special:"bg-slate-300 dark:bg-slate-600"},XG=({nextKey:t,activeKey:e,isShiftActive:n,showHandGuide:r})=>{const i=U.useContext(Tn),s=r??(i==null?void 0:i.showHandGuide)??!0,l=e??t,c=n??(/[A-Z!@#$%^&*()_+{}|:"<>?~]/.test(l)||Object.keys(BP).includes(l)),f=c?GG:HG;let h=l;l===" "&&(h=" "),l===`
`&&(h="Enter"),l==="	"&&(h="Tab");let p="none";if(c){const v=BP[l]||l.toLowerCase();KG.has(v)?p="right":WG.has(v)&&(p="left")}const m=v=>{const _=YG[v];return _?Cb[_]:Cb.special};return x.jsx("div",{className:"w-full max-w-4xl mx-auto p-1 sm:p-2 bg-slate-200 dark:bg-slate-800 rounded-lg shadow-lg",children:x.jsx("div",{className:"flex flex-col gap-1",children:f.map((v,_)=>x.jsx("div",{className:"flex gap-1 w-full justify-center",children:v.map((T,S)=>{let w=h===T,O=T;if(T==="Shift"){const I=S===0;O=I?"Shift_left":"Shift_right",c&&(I&&p==="left"&&(w=!0),!I&&p==="right"&&(w=!0))}const C=T===" ",R=s?m(O):"bg-slate-50 dark:bg-slate-700 text-slate-800 dark:text-slate-200 shadow-sm",V="bg-[#3A3A3A] text-white dark:bg-[#E5E5E5] dark:text-black shadow-lg scale-105 ring-2 ring-primary-300 dark:ring-primary-700 z-10";return C?x.jsx("div",{className:`h-8 sm:h-10 md:h-12 rounded-md transition-all duration-100 flex-shrink-0 ${qP[T]} ${w?V+" animate-pulse":s?Cb.thumb:R}`},`${_}-${S}`):x.jsx("div",{className:`
                                        h-8 sm:h-10 md:h-12 flex-1 flex items-center justify-center 
                                        rounded-md font-sans text-sm sm:text-base font-medium
                                        transition-all duration-100 select-none flex-shrink-0
                                        ${qP[T]||"min-w-[1.5rem] sm:min-w-[2rem] md:min-w-[2.5rem]"}
                                        ${w?V:R}
                                    `,children:T},`${_}-${S}`)})},_))})})},QG=({stars:t,animated:e=!1})=>x.jsx("div",{className:"flex gap-3 mb-8 justify-center",children:[1,2,3,4,5].map(n=>x.jsx(JG,{filled:n<=t,delay:e?n*150:0,animated:e},n))}),JG=({filled:t,delay:e,animated:n})=>x.jsxs("div",{className:"relative",style:{animation:n&&t?`star-pop 0.6s ease ${e}ms both`:"none"},children:[x.jsx("style",{children:`
                @keyframes star-pop {
                    0% { transform: scale(0) rotate(-30deg); opacity: 0; }
                    50% { transform: scale(1.3) rotate(10deg); opacity: 1; }
                    70% { transform: scale(0.9) rotate(-5deg); }
                    100% { transform: scale(1) rotate(0deg); opacity: 1; }
                }
                @keyframes star-glow {
                    0%, 100% { filter: drop-shadow(0 0 6px rgba(251, 191, 36, 0.6)); }
                    50% { filter: drop-shadow(0 0 12px rgba(251, 191, 36, 0.9)); }
                }
                @keyframes unfilled-fade {
                    0% { opacity: 0; transform: scale(0.8); }
                    100% { opacity: 1; transform: scale(1); }
                }
            `}),x.jsx("svg",{width:"48",height:"48",viewBox:"0 0 24 24",className:`transition-all duration-300 ${t?"drop-shadow-lg":""}`,style:{animation:t&&n?`star-glow 2s ease-in-out ${e+600}ms infinite`:!t&&n?`unfilled-fade 0.4s ease ${e}ms both`:"none"},children:t?x.jsxs(x.Fragment,{children:[x.jsx("defs",{children:x.jsxs("linearGradient",{id:`starGradient-${e}`,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[x.jsx("stop",{offset:"0%",stopColor:"#fcd34d"}),x.jsx("stop",{offset:"50%",stopColor:"#fbbf24"}),x.jsx("stop",{offset:"100%",stopColor:"#f59e0b"})]})}),x.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z",fill:`url(#starGradient-${e})`,stroke:"#f59e0b",strokeWidth:"0.5",strokeLinejoin:"round"})]}):x.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z",fill:"none",stroke:"#d1d5db",strokeWidth:"1.5",strokeLinejoin:"round"})})]}),zP=({value:t,max:e,label:n,color:r})=>{const i=Math.min(t/e*100,100),s=2*Math.PI*40,l=`${i/100*s} ${s}`,c={purple:"stroke-purple-500",blue:"stroke-blue-500",green:"stroke-green-500"};return x.jsxs("div",{className:"relative w-32 h-32",children:[x.jsxs("svg",{viewBox:"0 0 100 100",className:"transform -rotate-90",children:[x.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"currentColor",strokeWidth:"8",className:"text-slate-200 dark:text-slate-700"}),x.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",strokeWidth:"8",strokeLinecap:"round",className:`${c[r]} transition-all duration-800 ease-out`,style:{strokeDasharray:l,strokeDashoffset:0}})]}),x.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[x.jsx("span",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:Math.round(t)}),x.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:n})]})]})},ZG=()=>{const[t,e]=U.useState([]);return U.useEffect(()=>{const n=["#ff6b6b","#4ecdc4","#45b7d1","#f9ca24","#6c5ce7","#a29bfe"],r=Array.from({length:50},(s,l)=>({id:l,left:Math.random()*100,delay:Math.random()*.5,color:n[Math.floor(Math.random()*n.length)]}));e(r);const i=setTimeout(()=>{e([])},3e3);return()=>clearTimeout(i)},[]),x.jsx("div",{className:"fixed inset-0 pointer-events-none z-50",children:t.map(n=>x.jsx("div",{className:"absolute w-2 h-2 rounded-full animate-confetti",style:{left:`${n.left}%`,top:"-10px",backgroundColor:n.color,animationDelay:`${n.delay}s`}},n.id))})};function eK(t,e,n,r){const i=Math.min(t/n,1.2),l=(Math.min(e/r,1)*.6+i*.4)*5,c=Math.round(l);return Math.min(Math.max(c,1),5)}function tK(t){switch(t){case 5:return" PERFECT! You're a typing master!";case 4:return" EXCELLENT! Outstanding performance!";case 3:return" GREAT JOB! You're improving!";case 2:return" GOOD TRY! Keep practicing!";default:return" KEEP GOING! You've got this!"}}const nK=t=>{if(isNaN(t)||t<0)return"0:00";const e=Math.floor(t/60),n=Math.floor(t%60);return`${e}:${n.toString().padStart(2,"0")}`},rK=({isOpen:t,onClose:e,onPracticeSame:n,onNewSnippet:r,onViewProgress:i,isCustomSession:s,lastPracticeAction:l,stats:c,title:f,isEarlyExit:h=!1,isMultiFileSession:p=!1,onNextSnippet:m,hasNextSnippet:v=!1,sessionErrorMap:_={},sessionAttemptMap:T={},saveStatus:S})=>{const[w,O]=U.useState(0),C=U.useRef([]),R=U.useContext(Tn),{wpmGoal:V=20,accuracyGoal:I=95}=R||{},j=eK(c.wpm,c.accuracy,V,I),A=tK(j),[P,N]=U.useState(0);U.useEffect(()=>{if(!t){N(0);return}const $=[{delay:0,stage:1},{delay:500,stage:2},{delay:1500,stage:3},{delay:2300,stage:4}].map(({delay:L,stage:Q})=>setTimeout(()=>N(Q),L));return()=>$.forEach(clearTimeout)},[t]),U.useEffect(()=>{if(!t||P<2)return;const D=Math.floor(j),$=[];for(let L=1;L<=D;L++){const Q=window.setTimeout(()=>{ic.playStar(L)},L*200);$.push(Q)}return()=>$.forEach(clearTimeout)},[t,P,j]);const B=U.useMemo(()=>{const D={label:"New Snippet",action:r},$={label:"Practice Same Code",action:n},L={label:"View Your Progress",action:i},Q={label:"Next Snippet",action:m},J={label:"Resume",action:e};let F=[];return v&&m&&F.push(Q),h?F.push(J,D,$,L):(l==="practice_same"&&!p?F.push($,D):F.push(D,$),F.push(L)),F},[h,p,l,r,n,i,m,v,e]);return U.useEffect(()=>{C.current=C.current.slice(0,B.length)},[B]),U.useEffect(()=>{t&&(O(0),setTimeout(()=>{var $;($=C.current[0])==null||$.focus()},100))},[t]),U.useEffect(()=>{const D=$=>{var L,Q;if(t&&$.key!=="Tab")if($.key==="ArrowDown"||$.key==="ArrowUp"){$.preventDefault();const J=$.key==="ArrowDown"?1:-1,F=(w+J+B.length)%B.length;O(F),(L=C.current[F])==null||L.focus()}else $.key==="Enter"&&($.preventDefault(),(Q=C.current[w])==null||Q.click())};return window.addEventListener("keydown",D),()=>{window.removeEventListener("keydown",D)}},[t,B,w]),x.jsxs(Co,{isOpen:t,onClose:e,title:f,children:[x.jsxs("div",{className:"space-y-6",children:[P>=2&&x.jsx("div",{className:"text-center",children:x.jsx(QG,{stars:j,animated:!0})}),P>=3&&x.jsxs("div",{className:"flex gap-8 justify-center mb-6",children:[x.jsx(zP,{value:c.accuracy,max:100,label:"accuracy",color:"purple"}),x.jsx(zP,{value:c.wpm,max:V,label:"wpm",color:"blue"})]}),P>=4&&x.jsx("p",{className:"text-lg text-center font-medium text-slate-700 dark:text-slate-300 animate-fade-in",children:A}),x.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[x.jsx(jr,{label:"Errors",value:c.errors}),x.jsx(jr,{label:"Duration",value:nK(c.duration)})]}),(h||S&&!S.saved)&&x.jsx("div",{className:`text-center py-2 px-4 rounded-md ${S!=null&&S.saved?"bg-green-50 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-amber-50 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400"}`,children:x.jsx("p",{className:"font-medium",children:S!=null&&S.saved?"Progress Saved":(S==null?void 0:S.reason)||"Session Ended Early (Not Saved)"})}),x.jsx("div",{className:"flex flex-col gap-3",children:B.map((D,$)=>x.jsx(Ke,{ref:L=>{C.current[$]=L},size:"lg",className:"w-full",onClick:D.action,variant:$===w?"primary":"secondary",onMouseEnter:()=>O($),onFocus:()=>O($),children:D.label},D.label))})]}),P>=4&&j>=4&&x.jsx(ZG,{})]})},iK=t=>{switch(t){case" ":return"Space ()";case`
`:return"Enter ()";case"	":return"Tab ()";default:return t}},aK=({char:t,beforeRate:e,afterRate:n})=>{const r=iK(t);let i="text-slate-500 dark:text-slate-400";return n<e&&(i="text-green-500 font-bold"),n>e&&(i="text-red-500 font-bold"),x.jsxs("div",{className:"grid grid-cols-3 items-center text-center text-sm p-2 rounded-md bg-slate-100 dark:bg-slate-700/50",children:[x.jsx("span",{className:"font-mono font-semibold bg-slate-200 dark:bg-slate-600 px-2 py-1 rounded-md justify-self-center",children:r}),x.jsxs("span",{children:[e.toFixed(1),"%"]}),x.jsxs("span",{className:i,children:[n.toFixed(1),"%"]})]})},sK=({isOpen:t,onClose:e,onPracticeAgain:n,onReturnToDashboard:r,stats:i,sessionErrorMap:s={},sessionAttemptMap:l={}})=>{const c=U.useContext(Tn);if(!c)throw new Error("AppContext not found");const{keyErrorStats:f,keyAttemptStats:h,currentTargetedKeys:p}=c,m=U.useMemo(()=>{if(!t)return{results:[],verdict:""};try{let w=0;const O=p.map(R=>{const V=(s==null?void 0:s[R])||0,I=(l==null?void 0:l[R])||0,j=(f==null?void 0:f[R])||0,A=((h==null?void 0:h[R])||0)<j?j:(h==null?void 0:h[R])||0,P=j-V,N=A-I,B=N>0?P/N*100:0,D=I>0?V/I*100:0;return D<B&&w++,{key:R,beforeRate:B,afterRate:D}});let C=`You focused on ${p.length} keys. Keep practicing!`;return w===p.length&&p.length>0?C="Amazing focus! You reduced your error rate on all target keys.":w>p.length/2&&(C=`You successfully reduced your error rate on ${w} out of ${p.length} keys. Great work!`),{results:O,verdict:C}}catch(w){return console.error("Error calculating targeted results:",w),{results:[],verdict:"Could not calculate statistics."}}},[t,p,f,h,s,l]),[v,_]=G.useState(0),T=G.useRef([]),S=U.useMemo(()=>[{label:"Practice Again (Same Keys)",action:n,variant:"primary"},{label:"Return to Dashboard",action:r,variant:"secondary"}],[n,r]);return U.useEffect(()=>{T.current=T.current.slice(0,S.length)},[S]),U.useEffect(()=>{t&&(_(0),setTimeout(()=>{var w;(w=T.current[0])==null||w.focus()},100))},[t]),U.useEffect(()=>{const w=O=>{var C,R;if(t&&O.key!=="Tab")if(O.key==="ArrowDown"||O.key==="ArrowUp"){O.preventDefault();const V=O.key==="ArrowDown"?1:-1,I=(v+V+S.length)%S.length;_(I),(C=T.current[I])==null||C.focus()}else O.key==="Enter"&&(O.preventDefault(),(R=T.current[v])==null||R.click())};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[t,S,v]),x.jsx(Co,{isOpen:t,onClose:e,title:"Targeted Practice Results",children:x.jsxs("div",{className:"space-y-6",children:[x.jsx("p",{className:"text-center text-sm text-slate-600 dark:text-slate-300",children:"Here's how your performance on the targeted keys changed from your historical average to this session."}),x.jsxs(gr,{className:"p-4 bg-slate-50 dark:bg-slate-900/50",children:[x.jsxs("div",{className:"grid grid-cols-3 items-center text-center font-semibold text-xs text-slate-500 dark:text-slate-400 mb-2 mr-2",children:[x.jsx("span",{children:"Key"}),x.jsx("span",{children:"Before"}),x.jsx("span",{children:"After"})]}),x.jsx("div",{className:"space-y-1 max-h-[300px] overflow-y-auto custom-scrollbar pr-1",children:m.results.map(w=>x.jsx(aK,{char:w.key,...w},w.key))})]}),x.jsx("p",{className:"text-center text-sm font-semibold text-slate-700 dark:text-slate-200",children:m.verdict}),x.jsx("div",{className:"flex flex-col gap-3 pt-2",children:S.map((w,O)=>x.jsx(Ke,{ref:C=>{T.current[O]=C},size:"lg",className:"w-full",onClick:w.action,variant:O===v?"primary":"secondary",onMouseEnter:()=>_(O),onFocus:()=>_(O),children:w.label},O))})]})})},oK=({isOpen:t,onRestart:e})=>{const n=U.useRef(null);return U.useEffect(()=>{if(t){const r=setTimeout(()=>{var i;(i=n.current)==null||i.focus()},100);return()=>clearTimeout(r)}},[t]),t?x.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/80 backdrop-blur-sm animate-fade-in",onClick:r=>r.stopPropagation(),children:x.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl p-8 max-w-md w-full text-center border border-slate-200 dark:border-slate-700 transform scale-100 animate-fade-in-up",children:[x.jsx("div",{className:"flex justify-center mb-6",children:x.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center",children:x.jsx(ac,{className:"w-8 h-8 text-red-500 dark:text-red-400"})})}),x.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2",children:"Whoa, slow down!"}),x.jsxs("p",{className:"text-slate-600 dark:text-slate-400 mb-8 leading-relaxed",children:["We detected a lot of errors in a row.",x.jsx("br",{}),"Please focus on your ",x.jsx("strong",{children:"accuracy"})," and try again."]}),x.jsx("div",{className:"flex justify-center",children:x.jsxs(Ke,{ref:n,onClick:e,onKeyDown:r=>{r.key==="Enter"&&(r.stopPropagation(),r.preventDefault(),e())},variant:"primary",size:"lg",className:"w-full sm:w-auto min-w-[160px]",children:[x.jsx(sg,{className:"w-5 h-5 mr-2"}),"Restart Snippet"]})})]})}):null},lK=({isOpen:t,onClose:e,items:n,title:r="Actions"})=>{if(!t)return null;const i=document.getElementById("modal-root");return i?PG.createPortal(x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 animate-fade-in",onClick:e}),x.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 animate-slide-up",children:x.jsxs("div",{className:"glass-card rounded-t-2xl mx-2 mb-2 overflow-hidden",children:[x.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-slate-200/50 dark:border-slate-700/50",children:[x.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-200",children:r}),x.jsx("button",{onClick:e,className:"p-1 rounded-full hover:bg-slate-200/50 dark:hover:bg-slate-700/50 transition-colors",children:x.jsx("svg",{className:"w-5 h-5 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),x.jsx("div",{className:"p-2 max-h-[60vh] overflow-y-auto custom-scrollbar",children:n.map((s,l)=>x.jsxs("button",{onClick:()=>{s.onClick(),e()},disabled:s.disabled,className:`
                                    w-full flex items-center gap-3 px-4 py-3 rounded-xl
                                    text-left transition-all duration-150
                                    ${s.disabled?"opacity-50 cursor-not-allowed":"hover:bg-primary-50 dark:hover:bg-primary-900/30 active:scale-[0.98]"}
                                `,children:[x.jsx("span",{className:"flex-shrink-0 w-8 h-8 flex items-center justify-center rounded-lg bg-primary-100 dark:bg-primary-900/50 text-primary-600 dark:text-primary-400",children:s.icon}),x.jsx("span",{className:"flex-1 font-medium text-slate-700 dark:text-slate-300",children:s.label}),s.shortcut&&x.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded",children:s.shortcut})]},l))})]})})]}),i):null},FP=t=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:x.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})}),HP=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"}),x.jsx("path",{d:"m5 2 4 4"})]}),fS=t=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:x.jsx("polyline",{points:"20 6 9 17 4 12"})}),uK=U.forwardRef(({trigger:t,children:e},n)=>{const[r,i]=U.useState(!1),[s,l]=U.useState(-1),c=U.useRef(null),f=U.useRef(null),h=U.useRef(null),p=U.useMemo(()=>G.Children.toArray(e).filter(O=>G.isValidElement(O)&&O.type===hS),[e]),m=U.useCallback(()=>{var O;i(!1),(O=h.current)==null||O.focus()},[]);U.useImperativeHandle(n,()=>({close:m}));const v=()=>{i(O=>!O)};U.useEffect(()=>{var O;if(r){const C=p.findIndex(V=>V.props.isActive);l(C>-1?C:0),(O=f.current)==null||O.focus();const R=V=>{c.current&&!c.current.contains(V.target)&&m()};return document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}}},[r,p,m]),U.useEffect(()=>{if(r&&s>=0&&f.current){const C=Array.from(f.current.querySelectorAll('[role="menuitem"]'))[s];C&&C.scrollIntoView({block:"nearest"})}},[r,s]);const _=O=>{var C;if(p.length!==0)switch(O.key){case"ArrowDown":O.preventDefault(),l(R=>(R+1)%p.length);break;case"ArrowUp":O.preventDefault(),l(R=>(R-1+p.length)%p.length);break;case"Enter":case" ":O.preventDefault(),s>=0&&((C=p[s])==null||C.props.onClick(),i(!1));break;case"Escape":case"Tab":O.preventDefault(),m();break}};let T=-1;const S=G.Children.map(e,O=>{if(G.isValidElement(O)&&O.type===hS){T++;const C=T,R=O.props.onClick;return G.cloneElement(O,{isHighlighted:C===s,onMouseEnter:()=>l(C),onClick:()=>{R&&R(),i(!1)}})}return O}),w=G.cloneElement(t,{ref:h,onClick:O=>{v(),t.props.onClick&&t.props.onClick(O)},"aria-haspopup":"true","aria-expanded":r});return x.jsxs("div",{className:"relative inline-block text-left",ref:c,children:[w,r&&x.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white dark:bg-slate-800 ring-1 ring-black ring-opacity-5 focus:outline-none border border-slate-200 dark:border-slate-700 z-10 animate-fade-in-up",children:x.jsx("div",{ref:f,onKeyDown:_,tabIndex:-1,className:"py-1 focus:outline-none",role:"menu","aria-orientation":"vertical",children:S})})]})}),hS=({onClick:t,children:e,isActive:n=!1,isHighlighted:r=!1,onMouseEnter:i})=>{const s=r?"bg-primary-500 text-white":"text-gray-700 dark:text-gray-200";return x.jsxs("a",{href:"#",onClick:l=>{l.preventDefault(),t()},onMouseEnter:i,className:`flex items-center justify-between px-4 py-2 text-sm focus:outline-none transition-colors ${s}`,role:"menuitem",tabIndex:-1,children:[x.jsx("span",{className:n?"font-semibold":"font-normal",children:e}),n&&x.jsx(fS,{className:"w-4 h-4 text-primary-500"})]})},GP=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("circle",{cx:"12",cy:"12",r:"10"}),x.jsx("line",{x1:"4.93",y1:"4.93",x2:"19.07",y2:"19.07"})]}),KP=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),x.jsx("polyline",{points:"14 2 14 8 20 8"}),x.jsx("path",{d:"m10 13-2 2 2 2"}),x.jsx("path",{d:"m14 17 2-2-2-2"})]}),WP=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),YP=({className:t="w-6 h-6"})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),cK=({className:t})=>x.jsx("svg",{className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})}),ns=[{label:"Off",value:0},{label:"After 1 Error",value:1},{label:"After 2 Errors",value:2},{label:"After 3 Errors",value:3}],fK=()=>{const t=U.useContext(Tn);if(!t)return null;const{practiceQueue:e,currentQueueIndex:n}=t;return x.jsxs("div",{className:"flex flex-col gap-2 h-full",children:[x.jsx("h3",{className:"font-semibold text-slate-700 dark:text-slate-300 px-2",children:"Queue"}),x.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 px-2 custom-scrollbar",children:e.map((r,i)=>x.jsxs("div",{className:`p-2 rounded text-xs border ${i===n?"bg-blue-50 dark:bg-blue-900/30 border-blue-200 dark:border-blue-700":"bg-slate-50 dark:bg-slate-800 border-transparent"}`,children:[x.jsxs("div",{className:`font-medium mb-1 ${i===n?"text-blue-600 dark:text-blue-400":"text-slate-500"}`,children:["Snippet ",i+1]}),x.jsxs("div",{className:"font-mono text-slate-600 dark:text-slate-400 truncate opacity-75",children:[r.substring(0,40).replace(/\n/g," "),"..."]})]},i))})]})},hK=()=>{var dt,$t;const t=U.useContext(Tn);if(!t)return null;const{snippet:e,isLoadingSnippet:n,snippetError:r,selectedLanguage:i,fetchNewSnippet:s,showKeyboard:l,showHandGuide:c,toggleHandGuide:f,addPracticeResult:h,startCustomSession:p,navigateTo:m,isCustomSession:v,currentTargetedKeys:_,setCurrentTargetedKeys:T,setLastPracticeAction:S,lastPracticeAction:w,startTargetedSession:O,blockOnErrorThreshold:C,setBlockOnErrorThreshold:R,setRequestFocusOnCodeCallback:V,requestFocusOnCode:I,practiceQueue:j,currentQueueIndex:A,loadNextSnippetInQueue:P,isSetupModalOpen:N,openSetupModal:B,closeSetupModal:D,isInitialSetupComplete:$,restorePracticeSession:L,sessionResetKey:Q,practiceMode:J}=t,F=U.useRef(Date.now().toString()),[Y,ee]=U.useState(!1),[ue,ve]=U.useState(!1),[H,W]=U.useState({wpm:0,accuracy:0,errors:0,duration:0,errorMap:{},attemptMap:{}}),[oe,me]=U.useState(!1),[we,Se]=U.useState(!1),[Ne,$e]=U.useState(!1),[ye,Te]=U.useState(null),[Re,ne]=U.useState(null),[He,xe]=U.useState(!1),[Ee,Be]=U.useState(!1),We=async()=>{const Ue=Oe=>{try{const je=document.createElement("textarea");je.value=Oe,je.style.position="fixed",je.style.left="-9999px",je.style.top="0",document.body.appendChild(je),je.focus(),je.select();const pt=document.execCommand("copy");if(document.body.removeChild(je),pt)xe(!0),setTimeout(()=>xe(!1),2e3),t==null||t.showAlert("Code copied to clipboard!","info");else throw new Error("Fallback copy failed")}catch(je){console.error("Fallback copy failed: ",je),t==null||t.showAlert("Failed to copy code.","error")}};if(navigator.clipboard&&navigator.clipboard.writeText)try{await navigator.clipboard.writeText(e),xe(!0),setTimeout(()=>xe(!1),2e3),t==null||t.showAlert("Code copied to clipboard!","info")}catch(Oe){console.warn("Clipboard API failed, trying fallback...",Oe),Ue(e)}else Ue(e)},st=U.useRef(null),Ye=U.useRef(null),qe=U.useRef(null),_t=U.useRef(!1),Dt=U.useCallback(()=>I(),[I]),En=U.useCallback(()=>I(),[I]),Ie=$G(e,C,{onPause:Dt,onResume:En}),ht=U.useRef(Ie);U.useLayoutEffect(()=>{ht.current=Ie},[Ie]);const xt=e[Ie.currentIndex]||"";U.useEffect(()=>{ht.current.reset(),F.current=Date.now().toString(),I()},[Q,I]);const Vt=U.useCallback(()=>{ht.current.reset(),F.current=Date.now().toString(),I()},[I]),Zt=U.useCallback(()=>{ht.current.togglePause(),I()},[I]),en=U.useCallback(()=>{B()},[B]),xn=U.useCallback(()=>{console.log("handleEndSession triggered");try{$e(!0);const Ue={wpm:ht.current.wpm,accuracy:ht.current.accuracy,errors:ht.current.errors,duration:ht.current.duration,errorMap:ht.current.errorMap,attemptMap:ht.current.attemptMap};W(Ue);const Oe=ht.current.currentIndex,je=e.length,pt=je>0?Oe/je*100:0,jt=ht.current.duration,or=Oe>=20,Vr=pt>=100,Dn=(pt>=70||Oe>=150)&&jt>=10;if(or&&(Vr||Dn))h({id:F.current,date:Date.now(),wpm:Ue.wpm,accuracy:Ue.accuracy,duration:Ue.duration,errors:Ue.errors,language:i.name,snippetLength:e.length,timestamp:Date.now(),linesTyped:ht.current.typedText.split(`
`).length,errorMap:Ue.errorMap,attemptMap:Ue.attemptMap}),Te({saved:!0});else{let Xr="Session not saved.";or?Dn||(Xr="Not saved: Duration under 10s or progress too low (<70% or <150 chars)."):Xr="Not saved: Less than 20 characters typed.",Te({saved:!1,reason:Xr})}}catch(Ue){console.error("Error in handleEndSession:",Ue),Te({saved:!1,reason:"Error saving session: "+(Ue instanceof Error?Ue.message:String(Ue))})}finally{ee(!0)}},[h,i.name,e]),Pt=U.useCallback(()=>{ee(!1),ve(!1),Vt(),I()},[Vt,I]),he=U.useCallback(()=>{ee(!1),ve(!1),P(),F.current=Date.now().toString(),I()},[P,I]);U.useEffect(()=>{const Ue=localStorage.getItem("sessionResultToShow");if(Ue){_t.current=!0,localStorage.removeItem("sessionResultToShow");try{const je=JSON.parse(Ue);W(je.stats),$e(je.isEarlyExit),S(je.lastPracticeAction),je.currentTargetedKeys&&je.currentTargetedKeys.length>0?(T(je.currentTargetedKeys),ve(!0)):ee(!0)}catch(je){console.error("Failed to parse session result",je)}return}const Oe=localStorage.getItem("continuedSession");if(Oe){_t.current=!0,localStorage.removeItem("continuedSession");try{const je=JSON.parse(Oe);L(je.context),ne(je)}catch(je){console.error("Failed to parse continued session",je)}}},[L,T]),U.useEffect(()=>{if(Ie.isFinished&&!we&&!Y&&!ue){Se(!0);const Ue={wpm:Ie.wpm,accuracy:Ie.accuracy,errors:Ie.errors,duration:Ie.duration,errorMap:Ie.errorMap,attemptMap:Ie.attemptMap};W(Ue),$e(!1);let Oe=i.name;J==="error-training"?Oe="Error Practice":J==="targeted"?Oe="Targeted Practice":J==="general"&&(Oe="General Typing");let je=!0,pt="";if(v){const jt=e.length,or=Ie.duration;(jt<150||or<10)&&(je=!1,pt="Session not saved: Custom snippets must be >150 chars and >10s duration.")}je?(h({id:F.current,date:Date.now(),wpm:Ie.wpm,accuracy:Ie.accuracy,duration:Ie.duration,errors:Ie.errors,language:Oe,snippetLength:e.length,timestamp:Date.now(),linesTyped:Ie.typedText.split(`
`).length,errorMap:Ie.errorMap,attemptMap:Ie.attemptMap}),Te({saved:!0})):Te({saved:!1,reason:pt}),_.length>0?ve(!0):ee(!0)}else Ie.isFinished||Se(!1)},[Ie.isFinished,we,Y,ue,Ie.wpm,Ie.accuracy,Ie.errors,Ie.duration,Ie.errorMap,Ie.attemptMap,h,i.name,e.length,_]);const[Ae,Ge]=U.useState(!1);U.useEffect(()=>{Ie.consecutiveErrors>=10&&!Ae&&!Ie.isFinished&&(Ge(!0),ht.current.pauseGame())},[Ie.consecutiveErrors,Ae,Ie.isFinished]);const kt=U.useCallback(()=>{Ge(!1),Vt()},[Vt]),ot=U.useCallback(Ue=>{if(!(Y||ue||N||Ae)&&Ue.altKey)switch(Ue.key.toLowerCase()){case"c":Ue.preventDefault(),We();break;case"n":Ue.preventDefault(),en();break;case"e":Ue.preventDefault(),xn();break;case"r":Ue.preventDefault(),Vt();break;case"p":Ue.preventDefault(),Zt();break;case"g":Ue.preventDefault(),f();break;case"b":Ue.preventDefault();const je=(ns.findIndex(pt=>pt.value===C)+1)%ns.length;R(ns[je].value);break}},[Y,ue,N,en,xn,Vt,Zt,f,C,R]);U.useEffect(()=>(window.addEventListener("keydown",ot),()=>window.removeEventListener("keydown",ot)),[ot]);const Kt=()=>typeof window<"u"&&window.innerWidth<768;U.useEffect(()=>{const Ue=Oe=>{const je=ht.current;if(Y||ue||N||Ae||Oe.altKey||Oe.ctrlKey||Oe.metaKey)return;if(Oe.repeat){Oe.preventDefault();return}const pt=Oe.key;pt==="Tab"&&Oe.preventDefault(),Oe.getModifierState("CapsLock")?me(!0):me(!1);const jt=pt.length===1,or=["Backspace","Enter","Tab"].includes(pt);if(jt||or){Oe.preventDefault();let Vr=pt;Kt()&&pt===" "&&e[je.currentIndex]==="	"&&(Vr="Tab"),je.handleKeyDown(Vr),I()}};return window.addEventListener("keydown",Ue),()=>window.removeEventListener("keydown",Ue)},[Y,ue,N,I,e]);const Rt=Ue=>{const Oe=ht.current.typedText;if(Ue.length>Oe.length+1){const je=Ue.slice(Oe.length);for(const pt of je)ht.current.handleKeyDown(pt);I()}else if(Ue.length===Oe.length+1){let je=Ue.slice(-1);Kt()&&je===" "&&e[ht.current.currentIndex]==="	"&&(je="Tab"),ht.current.handleKeyDown(je),I()}else Ue.length===Oe.length-1&&(ht.current.handleKeyDown("Backspace"),I())};return x.jsxs("div",{className:"flex flex-col h-[100dvh] max-w-full mx-auto w-full overflow-hidden",ref:st,children:[oe&&x.jsx("div",{className:"fixed top-20 inset-x-0 z-50 flex justify-center pointer-events-none",children:x.jsxs("div",{className:"bg-yellow-400 text-yellow-900 px-4 py-2 rounded-md shadow-lg flex items-center gap-2 animate-fade-in-up pointer-events-auto",children:[x.jsx(ac,{className:"w-5 h-5"}),x.jsx("span",{className:"font-semibold",children:"Caps Lock is On"})]})}),x.jsx("div",{className:"w-full max-w-[1100px] mx-auto mb-2 pt-2 flex-shrink-0 px-3 md:px-4",children:x.jsx("div",{className:"glass-card rounded-xl p-3 md:p-4",children:x.jsx(FG,{wpm:Ie.wpm,accuracy:Ie.accuracy,errors:Ie.errors,progress:e.length>0?Math.round(Ie.currentIndex/e.length*100):0,timer:Ie.duration})})}),x.jsxs("div",{className:"w-full max-w-[1100px] mx-auto mb-2 flex-shrink-0 px-3 md:px-4",children:[x.jsxs("div",{className:"hidden md:flex flex-wrap items-center justify-center gap-2",children:[x.jsxs(Ke,{onClick:en,variant:"primary",disabled:N,title:"New Snippet (Alt+N)",accessKey:"n",size:"sm",className:"btn-press glow-hover",children:[x.jsx(KP,{className:"w-4 h-4 mr-2"}),"New"]}),x.jsxs(Ke,{onClick:xn,variant:"outline",disabled:N||Ie.isFinished,title:"End Session (Alt+E)",accessKey:"e",size:"sm",className:"btn-press",children:[x.jsx(WP,{className:"w-4 h-4 mr-2"}),"End"]}),x.jsxs(Ke,{onClick:Vt,variant:"outline",disabled:N,title:"Reset (Alt+R)",accessKey:"r",size:"sm",className:"btn-press",children:[x.jsx(sg,{className:"w-4 h-4 mr-2"}),"Reset"]}),x.jsxs(Ke,{onClick:Zt,variant:"outline",disabled:N||Ie.isFinished,title:Ie.isPaused?"Resume (Alt+P)":"Pause (Alt+P)",accessKey:"p",size:"sm",className:"btn-press",children:[Ie.isPaused?x.jsx(FP,{className:"w-4 h-4 mr-2"}):x.jsx(cS,{className:"w-4 h-4 mr-2"}),Ie.isPaused?"Resume":"Pause"]}),x.jsxs(Ke,{onClick:We,variant:"outline",disabled:N,title:"Copy Code (Alt+C)",accessKey:"c",size:"sm",className:"btn-press",children:[He?x.jsx(fS,{className:"w-4 h-4 mr-2 text-green-500"}):x.jsx(YP,{className:"w-4 h-4 mr-2"}),He?"Copied":"Copy"]}),x.jsx(uK,{ref:Ye,trigger:x.jsxs(Ke,{variant:"outline",title:"Block on Error Settings (Alt+B)",accessKey:"b",size:"sm",className:"btn-press",children:[x.jsx(GP,{className:"w-4 h-4 mr-2"}),x.jsxs("span",{className:"hidden sm:inline",children:["Block: ",(dt=ns.find(Ue=>Ue.value===C))==null?void 0:dt.label]})]}),children:ns.map(({label:Ue,value:Oe})=>x.jsx(hS,{onClick:()=>{R(Oe),I()},isActive:C===Oe,children:Ue},Oe))}),x.jsxs(Ke,{variant:"outline",onClick:()=>{f(),I()},title:"Toggle Hand Guide (Alt+G)",disabled:N,accessKey:"g",size:"sm",className:"btn-press",children:[x.jsx(HP,{className:"w-4 h-4 sm:mr-2"}),x.jsx("span",{className:"hidden sm:inline",children:"Hand Guide"})]})]}),x.jsxs("div",{className:"flex md:hidden items-center justify-center gap-2",children:[x.jsxs(Ke,{onClick:en,variant:"primary",disabled:N,title:"New Snippet",size:"sm",className:"btn-press glow-hover flex-1 max-w-[140px]",children:[x.jsx(KP,{className:"w-4 h-4 mr-2"}),"New"]}),x.jsx(Ke,{onClick:Zt,variant:"outline",disabled:N||Ie.isFinished,title:Ie.isPaused?"Resume":"Pause",size:"sm",className:"btn-press",children:Ie.isPaused?x.jsx(FP,{className:"w-5 h-5"}):x.jsx(cS,{className:"w-5 h-5"})}),x.jsx(Ke,{onClick:Vt,variant:"outline",disabled:N,title:"Reset",size:"sm",className:"btn-press",children:x.jsx(sg,{className:"w-5 h-5"})}),x.jsx(Ke,{onClick:()=>Be(!0),variant:"outline",disabled:N,title:"More Options",size:"sm",className:"btn-press",children:x.jsx(cK,{className:"w-5 h-5"})})]}),x.jsx(lK,{isOpen:Ee,onClose:()=>Be(!1),title:"More Actions",items:[{label:"End Session",icon:x.jsx(WP,{className:"w-4 h-4"}),onClick:xn,disabled:N||Ie.isFinished,shortcut:"Alt+E"},{label:He?"Copied!":"Copy Code",icon:He?x.jsx(fS,{className:"w-4 h-4"}):x.jsx(YP,{className:"w-4 h-4"}),onClick:We,disabled:N,shortcut:"Alt+C"},{label:c?"Hide Hand Guide":"Show Hand Guide",icon:x.jsx(HP,{className:"w-4 h-4"}),onClick:()=>{f(),I()},disabled:N,shortcut:"Alt+G"},{label:`Error Block: ${($t=ns.find(Ue=>Ue.value===C))==null?void 0:$t.label}`,icon:x.jsx(GP,{className:"w-4 h-4"}),onClick:()=>{const Oe=(ns.findIndex(je=>je.value===C)+1)%ns.length;R(ns[Oe].value),I()},shortcut:"Alt+B"}]})]}),x.jsxs("div",{className:"w-full mx-auto flex-grow min-h-0 flex flex-col md:flex-row gap-4 overflow-hidden px-4",children:[x.jsx(I5,{ref:qe,value:Ie.typedText,onValueChange:Rt,snippet:e,languageAlias:i.prismAlias,charStates:Ie.charStates,currentIndex:Ie.currentIndex,isError:Ie.isError,isLoading:n,error:r,isPaused:Ie.isPaused,disabled:Ae,onRetry:()=>s(),className:"flex-grow h-full overflow-y-auto"}),j.length>1&&x.jsx("div",{className:"hidden md:flex flex-col gap-4 w-64 flex-shrink-0 h-full overflow-hidden",children:x.jsx(fK,{})})]}),l&&x.jsx("div",{className:"flex-shrink-0 w-full max-w-[1100px] mx-auto mt-2 mb-2 px-2",children:x.jsx(XG,{activeKey:xt,isShiftActive:/[A-Z!@#$%^&*()_+{}|:"<>?~]/.test(xt),showHandGuide:c})}),x.jsx(rK,{isOpen:Y,title:Ne?"Session Ended":"Session Complete",onClose:()=>{Ne?(ee(!1),I()):Pt()},onPracticeSame:Pt,onNewSnippet:en,onViewProgress:()=>{ee(!1),m("dashboard")},isCustomSession:v,lastPracticeAction:w,stats:H,isEarlyExit:Ne,onNextSnippet:he,hasNextSnippet:j.length>1&&A<j.length-1,sessionErrorMap:H.errorMap,sessionAttemptMap:H.attemptMap,saveStatus:ye}),x.jsx(sK,{isOpen:ue,onClose:()=>{ve(!1),I()},stats:H,onPracticeAgain:Pt,onReturnToDashboard:()=>{ve(!1),m("dashboard")},sessionErrorMap:H.errorMap,sessionAttemptMap:H.attemptMap}),x.jsx(oK,{isOpen:Ae,onRestart:kt})]})},dK=({isOpen:t,onClose:e,onSave:n,currentWpmGoal:r,currentAccuracyGoal:i,currentTimeGoal:s})=>{const[l,c]=U.useState(String(r)),[f,h]=U.useState(String(i)),[p,m]=U.useState(String(s));U.useEffect(()=>{t&&(c(String(r)),h(String(i)),m(String(s)))},[t,r,i,s]);const v=()=>{const _=parseInt(l,10)||0,T=parseInt(f,10)||0,S=parseInt(p,10)||0;n(_,T,S)};return x.jsx(Co,{isOpen:t,onClose:e,title:"Edit Your Goals",children:x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{htmlFor:"time-goal",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Daily Time Goal (Minutes)"}),x.jsx("input",{id:"time-goal",type:"number",min:"0",value:p,onChange:_=>m(_.target.value),className:"w-full p-2 bg-slate-200 dark:bg-slate-700 dark:text-slate-50 dark:placeholder-slate-400 border border-slate-300 dark:border-slate-500 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"e.g., 15"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{htmlFor:"wpm-goal",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"WPM Goal"}),x.jsx("input",{id:"wpm-goal",type:"number",value:l,onChange:_=>c(_.target.value),className:"w-full p-2 bg-slate-200 dark:bg-slate-700 dark:text-slate-50 dark:placeholder-slate-400 border border-slate-300 dark:border-slate-500 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"e.g., 80"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{htmlFor:"accuracy-goal",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Accuracy Goal (%)"}),x.jsx("input",{id:"accuracy-goal",type:"number",min:"0",max:"100",value:f,onChange:_=>h(_.target.value),className:"w-full p-2 bg-slate-200 dark:bg-slate-700 dark:text-slate-50 dark:placeholder-slate-400 border border-slate-300 dark:border-slate-500 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"e.g., 99"})]}),x.jsxs("div",{className:"flex justify-end items-center gap-2 mt-4",children:[x.jsx(Ke,{variant:"ghost",onClick:e,children:"Cancel"}),x.jsx(Ke,{onClick:v,children:"Save Goals"})]})]})})},P5=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"}),x.jsx("path",{d:"m15 5 4 4"})]}),gh=U.forwardRef(({options:t,selectedValue:e,onSelect:n,disabled:r=!1,accessKeyChars:i},s)=>{const l=U.useContext(Tn),c=U.useContext(CE),f=p=>{if(r)return;const m=t.findIndex(v=>v.value===e);if(p.key==="ArrowRight"){p.preventDefault();const v=(m+1)%t.length;n(t[v].value)}else if(p.key==="ArrowLeft"){p.preventDefault();const v=(m-1+t.length)%t.length;n(t[v].value)}},h=(l==null?void 0:l.isAccessKeyMenuVisible)&&(c||!(l!=null&&l.isAnyModalOpen));return x.jsx("div",{ref:s,role:"group",tabIndex:r?-1:0,className:"flex justify-center items-center gap-1 bg-slate-200 dark:bg-slate-700 p-1 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-slate-900",onKeyDown:f,children:t.map(({label:p,value:m},v)=>x.jsxs(Ke,{variant:e===m?"primary":"ghost",size:"sm",className:`relative ${e===m?"":"text-gray-600 dark:text-gray-300"}`,onClick:()=>n(m),disabled:r,tabIndex:-1,children:[h&&(i==null?void 0:i[v])&&x.jsx(ag,{label:i[v]}),p]},m))})});function k5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=k5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function bt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=k5(t))&&(r&&(r+=" "),r+=e);return r}var Ib,XP;function Yr(){if(XP)return Ib;XP=1;var t=Array.isArray;return Ib=t,Ib}var Pb,QP;function R5(){if(QP)return Pb;QP=1;var t=typeof om=="object"&&om&&om.Object===Object&&om;return Pb=t,Pb}var kb,JP;function Na(){if(JP)return kb;JP=1;var t=R5(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return kb=n,kb}var Rb,ZP;function Md(){if(ZP)return Rb;ZP=1;var t=Na(),e=t.Symbol;return Rb=e,Rb}var Nb,ek;function pK(){if(ek)return Nb;ek=1;var t=Md(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(l){var c=n.call(l,i),f=l[i];try{l[i]=void 0;var h=!0}catch{}var p=r.call(l);return h&&(c?l[i]=f:delete l[i]),p}return Nb=s,Nb}var jb,tk;function mK(){if(tk)return jb;tk=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return jb=n,jb}var Mb,nk;function ws(){if(nk)return Mb;nk=1;var t=Md(),e=pK(),n=mK(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function l(c){return c==null?c===void 0?i:r:s&&s in Object(c)?e(c):n(c)}return Mb=l,Mb}var Db,rk;function Ss(){if(rk)return Db;rk=1;function t(e){return e!=null&&typeof e=="object"}return Db=t,Db}var Lb,ik;function Qc(){if(ik)return Lb;ik=1;var t=ws(),e=Ss(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return Lb=r,Lb}var Vb,ak;function IE(){if(ak)return Vb;ak=1;var t=Yr(),e=Qc(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){if(t(s))return!1;var c=typeof s;return c=="number"||c=="symbol"||c=="boolean"||s==null||e(s)?!0:r.test(s)||!n.test(s)||l!=null&&s in Object(l)}return Vb=i,Vb}var $b,sk;function Io(){if(sk)return $b;sk=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return $b=t,$b}var Ub,ok;function PE(){if(ok)return Ub;ok=1;var t=ws(),e=Io(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function l(c){if(!e(c))return!1;var f=t(c);return f==r||f==i||f==n||f==s}return Ub=l,Ub}var Bb,lk;function gK(){if(lk)return Bb;lk=1;var t=Na(),e=t["__core-js_shared__"];return Bb=e,Bb}var qb,uk;function yK(){if(uk)return qb;uk=1;var t=gK(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return qb=n,qb}var zb,ck;function N5(){if(ck)return zb;ck=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return zb=n,zb}var Fb,fk;function vK(){if(fk)return Fb;fk=1;var t=PE(),e=yK(),n=Io(),r=N5(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,f=l.toString,h=c.hasOwnProperty,p=RegExp("^"+f.call(h).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(v){if(!n(v)||e(v))return!1;var _=t(v)?p:s;return _.test(r(v))}return Fb=m,Fb}var Hb,hk;function bK(){if(hk)return Hb;hk=1;function t(e,n){return e==null?void 0:e[n]}return Hb=t,Hb}var Gb,dk;function Hl(){if(dk)return Gb;dk=1;var t=vK(),e=bK();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return Gb=n,Gb}var Kb,pk;function ky(){if(pk)return Kb;pk=1;var t=Hl(),e=t(Object,"create");return Kb=e,Kb}var Wb,mk;function xK(){if(mk)return Wb;mk=1;var t=ky();function e(){this.__data__=t?t(null):{},this.size=0}return Wb=e,Wb}var Yb,gk;function _K(){if(gk)return Yb;gk=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return Yb=t,Yb}var Xb,yk;function wK(){if(yk)return Xb;yk=1;var t=ky(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var l=this.__data__;if(t){var c=l[s];return c===e?void 0:c}return r.call(l,s)?l[s]:void 0}return Xb=i,Xb}var Qb,vk;function SK(){if(vk)return Qb;vk=1;var t=ky(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return Qb=r,Qb}var Jb,bk;function TK(){if(bk)return Jb;bk=1;var t=ky(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return Jb=n,Jb}var Zb,xk;function EK(){if(xk)return Zb;xk=1;var t=xK(),e=_K(),n=wK(),r=SK(),i=TK();function s(l){var c=-1,f=l==null?0:l.length;for(this.clear();++c<f;){var h=l[c];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Zb=s,Zb}var ex,_k;function AK(){if(_k)return ex;_k=1;function t(){this.__data__=[],this.size=0}return ex=t,ex}var tx,wk;function kE(){if(wk)return tx;wk=1;function t(e,n){return e===n||e!==e&&n!==n}return tx=t,tx}var nx,Sk;function Ry(){if(Sk)return nx;Sk=1;var t=kE();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return nx=e,nx}var rx,Tk;function OK(){if(Tk)return rx;Tk=1;var t=Ry(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,l=t(s,i);if(l<0)return!1;var c=s.length-1;return l==c?s.pop():n.call(s,l,1),--this.size,!0}return rx=r,rx}var ix,Ek;function CK(){if(Ek)return ix;Ek=1;var t=Ry();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return ix=e,ix}var ax,Ak;function IK(){if(Ak)return ax;Ak=1;var t=Ry();function e(n){return t(this.__data__,n)>-1}return ax=e,ax}var sx,Ok;function PK(){if(Ok)return sx;Ok=1;var t=Ry();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return sx=e,sx}var ox,Ck;function Ny(){if(Ck)return ox;Ck=1;var t=AK(),e=OK(),n=CK(),r=IK(),i=PK();function s(l){var c=-1,f=l==null?0:l.length;for(this.clear();++c<f;){var h=l[c];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,ox=s,ox}var lx,Ik;function RE(){if(Ik)return lx;Ik=1;var t=Hl(),e=Na(),n=t(e,"Map");return lx=n,lx}var ux,Pk;function kK(){if(Pk)return ux;Pk=1;var t=EK(),e=Ny(),n=RE();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return ux=r,ux}var cx,kk;function RK(){if(kk)return cx;kk=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return cx=t,cx}var fx,Rk;function jy(){if(Rk)return fx;Rk=1;var t=RK();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return fx=e,fx}var hx,Nk;function NK(){if(Nk)return hx;Nk=1;var t=jy();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return hx=e,hx}var dx,jk;function jK(){if(jk)return dx;jk=1;var t=jy();function e(n){return t(this,n).get(n)}return dx=e,dx}var px,Mk;function MK(){if(Mk)return px;Mk=1;var t=jy();function e(n){return t(this,n).has(n)}return px=e,px}var mx,Dk;function DK(){if(Dk)return mx;Dk=1;var t=jy();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return mx=e,mx}var gx,Lk;function NE(){if(Lk)return gx;Lk=1;var t=kK(),e=NK(),n=jK(),r=MK(),i=DK();function s(l){var c=-1,f=l==null?0:l.length;for(this.clear();++c<f;){var h=l[c];this.set(h[0],h[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,gx=s,gx}var yx,Vk;function j5(){if(Vk)return yx;Vk=1;var t=NE(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var l=arguments,c=i?i.apply(this,l):l[0],f=s.cache;if(f.has(c))return f.get(c);var h=r.apply(this,l);return s.cache=f.set(c,h)||f,h};return s.cache=new(n.Cache||t),s}return n.Cache=t,yx=n,yx}var vx,$k;function LK(){if($k)return vx;$k=1;var t=j5(),e=500;function n(r){var i=t(r,function(l){return s.size===e&&s.clear(),l}),s=i.cache;return i}return vx=n,vx}var bx,Uk;function VK(){if(Uk)return bx;Uk=1;var t=LK(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(l,c,f,h){s.push(f?h.replace(n,"$1"):c||l)}),s});return bx=r,bx}var xx,Bk;function jE(){if(Bk)return xx;Bk=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=Array(i);++r<i;)s[r]=n(e[r],r,e);return s}return xx=t,xx}var _x,qk;function $K(){if(qk)return _x;qk=1;var t=Md(),e=jE(),n=Yr(),r=Qc(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function l(c){if(typeof c=="string")return c;if(n(c))return e(c,l)+"";if(r(c))return s?s.call(c):"";var f=c+"";return f=="0"&&1/c==-1/0?"-0":f}return _x=l,_x}var wx,zk;function M5(){if(zk)return wx;zk=1;var t=$K();function e(n){return n==null?"":t(n)}return wx=e,wx}var Sx,Fk;function D5(){if(Fk)return Sx;Fk=1;var t=Yr(),e=IE(),n=VK(),r=M5();function i(s,l){return t(s)?s:e(s,l)?[s]:n(r(s))}return Sx=i,Sx}var Tx,Hk;function My(){if(Hk)return Tx;Hk=1;var t=Qc();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Tx=e,Tx}var Ex,Gk;function ME(){if(Gk)return Ex;Gk=1;var t=D5(),e=My();function n(r,i){i=t(i,r);for(var s=0,l=i.length;r!=null&&s<l;)r=r[e(i[s++])];return s&&s==l?r:void 0}return Ex=n,Ex}var Ax,Kk;function L5(){if(Kk)return Ax;Kk=1;var t=ME();function e(n,r,i){var s=n==null?void 0:t(n,r);return s===void 0?i:s}return Ax=e,Ax}var UK=L5();const di=Gt(UK);var Ox,Wk;function BK(){if(Wk)return Ox;Wk=1;function t(e){return e==null}return Ox=t,Ox}var qK=BK();const ct=Gt(qK);var Cx,Yk;function zK(){if(Yk)return Cx;Yk=1;var t=ws(),e=Yr(),n=Ss(),r="[object String]";function i(s){return typeof s=="string"||!e(s)&&n(s)&&t(s)==r}return Cx=i,Cx}var FK=zK();const Dl=Gt(FK);var HK=PE();const rt=Gt(HK);var GK=Io();const Jc=Gt(GK);var Ix={exports:{}},Wt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xk;function KK(){if(Xk)return Wt;Xk=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),T;T=Symbol.for("react.module.reference");function S(w){if(typeof w=="object"&&w!==null){var O=w.$$typeof;switch(O){case t:switch(w=w.type,w){case n:case i:case r:case h:case p:return w;default:switch(w=w&&w.$$typeof,w){case c:case l:case f:case v:case m:case s:return w;default:return O}}case e:return O}}}return Wt.ContextConsumer=l,Wt.ContextProvider=s,Wt.Element=t,Wt.ForwardRef=f,Wt.Fragment=n,Wt.Lazy=v,Wt.Memo=m,Wt.Portal=e,Wt.Profiler=i,Wt.StrictMode=r,Wt.Suspense=h,Wt.SuspenseList=p,Wt.isAsyncMode=function(){return!1},Wt.isConcurrentMode=function(){return!1},Wt.isContextConsumer=function(w){return S(w)===l},Wt.isContextProvider=function(w){return S(w)===s},Wt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===t},Wt.isForwardRef=function(w){return S(w)===f},Wt.isFragment=function(w){return S(w)===n},Wt.isLazy=function(w){return S(w)===v},Wt.isMemo=function(w){return S(w)===m},Wt.isPortal=function(w){return S(w)===e},Wt.isProfiler=function(w){return S(w)===i},Wt.isStrictMode=function(w){return S(w)===r},Wt.isSuspense=function(w){return S(w)===h},Wt.isSuspenseList=function(w){return S(w)===p},Wt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===i||w===r||w===h||w===p||w===_||typeof w=="object"&&w!==null&&(w.$$typeof===v||w.$$typeof===m||w.$$typeof===s||w.$$typeof===l||w.$$typeof===f||w.$$typeof===T||w.getModuleId!==void 0)},Wt.typeOf=S,Wt}var Qk;function WK(){return Qk||(Qk=1,Ix.exports=KK()),Ix.exports}var YK=WK(),Px,Jk;function V5(){if(Jk)return Px;Jk=1;var t=ws(),e=Ss(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return Px=r,Px}var kx,Zk;function XK(){if(Zk)return kx;Zk=1;var t=V5();function e(n){return t(n)&&n!=+n}return kx=e,kx}var QK=XK();const Dd=Gt(QK);var JK=V5();const ZK=Gt(JK);var Mr=function(e){return e===0?0:e>0?1:-1},wl=function(e){return Dl(e)&&e.indexOf("%")===e.length-1},Ce=function(e){return ZK(e)&&!Dd(e)},eW=function(e){return ct(e)},Jn=function(e){return Ce(e)||Dl(e)},tW=0,Zc=function(e){var n=++tW;return"".concat(e||"").concat(n)},Dr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ce(e)&&!Dl(e))return r;var s;if(wl(e)){var l=e.indexOf("%");s=n*parseFloat(e.slice(0,l))/100}else s=+e;return Dd(s)&&(s=r),i&&s>n&&(s=n),s},uo=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},nW=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},ci=function(e,n){return Ce(e)&&Ce(n)?function(r){return e+r*(n-e)}:function(){return n}};function og(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):di(r,e))===n})}var rW=function(e,n){return Ce(e)&&Ce(n)?e-n:Dl(e)&&Dl(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function sc(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function dS(t){"@babel/helpers - typeof";return dS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dS(t)}var iW=["viewBox","children"],aW=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],eR=["points","pathLength"],Rx={svg:iW,polygon:eR,polyline:eR},DE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],lg=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(U.isValidElement(e)&&(r=e.props),!Jc(r))return null;var i={};return Object.keys(r).forEach(function(s){DE.includes(s)&&(i[s]=n||function(l){return r[s](r,l)})}),i},sW=function(e,n,r){return function(i){return e(n,r,i),null}},Ll=function(e,n,r){if(!Jc(e)||dS(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var l=e[s];DE.includes(s)&&typeof l=="function"&&(i||(i={}),i[s]=sW(l,n,r))}),i},oW=["children"],lW=["children"];function tR(t,e){if(t==null)return{};var n=uW(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pS(t){"@babel/helpers - typeof";return pS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pS(t)}var nR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},fs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},rR=null,Nx=null,LE=function t(e){if(e===rR&&Array.isArray(Nx))return Nx;var n=[];return U.Children.forEach(e,function(r){ct(r)||(YK.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Nx=n,rR=e,n};function pi(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return fs(i)}):r=[fs(e)],LE(t).forEach(function(i){var s=di(i,"type.displayName")||di(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function ui(t,e){var n=pi(t,e);return n&&n[0]}var iR=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Ce(r)||r<=0||!Ce(i)||i<=0)},cW=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],fW=function(e){return e&&e.type&&Dl(e.type)&&cW.indexOf(e.type)>=0},hW=function(e){return e&&pS(e)==="object"&&"clipDot"in e},dW=function(e,n,r,i){var s,l=(s=Rx==null?void 0:Rx[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!rt(e)&&(i&&l.includes(n)||aW.includes(n))||r&&DE.includes(n)},Je=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(U.isValidElement(e)&&(i=e.props),!Jc(i))return null;var s={};return Object.keys(i).forEach(function(l){var c;dW((c=i)===null||c===void 0?void 0:c[l],l,n,r)&&(s[l]=i[l])}),s},mS=function t(e,n){if(e===n)return!0;var r=U.Children.count(e);if(r!==U.Children.count(n))return!1;if(r===0)return!0;if(r===1)return aR(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],l=n[i];if(Array.isArray(s)||Array.isArray(l)){if(!t(s,l))return!1}else if(!aR(s,l))return!1}return!0},aR=function(e,n){if(ct(e)&&ct(n))return!0;if(!ct(e)&&!ct(n)){var r=e.props||{},i=r.children,s=tR(r,oW),l=n.props||{},c=l.children,f=tR(l,lW);return i&&c?sc(s,f)&&mS(i,c):!i&&!c?sc(s,f):!1}return!1},sR=function(e,n){var r=[],i={};return LE(e).forEach(function(s,l){if(fW(s))r.push(s);else if(s){var c=fs(s.type),f=n[c]||{},h=f.handler,p=f.once;if(h&&(!p||!i[c])){var m=h(s,c,l);r.push(m),i[c]=!0}}}),r},pW=function(e){var n=e&&e.type;return n&&nR[n]?nR[n]:null},mW=function(e,n){return LE(n).indexOf(e)},gW=["children","width","height","viewBox","className","style","title","desc"];function gS(){return gS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gS.apply(this,arguments)}function yW(t,e){if(t==null)return{};var n=vW(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yS(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,l=t.style,c=t.title,f=t.desc,h=yW(t,gW),p=i||{width:n,height:r,x:0,y:0},m=bt("recharts-surface",s);return G.createElement("svg",gS({},Je(h,!0,"svg"),{className:m,width:n,height:r,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),G.createElement("title",null,c),G.createElement("desc",null,f),e)}var bW=["children","className"];function vS(){return vS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vS.apply(this,arguments)}function xW(t,e){if(t==null)return{};var n=_W(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _W(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var qt=G.forwardRef(function(t,e){var n=t.children,r=t.className,i=xW(t,bW),s=bt("recharts-layer",r);return G.createElement("g",vS({className:s},Je(i,!0),{ref:e}),n)}),na=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]},jx,oR;function wW(){if(oR)return jx;oR=1;function t(e,n,r){var i=-1,s=e.length;n<0&&(n=-n>s?0:s+n),r=r>s?s:r,r<0&&(r+=s),s=n>r?0:r-n>>>0,n>>>=0;for(var l=Array(s);++i<s;)l[i]=e[i+n];return l}return jx=t,jx}var Mx,lR;function SW(){if(lR)return Mx;lR=1;var t=wW();function e(n,r,i){var s=n.length;return i=i===void 0?s:i,!r&&i>=s?n:t(n,r,i)}return Mx=e,Mx}var Dx,uR;function $5(){if(uR)return Dx;uR=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",l="\\u200d",c=RegExp("["+l+t+i+s+"]");function f(h){return c.test(h)}return Dx=f,Dx}var Lx,cR;function TW(){if(cR)return Lx;cR=1;function t(e){return e.split("")}return Lx=t,Lx}var Vx,fR;function EW(){if(fR)return Vx;fR=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",l="["+t+"]",c="["+i+"]",f="\\ud83c[\\udffb-\\udfff]",h="(?:"+c+"|"+f+")",p="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",_="\\u200d",T=h+"?",S="["+s+"]?",w="(?:"+_+"(?:"+[p,m,v].join("|")+")"+S+T+")*",O=S+T+w,C="(?:"+[p+c+"?",c,m,v,l].join("|")+")",R=RegExp(f+"(?="+f+")|"+C+O,"g");function V(I){return I.match(R)||[]}return Vx=V,Vx}var $x,hR;function AW(){if(hR)return $x;hR=1;var t=TW(),e=$5(),n=EW();function r(i){return e(i)?n(i):t(i)}return $x=r,$x}var Ux,dR;function OW(){if(dR)return Ux;dR=1;var t=SW(),e=$5(),n=AW(),r=M5();function i(s){return function(l){l=r(l);var c=e(l)?n(l):void 0,f=c?c[0]:l.charAt(0),h=c?t(c,1).join(""):l.slice(1);return f[s]()+h}}return Ux=i,Ux}var Bx,pR;function CW(){if(pR)return Bx;pR=1;var t=OW(),e=t("toUpperCase");return Bx=e,Bx}var IW=CW();const Dy=Gt(IW);function cn(t){return function(){return t}}const U5=Math.cos,ug=Math.sin,ia=Math.sqrt,cg=Math.PI,Ly=2*cg,bS=Math.PI,xS=2*bS,pl=1e-6,PW=xS-pl;function B5(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function kW(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return B5;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class RW{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?B5:kW(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,c=this._y1,f=r-e,h=i-n,p=l-e,m=c-n,v=p*p+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>pl)if(!(Math.abs(m*f-h*p)>pl)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-l,T=i-c,S=f*f+h*h,w=_*_+T*T,O=Math.sqrt(S),C=Math.sqrt(v),R=s*Math.tan((bS-Math.acos((S+v-w)/(2*O*C)))/2),V=R/C,I=R/O;Math.abs(V-1)>pl&&this._append`L${e+V*p},${n+V*m}`,this._append`A${s},${s},0,0,${+(m*_>p*T)},${this._x1=e+I*f},${this._y1=n+I*h}`}}arc(e,n,r,i,s,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),f=r*Math.sin(i),h=e+c,p=n+f,m=1^l,v=l?i-s:s-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>pl||Math.abs(this._y1-p)>pl)&&this._append`L${h},${p}`,r&&(v<0&&(v=v%xS+xS),v>PW?this._append`A${r},${r},0,1,${m},${e-c},${n-f}A${r},${r},0,1,${m},${this._x1=h},${this._y1=p}`:v>pl&&this._append`A${r},${r},0,${+(v>=bS)},${m},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function VE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new RW(e)}function $E(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function q5(t){this._context=t}q5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Vy(t){return new q5(t)}function z5(t){return t[0]}function F5(t){return t[1]}function H5(t,e){var n=cn(!0),r=null,i=Vy,s=null,l=VE(c);t=typeof t=="function"?t:t===void 0?z5:cn(t),e=typeof e=="function"?e:e===void 0?F5:cn(e);function c(f){var h,p=(f=$E(f)).length,m,v=!1,_;for(r==null&&(s=i(_=l())),h=0;h<=p;++h)!(h<p&&n(m=f[h],h,f))===v&&((v=!v)?s.lineStart():s.lineEnd()),v&&s.point(+t(m,h,f),+e(m,h,f));if(_)return s=null,_+""||null}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:cn(+f),c):t},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:cn(+f),c):e},c.defined=function(f){return arguments.length?(n=typeof f=="function"?f:cn(!!f),c):n},c.curve=function(f){return arguments.length?(i=f,r!=null&&(s=i(r)),c):i},c.context=function(f){return arguments.length?(f==null?r=s=null:s=i(r=f),c):r},c}function pm(t,e,n){var r=null,i=cn(!0),s=null,l=Vy,c=null,f=VE(h);t=typeof t=="function"?t:t===void 0?z5:cn(+t),e=typeof e=="function"?e:cn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?F5:cn(+n);function h(m){var v,_,T,S=(m=$E(m)).length,w,O=!1,C,R=new Array(S),V=new Array(S);for(s==null&&(c=l(C=f())),v=0;v<=S;++v){if(!(v<S&&i(w=m[v],v,m))===O)if(O=!O)_=v,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),T=v-1;T>=_;--T)c.point(R[T],V[T]);c.lineEnd(),c.areaEnd()}O&&(R[v]=+t(w,v,m),V[v]=+e(w,v,m),c.point(r?+r(w,v,m):R[v],n?+n(w,v,m):V[v]))}if(C)return c=null,C+""||null}function p(){return H5().defined(i).curve(l).context(s)}return h.x=function(m){return arguments.length?(t=typeof m=="function"?m:cn(+m),r=null,h):t},h.x0=function(m){return arguments.length?(t=typeof m=="function"?m:cn(+m),h):t},h.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:cn(+m),h):r},h.y=function(m){return arguments.length?(e=typeof m=="function"?m:cn(+m),n=null,h):e},h.y0=function(m){return arguments.length?(e=typeof m=="function"?m:cn(+m),h):e},h.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:cn(+m),h):n},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(n)},h.lineX1=function(){return p().x(r).y(e)},h.defined=function(m){return arguments.length?(i=typeof m=="function"?m:cn(!!m),h):i},h.curve=function(m){return arguments.length?(l=m,s!=null&&(c=l(s)),h):l},h.context=function(m){return arguments.length?(m==null?s=c=null:c=l(s=m),h):s},h}class G5{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function NW(t){return new G5(t,!0)}function jW(t){return new G5(t,!1)}const UE={draw(t,e){const n=ia(e/cg);t.moveTo(n,0),t.arc(0,0,n,0,Ly)}},MW={draw(t,e){const n=ia(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},K5=ia(1/3),DW=K5*2,LW={draw(t,e){const n=ia(e/DW),r=n*K5;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},VW={draw(t,e){const n=ia(e),r=-n/2;t.rect(r,r,n,n)}},$W=.8908130915292852,W5=ug(cg/10)/ug(7*cg/10),UW=ug(Ly/10)*W5,BW=-U5(Ly/10)*W5,qW={draw(t,e){const n=ia(e*$W),r=UW*n,i=BW*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const l=Ly*s/5,c=U5(l),f=ug(l);t.lineTo(f*n,-c*n),t.lineTo(c*r-f*i,f*r+c*i)}t.closePath()}},qx=ia(3),zW={draw(t,e){const n=-ia(e/(qx*3));t.moveTo(0,n*2),t.lineTo(-qx*n,-n),t.lineTo(qx*n,-n),t.closePath()}},Ii=-.5,Pi=ia(3)/2,_S=1/ia(12),FW=(_S/2+1)*3,HW={draw(t,e){const n=ia(e/FW),r=n/2,i=n*_S,s=r,l=n*_S+n,c=-s,f=l;t.moveTo(r,i),t.lineTo(s,l),t.lineTo(c,f),t.lineTo(Ii*r-Pi*i,Pi*r+Ii*i),t.lineTo(Ii*s-Pi*l,Pi*s+Ii*l),t.lineTo(Ii*c-Pi*f,Pi*c+Ii*f),t.lineTo(Ii*r+Pi*i,Ii*i-Pi*r),t.lineTo(Ii*s+Pi*l,Ii*l-Pi*s),t.lineTo(Ii*c+Pi*f,Ii*f-Pi*c),t.closePath()}};function GW(t,e){let n=null,r=VE(i);t=typeof t=="function"?t:cn(t||UE),e=typeof e=="function"?e:cn(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:cn(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:cn(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function fg(){}function hg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Y5(t){this._context=t}Y5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:hg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:hg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function KW(t){return new Y5(t)}function X5(t){this._context=t}X5.prototype={areaStart:fg,areaEnd:fg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:hg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function WW(t){return new X5(t)}function Q5(t){this._context=t}Q5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:hg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function YW(t){return new Q5(t)}function J5(t){this._context=t}J5.prototype={areaStart:fg,areaEnd:fg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function XW(t){return new J5(t)}function mR(t){return t<0?-1:1}function gR(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),c=(s*i+l*r)/(r+i);return(mR(s)+mR(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(c))||0}function yR(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function zx(t,e,n){var r=t._x0,i=t._y0,s=t._x1,l=t._y1,c=(s-r)/3;t._context.bezierCurveTo(r+c,i+c*e,s-c,l-c*n,s,l)}function dg(t){this._context=t}dg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:zx(this,this._t0,yR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,zx(this,yR(this,n=gR(this,t,e)),n);break;default:zx(this,this._t0,n=gR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Z5(t){this._context=new e6(t)}(Z5.prototype=Object.create(dg.prototype)).point=function(t,e){dg.prototype.point.call(this,e,t)};function e6(t){this._context=t}e6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function QW(t){return new dg(t)}function JW(t){return new Z5(t)}function t6(t){this._context=t}t6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=vR(t),i=vR(e),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function vR(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),l=new Array(n);for(i[0]=0,s[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function ZW(t){return new t6(t)}function $y(t,e){this._context=t,this._t=e}$y.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function eY(t){return new $y(t,.5)}function tY(t){return new $y(t,0)}function nY(t){return new $y(t,1)}function vc(t,e){if((l=t.length)>1)for(var n=1,r,i,s=t[e[0]],l,c=s.length;n<l;++n)for(i=s,s=t[e[n]],r=0;r<c;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function wS(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function rY(t,e){return t[e]}function iY(t){const e=[];return e.key=t,e}function aY(){var t=cn([]),e=wS,n=vc,r=rY;function i(s){var l=Array.from(t.apply(this,arguments),iY),c,f=l.length,h=-1,p;for(const m of s)for(c=0,++h;c<f;++c)(l[c][h]=[0,+r(m,l[c].key,h,s)]).data=m;for(c=0,p=$E(e(l));c<f;++c)l[p[c]].index=c;return n(l,p),l}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:cn(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:cn(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?wS:typeof s=="function"?s:cn(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??vc,i):n},i}function sY(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,l;i<s;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}vc(t,e)}}function oY(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var l=0,c=0;l<i;++l)c+=t[l][n][1]||0;r[n][1]+=r[n][0]=-c/2}vc(t,e)}}function lY(t,e){if(!(!((l=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,l;r<s;++r){for(var c=0,f=0,h=0;c<l;++c){for(var p=t[e[c]],m=p[r][1]||0,v=p[r-1][1]||0,_=(m-v)/2,T=0;T<c;++T){var S=t[e[T]],w=S[r][1]||0,O=S[r-1][1]||0;_+=w-O}f+=m,h+=_*m}i[r-1][1]+=i[r-1][0]=n,f&&(n-=h/f)}i[r-1][1]+=i[r-1][0]=n,vc(t,e)}}function qh(t){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qh(t)}var uY=["type","size","sizeType"];function SS(){return SS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SS.apply(this,arguments)}function bR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bR(Object(n),!0).forEach(function(r){cY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cY(t,e,n){return e=fY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fY(t){var e=hY(t,"string");return qh(e)=="symbol"?e:e+""}function hY(t,e){if(qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dY(t,e){if(t==null)return{};var n=pY(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var n6={symbolCircle:UE,symbolCross:MW,symbolDiamond:LW,symbolSquare:VW,symbolStar:qW,symbolTriangle:zW,symbolWye:HW},mY=Math.PI/180,gY=function(e){var n="symbol".concat(Dy(e));return n6[n]||UE},yY=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*mY;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},vY=function(e,n){n6["symbol".concat(Dy(e))]=n},BE=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,l=e.sizeType,c=l===void 0?"area":l,f=dY(e,uY),h=xR(xR({},f),{},{type:r,size:s,sizeType:c}),p=function(){var w=gY(r),O=GW().type(w).size(yY(s,c,r));return O()},m=h.className,v=h.cx,_=h.cy,T=Je(h,!0);return v===+v&&_===+_&&s===+s?G.createElement("path",SS({},T,{className:bt("recharts-symbols",m),transform:"translate(".concat(v,", ").concat(_,")"),d:p()})):null};BE.registerSymbol=vY;function bc(t){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(t)}function TS(){return TS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TS.apply(this,arguments)}function _R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_R(Object(n),!0).forEach(function(r){zh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _Y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i6(r.key),r)}}function wY(t,e,n){return e&&_Y(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SY(t,e,n){return e=pg(e),TY(t,r6()?Reflect.construct(e,n||[],pg(t).constructor):e.apply(t,n))}function TY(t,e){if(e&&(bc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EY(t)}function EY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r6=function(){return!!t})()}function pg(t){return pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pg(t)}function AY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ES(t,e)}function ES(t,e){return ES=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ES(t,e)}function zh(t,e,n){return e=i6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i6(t){var e=OY(t,"string");return bc(e)=="symbol"?e:e+""}function OY(t,e){if(bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ki=32,qE=(function(t){function e(){return xY(this,e),SY(this,e,arguments)}return AY(e,t),wY(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=ki/2,l=ki/6,c=ki/3,f=r.inactive?i:r.color;if(r.type==="plainline")return G.createElement("line",{strokeWidth:4,fill:"none",stroke:f,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:ki,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return G.createElement("path",{strokeWidth:4,fill:"none",stroke:f,d:"M0,".concat(s,"h").concat(c,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*c,",").concat(s,`
            H`).concat(ki,"M").concat(2*c,",").concat(s,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(c,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return G.createElement("path",{stroke:"none",fill:f,d:"M0,".concat(ki/8,"h").concat(ki,"v").concat(ki*3/4,"h").concat(-ki,"z"),className:"recharts-legend-icon"});if(G.isValidElement(r.legendIcon)){var h=bY({},r);return delete h.legendIcon,G.cloneElement(r.legendIcon,h)}return G.createElement(BE,{fill:f,cx:s,cy:s,size:ki,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,l=i.iconSize,c=i.layout,f=i.formatter,h=i.inactiveColor,p={x:0,y:0,width:ki,height:ki},m={display:c==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(_,T){var S=_.formatter||f,w=bt(zh(zh({"recharts-legend-item":!0},"legend-item-".concat(T),!0),"inactive",_.inactive));if(_.type==="none")return null;var O=rt(_.value)?null:_.value;na(!rt(_.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var C=_.inactive?h:_.color;return G.createElement("li",TS({className:w,style:m,key:"legend-item-".concat(T)},Ll(r.props,_,T)),G.createElement(yS,{width:l,height:l,viewBox:p,style:v},r.renderIcon(_)),G.createElement("span",{className:"recharts-legend-item-text",style:{color:C}},S?S(O,_,T):O))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,l=r.align;if(!i||!i.length)return null;var c={padding:0,margin:0,textAlign:s==="horizontal"?l:"left"};return G.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])})(U.PureComponent);zh(qE,"displayName","Legend");zh(qE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Fx,wR;function CY(){if(wR)return Fx;wR=1;var t=Ny();function e(){this.__data__=new t,this.size=0}return Fx=e,Fx}var Hx,SR;function IY(){if(SR)return Hx;SR=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return Hx=t,Hx}var Gx,TR;function PY(){if(TR)return Gx;TR=1;function t(e){return this.__data__.get(e)}return Gx=t,Gx}var Kx,ER;function kY(){if(ER)return Kx;ER=1;function t(e){return this.__data__.has(e)}return Kx=t,Kx}var Wx,AR;function RY(){if(AR)return Wx;AR=1;var t=Ny(),e=RE(),n=NE(),r=200;function i(s,l){var c=this.__data__;if(c instanceof t){var f=c.__data__;if(!e||f.length<r-1)return f.push([s,l]),this.size=++c.size,this;c=this.__data__=new n(f)}return c.set(s,l),this.size=c.size,this}return Wx=i,Wx}var Yx,OR;function a6(){if(OR)return Yx;OR=1;var t=Ny(),e=CY(),n=IY(),r=PY(),i=kY(),s=RY();function l(c){var f=this.__data__=new t(c);this.size=f.size}return l.prototype.clear=e,l.prototype.delete=n,l.prototype.get=r,l.prototype.has=i,l.prototype.set=s,Yx=l,Yx}var Xx,CR;function NY(){if(CR)return Xx;CR=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return Xx=e,Xx}var Qx,IR;function jY(){if(IR)return Qx;IR=1;function t(e){return this.__data__.has(e)}return Qx=t,Qx}var Jx,PR;function s6(){if(PR)return Jx;PR=1;var t=NE(),e=NY(),n=jY();function r(i){var s=-1,l=i==null?0:i.length;for(this.__data__=new t;++s<l;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,Jx=r,Jx}var Zx,kR;function o6(){if(kR)return Zx;kR=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return Zx=t,Zx}var e_,RR;function l6(){if(RR)return e_;RR=1;function t(e,n){return e.has(n)}return e_=t,e_}var t_,NR;function u6(){if(NR)return t_;NR=1;var t=s6(),e=o6(),n=l6(),r=1,i=2;function s(l,c,f,h,p,m){var v=f&r,_=l.length,T=c.length;if(_!=T&&!(v&&T>_))return!1;var S=m.get(l),w=m.get(c);if(S&&w)return S==c&&w==l;var O=-1,C=!0,R=f&i?new t:void 0;for(m.set(l,c),m.set(c,l);++O<_;){var V=l[O],I=c[O];if(h)var j=v?h(I,V,O,c,l,m):h(V,I,O,l,c,m);if(j!==void 0){if(j)continue;C=!1;break}if(R){if(!e(c,function(A,P){if(!n(R,P)&&(V===A||p(V,A,f,h,m)))return R.push(P)})){C=!1;break}}else if(!(V===I||p(V,I,f,h,m))){C=!1;break}}return m.delete(l),m.delete(c),C}return t_=s,t_}var n_,jR;function MY(){if(jR)return n_;jR=1;var t=Na(),e=t.Uint8Array;return n_=e,n_}var r_,MR;function DY(){if(MR)return r_;MR=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,s){r[++n]=[s,i]}),r}return r_=t,r_}var i_,DR;function zE(){if(DR)return i_;DR=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return i_=t,i_}var a_,LR;function LY(){if(LR)return a_;LR=1;var t=Md(),e=MY(),n=kE(),r=u6(),i=DY(),s=zE(),l=1,c=2,f="[object Boolean]",h="[object Date]",p="[object Error]",m="[object Map]",v="[object Number]",_="[object RegExp]",T="[object Set]",S="[object String]",w="[object Symbol]",O="[object ArrayBuffer]",C="[object DataView]",R=t?t.prototype:void 0,V=R?R.valueOf:void 0;function I(j,A,P,N,B,D,$){switch(P){case C:if(j.byteLength!=A.byteLength||j.byteOffset!=A.byteOffset)return!1;j=j.buffer,A=A.buffer;case O:return!(j.byteLength!=A.byteLength||!D(new e(j),new e(A)));case f:case h:case v:return n(+j,+A);case p:return j.name==A.name&&j.message==A.message;case _:case S:return j==A+"";case m:var L=i;case T:var Q=N&l;if(L||(L=s),j.size!=A.size&&!Q)return!1;var J=$.get(j);if(J)return J==A;N|=c,$.set(j,A);var F=r(L(j),L(A),N,B,D,$);return $.delete(j),F;case w:if(V)return V.call(j)==V.call(A)}return!1}return a_=I,a_}var s_,VR;function c6(){if(VR)return s_;VR=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return s_=t,s_}var o_,$R;function VY(){if($R)return o_;$R=1;var t=c6(),e=Yr();function n(r,i,s){var l=i(r);return e(r)?l:t(l,s(r))}return o_=n,o_}var l_,UR;function $Y(){if(UR)return l_;UR=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,l=[];++r<i;){var c=e[r];n(c,r,e)&&(l[s++]=c)}return l}return l_=t,l_}var u_,BR;function UY(){if(BR)return u_;BR=1;function t(){return[]}return u_=t,u_}var c_,qR;function BY(){if(qR)return c_;qR=1;var t=$Y(),e=UY(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(l){return l==null?[]:(l=Object(l),t(i(l),function(c){return r.call(l,c)}))}:e;return c_=s,c_}var f_,zR;function qY(){if(zR)return f_;zR=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return f_=t,f_}var h_,FR;function zY(){if(FR)return h_;FR=1;var t=ws(),e=Ss(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return h_=r,h_}var d_,HR;function FE(){if(HR)return d_;HR=1;var t=zY(),e=Ss(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(l){return e(l)&&r.call(l,"callee")&&!i.call(l,"callee")};return d_=s,d_}var yh={exports:{}},p_,GR;function FY(){if(GR)return p_;GR=1;function t(){return!1}return p_=t,p_}yh.exports;var KR;function f6(){return KR||(KR=1,(function(t,e){var n=Na(),r=FY(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,l=s&&s.exports===i,c=l?n.Buffer:void 0,f=c?c.isBuffer:void 0,h=f||r;t.exports=h})(yh,yh.exports)),yh.exports}var m_,WR;function HE(){if(WR)return m_;WR=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return m_=n,m_}var g_,YR;function GE(){if(YR)return g_;YR=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return g_=e,g_}var y_,XR;function HY(){if(XR)return y_;XR=1;var t=ws(),e=GE(),n=Ss(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Function]",h="[object Map]",p="[object Number]",m="[object Object]",v="[object RegExp]",_="[object Set]",T="[object String]",S="[object WeakMap]",w="[object ArrayBuffer]",O="[object DataView]",C="[object Float32Array]",R="[object Float64Array]",V="[object Int8Array]",I="[object Int16Array]",j="[object Int32Array]",A="[object Uint8Array]",P="[object Uint8ClampedArray]",N="[object Uint16Array]",B="[object Uint32Array]",D={};D[C]=D[R]=D[V]=D[I]=D[j]=D[A]=D[P]=D[N]=D[B]=!0,D[r]=D[i]=D[w]=D[s]=D[O]=D[l]=D[c]=D[f]=D[h]=D[p]=D[m]=D[v]=D[_]=D[T]=D[S]=!1;function $(L){return n(L)&&e(L.length)&&!!D[t(L)]}return y_=$,y_}var v_,QR;function h6(){if(QR)return v_;QR=1;function t(e){return function(n){return e(n)}}return v_=t,v_}var vh={exports:{}};vh.exports;var JR;function GY(){return JR||(JR=1,(function(t,e){var n=R5(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,l=s&&n.process,c=(function(){try{var f=i&&i.require&&i.require("util").types;return f||l&&l.binding&&l.binding("util")}catch{}})();t.exports=c})(vh,vh.exports)),vh.exports}var b_,ZR;function d6(){if(ZR)return b_;ZR=1;var t=HY(),e=h6(),n=GY(),r=n&&n.isTypedArray,i=r?e(r):t;return b_=i,b_}var x_,eN;function KY(){if(eN)return x_;eN=1;var t=qY(),e=FE(),n=Yr(),r=f6(),i=HE(),s=d6(),l=Object.prototype,c=l.hasOwnProperty;function f(h,p){var m=n(h),v=!m&&e(h),_=!m&&!v&&r(h),T=!m&&!v&&!_&&s(h),S=m||v||_||T,w=S?t(h.length,String):[],O=w.length;for(var C in h)(p||c.call(h,C))&&!(S&&(C=="length"||_&&(C=="offset"||C=="parent")||T&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||i(C,O)))&&w.push(C);return w}return x_=f,x_}var __,tN;function WY(){if(tN)return __;tN=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return __=e,__}var w_,nN;function p6(){if(nN)return w_;nN=1;function t(e,n){return function(r){return e(n(r))}}return w_=t,w_}var S_,rN;function YY(){if(rN)return S_;rN=1;var t=p6(),e=t(Object.keys,Object);return S_=e,S_}var T_,iN;function XY(){if(iN)return T_;iN=1;var t=WY(),e=YY(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var l=[];for(var c in Object(s))r.call(s,c)&&c!="constructor"&&l.push(c);return l}return T_=i,T_}var E_,aN;function Ld(){if(aN)return E_;aN=1;var t=PE(),e=GE();function n(r){return r!=null&&e(r.length)&&!t(r)}return E_=n,E_}var A_,sN;function Uy(){if(sN)return A_;sN=1;var t=KY(),e=XY(),n=Ld();function r(i){return n(i)?t(i):e(i)}return A_=r,A_}var O_,oN;function QY(){if(oN)return O_;oN=1;var t=VY(),e=BY(),n=Uy();function r(i){return t(i,n,e)}return O_=r,O_}var C_,lN;function JY(){if(lN)return C_;lN=1;var t=QY(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,l,c,f,h,p){var m=c&e,v=t(s),_=v.length,T=t(l),S=T.length;if(_!=S&&!m)return!1;for(var w=_;w--;){var O=v[w];if(!(m?O in l:r.call(l,O)))return!1}var C=p.get(s),R=p.get(l);if(C&&R)return C==l&&R==s;var V=!0;p.set(s,l),p.set(l,s);for(var I=m;++w<_;){O=v[w];var j=s[O],A=l[O];if(f)var P=m?f(A,j,O,l,s,p):f(j,A,O,s,l,p);if(!(P===void 0?j===A||h(j,A,c,f,p):P)){V=!1;break}I||(I=O=="constructor")}if(V&&!I){var N=s.constructor,B=l.constructor;N!=B&&"constructor"in s&&"constructor"in l&&!(typeof N=="function"&&N instanceof N&&typeof B=="function"&&B instanceof B)&&(V=!1)}return p.delete(s),p.delete(l),V}return C_=i,C_}var I_,uN;function ZY(){if(uN)return I_;uN=1;var t=Hl(),e=Na(),n=t(e,"DataView");return I_=n,I_}var P_,cN;function eX(){if(cN)return P_;cN=1;var t=Hl(),e=Na(),n=t(e,"Promise");return P_=n,P_}var k_,fN;function m6(){if(fN)return k_;fN=1;var t=Hl(),e=Na(),n=t(e,"Set");return k_=n,k_}var R_,hN;function tX(){if(hN)return R_;hN=1;var t=Hl(),e=Na(),n=t(e,"WeakMap");return R_=n,R_}var N_,dN;function nX(){if(dN)return N_;dN=1;var t=ZY(),e=RE(),n=eX(),r=m6(),i=tX(),s=ws(),l=N5(),c="[object Map]",f="[object Object]",h="[object Promise]",p="[object Set]",m="[object WeakMap]",v="[object DataView]",_=l(t),T=l(e),S=l(n),w=l(r),O=l(i),C=s;return(t&&C(new t(new ArrayBuffer(1)))!=v||e&&C(new e)!=c||n&&C(n.resolve())!=h||r&&C(new r)!=p||i&&C(new i)!=m)&&(C=function(R){var V=s(R),I=V==f?R.constructor:void 0,j=I?l(I):"";if(j)switch(j){case _:return v;case T:return c;case S:return h;case w:return p;case O:return m}return V}),N_=C,N_}var j_,pN;function rX(){if(pN)return j_;pN=1;var t=a6(),e=u6(),n=LY(),r=JY(),i=nX(),s=Yr(),l=f6(),c=d6(),f=1,h="[object Arguments]",p="[object Array]",m="[object Object]",v=Object.prototype,_=v.hasOwnProperty;function T(S,w,O,C,R,V){var I=s(S),j=s(w),A=I?p:i(S),P=j?p:i(w);A=A==h?m:A,P=P==h?m:P;var N=A==m,B=P==m,D=A==P;if(D&&l(S)){if(!l(w))return!1;I=!0,N=!1}if(D&&!N)return V||(V=new t),I||c(S)?e(S,w,O,C,R,V):n(S,w,A,O,C,R,V);if(!(O&f)){var $=N&&_.call(S,"__wrapped__"),L=B&&_.call(w,"__wrapped__");if($||L){var Q=$?S.value():S,J=L?w.value():w;return V||(V=new t),R(Q,J,O,C,V)}}return D?(V||(V=new t),r(S,w,O,C,R,V)):!1}return j_=T,j_}var M_,mN;function KE(){if(mN)return M_;mN=1;var t=rX(),e=Ss();function n(r,i,s,l,c){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,s,l,n,c)}return M_=n,M_}var D_,gN;function iX(){if(gN)return D_;gN=1;var t=a6(),e=KE(),n=1,r=2;function i(s,l,c,f){var h=c.length,p=h,m=!f;if(s==null)return!p;for(s=Object(s);h--;){var v=c[h];if(m&&v[2]?v[1]!==s[v[0]]:!(v[0]in s))return!1}for(;++h<p;){v=c[h];var _=v[0],T=s[_],S=v[1];if(m&&v[2]){if(T===void 0&&!(_ in s))return!1}else{var w=new t;if(f)var O=f(T,S,_,s,l,w);if(!(O===void 0?e(S,T,n|r,f,w):O))return!1}}return!0}return D_=i,D_}var L_,yN;function g6(){if(yN)return L_;yN=1;var t=Io();function e(n){return n===n&&!t(n)}return L_=e,L_}var V_,vN;function aX(){if(vN)return V_;vN=1;var t=g6(),e=Uy();function n(r){for(var i=e(r),s=i.length;s--;){var l=i[s],c=r[l];i[s]=[l,c,t(c)]}return i}return V_=n,V_}var $_,bN;function y6(){if(bN)return $_;bN=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return $_=t,$_}var U_,xN;function sX(){if(xN)return U_;xN=1;var t=iX(),e=aX(),n=y6();function r(i){var s=e(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(l){return l===i||t(l,i,s)}}return U_=r,U_}var B_,_N;function oX(){if(_N)return B_;_N=1;function t(e,n){return e!=null&&n in Object(e)}return B_=t,B_}var q_,wN;function lX(){if(wN)return q_;wN=1;var t=D5(),e=FE(),n=Yr(),r=HE(),i=GE(),s=My();function l(c,f,h){f=t(f,c);for(var p=-1,m=f.length,v=!1;++p<m;){var _=s(f[p]);if(!(v=c!=null&&h(c,_)))break;c=c[_]}return v||++p!=m?v:(m=c==null?0:c.length,!!m&&i(m)&&r(_,m)&&(n(c)||e(c)))}return q_=l,q_}var z_,SN;function uX(){if(SN)return z_;SN=1;var t=oX(),e=lX();function n(r,i){return r!=null&&e(r,i,t)}return z_=n,z_}var F_,TN;function cX(){if(TN)return F_;TN=1;var t=KE(),e=L5(),n=uX(),r=IE(),i=g6(),s=y6(),l=My(),c=1,f=2;function h(p,m){return r(p)&&i(m)?s(l(p),m):function(v){var _=e(v,p);return _===void 0&&_===m?n(v,p):t(m,_,c|f)}}return F_=h,F_}var H_,EN;function ef(){if(EN)return H_;EN=1;function t(e){return e}return H_=t,H_}var G_,AN;function fX(){if(AN)return G_;AN=1;function t(e){return function(n){return n==null?void 0:n[e]}}return G_=t,G_}var K_,ON;function hX(){if(ON)return K_;ON=1;var t=ME();function e(n){return function(r){return t(r,n)}}return K_=e,K_}var W_,CN;function dX(){if(CN)return W_;CN=1;var t=fX(),e=hX(),n=IE(),r=My();function i(s){return n(s)?t(r(s)):e(s)}return W_=i,W_}var Y_,IN;function ja(){if(IN)return Y_;IN=1;var t=sX(),e=cX(),n=ef(),r=Yr(),i=dX();function s(l){return typeof l=="function"?l:l==null?n:typeof l=="object"?r(l)?e(l[0],l[1]):t(l):i(l)}return Y_=s,Y_}var X_,PN;function v6(){if(PN)return X_;PN=1;function t(e,n,r,i){for(var s=e.length,l=r+(i?1:-1);i?l--:++l<s;)if(n(e[l],l,e))return l;return-1}return X_=t,X_}var Q_,kN;function pX(){if(kN)return Q_;kN=1;function t(e){return e!==e}return Q_=t,Q_}var J_,RN;function mX(){if(RN)return J_;RN=1;function t(e,n,r){for(var i=r-1,s=e.length;++i<s;)if(e[i]===n)return i;return-1}return J_=t,J_}var Z_,NN;function gX(){if(NN)return Z_;NN=1;var t=v6(),e=pX(),n=mX();function r(i,s,l){return s===s?n(i,s,l):t(i,e,l)}return Z_=r,Z_}var ew,jN;function yX(){if(jN)return ew;jN=1;var t=gX();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return ew=e,ew}var tw,MN;function vX(){if(MN)return tw;MN=1;function t(e,n,r){for(var i=-1,s=e==null?0:e.length;++i<s;)if(r(n,e[i]))return!0;return!1}return tw=t,tw}var nw,DN;function bX(){if(DN)return nw;DN=1;function t(){}return nw=t,nw}var rw,LN;function xX(){if(LN)return rw;LN=1;var t=m6(),e=bX(),n=zE(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(s){return new t(s)}:e;return rw=i,rw}var iw,VN;function _X(){if(VN)return iw;VN=1;var t=s6(),e=yX(),n=vX(),r=l6(),i=xX(),s=zE(),l=200;function c(f,h,p){var m=-1,v=e,_=f.length,T=!0,S=[],w=S;if(p)T=!1,v=n;else if(_>=l){var O=h?null:i(f);if(O)return s(O);T=!1,v=r,w=new t}else w=h?[]:S;e:for(;++m<_;){var C=f[m],R=h?h(C):C;if(C=p||C!==0?C:0,T&&R===R){for(var V=w.length;V--;)if(w[V]===R)continue e;h&&w.push(R),S.push(C)}else v(w,R,p)||(w!==S&&w.push(R),S.push(C))}return S}return iw=c,iw}var aw,$N;function wX(){if($N)return aw;$N=1;var t=ja(),e=_X();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return aw=n,aw}var SX=wX();const UN=Gt(SX);function b6(t,e,n){return e===!0?UN(t,n):rt(e)?UN(t,e):t}function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}var TX=["ref"];function BN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BN(Object(n),!0).forEach(function(r){By(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_6(r.key),r)}}function AX(t,e,n){return e&&qN(t.prototype,e),n&&qN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function OX(t,e,n){return e=mg(e),CX(t,x6()?Reflect.construct(e,n||[],mg(t).constructor):e.apply(t,n))}function CX(t,e){if(e&&(xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IX(t)}function IX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x6=function(){return!!t})()}function mg(t){return mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mg(t)}function PX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AS(t,e)}function AS(t,e){return AS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AS(t,e)}function By(t,e,n){return e=_6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _6(t){var e=kX(t,"string");return xc(e)=="symbol"?e:e+""}function kX(t,e){if(xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function RX(t,e){if(t==null)return{};var n=NX(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jX(t){return t.value}function MX(t,e){if(G.isValidElement(t))return G.cloneElement(t,e);if(typeof t=="function")return G.createElement(t,e);e.ref;var n=RX(e,TX);return G.createElement(qE,n)}var zN=1,vo=(function(t){function e(){var n;EX(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=OX(this,e,[].concat(i)),By(n,"lastBoundingBox",{width:-1,height:-1}),n}return PX(e,t),AX(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>zN||Math.abs(i.height-this.lastBoundingBox.height)>zN)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?rs({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,l=i.align,c=i.verticalAlign,f=i.margin,h=i.chartWidth,p=i.chartHeight,m,v;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(l==="center"&&s==="vertical"){var _=this.getBBoxSnapshot();m={left:((h||0)-_.width)/2}}else m=l==="right"?{right:f&&f.right||0}:{left:f&&f.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(c==="middle"){var T=this.getBBoxSnapshot();v={top:((p||0)-T.height)/2}}else v=c==="bottom"?{bottom:f&&f.bottom||0}:{top:f&&f.top||0};return rs(rs({},m),v)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,l=i.width,c=i.height,f=i.wrapperStyle,h=i.payloadUniqBy,p=i.payload,m=rs(rs({position:"absolute",width:l||"auto",height:c||"auto"},this.getDefaultPosition(f)),f);return G.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(_){r.wrapperNode=_}},MX(s,rs(rs({},this.props),{},{payload:b6(p,h,jX)})))}}],[{key:"getWithHeight",value:function(r,i){var s=rs(rs({},this.defaultProps),r.props),l=s.layout;return l==="vertical"&&Ce(r.props.height)?{height:r.props.height}:l==="horizontal"?{width:r.props.width||i}:null}}])})(U.PureComponent);By(vo,"displayName","Legend");By(vo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var sw,FN;function DX(){if(FN)return sw;FN=1;var t=Md(),e=FE(),n=Yr(),r=t?t.isConcatSpreadable:void 0;function i(s){return n(s)||e(s)||!!(r&&s&&s[r])}return sw=i,sw}var ow,HN;function w6(){if(HN)return ow;HN=1;var t=c6(),e=DX();function n(r,i,s,l,c){var f=-1,h=r.length;for(s||(s=e),c||(c=[]);++f<h;){var p=r[f];i>0&&s(p)?i>1?n(p,i-1,s,l,c):t(c,p):l||(c[c.length]=p)}return c}return ow=n,ow}var lw,GN;function LX(){if(GN)return lw;GN=1;function t(e){return function(n,r,i){for(var s=-1,l=Object(n),c=i(n),f=c.length;f--;){var h=c[e?f:++s];if(r(l[h],h,l)===!1)break}return n}}return lw=t,lw}var uw,KN;function VX(){if(KN)return uw;KN=1;var t=LX(),e=t();return uw=e,uw}var cw,WN;function S6(){if(WN)return cw;WN=1;var t=VX(),e=Uy();function n(r,i){return r&&t(r,i,e)}return cw=n,cw}var fw,YN;function $X(){if(YN)return fw;YN=1;var t=Ld();function e(n,r){return function(i,s){if(i==null)return i;if(!t(i))return n(i,s);for(var l=i.length,c=r?l:-1,f=Object(i);(r?c--:++c<l)&&s(f[c],c,f)!==!1;);return i}}return fw=e,fw}var hw,XN;function WE(){if(XN)return hw;XN=1;var t=S6(),e=$X(),n=e(t);return hw=n,hw}var dw,QN;function T6(){if(QN)return dw;QN=1;var t=WE(),e=Ld();function n(r,i){var s=-1,l=e(r)?Array(r.length):[];return t(r,function(c,f,h){l[++s]=i(c,f,h)}),l}return dw=n,dw}var pw,JN;function UX(){if(JN)return pw;JN=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return pw=t,pw}var mw,ZN;function BX(){if(ZN)return mw;ZN=1;var t=Qc();function e(n,r){if(n!==r){var i=n!==void 0,s=n===null,l=n===n,c=t(n),f=r!==void 0,h=r===null,p=r===r,m=t(r);if(!h&&!m&&!c&&n>r||c&&f&&p&&!h&&!m||s&&f&&p||!i&&p||!l)return 1;if(!s&&!c&&!m&&n<r||m&&i&&l&&!s&&!c||h&&i&&l||!f&&l||!p)return-1}return 0}return mw=e,mw}var gw,ej;function qX(){if(ej)return gw;ej=1;var t=BX();function e(n,r,i){for(var s=-1,l=n.criteria,c=r.criteria,f=l.length,h=i.length;++s<f;){var p=t(l[s],c[s]);if(p){if(s>=h)return p;var m=i[s];return p*(m=="desc"?-1:1)}}return n.index-r.index}return gw=e,gw}var yw,tj;function zX(){if(tj)return yw;tj=1;var t=jE(),e=ME(),n=ja(),r=T6(),i=UX(),s=h6(),l=qX(),c=ef(),f=Yr();function h(p,m,v){m.length?m=t(m,function(S){return f(S)?function(w){return e(w,S.length===1?S[0]:S)}:S}):m=[c];var _=-1;m=t(m,s(n));var T=r(p,function(S,w,O){var C=t(m,function(R){return R(S)});return{criteria:C,index:++_,value:S}});return i(T,function(S,w){return l(S,w,v)})}return yw=h,yw}var vw,nj;function FX(){if(nj)return vw;nj=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return vw=t,vw}var bw,rj;function HX(){if(rj)return bw;rj=1;var t=FX(),e=Math.max;function n(r,i,s){return i=e(i===void 0?r.length-1:i,0),function(){for(var l=arguments,c=-1,f=e(l.length-i,0),h=Array(f);++c<f;)h[c]=l[i+c];c=-1;for(var p=Array(i+1);++c<i;)p[c]=l[c];return p[i]=s(h),t(r,this,p)}}return bw=n,bw}var xw,ij;function GX(){if(ij)return xw;ij=1;function t(e){return function(){return e}}return xw=t,xw}var _w,aj;function E6(){if(aj)return _w;aj=1;var t=Hl(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return _w=e,_w}var ww,sj;function KX(){if(sj)return ww;sj=1;var t=GX(),e=E6(),n=ef(),r=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:n;return ww=r,ww}var Sw,oj;function WX(){if(oj)return Sw;oj=1;var t=800,e=16,n=Date.now;function r(i){var s=0,l=0;return function(){var c=n(),f=e-(c-l);if(l=c,f>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return Sw=r,Sw}var Tw,lj;function YX(){if(lj)return Tw;lj=1;var t=KX(),e=WX(),n=e(t);return Tw=n,Tw}var Ew,uj;function XX(){if(uj)return Ew;uj=1;var t=ef(),e=HX(),n=YX();function r(i,s){return n(e(i,s,t),i+"")}return Ew=r,Ew}var Aw,cj;function qy(){if(cj)return Aw;cj=1;var t=kE(),e=Ld(),n=HE(),r=Io();function i(s,l,c){if(!r(c))return!1;var f=typeof l;return(f=="number"?e(c)&&n(l,c.length):f=="string"&&l in c)?t(c[l],s):!1}return Aw=i,Aw}var Ow,fj;function QX(){if(fj)return Ow;fj=1;var t=w6(),e=zX(),n=XX(),r=qy(),i=n(function(s,l){if(s==null)return[];var c=l.length;return c>1&&r(s,l[0],l[1])?l=[]:c>2&&r(l[0],l[1],l[2])&&(l=[l[0]]),e(s,t(l,1),[])});return Ow=i,Ow}var JX=QX();const YE=Gt(JX);function Fh(t){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(t)}function OS(){return OS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OS.apply(this,arguments)}function ZX(t,e){return rQ(t)||nQ(t,e)||tQ(t,e)||eQ()}function eQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tQ(t,e){if(t){if(typeof t=="string")return hj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hj(t,e)}}function hj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,c=[],f=!0,h=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function rQ(t){if(Array.isArray(t))return t}function dj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dj(Object(n),!0).forEach(function(r){iQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iQ(t,e,n){return e=aQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aQ(t){var e=sQ(t,"string");return Fh(e)=="symbol"?e:e+""}function sQ(t,e){if(Fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oQ(t){return Array.isArray(t)&&Jn(t[0])&&Jn(t[1])?t.join(" ~ "):t}var lQ=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,l=e.itemStyle,c=l===void 0?{}:l,f=e.labelStyle,h=f===void 0?{}:f,p=e.payload,m=e.formatter,v=e.itemSorter,_=e.wrapperClassName,T=e.labelClassName,S=e.label,w=e.labelFormatter,O=e.accessibilityLayer,C=O===void 0?!1:O,R=function(){if(p&&p.length){var $={padding:0,margin:0},L=(v?YE(p,v):p).map(function(Q,J){if(Q.type==="none")return null;var F=Cw({display:"block",paddingTop:4,paddingBottom:4,color:Q.color||"#000"},c),Y=Q.formatter||m||oQ,ee=Q.value,ue=Q.name,ve=ee,H=ue;if(Y&&ve!=null&&H!=null){var W=Y(ee,ue,Q,J,p);if(Array.isArray(W)){var oe=ZX(W,2);ve=oe[0],H=oe[1]}else ve=W}return G.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(J),style:F},Jn(H)?G.createElement("span",{className:"recharts-tooltip-item-name"},H):null,Jn(H)?G.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,G.createElement("span",{className:"recharts-tooltip-item-value"},ve),G.createElement("span",{className:"recharts-tooltip-item-unit"},Q.unit||""))});return G.createElement("ul",{className:"recharts-tooltip-item-list",style:$},L)}return null},V=Cw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),I=Cw({margin:0},h),j=!ct(S),A=j?S:"",P=bt("recharts-default-tooltip",_),N=bt("recharts-tooltip-label",T);j&&w&&p!==void 0&&p!==null&&(A=w(S,p));var B=C?{role:"status","aria-live":"assertive"}:{};return G.createElement("div",OS({className:P,style:V},B),G.createElement("p",{className:N,style:I},G.isValidElement(A)?A:"".concat(A)),R())};function Hh(t){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hh(t)}function mm(t,e,n){return e=uQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uQ(t){var e=cQ(t,"string");return Hh(e)=="symbol"?e:e+""}function cQ(t,e){if(Hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eh="recharts-tooltip-wrapper",fQ={visibility:"hidden"};function hQ(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return bt(eh,mm(mm(mm(mm({},"".concat(eh,"-right"),Ce(n)&&e&&Ce(e.x)&&n>=e.x),"".concat(eh,"-left"),Ce(n)&&e&&Ce(e.x)&&n<e.x),"".concat(eh,"-bottom"),Ce(r)&&e&&Ce(e.y)&&r>=e.y),"".concat(eh,"-top"),Ce(r)&&e&&Ce(e.y)&&r<e.y))}function pj(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,l=t.reverseDirection,c=t.tooltipDimension,f=t.viewBox,h=t.viewBoxDimension;if(s&&Ce(s[r]))return s[r];var p=n[r]-c-i,m=n[r]+i;if(e[r])return l[r]?p:m;if(l[r]){var v=p,_=f[r];return v<_?Math.max(m,f[r]):Math.max(p,f[r])}var T=m+c,S=f[r]+h;return T>S?Math.max(p,f[r]):Math.max(m,f[r])}function dQ(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function pQ(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,l=t.tooltipBox,c=t.useTranslate3d,f=t.viewBox,h,p,m;return l.height>0&&l.width>0&&n?(p=pj({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),m=pj({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),h=dQ({translateX:p,translateY:m,useTranslate3d:c})):h=fQ,{cssProperties:h,cssClasses:hQ({translateX:p,translateY:m,coordinate:n})}}function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function mj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mj(Object(n),!0).forEach(function(r){IS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O6(r.key),r)}}function yQ(t,e,n){return e&&gQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vQ(t,e,n){return e=gg(e),bQ(t,A6()?Reflect.construct(e,n||[],gg(t).constructor):e.apply(t,n))}function bQ(t,e){if(e&&(_c(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xQ(t)}function xQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A6=function(){return!!t})()}function gg(t){return gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gg(t)}function _Q(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CS(t,e)}function CS(t,e){return CS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},CS(t,e)}function IS(t,e,n){return e=O6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O6(t){var e=wQ(t,"string");return _c(e)=="symbol"?e:e+""}function wQ(t,e){if(_c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yj=1,SQ=(function(t){function e(){var n;mQ(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=vQ(this,e,[].concat(i)),IS(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),IS(n,"handleKeyDown",function(l){if(l.key==="Escape"){var c,f,h,p;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(f=n.props.coordinate)===null||f===void 0?void 0:f.x)!==null&&c!==void 0?c:0,y:(h=(p=n.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&h!==void 0?h:0}})}}),n}return _Q(e,t),yQ(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>yj||Math.abs(r.height-this.state.lastBoundingBox.height)>yj)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,l=i.allowEscapeViewBox,c=i.animationDuration,f=i.animationEasing,h=i.children,p=i.coordinate,m=i.hasPayload,v=i.isAnimationActive,_=i.offset,T=i.position,S=i.reverseDirection,w=i.useTranslate3d,O=i.viewBox,C=i.wrapperStyle,R=pQ({allowEscapeViewBox:l,coordinate:p,offsetTopLeft:_,position:T,reverseDirection:S,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:O}),V=R.cssClasses,I=R.cssProperties,j=gj(gj({transition:v&&s?"transform ".concat(c,"ms ").concat(f):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&m?"visible":"hidden",position:"absolute",top:0,left:0},C);return G.createElement("div",{tabIndex:-1,className:V,style:j,ref:function(P){r.wrapperNode=P}},h)}}])})(U.PureComponent),TQ=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Gl={isSsr:TQ()};function wc(t){"@babel/helpers - typeof";return wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wc(t)}function vj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vj(Object(n),!0).forEach(function(r){XE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AQ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I6(r.key),r)}}function OQ(t,e,n){return e&&AQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CQ(t,e,n){return e=yg(e),IQ(t,C6()?Reflect.construct(e,n||[],yg(t).constructor):e.apply(t,n))}function IQ(t,e){if(e&&(wc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PQ(t)}function PQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C6=function(){return!!t})()}function yg(t){return yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yg(t)}function kQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PS(t,e)}function PS(t,e){return PS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PS(t,e)}function XE(t,e,n){return e=I6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I6(t){var e=RQ(t,"string");return wc(e)=="symbol"?e:e+""}function RQ(t,e){if(wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function NQ(t){return t.dataKey}function jQ(t,e){return G.isValidElement(t)?G.cloneElement(t,e):typeof t=="function"?G.createElement(t,e):G.createElement(lQ,e)}var Yi=(function(t){function e(){return EQ(this,e),CQ(this,e,arguments)}return kQ(e,t),OQ(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,l=i.allowEscapeViewBox,c=i.animationDuration,f=i.animationEasing,h=i.content,p=i.coordinate,m=i.filterNull,v=i.isAnimationActive,_=i.offset,T=i.payload,S=i.payloadUniqBy,w=i.position,O=i.reverseDirection,C=i.useTranslate3d,R=i.viewBox,V=i.wrapperStyle,I=T??[];m&&I.length&&(I=b6(T.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),S,NQ));var j=I.length>0;return G.createElement(SQ,{allowEscapeViewBox:l,animationDuration:c,animationEasing:f,isAnimationActive:v,active:s,coordinate:p,hasPayload:j,offset:_,position:w,reverseDirection:O,useTranslate3d:C,viewBox:R,wrapperStyle:V},jQ(h,bj(bj({},this.props),{},{payload:I})))}}])})(U.PureComponent);XE(Yi,"displayName","Tooltip");XE(Yi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Gl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Iw,xj;function MQ(){if(xj)return Iw;xj=1;var t=Na(),e=function(){return t.Date.now()};return Iw=e,Iw}var Pw,_j;function DQ(){if(_j)return Pw;_j=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return Pw=e,Pw}var kw,wj;function LQ(){if(wj)return kw;wj=1;var t=DQ(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return kw=n,kw}var Rw,Sj;function P6(){if(Sj)return Rw;Sj=1;var t=LQ(),e=Io(),n=Qc(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;function f(h){if(typeof h=="number")return h;if(n(h))return r;if(e(h)){var p=typeof h.valueOf=="function"?h.valueOf():h;h=e(p)?p+"":p}if(typeof h!="string")return h===0?h:+h;h=t(h);var m=s.test(h);return m||l.test(h)?c(h.slice(2),m?2:8):i.test(h)?r:+h}return Rw=f,Rw}var Nw,Tj;function VQ(){if(Tj)return Nw;Tj=1;var t=Io(),e=MQ(),n=P6(),r="Expected a function",i=Math.max,s=Math.min;function l(c,f,h){var p,m,v,_,T,S,w=0,O=!1,C=!1,R=!0;if(typeof c!="function")throw new TypeError(r);f=n(f)||0,t(h)&&(O=!!h.leading,C="maxWait"in h,v=C?i(n(h.maxWait)||0,f):v,R="trailing"in h?!!h.trailing:R);function V(L){var Q=p,J=m;return p=m=void 0,w=L,_=c.apply(J,Q),_}function I(L){return w=L,T=setTimeout(P,f),O?V(L):_}function j(L){var Q=L-S,J=L-w,F=f-Q;return C?s(F,v-J):F}function A(L){var Q=L-S,J=L-w;return S===void 0||Q>=f||Q<0||C&&J>=v}function P(){var L=e();if(A(L))return N(L);T=setTimeout(P,j(L))}function N(L){return T=void 0,R&&p?V(L):(p=m=void 0,_)}function B(){T!==void 0&&clearTimeout(T),w=0,p=S=m=T=void 0}function D(){return T===void 0?_:N(e())}function $(){var L=e(),Q=A(L);if(p=arguments,m=this,S=L,Q){if(T===void 0)return I(S);if(C)return clearTimeout(T),T=setTimeout(P,f),V(S)}return T===void 0&&(T=setTimeout(P,f)),_}return $.cancel=B,$.flush=D,$}return Nw=l,Nw}var jw,Ej;function $Q(){if(Ej)return jw;Ej=1;var t=VQ(),e=Io(),n="Expected a function";function r(i,s,l){var c=!0,f=!0;if(typeof i!="function")throw new TypeError(n);return e(l)&&(c="leading"in l?!!l.leading:c,f="trailing"in l?!!l.trailing:f),t(i,s,{leading:c,maxWait:s,trailing:f})}return jw=r,jw}var UQ=$Q();const k6=Gt(UQ);function Gh(t){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gh(t)}function Aj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Aj(Object(n),!0).forEach(function(r){BQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Aj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BQ(t,e,n){return e=qQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qQ(t){var e=zQ(t,"string");return Gh(e)=="symbol"?e:e+""}function zQ(t,e){if(Gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FQ(t,e){return WQ(t)||KQ(t,e)||GQ(t,e)||HQ()}function HQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GQ(t,e){if(t){if(typeof t=="string")return Oj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oj(t,e)}}function Oj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,c=[],f=!0,h=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function WQ(t){if(Array.isArray(t))return t}var R6=U.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,l=s===void 0?"100%":s,c=t.height,f=c===void 0?"100%":c,h=t.minWidth,p=h===void 0?0:h,m=t.minHeight,v=t.maxHeight,_=t.children,T=t.debounce,S=T===void 0?0:T,w=t.id,O=t.className,C=t.onResize,R=t.style,V=R===void 0?{}:R,I=U.useRef(null),j=U.useRef();j.current=C,U.useImperativeHandle(e,function(){return Object.defineProperty(I.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),I.current},configurable:!0})});var A=U.useState({containerWidth:i.width,containerHeight:i.height}),P=FQ(A,2),N=P[0],B=P[1],D=U.useCallback(function(L,Q){B(function(J){var F=Math.round(L),Y=Math.round(Q);return J.containerWidth===F&&J.containerHeight===Y?J:{containerWidth:F,containerHeight:Y}})},[]);U.useEffect(function(){var L=function(ue){var ve,H=ue[0].contentRect,W=H.width,oe=H.height;D(W,oe),(ve=j.current)===null||ve===void 0||ve.call(j,W,oe)};S>0&&(L=k6(L,S,{trailing:!0,leading:!1}));var Q=new ResizeObserver(L),J=I.current.getBoundingClientRect(),F=J.width,Y=J.height;return D(F,Y),Q.observe(I.current),function(){Q.disconnect()}},[D,S]);var $=U.useMemo(function(){var L=N.containerWidth,Q=N.containerHeight;if(L<0||Q<0)return null;na(wl(l)||wl(f),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,f),na(!n||n>0,"The aspect(%s) must be greater than zero.",n);var J=wl(l)?L:l,F=wl(f)?Q:f;n&&n>0&&(J?F=J/n:F&&(J=F*n),v&&F>v&&(F=v)),na(J>0||F>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,J,F,l,f,p,m,n);var Y=!Array.isArray(_)&&fs(_.type).endsWith("Chart");return G.Children.map(_,function(ee){return G.isValidElement(ee)?U.cloneElement(ee,gm({width:J,height:F},Y?{style:gm({height:"100%",width:"100%",maxHeight:F,maxWidth:J},ee.props.style)}:{})):ee})},[n,_,f,v,m,p,N,l]);return G.createElement("div",{id:w?"".concat(w):void 0,className:bt("recharts-responsive-container",O),style:gm(gm({},V),{},{width:l,height:f,minWidth:p,minHeight:m,maxHeight:v}),ref:I},$)}),zy=function(e){return null};zy.displayName="Cell";function Kh(t){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kh(t)}function Cj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cj(Object(n),!0).forEach(function(r){YQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YQ(t,e,n){return e=XQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XQ(t){var e=QQ(t,"string");return Kh(e)=="symbol"?e:e+""}function QQ(t,e){if(Kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $u={widthCache:{},cacheCount:0},JQ=2e3,ZQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Ij="recharts_measurement_span";function eJ(t){var e=kS({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Oh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Gl.isSsr)return{width:0,height:0};var r=eJ(n),i=JSON.stringify({text:e,copyStyle:r});if($u.widthCache[i])return $u.widthCache[i];try{var s=document.getElementById(Ij);s||(s=document.createElement("span"),s.setAttribute("id",Ij),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var l=kS(kS({},ZQ),r);Object.assign(s.style,l),s.textContent="".concat(e);var c=s.getBoundingClientRect(),f={width:c.width,height:c.height};return $u.widthCache[i]=f,++$u.cacheCount>JQ&&($u.cacheCount=0,$u.widthCache={}),f}catch{return{width:0,height:0}}},tJ=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Wh(t){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wh(t)}function vg(t,e){return aJ(t)||iJ(t,e)||rJ(t,e)||nJ()}function nJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rJ(t,e){if(t){if(typeof t=="string")return Pj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pj(t,e)}}function Pj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,c=[],f=!0,h=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function aJ(t){if(Array.isArray(t))return t}function sJ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lJ(r.key),r)}}function oJ(t,e,n){return e&&kj(t.prototype,e),n&&kj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lJ(t){var e=uJ(t,"string");return Wh(e)=="symbol"?e:e+""}function uJ(t,e){if(Wh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Nj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,fJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,N6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},hJ=Object.keys(N6),Yu="NaN";function dJ(t,e){return t*N6[e]}var ym=(function(){function t(e,n){sJ(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!cJ.test(n)&&(this.num=NaN,this.unit=""),hJ.includes(n)&&(this.num=dJ(e,n),this.unit="px")}return oJ(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=fJ.exec(n))!==null&&r!==void 0?r:[],s=vg(i,3),l=s[1],c=s[2];return new t(parseFloat(l),c??"")}}])})();function j6(t){if(t.includes(Yu))return Yu;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=Rj.exec(e))!==null&&n!==void 0?n:[],i=vg(r,4),s=i[1],l=i[2],c=i[3],f=ym.parse(s??""),h=ym.parse(c??""),p=l==="*"?f.multiply(h):f.divide(h);if(p.isNaN())return Yu;e=e.replace(Rj,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,v=(m=Nj.exec(e))!==null&&m!==void 0?m:[],_=vg(v,4),T=_[1],S=_[2],w=_[3],O=ym.parse(T??""),C=ym.parse(w??""),R=S==="+"?O.add(C):O.subtract(C);if(R.isNaN())return Yu;e=e.replace(Nj,R.toString())}return e}var jj=/\(([^()]*)\)/;function pJ(t){for(var e=t;e.includes("(");){var n=jj.exec(e),r=vg(n,2),i=r[1];e=e.replace(jj,j6(i))}return e}function mJ(t){var e=t.replace(/\s+/g,"");return e=pJ(e),e=j6(e),e}function gJ(t){try{return mJ(t)}catch{return Yu}}function Mw(t){var e=gJ(t.slice(5,-1));return e===Yu?"":e}var yJ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],vJ=["dx","dy","angle","className","breakAll"];function RS(){return RS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RS.apply(this,arguments)}function Mj(t,e){if(t==null)return{};var n=bJ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bJ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Dj(t,e){return SJ(t)||wJ(t,e)||_J(t,e)||xJ()}function xJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _J(t,e){if(t){if(typeof t=="string")return Lj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lj(t,e)}}function Lj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,c=[],f=!0,h=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function SJ(t){if(Array.isArray(t))return t}var M6=/[ \f\n\r\t\v\u2028\u2029]+/,D6=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];ct(n)||(r?s=n.toString().split(""):s=n.toString().split(M6));var l=s.map(function(f){return{word:f,width:Oh(f,i).width}}),c=r?0:Oh("",i).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}},TJ=function(e,n,r,i,s){var l=e.maxLines,c=e.children,f=e.style,h=e.breakAll,p=Ce(l),m=c,v=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return J.reduce(function(F,Y){var ee=Y.word,ue=Y.width,ve=F[F.length-1];if(ve&&(i==null||s||ve.width+ue+r<Number(i)))ve.words.push(ee),ve.width+=ue+r;else{var H={words:[ee],width:ue};F.push(H)}return F},[])},_=v(n),T=function(J){return J.reduce(function(F,Y){return F.width>Y.width?F:Y})};if(!p)return _;for(var S="",w=function(J){var F=m.slice(0,J),Y=D6({breakAll:h,style:f,children:F+S}).wordsWithComputedWidth,ee=v(Y),ue=ee.length>l||T(ee).width>Number(i);return[ue,ee]},O=0,C=m.length-1,R=0,V;O<=C&&R<=m.length-1;){var I=Math.floor((O+C)/2),j=I-1,A=w(j),P=Dj(A,2),N=P[0],B=P[1],D=w(I),$=Dj(D,1),L=$[0];if(!N&&!L&&(O=I+1),N&&L&&(C=I-1),!N&&L){V=B;break}R++}return V||_},Vj=function(e){var n=ct(e)?[]:e.toString().split(M6);return[{words:n}]},EJ=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,l=e.breakAll,c=e.maxLines;if((n||r)&&!Gl.isSsr){var f,h,p=D6({breakAll:l,children:i,style:s});if(p){var m=p.wordsWithComputedWidth,v=p.spaceWidth;f=m,h=v}else return Vj(i);return TJ({breakAll:l,children:i,maxLines:c,style:s},f,h,n,r)}return Vj(i)},$j="#808080",Vl=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,l=e.lineHeight,c=l===void 0?"1em":l,f=e.capHeight,h=f===void 0?"0.71em":f,p=e.scaleToFit,m=p===void 0?!1:p,v=e.textAnchor,_=v===void 0?"start":v,T=e.verticalAnchor,S=T===void 0?"end":T,w=e.fill,O=w===void 0?$j:w,C=Mj(e,yJ),R=U.useMemo(function(){return EJ({breakAll:C.breakAll,children:C.children,maxLines:C.maxLines,scaleToFit:m,style:C.style,width:C.width})},[C.breakAll,C.children,C.maxLines,m,C.style,C.width]),V=C.dx,I=C.dy,j=C.angle,A=C.className,P=C.breakAll,N=Mj(C,vJ);if(!Jn(r)||!Jn(s))return null;var B=r+(Ce(V)?V:0),D=s+(Ce(I)?I:0),$;switch(S){case"start":$=Mw("calc(".concat(h,")"));break;case"middle":$=Mw("calc(".concat((R.length-1)/2," * -").concat(c," + (").concat(h," / 2))"));break;default:$=Mw("calc(".concat(R.length-1," * -").concat(c,")"));break}var L=[];if(m){var Q=R[0].width,J=C.width;L.push("scale(".concat((Ce(J)?J/Q:1)/Q,")"))}return j&&L.push("rotate(".concat(j,", ").concat(B,", ").concat(D,")")),L.length&&(N.transform=L.join(" ")),G.createElement("text",RS({},Je(N,!0),{x:B,y:D,className:bt("recharts-text",A),textAnchor:_,fill:O.includes("url")?$j:O}),R.map(function(F,Y){var ee=F.words.join(P?"":" ");return G.createElement("tspan",{x:B,dy:Y===0?$:c,key:"".concat(ee,"-").concat(Y)},ee)}))};function bo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function AJ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function QE(t){let e,n,r;t.length!==2?(e=bo,n=(c,f)=>bo(t(c),f),r=(c,f)=>t(c)-f):(e=t===bo||t===AJ?t:OJ,n=t,r=t);function i(c,f,h=0,p=c.length){if(h<p){if(e(f,f)!==0)return p;do{const m=h+p>>>1;n(c[m],f)<0?h=m+1:p=m}while(h<p)}return h}function s(c,f,h=0,p=c.length){if(h<p){if(e(f,f)!==0)return p;do{const m=h+p>>>1;n(c[m],f)<=0?h=m+1:p=m}while(h<p)}return h}function l(c,f,h=0,p=c.length){const m=i(c,f,h,p-1);return m>h&&r(c[m-1],f)>-r(c[m],f)?m-1:m}return{left:i,center:l,right:s}}function OJ(){return 0}function L6(t){return t===null?NaN:+t}function*CJ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const IJ=QE(bo),Vd=IJ.right;QE(L6).center;class Uj extends Map{constructor(e,n=RJ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Bj(this,e))}has(e){return super.has(Bj(this,e))}set(e,n){return super.set(PJ(this,e),n)}delete(e){return super.delete(kJ(this,e))}}function Bj({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function PJ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function kJ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function RJ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function NJ(t=bo){if(t===bo)return V6;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function V6(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const jJ=Math.sqrt(50),MJ=Math.sqrt(10),DJ=Math.sqrt(2);function bg(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),l=s>=jJ?10:s>=MJ?5:s>=DJ?2:1;let c,f,h;return i<0?(h=Math.pow(10,-i)/l,c=Math.round(t*h),f=Math.round(e*h),c/h<t&&++c,f/h>e&&--f,h=-h):(h=Math.pow(10,i)*l,c=Math.round(t/h),f=Math.round(e/h),c*h<t&&++c,f*h>e&&--f),f<c&&.5<=n&&n<2?bg(t,e,n*2):[c,f,h]}function NS(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,l]=r?bg(e,t,n):bg(t,e,n);if(!(s>=i))return[];const c=s-i+1,f=new Array(c);if(r)if(l<0)for(let h=0;h<c;++h)f[h]=(s-h)/-l;else for(let h=0;h<c;++h)f[h]=(s-h)*l;else if(l<0)for(let h=0;h<c;++h)f[h]=(i+h)/-l;else for(let h=0;h<c;++h)f[h]=(i+h)*l;return f}function jS(t,e,n){return e=+e,t=+t,n=+n,bg(t,e,n)[2]}function MS(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?jS(e,t,n):jS(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function qj(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function zj(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function $6(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?V6:NJ(i);r>n;){if(r-n>600){const f=r-n+1,h=e-n+1,p=Math.log(f),m=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*m*(f-m)/f)*(h-f/2<0?-1:1),_=Math.max(n,Math.floor(e-h*m/f+v)),T=Math.min(r,Math.floor(e+(f-h)*m/f+v));$6(t,e,_,T,i)}const s=t[e];let l=n,c=r;for(th(t,n,e),i(t[r],s)>0&&th(t,n,r);l<c;){for(th(t,l,c),++l,--c;i(t[l],s)<0;)++l;for(;i(t[c],s)>0;)--c}i(t[n],s)===0?th(t,n,c):(++c,th(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function th(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function LJ(t,e,n){if(t=Float64Array.from(CJ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return zj(t);if(e>=1)return qj(t);var r,i=(r-1)*e,s=Math.floor(i),l=qj($6(t,s).subarray(0,s+1)),c=zj(t.subarray(s+1));return l+(c-l)*(i-s)}}function VJ(t,e,n=L6){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),l=+n(t[s],s,t),c=+n(t[s+1],s+1,t);return l+(c-l)*(i-s)}}function $J(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Di(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ts(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const DS=Symbol("implicit");function JE(){var t=new Uj,e=[],n=[],r=DS;function i(s){let l=t.get(s);if(l===void 0){if(r!==DS)return r;t.set(s,l=e.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new Uj;for(const l of s)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return JE(e,n).unknown(r)},Di.apply(i,arguments),i}function Yh(){var t=JE().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,l,c=!1,f=0,h=0,p=.5;delete t.unknown;function m(){var v=e().length,_=i<r,T=_?i:r,S=_?r:i;s=(S-T)/Math.max(1,v-f+h*2),c&&(s=Math.floor(s)),T+=(S-T-s*(v-f))*p,l=s*(1-f),c&&(T=Math.round(T),l=Math.round(l));var w=$J(v).map(function(O){return T+s*O});return n(_?w.reverse():w)}return t.domain=function(v){return arguments.length?(e(v),m()):e()},t.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,c=!0,m()},t.bandwidth=function(){return l},t.step=function(){return s},t.round=function(v){return arguments.length?(c=!!v,m()):c},t.padding=function(v){return arguments.length?(f=Math.min(1,h=+v),m()):f},t.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),m()):f},t.paddingOuter=function(v){return arguments.length?(h=+v,m()):h},t.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),m()):p},t.copy=function(){return Yh(e(),[r,i]).round(c).paddingInner(f).paddingOuter(h).align(p)},Di.apply(m(),arguments)}function U6(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return U6(e())},t}function Ch(){return U6(Yh.apply(null,arguments).paddingInner(1))}function ZE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function B6(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function $d(){}var Xh=.7,xg=1/Xh,oc="\\s*([+-]?\\d+)\\s*",Qh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Aa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",UJ=/^#([0-9a-f]{3,8})$/,BJ=new RegExp(`^rgb\\(${oc},${oc},${oc}\\)$`),qJ=new RegExp(`^rgb\\(${Aa},${Aa},${Aa}\\)$`),zJ=new RegExp(`^rgba\\(${oc},${oc},${oc},${Qh}\\)$`),FJ=new RegExp(`^rgba\\(${Aa},${Aa},${Aa},${Qh}\\)$`),HJ=new RegExp(`^hsl\\(${Qh},${Aa},${Aa}\\)$`),GJ=new RegExp(`^hsla\\(${Qh},${Aa},${Aa},${Qh}\\)$`),Fj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ZE($d,Jh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Hj,formatHex:Hj,formatHex8:KJ,formatHsl:WJ,formatRgb:Gj,toString:Gj});function Hj(){return this.rgb().formatHex()}function KJ(){return this.rgb().formatHex8()}function WJ(){return q6(this).formatHsl()}function Gj(){return this.rgb().formatRgb()}function Jh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=UJ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Kj(e):n===3?new Wr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?vm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?vm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=BJ.exec(t))?new Wr(e[1],e[2],e[3],1):(e=qJ.exec(t))?new Wr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=zJ.exec(t))?vm(e[1],e[2],e[3],e[4]):(e=FJ.exec(t))?vm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=HJ.exec(t))?Xj(e[1],e[2]/100,e[3]/100,1):(e=GJ.exec(t))?Xj(e[1],e[2]/100,e[3]/100,e[4]):Fj.hasOwnProperty(t)?Kj(Fj[t]):t==="transparent"?new Wr(NaN,NaN,NaN,0):null}function Kj(t){return new Wr(t>>16&255,t>>8&255,t&255,1)}function vm(t,e,n,r){return r<=0&&(t=e=n=NaN),new Wr(t,e,n,r)}function YJ(t){return t instanceof $d||(t=Jh(t)),t?(t=t.rgb(),new Wr(t.r,t.g,t.b,t.opacity)):new Wr}function LS(t,e,n,r){return arguments.length===1?YJ(t):new Wr(t,e,n,r??1)}function Wr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ZE(Wr,LS,B6($d,{brighter(t){return t=t==null?xg:Math.pow(xg,t),new Wr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Xh:Math.pow(Xh,t),new Wr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Wr(Cl(this.r),Cl(this.g),Cl(this.b),_g(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Wj,formatHex:Wj,formatHex8:XJ,formatRgb:Yj,toString:Yj}));function Wj(){return`#${Sl(this.r)}${Sl(this.g)}${Sl(this.b)}`}function XJ(){return`#${Sl(this.r)}${Sl(this.g)}${Sl(this.b)}${Sl((isNaN(this.opacity)?1:this.opacity)*255)}`}function Yj(){const t=_g(this.opacity);return`${t===1?"rgb(":"rgba("}${Cl(this.r)}, ${Cl(this.g)}, ${Cl(this.b)}${t===1?")":`, ${t})`}`}function _g(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Cl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Sl(t){return t=Cl(t),(t<16?"0":"")+t.toString(16)}function Xj(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Zi(t,e,n,r)}function q6(t){if(t instanceof Zi)return new Zi(t.h,t.s,t.l,t.opacity);if(t instanceof $d||(t=Jh(t)),!t)return new Zi;if(t instanceof Zi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),l=NaN,c=s-i,f=(s+i)/2;return c?(e===s?l=(n-r)/c+(n<r)*6:n===s?l=(r-e)/c+2:l=(e-n)/c+4,c/=f<.5?s+i:2-s-i,l*=60):c=f>0&&f<1?0:l,new Zi(l,c,f,t.opacity)}function QJ(t,e,n,r){return arguments.length===1?q6(t):new Zi(t,e,n,r??1)}function Zi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ZE(Zi,QJ,B6($d,{brighter(t){return t=t==null?xg:Math.pow(xg,t),new Zi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Xh:Math.pow(Xh,t),new Zi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Wr(Dw(t>=240?t-240:t+120,i,r),Dw(t,i,r),Dw(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Zi(Qj(this.h),bm(this.s),bm(this.l),_g(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=_g(this.opacity);return`${t===1?"hsl(":"hsla("}${Qj(this.h)}, ${bm(this.s)*100}%, ${bm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Qj(t){return t=(t||0)%360,t<0?t+360:t}function bm(t){return Math.max(0,Math.min(1,t||0))}function Dw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const eA=t=>()=>t;function JJ(t,e){return function(n){return t+n*e}}function ZJ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function eZ(t){return(t=+t)==1?z6:function(e,n){return n-e?ZJ(e,n,t):eA(isNaN(e)?n:e)}}function z6(t,e){var n=e-t;return n?JJ(t,n):eA(isNaN(t)?e:t)}const Jj=(function t(e){var n=eZ(e);function r(i,s){var l=n((i=LS(i)).r,(s=LS(s)).r),c=n(i.g,s.g),f=n(i.b,s.b),h=z6(i.opacity,s.opacity);return function(p){return i.r=l(p),i.g=c(p),i.b=f(p),i.opacity=h(p),i+""}}return r.gamma=t,r})(1);function tZ(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function nZ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function rZ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=tf(t[l],e[l]);for(;l<n;++l)s[l]=e[l];return function(c){for(l=0;l<r;++l)s[l]=i[l](c);return s}}function iZ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function wg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function aZ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=tf(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var VS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lw=new RegExp(VS.source,"g");function sZ(t){return function(){return t}}function oZ(t){return function(e){return t(e)+""}}function lZ(t,e){var n=VS.lastIndex=Lw.lastIndex=0,r,i,s,l=-1,c=[],f=[];for(t=t+"",e=e+"";(r=VS.exec(t))&&(i=Lw.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),c[l]?c[l]+=s:c[++l]=s),(r=r[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,f.push({i:l,x:wg(r,i)})),n=Lw.lastIndex;return n<e.length&&(s=e.slice(n),c[l]?c[l]+=s:c[++l]=s),c.length<2?f[0]?oZ(f[0].x):sZ(e):(e=f.length,function(h){for(var p=0,m;p<e;++p)c[(m=f[p]).i]=m.x(h);return c.join("")})}function tf(t,e){var n=typeof e,r;return e==null||n==="boolean"?eA(e):(n==="number"?wg:n==="string"?(r=Jh(e))?(e=r,Jj):lZ:e instanceof Jh?Jj:e instanceof Date?iZ:nZ(e)?tZ:Array.isArray(e)?rZ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?aZ:wg)(t,e)}function tA(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function uZ(t,e){e===void 0&&(e=t,t=tf);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(l){var c=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[c](l-c)}}function cZ(t){return function(){return t}}function Sg(t){return+t}var Zj=[0,1];function Lr(t){return t}function $S(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:cZ(isNaN(e)?NaN:.5)}function fZ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function hZ(t,e,n){var r=t[0],i=t[1],s=e[0],l=e[1];return i<r?(r=$S(i,r),s=n(l,s)):(r=$S(r,i),s=n(s,l)),function(c){return s(r(c))}}function dZ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=$S(t[l],t[l+1]),s[l]=n(e[l],e[l+1]);return function(c){var f=Vd(t,c,1,r)-1;return s[f](i[f](c))}}function Ud(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Fy(){var t=Zj,e=Zj,n=tf,r,i,s,l=Lr,c,f,h;function p(){var v=Math.min(t.length,e.length);return l!==Lr&&(l=fZ(t[0],t[v-1])),c=v>2?dZ:hZ,f=h=null,m}function m(v){return v==null||isNaN(v=+v)?s:(f||(f=c(t.map(r),e,n)))(r(l(v)))}return m.invert=function(v){return l(i((h||(h=c(e,t.map(r),wg)))(v)))},m.domain=function(v){return arguments.length?(t=Array.from(v,Sg),p()):t.slice()},m.range=function(v){return arguments.length?(e=Array.from(v),p()):e.slice()},m.rangeRound=function(v){return e=Array.from(v),n=tA,p()},m.clamp=function(v){return arguments.length?(l=v?!0:Lr,p()):l!==Lr},m.interpolate=function(v){return arguments.length?(n=v,p()):n},m.unknown=function(v){return arguments.length?(s=v,m):s},function(v,_){return r=v,i=_,p()}}function nA(){return Fy()(Lr,Lr)}function pZ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Tg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Sc(t){return t=Tg(Math.abs(t)),t?t[1]:NaN}function mZ(t,e){return function(n,r){for(var i=n.length,s=[],l=0,c=t[0],f=0;i>0&&c>0&&(f+c+1>r&&(c=Math.max(1,r-f)),s.push(n.substring(i-=c,i+c)),!((f+=c+1)>r));)c=t[l=(l+1)%t.length];return s.reverse().join(e)}}function gZ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var yZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zh(t){if(!(e=yZ.exec(t)))throw new Error("invalid format: "+t);var e;return new rA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Zh.prototype=rA.prototype;function rA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}rA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function vZ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var F6;function bZ(t,e){var n=Tg(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(F6=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Tg(t,Math.max(0,e+s-1))[0]}function eM(t,e){var n=Tg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const tM={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:pZ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>eM(t*100,e),r:eM,s:bZ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function nM(t){return t}var rM=Array.prototype.map,iM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function xZ(t){var e=t.grouping===void 0||t.thousands===void 0?nM:mZ(rM.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?nM:gZ(rM.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(m){m=Zh(m);var v=m.fill,_=m.align,T=m.sign,S=m.symbol,w=m.zero,O=m.width,C=m.comma,R=m.precision,V=m.trim,I=m.type;I==="n"?(C=!0,I="g"):tM[I]||(R===void 0&&(R=12),V=!0,I="g"),(w||v==="0"&&_==="=")&&(w=!0,v="0",_="=");var j=S==="$"?n:S==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",A=S==="$"?r:/[%p]/.test(I)?l:"",P=tM[I],N=/[defgprs%]/.test(I);R=R===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function B(D){var $=j,L=A,Q,J,F;if(I==="c")L=P(D)+L,D="";else{D=+D;var Y=D<0||1/D<0;if(D=isNaN(D)?f:P(Math.abs(D),R),V&&(D=vZ(D)),Y&&+D==0&&T!=="+"&&(Y=!1),$=(Y?T==="("?T:c:T==="-"||T==="("?"":T)+$,L=(I==="s"?iM[8+F6/3]:"")+L+(Y&&T==="("?")":""),N){for(Q=-1,J=D.length;++Q<J;)if(F=D.charCodeAt(Q),48>F||F>57){L=(F===46?i+D.slice(Q+1):D.slice(Q))+L,D=D.slice(0,Q);break}}}C&&!w&&(D=e(D,1/0));var ee=$.length+D.length+L.length,ue=ee<O?new Array(O-ee+1).join(v):"";switch(C&&w&&(D=e(ue+D,ue.length?O-L.length:1/0),ue=""),_){case"<":D=$+D+L+ue;break;case"=":D=$+ue+D+L;break;case"^":D=ue.slice(0,ee=ue.length>>1)+$+D+L+ue.slice(ee);break;default:D=ue+$+D+L;break}return s(D)}return B.toString=function(){return m+""},B}function p(m,v){var _=h((m=Zh(m),m.type="f",m)),T=Math.max(-8,Math.min(8,Math.floor(Sc(v)/3)))*3,S=Math.pow(10,-T),w=iM[8+T/3];return function(O){return _(S*O)+w}}return{format:h,formatPrefix:p}}var xm,iA,H6;_Z({thousands:",",grouping:[3],currency:["$",""]});function _Z(t){return xm=xZ(t),iA=xm.format,H6=xm.formatPrefix,xm}function wZ(t){return Math.max(0,-Sc(Math.abs(t)))}function SZ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Sc(e)/3)))*3-Sc(Math.abs(t)))}function TZ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Sc(e)-Sc(t))+1}function G6(t,e,n,r){var i=MS(t,e,n),s;switch(r=Zh(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=SZ(i,l))&&(r.precision=s),H6(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=TZ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=wZ(i))&&(r.precision=s-(r.type==="%")*2);break}}return iA(r)}function Po(t){var e=t.domain;return t.ticks=function(n){var r=e();return NS(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return G6(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,l=r[i],c=r[s],f,h,p=10;for(c<l&&(h=l,l=c,c=h,h=i,i=s,s=h);p-- >0;){if(h=jS(l,c,n),h===f)return r[i]=l,r[s]=c,e(r);if(h>0)l=Math.floor(l/h)*h,c=Math.ceil(c/h)*h;else if(h<0)l=Math.ceil(l*h)/h,c=Math.floor(c*h)/h;else break;f=h}return t},t}function Eg(){var t=nA();return t.copy=function(){return Ud(t,Eg())},Di.apply(t,arguments),Po(t)}function K6(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Sg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return K6(t).unknown(e)},t=arguments.length?Array.from(t,Sg):[0,1],Po(n)}function W6(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],l;return s<i&&(l=n,n=r,r=l,l=i,i=s,s=l),t[n]=e.floor(i),t[r]=e.ceil(s),t}function aM(t){return Math.log(t)}function sM(t){return Math.exp(t)}function EZ(t){return-Math.log(-t)}function AZ(t){return-Math.exp(-t)}function OZ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function CZ(t){return t===10?OZ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function IZ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function oM(t){return(e,n)=>-t(-e,n)}function aA(t){const e=t(aM,sM),n=e.domain;let r=10,i,s;function l(){return i=IZ(r),s=CZ(r),n()[0]<0?(i=oM(i),s=oM(s),t(EZ,AZ)):t(aM,sM),e}return e.base=function(c){return arguments.length?(r=+c,l()):r},e.domain=function(c){return arguments.length?(n(c),l()):n()},e.ticks=c=>{const f=n();let h=f[0],p=f[f.length-1];const m=p<h;m&&([h,p]=[p,h]);let v=i(h),_=i(p),T,S;const w=c==null?10:+c;let O=[];if(!(r%1)&&_-v<w){if(v=Math.floor(v),_=Math.ceil(_),h>0){for(;v<=_;++v)for(T=1;T<r;++T)if(S=v<0?T/s(-v):T*s(v),!(S<h)){if(S>p)break;O.push(S)}}else for(;v<=_;++v)for(T=r-1;T>=1;--T)if(S=v>0?T/s(-v):T*s(v),!(S<h)){if(S>p)break;O.push(S)}O.length*2<w&&(O=NS(h,p,w))}else O=NS(v,_,Math.min(_-v,w)).map(s);return m?O.reverse():O},e.tickFormat=(c,f)=>{if(c==null&&(c=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Zh(f)).precision==null&&(f.trim=!0),f=iA(f)),c===1/0)return f;const h=Math.max(1,r*c/e.ticks().length);return p=>{let m=p/s(Math.round(i(p)));return m*r<r-.5&&(m*=r),m<=h?f(p):""}},e.nice=()=>n(W6(n(),{floor:c=>s(Math.floor(i(c))),ceil:c=>s(Math.ceil(i(c)))})),e}function Y6(){const t=aA(Fy()).domain([1,10]);return t.copy=()=>Ud(t,Y6()).base(t.base()),Di.apply(t,arguments),t}function lM(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function uM(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function sA(t){var e=1,n=t(lM(e),uM(e));return n.constant=function(r){return arguments.length?t(lM(e=+r),uM(e)):e},Po(n)}function X6(){var t=sA(Fy());return t.copy=function(){return Ud(t,X6()).constant(t.constant())},Di.apply(t,arguments)}function cM(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function PZ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function kZ(t){return t<0?-t*t:t*t}function oA(t){var e=t(Lr,Lr),n=1;function r(){return n===1?t(Lr,Lr):n===.5?t(PZ,kZ):t(cM(n),cM(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Po(e)}function lA(){var t=oA(Fy());return t.copy=function(){return Ud(t,lA()).exponent(t.exponent())},Di.apply(t,arguments),t}function RZ(){return lA.apply(null,arguments).exponent(.5)}function fM(t){return Math.sign(t)*t*t}function NZ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Q6(){var t=nA(),e=[0,1],n=!1,r;function i(s){var l=NZ(t(s));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(s){return t.invert(fM(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Sg)).map(fM)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Q6(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Di.apply(i,arguments),Po(i)}function J6(){var t=[],e=[],n=[],r;function i(){var l=0,c=Math.max(1,e.length);for(n=new Array(c-1);++l<c;)n[l-1]=VJ(t,l/c);return s}function s(l){return l==null||isNaN(l=+l)?r:e[Vd(n,l)]}return s.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},s.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(bo),i()},s.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return J6().domain(t).range(e).unknown(r)},Di.apply(s,arguments)}function Z6(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function l(f){return f!=null&&f<=f?i[Vd(r,f,0,n)]:s}function c(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return l}return l.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,c()):[t,e]},l.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,c()):i.slice()},l.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},l.unknown=function(f){return arguments.length&&(s=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return Z6().domain([t,e]).range(i).unknown(s)},Di.apply(Po(l),arguments)}function eV(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Vd(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var l=e.indexOf(s);return[t[l-1],t[l]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return eV().domain(t).range(e).unknown(n)},Di.apply(i,arguments)}const Vw=new Date,$w=new Date;function er(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const l=i(s),c=i.ceil(s);return s-l<c-s?l:c},i.offset=(s,l)=>(e(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,c)=>{const f=[];if(s=i.ceil(s),c=c==null?1:Math.floor(c),!(s<l)||!(c>0))return f;let h;do f.push(h=new Date(+s)),e(s,c),t(s);while(h<s&&s<l);return f},i.filter=s=>er(l=>{if(l>=l)for(;t(l),!s(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!s(l););else for(;--c>=0;)for(;e(l,1),!s(l););}),n&&(i.count=(s,l)=>(Vw.setTime(+s),$w.setTime(+l),t(Vw),t($w),Math.floor(n(Vw,$w))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?l=>r(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const Ag=er(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ag.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?er(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ag);Ag.range;const ls=1e3,ji=ls*60,us=ji*60,vs=us*24,uA=vs*7,hM=vs*30,Uw=vs*365,Tl=er(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ls)},(t,e)=>(e-t)/ls,t=>t.getUTCSeconds());Tl.range;const cA=er(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ls)},(t,e)=>{t.setTime(+t+e*ji)},(t,e)=>(e-t)/ji,t=>t.getMinutes());cA.range;const fA=er(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ji)},(t,e)=>(e-t)/ji,t=>t.getUTCMinutes());fA.range;const hA=er(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ls-t.getMinutes()*ji)},(t,e)=>{t.setTime(+t+e*us)},(t,e)=>(e-t)/us,t=>t.getHours());hA.range;const dA=er(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*us)},(t,e)=>(e-t)/us,t=>t.getUTCHours());dA.range;const Bd=er(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ji)/vs,t=>t.getDate()-1);Bd.range;const Hy=er(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/vs,t=>t.getUTCDate()-1);Hy.range;const tV=er(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/vs,t=>Math.floor(t/vs));tV.range;function Kl(t){return er(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ji)/uA)}const Gy=Kl(0),Og=Kl(1),jZ=Kl(2),MZ=Kl(3),Tc=Kl(4),DZ=Kl(5),LZ=Kl(6);Gy.range;Og.range;jZ.range;MZ.range;Tc.range;DZ.range;LZ.range;function Wl(t){return er(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/uA)}const Ky=Wl(0),Cg=Wl(1),VZ=Wl(2),$Z=Wl(3),Ec=Wl(4),UZ=Wl(5),BZ=Wl(6);Ky.range;Cg.range;VZ.range;$Z.range;Ec.range;UZ.range;BZ.range;const pA=er(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());pA.range;const mA=er(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());mA.range;const bs=er(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());bs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:er(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});bs.range;const xs=er(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());xs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:er(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});xs.range;function nV(t,e,n,r,i,s){const l=[[Tl,1,ls],[Tl,5,5*ls],[Tl,15,15*ls],[Tl,30,30*ls],[s,1,ji],[s,5,5*ji],[s,15,15*ji],[s,30,30*ji],[i,1,us],[i,3,3*us],[i,6,6*us],[i,12,12*us],[r,1,vs],[r,2,2*vs],[n,1,uA],[e,1,hM],[e,3,3*hM],[t,1,Uw]];function c(h,p,m){const v=p<h;v&&([h,p]=[p,h]);const _=m&&typeof m.range=="function"?m:f(h,p,m),T=_?_.range(h,+p+1):[];return v?T.reverse():T}function f(h,p,m){const v=Math.abs(p-h)/m,_=QE(([,,w])=>w).right(l,v);if(_===l.length)return t.every(MS(h/Uw,p/Uw,m));if(_===0)return Ag.every(Math.max(MS(h,p,m),1));const[T,S]=l[v/l[_-1][2]<l[_][2]/v?_-1:_];return T.every(S)}return[c,f]}const[qZ,zZ]=nV(xs,mA,Ky,tV,dA,fA),[FZ,HZ]=nV(bs,pA,Gy,Bd,hA,cA);function Bw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function qw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function nh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function GZ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,l=t.shortDays,c=t.months,f=t.shortMonths,h=rh(i),p=ih(i),m=rh(s),v=ih(s),_=rh(l),T=ih(l),S=rh(c),w=ih(c),O=rh(f),C=ih(f),R={a:Y,A:ee,b:ue,B:ve,c:null,d:vM,e:vM,f:mee,g:Eee,G:Oee,H:hee,I:dee,j:pee,L:rV,m:gee,M:yee,p:H,q:W,Q:_M,s:wM,S:vee,u:bee,U:xee,V:_ee,w:wee,W:See,x:null,X:null,y:Tee,Y:Aee,Z:Cee,"%":xM},V={a:oe,A:me,b:we,B:Se,c:null,d:bM,e:bM,f:Ree,g:qee,G:Fee,H:Iee,I:Pee,j:kee,L:aV,m:Nee,M:jee,p:Ne,q:$e,Q:_M,s:wM,S:Mee,u:Dee,U:Lee,V:Vee,w:$ee,W:Uee,x:null,X:null,y:Bee,Y:zee,Z:Hee,"%":xM},I={a:B,A:D,b:$,B:L,c:Q,d:gM,e:gM,f:lee,g:mM,G:pM,H:yM,I:yM,j:iee,L:oee,m:ree,M:aee,p:N,q:nee,Q:cee,s:fee,S:see,u:QZ,U:JZ,V:ZZ,w:XZ,W:eee,x:J,X:F,y:mM,Y:pM,Z:tee,"%":uee};R.x=j(n,R),R.X=j(r,R),R.c=j(e,R),V.x=j(n,V),V.X=j(r,V),V.c=j(e,V);function j(ye,Te){return function(Re){var ne=[],He=-1,xe=0,Ee=ye.length,Be,We,st;for(Re instanceof Date||(Re=new Date(+Re));++He<Ee;)ye.charCodeAt(He)===37&&(ne.push(ye.slice(xe,He)),(We=dM[Be=ye.charAt(++He)])!=null?Be=ye.charAt(++He):We=Be==="e"?" ":"0",(st=Te[Be])&&(Be=st(Re,We)),ne.push(Be),xe=He+1);return ne.push(ye.slice(xe,He)),ne.join("")}}function A(ye,Te){return function(Re){var ne=nh(1900,void 0,1),He=P(ne,ye,Re+="",0),xe,Ee;if(He!=Re.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(Te&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(xe=qw(nh(ne.y,0,1)),Ee=xe.getUTCDay(),xe=Ee>4||Ee===0?Cg.ceil(xe):Cg(xe),xe=Hy.offset(xe,(ne.V-1)*7),ne.y=xe.getUTCFullYear(),ne.m=xe.getUTCMonth(),ne.d=xe.getUTCDate()+(ne.w+6)%7):(xe=Bw(nh(ne.y,0,1)),Ee=xe.getDay(),xe=Ee>4||Ee===0?Og.ceil(xe):Og(xe),xe=Bd.offset(xe,(ne.V-1)*7),ne.y=xe.getFullYear(),ne.m=xe.getMonth(),ne.d=xe.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),Ee="Z"in ne?qw(nh(ne.y,0,1)).getUTCDay():Bw(nh(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(Ee+5)%7:ne.w+ne.U*7-(Ee+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,qw(ne)):Bw(ne)}}function P(ye,Te,Re,ne){for(var He=0,xe=Te.length,Ee=Re.length,Be,We;He<xe;){if(ne>=Ee)return-1;if(Be=Te.charCodeAt(He++),Be===37){if(Be=Te.charAt(He++),We=I[Be in dM?Te.charAt(He++):Be],!We||(ne=We(ye,Re,ne))<0)return-1}else if(Be!=Re.charCodeAt(ne++))return-1}return ne}function N(ye,Te,Re){var ne=h.exec(Te.slice(Re));return ne?(ye.p=p.get(ne[0].toLowerCase()),Re+ne[0].length):-1}function B(ye,Te,Re){var ne=_.exec(Te.slice(Re));return ne?(ye.w=T.get(ne[0].toLowerCase()),Re+ne[0].length):-1}function D(ye,Te,Re){var ne=m.exec(Te.slice(Re));return ne?(ye.w=v.get(ne[0].toLowerCase()),Re+ne[0].length):-1}function $(ye,Te,Re){var ne=O.exec(Te.slice(Re));return ne?(ye.m=C.get(ne[0].toLowerCase()),Re+ne[0].length):-1}function L(ye,Te,Re){var ne=S.exec(Te.slice(Re));return ne?(ye.m=w.get(ne[0].toLowerCase()),Re+ne[0].length):-1}function Q(ye,Te,Re){return P(ye,e,Te,Re)}function J(ye,Te,Re){return P(ye,n,Te,Re)}function F(ye,Te,Re){return P(ye,r,Te,Re)}function Y(ye){return l[ye.getDay()]}function ee(ye){return s[ye.getDay()]}function ue(ye){return f[ye.getMonth()]}function ve(ye){return c[ye.getMonth()]}function H(ye){return i[+(ye.getHours()>=12)]}function W(ye){return 1+~~(ye.getMonth()/3)}function oe(ye){return l[ye.getUTCDay()]}function me(ye){return s[ye.getUTCDay()]}function we(ye){return f[ye.getUTCMonth()]}function Se(ye){return c[ye.getUTCMonth()]}function Ne(ye){return i[+(ye.getUTCHours()>=12)]}function $e(ye){return 1+~~(ye.getUTCMonth()/3)}return{format:function(ye){var Te=j(ye+="",R);return Te.toString=function(){return ye},Te},parse:function(ye){var Te=A(ye+="",!1);return Te.toString=function(){return ye},Te},utcFormat:function(ye){var Te=j(ye+="",V);return Te.toString=function(){return ye},Te},utcParse:function(ye){var Te=A(ye+="",!0);return Te.toString=function(){return ye},Te}}}var dM={"-":"",_:" ",0:"0"},sr=/^\s*\d+/,KZ=/^%/,WZ=/[\\^$*+?|[\]().{}]/g;function zt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function YZ(t){return t.replace(WZ,"\\$&")}function rh(t){return new RegExp("^(?:"+t.map(YZ).join("|")+")","i")}function ih(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function XZ(t,e,n){var r=sr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function QZ(t,e,n){var r=sr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function JZ(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function ZZ(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function eee(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function pM(t,e,n){var r=sr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function mM(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function tee(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function nee(t,e,n){var r=sr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function ree(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function gM(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function iee(t,e,n){var r=sr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function yM(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function aee(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function see(t,e,n){var r=sr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function oee(t,e,n){var r=sr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function lee(t,e,n){var r=sr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function uee(t,e,n){var r=KZ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function cee(t,e,n){var r=sr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function fee(t,e,n){var r=sr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function vM(t,e){return zt(t.getDate(),e,2)}function hee(t,e){return zt(t.getHours(),e,2)}function dee(t,e){return zt(t.getHours()%12||12,e,2)}function pee(t,e){return zt(1+Bd.count(bs(t),t),e,3)}function rV(t,e){return zt(t.getMilliseconds(),e,3)}function mee(t,e){return rV(t,e)+"000"}function gee(t,e){return zt(t.getMonth()+1,e,2)}function yee(t,e){return zt(t.getMinutes(),e,2)}function vee(t,e){return zt(t.getSeconds(),e,2)}function bee(t){var e=t.getDay();return e===0?7:e}function xee(t,e){return zt(Gy.count(bs(t)-1,t),e,2)}function iV(t){var e=t.getDay();return e>=4||e===0?Tc(t):Tc.ceil(t)}function _ee(t,e){return t=iV(t),zt(Tc.count(bs(t),t)+(bs(t).getDay()===4),e,2)}function wee(t){return t.getDay()}function See(t,e){return zt(Og.count(bs(t)-1,t),e,2)}function Tee(t,e){return zt(t.getFullYear()%100,e,2)}function Eee(t,e){return t=iV(t),zt(t.getFullYear()%100,e,2)}function Aee(t,e){return zt(t.getFullYear()%1e4,e,4)}function Oee(t,e){var n=t.getDay();return t=n>=4||n===0?Tc(t):Tc.ceil(t),zt(t.getFullYear()%1e4,e,4)}function Cee(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+zt(e/60|0,"0",2)+zt(e%60,"0",2)}function bM(t,e){return zt(t.getUTCDate(),e,2)}function Iee(t,e){return zt(t.getUTCHours(),e,2)}function Pee(t,e){return zt(t.getUTCHours()%12||12,e,2)}function kee(t,e){return zt(1+Hy.count(xs(t),t),e,3)}function aV(t,e){return zt(t.getUTCMilliseconds(),e,3)}function Ree(t,e){return aV(t,e)+"000"}function Nee(t,e){return zt(t.getUTCMonth()+1,e,2)}function jee(t,e){return zt(t.getUTCMinutes(),e,2)}function Mee(t,e){return zt(t.getUTCSeconds(),e,2)}function Dee(t){var e=t.getUTCDay();return e===0?7:e}function Lee(t,e){return zt(Ky.count(xs(t)-1,t),e,2)}function sV(t){var e=t.getUTCDay();return e>=4||e===0?Ec(t):Ec.ceil(t)}function Vee(t,e){return t=sV(t),zt(Ec.count(xs(t),t)+(xs(t).getUTCDay()===4),e,2)}function $ee(t){return t.getUTCDay()}function Uee(t,e){return zt(Cg.count(xs(t)-1,t),e,2)}function Bee(t,e){return zt(t.getUTCFullYear()%100,e,2)}function qee(t,e){return t=sV(t),zt(t.getUTCFullYear()%100,e,2)}function zee(t,e){return zt(t.getUTCFullYear()%1e4,e,4)}function Fee(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ec(t):Ec.ceil(t),zt(t.getUTCFullYear()%1e4,e,4)}function Hee(){return"+0000"}function xM(){return"%"}function _M(t){return+t}function wM(t){return Math.floor(+t/1e3)}var Uu,oV,lV;Gee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Gee(t){return Uu=GZ(t),oV=Uu.format,Uu.parse,lV=Uu.utcFormat,Uu.utcParse,Uu}function Kee(t){return new Date(t)}function Wee(t){return t instanceof Date?+t:+new Date(+t)}function gA(t,e,n,r,i,s,l,c,f,h){var p=nA(),m=p.invert,v=p.domain,_=h(".%L"),T=h(":%S"),S=h("%I:%M"),w=h("%I %p"),O=h("%a %d"),C=h("%b %d"),R=h("%B"),V=h("%Y");function I(j){return(f(j)<j?_:c(j)<j?T:l(j)<j?S:s(j)<j?w:r(j)<j?i(j)<j?O:C:n(j)<j?R:V)(j)}return p.invert=function(j){return new Date(m(j))},p.domain=function(j){return arguments.length?v(Array.from(j,Wee)):v().map(Kee)},p.ticks=function(j){var A=v();return t(A[0],A[A.length-1],j??10)},p.tickFormat=function(j,A){return A==null?I:h(A)},p.nice=function(j){var A=v();return(!j||typeof j.range!="function")&&(j=e(A[0],A[A.length-1],j??10)),j?v(W6(A,j)):p},p.copy=function(){return Ud(p,gA(t,e,n,r,i,s,l,c,f,h))},p}function Yee(){return Di.apply(gA(FZ,HZ,bs,pA,Gy,Bd,hA,cA,Tl,oV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Xee(){return Di.apply(gA(qZ,zZ,xs,mA,Ky,Hy,dA,fA,Tl,lV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Wy(){var t=0,e=1,n,r,i,s,l=Lr,c=!1,f;function h(m){return m==null||isNaN(m=+m)?f:l(i===0?.5:(m=(s(m)-n)*i,c?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([t,e]=m,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(m){return arguments.length?(c=!!m,h):c},h.interpolator=function(m){return arguments.length?(l=m,h):l};function p(m){return function(v){var _,T;return arguments.length?([_,T]=v,l=m(_,T),h):[l(0),l(1)]}}return h.range=p(tf),h.rangeRound=p(tA),h.unknown=function(m){return arguments.length?(f=m,h):f},function(m){return s=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),h}}function ko(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function uV(){var t=Po(Wy()(Lr));return t.copy=function(){return ko(t,uV())},Ts.apply(t,arguments)}function cV(){var t=aA(Wy()).domain([1,10]);return t.copy=function(){return ko(t,cV()).base(t.base())},Ts.apply(t,arguments)}function fV(){var t=sA(Wy());return t.copy=function(){return ko(t,fV()).constant(t.constant())},Ts.apply(t,arguments)}function yA(){var t=oA(Wy());return t.copy=function(){return ko(t,yA()).exponent(t.exponent())},Ts.apply(t,arguments)}function Qee(){return yA.apply(null,arguments).exponent(.5)}function hV(){var t=[],e=Lr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Vd(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(bo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>LJ(t,s/r))},n.copy=function(){return hV(e).domain(t)},Ts.apply(n,arguments)}function Yy(){var t=0,e=.5,n=1,r=1,i,s,l,c,f,h=Lr,p,m=!1,v;function _(S){return isNaN(S=+S)?v:(S=.5+((S=+p(S))-s)*(r*S<r*s?c:f),h(m?Math.max(0,Math.min(1,S)):S))}_.domain=function(S){return arguments.length?([t,e,n]=S,i=p(t=+t),s=p(e=+e),l=p(n=+n),c=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),r=s<i?-1:1,_):[t,e,n]},_.clamp=function(S){return arguments.length?(m=!!S,_):m},_.interpolator=function(S){return arguments.length?(h=S,_):h};function T(S){return function(w){var O,C,R;return arguments.length?([O,C,R]=w,h=uZ(S,[O,C,R]),_):[h(0),h(.5),h(1)]}}return _.range=T(tf),_.rangeRound=T(tA),_.unknown=function(S){return arguments.length?(v=S,_):v},function(S){return p=S,i=S(t),s=S(e),l=S(n),c=i===s?0:.5/(s-i),f=s===l?0:.5/(l-s),r=s<i?-1:1,_}}function dV(){var t=Po(Yy()(Lr));return t.copy=function(){return ko(t,dV())},Ts.apply(t,arguments)}function pV(){var t=aA(Yy()).domain([.1,1,10]);return t.copy=function(){return ko(t,pV()).base(t.base())},Ts.apply(t,arguments)}function mV(){var t=sA(Yy());return t.copy=function(){return ko(t,mV()).constant(t.constant())},Ts.apply(t,arguments)}function vA(){var t=oA(Yy());return t.copy=function(){return ko(t,vA()).exponent(t.exponent())},Ts.apply(t,arguments)}function Jee(){return vA.apply(null,arguments).exponent(.5)}const SM=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Yh,scaleDiverging:dV,scaleDivergingLog:pV,scaleDivergingPow:vA,scaleDivergingSqrt:Jee,scaleDivergingSymlog:mV,scaleIdentity:K6,scaleImplicit:DS,scaleLinear:Eg,scaleLog:Y6,scaleOrdinal:JE,scalePoint:Ch,scalePow:lA,scaleQuantile:J6,scaleQuantize:Z6,scaleRadial:Q6,scaleSequential:uV,scaleSequentialLog:cV,scaleSequentialPow:yA,scaleSequentialQuantile:hV,scaleSequentialSqrt:Qee,scaleSequentialSymlog:fV,scaleSqrt:RZ,scaleSymlog:X6,scaleThreshold:eV,scaleTime:Yee,scaleUtc:Xee,tickFormat:G6},Symbol.toStringTag,{value:"Module"}));var zw,TM;function Xy(){if(TM)return zw;TM=1;var t=Qc();function e(n,r,i){for(var s=-1,l=n.length;++s<l;){var c=n[s],f=r(c);if(f!=null&&(h===void 0?f===f&&!t(f):i(f,h)))var h=f,p=c}return p}return zw=e,zw}var Fw,EM;function gV(){if(EM)return Fw;EM=1;function t(e,n){return e>n}return Fw=t,Fw}var Hw,AM;function Zee(){if(AM)return Hw;AM=1;var t=Xy(),e=gV(),n=ef();function r(i){return i&&i.length?t(i,n,e):void 0}return Hw=r,Hw}var ete=Zee();const Qy=Gt(ete);var Gw,OM;function yV(){if(OM)return Gw;OM=1;function t(e,n){return e<n}return Gw=t,Gw}var Kw,CM;function tte(){if(CM)return Kw;CM=1;var t=Xy(),e=yV(),n=ef();function r(i){return i&&i.length?t(i,n,e):void 0}return Kw=r,Kw}var nte=tte();const Jy=Gt(nte);var Ww,IM;function rte(){if(IM)return Ww;IM=1;var t=jE(),e=ja(),n=T6(),r=Yr();function i(s,l){var c=r(s)?t:n;return c(s,e(l,3))}return Ww=i,Ww}var Yw,PM;function ite(){if(PM)return Yw;PM=1;var t=w6(),e=rte();function n(r,i){return t(e(r,i),1)}return Yw=n,Yw}var ate=ite();const ste=Gt(ate);var Xw,kM;function ote(){if(kM)return Xw;kM=1;var t=KE();function e(n,r){return t(n,r)}return Xw=e,Xw}var lte=ote();const qd=Gt(lte);var nf=1e9,ute={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},xA,bn=!0,Mi="[DecimalError] ",Il=Mi+"Invalid argument: ",bA=Mi+"Exponent out of range: ",rf=Math.floor,ml=Math.pow,cte=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,fi,rr=1e7,pn=7,vV=9007199254740991,Ig=rf(vV/pn),Le={};Le.absoluteValue=Le.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Le.comparedTo=Le.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Le.decimalPlaces=Le.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*pn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Le.dividedBy=Le.div=function(t){return hs(this,new this.constructor(t))};Le.dividedToIntegerBy=Le.idiv=function(t){var e=this,n=e.constructor;return ln(hs(e,new n(t),0,1),n.precision)};Le.equals=Le.eq=function(t){return!this.cmp(t)};Le.exponent=function(){return Hn(this)};Le.greaterThan=Le.gt=function(t){return this.cmp(t)>0};Le.greaterThanOrEqualTo=Le.gte=function(t){return this.cmp(t)>=0};Le.isInteger=Le.isint=function(){return this.e>this.d.length-2};Le.isNegative=Le.isneg=function(){return this.s<0};Le.isPositive=Le.ispos=function(){return this.s>0};Le.isZero=function(){return this.s===0};Le.lessThan=Le.lt=function(t){return this.cmp(t)<0};Le.lessThanOrEqualTo=Le.lte=function(t){return this.cmp(t)<1};Le.logarithm=Le.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(fi))throw Error(Mi+"NaN");if(n.s<1)throw Error(Mi+(n.s?"NaN":"-Infinity"));return n.eq(fi)?new r(0):(bn=!1,e=hs(ed(n,s),ed(t,s),s),bn=!0,ln(e,i))};Le.minus=Le.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?_V(e,t):bV(e,(t.s=-t.s,t))};Le.modulo=Le.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Mi+"NaN");return n.s?(bn=!1,e=hs(n,t,0,1).times(t),bn=!0,n.minus(e)):ln(new r(n),i)};Le.naturalExponential=Le.exp=function(){return xV(this)};Le.naturalLogarithm=Le.ln=function(){return ed(this)};Le.negated=Le.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Le.plus=Le.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?bV(e,t):_V(e,(t.s=-t.s,t))};Le.precision=Le.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Il+t);if(e=Hn(i)+1,r=i.d.length-1,n=r*pn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Le.squareRoot=Le.sqrt=function(){var t,e,n,r,i,s,l,c=this,f=c.constructor;if(c.s<1){if(!c.s)return new f(0);throw Error(Mi+"NaN")}for(t=Hn(c),bn=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=ba(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=rf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=l=n+3;;)if(s=r,r=s.plus(hs(c,s,l+2)).times(.5),ba(s.d).slice(0,l)===(e=ba(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(ln(s,n+1,0),s.times(s).eq(c)){r=s;break}}else if(e!="9999")break;l+=4}return bn=!0,ln(r,n)};Le.times=Le.mul=function(t){var e,n,r,i,s,l,c,f,h,p=this,m=p.constructor,v=p.d,_=(t=new m(t)).d;if(!p.s||!t.s)return new m(0);for(t.s*=p.s,n=p.e+t.e,f=v.length,h=_.length,f<h&&(s=v,v=_,_=s,l=f,f=h,h=l),s=[],l=f+h,r=l;r--;)s.push(0);for(r=h;--r>=0;){for(e=0,i=f+r;i>r;)c=s[i]+_[r]*v[i-r-1]+e,s[i--]=c%rr|0,e=c/rr|0;s[i]=(s[i]+e)%rr|0}for(;!s[--l];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,bn?ln(t,m.precision):t};Le.toDecimalPlaces=Le.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ka(t,0,nf),e===void 0?e=r.rounding:ka(e,0,8),ln(n,t+Hn(n)+1,e))};Le.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=$l(r,!0):(ka(t,0,nf),e===void 0?e=i.rounding:ka(e,0,8),r=ln(new i(r),t+1,e),n=$l(r,!0,t+1)),n};Le.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?$l(i):(ka(t,0,nf),e===void 0?e=s.rounding:ka(e,0,8),r=ln(new s(i),t+Hn(i)+1,e),n=$l(r.abs(),!1,t+Hn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Le.toInteger=Le.toint=function(){var t=this,e=t.constructor;return ln(new e(t),Hn(t)+1,e.rounding)};Le.toNumber=function(){return+this};Le.toPower=Le.pow=function(t){var e,n,r,i,s,l,c=this,f=c.constructor,h=12,p=+(t=new f(t));if(!t.s)return new f(fi);if(c=new f(c),!c.s){if(t.s<1)throw Error(Mi+"Infinity");return c}if(c.eq(fi))return c;if(r=f.precision,t.eq(fi))return ln(c,r);if(e=t.e,n=t.d.length-1,l=e>=n,s=c.s,l){if((n=p<0?-p:p)<=vV){for(i=new f(fi),e=Math.ceil(r/pn+4),bn=!1;n%2&&(i=i.times(c),NM(i.d,e)),n=rf(n/2),n!==0;)c=c.times(c),NM(c.d,e);return bn=!0,t.s<0?new f(fi).div(i):ln(i,r)}}else if(s<0)throw Error(Mi+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,bn=!1,i=t.times(ed(c,r+h)),bn=!0,i=xV(i),i.s=s,i};Le.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Hn(i),r=$l(i,n<=s.toExpNeg||n>=s.toExpPos)):(ka(t,1,nf),e===void 0?e=s.rounding:ka(e,0,8),i=ln(new s(i),t,e),n=Hn(i),r=$l(i,t<=n||n<=s.toExpNeg,t)),r};Le.toSignificantDigits=Le.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ka(t,1,nf),e===void 0?e=r.rounding:ka(e,0,8)),ln(new r(n),t,e)};Le.toString=Le.valueOf=Le.val=Le.toJSON=Le[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Hn(t),n=t.constructor;return $l(t,e<=n.toExpNeg||e>=n.toExpPos)};function bV(t,e){var n,r,i,s,l,c,f,h,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),bn?ln(e,m):e;if(f=t.d,h=e.d,l=t.e,i=e.e,f=f.slice(),s=l-i,s){for(s<0?(r=f,s=-s,c=h.length):(r=h,i=l,c=f.length),l=Math.ceil(m/pn),c=l>c?l+1:c+1,s>c&&(s=c,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(c=f.length,s=h.length,c-s<0&&(s=c,r=h,h=f,f=r),n=0;s;)n=(f[--s]=f[s]+h[s]+n)/rr|0,f[s]%=rr;for(n&&(f.unshift(n),++i),c=f.length;f[--c]==0;)f.pop();return e.d=f,e.e=i,bn?ln(e,m):e}function ka(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Il+t)}function ba(t){var e,n,r,i=t.length-1,s="",l=t[0];if(i>0){for(s+=l,e=1;e<i;e++)r=t[e]+"",n=pn-r.length,n&&(s+=ao(n)),s+=r;l=t[e],r=l+"",n=pn-r.length,n&&(s+=ao(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var hs=(function(){function t(r,i){var s,l=0,c=r.length;for(r=r.slice();c--;)s=r[c]*i+l,r[c]=s%rr|0,l=s/rr|0;return l&&r.unshift(l),r}function e(r,i,s,l){var c,f;if(s!=l)f=s>l?1:-1;else for(c=f=0;c<s;c++)if(r[c]!=i[c]){f=r[c]>i[c]?1:-1;break}return f}function n(r,i,s){for(var l=0;s--;)r[s]-=l,l=r[s]<i[s]?1:0,r[s]=l*rr+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,l){var c,f,h,p,m,v,_,T,S,w,O,C,R,V,I,j,A,P,N=r.constructor,B=r.s==i.s?1:-1,D=r.d,$=i.d;if(!r.s)return new N(r);if(!i.s)throw Error(Mi+"Division by zero");for(f=r.e-i.e,A=$.length,I=D.length,_=new N(B),T=_.d=[],h=0;$[h]==(D[h]||0);)++h;if($[h]>(D[h]||0)&&--f,s==null?C=s=N.precision:l?C=s+(Hn(r)-Hn(i))+1:C=s,C<0)return new N(0);if(C=C/pn+2|0,h=0,A==1)for(p=0,$=$[0],C++;(h<I||p)&&C--;h++)R=p*rr+(D[h]||0),T[h]=R/$|0,p=R%$|0;else{for(p=rr/($[0]+1)|0,p>1&&($=t($,p),D=t(D,p),A=$.length,I=D.length),V=A,S=D.slice(0,A),w=S.length;w<A;)S[w++]=0;P=$.slice(),P.unshift(0),j=$[0],$[1]>=rr/2&&++j;do p=0,c=e($,S,A,w),c<0?(O=S[0],A!=w&&(O=O*rr+(S[1]||0)),p=O/j|0,p>1?(p>=rr&&(p=rr-1),m=t($,p),v=m.length,w=S.length,c=e(m,S,v,w),c==1&&(p--,n(m,A<v?P:$,v))):(p==0&&(c=p=1),m=$.slice()),v=m.length,v<w&&m.unshift(0),n(S,m,w),c==-1&&(w=S.length,c=e($,S,A,w),c<1&&(p++,n(S,A<w?P:$,w))),w=S.length):c===0&&(p++,S=[0]),T[h++]=p,c&&S[0]?S[w++]=D[V]||0:(S=[D[V]],w=1);while((V++<I||S[0]!==void 0)&&C--)}return T[0]||T.shift(),_.e=f,ln(_,l?s+Hn(_)+1:s)}})();function xV(t,e){var n,r,i,s,l,c,f=0,h=0,p=t.constructor,m=p.precision;if(Hn(t)>16)throw Error(bA+Hn(t));if(!t.s)return new p(fi);for(bn=!1,c=m,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(r=Math.log(ml(2,h))/Math.LN10*2+5|0,c+=r,n=i=s=new p(fi),p.precision=c;;){if(i=ln(i.times(t),c),n=n.times(++f),l=s.plus(hs(i,n,c)),ba(l.d).slice(0,c)===ba(s.d).slice(0,c)){for(;h--;)s=ln(s.times(s),c);return p.precision=m,e==null?(bn=!0,ln(s,m)):s}s=l}}function Hn(t){for(var e=t.e*pn,n=t.d[0];n>=10;n/=10)e++;return e}function Qw(t,e,n){if(e>t.LN10.sd())throw bn=!0,n&&(t.precision=n),Error(Mi+"LN10 precision limit exceeded");return ln(new t(t.LN10),e)}function ao(t){for(var e="";t--;)e+="0";return e}function ed(t,e){var n,r,i,s,l,c,f,h,p,m=1,v=10,_=t,T=_.d,S=_.constructor,w=S.precision;if(_.s<1)throw Error(Mi+(_.s?"NaN":"-Infinity"));if(_.eq(fi))return new S(0);if(e==null?(bn=!1,h=w):h=e,_.eq(10))return e==null&&(bn=!0),Qw(S,h);if(h+=v,S.precision=h,n=ba(T),r=n.charAt(0),s=Hn(_),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=ba(_.d),r=n.charAt(0),m++;s=Hn(_),r>1?(_=new S("0."+n),s++):_=new S(r+"."+n.slice(1))}else return f=Qw(S,h+2,w).times(s+""),_=ed(new S(r+"."+n.slice(1)),h-v).plus(f),S.precision=w,e==null?(bn=!0,ln(_,w)):_;for(c=l=_=hs(_.minus(fi),_.plus(fi),h),p=ln(_.times(_),h),i=3;;){if(l=ln(l.times(p),h),f=c.plus(hs(l,new S(i),h)),ba(f.d).slice(0,h)===ba(c.d).slice(0,h))return c=c.times(2),s!==0&&(c=c.plus(Qw(S,h+2,w).times(s+""))),c=hs(c,new S(m),h),S.precision=w,e==null?(bn=!0,ln(c,w)):c;c=f,i+=2}}function RM(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=rf(n/pn),t.d=[],r=(n+1)%pn,n<0&&(r+=pn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=pn;r<i;)t.d.push(+e.slice(r,r+=pn));e=e.slice(r),r=pn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),bn&&(t.e>Ig||t.e<-Ig))throw Error(bA+n)}else t.s=0,t.e=0,t.d=[0];return t}function ln(t,e,n){var r,i,s,l,c,f,h,p,m=t.d;for(l=1,s=m[0];s>=10;s/=10)l++;if(r=e-l,r<0)r+=pn,i=e,h=m[p=0];else{if(p=Math.ceil((r+1)/pn),s=m.length,p>=s)return t;for(h=s=m[p],l=1;s>=10;s/=10)l++;r%=pn,i=r-pn+l}if(n!==void 0&&(s=ml(10,l-i-1),c=h/s%10|0,f=e<0||m[p+1]!==void 0||h%s,f=n<4?(c||f)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||f||n==6&&(r>0?i>0?h/ml(10,l-i):0:m[p-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return f?(s=Hn(t),m.length=1,e=e-s-1,m[0]=ml(10,(pn-e%pn)%pn),t.e=rf(-e/pn)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=p,s=1,p--):(m.length=p+1,s=ml(10,pn-r),m[p]=i>0?(h/ml(10,l-i)%ml(10,i)|0)*s:0),f)for(;;)if(p==0){(m[0]+=s)==rr&&(m[0]=1,++t.e);break}else{if(m[p]+=s,m[p]!=rr)break;m[p--]=0,s=1}for(r=m.length;m[--r]===0;)m.pop();if(bn&&(t.e>Ig||t.e<-Ig))throw Error(bA+Hn(t));return t}function _V(t,e){var n,r,i,s,l,c,f,h,p,m,v=t.constructor,_=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),bn?ln(e,_):e;if(f=t.d,m=e.d,r=e.e,h=t.e,f=f.slice(),l=h-r,l){for(p=l<0,p?(n=f,l=-l,c=m.length):(n=m,r=h,c=f.length),i=Math.max(Math.ceil(_/pn),c)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=f.length,c=m.length,p=i<c,p&&(c=i),i=0;i<c;i++)if(f[i]!=m[i]){p=f[i]<m[i];break}l=0}for(p&&(n=f,f=m,m=n,e.s=-e.s),c=f.length,i=m.length-c;i>0;--i)f[c++]=0;for(i=m.length;i>l;){if(f[--i]<m[i]){for(s=i;s&&f[--s]===0;)f[s]=rr-1;--f[s],f[i]+=rr}f[i]-=m[i]}for(;f[--c]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,bn?ln(e,_):e):new v(0)}function $l(t,e,n){var r,i=Hn(t),s=ba(t.d),l=s.length;return e?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+ao(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+ao(-i-1)+s,n&&(r=n-l)>0&&(s+=ao(r))):i>=l?(s+=ao(i+1-l),n&&(r=n-i-1)>0&&(s=s+"."+ao(r))):((r=i+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(s+="."),s+=ao(r))),t.s<0?"-"+s:s}function NM(t,e){if(t.length>e)return t.length=e,!0}function wV(t){var e,n,r;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Il+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return RM(l,s.toString())}else if(typeof s!="string")throw Error(Il+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,cte.test(s))RM(l,s);else throw Error(Il+s)}if(i.prototype=Le,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=wV,i.config=i.set=fte,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function fte(t){if(!t||typeof t!="object")throw Error(Mi+"Object expected");var e,n,r,i=["precision",1,nf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(rf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Il+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Il+n+": "+r);return this}var xA=wV(ute);fi=new xA(1);const sn=xA;function hte(t){return gte(t)||mte(t)||pte(t)||dte()}function dte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pte(t,e){if(t){if(typeof t=="string")return US(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return US(t,e)}}function mte(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function gte(t){if(Array.isArray(t))return US(t)}function US(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var yte=function(e){return e},SV={},TV=function(e){return e===SV},jM=function(e){return function n(){return arguments.length===0||arguments.length===1&&TV(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},vte=function t(e,n){return e===1?n:jM(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var l=i.filter(function(c){return c!==SV}).length;return l>=e?n.apply(void 0,i):t(e-l,jM(function(){for(var c=arguments.length,f=new Array(c),h=0;h<c;h++)f[h]=arguments[h];var p=i.map(function(m){return TV(m)?f.shift():m});return n.apply(void 0,hte(p).concat(f))}))})},Zy=function(e){return vte(e.length,e)},BS=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},bte=Zy(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),xte=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return yte;var i=n.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce(function(c,f){return f(c)},s.apply(void 0,arguments))}},qS=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},EV=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return n&&s.every(function(c,f){return c===n[f]})||(n=s,r=e.apply(void 0,s)),r}};function _te(t){var e;return t===0?e=1:e=Math.floor(new sn(t).abs().log(10).toNumber())+1,e}function wte(t,e,n){for(var r=new sn(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var Ste=Zy(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Tte=Zy(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Ete=Zy(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const ev={rangeStep:wte,getDigitCount:_te,interpolateNumber:Ste,uninterpolateNumber:Tte,uninterpolateTruncation:Ete};function zS(t){return Cte(t)||Ote(t)||AV(t)||Ate()}function Ate(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ote(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Cte(t){if(Array.isArray(t))return FS(t)}function td(t,e){return kte(t)||Pte(t,e)||AV(t,e)||Ite()}function Ite(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AV(t,e){if(t){if(typeof t=="string")return FS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FS(t,e)}}function FS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pte(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var l=t[Symbol.iterator](),c;!(r=(c=l.next()).done)&&(n.push(c.value),!(e&&n.length===e));r=!0);}catch(f){i=!0,s=f}finally{try{!r&&l.return!=null&&l.return()}finally{if(i)throw s}}return n}}function kte(t){if(Array.isArray(t))return t}function OV(t){var e=td(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function CV(t,e,n){if(t.lte(0))return new sn(0);var r=ev.getDigitCount(t.toNumber()),i=new sn(10).pow(r),s=t.div(i),l=r!==1?.05:.1,c=new sn(Math.ceil(s.div(l).toNumber())).add(n).mul(l),f=c.mul(i);return e?f:new sn(Math.ceil(f))}function Rte(t,e,n){var r=1,i=new sn(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new sn(10).pow(ev.getDigitCount(t)-1),i=new sn(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new sn(Math.floor(t)))}else t===0?i=new sn(Math.floor((e-1)/2)):n||(i=new sn(Math.floor(t)));var l=Math.floor((e-1)/2),c=xte(bte(function(f){return i.add(new sn(f-l).mul(r)).toNumber()}),BS);return c(0,e)}function IV(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new sn(0),tickMin:new sn(0),tickMax:new sn(0)};var s=CV(new sn(e).sub(t).div(n-1),r,i),l;t<=0&&e>=0?l=new sn(0):(l=new sn(t).add(e).div(2),l=l.sub(new sn(l).mod(s)));var c=Math.ceil(l.sub(t).div(s).toNumber()),f=Math.ceil(new sn(e).sub(l).div(s).toNumber()),h=c+f+1;return h>n?IV(t,e,n,r,i+1):(h<n&&(f=e>0?f+(n-h):f,c=e>0?c:c+(n-h)),{step:s,tickMin:l.sub(new sn(c).mul(s)),tickMax:l.add(new sn(f).mul(s))})}function Nte(t){var e=td(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),c=OV([n,r]),f=td(c,2),h=f[0],p=f[1];if(h===-1/0||p===1/0){var m=p===1/0?[h].concat(zS(BS(0,i-1).map(function(){return 1/0}))):[].concat(zS(BS(0,i-1).map(function(){return-1/0})),[p]);return n>r?qS(m):m}if(h===p)return Rte(h,i,s);var v=IV(h,p,l,s),_=v.step,T=v.tickMin,S=v.tickMax,w=ev.rangeStep(T,S.add(new sn(.1).mul(_)),_);return n>r?qS(w):w}function jte(t,e){var n=td(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=OV([r,i]),c=td(l,2),f=c[0],h=c[1];if(f===-1/0||h===1/0)return[r,i];if(f===h)return[f];var p=Math.max(e,2),m=CV(new sn(h).sub(f).div(p-1),s,0),v=[].concat(zS(ev.rangeStep(new sn(f),new sn(h).sub(new sn(.99).mul(m)),m)),[h]);return r>i?qS(v):v}var Mte=EV(Nte),Dte=EV(jte),Lte="Invariant failed";function Ul(t,e){throw new Error(Lte)}var Vte=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Ac(t){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ac(t)}function Pg(){return Pg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pg.apply(this,arguments)}function $te(t,e){return zte(t)||qte(t,e)||Bte(t,e)||Ute()}function Ute(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bte(t,e){if(t){if(typeof t=="string")return MM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MM(t,e)}}function MM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,c=[],f=!0,h=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function zte(t){if(Array.isArray(t))return t}function Fte(t,e){if(t==null)return{};var n=Hte(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RV(r.key),r)}}function Wte(t,e,n){return e&&Kte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yte(t,e,n){return e=kg(e),Xte(t,PV()?Reflect.construct(e,n||[],kg(t).constructor):e.apply(t,n))}function Xte(t,e){if(e&&(Ac(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qte(t)}function Qte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PV=function(){return!!t})()}function kg(t){return kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kg(t)}function Jte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HS(t,e)}function HS(t,e){return HS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HS(t,e)}function kV(t,e,n){return e=RV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RV(t){var e=Zte(t,"string");return Ac(e)=="symbol"?e:e+""}function Zte(t,e){if(Ac(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zd=(function(t){function e(){return Gte(this,e),Yte(this,e,arguments)}return Jte(e,t),Wte(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,l=r.width,c=r.dataKey,f=r.data,h=r.dataPointFormatter,p=r.xAxis,m=r.yAxis,v=Fte(r,Vte),_=Je(v,!1);this.props.direction==="x"&&p.type!=="number"&&Ul();var T=f.map(function(S){var w=h(S,c),O=w.x,C=w.y,R=w.value,V=w.errorVal;if(!V)return null;var I=[],j,A;if(Array.isArray(V)){var P=$te(V,2);j=P[0],A=P[1]}else j=A=V;if(s==="vertical"){var N=p.scale,B=C+i,D=B+l,$=B-l,L=N(R-j),Q=N(R+A);I.push({x1:Q,y1:D,x2:Q,y2:$}),I.push({x1:L,y1:B,x2:Q,y2:B}),I.push({x1:L,y1:D,x2:L,y2:$})}else if(s==="horizontal"){var J=m.scale,F=O+i,Y=F-l,ee=F+l,ue=J(R-j),ve=J(R+A);I.push({x1:Y,y1:ve,x2:ee,y2:ve}),I.push({x1:F,y1:ue,x2:F,y2:ve}),I.push({x1:Y,y1:ue,x2:ee,y2:ue})}return G.createElement(qt,Pg({className:"recharts-errorBar",key:"bar-".concat(I.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},_),I.map(function(H){return G.createElement("line",Pg({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return G.createElement(qt,{className:"recharts-errorBars"},T)}}])})(G.Component);kV(zd,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});kV(zd,"displayName","ErrorBar");function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function DM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ll(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DM(Object(n),!0).forEach(function(r){ene(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ene(t,e,n){return e=tne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tne(t){var e=nne(t,"string");return nd(e)=="symbol"?e:e+""}function nne(t,e){if(nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NV=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,l=ui(n,vo);if(!l)return null;var c=vo.defaultProps,f=c!==void 0?ll(ll({},c),l.props):{},h;return l.props&&l.props.payload?h=l.props&&l.props.payload:s==="children"?h=(r||[]).reduce(function(p,m){var v=m.item,_=m.props,T=_.sectors||_.data||[];return p.concat(T.map(function(S){return{type:l.props.iconType||v.props.legendType,value:S.name,color:S.fill,payload:S}}))},[]):h=(r||[]).map(function(p){var m=p.item,v=m.type.defaultProps,_=v!==void 0?ll(ll({},v),m.props):{},T=_.dataKey,S=_.name,w=_.legendType,O=_.hide;return{inactive:O,dataKey:T,type:f.iconType||w||"square",color:_A(m),value:S||T,payload:_}}),ll(ll(ll({},f),vo.getWithHeight(l,i)),{},{payload:h,item:l})};function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function LM(t){return sne(t)||ane(t)||ine(t)||rne()}function rne(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ine(t,e){if(t){if(typeof t=="string")return GS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GS(t,e)}}function ane(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sne(t){if(Array.isArray(t))return GS(t)}function GS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function VM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function In(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VM(Object(n),!0).forEach(function(r){lc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lc(t,e,n){return e=one(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function one(t){var e=lne(t,"string");return rd(e)=="symbol"?e:e+""}function lne(t,e){if(rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xn(t,e,n){return ct(t)||ct(e)?n:Jn(e)?di(t,e,n):rt(e)?e(t):n}function Ih(t,e,n,r){var i=ste(t,function(c){return Xn(c,e)});if(n==="number"){var s=i.filter(function(c){return Ce(c)||parseFloat(c)});return s.length?[Jy(s),Qy(s)]:[1/0,-1/0]}var l=r?i.filter(function(c){return!ct(c)}):i;return l.map(function(c){return Jn(c)||c instanceof Date?c:""})}var une=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,l=-1,c=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(c<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var f=s.range,h=0;h<c;h++){var p=h>0?i[h-1].coordinate:i[c-1].coordinate,m=i[h].coordinate,v=h>=c-1?i[0].coordinate:i[h+1].coordinate,_=void 0;if(Mr(m-p)!==Mr(v-m)){var T=[];if(Mr(v-m)===Mr(f[1]-f[0])){_=v;var S=m+f[1]-f[0];T[0]=Math.min(S,(S+p)/2),T[1]=Math.max(S,(S+p)/2)}else{_=p;var w=v+f[1]-f[0];T[0]=Math.min(m,(w+m)/2),T[1]=Math.max(m,(w+m)/2)}var O=[Math.min(m,(_+m)/2),Math.max(m,(_+m)/2)];if(e>O[0]&&e<=O[1]||e>=T[0]&&e<=T[1]){l=i[h].index;break}}else{var C=Math.min(p,v),R=Math.max(p,v);if(e>(C+m)/2&&e<=(R+m)/2){l=i[h].index;break}}}else for(var V=0;V<c;V++)if(V===0&&e<=(r[V].coordinate+r[V+1].coordinate)/2||V>0&&V<c-1&&e>(r[V].coordinate+r[V-1].coordinate)/2&&e<=(r[V].coordinate+r[V+1].coordinate)/2||V===c-1&&e>(r[V].coordinate+r[V-1].coordinate)/2){l=r[V].index;break}return l},_A=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?In(In({},e.type.defaultProps),e.props):e.props,l=s.stroke,c=s.fill,f;switch(i){case"Line":f=l;break;case"Area":case"Radar":f=l&&l!=="none"?l:c;break;default:f=c;break}return f},cne=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var l={},c=Object.keys(s),f=0,h=c.length;f<h;f++)for(var p=s[c[f]].stackGroups,m=Object.keys(p),v=0,_=m.length;v<_;v++){var T=p[m[v]],S=T.items,w=T.cateAxisId,O=S.filter(function(A){return fs(A.type).indexOf("Bar")>=0});if(O&&O.length){var C=O[0].type.defaultProps,R=C!==void 0?In(In({},C),O[0].props):O[0].props,V=R.barSize,I=R[w];l[I]||(l[I]=[]);var j=ct(V)?n:V;l[I].push({item:O[0],stackList:O.slice(1),barSize:ct(j)?void 0:Dr(j,r,0)})}}return l},fne=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,l=s===void 0?[]:s,c=e.maxBarSize,f=l.length;if(f<1)return null;var h=Dr(n,i,0,!0),p,m=[];if(l[0].barSize===+l[0].barSize){var v=!1,_=i/f,T=l.reduce(function(V,I){return V+I.barSize||0},0);T+=(f-1)*h,T>=i&&(T-=(f-1)*h,h=0),T>=i&&_>0&&(v=!0,_*=.9,T=f*_);var S=(i-T)/2>>0,w={offset:S-h,size:0};p=l.reduce(function(V,I){var j={item:I.item,position:{offset:w.offset+w.size+h,size:v?_:I.barSize}},A=[].concat(LM(V),[j]);return w=A[A.length-1].position,I.stackList&&I.stackList.length&&I.stackList.forEach(function(P){A.push({item:P,position:w})}),A},m)}else{var O=Dr(r,i,0,!0);i-2*O-(f-1)*h<=0&&(h=0);var C=(i-2*O-(f-1)*h)/f;C>1&&(C>>=0);var R=c===+c?Math.min(C,c):C;p=l.reduce(function(V,I,j){var A=[].concat(LM(V),[{item:I.item,position:{offset:O+(C+h)*j+(C-R)/2,size:R}}]);return I.stackList&&I.stackList.length&&I.stackList.forEach(function(P){A.push({item:P,position:A[A.length-1].position})}),A},m)}return p},hne=function(e,n,r,i){var s=r.children,l=r.width,c=r.margin,f=l-(c.left||0)-(c.right||0),h=NV({children:s,legendWidth:f});if(h){var p=i||{},m=p.width,v=p.height,_=h.align,T=h.verticalAlign,S=h.layout;if((S==="vertical"||S==="horizontal"&&T==="middle")&&_!=="center"&&Ce(e[_]))return In(In({},e),{},lc({},_,e[_]+(m||0)));if((S==="horizontal"||S==="vertical"&&_==="center")&&T!=="middle"&&Ce(e[T]))return In(In({},e),{},lc({},T,e[T]+(v||0)))}return e},dne=function(e,n,r){return ct(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},jV=function(e,n,r,i,s){var l=n.props.children,c=pi(l,zd).filter(function(h){return dne(i,s,h.props.direction)});if(c&&c.length){var f=c.map(function(h){return h.props.dataKey});return e.reduce(function(h,p){var m=Xn(p,r);if(ct(m))return h;var v=Array.isArray(m)?[Jy(m),Qy(m)]:[m,m],_=f.reduce(function(T,S){var w=Xn(p,S,0),O=v[0]-Math.abs(Array.isArray(w)?w[0]:w),C=v[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(O,T[0]),Math.max(C,T[1])]},[1/0,-1/0]);return[Math.min(_[0],h[0]),Math.max(_[1],h[1])]},[1/0,-1/0])}return null},pne=function(e,n,r,i,s){var l=n.map(function(c){return jV(e,c,r,s,i)}).filter(function(c){return!ct(c)});return l&&l.length?l.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]):null},MV=function(e,n,r,i,s){var l=n.map(function(f){var h=f.props.dataKey;return r==="number"&&h&&jV(e,f,h,i)||Ih(e,h,r,s)});if(r==="number")return l.reduce(function(f,h){return[Math.min(f[0],h[0]),Math.max(f[1],h[1])]},[1/0,-1/0]);var c={};return l.reduce(function(f,h){for(var p=0,m=h.length;p<m;p++)c[h[p]]||(c[h[p]]=!0,f.push(h[p]));return f},[])},DV=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},LV=function(e,n,r,i){if(i)return e.map(function(f){return f.coordinate});var s,l,c=e.map(function(f){return f.coordinate===n&&(s=!0),f.coordinate===r&&(l=!0),f.coordinate});return s||c.push(n),l||c.push(r),c},cs=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,l=e.type,c=e.range,f=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,h=(n||r)&&l==="category"&&i.bandwidth?i.bandwidth()/f:0;if(h=e.axisType==="angleAxis"&&(c==null?void 0:c.length)>=2?Mr(c[0]-c[1])*2*h:h,n&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(m){var v=s?s.indexOf(m):m;return{coordinate:i(v)+h,value:m,offset:h}});return p.filter(function(m){return!Dd(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,v){return{coordinate:i(m)+h,value:m,index:v,offset:h}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+h,value:m,offset:h}}):i.domain().map(function(m,v){return{coordinate:i(m)+h,value:s?s[m]:m,index:v,offset:h}})},Jw=new WeakMap,_m=function(e,n){if(typeof n!="function")return e;Jw.has(e)||Jw.set(e,new WeakMap);var r=Jw.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},VV=function(e,n,r){var i=e.scale,s=e.type,l=e.layout,c=e.axisType;if(i==="auto")return l==="radial"&&c==="radiusAxis"?{scale:Yh(),realScaleType:"band"}:l==="radial"&&c==="angleAxis"?{scale:Eg(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Ch(),realScaleType:"point"}:s==="category"?{scale:Yh(),realScaleType:"band"}:{scale:Eg(),realScaleType:"linear"};if(Dl(i)){var f="scale".concat(Dy(i));return{scale:(SM[f]||Ch)(),realScaleType:SM[f]?f:"point"}}return rt(i)?{scale:i}:{scale:Ch(),realScaleType:"point"}},$M=1e-4,$V=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-$M,l=Math.max(i[0],i[1])+$M,c=e(n[0]),f=e(n[r-1]);(c<s||c>l||f<s||f>l)&&e.domain([n[0],n[r-1]])}},mne=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},gne=function(e,n){if(!n||n.length!==2||!Ce(n[0])||!Ce(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!Ce(e[0])||e[0]<r)&&(s[0]=r),(!Ce(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},yne=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,l=0,c=0;c<n;++c){var f=Dd(e[c][r][1])?e[c][r][0]:e[c][r][1];f>=0?(e[c][r][0]=s,e[c][r][1]=s+f,s=e[c][r][1]):(e[c][r][0]=l,e[c][r][1]=l+f,l=e[c][r][1])}},vne=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,l=0;l<n;++l){var c=Dd(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=s,e[l][r][1]=s+c,s=e[l][r][1]):(e[l][r][0]=0,e[l][r][1]=0)}},bne={sign:yne,expand:sY,none:vc,silhouette:oY,wiggle:lY,positive:vne},xne=function(e,n,r){var i=n.map(function(c){return c.props.dataKey}),s=bne[r],l=aY().keys(i).value(function(c,f){return+Xn(c,f,0)}).order(wS).offset(s);return l(e)},_ne=function(e,n,r,i,s,l){if(!e)return null;var c=l?n.reverse():n,f={},h=c.reduce(function(m,v){var _,T=(_=v.type)!==null&&_!==void 0&&_.defaultProps?In(In({},v.type.defaultProps),v.props):v.props,S=T.stackId,w=T.hide;if(w)return m;var O=T[r],C=m[O]||{hasStack:!1,stackGroups:{}};if(Jn(S)){var R=C.stackGroups[S]||{numericAxisId:r,cateAxisId:i,items:[]};R.items.push(v),C.hasStack=!0,C.stackGroups[S]=R}else C.stackGroups[Zc("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[v]};return In(In({},m),{},lc({},O,C))},f),p={};return Object.keys(h).reduce(function(m,v){var _=h[v];if(_.hasStack){var T={};_.stackGroups=Object.keys(_.stackGroups).reduce(function(S,w){var O=_.stackGroups[w];return In(In({},S),{},lc({},w,{numericAxisId:r,cateAxisId:i,items:O.items,stackedData:xne(e,O.items,s)}))},T)}return In(In({},m),{},lc({},v,_))},p)},UV=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,l=n.originalDomain,c=n.allowDecimals,f=r||n.scale;if(f!=="auto"&&f!=="linear")return null;if(s&&i==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var h=e.domain();if(!h.length)return null;var p=Mte(h,s,c);return e.domain([Jy(p),Qy(p)]),{niceTicks:p}}if(s&&i==="number"){var m=e.domain(),v=Dte(m,s,c);return{niceTicks:v}}return null};function UM(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,l=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ct(i[e.dataKey])){var c=og(n,"value",i[e.dataKey]);if(c)return c.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var f=Xn(i,ct(l)?e.dataKey:l);return ct(f)?null:e.scale(f)}var BM=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,l=e.entry,c=e.index;if(n.type==="category")return r[c]?r[c].coordinate+i:null;var f=Xn(l,n.dataKey,n.domain[c]);return ct(f)?null:n.scale(f)-s/2+i},wne=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},Sne=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?In(In({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Jn(s)){var l=n[s];if(l){var c=l.items.indexOf(e);return c>=0?l.stackedData[c]:null}}return null},Tne=function(e){return e.reduce(function(n,r){return[Jy(r.concat([n[0]]).filter(Ce)),Qy(r.concat([n[1]]).filter(Ce))]},[1/0,-1/0])},BV=function(e,n,r){return Object.keys(e).reduce(function(i,s){var l=e[s],c=l.stackedData,f=c.reduce(function(h,p){var m=Tne(p.slice(n,r+1));return[Math.min(h[0],m[0]),Math.max(h[1],m[1])]},[1/0,-1/0]);return[Math.min(f[0],i[0]),Math.max(f[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},qM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,KS=function(e,n,r){if(rt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Ce(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(qM.test(e[0])){var s=+qM.exec(e[0])[1];i[0]=n[0]-s}else rt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Ce(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(zM.test(e[1])){var l=+zM.exec(e[1])[1];i[1]=n[1]+l}else rt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Rg=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=YE(n,function(m){return m.coordinate}),l=1/0,c=1,f=s.length;c<f;c++){var h=s[c],p=s[c-1];l=Math.min((h.coordinate||0)-(p.coordinate||0),l)}return l===1/0?0:l}return r?void 0:0},FM=function(e,n,r){return!e||!e.length||qd(e,di(r,"type.defaultProps.domain"))?n:e},qV=function(e,n){var r=e.type.defaultProps?In(In({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,l=r.unit,c=r.formatter,f=r.tooltipType,h=r.chartType,p=r.hide;return In(In({},Je(e,!1)),{},{dataKey:i,unit:l,formatter:c,name:s||i,color:_A(e),value:Xn(n,i),type:f,payload:n,chartType:h,hide:p})};function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function HM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function is(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HM(Object(n),!0).forEach(function(r){zV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zV(t,e,n){return e=Ene(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ene(t){var e=Ane(t,"string");return id(e)=="symbol"?e:e+""}function Ane(t,e){if(id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function One(t,e){return kne(t)||Pne(t,e)||Ine(t,e)||Cne()}function Cne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ine(t,e){if(t){if(typeof t=="string")return GM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GM(t,e)}}function GM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,c=[],f=!0,h=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function kne(t){if(Array.isArray(t))return t}var Ng=Math.PI/180,Rne=function(e){return e*180/Math.PI},fn=function(e,n,r,i){return{x:e+Math.cos(-Ng*i)*r,y:n+Math.sin(-Ng*i)*r}},FV=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Nne=function(e,n,r,i,s){var l=e.width,c=e.height,f=e.startAngle,h=e.endAngle,p=Dr(e.cx,l,l/2),m=Dr(e.cy,c,c/2),v=FV(l,c,r),_=Dr(e.innerRadius,v,0),T=Dr(e.outerRadius,v,v*.8),S=Object.keys(n);return S.reduce(function(w,O){var C=n[O],R=C.domain,V=C.reversed,I;if(ct(C.range))i==="angleAxis"?I=[f,h]:i==="radiusAxis"&&(I=[_,T]),V&&(I=[I[1],I[0]]);else{I=C.range;var j=I,A=One(j,2);f=A[0],h=A[1]}var P=VV(C,s),N=P.realScaleType,B=P.scale;B.domain(R).range(I),$V(B);var D=UV(B,is(is({},C),{},{realScaleType:N})),$=is(is(is({},C),D),{},{range:I,radius:T,realScaleType:N,scale:B,cx:p,cy:m,innerRadius:_,outerRadius:T,startAngle:f,endAngle:h});return is(is({},w),{},zV({},O,$))},{})},jne=function(e,n){var r=e.x,i=e.y,s=n.x,l=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-l,2))},Mne=function(e,n){var r=e.x,i=e.y,s=n.cx,l=n.cy,c=jne({x:r,y:i},{x:s,y:l});if(c<=0)return{radius:c};var f=(r-s)/c,h=Math.acos(f);return i>l&&(h=2*Math.PI-h),{radius:c,angle:Rne(h),angleInRadian:h}},Dne=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(i,s);return{startAngle:n-l*360,endAngle:r-l*360}},Lne=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),l=Math.floor(i/360),c=Math.min(s,l);return e+c*360},KM=function(e,n){var r=e.x,i=e.y,s=Mne({x:r,y:i},n),l=s.radius,c=s.angle,f=n.innerRadius,h=n.outerRadius;if(l<f||l>h)return!1;if(l===0)return!0;var p=Dne(n),m=p.startAngle,v=p.endAngle,_=c,T;if(m<=v){for(;_>v;)_-=360;for(;_<m;)_+=360;T=_>=m&&_<=v}else{for(;_>m;)_-=360;for(;_<v;)_+=360;T=_>=v&&_<=m}return T?is(is({},n),{},{radius:l,angle:Lne(_,n)}):null},HV=function(e){return!U.isValidElement(e)&&!rt(e)&&typeof e!="boolean"?e.className:""};function ad(t){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(t)}var Vne=["offset"];function $ne(t){return zne(t)||qne(t)||Bne(t)||Une()}function Une(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bne(t,e){if(t){if(typeof t=="string")return WS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WS(t,e)}}function qne(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zne(t){if(Array.isArray(t))return WS(t)}function WS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fne(t,e){if(t==null)return{};var n=Hne(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function WM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WM(Object(n),!0).forEach(function(r){Gne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gne(t,e,n){return e=Kne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kne(t){var e=Wne(t,"string");return ad(e)=="symbol"?e:e+""}function Wne(t,e){if(ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sd(){return sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sd.apply(this,arguments)}var Yne=function(e){var n=e.value,r=e.formatter,i=ct(e.children)?n:e.children;return rt(r)?r(i):i},Xne=function(e,n){var r=Mr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Qne=function(e,n,r){var i=e.position,s=e.viewBox,l=e.offset,c=e.className,f=s,h=f.cx,p=f.cy,m=f.innerRadius,v=f.outerRadius,_=f.startAngle,T=f.endAngle,S=f.clockWise,w=(m+v)/2,O=Xne(_,T),C=O>=0?1:-1,R,V;i==="insideStart"?(R=_+C*l,V=S):i==="insideEnd"?(R=T-C*l,V=!S):i==="end"&&(R=T+C*l,V=S),V=O<=0?V:!V;var I=fn(h,p,w,R),j=fn(h,p,w,R+(V?1:-1)*359),A="M".concat(I.x,",").concat(I.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(V?0:1,`,
    `).concat(j.x,",").concat(j.y),P=ct(e.id)?Zc("recharts-radial-line-"):e.id;return G.createElement("text",sd({},r,{dominantBaseline:"central",className:bt("recharts-radial-bar-label",c)}),G.createElement("defs",null,G.createElement("path",{id:P,d:A})),G.createElement("textPath",{xlinkHref:"#".concat(P)},n))},Jne=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,l=s.cx,c=s.cy,f=s.innerRadius,h=s.outerRadius,p=s.startAngle,m=s.endAngle,v=(p+m)/2;if(i==="outside"){var _=fn(l,c,h+r,v),T=_.x,S=_.y;return{x:T,y:S,textAnchor:T>=l?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:l,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:l,y:c,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:l,y:c,textAnchor:"middle",verticalAnchor:"end"};var w=(f+h)/2,O=fn(l,c,w,v),C=O.x,R=O.y;return{x:C,y:R,textAnchor:"middle",verticalAnchor:"middle"}},Zne=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,l=n,c=l.x,f=l.y,h=l.width,p=l.height,m=p>=0?1:-1,v=m*i,_=m>0?"end":"start",T=m>0?"start":"end",S=h>=0?1:-1,w=S*i,O=S>0?"end":"start",C=S>0?"start":"end";if(s==="top"){var R={x:c+h/2,y:f-m*i,textAnchor:"middle",verticalAnchor:_};return Wn(Wn({},R),r?{height:Math.max(f-r.y,0),width:h}:{})}if(s==="bottom"){var V={x:c+h/2,y:f+p+v,textAnchor:"middle",verticalAnchor:T};return Wn(Wn({},V),r?{height:Math.max(r.y+r.height-(f+p),0),width:h}:{})}if(s==="left"){var I={x:c-w,y:f+p/2,textAnchor:O,verticalAnchor:"middle"};return Wn(Wn({},I),r?{width:Math.max(I.x-r.x,0),height:p}:{})}if(s==="right"){var j={x:c+h+w,y:f+p/2,textAnchor:C,verticalAnchor:"middle"};return Wn(Wn({},j),r?{width:Math.max(r.x+r.width-j.x,0),height:p}:{})}var A=r?{width:h,height:p}:{};return s==="insideLeft"?Wn({x:c+w,y:f+p/2,textAnchor:C,verticalAnchor:"middle"},A):s==="insideRight"?Wn({x:c+h-w,y:f+p/2,textAnchor:O,verticalAnchor:"middle"},A):s==="insideTop"?Wn({x:c+h/2,y:f+v,textAnchor:"middle",verticalAnchor:T},A):s==="insideBottom"?Wn({x:c+h/2,y:f+p-v,textAnchor:"middle",verticalAnchor:_},A):s==="insideTopLeft"?Wn({x:c+w,y:f+v,textAnchor:C,verticalAnchor:T},A):s==="insideTopRight"?Wn({x:c+h-w,y:f+v,textAnchor:O,verticalAnchor:T},A):s==="insideBottomLeft"?Wn({x:c+w,y:f+p-v,textAnchor:C,verticalAnchor:_},A):s==="insideBottomRight"?Wn({x:c+h-w,y:f+p-v,textAnchor:O,verticalAnchor:_},A):Jc(s)&&(Ce(s.x)||wl(s.x))&&(Ce(s.y)||wl(s.y))?Wn({x:c+Dr(s.x,h),y:f+Dr(s.y,p),textAnchor:"end",verticalAnchor:"end"},A):Wn({x:c+h/2,y:f+p/2,textAnchor:"middle",verticalAnchor:"middle"},A)},ere=function(e){return"cx"in e&&Ce(e.cx)};function ir(t){var e=t.offset,n=e===void 0?5:e,r=Fne(t,Vne),i=Wn({offset:n},r),s=i.viewBox,l=i.position,c=i.value,f=i.children,h=i.content,p=i.className,m=p===void 0?"":p,v=i.textBreakAll;if(!s||ct(c)&&ct(f)&&!U.isValidElement(h)&&!rt(h))return null;if(U.isValidElement(h))return U.cloneElement(h,i);var _;if(rt(h)){if(_=U.createElement(h,i),U.isValidElement(_))return _}else _=Yne(i);var T=ere(s),S=Je(i,!0);if(T&&(l==="insideStart"||l==="insideEnd"||l==="end"))return Qne(i,_,S);var w=T?Jne(i):Zne(i);return G.createElement(Vl,sd({className:bt("recharts-label",m)},S,w,{breakAll:v}),_)}ir.displayName="Label";var GV=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,l=e.endAngle,c=e.r,f=e.radius,h=e.innerRadius,p=e.outerRadius,m=e.x,v=e.y,_=e.top,T=e.left,S=e.width,w=e.height,O=e.clockWise,C=e.labelViewBox;if(C)return C;if(Ce(S)&&Ce(w)){if(Ce(m)&&Ce(v))return{x:m,y:v,width:S,height:w};if(Ce(_)&&Ce(T))return{x:_,y:T,width:S,height:w}}return Ce(m)&&Ce(v)?{x:m,y:v,width:0,height:0}:Ce(n)&&Ce(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:l||i||0,innerRadius:h||0,outerRadius:p||f||c||0,clockWise:O}:e.viewBox?e.viewBox:{}},tre=function(e,n){return e?e===!0?G.createElement(ir,{key:"label-implicit",viewBox:n}):Jn(e)?G.createElement(ir,{key:"label-implicit",viewBox:n,value:e}):U.isValidElement(e)?e.type===ir?U.cloneElement(e,{key:"label-implicit",viewBox:n}):G.createElement(ir,{key:"label-implicit",content:e,viewBox:n}):rt(e)?G.createElement(ir,{key:"label-implicit",content:e,viewBox:n}):Jc(e)?G.createElement(ir,sd({viewBox:n},e,{key:"label-implicit"})):null:null},nre=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=GV(e),l=pi(i,ir).map(function(f,h){return U.cloneElement(f,{viewBox:n||s,key:"label-".concat(h)})});if(!r)return l;var c=tre(e.label,n||s);return[c].concat($ne(l))};ir.parseViewBox=GV;ir.renderCallByParent=nre;var Zw,YM;function rre(){if(YM)return Zw;YM=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return Zw=t,Zw}var ire=rre();const are=Gt(ire);function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}var sre=["valueAccessor"],ore=["data","dataKey","clockWise","id","textBreakAll"];function lre(t){return hre(t)||fre(t)||cre(t)||ure()}function ure(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cre(t,e){if(t){if(typeof t=="string")return YS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YS(t,e)}}function fre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hre(t){if(Array.isArray(t))return YS(t)}function YS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jg(){return jg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jg.apply(this,arguments)}function XM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XM(Object(n),!0).forEach(function(r){dre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dre(t,e,n){return e=pre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pre(t){var e=mre(t,"string");return od(e)=="symbol"?e:e+""}function mre(t,e){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JM(t,e){if(t==null)return{};var n=gre(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function gre(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var yre=function(e){return Array.isArray(e.value)?are(e.value):e.value};function ds(t){var e=t.valueAccessor,n=e===void 0?yre:e,r=JM(t,sre),i=r.data,s=r.dataKey,l=r.clockWise,c=r.id,f=r.textBreakAll,h=JM(r,ore);return!i||!i.length?null:G.createElement(qt,{className:"recharts-label-list"},i.map(function(p,m){var v=ct(s)?n(p,m):Xn(p&&p.payload,s),_=ct(c)?{}:{id:"".concat(c,"-").concat(m)};return G.createElement(ir,jg({},Je(p,!0),h,_,{parentViewBox:p.parentViewBox,value:v,textBreakAll:f,viewBox:ir.parseViewBox(ct(l)?p:QM(QM({},p),{},{clockWise:l})),key:"label-".concat(m),index:m}))}))}ds.displayName="LabelList";function vre(t,e){return t?t===!0?G.createElement(ds,{key:"labelList-implicit",data:e}):G.isValidElement(t)||rt(t)?G.createElement(ds,{key:"labelList-implicit",data:e,content:t}):Jc(t)?G.createElement(ds,jg({data:e},t,{key:"labelList-implicit"})):null:null}function bre(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=pi(r,ds).map(function(l,c){return U.cloneElement(l,{data:e,key:"labelList-".concat(c)})});if(!n)return i;var s=vre(t.label,e);return[s].concat(lre(i))}ds.renderCallByParent=bre;function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function XS(){return XS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XS.apply(this,arguments)}function ZM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZM(Object(n),!0).forEach(function(r){xre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xre(t,e,n){return e=_re(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _re(t){var e=wre(t,"string");return ld(e)=="symbol"?e:e+""}function wre(t,e){if(ld(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ld(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sre=function(e,n){var r=Mr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},wm=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,l=e.sign,c=e.isExternal,f=e.cornerRadius,h=e.cornerIsExternal,p=f*(c?1:-1)+i,m=Math.asin(f/p)/Ng,v=h?s:s+l*m,_=fn(n,r,p,v),T=fn(n,r,i,v),S=h?s-l*m:s,w=fn(n,r,p*Math.cos(m*Ng),S);return{center:_,circleTangency:T,lineTangency:w,theta:m}},KV=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,l=e.startAngle,c=e.endAngle,f=Sre(l,c),h=l+f,p=fn(n,r,s,l),m=fn(n,r,s,h),v="M ".concat(p.x,",").concat(p.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(f)>180),",").concat(+(l>h),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var _=fn(n,r,i,l),T=fn(n,r,i,h);v+="L ".concat(T.x,",").concat(T.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(f)>180),",").concat(+(l<=h),`,
            `).concat(_.x,",").concat(_.y," Z")}else v+="L ".concat(n,",").concat(r," Z");return v},Tre=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,l=e.cornerRadius,c=e.forceCornerRadius,f=e.cornerIsExternal,h=e.startAngle,p=e.endAngle,m=Mr(p-h),v=wm({cx:n,cy:r,radius:s,angle:h,sign:m,cornerRadius:l,cornerIsExternal:f}),_=v.circleTangency,T=v.lineTangency,S=v.theta,w=wm({cx:n,cy:r,radius:s,angle:p,sign:-m,cornerRadius:l,cornerIsExternal:f}),O=w.circleTangency,C=w.lineTangency,R=w.theta,V=f?Math.abs(h-p):Math.abs(h-p)-S-R;if(V<0)return c?"M ".concat(T.x,",").concat(T.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):KV({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:h,endAngle:p});var I="M ".concat(T.x,",").concat(T.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(V>180),",").concat(+(m<0),",").concat(O.x,",").concat(O.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(C.x,",").concat(C.y,`
  `);if(i>0){var j=wm({cx:n,cy:r,radius:i,angle:h,sign:m,isExternal:!0,cornerRadius:l,cornerIsExternal:f}),A=j.circleTangency,P=j.lineTangency,N=j.theta,B=wm({cx:n,cy:r,radius:i,angle:p,sign:-m,isExternal:!0,cornerRadius:l,cornerIsExternal:f}),D=B.circleTangency,$=B.lineTangency,L=B.theta,Q=f?Math.abs(h-p):Math.abs(h-p)-N-L;if(Q<0&&l===0)return"".concat(I,"L").concat(n,",").concat(r,"Z");I+="L".concat($.x,",").concat($.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Q>180),",").concat(+(m>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(P.x,",").concat(P.y,"Z")}else I+="L".concat(n,",").concat(r,"Z");return I},Ere={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},wA=function(e){var n=eD(eD({},Ere),e),r=n.cx,i=n.cy,s=n.innerRadius,l=n.outerRadius,c=n.cornerRadius,f=n.forceCornerRadius,h=n.cornerIsExternal,p=n.startAngle,m=n.endAngle,v=n.className;if(l<s||p===m)return null;var _=bt("recharts-sector",v),T=l-s,S=Dr(c,T,0,!0),w;return S>0&&Math.abs(p-m)<360?w=Tre({cx:r,cy:i,innerRadius:s,outerRadius:l,cornerRadius:Math.min(S,T/2),forceCornerRadius:f,cornerIsExternal:h,startAngle:p,endAngle:m}):w=KV({cx:r,cy:i,innerRadius:s,outerRadius:l,startAngle:p,endAngle:m}),G.createElement("path",XS({},Je(n,!0),{className:_,d:w,role:"img"}))};function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function QS(){return QS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QS.apply(this,arguments)}function tD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tD(Object(n),!0).forEach(function(r){Are(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Are(t,e,n){return e=Ore(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ore(t){var e=Cre(t,"string");return ud(e)=="symbol"?e:e+""}function Cre(t,e){if(ud(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rD={curveBasisClosed:WW,curveBasisOpen:YW,curveBasis:KW,curveBumpX:NW,curveBumpY:jW,curveLinearClosed:XW,curveLinear:Vy,curveMonotoneX:QW,curveMonotoneY:JW,curveNatural:ZW,curveStep:eY,curveStepAfter:nY,curveStepBefore:tY},Sm=function(e){return e.x===+e.x&&e.y===+e.y},ah=function(e){return e.x},sh=function(e){return e.y},Ire=function(e,n){if(rt(e))return e;var r="curve".concat(Dy(e));return(r==="curveMonotone"||r==="curveBump")&&n?rD["".concat(r).concat(n==="vertical"?"Y":"X")]:rD[r]||Vy},Pre=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,l=e.baseLine,c=e.layout,f=e.connectNulls,h=f===void 0?!1:f,p=Ire(r,c),m=h?s.filter(function(S){return Sm(S)}):s,v;if(Array.isArray(l)){var _=h?l.filter(function(S){return Sm(S)}):l,T=m.map(function(S,w){return nD(nD({},S),{},{base:_[w]})});return c==="vertical"?v=pm().y(sh).x1(ah).x0(function(S){return S.base.x}):v=pm().x(ah).y1(sh).y0(function(S){return S.base.y}),v.defined(Sm).curve(p),v(T)}return c==="vertical"&&Ce(l)?v=pm().y(sh).x1(ah).x0(l):Ce(l)?v=pm().x(ah).y1(sh).y0(l):v=H5().x(ah).y(sh),v.defined(Sm).curve(p),v(m)},Mg=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var l=r&&r.length?Pre(e):i;return U.createElement("path",QS({},Je(e,!1),lg(e),{className:bt("recharts-curve",n),d:l,ref:s}))},e1={exports:{}},t1,iD;function kre(){if(iD)return t1;iD=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return t1=t,t1}var n1,aD;function Rre(){if(aD)return n1;aD=1;var t=kre();function e(){}function n(){}return n.resetWarningCache=e,n1=function(){function r(l,c,f,h,p,m){if(m!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},n1}var sD;function Nre(){return sD||(sD=1,e1.exports=Rre()()),e1.exports}var jre=Nre();const Yt=Gt(jre);var Mre=Object.getOwnPropertyNames,Dre=Object.getOwnPropertySymbols,Lre=Object.prototype.hasOwnProperty;function oD(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function Tm(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,l=s.get(n),c=s.get(r);if(l&&c)return l===r&&c===n;s.set(n,r),s.set(r,n);var f=t(n,r,i);return s.delete(n),s.delete(r),f}}function Vre(t){return t!=null?t[Symbol.toStringTag]:void 0}function lD(t){return Mre(t).concat(Dre(t))}var $re=Object.hasOwn||(function(t,e){return Lre.call(t,e)});function Yl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Ure="__v",Bre="__o",qre="_owner",uD=Object.getOwnPropertyDescriptor,cD=Object.keys;function zre(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Fre(t,e){return Yl(t.getTime(),e.getTime())}function Hre(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Gre(t,e){return t===e}function fD(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),l,c,f=0;(l=s.next())&&!l.done;){for(var h=e.entries(),p=!1,m=0;(c=h.next())&&!c.done;){if(i[m]){m++;continue}var v=l.value,_=c.value;if(n.equals(v[0],_[0],f,m,t,e,n)&&n.equals(v[1],_[1],v[0],_[0],t,e,n)){p=i[m]=!0;break}m++}if(!p)return!1;f++}return!0}var Kre=Yl;function Wre(t,e,n){var r=cD(t),i=r.length;if(cD(e).length!==i)return!1;for(;i-- >0;)if(!WV(t,e,n,r[i]))return!1;return!0}function oh(t,e,n){var r=lD(t),i=r.length;if(lD(e).length!==i)return!1;for(var s,l,c;i-- >0;)if(s=r[i],!WV(t,e,n,s)||(l=uD(t,s),c=uD(e,s),(l||c)&&(!l||!c||l.configurable!==c.configurable||l.enumerable!==c.enumerable||l.writable!==c.writable)))return!1;return!0}function Yre(t,e){return Yl(t.valueOf(),e.valueOf())}function Xre(t,e){return t.source===e.source&&t.flags===e.flags}function hD(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),l,c;(l=s.next())&&!l.done;){for(var f=e.values(),h=!1,p=0;(c=f.next())&&!c.done;){if(!i[p]&&n.equals(l.value,c.value,l.value,c.value,t,e,n)){h=i[p]=!0;break}p++}if(!h)return!1}return!0}function Qre(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Jre(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function WV(t,e,n,r){return(r===qre||r===Bre||r===Ure)&&(t.$$typeof||e.$$typeof)?!0:$re(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Zre="[object Arguments]",eie="[object Boolean]",tie="[object Date]",nie="[object Error]",rie="[object Map]",iie="[object Number]",aie="[object Object]",sie="[object RegExp]",oie="[object Set]",lie="[object String]",uie="[object URL]",cie=Array.isArray,dD=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,pD=Object.assign,fie=Object.prototype.toString.call.bind(Object.prototype.toString);function hie(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,l=t.areNumbersEqual,c=t.areObjectsEqual,f=t.arePrimitiveWrappersEqual,h=t.areRegExpsEqual,p=t.areSetsEqual,m=t.areTypedArraysEqual,v=t.areUrlsEqual,_=t.unknownTagComparators;return function(S,w,O){if(S===w)return!0;if(S==null||w==null)return!1;var C=typeof S;if(C!==typeof w)return!1;if(C!=="object")return C==="number"?l(S,w,O):C==="function"?i(S,w,O):!1;var R=S.constructor;if(R!==w.constructor)return!1;if(R===Object)return c(S,w,O);if(cie(S))return e(S,w,O);if(dD!=null&&dD(S))return m(S,w,O);if(R===Date)return n(S,w,O);if(R===RegExp)return h(S,w,O);if(R===Map)return s(S,w,O);if(R===Set)return p(S,w,O);var V=fie(S);if(V===tie)return n(S,w,O);if(V===sie)return h(S,w,O);if(V===rie)return s(S,w,O);if(V===oie)return p(S,w,O);if(V===aie)return typeof S.then!="function"&&typeof w.then!="function"&&c(S,w,O);if(V===uie)return v(S,w,O);if(V===nie)return r(S,w,O);if(V===Zre)return c(S,w,O);if(V===eie||V===iie||V===lie)return f(S,w,O);if(_){var I=_[V];if(!I){var j=Vre(S);j&&(I=_[j])}if(I)return I(S,w,O)}return!1}}function die(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?oh:zre,areDatesEqual:Fre,areErrorsEqual:Hre,areFunctionsEqual:Gre,areMapsEqual:r?oD(fD,oh):fD,areNumbersEqual:Kre,areObjectsEqual:r?oh:Wre,arePrimitiveWrappersEqual:Yre,areRegExpsEqual:Xre,areSetsEqual:r?oD(hD,oh):hD,areTypedArraysEqual:r?oh:Qre,areUrlsEqual:Jre,unknownTagComparators:void 0};if(n&&(i=pD({},i,n(i))),e){var s=Tm(i.areArraysEqual),l=Tm(i.areMapsEqual),c=Tm(i.areObjectsEqual),f=Tm(i.areSetsEqual);i=pD({},i,{areArraysEqual:s,areMapsEqual:l,areObjectsEqual:c,areSetsEqual:f})}return i}function pie(t){return function(e,n,r,i,s,l,c){return t(e,n,c)}}function mie(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(f,h){var p=r(),m=p.cache,v=m===void 0?e?new WeakMap:void 0:m,_=p.meta;return n(f,h,{cache:v,equals:i,meta:_,strict:s})};if(e)return function(f,h){return n(f,h,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var l={cache:void 0,equals:i,meta:void 0,strict:s};return function(f,h){return n(f,h,l)}}var gie=Ro();Ro({strict:!0});Ro({circular:!0});Ro({circular:!0,strict:!0});Ro({createInternalComparator:function(){return Yl}});Ro({strict:!0,createInternalComparator:function(){return Yl}});Ro({circular:!0,createInternalComparator:function(){return Yl}});Ro({circular:!0,createInternalComparator:function(){return Yl},strict:!0});function Ro(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,l=s===void 0?!1:s,c=die(t),f=hie(c),h=r?r(f):pie(f);return mie({circular:n,comparator:f,createState:i,equals:h,strict:l})}function yie(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function mD(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):yie(i)};requestAnimationFrame(r)}function JS(t){"@babel/helpers - typeof";return JS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JS(t)}function vie(t){return wie(t)||_ie(t)||xie(t)||bie()}function bie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xie(t,e){if(t){if(typeof t=="string")return gD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gD(t,e)}}function gD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _ie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wie(t){if(Array.isArray(t))return t}function Sie(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var l=s,c=vie(l),f=c[0],h=c.slice(1);if(typeof f=="number"){mD(i.bind(null,h),f);return}i(f),mD(i.bind(null,h));return}JS(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function cd(t){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cd(t)}function yD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yD(Object(n),!0).forEach(function(r){YV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YV(t,e,n){return e=Tie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tie(t){var e=Eie(t,"string");return cd(e)==="symbol"?e:String(e)}function Eie(t,e){if(cd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Aie=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},Oie=function(e){return e},Cie=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Ph=function(e,n){return Object.keys(n).reduce(function(r,i){return vD(vD({},r),{},YV({},i,e(i,n[i])))},{})},bD=function(e,n,r){return e.map(function(i){return"".concat(Cie(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Iie(t,e){return Rie(t)||kie(t,e)||XV(t,e)||Pie()}function Pie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,c=[],f=!0,h=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function Rie(t){if(Array.isArray(t))return t}function Nie(t){return Die(t)||Mie(t)||XV(t)||jie()}function jie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XV(t,e){if(t){if(typeof t=="string")return ZS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZS(t,e)}}function Mie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Die(t){if(Array.isArray(t))return ZS(t)}function ZS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Dg=1e-4,QV=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},JV=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},xD=function(e,n){return function(r){var i=QV(e,n);return JV(i,r)}},Lie=function(e,n){return function(r){var i=QV(e,n),s=[].concat(Nie(i.map(function(l,c){return l*c}).slice(1)),[0]);return JV(s,r)}},_D=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],l=n[2],c=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,l=1,c=1;break;case"ease":i=.25,s=.1,l=.25,c=1;break;case"ease-in":i=.42,s=0,l=1,c=1;break;case"ease-out":i=.42,s=0,l=.58,c=1;break;case"ease-in-out":i=0,s=0,l=.58,c=1;break;default:{var f=n[0].split("(");if(f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4){var h=f[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),p=Iie(h,4);i=p[0],s=p[1],l=p[2],c=p[3]}}}var m=xD(i,l),v=xD(s,c),_=Lie(i,l),T=function(O){return O>1?1:O<0?0:O},S=function(O){for(var C=O>1?1:O,R=C,V=0;V<8;++V){var I=m(R)-C,j=_(R);if(Math.abs(I-C)<Dg||j<Dg)return v(R);R=T(R-I/j)}return v(R)};return S.isStepper=!1,S},Vie=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,l=e.dt,c=l===void 0?17:l,f=function(p,m,v){var _=-(p-m)*r,T=v*s,S=v+(_-T)*c/1e3,w=v*c/1e3+p;return Math.abs(w-m)<Dg&&Math.abs(S)<Dg?[m,0]:[w,S]};return f.isStepper=!0,f.dt=c,f},$ie=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _D(i);case"spring":return Vie();default:if(i.split("(")[0]==="cubic-bezier")return _D(i)}return typeof i=="function"?i:null};function fd(t){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fd(t)}function wD(t){return qie(t)||Bie(t)||ZV(t)||Uie()}function Uie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qie(t){if(Array.isArray(t))return tT(t)}function SD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SD(Object(n),!0).forEach(function(r){eT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eT(t,e,n){return e=zie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zie(t){var e=Fie(t,"string");return fd(e)==="symbol"?e:String(e)}function Fie(t,e){if(fd(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fd(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hie(t,e){return Wie(t)||Kie(t,e)||ZV(t,e)||Gie()}function Gie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZV(t,e){if(t){if(typeof t=="string")return tT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tT(t,e)}}function tT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,c=[],f=!0,h=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function Wie(t){if(Array.isArray(t))return t}var Lg=function(e,n,r){return e+(n-e)*r},nT=function(e){var n=e.from,r=e.to;return n!==r},Yie=function t(e,n,r){var i=Ph(function(s,l){if(nT(l)){var c=e(l.from,l.to,l.velocity),f=Hie(c,2),h=f[0],p=f[1];return pr(pr({},l),{},{from:h,velocity:p})}return l},n);return r<1?Ph(function(s,l){return nT(l)?pr(pr({},l),{},{velocity:Lg(l.velocity,i[s].velocity,r),from:Lg(l.from,i[s].from,r)}):l},n):t(e,i,r-1)};const Xie=(function(t,e,n,r,i){var s=Aie(t,e),l=s.reduce(function(w,O){return pr(pr({},w),{},eT({},O,[t[O],e[O]]))},{}),c=s.reduce(function(w,O){return pr(pr({},w),{},eT({},O,{from:t[O],velocity:0,to:e[O]}))},{}),f=-1,h,p,m=function(){return null},v=function(){return Ph(function(O,C){return C.from},c)},_=function(){return!Object.values(c).filter(nT).length},T=function(O){h||(h=O);var C=O-h,R=C/n.dt;c=Yie(n,c,R),i(pr(pr(pr({},t),e),v())),h=O,_()||(f=requestAnimationFrame(m))},S=function(O){p||(p=O);var C=(O-p)/r,R=Ph(function(I,j){return Lg.apply(void 0,wD(j).concat([n(C)]))},l);if(i(pr(pr(pr({},t),e),R)),C<1)f=requestAnimationFrame(m);else{var V=Ph(function(I,j){return Lg.apply(void 0,wD(j).concat([n(1)]))},l);i(pr(pr(pr({},t),e),V))}};return m=n.isStepper?T:S,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(f)}}});function Oc(t){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oc(t)}var Qie=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Jie(t,e){if(t==null)return{};var n=Zie(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zie(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function r1(t){return rae(t)||nae(t)||tae(t)||eae()}function eae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tae(t,e){if(t){if(typeof t=="string")return rT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rT(t,e)}}function nae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rae(t){if(Array.isArray(t))return rT(t)}function rT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function TD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TD(Object(n),!0).forEach(function(r){bh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bh(t,e,n){return e=e9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e9(r.key),r)}}function sae(t,e,n){return e&&aae(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function e9(t){var e=oae(t,"string");return Oc(e)==="symbol"?e:String(e)}function oae(t,e){if(Oc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iT(t,e)}function iT(t,e){return iT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iT(t,e)}function uae(t){var e=cae();return function(){var r=Vg(t),i;if(e){var s=Vg(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return aT(this,i)}}function aT(t,e){if(e&&(Oc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sT(t)}function sT(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cae(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vg(t){return Vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vg(t)}var Ra=(function(t){lae(n,t);var e=uae(n);function n(r,i){var s;iae(this,n),s=e.call(this,r,i);var l=s.props,c=l.isActive,f=l.attributeName,h=l.from,p=l.to,m=l.steps,v=l.children,_=l.duration;if(s.handleStyleChange=s.handleStyleChange.bind(sT(s)),s.changeStyle=s.changeStyle.bind(sT(s)),!c||_<=0)return s.state={style:{}},typeof v=="function"&&(s.state={style:p}),aT(s);if(m&&m.length)s.state={style:m[0].style};else if(h){if(typeof v=="function")return s.state={style:h},aT(s);s.state={style:f?bh({},f,h):h}}else s.state={style:{}};return s}return sae(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,l=i.canBegin;this.mounted=!0,!(!s||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,l=s.isActive,c=s.canBegin,f=s.attributeName,h=s.shouldReAnimate,p=s.to,m=s.from,v=this.state.style;if(c){if(!l){var _={style:f?bh({},f,p):p};this.state&&v&&(f&&v[f]!==p||!f&&v!==p)&&this.setState(_);return}if(!(gie(i.to,p)&&i.canBegin&&i.isActive)){var T=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var S=T||h?m:i.to;if(this.state&&v){var w={style:f?bh({},f,S):S};(f&&v[f]!==S||!f&&v!==S)&&this.setState(w)}this.runAnimation(Wi(Wi({},this.props),{},{from:S,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,l=i.from,c=i.to,f=i.duration,h=i.easing,p=i.begin,m=i.onAnimationEnd,v=i.onAnimationStart,_=Xie(l,c,$ie(h),f,this.changeStyle),T=function(){s.stopJSAnimation=_()};this.manager.start([v,p,T,f,m])}},{key:"runStepAnimation",value:function(i){var s=this,l=i.steps,c=i.begin,f=i.onAnimationStart,h=l[0],p=h.style,m=h.duration,v=m===void 0?0:m,_=function(S,w,O){if(O===0)return S;var C=w.duration,R=w.easing,V=R===void 0?"ease":R,I=w.style,j=w.properties,A=w.onAnimationEnd,P=O>0?l[O-1]:w,N=j||Object.keys(I);if(typeof V=="function"||V==="spring")return[].concat(r1(S),[s.runJSAnimation.bind(s,{from:P.style,to:I,duration:C,easing:V}),C]);var B=bD(N,C,V),D=Wi(Wi(Wi({},P.style),I),{},{transition:B});return[].concat(r1(S),[D,C,A]).filter(Oie)};return this.manager.start([f].concat(r1(l.reduce(_,[p,Math.max(v,c)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Sie());var s=i.begin,l=i.duration,c=i.attributeName,f=i.to,h=i.easing,p=i.onAnimationStart,m=i.onAnimationEnd,v=i.steps,_=i.children,T=this.manager;if(this.unSubscribe=T.subscribe(this.handleStyleChange),typeof h=="function"||typeof _=="function"||h==="spring"){this.runJSAnimation(i);return}if(v.length>1){this.runStepAnimation(i);return}var S=c?bh({},c,f):f,w=bD(Object.keys(S),l,h);T.start([p,s,Wi(Wi({},S),{},{transition:w}),l,m])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var l=i.duration;i.attributeName,i.easing;var c=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var f=Jie(i,Qie),h=U.Children.count(s),p=this.state.style;if(typeof s=="function")return s(p);if(!c||h===0||l<=0)return s;var m=function(_){var T=_.props,S=T.style,w=S===void 0?{}:S,O=T.className,C=U.cloneElement(_,Wi(Wi({},f),{},{style:Wi(Wi({},w),p),className:O}));return C};return h===1?m(U.Children.only(s)):G.createElement("div",null,U.Children.map(s,function(v){return m(v)}))}}]),n})(U.PureComponent);Ra.displayName="Animate";Ra.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ra.propTypes={from:Yt.oneOfType([Yt.object,Yt.string]),to:Yt.oneOfType([Yt.object,Yt.string]),attributeName:Yt.string,duration:Yt.number,begin:Yt.number,easing:Yt.oneOfType([Yt.string,Yt.func]),steps:Yt.arrayOf(Yt.shape({duration:Yt.number.isRequired,style:Yt.object.isRequired,easing:Yt.oneOfType([Yt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Yt.func]),properties:Yt.arrayOf("string"),onAnimationEnd:Yt.func})),children:Yt.oneOfType([Yt.node,Yt.func]),isActive:Yt.bool,canBegin:Yt.bool,onAnimationEnd:Yt.func,shouldReAnimate:Yt.bool,onAnimationStart:Yt.func,onAnimationReStart:Yt.func};function hd(t){"@babel/helpers - typeof";return hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hd(t)}function $g(){return $g=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$g.apply(this,arguments)}function fae(t,e){return mae(t)||pae(t,e)||dae(t,e)||hae()}function hae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dae(t,e){if(t){if(typeof t=="string")return ED(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ED(t,e)}}function ED(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,c=[],f=!0,h=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function mae(t){if(Array.isArray(t))return t}function AD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AD(Object(n),!0).forEach(function(r){gae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gae(t,e,n){return e=yae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yae(t){var e=vae(t,"string");return hd(e)=="symbol"?e:e+""}function vae(t,e){if(hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CD=function(e,n,r,i,s){var l=Math.min(Math.abs(r)/2,Math.abs(i)/2),c=i>=0?1:-1,f=r>=0?1:-1,h=i>=0&&r>=0||i<0&&r<0?1:0,p;if(l>0&&s instanceof Array){for(var m=[0,0,0,0],v=0,_=4;v<_;v++)m[v]=s[v]>l?l:s[v];p="M".concat(e,",").concat(n+c*m[0]),m[0]>0&&(p+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(h,",").concat(e+f*m[0],",").concat(n)),p+="L ".concat(e+r-f*m[1],",").concat(n),m[1]>0&&(p+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(h,`,
        `).concat(e+r,",").concat(n+c*m[1])),p+="L ".concat(e+r,",").concat(n+i-c*m[2]),m[2]>0&&(p+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(h,`,
        `).concat(e+r-f*m[2],",").concat(n+i)),p+="L ".concat(e+f*m[3],",").concat(n+i),m[3]>0&&(p+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(h,`,
        `).concat(e,",").concat(n+i-c*m[3])),p+="Z"}else if(l>0&&s===+s&&s>0){var T=Math.min(l,s);p="M ".concat(e,",").concat(n+c*T,`
            A `).concat(T,",").concat(T,",0,0,").concat(h,",").concat(e+f*T,",").concat(n,`
            L `).concat(e+r-f*T,",").concat(n,`
            A `).concat(T,",").concat(T,",0,0,").concat(h,",").concat(e+r,",").concat(n+c*T,`
            L `).concat(e+r,",").concat(n+i-c*T,`
            A `).concat(T,",").concat(T,",0,0,").concat(h,",").concat(e+r-f*T,",").concat(n+i,`
            L `).concat(e+f*T,",").concat(n+i,`
            A `).concat(T,",").concat(T,",0,0,").concat(h,",").concat(e,",").concat(n+i-c*T," Z")}else p="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return p},bae=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,l=n.y,c=n.width,f=n.height;if(Math.abs(c)>0&&Math.abs(f)>0){var h=Math.min(s,s+c),p=Math.max(s,s+c),m=Math.min(l,l+f),v=Math.max(l,l+f);return r>=h&&r<=p&&i>=m&&i<=v}return!1},xae={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},SA=function(e){var n=OD(OD({},xae),e),r=U.useRef(),i=U.useState(-1),s=fae(i,2),l=s[0],c=s[1];U.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var V=r.current.getTotalLength();V&&c(V)}catch{}},[]);var f=n.x,h=n.y,p=n.width,m=n.height,v=n.radius,_=n.className,T=n.animationEasing,S=n.animationDuration,w=n.animationBegin,O=n.isAnimationActive,C=n.isUpdateAnimationActive;if(f!==+f||h!==+h||p!==+p||m!==+m||p===0||m===0)return null;var R=bt("recharts-rectangle",_);return C?G.createElement(Ra,{canBegin:l>0,from:{width:p,height:m,x:f,y:h},to:{width:p,height:m,x:f,y:h},duration:S,animationEasing:T,isActive:C},function(V){var I=V.width,j=V.height,A=V.x,P=V.y;return G.createElement(Ra,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:S,isActive:O,easing:T},G.createElement("path",$g({},Je(n,!0),{className:R,d:CD(A,P,I,j,v),ref:r})))}):G.createElement("path",$g({},Je(n,!0),{className:R,d:CD(f,h,p,m,v)}))},_ae=["points","className","baseLinePoints","connectNulls"];function Xu(){return Xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xu.apply(this,arguments)}function wae(t,e){if(t==null)return{};var n=Sae(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ID(t){return Oae(t)||Aae(t)||Eae(t)||Tae()}function Tae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eae(t,e){if(t){if(typeof t=="string")return oT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oT(t,e)}}function Aae(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Oae(t){if(Array.isArray(t))return oT(t)}function oT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var PD=function(e){return e&&e.x===+e.x&&e.y===+e.y},Cae=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){PD(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),PD(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},kh=function(e,n){var r=Cae(e);n&&(r=[r.reduce(function(s,l){return[].concat(ID(s),ID(l))},[])]);var i=r.map(function(s){return s.reduce(function(l,c,f){return"".concat(l).concat(f===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},Iae=function(e,n,r){var i=kh(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(kh(n.reverse(),r).slice(1))},Pae=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,s=e.connectNulls,l=wae(e,_ae);if(!n||!n.length)return null;var c=bt("recharts-polygon",r);if(i&&i.length){var f=l.stroke&&l.stroke!=="none",h=Iae(n,i,s);return G.createElement("g",{className:c},G.createElement("path",Xu({},Je(l,!0),{fill:h.slice(-1)==="Z"?l.fill:"none",stroke:"none",d:h})),f?G.createElement("path",Xu({},Je(l,!0),{fill:"none",d:kh(n,s)})):null,f?G.createElement("path",Xu({},Je(l,!0),{fill:"none",d:kh(i,s)})):null)}var p=kh(n,s);return G.createElement("path",Xu({},Je(l,!0),{fill:p.slice(-1)==="Z"?l.fill:"none",className:c,d:p}))};function lT(){return lT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lT.apply(this,arguments)}var tv=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,l=bt("recharts-dot",s);return n===+n&&r===+r&&i===+i?U.createElement("circle",lT({},Je(e,!1),lg(e),{className:l,cx:n,cy:r,r:i})):null};function dd(t){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dd(t)}var kae=["x","y","top","left","width","height","className"];function uT(){return uT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uT.apply(this,arguments)}function kD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kD(Object(n),!0).forEach(function(r){Nae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nae(t,e,n){return e=jae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jae(t){var e=Mae(t,"string");return dd(e)=="symbol"?e:e+""}function Mae(t,e){if(dd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dae(t,e){if(t==null)return{};var n=Lae(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Vae=function(e,n,r,i,s,l){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(l,",").concat(n,"h").concat(r)},$ae=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,l=e.top,c=l===void 0?0:l,f=e.left,h=f===void 0?0:f,p=e.width,m=p===void 0?0:p,v=e.height,_=v===void 0?0:v,T=e.className,S=Dae(e,kae),w=Rae({x:r,y:s,top:c,left:h,width:m,height:_},S);return!Ce(r)||!Ce(s)||!Ce(m)||!Ce(_)||!Ce(c)||!Ce(h)?null:G.createElement("path",uT({},Je(w,!0),{className:bt("recharts-cross",T),d:Vae(r,s,m,_,c,h)}))},i1,RD;function Uae(){if(RD)return i1;RD=1;var t=Xy(),e=gV(),n=ja();function r(i,s){return i&&i.length?t(i,n(s,2),e):void 0}return i1=r,i1}var Bae=Uae();const qae=Gt(Bae);var a1,ND;function zae(){if(ND)return a1;ND=1;var t=Xy(),e=ja(),n=yV();function r(i,s){return i&&i.length?t(i,e(s,2),n):void 0}return a1=r,a1}var Fae=zae();const Hae=Gt(Fae);var Gae=["cx","cy","angle","ticks","axisLine"],Kae=["ticks","tick","angle","tickFormatter","stroke"];function Cc(t){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cc(t)}function Rh(){return Rh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rh.apply(this,arguments)}function jD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ul(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jD(Object(n),!0).forEach(function(r){nv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MD(t,e){if(t==null)return{};var n=Wae(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Yae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n9(r.key),r)}}function Xae(t,e,n){return e&&DD(t.prototype,e),n&&DD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qae(t,e,n){return e=Ug(e),Jae(t,t9()?Reflect.construct(e,n||[],Ug(t).constructor):e.apply(t,n))}function Jae(t,e){if(e&&(Cc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zae(t)}function Zae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t9=function(){return!!t})()}function Ug(t){return Ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ug(t)}function ese(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cT(t,e)}function cT(t,e){return cT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cT(t,e)}function nv(t,e,n){return e=n9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n9(t){var e=tse(t,"string");return Cc(e)=="symbol"?e:e+""}function tse(t,e){if(Cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rv=(function(t){function e(){return Yae(this,e),Qae(this,e,arguments)}return ese(e,t),Xae(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,s=this.props,l=s.angle,c=s.cx,f=s.cy;return fn(c,f,i,l)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,s=r.cy,l=r.angle,c=r.ticks,f=qae(c,function(p){return p.coordinate||0}),h=Hae(c,function(p){return p.coordinate||0});return{cx:i,cy:s,startAngle:l,endAngle:l,innerRadius:h.coordinate||0,outerRadius:f.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,l=r.angle,c=r.ticks,f=r.axisLine,h=MD(r,Gae),p=c.reduce(function(T,S){return[Math.min(T[0],S.coordinate),Math.max(T[1],S.coordinate)]},[1/0,-1/0]),m=fn(i,s,p[0],l),v=fn(i,s,p[1],l),_=ul(ul(ul({},Je(h,!1)),{},{fill:"none"},Je(f,!1)),{},{x1:m.x,y1:m.y,x2:v.x,y2:v.y});return G.createElement("line",Rh({className:"recharts-polar-radius-axis-line"},_))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,l=i.tick,c=i.angle,f=i.tickFormatter,h=i.stroke,p=MD(i,Kae),m=this.getTickTextAnchor(),v=Je(p,!1),_=Je(l,!1),T=s.map(function(S,w){var O=r.getTickValueCoord(S),C=ul(ul(ul(ul({textAnchor:m,transform:"rotate(".concat(90-c,", ").concat(O.x,", ").concat(O.y,")")},v),{},{stroke:"none",fill:h},_),{},{index:w},O),{},{payload:S});return G.createElement(qt,Rh({className:bt("recharts-polar-radius-axis-tick",HV(l)),key:"tick-".concat(S.coordinate)},Ll(r.props,S,w)),e.renderTickItem(l,C,f?f(S.value,w):S.value))});return G.createElement(qt,{className:"recharts-polar-radius-axis-ticks"},T)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.axisLine,l=r.tick;return!i||!i.length?null:G.createElement(qt,{className:bt("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),l&&this.renderTicks(),ir.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,s){var l;return G.isValidElement(r)?l=G.cloneElement(r,i):rt(r)?l=r(i):l=G.createElement(Vl,Rh({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),l}}])})(U.PureComponent);nv(rv,"displayName","PolarRadiusAxis");nv(rv,"axisType","radiusAxis");nv(rv,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Ic(t){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ic(t)}function vl(){return vl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vl.apply(this,arguments)}function LD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LD(Object(n),!0).forEach(function(r){iv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i9(r.key),r)}}function rse(t,e,n){return e&&VD(t.prototype,e),n&&VD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ise(t,e,n){return e=Bg(e),ase(t,r9()?Reflect.construct(e,n||[],Bg(t).constructor):e.apply(t,n))}function ase(t,e){if(e&&(Ic(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sse(t)}function sse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r9=function(){return!!t})()}function Bg(t){return Bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bg(t)}function ose(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fT(t,e)}function fT(t,e){return fT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fT(t,e)}function iv(t,e,n){return e=i9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i9(t){var e=lse(t,"string");return Ic(e)=="symbol"?e:e+""}function lse(t,e){if(Ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var use=Math.PI/180,$D=1e-5,av=(function(t){function e(){return nse(this,e),ise(this,e,arguments)}return ose(e,t),rse(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.cx,l=i.cy,c=i.radius,f=i.orientation,h=i.tickSize,p=h||8,m=fn(s,l,c,r.coordinate),v=fn(s,l,c+(f==="inner"?-1:1)*p,r.coordinate);return{x1:m.x,y1:m.y,x2:v.x,y2:v.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,s=Math.cos(-r.coordinate*use),l;return s>$D?l=i==="outer"?"start":"end":s<-$D?l=i==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,l=r.radius,c=r.axisLine,f=r.axisLineType,h=cl(cl({},Je(this.props,!1)),{},{fill:"none"},Je(c,!1));if(f==="circle")return G.createElement(tv,vl({className:"recharts-polar-angle-axis-line"},h,{cx:i,cy:s,r:l}));var p=this.props.ticks,m=p.map(function(v){return fn(i,s,l,v.coordinate)});return G.createElement(Pae,vl({className:"recharts-polar-angle-axis-line"},h,{points:m}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,l=i.tick,c=i.tickLine,f=i.tickFormatter,h=i.stroke,p=Je(this.props,!1),m=Je(l,!1),v=cl(cl({},p),{},{fill:"none"},Je(c,!1)),_=s.map(function(T,S){var w=r.getTickLineCoord(T),O=r.getTickTextAnchor(T),C=cl(cl(cl({textAnchor:O},p),{},{stroke:"none",fill:h},m),{},{index:S,payload:T,x:w.x2,y:w.y2});return G.createElement(qt,vl({className:bt("recharts-polar-angle-axis-tick",HV(l)),key:"tick-".concat(T.coordinate)},Ll(r.props,T,S)),c&&G.createElement("line",vl({className:"recharts-polar-angle-axis-tick-line"},v,w)),l&&e.renderTickItem(l,C,f?f(T.value,S):T.value))});return G.createElement(qt,{className:"recharts-polar-angle-axis-ticks"},_)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.radius,l=r.axisLine;return s<=0||!i||!i.length?null:G.createElement(qt,{className:bt("recharts-polar-angle-axis",this.props.className)},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,s){var l;return G.isValidElement(r)?l=G.cloneElement(r,i):rt(r)?l=r(i):l=G.createElement(Vl,vl({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),l}}])})(U.PureComponent);iv(av,"displayName","PolarAngleAxis");iv(av,"axisType","angleAxis");iv(av,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var s1,UD;function cse(){if(UD)return s1;UD=1;var t=p6(),e=t(Object.getPrototypeOf,Object);return s1=e,s1}var o1,BD;function fse(){if(BD)return o1;BD=1;var t=ws(),e=cse(),n=Ss(),r="[object Object]",i=Function.prototype,s=Object.prototype,l=i.toString,c=s.hasOwnProperty,f=l.call(Object);function h(p){if(!n(p)||t(p)!=r)return!1;var m=e(p);if(m===null)return!0;var v=c.call(m,"constructor")&&m.constructor;return typeof v=="function"&&v instanceof v&&l.call(v)==f}return o1=h,o1}var hse=fse();const dse=Gt(hse);var l1,qD;function pse(){if(qD)return l1;qD=1;var t=ws(),e=Ss(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return l1=r,l1}var mse=pse();const gse=Gt(mse);function pd(t){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pd(t)}function qg(){return qg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qg.apply(this,arguments)}function yse(t,e){return _se(t)||xse(t,e)||bse(t,e)||vse()}function vse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bse(t,e){if(t){if(typeof t=="string")return zD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zD(t,e)}}function zD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xse(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,c=[],f=!0,h=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function _se(t){if(Array.isArray(t))return t}function FD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FD(Object(n),!0).forEach(function(r){wse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wse(t,e,n){return e=Sse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sse(t){var e=Tse(t,"string");return pd(e)=="symbol"?e:e+""}function Tse(t,e){if(pd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GD=function(e,n,r,i,s){var l=r-i,c;return c="M ".concat(e,",").concat(n),c+="L ".concat(e+r,",").concat(n),c+="L ".concat(e+r-l/2,",").concat(n+s),c+="L ".concat(e+r-l/2-i,",").concat(n+s),c+="L ".concat(e,",").concat(n," Z"),c},Ese={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ase=function(e){var n=HD(HD({},Ese),e),r=U.useRef(),i=U.useState(-1),s=yse(i,2),l=s[0],c=s[1];U.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var R=r.current.getTotalLength();R&&c(R)}catch{}},[]);var f=n.x,h=n.y,p=n.upperWidth,m=n.lowerWidth,v=n.height,_=n.className,T=n.animationEasing,S=n.animationDuration,w=n.animationBegin,O=n.isUpdateAnimationActive;if(f!==+f||h!==+h||p!==+p||m!==+m||v!==+v||p===0&&m===0||v===0)return null;var C=bt("recharts-trapezoid",_);return O?G.createElement(Ra,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:v,x:f,y:h},to:{upperWidth:p,lowerWidth:m,height:v,x:f,y:h},duration:S,animationEasing:T,isActive:O},function(R){var V=R.upperWidth,I=R.lowerWidth,j=R.height,A=R.x,P=R.y;return G.createElement(Ra,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:S,easing:T},G.createElement("path",qg({},Je(n,!0),{className:C,d:GD(A,P,V,I,j),ref:r})))}):G.createElement("g",null,G.createElement("path",qg({},Je(n,!0),{className:C,d:GD(f,h,p,m,v)})))},Ose=["option","shapeType","propTransformer","activeClassName","isActive"];function md(t){"@babel/helpers - typeof";return md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},md(t)}function Cse(t,e){if(t==null)return{};var n=Ise(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ise(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function KD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KD(Object(n),!0).forEach(function(r){Pse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pse(t,e,n){return e=kse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kse(t){var e=Rse(t,"string");return md(e)=="symbol"?e:e+""}function Rse(t,e){if(md(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(md(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nse(t,e){return zg(zg({},e),t)}function jse(t,e){return t==="symbols"}function WD(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return G.createElement(SA,n);case"trapezoid":return G.createElement(Ase,n);case"sector":return G.createElement(wA,n);case"symbols":if(jse(e))return G.createElement(BE,n);break;default:return null}}function Mse(t){return U.isValidElement(t)?t.props:t}function a9(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Nse:r,s=t.activeClassName,l=s===void 0?"recharts-active-shape":s,c=t.isActive,f=Cse(t,Ose),h;if(U.isValidElement(e))h=U.cloneElement(e,zg(zg({},f),Mse(e)));else if(rt(e))h=e(f);else if(dse(e)&&!gse(e)){var p=i(e,f);h=G.createElement(WD,{shapeType:n,elementProps:p})}else{var m=f;h=G.createElement(WD,{shapeType:n,elementProps:m})}return c?G.createElement(qt,{className:l},h):h}function sv(t,e){return e!=null&&"trapezoids"in t.props}function ov(t,e){return e!=null&&"sectors"in t.props}function gd(t,e){return e!=null&&"points"in t.props}function Dse(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function Lse(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Vse(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function $se(t,e){var n;return sv(t,e)?n=Dse:ov(t,e)?n=Lse:gd(t,e)&&(n=Vse),n}function Use(t,e){var n;return sv(t,e)?n="trapezoids":ov(t,e)?n="sectors":gd(t,e)&&(n="points"),n}function Bse(t,e){if(sv(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(ov(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return gd(t,e)?e.payload:{}}function qse(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Use(n,e),s=Bse(n,e),l=r.filter(function(f,h){var p=qd(s,f),m=n.props[i].filter(function(T){var S=$se(n,e);return S(T,e)}),v=n.props[i].indexOf(m[m.length-1]),_=h===v;return p&&_}),c=r.indexOf(l[l.length-1]);return c}var Vm;function Pc(t){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pc(t)}function Qu(){return Qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qu.apply(this,arguments)}function YD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YD(Object(n),!0).forEach(function(r){Ni(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o9(r.key),r)}}function Fse(t,e,n){return e&&XD(t.prototype,e),n&&XD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hse(t,e,n){return e=Fg(e),Gse(t,s9()?Reflect.construct(e,n||[],Fg(t).constructor):e.apply(t,n))}function Gse(t,e){if(e&&(Pc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kse(t)}function Kse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s9=function(){return!!t})()}function Fg(t){return Fg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fg(t)}function Wse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hT(t,e)}function hT(t,e){return hT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hT(t,e)}function Ni(t,e,n){return e=o9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o9(t){var e=Yse(t,"string");return Pc(e)=="symbol"?e:e+""}function Yse(t,e){if(Pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Es=(function(t){function e(n){var r;return zse(this,e),r=Hse(this,e,[n]),Ni(r,"pieRef",null),Ni(r,"sectorRefs",[]),Ni(r,"id",Zc("recharts-pie-")),Ni(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),rt(i)&&i()}),Ni(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),rt(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Wse(e,t),Fse(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.label,c=s.labelLine,f=s.dataKey,h=s.valueKey,p=Je(this.props,!1),m=Je(l,!1),v=Je(c,!1),_=l&&l.offsetRadius||20,T=r.map(function(S,w){var O=(S.startAngle+S.endAngle)/2,C=fn(S.cx,S.cy,S.outerRadius+_,O),R=un(un(un(un({},p),S),{},{stroke:"none"},m),{},{index:w,textAnchor:e.getTextAnchor(C.x,S.cx)},C),V=un(un(un(un({},p),S),{},{fill:"none",stroke:S.fill},v),{},{index:w,points:[fn(S.cx,S.cy,S.outerRadius,O),C]}),I=f;return ct(f)&&ct(h)?I="value":ct(f)&&(I=h),G.createElement(qt,{key:"label-".concat(S.startAngle,"-").concat(S.endAngle,"-").concat(S.midAngle,"-").concat(w)},c&&e.renderLabelLineItem(c,V,"line"),e.renderLabelItem(l,R,Xn(S,I)))});return G.createElement(qt,{className:"recharts-pie-labels"},T)}},{key:"renderSectorsStatically",value:function(r){var i=this,s=this.props,l=s.activeShape,c=s.blendStroke,f=s.inactiveShape;return r.map(function(h,p){if((h==null?void 0:h.startAngle)===0&&(h==null?void 0:h.endAngle)===0&&r.length!==1)return null;var m=i.isActiveIndex(p),v=f&&i.hasActiveIndex()?f:null,_=m?l:v,T=un(un({},h),{},{stroke:c?h.fill:h.stroke,tabIndex:-1});return G.createElement(qt,Qu({ref:function(w){w&&!i.sectorRefs.includes(w)&&i.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},Ll(i.props,h,p),{key:"sector-".concat(h==null?void 0:h.startAngle,"-").concat(h==null?void 0:h.endAngle,"-").concat(h.midAngle,"-").concat(p)}),G.createElement(a9,Qu({option:_,isActive:m,shapeType:"sector"},T)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,s=i.sectors,l=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,m=this.state,v=m.prevSectors,_=m.prevIsAnimationActive;return G.createElement(Ra,{begin:c,duration:f,isActive:l,easing:h,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(_),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(T){var S=T.t,w=[],O=s&&s[0],C=O.startAngle;return s.forEach(function(R,V){var I=v&&v[V],j=V>0?di(R,"paddingAngle",0):0;if(I){var A=ci(I.endAngle-I.startAngle,R.endAngle-R.startAngle),P=un(un({},R),{},{startAngle:C+j,endAngle:C+A(S)+j});w.push(P),C=P.endAngle}else{var N=R.endAngle,B=R.startAngle,D=ci(0,N-B),$=D(S),L=un(un({},R),{},{startAngle:C+j,endAngle:C+$+j});w.push(L),C=L.endAngle}}),G.createElement(qt,null,r.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var l=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"ArrowRight":{var c=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[c].focus(),i.setState({sectorToFocus:c});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,s=r.isAnimationActive,l=this.state.prevSectors;return s&&i&&i.length&&(!l||!qd(l,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,s=i.hide,l=i.sectors,c=i.className,f=i.label,h=i.cx,p=i.cy,m=i.innerRadius,v=i.outerRadius,_=i.isAnimationActive,T=this.state.isAnimationFinished;if(s||!l||!l.length||!Ce(h)||!Ce(p)||!Ce(m)||!Ce(v))return null;var S=bt("recharts-pie",c);return G.createElement(qt,{tabIndex:this.props.rootTabIndex,className:S,ref:function(O){r.pieRef=O}},this.renderSectors(),f&&this.renderLabels(l),ir.renderCallByParent(this.props,null,!1),(!_||T)&&ds.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,s){if(G.isValidElement(r))return G.cloneElement(r,i);if(rt(r))return r(i);var l=bt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return G.createElement(Mg,Qu({},i,{key:s,type:"linear",className:l}))}},{key:"renderLabelItem",value:function(r,i,s){if(G.isValidElement(r))return G.cloneElement(r,i);var l=s;if(rt(r)&&(l=r(i),G.isValidElement(l)))return l;var c=bt("recharts-pie-label-text",typeof r!="boolean"&&!rt(r)?r.className:"");return G.createElement(Vl,Qu({},i,{alignmentBaseline:"middle",className:c}),l)}}])})(U.PureComponent);Vm=Es;Ni(Es,"displayName","Pie");Ni(Es,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Gl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ni(Es,"parseDeltaAngle",function(t,e){var n=Mr(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Ni(Es,"getRealPieData",function(t){var e=t.data,n=t.children,r=Je(t,!1),i=pi(n,zy);return e&&e.length?e.map(function(s,l){return un(un(un({payload:s},r),s),i&&i[l]&&i[l].props)}):i&&i.length?i.map(function(s){return un(un({},r),s.props)}):[]});Ni(Es,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,s=e.height,l=FV(i,s),c=r+Dr(t.cx,i,i/2),f=n+Dr(t.cy,s,s/2),h=Dr(t.innerRadius,l,0),p=Dr(t.outerRadius,l,l*.8),m=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:c,cy:f,innerRadius:h,outerRadius:p,maxRadius:m}});Ni(Es,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?un(un({},e.type.defaultProps),e.props):e.props,i=Vm.getRealPieData(r);if(!i||!i.length)return null;var s=r.cornerRadius,l=r.startAngle,c=r.endAngle,f=r.paddingAngle,h=r.dataKey,p=r.nameKey,m=r.valueKey,v=r.tooltipType,_=Math.abs(r.minAngle),T=Vm.parseCoordinateOfPie(r,n),S=Vm.parseDeltaAngle(l,c),w=Math.abs(S),O=h;ct(h)&&ct(m)?(na(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),O="value"):ct(h)&&(na(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),O=m);var C=i.filter(function(P){return Xn(P,O,0)!==0}).length,R=(w>=360?C:C-1)*f,V=w-C*_-R,I=i.reduce(function(P,N){var B=Xn(N,O,0);return P+(Ce(B)?B:0)},0),j;if(I>0){var A;j=i.map(function(P,N){var B=Xn(P,O,0),D=Xn(P,p,N),$=(Ce(B)?B:0)/I,L;N?L=A.endAngle+Mr(S)*f*(B!==0?1:0):L=l;var Q=L+Mr(S)*((B!==0?_:0)+$*V),J=(L+Q)/2,F=(T.innerRadius+T.outerRadius)/2,Y=[{name:D,value:B,payload:P,dataKey:O,type:v}],ee=fn(T.cx,T.cy,F,J);return A=un(un(un({percent:$,cornerRadius:s,name:D,tooltipPayload:Y,midAngle:J,middleRadius:F,tooltipPosition:ee},P),T),{},{value:Xn(P,O),startAngle:L,endAngle:Q,payload:P,paddingAngle:Mr(S)*f}),A})}return un(un({},T),{},{sectors:j,data:i})});var u1,QD;function Xse(){if(QD)return u1;QD=1;var t=Math.ceil,e=Math.max;function n(r,i,s,l){for(var c=-1,f=e(t((i-r)/(s||1)),0),h=Array(f);f--;)h[l?f:++c]=r,r+=s;return h}return u1=n,u1}var c1,JD;function l9(){if(JD)return c1;JD=1;var t=P6(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*n}return i===i?i:0}return c1=r,c1}var f1,ZD;function Qse(){if(ZD)return f1;ZD=1;var t=Xse(),e=qy(),n=l9();function r(i){return function(s,l,c){return c&&typeof c!="number"&&e(s,l,c)&&(l=c=void 0),s=n(s),l===void 0?(l=s,s=0):l=n(l),c=c===void 0?s<l?1:-1:n(c),t(s,l,c,i)}}return f1=r,f1}var h1,e4;function Jse(){if(e4)return h1;e4=1;var t=Qse(),e=t();return h1=e,h1}var Zse=Jse();const Hg=Gt(Zse);function yd(t){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yd(t)}function t4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t4(Object(n),!0).forEach(function(r){u9(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u9(t,e,n){return e=eoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eoe(t){var e=toe(t,"string");return yd(e)=="symbol"?e:e+""}function toe(t,e){if(yd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var noe=["Webkit","Moz","O","ms"],roe=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=noe.reduce(function(s,l){return n4(n4({},s),{},u9({},l+r,n))},{});return i[e]=n,i};function kc(t){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kc(t)}function Gg(){return Gg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gg.apply(this,arguments)}function r4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function d1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r4(Object(n),!0).forEach(function(r){li(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ioe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f9(r.key),r)}}function aoe(t,e,n){return e&&i4(t.prototype,e),n&&i4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function soe(t,e,n){return e=Kg(e),ooe(t,c9()?Reflect.construct(e,n||[],Kg(t).constructor):e.apply(t,n))}function ooe(t,e){if(e&&(kc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return loe(t)}function loe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c9=function(){return!!t})()}function Kg(t){return Kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kg(t)}function uoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dT(t,e)}function dT(t,e){return dT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dT(t,e)}function li(t,e,n){return e=f9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f9(t){var e=coe(t,"string");return kc(e)=="symbol"?e:e+""}function coe(t,e){if(kc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var foe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,l=e.width,c=e.travellerWidth;if(!n||!n.length)return{};var f=n.length,h=Ch().domain(Hg(0,f)).range([s,s+l-c]),p=h.domain().map(function(m){return h(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(r),endX:h(i),scale:h,scaleValues:p}},a4=function(e){return e.changedTouches&&!!e.changedTouches.length},Rc=(function(t){function e(n){var r;return ioe(this,e),r=soe(this,e,[n]),li(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),li(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),li(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,l=i.onDragEnd,c=i.startIndex;l==null||l({endIndex:s,startIndex:c})}),r.detachDragEndListener()}),li(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),li(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),li(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),li(r,"handleSlideDragStart",function(i){var s=a4(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return uoe(e,t),aoe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,l=this.state.scaleValues,c=this.props,f=c.gap,h=c.data,p=h.length-1,m=Math.min(i,s),v=Math.max(i,s),_=e.getIndexInRange(l,m),T=e.getIndexInRange(l,v);return{startIndex:_-_%f,endIndex:T===p?p:T-T%f}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,l=i.tickFormatter,c=i.dataKey,f=Xn(s[r],c,r);return rt(l)?l(f,r):f}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,l=i.startX,c=i.endX,f=this.props,h=f.x,p=f.width,m=f.travellerWidth,v=f.startIndex,_=f.endIndex,T=f.onChange,S=r.pageX-s;S>0?S=Math.min(S,h+p-m-c,h+p-m-l):S<0&&(S=Math.max(S,h-l,h-c));var w=this.getIndex({startX:l+S,endX:c+S});(w.startIndex!==v||w.endIndex!==_)&&T&&T(w),this.setState({startX:l+S,endX:c+S,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=a4(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,l=i.movingTravellerId,c=i.endX,f=i.startX,h=this.state[l],p=this.props,m=p.x,v=p.width,_=p.travellerWidth,T=p.onChange,S=p.gap,w=p.data,O={startX:this.state.startX,endX:this.state.endX},C=r.pageX-s;C>0?C=Math.min(C,m+v-_-h):C<0&&(C=Math.max(C,m-h)),O[l]=h+C;var R=this.getIndex(O),V=R.startIndex,I=R.endIndex,j=function(){var P=w.length-1;return l==="startX"&&(c>f?V%S===0:I%S===0)||c<f&&I===P||l==="endX"&&(c>f?I%S===0:V%S===0)||c>f&&I===P};this.setState(li(li({},l,h+C),"brushMoveStartX",r.pageX),function(){T&&j()&&T(R)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,l=this.state,c=l.scaleValues,f=l.startX,h=l.endX,p=this.state[i],m=c.indexOf(p);if(m!==-1){var v=m+r;if(!(v===-1||v>=c.length)){var _=c[v];i==="startX"&&_>=h||i==="endX"&&_<=f||this.setState(li({},i,_),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,l=r.width,c=r.height,f=r.fill,h=r.stroke;return G.createElement("rect",{stroke:h,fill:f,x:i,y:s,width:l,height:c})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,l=r.width,c=r.height,f=r.data,h=r.children,p=r.padding,m=U.Children.only(h);return m?G.cloneElement(m,{x:i,y:s,width:l,height:c,margin:p,compact:!0,data:f}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,l,c=this,f=this.props,h=f.y,p=f.travellerWidth,m=f.height,v=f.traveller,_=f.ariaLabel,T=f.data,S=f.startIndex,w=f.endIndex,O=Math.max(r,this.props.x),C=d1(d1({},Je(this.props,!1)),{},{x:O,y:h,width:p,height:m}),R=_||"Min value: ".concat((s=T[S])===null||s===void 0?void 0:s.name,", Max value: ").concat((l=T[w])===null||l===void 0?void 0:l.name);return G.createElement(qt,{tabIndex:0,role:"slider","aria-label":R,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(I){["ArrowLeft","ArrowRight"].includes(I.key)&&(I.preventDefault(),I.stopPropagation(),c.handleTravellerMoveKeyboard(I.key==="ArrowRight"?1:-1,i))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(v,C))}},{key:"renderSlide",value:function(r,i){var s=this.props,l=s.y,c=s.height,f=s.stroke,h=s.travellerWidth,p=Math.min(r,i)+h,m=Math.max(Math.abs(i-r)-h,0);return G.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:f,fillOpacity:.2,x:p,y:l,width:m,height:c})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,l=r.y,c=r.height,f=r.travellerWidth,h=r.stroke,p=this.state,m=p.startX,v=p.endX,_=5,T={pointerEvents:"none",fill:h};return G.createElement(qt,{className:"recharts-brush-texts"},G.createElement(Vl,Gg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,v)-_,y:l+c/2},T),this.getTextOfTick(i)),G.createElement(Vl,Gg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,v)+f+_,y:l+c/2},T),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,l=r.children,c=r.x,f=r.y,h=r.width,p=r.height,m=r.alwaysShowText,v=this.state,_=v.startX,T=v.endX,S=v.isTextActive,w=v.isSlideMoving,O=v.isTravellerMoving,C=v.isTravellerFocused;if(!i||!i.length||!Ce(c)||!Ce(f)||!Ce(h)||!Ce(p)||h<=0||p<=0)return null;var R=bt("recharts-brush",s),V=G.Children.count(l)===1,I=roe("userSelect","none");return G.createElement(qt,{className:R,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:I},this.renderBackground(),V&&this.renderPanorama(),this.renderSlide(_,T),this.renderTravellerLayer(_,"startX"),this.renderTravellerLayer(T,"endX"),(S||w||O||C||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,l=r.width,c=r.height,f=r.stroke,h=Math.floor(s+c/2)-1;return G.createElement(G.Fragment,null,G.createElement("rect",{x:i,y:s,width:l,height:c,fill:f,stroke:"none"}),G.createElement("line",{x1:i+1,y1:h,x2:i+l-1,y2:h,fill:"none",stroke:"#fff"}),G.createElement("line",{x1:i+1,y1:h+2,x2:i+l-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return G.isValidElement(r)?s=G.cloneElement(r,i):rt(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,l=r.width,c=r.x,f=r.travellerWidth,h=r.updateId,p=r.startIndex,m=r.endIndex;if(s!==i.prevData||h!==i.prevUpdateId)return d1({prevData:s,prevTravellerWidth:f,prevUpdateId:h,prevX:c,prevWidth:l},s&&s.length?foe({data:s,width:l,x:c,travellerWidth:f,startIndex:p,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(l!==i.prevWidth||c!==i.prevX||f!==i.prevTravellerWidth)){i.scale.range([c,c+l-f]);var v=i.scale.domain().map(function(_){return i.scale(_)});return{prevData:s,prevTravellerWidth:f,prevUpdateId:h,prevX:c,prevWidth:l,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,l=0,c=s-1;c-l>1;){var f=Math.floor((l+c)/2);r[f]>i?c=f:l=f}return i>=r[c]?c:l}}])})(U.PureComponent);li(Rc,"displayName","Brush");li(Rc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var p1,s4;function hoe(){if(s4)return p1;s4=1;var t=WE();function e(n,r){var i;return t(n,function(s,l,c){return i=r(s,l,c),!i}),!!i}return p1=e,p1}var m1,o4;function doe(){if(o4)return m1;o4=1;var t=o6(),e=ja(),n=hoe(),r=Yr(),i=qy();function s(l,c,f){var h=r(l)?t:n;return f&&i(l,c,f)&&(c=void 0),h(l,e(c,3))}return m1=s,m1}var poe=doe();const moe=Gt(poe);var Oa=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},g1,l4;function goe(){if(l4)return g1;l4=1;var t=E6();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return g1=e,g1}var y1,u4;function yoe(){if(u4)return y1;u4=1;var t=goe(),e=S6(),n=ja();function r(i,s){var l={};return s=n(s,3),e(i,function(c,f,h){t(l,f,s(c,f,h))}),l}return y1=r,y1}var voe=yoe();const boe=Gt(voe);var v1,c4;function xoe(){if(c4)return v1;c4=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return v1=t,v1}var b1,f4;function _oe(){if(f4)return b1;f4=1;var t=WE();function e(n,r){var i=!0;return t(n,function(s,l,c){return i=!!r(s,l,c),i}),i}return b1=e,b1}var x1,h4;function woe(){if(h4)return x1;h4=1;var t=xoe(),e=_oe(),n=ja(),r=Yr(),i=qy();function s(l,c,f){var h=r(l)?t:e;return f&&i(l,c,f)&&(c=void 0),h(l,n(c,3))}return x1=s,x1}var Soe=woe();const h9=Gt(Soe);var Toe=["x","y"];function vd(t){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vd(t)}function pT(){return pT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pT.apply(this,arguments)}function d4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d4(Object(n),!0).forEach(function(r){Eoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eoe(t,e,n){return e=Aoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aoe(t){var e=Ooe(t,"string");return vd(e)=="symbol"?e:e+""}function Ooe(t,e){if(vd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Coe(t,e){if(t==null)return{};var n=Ioe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ioe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Poe(t,e){var n=t.x,r=t.y,i=Coe(t,Toe),s="".concat(n),l=parseInt(s,10),c="".concat(r),f=parseInt(c,10),h="".concat(e.height||i.height),p=parseInt(h,10),m="".concat(e.width||i.width),v=parseInt(m,10);return lh(lh(lh(lh(lh({},e),i),l?{x:l}:{}),f?{y:f}:{}),{},{height:p,width:v,name:e.name,radius:e.radius})}function p4(t){return G.createElement(a9,pT({shapeType:"rectangle",propTransformer:Poe,activeClassName:"recharts-active-bar"},t))}var koe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=Ce(r)||eW(r);return s?e(r,i):(s||Ul(),n)}},Roe=["value","background"],d9;function Nc(t){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nc(t)}function Noe(t,e){if(t==null)return{};var n=joe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function joe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wg(){return Wg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wg.apply(this,arguments)}function m4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m4(Object(n),!0).forEach(function(r){fo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Moe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m9(r.key),r)}}function Doe(t,e,n){return e&&g4(t.prototype,e),n&&g4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Loe(t,e,n){return e=Yg(e),Voe(t,p9()?Reflect.construct(e,n||[],Yg(t).constructor):e.apply(t,n))}function Voe(t,e){if(e&&(Nc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $oe(t)}function $oe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p9=function(){return!!t})()}function Yg(t){return Yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yg(t)}function Uoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mT(t,e)}function mT(t,e){return mT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mT(t,e)}function fo(t,e,n){return e=m9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m9(t){var e=Boe(t,"string");return Nc(e)=="symbol"?e:e+""}function Boe(t,e){if(Nc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fd=(function(t){function e(){var n;Moe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Loe(this,e,[].concat(i)),fo(n,"state",{isAnimationFinished:!1}),fo(n,"id",Zc("recharts-bar-")),fo(n,"handleAnimationEnd",function(){var l=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),l&&l()}),fo(n,"handleAnimationStart",function(){var l=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),l&&l()}),n}return Uoe(e,t),Doe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,l=s.shape,c=s.dataKey,f=s.activeIndex,h=s.activeBar,p=Je(this.props,!1);return r&&r.map(function(m,v){var _=v===f,T=_?h:l,S=zn(zn(zn({},p),m),{},{isActive:_,option:T,index:v,dataKey:c,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return G.createElement(qt,Wg({className:"recharts-bar-rectangle"},Ll(i.props,m,v),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(v)}),G.createElement(p4,S))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,l=i.layout,c=i.isAnimationActive,f=i.animationBegin,h=i.animationDuration,p=i.animationEasing,m=i.animationId,v=this.state.prevData;return G.createElement(Ra,{begin:f,duration:h,isActive:c,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var T=_.t,S=s.map(function(w,O){var C=v&&v[O];if(C){var R=ci(C.x,w.x),V=ci(C.y,w.y),I=ci(C.width,w.width),j=ci(C.height,w.height);return zn(zn({},w),{},{x:R(T),y:V(T),width:I(T),height:j(T)})}if(l==="horizontal"){var A=ci(0,w.height),P=A(T);return zn(zn({},w),{},{y:w.y+w.height-P,height:P})}var N=ci(0,w.width),B=N(T);return zn(zn({},w),{},{width:B})});return G.createElement(qt,null,r.renderRectanglesStatically(S))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,l=this.state.prevData;return s&&i&&i.length&&(!l||!qd(l,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,l=i.dataKey,c=i.activeIndex,f=Je(this.props.background,!1);return s.map(function(h,p){h.value;var m=h.background,v=Noe(h,Roe);if(!m)return null;var _=zn(zn(zn(zn(zn({},v),{},{fill:"#eee"},m),f),Ll(r.props,h,p)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:l,index:p,className:"recharts-bar-background-rectangle"});return G.createElement(p4,Wg({key:"background-bar-".concat(p),option:r.props.background,isActive:p===c},_))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.data,c=s.xAxis,f=s.yAxis,h=s.layout,p=s.children,m=pi(p,zd);if(!m)return null;var v=h==="vertical"?l[0].height/2:l[0].width/2,_=function(w,O){var C=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:C,errorVal:Xn(w,O)}},T={clipPath:r?"url(#clipPath-".concat(i,")"):null};return G.createElement(qt,T,m.map(function(S){return G.cloneElement(S,{key:"error-bar-".concat(i,"-").concat(S.props.dataKey),data:l,xAxis:c,yAxis:f,layout:h,offset:v,dataPointFormatter:_})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,l=r.className,c=r.xAxis,f=r.yAxis,h=r.left,p=r.top,m=r.width,v=r.height,_=r.isAnimationActive,T=r.background,S=r.id;if(i||!s||!s.length)return null;var w=this.state.isAnimationFinished,O=bt("recharts-bar",l),C=c&&c.allowDataOverflow,R=f&&f.allowDataOverflow,V=C||R,I=ct(S)?this.id:S;return G.createElement(qt,{className:O},C||R?G.createElement("defs",null,G.createElement("clipPath",{id:"clipPath-".concat(I)},G.createElement("rect",{x:C?h:h-m/2,y:R?p:p-v/2,width:C?m:m*2,height:R?v:v*2}))):null,G.createElement(qt,{className:"recharts-bar-rectangles",clipPath:V?"url(#clipPath-".concat(I,")"):null},T?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(V,I),(!_||w)&&ds.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(U.PureComponent);d9=Fd;fo(Fd,"displayName","Bar");fo(Fd,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Gl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});fo(Fd,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,l=t.yAxis,c=t.xAxisTicks,f=t.yAxisTicks,h=t.stackedData,p=t.dataStartIndex,m=t.displayedData,v=t.offset,_=mne(r,n);if(!_)return null;var T=e.layout,S=n.type.defaultProps,w=S!==void 0?zn(zn({},S),n.props):n.props,O=w.dataKey,C=w.children,R=w.minPointSize,V=T==="horizontal"?l:s,I=h?V.scale.domain():null,j=wne({numericAxis:V}),A=pi(C,zy),P=m.map(function(N,B){var D,$,L,Q,J,F;h?D=gne(h[p+B],I):(D=Xn(N,O),Array.isArray(D)||(D=[j,D]));var Y=koe(R,d9.defaultProps.minPointSize)(D[1],B);if(T==="horizontal"){var ee,ue=[l.scale(D[0]),l.scale(D[1])],ve=ue[0],H=ue[1];$=BM({axis:s,ticks:c,bandSize:i,offset:_.offset,entry:N,index:B}),L=(ee=H??ve)!==null&&ee!==void 0?ee:void 0,Q=_.size;var W=ve-H;if(J=Number.isNaN(W)?0:W,F={x:$,y:l.y,width:Q,height:l.height},Math.abs(Y)>0&&Math.abs(J)<Math.abs(Y)){var oe=Mr(J||Y)*(Math.abs(Y)-Math.abs(J));L-=oe,J+=oe}}else{var me=[s.scale(D[0]),s.scale(D[1])],we=me[0],Se=me[1];if($=we,L=BM({axis:l,ticks:f,bandSize:i,offset:_.offset,entry:N,index:B}),Q=Se-we,J=_.size,F={x:s.x,y:L,width:s.width,height:J},Math.abs(Y)>0&&Math.abs(Q)<Math.abs(Y)){var Ne=Mr(Q||Y)*(Math.abs(Y)-Math.abs(Q));Q+=Ne}}return zn(zn(zn({},N),{},{x:$,y:L,width:Q,height:J,value:h?D:D[1],payload:N,background:F},A&&A[B]&&A[B].props),{},{tooltipPayload:[qV(n,N)],tooltipPosition:{x:$+Q/2,y:L+J/2}})});return zn({data:P,layout:T},v)});function bd(t){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(t)}function qoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g9(r.key),r)}}function zoe(t,e,n){return e&&y4(t.prototype,e),n&&y4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function v4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v4(Object(n),!0).forEach(function(r){lv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lv(t,e,n){return e=g9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g9(t){var e=Foe(t,"string");return bd(e)=="symbol"?e:e+""}function Foe(t,e){if(bd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hoe=function(e,n,r,i,s){var l=e.width,c=e.height,f=e.layout,h=e.children,p=Object.keys(n),m={left:r.left,leftMirror:r.left,right:l-r.right,rightMirror:l-r.right,top:r.top,topMirror:r.top,bottom:c-r.bottom,bottomMirror:c-r.bottom},v=!!ui(h,Fd);return p.reduce(function(_,T){var S=n[T],w=S.orientation,O=S.domain,C=S.padding,R=C===void 0?{}:C,V=S.mirror,I=S.reversed,j="".concat(w).concat(V?"Mirror":""),A,P,N,B,D;if(S.type==="number"&&(S.padding==="gap"||S.padding==="no-gap")){var $=O[1]-O[0],L=1/0,Q=S.categoricalDomain.sort(rW);if(Q.forEach(function(me,we){we>0&&(L=Math.min((me||0)-(Q[we-1]||0),L))}),Number.isFinite(L)){var J=L/$,F=S.layout==="vertical"?r.height:r.width;if(S.padding==="gap"&&(A=J*F/2),S.padding==="no-gap"){var Y=Dr(e.barCategoryGap,J*F),ee=J*F/2;A=ee-Y-(ee-Y)/F*Y}}}i==="xAxis"?P=[r.left+(R.left||0)+(A||0),r.left+r.width-(R.right||0)-(A||0)]:i==="yAxis"?P=f==="horizontal"?[r.top+r.height-(R.bottom||0),r.top+(R.top||0)]:[r.top+(R.top||0)+(A||0),r.top+r.height-(R.bottom||0)-(A||0)]:P=S.range,I&&(P=[P[1],P[0]]);var ue=VV(S,s,v),ve=ue.scale,H=ue.realScaleType;ve.domain(O).range(P),$V(ve);var W=UV(ve,Xi(Xi({},S),{},{realScaleType:H}));i==="xAxis"?(D=w==="top"&&!V||w==="bottom"&&V,N=r.left,B=m[j]-D*S.height):i==="yAxis"&&(D=w==="left"&&!V||w==="right"&&V,N=m[j]-D*S.width,B=r.top);var oe=Xi(Xi(Xi({},S),W),{},{realScaleType:H,x:N,y:B,scale:ve,width:i==="xAxis"?r.width:S.width,height:i==="yAxis"?r.height:S.height});return oe.bandSize=Rg(oe,W),!S.hide&&i==="xAxis"?m[j]+=(D?-1:1)*oe.height:S.hide||(m[j]+=(D?-1:1)*oe.width),Xi(Xi({},_),{},lv({},T,oe))},{})},y9=function(e,n){var r=e.x,i=e.y,s=n.x,l=n.y;return{x:Math.min(r,s),y:Math.min(i,l),width:Math.abs(s-r),height:Math.abs(l-i)}},Goe=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return y9({x:n,y:r},{x:i,y:s})},v9=(function(){function t(e){qoe(this,t),this.scale=e}return zoe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(n)+c}default:return this.scale(n)}if(i){var f=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+f}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();lv(v9,"EPS",1e-4);var TA=function(e){var n=Object.keys(e).reduce(function(r,i){return Xi(Xi({},r),{},lv({},i,v9.create(e[i])))},{});return Xi(Xi({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=s.bandAware,c=s.position;return boe(i,function(f,h){return n[h].apply(f,{bandAware:l,position:c})})},isInRange:function(i){return h9(i,function(s,l){return n[l].isInRange(s)})}})};function Koe(t){return(t%180+180)%180}var Woe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Koe(i),l=s*Math.PI/180,c=Math.atan(r/n),f=l>c&&l<Math.PI-c?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},_1,b4;function Yoe(){if(b4)return _1;b4=1;var t=ja(),e=Ld(),n=Uy();function r(i){return function(s,l,c){var f=Object(s);if(!e(s)){var h=t(l,3);s=n(s),l=function(m){return h(f[m],m,f)}}var p=i(s,l,c);return p>-1?f[h?s[p]:p]:void 0}}return _1=r,_1}var w1,x4;function Xoe(){if(x4)return w1;x4=1;var t=l9();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return w1=e,w1}var S1,_4;function Qoe(){if(_4)return S1;_4=1;var t=v6(),e=ja(),n=Xoe(),r=Math.max;function i(s,l,c){var f=s==null?0:s.length;if(!f)return-1;var h=c==null?0:n(c);return h<0&&(h=r(f+h,0)),t(s,e(l,3),h)}return S1=i,S1}var T1,w4;function Joe(){if(w4)return T1;w4=1;var t=Yoe(),e=Qoe(),n=t(e);return T1=n,T1}var Zoe=Joe();const ele=Gt(Zoe);var tle=j5();const nle=Gt(tle);var rle=nle(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),EA=U.createContext(void 0),AA=U.createContext(void 0),b9=U.createContext(void 0),x9=U.createContext({}),_9=U.createContext(void 0),w9=U.createContext(0),S9=U.createContext(0),S4=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,l=e.clipPathId,c=e.children,f=e.width,h=e.height,p=rle(s);return G.createElement(EA.Provider,{value:r},G.createElement(AA.Provider,{value:i},G.createElement(x9.Provider,{value:s},G.createElement(b9.Provider,{value:p},G.createElement(_9.Provider,{value:l},G.createElement(w9.Provider,{value:h},G.createElement(S9.Provider,{value:f},c)))))))},ile=function(){return U.useContext(_9)},T9=function(e){var n=U.useContext(EA);n==null&&Ul();var r=n[e];return r==null&&Ul(),r},ale=function(){var e=U.useContext(EA);return uo(e)},sle=function(){var e=U.useContext(AA),n=ele(e,function(r){return h9(r.domain,Number.isFinite)});return n||uo(e)},E9=function(e){var n=U.useContext(AA);n==null&&Ul();var r=n[e];return r==null&&Ul(),r},ole=function(){var e=U.useContext(b9);return e},lle=function(){return U.useContext(x9)},OA=function(){return U.useContext(S9)},CA=function(){return U.useContext(w9)};function jc(t){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jc(t)}function ule(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O9(r.key),r)}}function fle(t,e,n){return e&&cle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hle(t,e,n){return e=Xg(e),dle(t,A9()?Reflect.construct(e,n||[],Xg(t).constructor):e.apply(t,n))}function dle(t,e){if(e&&(jc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ple(t)}function ple(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A9=function(){return!!t})()}function Xg(t){return Xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xg(t)}function mle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gT(t,e)}function gT(t,e){return gT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gT(t,e)}function T4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function E4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T4(Object(n),!0).forEach(function(r){IA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IA(t,e,n){return e=O9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O9(t){var e=gle(t,"string");return jc(e)=="symbol"?e:e+""}function gle(t,e){if(jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function yle(t,e){return _le(t)||xle(t,e)||ble(t,e)||vle()}function vle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ble(t,e){if(t){if(typeof t=="string")return A4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A4(t,e)}}function A4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xle(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,c=[],f=!0,h=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function _le(t){if(Array.isArray(t))return t}function yT(){return yT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yT.apply(this,arguments)}var wle=function(e,n){var r;return G.isValidElement(e)?r=G.cloneElement(e,n):rt(e)?r=e(n):r=G.createElement("line",yT({},n,{className:"recharts-reference-line-line"})),r},Sle=function(e,n,r,i,s,l,c,f,h){var p=s.x,m=s.y,v=s.width,_=s.height;if(r){var T=h.y,S=e.y.apply(T,{position:l});if(Oa(h,"discard")&&!e.y.isInRange(S))return null;var w=[{x:p+v,y:S},{x:p,y:S}];return f==="left"?w.reverse():w}if(n){var O=h.x,C=e.x.apply(O,{position:l});if(Oa(h,"discard")&&!e.x.isInRange(C))return null;var R=[{x:C,y:m+_},{x:C,y:m}];return c==="top"?R.reverse():R}if(i){var V=h.segment,I=V.map(function(j){return e.apply(j,{position:l})});return Oa(h,"discard")&&moe(I,function(j){return!e.isInRange(j)})?null:I}return null};function Tle(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,l=t.shape,c=t.className,f=t.alwaysShow,h=ile(),p=T9(i),m=E9(s),v=ole();if(!h||!v)return null;na(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var _=TA({x:p.scale,y:m.scale}),T=Jn(e),S=Jn(n),w=r&&r.length===2,O=Sle(_,T,S,w,v,t.position,p.orientation,m.orientation,t);if(!O)return null;var C=yle(O,2),R=C[0],V=R.x,I=R.y,j=C[1],A=j.x,P=j.y,N=Oa(t,"hidden")?"url(#".concat(h,")"):void 0,B=E4(E4({clipPath:N},Je(t,!0)),{},{x1:V,y1:I,x2:A,y2:P});return G.createElement(qt,{className:bt("recharts-reference-line",c)},wle(l,B),ir.renderCallByParent(t,Goe({x1:V,y1:I,x2:A,y2:P})))}var PA=(function(t){function e(){return ule(this,e),hle(this,e,arguments)}return mle(e,t),fle(e,[{key:"render",value:function(){return G.createElement(Tle,this.props)}}])})(G.Component);IA(PA,"displayName","ReferenceLine");IA(PA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function vT(){return vT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vT.apply(this,arguments)}function Mc(t){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}function O4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O4(Object(n),!0).forEach(function(r){uv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ele(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ale(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I9(r.key),r)}}function Ole(t,e,n){return e&&Ale(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cle(t,e,n){return e=Qg(e),Ile(t,C9()?Reflect.construct(e,n||[],Qg(t).constructor):e.apply(t,n))}function Ile(t,e){if(e&&(Mc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ple(t)}function Ple(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C9=function(){return!!t})()}function Qg(t){return Qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qg(t)}function kle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bT(t,e)}function bT(t,e){return bT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bT(t,e)}function uv(t,e,n){return e=I9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I9(t){var e=Rle(t,"string");return Mc(e)=="symbol"?e:e+""}function Rle(t,e){if(Mc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Nle=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,l=TA({x:i.scale,y:s.scale}),c=l.apply({x:n,y:r},{bandAware:!0});return Oa(e,"discard")&&!l.isInRange(c)?null:c},cv=(function(t){function e(){return Ele(this,e),Cle(this,e,arguments)}return kle(e,t),Ole(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,l=r.r,c=r.alwaysShow,f=r.clipPathId,h=Jn(i),p=Jn(s);if(na(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!p)return null;var m=Nle(this.props);if(!m)return null;var v=m.x,_=m.y,T=this.props,S=T.shape,w=T.className,O=Oa(this.props,"hidden")?"url(#".concat(f,")"):void 0,C=C4(C4({clipPath:O},Je(this.props,!0)),{},{cx:v,cy:_});return G.createElement(qt,{className:bt("recharts-reference-dot",w)},e.renderDot(S,C),ir.renderCallByParent(this.props,{x:v-l,y:_-l,width:2*l,height:2*l}))}}])})(G.Component);uv(cv,"displayName","ReferenceDot");uv(cv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});uv(cv,"renderDot",function(t,e){var n;return G.isValidElement(t)?n=G.cloneElement(t,e):rt(t)?n=t(e):n=G.createElement(tv,vT({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function xT(){return xT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xT.apply(this,arguments)}function Dc(t){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dc(t)}function I4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I4(Object(n),!0).forEach(function(r){fv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k9(r.key),r)}}function Dle(t,e,n){return e&&Mle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lle(t,e,n){return e=Jg(e),Vle(t,P9()?Reflect.construct(e,n||[],Jg(t).constructor):e.apply(t,n))}function Vle(t,e){if(e&&(Dc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $le(t)}function $le(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P9=function(){return!!t})()}function Jg(t){return Jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jg(t)}function Ule(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_T(t,e)}function _T(t,e){return _T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_T(t,e)}function fv(t,e,n){return e=k9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k9(t){var e=Ble(t,"string");return Dc(e)=="symbol"?e:e+""}function Ble(t,e){if(Dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qle=function(e,n,r,i,s){var l=s.x1,c=s.x2,f=s.y1,h=s.y2,p=s.xAxis,m=s.yAxis;if(!p||!m)return null;var v=TA({x:p.scale,y:m.scale}),_={x:e?v.x.apply(l,{position:"start"}):v.x.rangeMin,y:r?v.y.apply(f,{position:"start"}):v.y.rangeMin},T={x:n?v.x.apply(c,{position:"end"}):v.x.rangeMax,y:i?v.y.apply(h,{position:"end"}):v.y.rangeMax};return Oa(s,"discard")&&(!v.isInRange(_)||!v.isInRange(T))?null:y9(_,T)},hv=(function(t){function e(){return jle(this,e),Lle(this,e,arguments)}return Ule(e,t),Dle(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,l=r.y1,c=r.y2,f=r.className,h=r.alwaysShow,p=r.clipPathId;na(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Jn(i),v=Jn(s),_=Jn(l),T=Jn(c),S=this.props.shape;if(!m&&!v&&!_&&!T&&!S)return null;var w=qle(m,v,_,T,this.props);if(!w&&!S)return null;var O=Oa(this.props,"hidden")?"url(#".concat(p,")"):void 0;return G.createElement(qt,{className:bt("recharts-reference-area",f)},e.renderRect(S,P4(P4({clipPath:O},Je(this.props,!0)),w)),ir.renderCallByParent(this.props,w))}}])})(G.Component);fv(hv,"displayName","ReferenceArea");fv(hv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});fv(hv,"renderRect",function(t,e){var n;return G.isValidElement(t)?n=G.cloneElement(t,e):rt(t)?n=t(e):n=G.createElement(SA,xT({},e,{className:"recharts-reference-area-rect"})),n});function R9(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function zle(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Woe(r,n)}function Fle(t,e,n){var r=n==="width",i=t.x,s=t.y,l=t.width,c=t.height;return e===1?{start:r?i:s,end:r?i+l:s+c}:{start:r?i+l:s+c,end:r?i:s}}function Zg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function Hle(t,e){return R9(t,e+1)}function Gle(t,e,n,r,i){for(var s=(r||[]).slice(),l=e.start,c=e.end,f=0,h=1,p=l,m=function(){var T=r==null?void 0:r[f];if(T===void 0)return{v:R9(r,h)};var S=f,w,O=function(){return w===void 0&&(w=n(T,S)),w},C=T.coordinate,R=f===0||Zg(t,C,O,p,c);R||(f=0,p=l,h+=1),R&&(p=C+t*(O()/2+i),f+=h)},v;h<=s.length;)if(v=m(),v)return v.v;return[]}function xd(t){"@babel/helpers - typeof";return xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xd(t)}function k4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k4(Object(n),!0).forEach(function(r){Kle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kle(t,e,n){return e=Wle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wle(t){var e=Yle(t,"string");return xd(e)=="symbol"?e:e+""}function Yle(t,e){if(xd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xle(t,e,n,r,i){for(var s=(r||[]).slice(),l=s.length,c=e.start,f=e.end,h=function(v){var _=s[v],T,S=function(){return T===void 0&&(T=n(_,v)),T};if(v===l-1){var w=t*(_.coordinate+t*S()/2-f);s[v]=_=Tr(Tr({},_),{},{tickCoord:w>0?_.coordinate-w*t:_.coordinate})}else s[v]=_=Tr(Tr({},_),{},{tickCoord:_.coordinate});var O=Zg(t,_.tickCoord,S,c,f);O&&(f=_.tickCoord-t*(S()/2+i),s[v]=Tr(Tr({},_),{},{isShow:!0}))},p=l-1;p>=0;p--)h(p);return s}function Qle(t,e,n,r,i,s){var l=(r||[]).slice(),c=l.length,f=e.start,h=e.end;if(s){var p=r[c-1],m=n(p,c-1),v=t*(p.coordinate+t*m/2-h);l[c-1]=p=Tr(Tr({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate});var _=Zg(t,p.tickCoord,function(){return m},f,h);_&&(h=p.tickCoord-t*(m/2+i),l[c-1]=Tr(Tr({},p),{},{isShow:!0}))}for(var T=s?c-1:c,S=function(C){var R=l[C],V,I=function(){return V===void 0&&(V=n(R,C)),V};if(C===0){var j=t*(R.coordinate-t*I()/2-f);l[C]=R=Tr(Tr({},R),{},{tickCoord:j<0?R.coordinate-j*t:R.coordinate})}else l[C]=R=Tr(Tr({},R),{},{tickCoord:R.coordinate});var A=Zg(t,R.tickCoord,I,f,h);A&&(f=R.tickCoord+t*(I()/2+i),l[C]=Tr(Tr({},R),{},{isShow:!0}))},w=0;w<T;w++)S(w);return l}function kA(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,l=t.minTickGap,c=t.orientation,f=t.interval,h=t.tickFormatter,p=t.unit,m=t.angle;if(!i||!i.length||!r)return[];if(Ce(f)||Gl.isSsr)return Hle(i,typeof f=="number"&&Ce(f)?f:0);var v=[],_=c==="top"||c==="bottom"?"width":"height",T=p&&_==="width"?Oh(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=function(R,V){var I=rt(h)?h(R.value,V):R.value;return _==="width"?zle(Oh(I,{fontSize:e,letterSpacing:n}),T,m):Oh(I,{fontSize:e,letterSpacing:n})[_]},w=i.length>=2?Mr(i[1].coordinate-i[0].coordinate):1,O=Fle(s,w,_);return f==="equidistantPreserveStart"?Gle(w,O,S,i,l):(f==="preserveStart"||f==="preserveStartEnd"?v=Qle(w,O,S,i,l,f==="preserveStartEnd"):v=Xle(w,O,S,i,l),v.filter(function(C){return C.isShow}))}var Jle=["viewBox"],Zle=["viewBox"],eue=["ticks"];function Lc(t){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(t)}function Ju(){return Ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ju.apply(this,arguments)}function R4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R4(Object(n),!0).forEach(function(r){RA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E1(t,e){if(t==null)return{};var n=tue(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j9(r.key),r)}}function rue(t,e,n){return e&&N4(t.prototype,e),n&&N4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function iue(t,e,n){return e=ey(e),aue(t,N9()?Reflect.construct(e,n||[],ey(t).constructor):e.apply(t,n))}function aue(t,e){if(e&&(Lc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sue(t)}function sue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N9=function(){return!!t})()}function ey(t){return ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ey(t)}function oue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wT(t,e)}function wT(t,e){return wT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wT(t,e)}function RA(t,e,n){return e=j9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j9(t){var e=lue(t,"string");return Lc(e)=="symbol"?e:e+""}function lue(t,e){if(Lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var af=(function(t){function e(n){var r;return nue(this,e),r=iue(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return oue(e,t),rue(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,l=E1(r,Jle),c=this.props,f=c.viewBox,h=E1(c,Zle);return!sc(s,f)||!sc(l,h)||!sc(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,l=i.y,c=i.width,f=i.height,h=i.orientation,p=i.tickSize,m=i.mirror,v=i.tickMargin,_,T,S,w,O,C,R=m?-1:1,V=r.tickSize||p,I=Ce(r.tickCoord)?r.tickCoord:r.coordinate;switch(h){case"top":_=T=r.coordinate,w=l+ +!m*f,S=w-R*V,C=S-R*v,O=I;break;case"left":S=w=r.coordinate,T=s+ +!m*c,_=T-R*V,O=_-R*v,C=I;break;case"right":S=w=r.coordinate,T=s+ +m*c,_=T+R*V,O=_+R*v,C=I;break;default:_=T=r.coordinate,w=l+ +m*f,S=w+R*V,C=S+R*v,O=I;break}return{line:{x1:_,y1:S,x2:T,y2:w},tick:{x:O,y:C}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,l;switch(i){case"left":l=s?"start":"end";break;case"right":l=s?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,l="end";switch(i){case"left":case"right":l="middle";break;case"top":l=s?"start":"end";break;default:l=s?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,l=r.width,c=r.height,f=r.orientation,h=r.mirror,p=r.axisLine,m=Kn(Kn(Kn({},Je(this.props,!1)),Je(p,!1)),{},{fill:"none"});if(f==="top"||f==="bottom"){var v=+(f==="top"&&!h||f==="bottom"&&h);m=Kn(Kn({},m),{},{x1:i,y1:s+v*c,x2:i+l,y2:s+v*c})}else{var _=+(f==="left"&&!h||f==="right"&&h);m=Kn(Kn({},m),{},{x1:i+_*l,y1:s,x2:i+_*l,y2:s+c})}return G.createElement("line",Ju({},m,{className:bt("recharts-cartesian-axis-line",di(p,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var l=this,c=this.props,f=c.tickLine,h=c.stroke,p=c.tick,m=c.tickFormatter,v=c.unit,_=kA(Kn(Kn({},this.props),{},{ticks:r}),i,s),T=this.getTickTextAnchor(),S=this.getTickVerticalAnchor(),w=Je(this.props,!1),O=Je(p,!1),C=Kn(Kn({},w),{},{fill:"none"},Je(f,!1)),R=_.map(function(V,I){var j=l.getTickLineCoord(V),A=j.line,P=j.tick,N=Kn(Kn(Kn(Kn({textAnchor:T,verticalAnchor:S},w),{},{stroke:"none",fill:h},O),P),{},{index:I,payload:V,visibleTicksCount:_.length,tickFormatter:m});return G.createElement(qt,Ju({className:"recharts-cartesian-axis-tick",key:"tick-".concat(V.value,"-").concat(V.coordinate,"-").concat(V.tickCoord)},Ll(l.props,V,I)),f&&G.createElement("line",Ju({},C,A,{className:bt("recharts-cartesian-axis-tick-line",di(f,"className"))})),p&&e.renderTickItem(p,N,"".concat(rt(m)?m(V.value,I):V.value).concat(v||"")))});return G.createElement("g",{className:"recharts-cartesian-axis-ticks"},R)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,l=i.width,c=i.height,f=i.ticksGenerator,h=i.className,p=i.hide;if(p)return null;var m=this.props,v=m.ticks,_=E1(m,eue),T=v;return rt(f)&&(T=v&&v.length>0?f(this.props):f(_)),l<=0||c<=0||!T||!T.length?null:G.createElement(qt,{className:bt("recharts-cartesian-axis",h),ref:function(w){r.layerReference=w}},s&&this.renderAxisLine(),this.renderTicks(T,this.state.fontSize,this.state.letterSpacing),ir.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var l,c=bt(i.className,"recharts-cartesian-axis-tick-value");return G.isValidElement(r)?l=G.cloneElement(r,Kn(Kn({},i),{},{className:c})):rt(r)?l=r(Kn(Kn({},i),{},{className:c})):l=G.createElement(Vl,Ju({},i,{className:"recharts-cartesian-axis-tick-value"}),s),l}}])})(U.Component);RA(af,"displayName","CartesianAxis");RA(af,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var uue=["x1","y1","x2","y2","key"],cue=["offset"];function Bl(t){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bl(t)}function j4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Or(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j4(Object(n),!0).forEach(function(r){fue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fue(t,e,n){return e=hue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hue(t){var e=due(t,"string");return Bl(e)=="symbol"?e:e+""}function due(t,e){if(Bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function El(){return El=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},El.apply(this,arguments)}function M4(t,e){if(t==null)return{};var n=pue(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var mue=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,l=e.width,c=e.height,f=e.ry;return G.createElement("rect",{x:i,y:s,ry:f,width:l,height:c,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function M9(t,e){var n;if(G.isValidElement(t))n=G.cloneElement(t,e);else if(rt(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,l=e.y2,c=e.key,f=M4(e,uue),h=Je(f,!1);h.offset;var p=M4(h,cue);n=G.createElement("line",El({},p,{x1:r,y1:i,x2:s,y2:l,fill:"none",key:c}))}return n}function gue(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var l=s.map(function(c,f){var h=Or(Or({},t),{},{x1:e,y1:c,x2:e+n,y2:c,key:"line-".concat(f),index:f});return M9(i,h)});return G.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function yue(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var l=s.map(function(c,f){var h=Or(Or({},t),{},{x1:c,y1:e,x2:c,y2:e+n,key:"line-".concat(f),index:f});return M9(i,h)});return G.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function vue(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,l=t.height,c=t.horizontalPoints,f=t.horizontal,h=f===void 0?!0:f;if(!h||!e||!e.length)return null;var p=c.map(function(v){return Math.round(v+i-i)}).sort(function(v,_){return v-_});i!==p[0]&&p.unshift(0);var m=p.map(function(v,_){var T=!p[_+1],S=T?i+l-v:p[_+1]-v;if(S<=0)return null;var w=_%e.length;return G.createElement("rect",{key:"react-".concat(_),y:v,x:r,height:S,width:s,stroke:"none",fill:e[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return G.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function bue(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,l=t.y,c=t.width,f=t.height,h=t.verticalPoints;if(!n||!r||!r.length)return null;var p=h.map(function(v){return Math.round(v+s-s)}).sort(function(v,_){return v-_});s!==p[0]&&p.unshift(0);var m=p.map(function(v,_){var T=!p[_+1],S=T?s+c-v:p[_+1]-v;if(S<=0)return null;var w=_%r.length;return G.createElement("rect",{key:"react-".concat(_),x:v,y:l,width:S,height:f,stroke:"none",fill:r[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return G.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var xue=function(e,n){var r=e.xAxis,i=e.width,s=e.height,l=e.offset;return LV(kA(Or(Or(Or({},af.defaultProps),r),{},{ticks:cs(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),l.left,l.left+l.width,n)},_ue=function(e,n){var r=e.yAxis,i=e.width,s=e.height,l=e.offset;return LV(kA(Or(Or(Or({},af.defaultProps),r),{},{ticks:cs(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),l.top,l.top+l.height,n)},Bu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function D9(t){var e,n,r,i,s,l,c=OA(),f=CA(),h=lle(),p=Or(Or({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Bu.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Bu.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Bu.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Bu.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:Bu.vertical,verticalFill:(l=t.verticalFill)!==null&&l!==void 0?l:Bu.verticalFill,x:Ce(t.x)?t.x:h.left,y:Ce(t.y)?t.y:h.top,width:Ce(t.width)?t.width:h.width,height:Ce(t.height)?t.height:h.height}),m=p.x,v=p.y,_=p.width,T=p.height,S=p.syncWithTicks,w=p.horizontalValues,O=p.verticalValues,C=ale(),R=sle();if(!Ce(_)||_<=0||!Ce(T)||T<=0||!Ce(m)||m!==+m||!Ce(v)||v!==+v)return null;var V=p.verticalCoordinatesGenerator||xue,I=p.horizontalCoordinatesGenerator||_ue,j=p.horizontalPoints,A=p.verticalPoints;if((!j||!j.length)&&rt(I)){var P=w&&w.length,N=I({yAxis:R?Or(Or({},R),{},{ticks:P?w:R.ticks}):void 0,width:c,height:f,offset:h},P?!0:S);na(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Bl(N),"]")),Array.isArray(N)&&(j=N)}if((!A||!A.length)&&rt(V)){var B=O&&O.length,D=V({xAxis:C?Or(Or({},C),{},{ticks:B?O:C.ticks}):void 0,width:c,height:f,offset:h},B?!0:S);na(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Bl(D),"]")),Array.isArray(D)&&(A=D)}return G.createElement("g",{className:"recharts-cartesian-grid"},G.createElement(mue,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),G.createElement(gue,El({},p,{offset:h,horizontalPoints:j,xAxis:C,yAxis:R})),G.createElement(yue,El({},p,{offset:h,verticalPoints:A,xAxis:C,yAxis:R})),G.createElement(vue,El({},p,{horizontalPoints:j})),G.createElement(bue,El({},p,{verticalPoints:A})))}D9.displayName="CartesianGrid";var wue=["type","layout","connectNulls","ref"],Sue=["key"];function Vc(t){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vc(t)}function D4(t,e){if(t==null)return{};var n=Tue(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Nh(){return Nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nh.apply(this,arguments)}function L4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L4(Object(n),!0).forEach(function(r){Qi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qu(t){return Cue(t)||Oue(t)||Aue(t)||Eue()}function Eue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aue(t,e){if(t){if(typeof t=="string")return ST(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ST(t,e)}}function Oue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cue(t){if(Array.isArray(t))return ST(t)}function ST(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Iue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V9(r.key),r)}}function Pue(t,e,n){return e&&V4(t.prototype,e),n&&V4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kue(t,e,n){return e=ty(e),Rue(t,L9()?Reflect.construct(e,n||[],ty(t).constructor):e.apply(t,n))}function Rue(t,e){if(e&&(Vc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nue(t)}function Nue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L9=function(){return!!t})()}function ty(t){return ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ty(t)}function jue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TT(t,e)}function TT(t,e){return TT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TT(t,e)}function Qi(t,e,n){return e=V9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V9(t){var e=Mue(t,"string");return Vc(e)=="symbol"?e:e+""}function Mue(t,e){if(Vc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $c=(function(t){function e(){var n;Iue(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=kue(this,e,[].concat(i)),Qi(n,"state",{isAnimationFinished:!0,totalLength:0}),Qi(n,"generateSimpleStrokeDasharray",function(l,c){return"".concat(c,"px ").concat(l-c,"px")}),Qi(n,"getStrokeDasharray",function(l,c,f){var h=f.reduce(function(O,C){return O+C});if(!h)return n.generateSimpleStrokeDasharray(c,l);for(var p=Math.floor(l/h),m=l%h,v=c-l,_=[],T=0,S=0;T<f.length;S+=f[T],++T)if(S+f[T]>m){_=[].concat(qu(f.slice(0,T)),[m-S]);break}var w=_.length%2===0?[0,v]:[v];return[].concat(qu(e.repeat(f,p)),qu(_),w).map(function(O){return"".concat(O,"px")}).join(", ")}),Qi(n,"id",Zc("recharts-line-")),Qi(n,"pathRef",function(l){n.mainCurve=l}),Qi(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Qi(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return jue(e,t),Pue(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.points,c=s.xAxis,f=s.yAxis,h=s.layout,p=s.children,m=pi(p,zd);if(!m)return null;var v=function(S,w){return{x:S.x,y:S.y,value:S.value,errorVal:Xn(S.payload,w)}},_={clipPath:r?"url(#clipPath-".concat(i,")"):null};return G.createElement(qt,_,m.map(function(T){return G.cloneElement(T,{key:"bar-".concat(T.props.dataKey),data:l,xAxis:c,yAxis:f,layout:h,dataPointFormatter:v})}))}},{key:"renderDots",value:function(r,i,s){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var c=this.props,f=c.dot,h=c.points,p=c.dataKey,m=Je(this.props,!1),v=Je(f,!0),_=h.map(function(S,w){var O=oi(oi(oi({key:"dot-".concat(w),r:3},m),v),{},{index:w,cx:S.x,cy:S.y,value:S.value,dataKey:p,payload:S.payload,points:h});return e.renderDotItem(f,O)}),T={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return G.createElement(qt,Nh({className:"recharts-line-dots",key:"dots"},T),_)}},{key:"renderCurveStatically",value:function(r,i,s,l){var c=this.props,f=c.type,h=c.layout,p=c.connectNulls;c.ref;var m=D4(c,wue),v=oi(oi(oi({},Je(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},l),{},{type:f,layout:h,connectNulls:p});return G.createElement(Mg,Nh({},v,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,l=this.props,c=l.points,f=l.strokeDasharray,h=l.isAnimationActive,p=l.animationBegin,m=l.animationDuration,v=l.animationEasing,_=l.animationId,T=l.animateNewValues,S=l.width,w=l.height,O=this.state,C=O.prevPoints,R=O.totalLength;return G.createElement(Ra,{begin:p,duration:m,isActive:h,easing:v,from:{t:0},to:{t:1},key:"line-".concat(_),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(V){var I=V.t;if(C){var j=C.length/c.length,A=c.map(function($,L){var Q=Math.floor(L*j);if(C[Q]){var J=C[Q],F=ci(J.x,$.x),Y=ci(J.y,$.y);return oi(oi({},$),{},{x:F(I),y:Y(I)})}if(T){var ee=ci(S*2,$.x),ue=ci(w/2,$.y);return oi(oi({},$),{},{x:ee(I),y:ue(I)})}return oi(oi({},$),{},{x:$.x,y:$.y})});return s.renderCurveStatically(A,r,i)}var P=ci(0,R),N=P(I),B;if(f){var D="".concat(f).split(/[,\s]+/gim).map(function($){return parseFloat($)});B=s.getStrokeDasharray(N,R,D)}else B=s.generateSimpleStrokeDasharray(R,N);return s.renderCurveStatically(c,r,i,{strokeDasharray:B})})}},{key:"renderCurve",value:function(r,i){var s=this.props,l=s.points,c=s.isAnimationActive,f=this.state,h=f.prevPoints,p=f.totalLength;return c&&l&&l.length&&(!h&&p>0||!qd(h,l))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(l,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,l=i.dot,c=i.points,f=i.className,h=i.xAxis,p=i.yAxis,m=i.top,v=i.left,_=i.width,T=i.height,S=i.isAnimationActive,w=i.id;if(s||!c||!c.length)return null;var O=this.state.isAnimationFinished,C=c.length===1,R=bt("recharts-line",f),V=h&&h.allowDataOverflow,I=p&&p.allowDataOverflow,j=V||I,A=ct(w)?this.id:w,P=(r=Je(l,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},N=P.r,B=N===void 0?3:N,D=P.strokeWidth,$=D===void 0?2:D,L=hW(l)?l:{},Q=L.clipDot,J=Q===void 0?!0:Q,F=B*2+$;return G.createElement(qt,{className:R},V||I?G.createElement("defs",null,G.createElement("clipPath",{id:"clipPath-".concat(A)},G.createElement("rect",{x:V?v:v-_/2,y:I?m:m-T/2,width:V?_:_*2,height:I?T:T*2})),!J&&G.createElement("clipPath",{id:"clipPath-dots-".concat(A)},G.createElement("rect",{x:v-F/2,y:m-F/2,width:_+F,height:T+F}))):null,!C&&this.renderCurve(j,A),this.renderErrorBar(j,A),(C||l)&&this.renderDots(j,J,A),(!S||O)&&ds.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(qu(r),[0]):r,l=[],c=0;c<i;++c)l=[].concat(qu(l),qu(s));return l}},{key:"renderDotItem",value:function(r,i){var s;if(G.isValidElement(r))s=G.cloneElement(r,i);else if(rt(r))s=r(i);else{var l=i.key,c=D4(i,Sue),f=bt("recharts-line-dot",typeof r!="boolean"?r.className:"");s=G.createElement(tv,Nh({key:l},c,{className:f}))}return s}}])})(U.PureComponent);Qi($c,"displayName","Line");Qi($c,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Gl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Qi($c,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,l=t.dataKey,c=t.bandSize,f=t.displayedData,h=t.offset,p=e.layout,m=f.map(function(v,_){var T=Xn(v,l);return p==="horizontal"?{x:UM({axis:n,ticks:i,bandSize:c,entry:v,index:_}),y:ct(T)?null:r.scale(T),value:T,payload:v}:{x:ct(T)?null:n.scale(T),y:UM({axis:r,ticks:s,bandSize:c,entry:v,index:_}),value:T,payload:v}});return oi({points:m,layout:p},h)});function Uc(t){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(t)}function Due(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B9(r.key),r)}}function Vue(t,e,n){return e&&Lue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ue(t,e,n){return e=ny(e),Uue(t,$9()?Reflect.construct(e,n||[],ny(t).constructor):e.apply(t,n))}function Uue(t,e){if(e&&(Uc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bue(t)}function Bue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($9=function(){return!!t})()}function ny(t){return ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ny(t)}function que(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ET(t,e)}function ET(t,e){return ET=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ET(t,e)}function U9(t,e,n){return e=B9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B9(t){var e=zue(t,"string");return Uc(e)=="symbol"?e:e+""}function zue(t,e){if(Uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function AT(){return AT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AT.apply(this,arguments)}function Fue(t){var e=t.xAxisId,n=OA(),r=CA(),i=T9(e);return i==null?null:U.createElement(af,AT({},i,{className:bt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(l){return cs(l,!0)}}))}var dv=(function(t){function e(){return Due(this,e),$ue(this,e,arguments)}return que(e,t),Vue(e,[{key:"render",value:function(){return U.createElement(Fue,this.props)}}])})(U.Component);U9(dv,"displayName","XAxis");U9(dv,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Bc(t){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bc(t)}function Hue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F9(r.key),r)}}function Kue(t,e,n){return e&&Gue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Wue(t,e,n){return e=ry(e),Yue(t,q9()?Reflect.construct(e,n||[],ry(t).constructor):e.apply(t,n))}function Yue(t,e){if(e&&(Bc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xue(t)}function Xue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q9=function(){return!!t})()}function ry(t){return ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ry(t)}function Que(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OT(t,e)}function OT(t,e){return OT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OT(t,e)}function z9(t,e,n){return e=F9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F9(t){var e=Jue(t,"string");return Bc(e)=="symbol"?e:e+""}function Jue(t,e){if(Bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function CT(){return CT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CT.apply(this,arguments)}var Zue=function(e){var n=e.yAxisId,r=OA(),i=CA(),s=E9(n);return s==null?null:U.createElement(af,CT({},s,{className:bt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(c){return cs(c,!0)}}))},_d=(function(t){function e(){return Hue(this,e),Wue(this,e,arguments)}return Que(e,t),Kue(e,[{key:"render",value:function(){return U.createElement(Zue,this.props)}}])})(U.Component);z9(_d,"displayName","YAxis");z9(_d,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function $4(t){return rce(t)||nce(t)||tce(t)||ece()}function ece(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tce(t,e){if(t){if(typeof t=="string")return IT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IT(t,e)}}function nce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rce(t){if(Array.isArray(t))return IT(t)}function IT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var PT=function(e,n,r,i,s){var l=pi(e,PA),c=pi(e,cv),f=[].concat($4(l),$4(c)),h=pi(e,hv),p="".concat(i,"Id"),m=i[0],v=n;if(f.length&&(v=f.reduce(function(S,w){if(w.props[p]===r&&Oa(w.props,"extendDomain")&&Ce(w.props[m])){var O=w.props[m];return[Math.min(S[0],O),Math.max(S[1],O)]}return S},v)),h.length){var _="".concat(m,"1"),T="".concat(m,"2");v=h.reduce(function(S,w){if(w.props[p]===r&&Oa(w.props,"extendDomain")&&Ce(w.props[_])&&Ce(w.props[T])){var O=w.props[_],C=w.props[T];return[Math.min(S[0],O,C),Math.max(S[1],O,C)]}return S},v)}return s&&s.length&&(v=s.reduce(function(S,w){return Ce(w)?[Math.min(S[0],w),Math.max(S[1],w)]:S},v)),v},A1={exports:{}},U4;function ice(){return U4||(U4=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function s(f,h,p,m,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var _=new i(p,m||f,v),T=n?n+h:h;return f._events[T]?f._events[T].fn?f._events[T]=[f._events[T],_]:f._events[T].push(_):(f._events[T]=_,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],p,m;if(this._eventsCount===0)return h;for(m in p=this._events)e.call(p,m)&&h.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},c.prototype.listeners=function(h){var p=n?n+h:h,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,_=m.length,T=new Array(_);v<_;v++)T[v]=m[v].fn;return T},c.prototype.listenerCount=function(h){var p=n?n+h:h,m=this._events[p];return m?m.fn?1:m.length:0},c.prototype.emit=function(h,p,m,v,_,T){var S=n?n+h:h;if(!this._events[S])return!1;var w=this._events[S],O=arguments.length,C,R;if(w.fn){switch(w.once&&this.removeListener(h,w.fn,void 0,!0),O){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,p),!0;case 3:return w.fn.call(w.context,p,m),!0;case 4:return w.fn.call(w.context,p,m,v),!0;case 5:return w.fn.call(w.context,p,m,v,_),!0;case 6:return w.fn.call(w.context,p,m,v,_,T),!0}for(R=1,C=new Array(O-1);R<O;R++)C[R-1]=arguments[R];w.fn.apply(w.context,C)}else{var V=w.length,I;for(R=0;R<V;R++)switch(w[R].once&&this.removeListener(h,w[R].fn,void 0,!0),O){case 1:w[R].fn.call(w[R].context);break;case 2:w[R].fn.call(w[R].context,p);break;case 3:w[R].fn.call(w[R].context,p,m);break;case 4:w[R].fn.call(w[R].context,p,m,v);break;default:if(!C)for(I=1,C=new Array(O-1);I<O;I++)C[I-1]=arguments[I];w[R].fn.apply(w[R].context,C)}}return!0},c.prototype.on=function(h,p,m){return s(this,h,p,m,!1)},c.prototype.once=function(h,p,m){return s(this,h,p,m,!0)},c.prototype.removeListener=function(h,p,m,v){var _=n?n+h:h;if(!this._events[_])return this;if(!p)return l(this,_),this;var T=this._events[_];if(T.fn)T.fn===p&&(!v||T.once)&&(!m||T.context===m)&&l(this,_);else{for(var S=0,w=[],O=T.length;S<O;S++)(T[S].fn!==p||v&&!T[S].once||m&&T[S].context!==m)&&w.push(T[S]);w.length?this._events[_]=w.length===1?w[0]:w:l(this,_)}return this},c.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(A1)),A1.exports}var ace=ice();const sce=Gt(ace);var O1=new sce,C1="recharts.syncMouseEvents";function wd(t){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wd(t)}function oce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H9(r.key),r)}}function uce(t,e,n){return e&&lce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function I1(t,e,n){return e=H9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H9(t){var e=cce(t,"string");return wd(e)=="symbol"?e:e+""}function cce(t,e){if(wd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fce=(function(){function t(){oce(this,t),I1(this,"activeIndex",0),I1(this,"coordinateList",[]),I1(this,"layout","horizontal")}return uce(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,l=n.container,c=l===void 0?null:l,f=n.layout,h=f===void 0?null:f,p=n.offset,m=p===void 0?null:p,v=n.mouseHandlerCallback,_=v===void 0?null:v;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=c??this.container,this.layout=h??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=_??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,l=i.y,c=i.height,f=this.coordinateList[this.activeIndex].coordinate,h=((n=window)===null||n===void 0?void 0:n.scrollX)||0,p=((r=window)===null||r===void 0?void 0:r.scrollY)||0,m=s+f+h,v=l+this.offset.top+c/2+p;this.mouseHandlerCallback({pageX:m,pageY:v})}}}])})();function hce(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Ce(r)&&Ce(i))return!0}return!1}function dce(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function G9(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,l=fn(e,n,r,i),c=fn(e,n,r,s);return{points:[l,c],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function pce(t,e,n){var r,i,s,l;if(t==="horizontal")r=e.x,s=r,i=n.top,l=n.top+n.height;else if(t==="vertical")i=e.y,l=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var c=e.cx,f=e.cy,h=e.innerRadius,p=e.outerRadius,m=e.angle,v=fn(c,f,h,m),_=fn(c,f,p,m);r=v.x,i=v.y,s=_.x,l=_.y}else return G9(e);return[{x:r,y:i},{x:s,y:l}]}function Sd(t){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sd(t)}function B4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Em(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B4(Object(n),!0).forEach(function(r){mce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mce(t,e,n){return e=gce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gce(t){var e=yce(t,"string");return Sd(e)=="symbol"?e:e+""}function yce(t,e){if(Sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vce(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,l=t.activeCoordinate,c=t.activePayload,f=t.offset,h=t.activeTooltipIndex,p=t.tooltipAxisBandSize,m=t.layout,v=t.chartName,_=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!_||!s||!l||v!=="ScatterChart"&&i!=="axis")return null;var T,S=Mg;if(v==="ScatterChart")T=l,S=$ae;else if(v==="BarChart")T=dce(m,l,f,p),S=SA;else if(m==="radial"){var w=G9(l),O=w.cx,C=w.cy,R=w.radius,V=w.startAngle,I=w.endAngle;T={cx:O,cy:C,startAngle:V,endAngle:I,innerRadius:R,outerRadius:R},S=wA}else T={points:pce(m,l,f)},S=Mg;var j=Em(Em(Em(Em({stroke:"#ccc",pointerEvents:"none"},f),T),Je(_,!1)),{},{payload:c,payloadIndex:h,className:bt("recharts-tooltip-cursor",_.className)});return U.isValidElement(_)?U.cloneElement(_,j):U.createElement(S,j)}var bce=["item"],xce=["children","className","width","height","style","compact","title","desc"];function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function Zu(){return Zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zu.apply(this,arguments)}function q4(t,e){return Sce(t)||wce(t,e)||W9(t,e)||_ce()}function _ce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,l,c=[],f=!0,h=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(f=(r=s.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function Sce(t){if(Array.isArray(t))return t}function z4(t,e){if(t==null)return{};var n=Tce(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ece(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ace(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Y9(r.key),r)}}function Oce(t,e,n){return e&&Ace(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cce(t,e,n){return e=iy(e),Ice(t,K9()?Reflect.construct(e,n||[],iy(t).constructor):e.apply(t,n))}function Ice(t,e){if(e&&(qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pce(t)}function Pce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K9=function(){return!!t})()}function iy(t){return iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iy(t)}function kce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kT(t,e)}function kT(t,e){return kT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kT(t,e)}function zc(t){return jce(t)||Nce(t)||W9(t)||Rce()}function Rce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W9(t,e){if(t){if(typeof t=="string")return RT(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RT(t,e)}}function Nce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jce(t){if(Array.isArray(t))return RT(t)}function RT(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function F4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function de(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F4(Object(n),!0).forEach(function(r){tt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tt(t,e,n){return e=Y9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y9(t){var e=Mce(t,"string");return qc(e)=="symbol"?e:e+""}function Mce(t,e){if(qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dce={xAxis:["bottom","top"],yAxis:["left","right"]},Lce={width:"100%",height:"100%"},X9={x:0,y:0};function Am(t){return t}var Vce=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},$ce=function(e,n,r,i){var s=n.find(function(p){return p&&p.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var l=s.coordinate,c=i.radius;return de(de(de({},i),fn(i.cx,i.cy,c,l)),{},{angle:l,radius:c})}var f=s.coordinate,h=i.angle;return de(de(de({},i),fn(i.cx,i.cy,f,h)),{},{angle:h,radius:f})}return X9},pv=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,l=(r??[]).reduce(function(c,f){var h=f.props.data;return h&&h.length?[].concat(zc(c),zc(h)):c},[]);return l.length>0?l:e&&e.length&&Ce(i)&&Ce(s)?e.slice(i,s+1):[]};function Q9(t){return t==="number"?[0,"auto"]:void 0}var NT=function(e,n,r,i){var s=e.graphicalItems,l=e.tooltipAxis,c=pv(n,e);return r<0||!s||!s.length||r>=c.length?null:s.reduce(function(f,h){var p,m=(p=h.props.data)!==null&&p!==void 0?p:n;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var v;if(l.dataKey&&!l.allowDuplicatedCategory){var _=m===void 0?c:m;v=og(_,l.dataKey,i)}else v=m&&m[r]||c[r];return v?[].concat(zc(f),[qV(h,v)]):f},[])},H4=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},l=Vce(s,r),c=e.orderedTooltipTicks,f=e.tooltipAxis,h=e.tooltipTicks,p=une(l,c,h,f);if(p>=0&&h){var m=h[p]&&h[p].value,v=NT(e,n,p,m),_=$ce(r,c,p,s);return{activeTooltipIndex:p,activeLabel:m,activePayload:v,activeCoordinate:_}}return null},Uce=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,l=n.axisIdKey,c=n.stackGroups,f=n.dataStartIndex,h=n.dataEndIndex,p=e.layout,m=e.children,v=e.stackOffset,_=DV(p,s);return r.reduce(function(T,S){var w,O=S.type.defaultProps!==void 0?de(de({},S.type.defaultProps),S.props):S.props,C=O.type,R=O.dataKey,V=O.allowDataOverflow,I=O.allowDuplicatedCategory,j=O.scale,A=O.ticks,P=O.includeHidden,N=O[l];if(T[N])return T;var B=pv(e.data,{graphicalItems:i.filter(function(W){var oe,me=l in W.props?W.props[l]:(oe=W.type.defaultProps)===null||oe===void 0?void 0:oe[l];return me===N}),dataStartIndex:f,dataEndIndex:h}),D=B.length,$,L,Q;hce(O.domain,V,C)&&($=KS(O.domain,null,V),_&&(C==="number"||j!=="auto")&&(Q=Ih(B,R,"category")));var J=Q9(C);if(!$||$.length===0){var F,Y=(F=O.domain)!==null&&F!==void 0?F:J;if(R){if($=Ih(B,R,C),C==="category"&&_){var ee=nW($);I&&ee?(L=$,$=Hg(0,D)):I||($=FM(Y,$,S).reduce(function(W,oe){return W.indexOf(oe)>=0?W:[].concat(zc(W),[oe])},[]))}else if(C==="category")I?$=$.filter(function(W){return W!==""&&!ct(W)}):$=FM(Y,$,S).reduce(function(W,oe){return W.indexOf(oe)>=0||oe===""||ct(oe)?W:[].concat(zc(W),[oe])},[]);else if(C==="number"){var ue=pne(B,i.filter(function(W){var oe,me,we=l in W.props?W.props[l]:(oe=W.type.defaultProps)===null||oe===void 0?void 0:oe[l],Se="hide"in W.props?W.props.hide:(me=W.type.defaultProps)===null||me===void 0?void 0:me.hide;return we===N&&(P||!Se)}),R,s,p);ue&&($=ue)}_&&(C==="number"||j!=="auto")&&(Q=Ih(B,R,"category"))}else _?$=Hg(0,D):c&&c[N]&&c[N].hasStack&&C==="number"?$=v==="expand"?[0,1]:BV(c[N].stackGroups,f,h):$=MV(B,i.filter(function(W){var oe=l in W.props?W.props[l]:W.type.defaultProps[l],me="hide"in W.props?W.props.hide:W.type.defaultProps.hide;return oe===N&&(P||!me)}),C,p,!0);if(C==="number")$=PT(m,$,N,s,A),Y&&($=KS(Y,$,V));else if(C==="category"&&Y){var ve=Y,H=$.every(function(W){return ve.indexOf(W)>=0});H&&($=ve)}}return de(de({},T),{},tt({},N,de(de({},O),{},{axisType:s,domain:$,categoricalDomain:Q,duplicateDomain:L,originalDomain:(w=O.domain)!==null&&w!==void 0?w:J,isCategorical:_,layout:p})))},{})},Bce=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,l=n.axisIdKey,c=n.stackGroups,f=n.dataStartIndex,h=n.dataEndIndex,p=e.layout,m=e.children,v=pv(e.data,{graphicalItems:r,dataStartIndex:f,dataEndIndex:h}),_=v.length,T=DV(p,s),S=-1;return r.reduce(function(w,O){var C=O.type.defaultProps!==void 0?de(de({},O.type.defaultProps),O.props):O.props,R=C[l],V=Q9("number");if(!w[R]){S++;var I;return T?I=Hg(0,_):c&&c[R]&&c[R].hasStack?(I=BV(c[R].stackGroups,f,h),I=PT(m,I,R,s)):(I=KS(V,MV(v,r.filter(function(j){var A,P,N=l in j.props?j.props[l]:(A=j.type.defaultProps)===null||A===void 0?void 0:A[l],B="hide"in j.props?j.props.hide:(P=j.type.defaultProps)===null||P===void 0?void 0:P.hide;return N===R&&!B}),"number",p),i.defaultProps.allowDataOverflow),I=PT(m,I,R,s)),de(de({},w),{},tt({},R,de(de({axisType:s},i.defaultProps),{},{hide:!0,orientation:di(Dce,"".concat(s,".").concat(S%2),null),domain:I,originalDomain:V,isCategorical:T,layout:p})))}return w},{})},qce=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,l=n.graphicalItems,c=n.stackGroups,f=n.dataStartIndex,h=n.dataEndIndex,p=e.children,m="".concat(i,"Id"),v=pi(p,s),_={};return v&&v.length?_=Uce(e,{axes:v,graphicalItems:l,axisType:i,axisIdKey:m,stackGroups:c,dataStartIndex:f,dataEndIndex:h}):l&&l.length&&(_=Bce(e,{Axis:s,graphicalItems:l,axisType:i,axisIdKey:m,stackGroups:c,dataStartIndex:f,dataEndIndex:h})),_},zce=function(e){var n=uo(e),r=cs(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:YE(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Rg(n,r)}},G4=function(e){var n=e.children,r=e.defaultShowTooltip,i=ui(n,Rc),s=0,l=0;return e.data&&e.data.length!==0&&(l=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(l=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!r}},Fce=function(e){return!e||!e.length?!1:e.some(function(n){var r=fs(n&&n.type);return r&&r.indexOf("Bar")>=0})},K4=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Hce=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,l=s===void 0?{}:s,c=e.yAxisMap,f=c===void 0?{}:c,h=r.width,p=r.height,m=r.children,v=r.margin||{},_=ui(m,Rc),T=ui(m,vo),S=Object.keys(f).reduce(function(I,j){var A=f[j],P=A.orientation;return!A.mirror&&!A.hide?de(de({},I),{},tt({},P,I[P]+A.width)):I},{left:v.left||0,right:v.right||0}),w=Object.keys(l).reduce(function(I,j){var A=l[j],P=A.orientation;return!A.mirror&&!A.hide?de(de({},I),{},tt({},P,di(I,"".concat(P))+A.height)):I},{top:v.top||0,bottom:v.bottom||0}),O=de(de({},w),S),C=O.bottom;_&&(O.bottom+=_.props.height||Rc.defaultProps.height),T&&n&&(O=hne(O,i,r,n));var R=h-O.left-O.right,V=p-O.top-O.bottom;return de(de({brushBottom:C},O),{},{width:Math.max(R,0),height:Math.max(V,0)})},Gce=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},J9=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,l=e.validateTooltipEventTypes,c=l===void 0?["axis"]:l,f=e.axisComponents,h=e.legendContent,p=e.formatAxisMap,m=e.defaultProps,v=function(O,C){var R=C.graphicalItems,V=C.stackGroups,I=C.offset,j=C.updateId,A=C.dataStartIndex,P=C.dataEndIndex,N=O.barSize,B=O.layout,D=O.barGap,$=O.barCategoryGap,L=O.maxBarSize,Q=K4(B),J=Q.numericAxisName,F=Q.cateAxisName,Y=Fce(R),ee=[];return R.forEach(function(ue,ve){var H=pv(O.data,{graphicalItems:[ue],dataStartIndex:A,dataEndIndex:P}),W=ue.type.defaultProps!==void 0?de(de({},ue.type.defaultProps),ue.props):ue.props,oe=W.dataKey,me=W.maxBarSize,we=W["".concat(J,"Id")],Se=W["".concat(F,"Id")],Ne={},$e=f.reduce(function(_t,Dt){var En=C["".concat(Dt.axisType,"Map")],Ie=W["".concat(Dt.axisType,"Id")];En&&En[Ie]||Dt.axisType==="zAxis"||Ul();var ht=En[Ie];return de(de({},_t),{},tt(tt({},Dt.axisType,ht),"".concat(Dt.axisType,"Ticks"),cs(ht)))},Ne),ye=$e[F],Te=$e["".concat(F,"Ticks")],Re=V&&V[we]&&V[we].hasStack&&Sne(ue,V[we].stackGroups),ne=fs(ue.type).indexOf("Bar")>=0,He=Rg(ye,Te),xe=[],Ee=Y&&cne({barSize:N,stackGroups:V,totalSize:Gce($e,F)});if(ne){var Be,We,st=ct(me)?L:me,Ye=(Be=(We=Rg(ye,Te,!0))!==null&&We!==void 0?We:st)!==null&&Be!==void 0?Be:0;xe=fne({barGap:D,barCategoryGap:$,bandSize:Ye!==He?Ye:He,sizeList:Ee[Se],maxBarSize:st}),Ye!==He&&(xe=xe.map(function(_t){return de(de({},_t),{},{position:de(de({},_t.position),{},{offset:_t.position.offset-Ye/2})})}))}var qe=ue&&ue.type&&ue.type.getComposedData;qe&&ee.push({props:de(de({},qe(de(de({},$e),{},{displayedData:H,props:O,dataKey:oe,item:ue,bandSize:He,barPosition:xe,offset:I,stackedData:Re,layout:B,dataStartIndex:A,dataEndIndex:P}))),{},tt(tt(tt({key:ue.key||"item-".concat(ve)},J,$e[J]),F,$e[F]),"animationId",j)),childIndex:mW(ue,O.children),item:ue})}),ee},_=function(O,C){var R=O.props,V=O.dataStartIndex,I=O.dataEndIndex,j=O.updateId;if(!iR({props:R}))return null;var A=R.children,P=R.layout,N=R.stackOffset,B=R.data,D=R.reverseStackOrder,$=K4(P),L=$.numericAxisName,Q=$.cateAxisName,J=pi(A,r),F=_ne(B,J,"".concat(L,"Id"),"".concat(Q,"Id"),N,D),Y=f.reduce(function(W,oe){var me="".concat(oe.axisType,"Map");return de(de({},W),{},tt({},me,qce(R,de(de({},oe),{},{graphicalItems:J,stackGroups:oe.axisType===L&&F,dataStartIndex:V,dataEndIndex:I}))))},{}),ee=Hce(de(de({},Y),{},{props:R,graphicalItems:J}),C==null?void 0:C.legendBBox);Object.keys(Y).forEach(function(W){Y[W]=p(R,Y[W],ee,W.replace("Map",""),n)});var ue=Y["".concat(Q,"Map")],ve=zce(ue),H=v(R,de(de({},Y),{},{dataStartIndex:V,dataEndIndex:I,updateId:j,graphicalItems:J,stackGroups:F,offset:ee}));return de(de({formattedGraphicalItems:H,graphicalItems:J,offset:ee,stackGroups:F},ve),Y)},T=(function(w){function O(C){var R,V,I;return Ece(this,O),I=Cce(this,O,[C]),tt(I,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),tt(I,"accessibilityManager",new fce),tt(I,"handleLegendBBoxUpdate",function(j){if(j){var A=I.state,P=A.dataStartIndex,N=A.dataEndIndex,B=A.updateId;I.setState(de({legendBBox:j},_({props:I.props,dataStartIndex:P,dataEndIndex:N,updateId:B},de(de({},I.state),{},{legendBBox:j}))))}}),tt(I,"handleReceiveSyncEvent",function(j,A,P){if(I.props.syncId===j){if(P===I.eventEmitterSymbol&&typeof I.props.syncMethod!="function")return;I.applySyncEvent(A)}}),tt(I,"handleBrushChange",function(j){var A=j.startIndex,P=j.endIndex;if(A!==I.state.dataStartIndex||P!==I.state.dataEndIndex){var N=I.state.updateId;I.setState(function(){return de({dataStartIndex:A,dataEndIndex:P},_({props:I.props,dataStartIndex:A,dataEndIndex:P,updateId:N},I.state))}),I.triggerSyncEvent({dataStartIndex:A,dataEndIndex:P})}}),tt(I,"handleMouseEnter",function(j){var A=I.getMouseInfo(j);if(A){var P=de(de({},A),{},{isTooltipActive:!0});I.setState(P),I.triggerSyncEvent(P);var N=I.props.onMouseEnter;rt(N)&&N(P,j)}}),tt(I,"triggeredAfterMouseMove",function(j){var A=I.getMouseInfo(j),P=A?de(de({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};I.setState(P),I.triggerSyncEvent(P);var N=I.props.onMouseMove;rt(N)&&N(P,j)}),tt(I,"handleItemMouseEnter",function(j){I.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),tt(I,"handleItemMouseLeave",function(){I.setState(function(){return{isTooltipActive:!1}})}),tt(I,"handleMouseMove",function(j){j.persist(),I.throttleTriggeredAfterMouseMove(j)}),tt(I,"handleMouseLeave",function(j){I.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};I.setState(A),I.triggerSyncEvent(A);var P=I.props.onMouseLeave;rt(P)&&P(A,j)}),tt(I,"handleOuterEvent",function(j){var A=pW(j),P=di(I.props,"".concat(A));if(A&&rt(P)){var N,B;/.*touch.*/i.test(A)?B=I.getMouseInfo(j.changedTouches[0]):B=I.getMouseInfo(j),P((N=B)!==null&&N!==void 0?N:{},j)}}),tt(I,"handleClick",function(j){var A=I.getMouseInfo(j);if(A){var P=de(de({},A),{},{isTooltipActive:!0});I.setState(P),I.triggerSyncEvent(P);var N=I.props.onClick;rt(N)&&N(P,j)}}),tt(I,"handleMouseDown",function(j){var A=I.props.onMouseDown;if(rt(A)){var P=I.getMouseInfo(j);A(P,j)}}),tt(I,"handleMouseUp",function(j){var A=I.props.onMouseUp;if(rt(A)){var P=I.getMouseInfo(j);A(P,j)}}),tt(I,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&I.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),tt(I,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&I.handleMouseDown(j.changedTouches[0])}),tt(I,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&I.handleMouseUp(j.changedTouches[0])}),tt(I,"handleDoubleClick",function(j){var A=I.props.onDoubleClick;if(rt(A)){var P=I.getMouseInfo(j);A(P,j)}}),tt(I,"handleContextMenu",function(j){var A=I.props.onContextMenu;if(rt(A)){var P=I.getMouseInfo(j);A(P,j)}}),tt(I,"triggerSyncEvent",function(j){I.props.syncId!==void 0&&O1.emit(C1,I.props.syncId,j,I.eventEmitterSymbol)}),tt(I,"applySyncEvent",function(j){var A=I.props,P=A.layout,N=A.syncMethod,B=I.state.updateId,D=j.dataStartIndex,$=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)I.setState(de({dataStartIndex:D,dataEndIndex:$},_({props:I.props,dataStartIndex:D,dataEndIndex:$,updateId:B},I.state)));else if(j.activeTooltipIndex!==void 0){var L=j.chartX,Q=j.chartY,J=j.activeTooltipIndex,F=I.state,Y=F.offset,ee=F.tooltipTicks;if(!Y)return;if(typeof N=="function")J=N(ee,j);else if(N==="value"){J=-1;for(var ue=0;ue<ee.length;ue++)if(ee[ue].value===j.activeLabel){J=ue;break}}var ve=de(de({},Y),{},{x:Y.left,y:Y.top}),H=Math.min(L,ve.x+ve.width),W=Math.min(Q,ve.y+ve.height),oe=ee[J]&&ee[J].value,me=NT(I.state,I.props.data,J),we=ee[J]?{x:P==="horizontal"?ee[J].coordinate:H,y:P==="horizontal"?W:ee[J].coordinate}:X9;I.setState(de(de({},j),{},{activeLabel:oe,activeCoordinate:we,activePayload:me,activeTooltipIndex:J}))}else I.setState(j)}),tt(I,"renderCursor",function(j){var A,P=I.state,N=P.isTooltipActive,B=P.activeCoordinate,D=P.activePayload,$=P.offset,L=P.activeTooltipIndex,Q=P.tooltipAxisBandSize,J=I.getTooltipEventType(),F=(A=j.props.active)!==null&&A!==void 0?A:N,Y=I.props.layout,ee=j.key||"_recharts-cursor";return G.createElement(vce,{key:ee,activeCoordinate:B,activePayload:D,activeTooltipIndex:L,chartName:n,element:j,isActive:F,layout:Y,offset:$,tooltipAxisBandSize:Q,tooltipEventType:J})}),tt(I,"renderPolarAxis",function(j,A,P){var N=di(j,"type.axisType"),B=di(I.state,"".concat(N,"Map")),D=j.type.defaultProps,$=D!==void 0?de(de({},D),j.props):j.props,L=B&&B[$["".concat(N,"Id")]];return U.cloneElement(j,de(de({},L),{},{className:bt(N,L.className),key:j.key||"".concat(A,"-").concat(P),ticks:cs(L,!0)}))}),tt(I,"renderPolarGrid",function(j){var A=j.props,P=A.radialLines,N=A.polarAngles,B=A.polarRadius,D=I.state,$=D.radiusAxisMap,L=D.angleAxisMap,Q=uo($),J=uo(L),F=J.cx,Y=J.cy,ee=J.innerRadius,ue=J.outerRadius;return U.cloneElement(j,{polarAngles:Array.isArray(N)?N:cs(J,!0).map(function(ve){return ve.coordinate}),polarRadius:Array.isArray(B)?B:cs(Q,!0).map(function(ve){return ve.coordinate}),cx:F,cy:Y,innerRadius:ee,outerRadius:ue,key:j.key||"polar-grid",radialLines:P})}),tt(I,"renderLegend",function(){var j=I.state.formattedGraphicalItems,A=I.props,P=A.children,N=A.width,B=A.height,D=I.props.margin||{},$=N-(D.left||0)-(D.right||0),L=NV({children:P,formattedGraphicalItems:j,legendWidth:$,legendContent:h});if(!L)return null;var Q=L.item,J=z4(L,bce);return U.cloneElement(Q,de(de({},J),{},{chartWidth:N,chartHeight:B,margin:D,onBBoxUpdate:I.handleLegendBBoxUpdate}))}),tt(I,"renderTooltip",function(){var j,A=I.props,P=A.children,N=A.accessibilityLayer,B=ui(P,Yi);if(!B)return null;var D=I.state,$=D.isTooltipActive,L=D.activeCoordinate,Q=D.activePayload,J=D.activeLabel,F=D.offset,Y=(j=B.props.active)!==null&&j!==void 0?j:$;return U.cloneElement(B,{viewBox:de(de({},F),{},{x:F.left,y:F.top}),active:Y,label:J,payload:Y?Q:[],coordinate:L,accessibilityLayer:N})}),tt(I,"renderBrush",function(j){var A=I.props,P=A.margin,N=A.data,B=I.state,D=B.offset,$=B.dataStartIndex,L=B.dataEndIndex,Q=B.updateId;return U.cloneElement(j,{key:j.key||"_recharts-brush",onChange:_m(I.handleBrushChange,j.props.onChange),data:N,x:Ce(j.props.x)?j.props.x:D.left,y:Ce(j.props.y)?j.props.y:D.top+D.height+D.brushBottom-(P.bottom||0),width:Ce(j.props.width)?j.props.width:D.width,startIndex:$,endIndex:L,updateId:"brush-".concat(Q)})}),tt(I,"renderReferenceElement",function(j,A,P){if(!j)return null;var N=I,B=N.clipPathId,D=I.state,$=D.xAxisMap,L=D.yAxisMap,Q=D.offset,J=j.type.defaultProps||{},F=j.props,Y=F.xAxisId,ee=Y===void 0?J.xAxisId:Y,ue=F.yAxisId,ve=ue===void 0?J.yAxisId:ue;return U.cloneElement(j,{key:j.key||"".concat(A,"-").concat(P),xAxis:$[ee],yAxis:L[ve],viewBox:{x:Q.left,y:Q.top,width:Q.width,height:Q.height},clipPathId:B})}),tt(I,"renderActivePoints",function(j){var A=j.item,P=j.activePoint,N=j.basePoint,B=j.childIndex,D=j.isRange,$=[],L=A.props.key,Q=A.item.type.defaultProps!==void 0?de(de({},A.item.type.defaultProps),A.item.props):A.item.props,J=Q.activeDot,F=Q.dataKey,Y=de(de({index:B,dataKey:F,cx:P.x,cy:P.y,r:4,fill:_A(A.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},Je(J,!1)),lg(J));return $.push(O.renderActiveDot(J,Y,"".concat(L,"-activePoint-").concat(B))),N?$.push(O.renderActiveDot(J,de(de({},Y),{},{cx:N.x,cy:N.y}),"".concat(L,"-basePoint-").concat(B))):D&&$.push(null),$}),tt(I,"renderGraphicChild",function(j,A,P){var N=I.filterFormatItem(j,A,P);if(!N)return null;var B=I.getTooltipEventType(),D=I.state,$=D.isTooltipActive,L=D.tooltipAxis,Q=D.activeTooltipIndex,J=D.activeLabel,F=I.props.children,Y=ui(F,Yi),ee=N.props,ue=ee.points,ve=ee.isRange,H=ee.baseLine,W=N.item.type.defaultProps!==void 0?de(de({},N.item.type.defaultProps),N.item.props):N.item.props,oe=W.activeDot,me=W.hide,we=W.activeBar,Se=W.activeShape,Ne=!!(!me&&$&&Y&&(oe||we||Se)),$e={};B!=="axis"&&Y&&Y.props.trigger==="click"?$e={onClick:_m(I.handleItemMouseEnter,j.props.onClick)}:B!=="axis"&&($e={onMouseLeave:_m(I.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:_m(I.handleItemMouseEnter,j.props.onMouseEnter)});var ye=U.cloneElement(j,de(de({},N.props),$e));function Te(Dt){return typeof L.dataKey=="function"?L.dataKey(Dt.payload):null}if(Ne)if(Q>=0){var Re,ne;if(L.dataKey&&!L.allowDuplicatedCategory){var He=typeof L.dataKey=="function"?Te:"payload.".concat(L.dataKey.toString());Re=og(ue,He,J),ne=ve&&H&&og(H,He,J)}else Re=ue==null?void 0:ue[Q],ne=ve&&H&&H[Q];if(Se||we){var xe=j.props.activeIndex!==void 0?j.props.activeIndex:Q;return[U.cloneElement(j,de(de(de({},N.props),$e),{},{activeIndex:xe})),null,null]}if(!ct(Re))return[ye].concat(zc(I.renderActivePoints({item:N,activePoint:Re,basePoint:ne,childIndex:Q,isRange:ve})))}else{var Ee,Be=(Ee=I.getItemByXY(I.state.activeCoordinate))!==null&&Ee!==void 0?Ee:{graphicalItem:ye},We=Be.graphicalItem,st=We.item,Ye=st===void 0?j:st,qe=We.childIndex,_t=de(de(de({},N.props),$e),{},{activeIndex:qe});return[U.cloneElement(Ye,_t),null,null]}return ve?[ye,null,null]:[ye,null]}),tt(I,"renderCustomized",function(j,A,P){return U.cloneElement(j,de(de({key:"recharts-customized-".concat(P)},I.props),I.state))}),tt(I,"renderMap",{CartesianGrid:{handler:Am,once:!0},ReferenceArea:{handler:I.renderReferenceElement},ReferenceLine:{handler:Am},ReferenceDot:{handler:I.renderReferenceElement},XAxis:{handler:Am},YAxis:{handler:Am},Brush:{handler:I.renderBrush,once:!0},Bar:{handler:I.renderGraphicChild},Line:{handler:I.renderGraphicChild},Area:{handler:I.renderGraphicChild},Radar:{handler:I.renderGraphicChild},RadialBar:{handler:I.renderGraphicChild},Scatter:{handler:I.renderGraphicChild},Pie:{handler:I.renderGraphicChild},Funnel:{handler:I.renderGraphicChild},Tooltip:{handler:I.renderCursor,once:!0},PolarGrid:{handler:I.renderPolarGrid,once:!0},PolarAngleAxis:{handler:I.renderPolarAxis},PolarRadiusAxis:{handler:I.renderPolarAxis},Customized:{handler:I.renderCustomized}}),I.clipPathId="".concat((R=C.id)!==null&&R!==void 0?R:Zc("recharts"),"-clip"),I.throttleTriggeredAfterMouseMove=k6(I.triggeredAfterMouseMove,(V=C.throttleDelay)!==null&&V!==void 0?V:1e3/60),I.state={},I}return kce(O,w),Oce(O,[{key:"componentDidMount",value:function(){var R,V;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(R=this.props.margin.left)!==null&&R!==void 0?R:0,top:(V=this.props.margin.top)!==null&&V!==void 0?V:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var R=this.props,V=R.children,I=R.data,j=R.height,A=R.layout,P=ui(V,Yi);if(P){var N=P.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var B=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,D=NT(this.state,I,N,B),$=this.state.tooltipTicks[N].coordinate,L=(this.state.offset.top+j)/2,Q=A==="horizontal",J=Q?{x:$,y:L}:{y:$,x:L},F=this.state.formattedGraphicalItems.find(function(ee){var ue=ee.item;return ue.type.name==="Scatter"});F&&(J=de(de({},J),F.props.points[N].tooltipPosition),D=F.props.points[N].tooltipPayload);var Y={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:B,activePayload:D,activeCoordinate:J};this.setState(Y),this.renderCursor(P),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(R,V){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==V.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==R.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==R.margin){var I,j;this.accessibilityManager.setDetails({offset:{left:(I=this.props.margin.left)!==null&&I!==void 0?I:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(R){mS([ui(R.children,Yi)],[ui(this.props.children,Yi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var R=ui(this.props.children,Yi);if(R&&typeof R.props.shared=="boolean"){var V=R.props.shared?"axis":"item";return c.indexOf(V)>=0?V:s}return s}},{key:"getMouseInfo",value:function(R){if(!this.container)return null;var V=this.container,I=V.getBoundingClientRect(),j=tJ(I),A={chartX:Math.round(R.pageX-j.left),chartY:Math.round(R.pageY-j.top)},P=I.width/V.offsetWidth||1,N=this.inRange(A.chartX,A.chartY,P);if(!N)return null;var B=this.state,D=B.xAxisMap,$=B.yAxisMap,L=this.getTooltipEventType(),Q=H4(this.state,this.props.data,this.props.layout,N);if(L!=="axis"&&D&&$){var J=uo(D).scale,F=uo($).scale,Y=J&&J.invert?J.invert(A.chartX):null,ee=F&&F.invert?F.invert(A.chartY):null;return de(de({},A),{},{xValue:Y,yValue:ee},Q)}return Q?de(de({},A),Q):null}},{key:"inRange",value:function(R,V){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,A=R/I,P=V/I;if(j==="horizontal"||j==="vertical"){var N=this.state.offset,B=A>=N.left&&A<=N.left+N.width&&P>=N.top&&P<=N.top+N.height;return B?{x:A,y:P}:null}var D=this.state,$=D.angleAxisMap,L=D.radiusAxisMap;if($&&L){var Q=uo($);return KM({x:A,y:P},Q)}return null}},{key:"parseEventsOfWrapper",value:function(){var R=this.props.children,V=this.getTooltipEventType(),I=ui(R,Yi),j={};I&&V==="axis"&&(I.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=lg(this.props,this.handleOuterEvent);return de(de({},A),j)}},{key:"addListener",value:function(){O1.on(C1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){O1.removeListener(C1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(R,V,I){for(var j=this.state.formattedGraphicalItems,A=0,P=j.length;A<P;A++){var N=j[A];if(N.item===R||N.props.key===R.key||V===fs(N.item.type)&&I===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var R=this.clipPathId,V=this.state.offset,I=V.left,j=V.top,A=V.height,P=V.width;return G.createElement("defs",null,G.createElement("clipPath",{id:R},G.createElement("rect",{x:I,y:j,height:A,width:P})))}},{key:"getXScales",value:function(){var R=this.state.xAxisMap;return R?Object.entries(R).reduce(function(V,I){var j=q4(I,2),A=j[0],P=j[1];return de(de({},V),{},tt({},A,P.scale))},{}):null}},{key:"getYScales",value:function(){var R=this.state.yAxisMap;return R?Object.entries(R).reduce(function(V,I){var j=q4(I,2),A=j[0],P=j[1];return de(de({},V),{},tt({},A,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(R){var V;return(V=this.state.xAxisMap)===null||V===void 0||(V=V[R])===null||V===void 0?void 0:V.scale}},{key:"getYScaleByAxisId",value:function(R){var V;return(V=this.state.yAxisMap)===null||V===void 0||(V=V[R])===null||V===void 0?void 0:V.scale}},{key:"getItemByXY",value:function(R){var V=this.state,I=V.formattedGraphicalItems,j=V.activeItem;if(I&&I.length)for(var A=0,P=I.length;A<P;A++){var N=I[A],B=N.props,D=N.item,$=D.type.defaultProps!==void 0?de(de({},D.type.defaultProps),D.props):D.props,L=fs(D.type);if(L==="Bar"){var Q=(B.data||[]).find(function(ee){return bae(R,ee)});if(Q)return{graphicalItem:N,payload:Q}}else if(L==="RadialBar"){var J=(B.data||[]).find(function(ee){return KM(R,ee)});if(J)return{graphicalItem:N,payload:J}}else if(sv(N,j)||ov(N,j)||gd(N,j)){var F=qse({graphicalItem:N,activeTooltipItem:j,itemData:$.data}),Y=$.activeIndex===void 0?F:$.activeIndex;return{graphicalItem:de(de({},N),{},{childIndex:Y}),payload:gd(N,j)?$.data[F]:N.props.data[F]}}}return null}},{key:"render",value:function(){var R=this;if(!iR(this))return null;var V=this.props,I=V.children,j=V.className,A=V.width,P=V.height,N=V.style,B=V.compact,D=V.title,$=V.desc,L=z4(V,xce),Q=Je(L,!1);if(B)return G.createElement(S4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement(yS,Zu({},Q,{width:A,height:P,title:D,desc:$}),this.renderClipPath(),sR(I,this.renderMap)));if(this.props.accessibilityLayer){var J,F;Q.tabIndex=(J=this.props.tabIndex)!==null&&J!==void 0?J:0,Q.role=(F=this.props.role)!==null&&F!==void 0?F:"application",Q.onKeyDown=function(ee){R.accessibilityManager.keyboardEvent(ee)},Q.onFocus=function(){R.accessibilityManager.focus()}}var Y=this.parseEventsOfWrapper();return G.createElement(S4,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},G.createElement("div",Zu({className:bt("recharts-wrapper",j),style:de({position:"relative",cursor:"default",width:A,height:P},N)},Y,{ref:function(ue){R.container=ue}}),G.createElement(yS,Zu({},Q,{width:A,height:P,title:D,desc:$,style:Lce}),this.renderClipPath(),sR(I,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(U.Component);tt(T,"displayName",n),tt(T,"defaultProps",de({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),tt(T,"getDerivedStateFromProps",function(w,O){var C=w.dataKey,R=w.data,V=w.children,I=w.width,j=w.height,A=w.layout,P=w.stackOffset,N=w.margin,B=O.dataStartIndex,D=O.dataEndIndex;if(O.updateId===void 0){var $=G4(w);return de(de(de({},$),{},{updateId:0},_(de(de({props:w},$),{},{updateId:0}),O)),{},{prevDataKey:C,prevData:R,prevWidth:I,prevHeight:j,prevLayout:A,prevStackOffset:P,prevMargin:N,prevChildren:V})}if(C!==O.prevDataKey||R!==O.prevData||I!==O.prevWidth||j!==O.prevHeight||A!==O.prevLayout||P!==O.prevStackOffset||!sc(N,O.prevMargin)){var L=G4(w),Q={chartX:O.chartX,chartY:O.chartY,isTooltipActive:O.isTooltipActive},J=de(de({},H4(O,R,A)),{},{updateId:O.updateId+1}),F=de(de(de({},L),Q),J);return de(de(de({},F),_(de({props:w},F),O)),{},{prevDataKey:C,prevData:R,prevWidth:I,prevHeight:j,prevLayout:A,prevStackOffset:P,prevMargin:N,prevChildren:V})}if(!mS(V,O.prevChildren)){var Y,ee,ue,ve,H=ui(V,Rc),W=H&&(Y=(ee=H.props)===null||ee===void 0?void 0:ee.startIndex)!==null&&Y!==void 0?Y:B,oe=H&&(ue=(ve=H.props)===null||ve===void 0?void 0:ve.endIndex)!==null&&ue!==void 0?ue:D,me=W!==B||oe!==D,we=!ct(R),Se=we&&!me?O.updateId:O.updateId+1;return de(de({updateId:Se},_(de(de({props:w},O),{},{updateId:Se,dataStartIndex:W,dataEndIndex:oe}),O)),{},{prevChildren:V,dataStartIndex:W,dataEndIndex:oe})}return null}),tt(T,"renderActiveDot",function(w,O,C){var R;return U.isValidElement(w)?R=U.cloneElement(w,O):rt(w)?R=w(O):R=G.createElement(tv,O),G.createElement(qt,{className:"recharts-active-dot",key:C},R)});var S=U.forwardRef(function(O,C){return G.createElement(T,Zu({},O,{ref:C}))});return S.displayName=T.displayName,S},Kce=J9({chartName:"LineChart",GraphicalChild:$c,axisComponents:[{axisType:"xAxis",AxisComp:dv},{axisType:"yAxis",AxisComp:_d}],formatAxisMap:Hoe}),Wce=J9({chartName:"PieChart",GraphicalChild:Es,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:av},{axisType:"radiusAxis",AxisComp:rv}],formatAxisMap:Nne,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const bl=t=>{if(!t)return"";const e=new Date(t);if(isNaN(e.getTime()))return"";const n=e.getDate(),r=e.getMonth()+1,i=e.getFullYear().toString().slice(-2);return`${n}/${r}/${i}`},Yce=t=>{if(t===void 0||isNaN(t))return"0s";const e=Math.floor(t/60),n=Math.floor(t%60);return`${e}m ${n}s`},Xce=({active:t,payload:e,label:n})=>{if(t&&e&&e.length){const r=e[0].payload,i=typeof n=="number"?bl(n)+", "+new Date(n).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):n;return x.jsxs("div",{className:"p-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-xl text-xs sm:text-sm z-50",children:[x.jsx("p",{className:"font-bold mb-2 text-slate-700 dark:text-slate-200 border-b border-slate-100 dark:border-slate-700 pb-1",children:i}),x.jsxs("div",{className:"space-y-1",children:[x.jsxs("p",{className:"flex justify-between gap-4",style:{color:"var(--color-chart-wpm)"},children:[x.jsx("span",{children:"WPM:"}),x.jsx("span",{className:"font-bold",children:r.wpm})]}),x.jsxs("p",{className:"flex justify-between gap-4",style:{color:"var(--color-chart-acc)"},children:[x.jsx("span",{children:"Accuracy:"}),x.jsxs("span",{className:"font-bold",children:[Number(r.accuracy).toFixed(2),"%"]})]}),r.errors!==void 0&&x.jsxs("p",{className:"text-red-500 flex justify-between gap-4",children:[x.jsx("span",{children:"Errors:"}),x.jsx("span",{className:"font-bold",children:r.errors})]}),r.duration!==void 0&&x.jsxs("p",{className:"text-slate-500 dark:text-slate-400 flex justify-between gap-4",children:[x.jsx("span",{children:"Duration:"}),x.jsx("span",{className:"font-bold",children:Yce(r.duration)})]})]})]})}return null},Z9=({data:t,xDataKey:e="date",xAxisConfig:n})=>t.length===0?x.jsx("div",{className:"flex items-center justify-center h-full text-slate-500 text-sm",children:"Not enough data to show trends."}):x.jsx("div",{className:"w-full h-[250px] sm:h-[300px]",children:x.jsx(R6,{width:"100%",height:"100%",children:x.jsxs(Kce,{data:t,margin:{top:10,right:10,left:0,bottom:0},children:[x.jsx(D9,{strokeDasharray:"3 3",strokeOpacity:.1,vertical:!1}),x.jsx(dv,{dataKey:e,type:(n==null?void 0:n.type)||"category",domain:n==null?void 0:n.domain,ticks:n==null?void 0:n.ticks,tickFormatter:n==null?void 0:n.tickFormatter,tick:{fontSize:10,fill:"#64748b"},tickMargin:10,axisLine:{stroke:"#e2e8f0"},tickLine:!1}),x.jsx(_d,{yAxisId:"left",tick:{fontSize:10,fill:"#64748b"},domain:[0,"dataMax + 10"],width:40,axisLine:{stroke:"#e2e8f0"},tickLine:{stroke:"#e2e8f0"}}),x.jsx(_d,{yAxisId:"right",orientation:"right",tick:{fontSize:10,fill:"#94a3b8"},domain:[0,100],width:30,axisLine:{stroke:"#e2e8f0"},tickLine:{stroke:"#e2e8f0"}}),x.jsx(Yi,{content:x.jsx(Xce,{})}),x.jsx(vo,{wrapperStyle:{fontSize:"12px",paddingTop:"10px"},iconType:"circle"}),x.jsx($c,{yAxisId:"left",type:"monotone",dataKey:"wpm",name:"WPM",stroke:"var(--color-chart-wpm)",strokeWidth:2,dot:{r:3,strokeWidth:0,fill:"var(--color-chart-wpm)"},activeDot:{r:5,strokeWidth:2,stroke:"#fff"},animationDuration:1e3}),x.jsx($c,{yAxisId:"right",type:"monotone",dataKey:"accuracy",name:"Accuracy",stroke:"var(--color-chart-acc)",strokeWidth:2,dot:{r:3,strokeWidth:0,fill:"var(--color-chart-acc)"},activeDot:{r:5,strokeWidth:2,stroke:"#fff"},animationDuration:1e3})]})})}),jT=({isOpen:t,onClose:e,title:n,message:r,buttons:i})=>{const s=U.useRef([]),[l,c]=U.useState(0);return U.useEffect(()=>{s.current=s.current.slice(0,i.length)},[i]),U.useEffect(()=>{if(t){const f=setTimeout(()=>{var p;(p=s.current[0])==null||p.focus(),c(0)},100),h=p=>{var T;if(!t||p.key==="Tab")return;p.preventDefault();const m=s.current.filter(Boolean);if(m.length===0)return;const v=m.findIndex(S=>S===document.activeElement);if(p.key==="Enter"){v!==-1&&m[v].click();return}let _=v===-1?0:v;p.key==="ArrowRight"?_=(v+1)%m.length:p.key==="ArrowLeft"&&(_=(v-1+m.length)%m.length),(T=m[_])==null||T.focus()};return document.addEventListener("keydown",h),()=>{clearTimeout(f),document.removeEventListener("keydown",h)}}},[t,i]),x.jsxs(Co,{isOpen:t,onClose:e,title:n,children:[x.jsx("div",{className:"text-slate-600 dark:text-slate-300 mb-6",children:r}),x.jsx("div",{className:"flex justify-center items-center gap-3",children:i.map((f,h)=>x.jsx(Ke,{ref:p=>{s.current[h]=p},onClick:f.onClick,variant:h===l?"primary":"secondary",onFocus:()=>c(h),onMouseEnter:()=>{var p;return(p=s.current[h])==null?void 0:p.focus()},children:f.label},f.label))})]})},e$=({className:t})=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),W4=["#a855f7","#6366f1","#ec4899","#f97316","#06b6d4","#10b981"],Y4=t=>{if(isNaN(t)||t<0)return"0m 00s";const e=Math.floor(t/60),n=Math.floor(t%60);return`${e}m ${n.toString().padStart(2,"0")}s`},X4=t=>{switch(t){case" ":return"Space ()";case`
`:return"Enter ()";case"	":return"Tab ()";default:return t}},Qce=()=>{const t=U.useContext(Tn);if(!t)throw new Error("AppContext not found");const{practiceHistory:e,keyErrorStats:n,keyAttemptStats:r,wpmGoal:i,accuracyGoal:s,timeGoal:l,dailyPracticeTime:c,setGoals:f,navigateTo:h,startTargetedSession:p,showAlert:m,reloadDataFromStorage:v,deletePracticeSession:_,clearPracticeHistory:T,openSetupModal:S,fetchNewSnippet:w,startCustomSession:O,closeSetupModal:C,isSetupModalOpen:R}=t,[V,I]=U.useState(!1),[j,A]=U.useState(!1),[P,N]=U.useState("all"),B=U.useRef(null),[D,$]=U.useState(null),[L,Q]=U.useState(null),[J,F]=U.useState(void 0),[Y,ee]=U.useState(null),[ue,ve]=U.useState(0),H=U.useRef(null),W=U.useRef(null);U.useEffect(()=>{var he;e.length===0&&((he=H.current)==null||he.focus())},[e.length]),U.useEffect(()=>{if(e.length>0)return;const he=Ae=>{(Ae.key==="ArrowRight"||Ae.key==="ArrowLeft")&&(Ae.preventDefault(),ve(Ge=>Ge===0?1:0))};return window.addEventListener("keydown",he),()=>window.removeEventListener("keydown",he)},[e.length]),U.useEffect(()=>{var he,Ae;e.length>0||(ue===0?(he=H.current)==null||he.focus():(Ae=W.current)==null||Ae.focus())},[ue,e.length]);const oe=U.useRef(null);U.useEffect(()=>{const he=Ge=>{oe.current&&!oe.current.contains(Ge.target)&&F(void 0)},Ae=()=>{J!==void 0&&F(void 0)};return document.addEventListener("mousedown",he),document.addEventListener("touchstart",he,{passive:!1}),window.addEventListener("scroll",Ae,!0),()=>{document.removeEventListener("mousedown",he),document.removeEventListener("touchstart",he),window.removeEventListener("scroll",Ae,!0)}},[J]),Gr("2",()=>N("24h"),{disabled:V||R}),Gr("7",()=>N("7d"),{disabled:V||R}),Gr("3",()=>N("30d"),{disabled:V||R}),Gr("a",()=>N("all"),{disabled:V||R});const me=U.useCallback(()=>{try{C5({practiceHistory:e,keyErrorStats:n,keyAttemptStats:r}),m("Data exported successfully!","info")}catch(he){m("Failed to export data.","error"),console.error(he)}},[m,e,n,r]),we=U.useCallback(()=>{var he;(he=B.current)==null||he.click()},[]);Gr("E",me,{disabled:V||R}),Gr("I",we,{disabled:V||R});const Se=(he,Ae)=>{try{SG(he,Ae),v(),m("Data imported successfully. Please refresh the page to see changes.","info",8e3)}catch(Ge){const kt=Ge instanceof Error?Ge.message:"An unknown error occurred.";m(`Import failed: ${kt}`,"error"),console.error(Ge)}},Ne=he=>{var kt;const Ae=(kt=he.target.files)==null?void 0:kt[0];if(!Ae)return;const Ge=new FileReader;Ge.onload=ot=>{var $t;const Kt=($t=ot.target)==null?void 0:$t.result;if(!Kt){m("File is empty or could not be read.","error");return}const Rt=localStorage.getItem("practiceHistory");Rt&&JSON.parse(Rt).length>0?$({fileContent:Kt}):Se(Kt,"replace"),he.target&&(he.target.value="")},Ge.onerror=()=>{m("Error reading the selected file.","error"),he.target&&(he.target.value="")},Ge.readAsText(Ae)},$e=he=>{D&&Se(D.fileContent,he),$(null)},ye=()=>{(L==null?void 0:L.type)==="single"&&L.timestamp?(ee(L.timestamp),setTimeout(()=>{_(L.timestamp),m("Session deleted.","info"),Q(null),ee(null)},300)):(L==null?void 0:L.type)==="all"&&(localStorage.clear(),window.location.reload())},Te=U.useMemo(()=>{const he=Date.now();return P==="24h"?e.filter(Ae=>he-Ae.timestamp<1440*60*1e3):P==="7d"?e.filter(Ae=>he-Ae.timestamp<10080*60*1e3):P==="30d"?e.filter(Ae=>he-Ae.timestamp<720*60*60*1e3):e},[e,P]),Re=U.useMemo(()=>{if(Te.length===0)return{avgWpm:0,avgAccuracy:0,totalDuration:0,sessions:0,bestWpm:0,totalLines:0,totalErrors:0};const he=Te.reduce((Rt,dt)=>Rt+dt.wpm,0),Ae=Te.reduce((Rt,dt)=>Rt+dt.accuracy,0),Ge=Te.reduce((Rt,dt)=>Rt+dt.duration,0),kt=Math.max(0,...Te.map(Rt=>Rt.wpm)),ot=Te.reduce((Rt,dt)=>Rt+(dt.linesTyped||0),0),Kt=Te.reduce((Rt,dt)=>Rt+dt.errors,0);return{avgWpm:Math.round(he/Te.length),avgAccuracy:parseFloat((Ae/Te.length).toFixed(2)),totalDuration:Ge,sessions:Te.length,bestWpm:kt,totalLines:ot,totalErrors:Kt}},[Te]),ne=U.useMemo(()=>e.length===0?[]:Object.entries(n).map(([he,Ae])=>{const Ge=r[he]||Ae,kt=Number(Ae),ot=Number(Ge),Kt=ot>0?kt/ot*100:0;return{key:he,errors:kt,attempts:ot,errorRate:Kt}}).filter(he=>he.errors>0).sort((he,Ae)=>Ae.errorRate-he.errorRate),[n,r,e]),He=U.useMemo(()=>ne.slice(0,5),[ne]),xe=U.useMemo(()=>{if(Te.length===0)return[];const he={};return Te.forEach(Ae=>{he[Ae.language]=(he[Ae.language]||0)+Ae.duration}),Object.entries(he).map(([Ae,Ge])=>({name:Ae,value:Ge}))},[Te]),Ee=he=>{const Ae=Math.floor(he/3600),Ge=Math.floor(he%3600/60);return`${Ae}h ${Ge}m`},Be=()=>{const he=He.map(Ae=>Ae.key);he.length>0&&(h("practice"),p(he,{length:"medium",level:"medium"}))},We=U.useMemo(()=>{const he=new Date,Ae=Te.slice().sort((Oe,je)=>Oe.timestamp-je.timestamp);let Ge=Ae,kt="number",ot="timestamp",Kt=["auto","auto"],Rt,dt=Oe=>bl(Oe);const $t=(Oe,je,pt)=>{if(!Oe)return"";const jt=new Date(Oe),or=`${jt.getDate()}/${jt.getMonth()+1}`;if(je===0){const Dn=new Date().getFullYear();return jt.getFullYear()!==Dn?bl(Oe):or}const Vr=pt[je-1];return Vr&&new Date(Vr).getFullYear()!==jt.getFullYear()?bl(Oe):or},Ue=Oe=>(je,pt)=>$t(je,pt,Oe);switch(P){case"24h":Kt=[he.getTime()-1440*60*1e3,he.getTime()],dt=Oe=>new Date(Oe).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"}),Rt=Array.from({length:7},(Oe,je)=>he.getTime()-je*4*60*60*1e3).reverse();break;case"7d":{const Oe=new Date(he);Oe.setDate(he.getDate()-6),Oe.setHours(0,0,0,0),Kt=[Oe.getTime(),he.getTime()],Rt=Array.from({length:7},(je,pt)=>{const jt=new Date(Oe);return jt.setDate(jt.getDate()+pt),jt.getTime()}),dt=Ue(Rt);break}case"30d":{const Oe=new Date(he);Oe.setDate(he.getDate()-29),Oe.setHours(0,0,0,0),Kt=[Oe.getTime(),he.getTime()],Rt=Array.from({length:7},(je,pt)=>{const jt=new Date(Oe);return jt.setDate(jt.getDate()+pt*5),jt.getTime()}),dt=Ue(Rt);break}case"all":{Kt=["auto","auto"],kt="category",dt=(Oe,je)=>{if(je>0&&Ae[je-1]){const jt=new Date(Ae[je-1].timestamp),or=new Date(Oe);if(jt.getFullYear()!==or.getFullYear())return bl(Oe)}const pt=new Date(Oe);return`${pt.getDate()}/${pt.getMonth()+1}`};break}}return{data:Ge,xAxisType:kt,xDataKey:ot,domain:Kt,ticks:Rt,tickFormatter:dt}},[Te,P]),st=i>0?Math.min(100,Re.avgWpm/i*100):0,Ye=s>0?Math.min(100,Re.avgAccuracy/s*100):0,qe=l*60,_t=qe>0?Math.min(100,c/qe*100):0,Dt=Re.avgWpm>i,En=Re.avgAccuracy>=s,Ie=c>qe;let ht=0,xt=0;Dt&&(xt=Math.floor(Re.avgWpm/10)*10+10,ht=xt-i);let Vt=0,Zt=0;if(Ie){const he=c/60;Zt=Math.floor(he/5)*5+5,Vt=Zt-l}const en=Math.min(5,100-s);if(e.length===0)return x.jsxs("div",{className:"text-center p-8 h-full flex flex-col justify-center items-center",children:[x.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Your Dashboard"}),x.jsx("p",{className:"text-slate-500 mb-6",children:"You haven't completed any practice sessions yet. Start a new session or import your previous data."}),x.jsxs("div",{className:"flex gap-4",children:[x.jsx(Ke,{ref:H,variant:ue===0?"primary":"secondary",onClick:()=>{S()},onFocus:()=>ve(0),onMouseEnter:()=>ve(0),accessKeyChar:"Enter",accessKeyLabel:"",children:"Start Practicing"}),x.jsx(Ke,{ref:W,variant:ue===1?"primary":"secondary",onClick:we,onFocus:()=>ve(1),onMouseEnter:()=>ve(1),accessKeyChar:"I",title:"Import Data (Alt+I)",children:"Import Data"})]}),x.jsx("input",{type:"file",ref:B,className:"hidden",accept:".json,application/json",onChange:Ne})]});const xn=[{label:"Last 24 Hrs",value:"24h"},{label:"Last 7 Days",value:"7d"},{label:"Last 30 Days",value:"30d"},{label:"All Time",value:"all"}],Pt=["2","7","3","A"];return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"space-y-8 h-full overflow-y-auto custom-scrollbar p-4",children:[x.jsxs("div",{className:"flex flex-col xl:flex-row justify-between xl:items-center gap-4",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[x.jsx("h1",{className:"text-3xl font-bold",children:"Your Progress Dashboard"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(Ke,{variant:"outline",size:"sm",onClick:we,title:"Import Data (Alt+I)",accessKeyChar:"I",children:"Import"}),x.jsx(Ke,{variant:"outline",size:"sm",onClick:me,title:"Export Data (Alt+E)",accessKeyChar:"E",children:"Export"})]})]}),x.jsx(gh,{options:xn,selectedValue:P,onSelect:he=>N(he),accessKeyChars:Pt,disabled:R})]}),Te.length===0?x.jsx(gr,{className:"p-8 text-center text-slate-500",children:"No practice sessions found for the selected time period."}):x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[x.jsx(jr,{label:"Average WPM",value:Re.avgWpm}),x.jsx(jr,{label:"Average Accuracy",value:`${Re.avgAccuracy}%`}),x.jsx(jr,{label:"Best WPM",value:Re.bestWpm}),x.jsx(jr,{label:"Total Practice Time",value:Ee(Re.totalDuration)}),x.jsx(jr,{label:"Total Lines Typed",value:Re.totalLines}),x.jsx(jr,{label:"Total Errors",value:Re.totalErrors})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[x.jsxs(gr,{className:"lg:col-span-2 p-6 flex flex-col justify-center min-h-[450px]",children:[x.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Historical Performance"}),x.jsx(Z9,{data:We.data,xDataKey:We.xDataKey,xAxisConfig:{type:We.xAxisType,domain:We.domain,ticks:We.ticks,tickFormatter:We.tickFormatter}})]}),x.jsxs("div",{className:"space-y-8",children:[x.jsxs(gr,{className:"p-6",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h2",{className:"text-xl font-semibold",children:"Your Goals"}),x.jsx(Ke,{variant:"ghost",size:"icon",onClick:()=>I(!0),children:x.jsx(P5,{className:"w-5 h-5"})})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[x.jsxs("span",{className:"text-sm font-medium",children:["Daily Time: ",Y4(c)," / ",l,"m"]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:`text-sm font-bold ${c>=qe?"text-amber-500":""}`,children:c>=qe?"Goal Achieved!":`${_t.toFixed(0)}%`}),Ie&&Vt>0&&x.jsxs(Ke,{variant:"ghost",size:"sm",className:"!py-0 !px-2 !h-auto",onClick:()=>f(i,s,Zt),title:`Increase daily time goal to ${Zt} minutes`,children:["+",Vt," min"]})]})]}),x.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2.5",children:x.jsx("div",{className:`h-2.5 rounded-full ${c>=qe?"bg-amber-400":"bg-primary-500"}`,style:{width:`${_t}%`}})})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[x.jsxs("span",{className:"text-sm font-medium",children:["WPM: ",Re.avgWpm," / ",i]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:`text-sm font-bold ${Re.avgWpm>=i?"text-amber-500":""}`,children:Re.avgWpm>=i?"Goal Achieved!":`${st.toFixed(0)}%`}),Dt&&ht>0&&x.jsxs(Ke,{variant:"ghost",size:"sm",className:"!py-0 !px-2 !h-auto",onClick:()=>f(xt,s,l),title:`Increase WPM goal to ${xt}`,children:["+",ht," WPM"]})]})]}),x.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2.5",children:x.jsx("div",{className:`h-2.5 rounded-full ${Re.avgWpm>=i?"bg-amber-400":"bg-primary-500"}`,style:{width:`${st}%`}})})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[x.jsxs("span",{className:"text-sm font-medium",children:["Accuracy: ",Re.avgAccuracy,"% / ",s,"%"]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:`text-sm font-bold ${Re.avgAccuracy>=s?"text-amber-500":""}`,children:Re.avgAccuracy>=s?"Goal Achieved!":`${Ye.toFixed(0)}%`}),En&&en>0&&x.jsxs(Ke,{variant:"ghost",size:"sm",className:"!py-0 !px-2 !h-auto",onClick:()=>f(i,s+en,l),title:`Increase Accuracy goal to ${s+en}%`,children:["+",en,"%"]})]})]}),x.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2.5",children:x.jsx("div",{className:`h-2.5 rounded-full ${Re.avgAccuracy>=s?"bg-amber-400":"bg-primary-500"}`,style:{width:`${Ye}%`}})})]})]})]}),x.jsxs(gr,{className:"p-6",children:[x.jsx("div",{className:"flex justify-between items-center mb-4",children:x.jsx("h2",{className:"text-xl font-semibold",children:"Language Focus"})}),xe.length>0?x.jsx("div",{ref:oe,className:"flex justify-center w-full",children:x.jsx(R6,{width:"100%",height:300,children:x.jsxs(Wce,{children:[x.jsx(Es,{data:xe,cx:"50%",cy:"50%",labelLine:{stroke:"#64748b",strokeWidth:1},outerRadius:typeof window<"u"&&window.innerWidth<640?80:100,fill:"#8884d8",dataKey:"value",nameKey:"name",activeIndex:J,activeShape:he=>{const{cx:Ae,cy:Ge,innerRadius:kt,outerRadius:ot,startAngle:Kt,endAngle:Rt,fill:dt}=he;return x.jsx("g",{children:x.jsx(wA,{cx:Ae,cy:Ge,innerRadius:kt,outerRadius:ot+10,startAngle:Kt,endAngle:Rt,fill:dt,stroke:"#fff",strokeWidth:3})})},onClick:(he,Ae)=>{F(J===Ae?void 0:Ae)},label:({cx:he,cy:Ae,midAngle:Ge,outerRadius:kt,fill:ot,percent:Kt,name:Rt})=>{if(Kt<.02)return null;const dt=Math.PI/180,$t=kt+25,Ue=he+$t*Math.cos(-Ge*dt),Oe=Ae+$t*Math.sin(-Ge*dt);return x.jsx("text",{x:Ue,y:Oe,fill:ot,textAnchor:Ue>he?"start":"end",dominantBaseline:"central",className:"text-xs sm:text-sm font-bold pointer-events-none select-none",style:{userSelect:"none"},children:`${(Kt*100).toFixed(1)}%`})},children:xe.map((he,Ae)=>x.jsx(zy,{fill:W4[Ae%W4.length],style:{outline:"none",cursor:"pointer"}},`cell-${Ae}`))}),x.jsx(Yi,{content:({active:he,payload:Ae})=>{if(he&&Ae&&Ae.length){const Ge=Ae[0];return x.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-lg shadow-lg border border-slate-200 dark:border-slate-700",children:[x.jsx("p",{className:"font-bold text-slate-900 dark:text-slate-100",children:Ge.name}),x.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Time: ",Ee(Ge.value)]}),x.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:[(Ge.value/xe.reduce((kt,ot)=>kt+ot.value,0)*100).toFixed(1),"%"]})]})}return null}}),x.jsx(vo,{wrapperStyle:{paddingTop:"20px"}})]})})}):x.jsx("p",{className:"text-center text-slate-500",children:"No language data available for this period."})]})]})]}),x.jsxs(gr,{className:"p-6",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h2",{className:"text-xl font-semibold",children:"Error Analysis"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(Ke,{variant:"ghost",size:"sm",onClick:()=>A(!0),children:"View All"}),x.jsx(Ke,{variant:"secondary",size:"sm",onClick:Be,disabled:He.length===0,title:"Practice your weakest keys immediately",children:"Practice Errors"})]})]}),He.length>0?x.jsxs("div",{className:"space-y-4",children:[He.map((he,Ae)=>x.jsxs("div",{className:"space-y-1",children:[x.jsxs("div",{className:"flex justify-between items-center text-sm",children:[x.jsx("span",{className:"font-mono bg-slate-100 dark:bg-slate-700 px-1.5 py-0.5 rounded text-slate-700 dark:text-slate-300",children:X4(he.key)}),x.jsxs("span",{className:"text-slate-500 dark:text-slate-400 text-xs",children:[he.errors," Errors / ",he.attempts," Attempts (",he.errorRate.toFixed(1),"%)"]})]}),x.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-1.5",children:x.jsx("div",{className:"bg-red-500 h-1.5 rounded-full",style:{width:`${Math.min(100,he.errorRate)}%`}})})]},Ae)),ne.length>5&&x.jsxs("p",{className:"text-xs text-center text-slate-500 mt-2",children:["+ ",ne.length-5," other keys needing practice"]})]}):x.jsx("p",{className:"text-center text-slate-500",children:"No significant errors found for this period."})]}),x.jsxs(gr,{className:"p-6",children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h2",{className:"text-xl font-semibold",children:"Recent Sessions"}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(Ke,{variant:"secondary",size:"sm",onClick:()=>h("history"),children:"View All"}),x.jsx(Ke,{variant:"destructive",size:"sm",onClick:()=>Q({type:"all"}),children:"Clear All History"})]})]}),Te.length>0?x.jsx("div",{className:"w-full",children:x.jsxs("table",{className:"w-full divide-y divide-slate-200 dark:divide-slate-700 table-fixed",children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{className:"w-1/4 px-2 sm:px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Date"}),x.jsx("th",{className:"w-1/6 px-2 sm:px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"WPM"}),x.jsx("th",{className:"w-1/6 px-2 sm:px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Acc"}),x.jsx("th",{className:"hidden lg:table-cell w-1/6 px-2 sm:px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Duration"}),x.jsx("th",{className:"hidden xl:table-cell w-1/6 px-2 sm:px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Language"}),x.jsx("th",{className:"hidden md:table-cell w-1/6 px-2 sm:px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Errors"}),x.jsx("th",{className:"w-16 px-2 sm:px-4 py-2 text-center text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Action"})]})}),x.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:Te.sort((he,Ae)=>Ae.timestamp-he.timestamp).slice(0,5).map((he,Ae)=>x.jsxs("tr",{className:`
                                                            ${Ae%2===0?"bg-slate-50 dark:bg-slate-800":""}
                                                            ${Y===he.timestamp?"opacity-0 scale-95 bg-red-50 dark:bg-red-900/20":""}
                                                            transition-all duration-300
                                                        `,children:[x.jsx("td",{className:"px-2 sm:px-4 py-2 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:bl(he.date)}),x.jsx("td",{className:"px-2 sm:px-4 py-2 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:he.wpm.toFixed(0)}),x.jsxs("td",{className:"px-2 sm:px-4 py-2 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:[he.accuracy.toFixed(1),"%"]}),x.jsx("td",{className:"hidden lg:table-cell px-2 sm:px-4 py-2 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:Y4(he.duration)}),x.jsx("td",{className:"hidden xl:table-cell px-2 sm:px-4 py-2 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:he.language}),x.jsx("td",{className:"hidden md:table-cell px-2 sm:px-4 py-2 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:he.errors}),x.jsx("td",{className:"px-2 sm:px-4 py-2 whitespace-nowrap text-center text-sm font-medium",children:x.jsx(Ke,{variant:"ghost",size:"icon",onClick:()=>Q({type:"single",timestamp:he.timestamp}),children:x.jsx(e$,{className:"w-4 h-4 text-red-500"})})})]},he.id))})]})}):x.jsx("p",{className:"text-center text-slate-500",children:"No recent sessions for this period."})]})]})]}),x.jsx(dK,{isOpen:V,onClose:()=>I(!1),onSave:(he,Ae,Ge)=>{f(he,Ae,Ge),I(!1)},currentWpmGoal:i,currentAccuracyGoal:s,currentTimeGoal:l}),x.jsxs(Co,{isOpen:j,onClose:()=>A(!1),title:"All Error Stats",children:[x.jsx("div",{className:"max-h-[60vh] overflow-y-auto custom-scrollbar pr-2",children:ne.length>0?x.jsx("div",{className:"space-y-3",children:ne.map((he,Ae)=>x.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[x.jsx("div",{className:"flex justify-between items-start mb-3",children:x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"font-mono bg-slate-200 dark:bg-slate-700 px-3 py-1.5 rounded-lg text-lg font-semibold text-slate-800 dark:text-slate-200",children:X4(he.key)}),x.jsxs("span",{className:"text-red-600 dark:text-red-400 font-bold text-base",children:[he.errorRate.toFixed(1),"%"]})]})}),x.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm mb-2",children:[x.jsxs("div",{className:"text-slate-600 dark:text-slate-400",children:[x.jsx("span",{className:"font-medium",children:"Errors:"})," ",he.errors]}),x.jsxs("div",{className:"text-slate-600 dark:text-slate-400",children:[x.jsx("span",{className:"font-medium",children:"Attempts:"})," ",he.attempts]})]}),x.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2",children:x.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 h-2 rounded-full transition-all",style:{width:`${Math.min(100,he.errorRate)}%`}})})]},Ae))}):x.jsx("p",{className:"text-center text-slate-500 py-8",children:"No error data available."})}),x.jsx("div",{className:"mt-6 flex justify-center",children:x.jsx(Ke,{variant:"secondary",onClick:()=>A(!1),accessKeyChar:"C",autoFocus:!0,children:"Close"})})]}),x.jsx(jT,{isOpen:!!D,onClose:()=>$(null),title:"Import Data",message:"You have existing practice history. How would you like to import the new data?",buttons:[{label:"Merge",onClick:()=>$e("merge"),variant:"primary"},{label:"Replace",onClick:()=>$e("replace"),variant:"secondary"}]}),x.jsx(jT,{isOpen:!!L,onClose:()=>Q(null),title:(L==null?void 0:L.type)==="all"?"Delete All History":"Delete Session",message:(L==null?void 0:L.type)==="all"?x.jsxs("span",{children:["Are you sure you want to delete ALL practice history? This action cannot be undone and will reset the website to a fresh state.",x.jsx("br",{}),x.jsx("br",{}),"To prevent data loss, we recommend you ",x.jsx("span",{className:"text-blue-600 dark:text-blue-400 cursor-pointer hover:underline font-medium",onClick:me,children:"Export"})," your data first."]}):"Are you sure you want to delete this practice session?",buttons:[{label:"Cancel",onClick:()=>Q(null),variant:"secondary"},{label:"Delete",onClick:ye,variant:"primary",className:"bg-red-600 hover:bg-red-700 text-white"}]}),x.jsx("input",{type:"file",ref:B,className:"hidden",accept:".json,application/json",onChange:Ne})]})},Jce=()=>{const t=U.useContext(Tn);if(!t)return null;const{practiceHistory:e,deletePracticeSession:n,clearPracticeHistory:r,navigateTo:i,showAlert:s}=t,[l,c]=U.useState(null),f=()=>{(l==null?void 0:l.type)==="single"&&l.timestamp?n(l.timestamp):(l==null?void 0:l.type)==="all"&&r(),c(null)},h=()=>{try{C5({practiceHistory:e,keyErrorStats:t.keyErrorStats,keyAttemptStats:t.keyAttemptStats}),s("Data exported successfully!","info")}catch(v){s("Failed to export data.","error"),console.error(v)}},p=v=>{const _=Math.floor(v/60),T=Math.floor(v%60);return`${_}m ${T.toString().padStart(2,"0")}s`},m=U.useMemo(()=>[...e].sort((v,_)=>_.timestamp-v.timestamp),[e]);return x.jsxs("div",{className:"space-y-6 h-full overflow-y-auto custom-scrollbar p-4",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx(Ke,{variant:"outline",onClick:()=>i("dashboard"),title:"Back to Dashboard",accessKeyChar:"ArrowLeft",accessKeyLabel:"",children:" Back to Dashboard"}),x.jsx("h1",{className:"text-3xl font-bold",children:"Practice History"})]}),m.length>0&&x.jsx(Ke,{variant:"destructive",onClick:()=>c({type:"all"}),children:"Clear All History"})]}),x.jsx(gr,{className:"p-6",children:m.length>0?x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Date"}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"WPM"}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Accuracy"}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Duration"}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Language"}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Lines"}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Errors"}),x.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),x.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:m.map((v,_)=>x.jsxs("tr",{className:_%2===0?"bg-slate-50 dark:bg-slate-800":"",children:[x.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:[bl(v.timestamp),x.jsx("span",{className:"block text-xs text-gray-700 dark:text-gray-300",children:new Date(v.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100 font-medium",children:v.wpm.toFixed(0)}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:x.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v.accuracy>=95?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":v.accuracy>=90?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:[v.accuracy.toFixed(1),"%"]})}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:p(v.duration)}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:v.language}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:v.linesTyped||0}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:v.errors}),x.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium",children:x.jsx(Ke,{variant:"ghost",size:"icon",onClick:()=>c({type:"single",timestamp:v.timestamp}),title:"Delete Session",children:x.jsx(e$,{className:"w-4 h-4 text-red-500"})})})]},v.timestamp))})]})}):x.jsxs("div",{className:"text-center py-12 text-slate-500",children:[x.jsx("p",{className:"text-lg mb-2",children:"No practice history found."}),x.jsx("p",{className:"text-sm",children:"Complete some practice sessions to see them listed here."}),x.jsx(Ke,{className:"mt-4",onClick:()=>i("practice"),children:"Start Practicing"})]})}),x.jsx(jT,{isOpen:!!l,onClose:()=>c(null),title:(l==null?void 0:l.type)==="all"?"Delete All History":"Delete Session",message:(l==null?void 0:l.type)==="all"?x.jsxs("span",{children:["Are you sure you want to delete ALL practice history? This action cannot be undone.",x.jsx("br",{}),x.jsx("br",{}),"To prevent data loss, we recommend you ",x.jsx("span",{className:"text-blue-600 dark:text-blue-400 cursor-pointer hover:underline font-medium",onClick:h,children:"Export"})," your data first."]}):"Are you sure you want to delete this practice session?",buttons:[{label:"Cancel",onClick:()=>c(null),variant:"secondary"},{label:"Delete",onClick:f,variant:"primary",className:"bg-red-600 hover:bg-red-700 text-white"}]})]})},Zce="modulepreload",efe=function(t){return"/ai-code-typer/"+t},Q4={},tfe=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=l(n.map(h=>{if(h=efe(h),h in Q4)return;Q4[h]=!0;const p=h.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":Zce,p||(v.as="script"),v.crossOrigin="",v.href=h,f&&v.setAttribute("nonce",f),document.head.appendChild(v),p)return new Promise((_,T)=>{v.addEventListener("load",_),v.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})},t$=6048e5,nfe=864e5,n$=6e4,r$=36e5,J4=Symbol.for("constructDateFrom");function ra(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&J4 in t?t[J4](e):t instanceof Date?new t.constructor(e):new Date(e)}function ar(t,e){return ra(e||t,t)}function i$(t,e,n){const r=ar(t,n==null?void 0:n.in);return isNaN(e)?ra(t,NaN):(e&&r.setDate(r.getDate()+e),r)}let rfe={};function mv(){return rfe}function Td(t,e){var c,f,h,p;const n=mv(),r=(e==null?void 0:e.weekStartsOn)??((f=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:f.weekStartsOn)??n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,i=ar(t,e==null?void 0:e.in),s=i.getDay(),l=(s<r?7:0)+s-r;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function ay(t,e){return Td(t,{...e,weekStartsOn:1})}function a$(t,e){const n=ar(t,e==null?void 0:e.in),r=n.getFullYear(),i=ra(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=ay(i),l=ra(n,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const c=ay(l);return n.getTime()>=s.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function Z4(t){const e=ar(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function s$(t,...e){const n=ra.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function eL(t,e){const n=ar(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function o$(t,e,n){const[r,i]=s$(n==null?void 0:n.in,t,e),s=eL(r),l=eL(i),c=+s-Z4(s),f=+l-Z4(l);return Math.round((c-f)/nfe)}function ife(t,e){const n=a$(t,e),r=ra(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),ay(r)}function afe(t,e,n){return i$(t,e*7,n)}function sfe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function l$(t){return!(!sfe(t)&&typeof t!="number"||isNaN(+ar(t)))}function ofe(t,e){const[n,r]=s$(t,e.start,e.end);return{start:n,end:r}}function u$(t,e){const{start:n,end:r}=ofe(e==null?void 0:e.in,t);let i=+n>+r;const s=i?+n:+r,l=i?r:n;l.setHours(0,0,0,0);let c=1;const f=[];for(;+l<=s;)f.push(ra(n,l)),l.setDate(l.getDate()+c),l.setHours(0,0,0,0);return i?f.reverse():f}function lfe(t,e){const n=ar(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const ufe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},cfe=(t,e,n)=>{let r;const i=ufe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function P1(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const ffe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},hfe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dfe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pfe={date:P1({formats:ffe,defaultWidth:"full"}),time:P1({formats:hfe,defaultWidth:"full"}),dateTime:P1({formats:dfe,defaultWidth:"full"})},mfe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},gfe=(t,e,n,r)=>mfe[t];function uh(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,c=n!=null&&n.width?String(n.width):l;i=t.formattingValues[c]||t.formattingValues[l]}else{const l=t.defaultWidth,c=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[c]||t.values[l]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const yfe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},vfe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},bfe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},xfe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_fe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},wfe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Sfe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Tfe={ordinalNumber:Sfe,era:uh({values:yfe,defaultWidth:"wide"}),quarter:uh({values:vfe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:uh({values:bfe,defaultWidth:"wide"}),day:uh({values:xfe,defaultWidth:"wide"}),dayPeriod:uh({values:_fe,defaultWidth:"wide",formattingValues:wfe,defaultFormattingWidth:"wide"})};function ch(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const l=s[0],c=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],f=Array.isArray(c)?Afe(c,m=>m.test(l)):Efe(c,m=>m.test(l));let h;h=t.valueCallback?t.valueCallback(f):f,h=n.valueCallback?n.valueCallback(h):h;const p=e.slice(l.length);return{value:h,rest:p}}}function Efe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Afe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Ofe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let l=t.valueCallback?t.valueCallback(s[0]):s[0];l=n.valueCallback?n.valueCallback(l):l;const c=e.slice(i.length);return{value:l,rest:c}}}const Cfe=/^(\d+)(th|st|nd|rd)?/i,Ife=/\d+/i,Pfe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kfe={any:[/^b/i,/^(a|c)/i]},Rfe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Nfe={any:[/1/i,/2/i,/3/i,/4/i]},jfe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Mfe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Dfe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Lfe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Vfe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},$fe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ufe={ordinalNumber:Ofe({matchPattern:Cfe,parsePattern:Ife,valueCallback:t=>parseInt(t,10)}),era:ch({matchPatterns:Pfe,defaultMatchWidth:"wide",parsePatterns:kfe,defaultParseWidth:"any"}),quarter:ch({matchPatterns:Rfe,defaultMatchWidth:"wide",parsePatterns:Nfe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ch({matchPatterns:jfe,defaultMatchWidth:"wide",parsePatterns:Mfe,defaultParseWidth:"any"}),day:ch({matchPatterns:Dfe,defaultMatchWidth:"wide",parsePatterns:Lfe,defaultParseWidth:"any"}),dayPeriod:ch({matchPatterns:Vfe,defaultMatchWidth:"any",parsePatterns:$fe,defaultParseWidth:"any"})},Bfe={code:"en-US",formatDistance:cfe,formatLong:pfe,formatRelative:gfe,localize:Tfe,match:Ufe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qfe(t,e){const n=ar(t,e==null?void 0:e.in);return o$(n,lfe(n))+1}function zfe(t,e){const n=ar(t,e==null?void 0:e.in),r=+ay(n)-+ife(n);return Math.round(r/t$)+1}function c$(t,e){var p,m,v,_;const n=ar(t,e==null?void 0:e.in),r=n.getFullYear(),i=mv(),s=(e==null?void 0:e.firstWeekContainsDate)??((m=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??i.firstWeekContainsDate??((_=(v=i.locale)==null?void 0:v.options)==null?void 0:_.firstWeekContainsDate)??1,l=ra((e==null?void 0:e.in)||t,0);l.setFullYear(r+1,0,s),l.setHours(0,0,0,0);const c=Td(l,e),f=ra((e==null?void 0:e.in)||t,0);f.setFullYear(r,0,s),f.setHours(0,0,0,0);const h=Td(f,e);return+n>=+c?r+1:+n>=+h?r:r-1}function Ffe(t,e){var c,f,h,p;const n=mv(),r=(e==null?void 0:e.firstWeekContainsDate)??((f=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,i=c$(t,e),s=ra((e==null?void 0:e.in)||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Td(s,e)}function Hfe(t,e){const n=ar(t,e==null?void 0:e.in),r=+Td(n,e)-+Ffe(n,e);return Math.round(r/t$)+1}function Tt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const io={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Tt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Tt(n+1,2)},d(t,e){return Tt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Tt(t.getHours()%12||12,e.length)},H(t,e){return Tt(t.getHours(),e.length)},m(t,e){return Tt(t.getMinutes(),e.length)},s(t,e){return Tt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Tt(i,e.length)}},zu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},tL={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return io.y(t,e)},Y:function(t,e,n,r){const i=c$(t,r),s=i>0?i:1-i;if(e==="YY"){const l=s%100;return Tt(l,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Tt(s,e.length)},R:function(t,e){const n=a$(t);return Tt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Tt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Tt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Tt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return io.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Tt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Hfe(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Tt(i,e.length)},I:function(t,e,n){const r=zfe(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Tt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):io.d(t,e)},D:function(t,e,n){const r=qfe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Tt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Tt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Tt(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Tt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=zu.noon:r===0?i=zu.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=zu.evening:r>=12?i=zu.afternoon:r>=4?i=zu.morning:i=zu.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return io.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):io.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Tt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Tt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):io.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):io.s(t,e)},S:function(t,e){return io.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return rL(r);case"XXXX":case"XX":return gl(r);case"XXXXX":case"XXX":default:return gl(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return rL(r);case"xxxx":case"xx":return gl(r);case"xxxxx":case"xxx":default:return gl(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+nL(r,":");case"OOOO":default:return"GMT"+gl(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+nL(r,":");case"zzzz":default:return"GMT"+gl(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Tt(r,e.length)},T:function(t,e,n){return Tt(+t,e.length)}};function nL(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Tt(s,2)}function rL(t,e){return t%60===0?(t>0?"-":"+")+Tt(Math.abs(t)/60,2):gl(t,e)}function gl(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Tt(Math.trunc(r/60),2),s=Tt(r%60,2);return n+i+e+s}const iL=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},f$=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Gfe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return iL(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",iL(r,e)).replace("{{time}}",f$(i,e))},Kfe={p:f$,P:Gfe},Wfe=/^D+$/,Yfe=/^Y+$/,Xfe=["D","DD","YY","YYYY"];function Qfe(t){return Wfe.test(t)}function Jfe(t){return Yfe.test(t)}function Zfe(t,e,n){const r=ehe(t,e,n);if(console.warn(r),Xfe.includes(t))throw new RangeError(r)}function ehe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const the=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nhe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rhe=/^'([^]*?)'?$/,ihe=/''/g,ahe=/[a-zA-Z]/;function h$(t,e,n){var p,m,v,_;const r=mv(),i=r.locale??Bfe,s=r.firstWeekContainsDate??((m=(p=r.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,l=r.weekStartsOn??((_=(v=r.locale)==null?void 0:v.options)==null?void 0:_.weekStartsOn)??0,c=ar(t,n==null?void 0:n.in);if(!l$(c))throw new RangeError("Invalid time value");let f=e.match(nhe).map(T=>{const S=T[0];if(S==="p"||S==="P"){const w=Kfe[S];return w(T,i.formatLong)}return T}).join("").match(the).map(T=>{if(T==="''")return{isToken:!1,value:"'"};const S=T[0];if(S==="'")return{isToken:!1,value:she(T)};if(tL[S])return{isToken:!0,value:T};if(S.match(ahe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:T}});i.localize.preprocessor&&(f=i.localize.preprocessor(c,f));const h={firstWeekContainsDate:s,weekStartsOn:l,locale:i};return f.map(T=>{if(!T.isToken)return T.value;const S=T.value;(Jfe(S)||Qfe(S))&&Zfe(S,e,String(t));const w=tL[S[0]];return w(c,S,i.localize,h)}).join("")}function she(t){const e=t.match(rhe);return e?e[1].replace(ihe,"'"):t}function d$(t,e){const n=ar(t,e==null?void 0:e.in);if(isNaN(+n))throw new RangeError("Invalid time value");const r=(e==null?void 0:e.format)??"extended",i=(e==null?void 0:e.representation)??"complete";let s="",l="";const c=r==="extended"?"-":"",f=r==="extended"?":":"";if(i!=="time"){const h=Tt(n.getDate(),2),p=Tt(n.getMonth()+1,2);s=`${Tt(n.getFullYear(),4)}${c}${p}${c}${h}`}if(i!=="date"){const h=n.getTimezoneOffset();if(h!==0){const S=Math.abs(h),w=Tt(Math.trunc(S/60),2),O=Tt(S%60,2);l=`${h<0?"+":"-"}${w}:${O}`}else l="Z";const p=Tt(n.getHours(),2),m=Tt(n.getMinutes(),2),v=Tt(n.getSeconds(),2),_=s===""?"":"T",T=[p,m,v].join(f);s=`${s}${_}${T}${l}`}return s}function p$(t,e){return ar(t,e==null?void 0:e.in).getDay()}function ohe(t,e){return ar(t,e==null?void 0:e.in).getMonth()}function lhe(t,e){return ar(t,e==null?void 0:e.in).getFullYear()}function uhe(t,e,n){let r=e-p$(t,n);return r<=0&&(r+=7),i$(t,r,n)}function Fc(t,e){const n=()=>ra(e==null?void 0:e.in,NaN),i=dhe(t);let s;if(i.date){const h=phe(i.date,2);s=mhe(h.restDateString,h.year)}if(!s||isNaN(+s))return n();const l=+s;let c=0,f;if(i.time&&(c=ghe(i.time),isNaN(c)))return n();if(i.timezone){if(f=yhe(i.timezone),isNaN(f))return n()}else{const h=new Date(l+c),p=ar(0,e==null?void 0:e.in);return p.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),p.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),p}return ar(l+c+f,e==null?void 0:e.in)}const Om={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},che=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,fhe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,hhe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function dhe(t){const e={},n=t.split(Om.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Om.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Om.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=Om.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function phe(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function mhe(t,e){if(e===null)return new Date(NaN);const n=t.match(che);if(!n)return new Date(NaN);const r=!!n[4],i=fh(n[1]),s=fh(n[2])-1,l=fh(n[3]),c=fh(n[4]),f=fh(n[5])-1;if(r)return whe(e,c,f)?vhe(e,c,f):new Date(NaN);{const h=new Date(0);return!xhe(e,s,l)||!_he(e,i)?new Date(NaN):(h.setUTCFullYear(e,s,Math.max(i,l)),h)}}function fh(t){return t?parseInt(t):1}function ghe(t){const e=t.match(fhe);if(!e)return NaN;const n=k1(e[1]),r=k1(e[2]),i=k1(e[3]);return She(n,r,i)?n*r$+r*n$+i*1e3:NaN}function k1(t){return t&&parseFloat(t.replace(",","."))||0}function yhe(t){if(t==="Z")return 0;const e=t.match(hhe);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return The(r,i)?n*(r*r$+i*n$):NaN}function vhe(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const bhe=[31,null,31,30,31,30,31,31,30,31,30,31];function m$(t){return t%400===0||t%4===0&&t%100!==0}function xhe(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(bhe[e]||(m$(t)?29:28))}function _he(t,e){return e>=1&&e<=(m$(t)?366:365)}function whe(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function She(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function The(t,e){return e>=0&&e<=59}function Ehe(t,e,n){return afe(t,-1,n)}const NA="react-activity-calendar",R1=8,g$=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ahe={months:g$,weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],totalCount:"{{count}} activities in {{year}}",legend:{less:"Less",more:"More"}};function Ohe(){const[t,e]=U.useState("light"),n=r=>{e(r.matches?"dark":"light")};return U.useEffect(()=>{const r=window.matchMedia("(prefers-color-scheme: dark)");return e(r.matches?"dark":"light"),r.addEventListener("change",n),()=>{r.removeEventListener("change",n)}},[]),t}const y$=`${NA}--loading-animation`;function Che(t,e){U.useEffect(()=>{const n=`oklab(from ${t} l a b)`,r=e==="light"?`oklab(from ${t} calc(l * 0.96) a b)`:`oklab(from ${t} calc(l * 1.08) a b)`,i=document.createElement("style");return i.innerHTML=`
      @keyframes ${y$} {
        0% {
          fill: ${n};
        }
        50% {
          fill: ${r};
        }
        100% {
          fill: ${n};
        }
      }
    `,document.head.appendChild(i),()=>{document.head.removeChild(i)}},[t,e])}const Ihe="(prefers-reduced-motion: reduce)";function Phe(){const[t,e]=U.useState(!0);return U.useEffect(()=>{const n=window.matchMedia(Ihe);e(n.matches);const r=i=>{e(i.matches)};return n.addEventListener("change",r),()=>{n.removeEventListener("change",r)}},[]),t}function khe(t,e){if(t.length===0)throw new Error("Activity data must not be empty.");for(const{date:n,level:r,count:i}of t){if(!l$(Fc(n)))throw new Error(`Activity date '${n}' is not a valid ISO 8601 date string.`);if(i<0)throw new RangeError(`Activity count must not be negative, found ${i}.`);if(r<0||r>e)throw new RangeError(`Activity level ${r} for ${n} is out of range. It must be between 0 and ${e}.`)}}function Rhe(t,e=0){const n=Nhe(t),r=n[0],i=Fc(r.date),s=p$(i)===e?i:Ehe(uhe(i,e)),l=[...Array(o$(i,s)).fill(void 0),...n],c=Math.ceil(l.length/7);return sy(c).map(f=>l.slice(f*7,f*7+7))}function Nhe(t){const e=new Map(t.map(i=>[i.date,i])),n=t[0],r=t[t.length-1];return u$({start:Fc(n.date),end:Fc(r.date)}).map(i=>{const s=d$(i,{representation:"date"});return e.has(s)?e.get(s):{date:s,count:0,level:0}})}function fl(t){return`${NA}__${t}`}function sy(t){return[...Array(t).keys()]}function jhe(){const t=new Date().getFullYear();return u$({start:new Date(t,0,1),end:new Date(t,11,31)}).map(n=>({date:d$(n,{representation:"date"}),count:0,level:0}))}function Mhe(t,e=g$){return t.reduce((n,r,i)=>{const s=r.find(f=>f!==void 0);if(!s)throw new Error(`Unexpected error: Week ${i+1} is empty.`);const l=e[ohe(Fc(s.date))];if(!l){const f=new Date(s.date).toLocaleString("en-US",{month:"short"});throw new Error(`Unexpected error: undefined month label for ${f}.`)}const c=n[n.length-1];return i===0||(c==null?void 0:c.label)!==l?[...n,{weekIndex:i,label:l}]:n},[]).filter(({weekIndex:n},r,i)=>r===0?i[1]&&i[1].weekIndex-n>=3:r===i.length-1?t.slice(n).length>=3:!0)}function Dhe(t,e,n){if(t.length!==7)throw new Error("Exactly 7 labels, one for each weekday must be passed.");return t.reduce((r,i,s)=>e.byDayIndex(s)?Math.max(r,Math.ceil(Lhe(i,n).width)):r,0)}function Lhe(t,e){if(typeof document>"u"||typeof window>"u")return{width:0,height:0};if(e<1)throw new RangeError("fontSize must be positive");if(t.length===0)return{width:0,height:0};const n="http://www.w3.org/2000/svg",r=document.createElementNS(n,"svg");r.style.position="absolute",r.style.visibility="hidden",r.style.fontFamily=window.getComputedStyle(document.body).fontFamily,r.style.fontSize=`${e}px`;const i=document.createElementNS(n,"text");i.textContent=t,r.appendChild(i),document.body.appendChild(r);const s=i.getBBox();return document.body.removeChild(r),{width:s.width,height:s.height}}function Vhe(t,e){if(!t)return{byDayIndex:()=>!1,shouldShow:!1};if(t===!0)return{byDayIndex:r=>(7+r-e)%7%2!==0,shouldShow:!0};const n=[];for(const r of t){const i=$he[r.toLowerCase()];n[i]=!0}return{byDayIndex:r=>n[r]??!1,shouldShow:t.length>0}}const $he={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6};function Uhe(t,e=5){const n=Bhe(e);return t?(qhe(t,e),t.light=t.light??n.light,t.dark=t.dark??n.dark,{light:aL(t.light)?oy(t.light,e):t.light,dark:aL(t.dark)?oy(t.dark,e):t.dark}):n}function Bhe(t){return{light:oy(["hsl(0, 0%, 92%)","hsl(0, 0%, 26%)"],t),dark:oy(["hsl(0, 0%, 22%)","hsl(0, 0%, 92%)"],t)}}function qhe(t,e){const n='The number of colors is controlled by the "maxLevel" property.';if(typeof t!="object"||t.light===void 0&&t.dark===void 0)throw new Error(`The theme object must contain at least one of the fields "light" and "dark" with exactly 2 or ${e} colors respectively. ${n}`);if(t.light){const{length:r}=t.light;if(r!==2&&r!==e)throw new Error(`theme.light must contain exactly 2 or ${e} colors, ${r} passed. ${n}`);for(const i of t.light)if(typeof window<"u"&&!CSS.supports("color",i))throw new Error(`Invalid color "${i}" passed. All CSS color formats are accepted.`)}if(t.dark){const{length:r}=t.dark;if(r!==2&&r!==e)throw new Error(`theme.dark must contain exactly 2 or ${e} colors, ${r} passed. ${n}`);for(const i of t.dark)if(typeof window<"u"&&!CSS.supports("color",i))throw new Error(`Invalid color "${i}" passed. All CSS color formats are accepted.`)}}function oy([t,e],n){return sy(n).map(r=>{switch(r){case 0:return t;case n-1:return e;default:{const i=r/(n-1)*100;return`color-mix(in oklab, ${e} ${parseFloat(i.toFixed(2))}%, ${t})`}}})}function aL(t){return t.length===2}const hl={container:t=>({width:"max-content",maxWidth:"100%",display:"flex",flexDirection:"column",gap:"8px",fontSize:`${t}px`}),scrollContainer:t=>({maxWidth:"100%",overflowX:"auto",overflowY:"hidden",paddingTop:Math.ceil(.1*t)}),calendar:{display:"block",overflow:"visible"},rect:t=>({stroke:t==="light"?"rgba(0, 0, 0, 0.08)":"rgba(255, 255, 255, 0.04)"}),footer:{container:{display:"flex",flexWrap:"wrap",gap:"4px 16px",whiteSpace:"nowrap"},legend:{marginLeft:"auto",display:"flex",alignItems:"center",gap:"3px"}}},sL=U.lazy(()=>tfe(()=>import("./Tooltip-BOuzdJNe-BBD2hHt_.js"),[]).then(t=>({default:t.Tooltip}))),v$=U.forwardRef(({data:t,blockMargin:e=4,blockRadius:n=2,blockSize:r=12,colorScheme:i=void 0,fontSize:s=14,labels:l=void 0,loading:c=!1,maxLevel:f=4,renderBlock:h=void 0,renderColorLegend:p=void 0,showColorLegend:m=!0,showMonthLabels:v=!0,showTotalCount:_=!0,showWeekdayLabels:T=!1,style:S={},theme:w=void 0,tooltips:O={},weekStart:C=0},R)=>{const[V,I]=U.useState(!1);U.useEffect(()=>{I(!0)},[]),f=Math.max(1,f);const j=Uhe(w,f+1),A=Ohe(),P=i??A,N=j[P];Che(N[0],P);const B=!Phe();c&&(t=jhe()),khe(t,f);const D=t[0],$=lhe(Fc(D.date)),L=Rhe(t,C),Q=Object.assign({},Ahe,l),J=v?s+R1:0,F=Vhe(T,C),Y=V&&F.shouldShow?Dhe(Q.weekdays,F,s)+R1:void 0;function ee(){return{width:L.length*(r+e)-e,height:J+(r+e)*7-e}}function ue(){return L.map((we,Se)=>we.map((Ne,$e)=>{if(!Ne)return null;const ye=c&&B?{animation:`${y$} 1.75s ease-in-out infinite`,animationDelay:`${Se*20+$e*20}ms`}:void 0,Te=x.jsx("rect",{x:0,y:J+(r+e)*$e,width:r,height:r,rx:n,ry:n,fill:N[Ne.level],"data-date":Ne.date,"data-level":Ne.level,style:{...hl.rect(P),...ye}}),Re=h?h(Te,Ne):Te;return x.jsx(U.Fragment,{children:O.activity?x.jsx(U.Suspense,{fallback:Re,children:x.jsx(sL,{text:O.activity.text(Ne),colorScheme:P,placement:O.activity.placement??"top",hoverRestMs:O.activity.hoverRestMs,offset:O.activity.offset,transitionStyles:O.activity.transitionStyles,withArrow:O.activity.withArrow,children:Re})}):Re},Ne.date)})).map((we,Se)=>x.jsx("g",{transform:`translate(${(r+e)*Se}, 0)`,children:we},Se))}function ve(){if(!_&&!m)return null;const we=t.reduce((Se,Ne)=>Se+Ne.count,0);return x.jsxs("footer",{className:fl("footer"),style:{...hl.footer.container,marginLeft:Y},children:[c&&x.jsx("div",{children:""}),!c&&_&&x.jsx("div",{className:fl("count"),children:Q.totalCount?Q.totalCount.replace("{{count}}",String(we)).replace("{{year}}",String($)):`${we} activities in ${$}`}),!c&&m&&x.jsxs("div",{className:fl("legend-colors"),style:hl.footer.legend,children:[x.jsx("span",{style:{marginRight:"0.4em"},children:Q.legend.less}),sy(f+1).map(Se=>{const Ne=x.jsx("svg",{width:r,height:r,children:x.jsx("rect",{width:r,height:r,fill:N[Se],rx:n,ry:n,style:hl.rect(P)})},Se),$e=p?p(Ne,Se):Ne;return x.jsx(U.Fragment,{children:O.colorLegend?x.jsx(U.Suspense,{fallback:$e,children:x.jsx(sL,{text:O.colorLegend.text(Se),colorScheme:P,placement:O.colorLegend.placement??"bottom",hoverRestMs:O.colorLegend.hoverRestMs,offset:O.colorLegend.offset,transitionStyles:O.colorLegend.transitionStyles,withArrow:O.colorLegend.withArrow,children:$e})}):$e},Se)}),x.jsx("span",{style:{marginLeft:"0.4em"},children:Q.legend.more})]})]})}function H(){return F.shouldShow?x.jsx("g",{className:fl("legend-weekday"),children:sy(7).map(we=>{const Se=(we+C)%7;return F.byDayIndex(Se)?x.jsx("text",{x:-R1,y:J+(r+e)*we+r/2,dominantBaseline:"central",textAnchor:"end",fill:"currentColor",children:Q.weekdays[Se]},we):null})}):null}function W(){return v?x.jsx("g",{className:fl("legend-month"),children:Mhe(L,Q.months).map(({label:we,weekIndex:Se})=>x.jsx("text",{x:(r+e)*Se,y:0,dominantBaseline:"hanging",fill:"currentColor",children:we},Se))}):null}const{width:oe,height:me}=ee();return x.jsxs("article",{ref:R,className:NA,style:{...S,...hl.container(s)},children:[x.jsx("div",{className:fl("scroll-container"),style:hl.scrollContainer(s),children:x.jsxs("svg",{width:oe,height:me,viewBox:`0 0 ${oe} ${me}`,className:fl("calendar"),style:{...hl.calendar,marginLeft:Y},children:[!c&&H(),!c&&W(),ue()]})}),ve()]})});v$.displayName="ActivityCalendar";const zhe=({data:t})=>{const e=U.useContext(Tn),n=(e==null?void 0:e.theme)||"dark",r={light:["#f1f5f9","#bbf7d0","#86efac","#4ade80","#16a34a"],dark:["#1e293b","#064e3b","#065f46","#047857","#059669"]};return!t||t.length===0?x.jsx("div",{className:"w-full h-32 flex items-center justify-center text-slate-500 text-sm italic",children:"No coding activity recorded yet. Start practicing to see your heatmap!"}):x.jsx("div",{className:"w-full flex justify-center py-4",children:x.jsx(v$,{data:t,theme:r,colorScheme:n,showWeekdayLabels:!0,blockSize:12,blockMargin:4,fontSize:12,labels:{legend:{less:"Less",more:"More"},months:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],totalCount:"{{count}} sessions in {{year}}",weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}})})},Fhe=({badges:t})=>{const e=[...t].sort((n,r)=>n.earned===r.earned?0:n.earned?-1:1);return x.jsx("div",{className:"grid grid-cols-2 md:grid-cols-1 xl:grid-cols-2 gap-3",children:e.map(n=>x.jsxs("div",{className:`relative group p-3 rounded-xl border transition-all duration-300 ${n.earned?`${n.color} border-transparent shadow-sm`:"bg-slate-50 dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 opacity-60 grayscale"}`,children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("span",{className:"text-2xl",children:n.icon}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("p",{className:"text-sm font-bold leading-tight break-words",children:n.name}),x.jsx("p",{className:"text-[10px] opacity-80 truncate leading-tight",children:n.earned?"Unlocked":"Locked"})]})]}),x.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap z-10 w-max max-w-[200px]",children:[n.description,x.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]},n.id))})},yl=[{name:"Novice",minTests:0,color:"text-gray-500"},{name:"Script Kiddie",minTests:10,color:"text-green-500"},{name:"Hacker",minTests:50,color:"text-blue-500"},{name:"Elite Typer",minTests:100,color:"text-purple-500"},{name:"Grandmaster",minTests:250,color:"text-amber-500"}],Hhe=t=>{let e=yl[0],n=yl[1];for(let i=0;i<yl.length&&t>=yl[i].minTests;i++)e=yl[i],n=yl[i+1]||null;let r=0;if(n){const i=n.minTests-e.minTests,s=t-e.minTests;r=Math.min(100,Math.max(0,s/i*100))}else r=100;return{currentLevel:e,nextLevel:n,progress:r}},Ghe=t=>{const e=t.length,n=Math.max(0,...t.map(l=>l.wpm)),r=t.length>0?t.reduce((l,c)=>l+c.accuracy,0)/t.length:0,i=t.reduce((l,c)=>l+c.duration,0);return[{id:"first_step",name:"First Step",description:"Complete your first practice session.",icon:"",earned:e>=1,color:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400"},{id:"speedster",name:"Speedster",description:"Reach 60 WPM in a single session.",icon:"",earned:n>=60,color:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400"},{id:"sniper",name:"Sniper",description:"Maintain an average accuracy of 98% or higher.",icon:"",earned:t.length>=5&&r>=98,color:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"},{id:"dedicated",name:"Dedicated",description:"Complete 50 practice sessions.",icon:"",earned:e>=50,color:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"},{id:"marathon",name:"Marathon Runner",description:"Practice for over 2 hours total.",icon:"",earned:i>=7200,color:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400"},{id:"century",name:"Centurion",description:"Reach 100 WPM in a session.",icon:"",earned:n>=100,color:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400"}]},Khe=(t,e)=>Object.entries(t).map(([r,i])=>{const s=e[r]||i,l=s>0?i/s*100:0;return{key:r,rate:l,errors:i,attempts:s}}).filter(r=>r.errors>0).sort((r,i)=>i.rate-r.rate).slice(0,3),Whe=t=>{const e={};return t.forEach(n=>{if(n.timestamp)try{const r=new Date(n.timestamp);if(isNaN(r.getTime()))return;const i=h$(r,"yyyy-MM-dd");e[i]=(e[i]||0)+1}catch{console.error("Invalid date for session",n)}}),Object.entries(e).map(([n,r])=>{let i=0;return r===0?i=0:r<=2?i=1:r<=5?i=2:r<=10?i=3:i=4,{date:n,count:r,level:i}})},Yhe=t=>t.slice().sort((e,n)=>e.timestamp-n.timestamp).slice(-20).map(e=>{try{const n=new Date(e.timestamp);return{date:isNaN(n.getTime())?"Unknown":h$(n,"MMM dd"),wpm:e.wpm,accuracy:e.accuracy}}catch{return{date:"Err",wpm:e.wpm,accuracy:e.accuracy}}}),Xhe=({isOpen:t,onClose:e})=>{const{user:n,updateUserProfile:r}=Cy(),[i,s]=U.useState(""),[l,c]=U.useState(""),[f,h]=U.useState(!1),[p,m]=U.useState(null);U.useEffect(()=>{t&&n&&(s(n.displayName||""),c(n.photoURL||""),m(null))},[t,n]);const v=async _=>{_.preventDefault(),h(!0),m(null);try{await r({displayName:i.trim(),photoURL:l.trim()||void 0}),e()}catch(T){m(T.message||"Failed to update profile")}finally{h(!1)}};return x.jsx(Co,{isOpen:t,onClose:e,title:"Edit Profile",children:x.jsxs("form",{onSubmit:v,className:"space-y-4",children:[p&&x.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-500 text-sm p-3 rounded",children:p}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{htmlFor:"displayName",className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Display Name"}),x.jsx("input",{id:"displayName",type:"text",value:i,onChange:_=>s(_.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-slate-900 dark:text-slate-100",placeholder:"Your Name",required:!0})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{htmlFor:"photoURL",className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Avatar URL"}),x.jsx("input",{id:"photoURL",type:"url",value:l,onChange:_=>c(_.target.value),className:"w-full px-3 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 text-slate-900 dark:text-slate-100",placeholder:"https://example.com/avatar.jpg"}),x.jsx("p",{className:"text-xs text-slate-500",children:"Leave empty to use default avatar."})]}),x.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[x.jsx(Ke,{type:"button",variant:"ghost",onClick:e,disabled:f,children:"Cancel"}),x.jsx(Ke,{type:"submit",variant:"primary",disabled:f,children:f?"Saving...":"Save Changes"})]})]})})},Qhe=()=>{const{user:t,logout:e,syncStatus:n}=Cy(),r=U.useContext(Tn),[i,s]=G.useState(!1);if(!r)throw new Error("AppContext not found");const{practiceHistory:l,keyErrorStats:c,keyAttemptStats:f,navigateTo:h}=r,p=U.useMemo(()=>{if(l.length===0)return{bestWpm:0,avgAccuracy:0,totalSessions:0,totalDuration:0};const C=Math.max(0,...l.map(j=>j.wpm)),R=l.reduce((j,A)=>j+A.accuracy,0),V=parseFloat((R/l.length).toFixed(2)),I=l.reduce((j,A)=>j+A.duration,0);return{bestWpm:C,avgAccuracy:V,totalSessions:l.length,totalDuration:I}},[l]),m=C=>{const R=Math.floor(C/3600),V=Math.floor(C%3600/60);return R>0?`${R}h ${V}m`:`${V}m`},v=U.useMemo(()=>Hhe(p.totalSessions),[p.totalSessions]),_=U.useMemo(()=>Whe(l),[l]),T=U.useMemo(()=>Yhe(l),[l]),S=U.useMemo(()=>Ghe(l),[l]),w=U.useMemo(()=>Khe(c,f),[c,f]),O=async()=>{await e(),window.location.reload()};return t?x.jsxs("div",{className:"max-w-6xl mx-auto p-4 space-y-6 animate-fade-in-up pb-20",children:[x.jsxs(gr,{className:"p-6 md:p-8 relative overflow-hidden dark:bg-slate-800/80 backdrop-blur-md border-b-4 border-primary-500",children:[x.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center md:items-start z-10 relative",children:[x.jsxs("div",{className:"relative group",children:[x.jsx("img",{src:t.photoURL||`https://ui-avatars.com/api/?name=${t.displayName}`,alt:t.displayName||"User",className:"w-24 h-24 md:w-32 md:h-32 rounded-full border-4 border-slate-100 dark:border-slate-700 shadow-xl object-cover"}),x.jsxs("div",{className:"absolute -bottom-2 -right-2 bg-gradient-to-r from-amber-400 to-orange-500 text-white text-xs font-bold px-3 py-1 rounded-full border-2 border-white dark:border-slate-800 shadow-sm",children:["Lvl ",yl.indexOf(v.currentLevel)]})]}),x.jsxs("div",{className:"flex-1 text-center md:text-left space-y-3 w-full",children:[x.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold bg-clip-text text-transparent bg-gradient-to-r from-slate-900 to-slate-600 dark:from-white dark:to-slate-300",children:t.displayName}),x.jsx("p",{className:`font-mono text-sm md:text-base ${v.currentLevel.color} font-bold mt-1 tracking-wide uppercase`,children:v.currentLevel.name})]}),x.jsxs(Ke,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>s(!0),children:[x.jsx(P5,{className:"w-4 h-4"}),"Edit Profile"]})]}),x.jsxs("div",{className:"space-y-2 max-w-xl",children:[x.jsxs("div",{className:"flex justify-between text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:[x.jsxs("span",{children:["Progress to ",v.nextLevel?v.nextLevel.name:"Max Level"]}),x.jsxs("span",{children:[v.progress.toFixed(0),"%"]})]}),x.jsx("div",{className:"h-3 w-full bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:x.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-blue-500 shadow-[0_0_10px_rgba(59,130,246,0.5)] transition-all duration-1000 ease-out",style:{width:`${v.progress}%`}})}),x.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500",children:v.nextLevel?`${v.nextLevel.minTests-p.totalSessions} more sessions to level up`:"You are at the top of the food chain!"})]})]})]}),x.jsx("div",{className:"absolute top-0 right-0 -mt-16 -mr-16 w-64 h-64 bg-primary-500/10 rounded-full blur-3xl pointer-events-none"})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[x.jsxs("div",{className:"md:col-span-3 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[x.jsx(jr,{label:"Highest WPM",value:p.bestWpm,className:"bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-emerald-900/10 dark:to-teal-900/10 border-l-4 border-emerald-500"}),x.jsx(jr,{label:"Total Time Coding",value:m(p.totalDuration),className:"bg-gradient-to-br from-indigo-50 to-blue-50 dark:from-indigo-900/10 dark:to-blue-900/10 border-l-4 border-indigo-500"}),x.jsx(jr,{label:"Global Percentile",value:`${p.bestWpm>80?"Top 5%":p.bestWpm>50?"Top 20%":"Top 50%"}`,className:"bg-gradient-to-br from-purple-50 to-fuchsia-50 dark:from-purple-900/10 dark:to-fuchsia-900/10 border-l-4 border-purple-500"})]}),x.jsxs(gr,{className:"md:col-span-3 p-6 dark:bg-slate-800/50 backdrop-blur-sm",children:[x.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[x.jsx("span",{className:"text-xl",children:""})," Coding Activity"]}),x.jsx(zhe,{data:_})]}),x.jsxs(gr,{className:"md:col-span-2 p-6 dark:bg-slate-800/50 backdrop-blur-sm min-h-[350px]",children:[x.jsxs("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[x.jsx("span",{className:"text-xl",children:""})," Recent Performance"]}),x.jsx(Z9,{data:T})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs(gr,{className:"p-6 dark:bg-slate-800/50 backdrop-blur-sm",children:[x.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[x.jsx("span",{className:"text-xl",children:""})," Needs Improvement"]}),w.length>0?x.jsxs("div",{className:"space-y-4",children:[x.jsx("div",{className:"flex justify-around",children:w.map((C,R)=>x.jsxs("div",{className:"flex flex-col items-center gap-1 group cursor-help relative",children:[x.jsx("div",{className:"w-12 h-12 flex items-center justify-center bg-red-50 dark:bg-red-900/20 border-2 border-red-200 dark:border-red-800 rounded-lg text-xl font-mono font-bold text-red-600 dark:text-red-400 shadow-sm",children:C.key===" "?"":C.key===`
`?"":C.key==="	"?"":C.key}),x.jsxs("span",{className:"text-xs font-semibold text-red-500",children:[C.rate.toFixed(1),"% err"]}),x.jsxs("div",{className:"absolute bottom-full mb-2 bg-slate-900 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none",children:[C.key===" "?"Space":C.key===`
`?"Enter":C.key==="	"?"Tab":C.key,": ",C.errors," errors / ",C.attempts," attempts"]})]},C.key))}),x.jsx(Ke,{size:"sm",variant:"ghost",className:"w-full mt-2 text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",onClick:()=>{const C=w.map(R=>R.key);h("practice"),r.startTargetedSession(C,{length:"medium",level:"medium"})},children:"Start Targeted Practice "})]}):x.jsxs("div",{className:"text-center py-6 text-slate-500 text-sm",children:[x.jsx("p",{children:"No significant weak keys found."}),x.jsx("p",{className:"text-xs opacity-70",children:"Keep practicing!"})]})]}),x.jsxs(gr,{className:"p-6 dark:bg-slate-800/50 backdrop-blur-sm",children:[x.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[x.jsx("span",{className:"text-xl",children:""})," Badges",x.jsxs("span",{className:"text-xs font-normal text-slate-500 ml-auto bg-slate-100 dark:bg-slate-700 px-2 py-0.5 rounded-full",children:[S.filter(C=>C.earned).length," / ",S.length]})]}),x.jsx(Fhe,{badges:S})]})]})]}),x.jsx("div",{className:"flex justify-center pt-8 border-t border-slate-200 dark:border-slate-800",children:x.jsx(Ke,{variant:"ghost",className:"text-slate-500 hover:text-red-500 dark:hover:text-red-400",onClick:O,children:"Sign Out of Account"})}),x.jsx(Xhe,{isOpen:i,onClose:()=>s(!1)})]}):x.jsx("div",{className:"flex flex-col items-center justify-center h-full p-4 text-center",children:x.jsxs(gr,{className:"p-8 max-w-md w-full",children:[x.jsx("h2",{className:"text-2xl font-bold mb-4",children:"You are not signed in"}),x.jsx("p",{className:"text-slate-500 mb-6",children:"Sign in to sync your progress across devices and unlock your developer profile."})]})})},Jhe=()=>{const t=U.useContext(Tn),[e,n]=U.useState(!1);if(U.useEffect(()=>n(!0),[]),!t)return null;const{alertMessage:r}=t,i={warning:x.jsx(ac,{className:"w-5 h-5"}),info:x.jsx(ac,{className:"w-5 h-5"}),error:x.jsx(ac,{className:"w-5 h-5"})},s={warning:"bg-yellow-400 text-yellow-900",info:"bg-blue-500 text-white",error:"bg-red-500 text-white"};if(!e||!r)return null;const l=document.getElementById("alert-root");return l?OE.createPortal(x.jsx("div",{className:"fixed top-6 inset-x-0 z-[10000] flex justify-center pointer-events-none",role:"alert",children:x.jsxs("div",{className:`pointer-events-auto px-4 py-3 rounded-md shadow-lg flex items-center gap-2 animate-fade-in-up ${s[r.type]}`,children:[i[r.type],x.jsx("span",{className:"font-semibold",children:r.message})]})}),l):null},Zhe=t=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[x.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),x.jsx("polyline",{points:"17 8 12 3 7 8"}),x.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),ede=[{label:"Short",value:"short"},{label:"Medium",value:"medium"},{label:"Long",value:"long"}],tde=[{label:"Easy",value:"easy"},{label:"Medium",value:"medium"},{label:"Hard",value:"hard"}],nde=[{label:"Generate with AI",value:"generate"},{label:"Upload Text",value:"upload"}],rde=[{label:"Code Practice",value:"code"},{label:"General Typing",value:"general"}],ide={id:"custom",name:"Custom",prismAlias:"clike"},oL={id:"general",name:"General Text",prismAlias:"text"},ade=vn,N1=[...vn,ide],sde=({isOpen:t,onClose:e,onStart:n,variant:r})=>{const i=U.useContext(Tn);if(!i)throw new Error("AppContext not found");const{selectedLanguage:s,setSelectedLanguage:l,isLoadingSnippet:c,setLastPracticeAction:f,setupTab:h,setSetupTab:p,snippetLength:m,setSnippetLength:v,snippetLevel:_,setSnippetLevel:T,practiceMode:S,setPracticeMode:w,startMultiFileSession:O,showAlert:C,navigateTo:R,generalContentTypes:V,setGeneralContentTypes:I}=i,[j,A]=U.useState(m),[P,N]=U.useState(_),[B,D]=U.useState(S),[$,L]=U.useState(""),[Q,J]=U.useState(V),F=U.useRef(null),Y=U.useRef(null),ee=U.useRef(null),ue=U.useRef(null),ve=U.useRef(null),H=U.useRef(null),W=U.useRef(null),oe=U.useRef(null),me=U.useRef(null),we=U.useRef(null),Se=U.useRef(null),Ne=U.useRef(null),$e=U.useRef(null);U.useEffect(()=>{t&&(A(m),N(_),D(S),J(V),setTimeout(()=>{var xe;return(xe=me.current)==null?void 0:xe.focus()},50))},[t,m,_,S,V]),U.useEffect(()=>{t&&h==="upload"&&setTimeout(()=>{var xe;return(xe=Y.current)==null?void 0:xe.focus()},50)},[t,h]),Gr("A",()=>p("generate"),{disabled:!t}),Gr("U",()=>p("upload"),{disabled:!t}),Gr("C",()=>D("code"),{disabled:!t}),Gr("G",()=>D("general"),{disabled:!t});const ye=()=>{f("generate"),w(B),v(j),T(P),I(Q),n(j,P,null,B,Q)},Te=xe=>{if(xe.trim().length<2){C("Code must be at least 2 characters long.","error");return}f("upload"),B==="general"&&l(oL),n(null,null,xe,B)},Re=async xe=>{if(xe.target.files&&xe.target.files.length>0){const Ee=Array.from(xe.target.files);if(Ee.length===1){const Be=Ee[0],We=new FileReader;We.onload=st=>{var qe;const Ye=(qe=st.target)==null?void 0:qe.result;Te(Ye)},We.readAsText(Be)}else{const Be=We=>new Promise(st=>{const Ye=new FileReader;Ye.onload=qe=>{var Dt;const _t=(Dt=qe.target)==null?void 0:Dt.result;st({file:We,isValid:_t.trim().length>=2})},Ye.readAsText(We)});try{const We=await Promise.all(Ee.map(Be)),st=We.filter(qe=>qe.isValid).map(qe=>qe.file),Ye=We.filter(qe=>!qe.isValid).map(qe=>qe.file);if(st.length===0)C("All selected files are invalid. Code must be at least 2 characters long.","error");else{if(Ye.length>0){const qe=Ye.map(_t=>_t.name).join(", ");C(`Skipped ${Ye.length} invalid file(s) (<2 chars): ${qe}`,"warning",6e3)}B==="general"&&l(oL),await O(st),e(),R("practice")}}catch(We){console.error("Multi-file session start failed:",We),C("An unexpected error occurred while processing files.","error")}}}},ne=xe=>{J(Ee=>Ee.includes(xe)?Ee.length===1?Ee:Ee.filter(Be=>Be!==xe):[...Ee,xe])};U.useEffect(()=>{const xe=Ee=>{var st,Ye,qe,_t,Dt,En,Ie,ht;if(!t||Ee.defaultPrevented)return;const Be=Ee.target,We=Be.tagName==="TEXTAREA"||Be.tagName==="INPUT"&&Be.type==="text";if((Ee.ctrlKey||Ee.shiftKey||Ee.altKey)&&Ee.key==="Enter"){Ee.preventDefault(),h==="generate"?c||ye():$.trim()&&Te($);return}if(!(We&&Ee.key.startsWith("Arrow"))){if(Ee.key==="ArrowLeft"||Ee.key==="ArrowRight"){const xt=document.activeElement,Vt=h==="generate"?me.current:Se.current;if(xt===Vt||xt===Ne.current){Ee.preventDefault(),xt===Vt?(st=Ne.current)==null||st.focus():Vt==null||Vt.focus();return}if((Ye=W.current)!=null&&Ye.contains(xt)){Ee.preventDefault();const Zt=Array.from(W.current.querySelectorAll("button")),en=Zt.indexOf(xt);if(en!==-1){const xn=Ee.key==="ArrowRight"?1:-1,Pt=(en+xn+Zt.length)%Zt.length;(qe=Zt[Pt])==null||qe.focus()}return}}if(Ee.key==="Enter"&&((_t=W.current)!=null&&_t.contains(document.activeElement))){Ee.preventDefault(),document.activeElement.click();return}if(Ee.key==="ArrowDown"||Ee.key==="ArrowUp"){const xt=[];xt.push({ref:ee,type:"segmented"}),xt.push({ref:ue,type:"segmented"}),h==="generate"?(B==="code"&&xt.push({ref:oe,type:"select"}),xt.push({ref:ve,type:"segmented"}),B==="code"?xt.push({ref:H,type:"segmented"}):xt.push({ref:W,type:"container"}),xt.push({ref:$e,type:"container"})):(B==="code"&&xt.push({ref:oe,type:"select"}),xt.push({ref:Y,type:"input"}),xt.push({ref:we,type:"button"}),xt.push({ref:$e,type:"container"}));const Vt=document.activeElement,Zt=xt.findIndex(en=>{var xn,Pt,he;return en.type==="select"?((Pt=(xn=en.ref.current)==null?void 0:xn.getTriggerElement)==null?void 0:Pt.call(xn))===Vt:en.type==="container"||en.type==="segmented"?(he=en.ref.current)==null?void 0:he.contains(Vt):en.ref.current===Vt});if(Zt!==-1){Ee.preventDefault();const en=Ee.key==="ArrowDown"?1:-1,xn=(Zt+en+xt.length)%xt.length,Pt=xt[xn];if(Pt.type==="select")(Dt=Pt.ref.current)==null||Dt.focus();else if(Pt.type==="container")if(Pt.ref===$e){const he=h==="generate"?me.current:Se.current;he==null||he.focus()}else if(Pt.ref===W){const he=(En=Pt.ref.current)==null?void 0:En.querySelector("button");he==null||he.focus()}else{const he=(Ie=Pt.ref.current)==null?void 0:Ie.querySelector("input");he==null||he.focus()}else(ht=Pt.ref.current)==null||ht.focus()}return}if(Ee.altKey)switch(Ee.key.toLowerCase()){case"a":p("generate");break;case"u":p("upload");break;case"c":D("code");break;case"g":D("general");break;case"s":h==="generate"&&A("short");break;case"m":h==="generate"&&A("medium");break;case"l":h==="generate"&&A("long");break;case"i":h==="generate"&&B==="code"&&N("medium");break;case"h":h==="generate"&&(B==="code"?N("hard"):ne("characters"));break;case"y":h==="generate"&&(B==="code"?N("easy"):ne("symbols"));break;case"n":h==="generate"&&B==="general"&&ne("numbers");break}}};return window.addEventListener("keydown",xe),()=>window.removeEventListener("keydown",xe)},[t,c,B,h,j,P,Q,$,ye,Te]);const He=xe=>{const Ee=xe,Be=N1.find(We=>We.id===Ee)||N1[0];l(Be)};return x.jsx(Co,{isOpen:t,onClose:e,title:"Practice Setup",size:"md",children:x.jsxs("div",{className:"space-y-6 mt-2",children:[x.jsx(gh,{ref:ee,options:nde,selectedValue:h,onSelect:xe=>{var Ee;p(xe),(Ee=ee.current)==null||Ee.focus()},accessKeyChars:["A","U"]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Mode"}),x.jsx(gh,{ref:ue,options:rde,selectedValue:B,onSelect:xe=>{var Ee;D(xe),(Ee=ue.current)==null||Ee.focus()},accessKeyChars:["C","G"]})]}),h==="generate"&&x.jsxs("div",{className:"space-y-4 animate-fade-in-up relative z-20",children:[B==="code"&&x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Language"}),x.jsx(uS,{ref:oe,options:ade.map(xe=>({label:xe.name,value:xe.id})),value:s.id,onChange:He,searchable:!0})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Length"}),x.jsx(gh,{ref:ve,options:ede,selectedValue:j,onSelect:xe=>{var Ee;A(xe),(Ee=ve.current)==null||Ee.focus()},accessKeyChars:["S","M","L"]})]}),B==="code"?x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Difficulty Level"}),x.jsx(gh,{ref:H,options:tde,selectedValue:P,onSelect:xe=>{var Ee;N(xe),(Ee=H.current)==null||Ee.focus()},accessKeyChars:["Y","I","H"]})]}):x.jsxs("div",{className:"space-y-2",ref:W,children:[x.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Content Type"}),x.jsxs("div",{className:"flex justify-center items-center gap-1 bg-slate-200 dark:bg-slate-700 p-1 rounded-lg",children:[x.jsx("button",{onClick:()=>ne("characters"),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 ${Q.includes("characters")?"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white shadow-sm":"text-slate-600 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:"Characters"}),x.jsx("button",{onClick:()=>ne("numbers"),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 ${Q.includes("numbers")?"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white shadow-sm":"text-slate-600 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:"Numbers"}),x.jsx("button",{onClick:()=>ne("symbols"),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 ${Q.includes("symbols")?"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white shadow-sm":"text-slate-600 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:"Symbols"})]})]})]}),h==="upload"&&x.jsxs("div",{className:"space-y-4 animate-fade-in-up",children:[B==="code"&&x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Language"}),x.jsx(uS,{ref:oe,options:N1.map(xe=>({label:xe.name,value:xe.id})),value:s.id,onChange:He,searchable:!0})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Paste Code"}),x.jsx("textarea",{ref:Y,className:"w-full h-32 p-3 border rounded-md dark:bg-slate-800 dark:border-slate-600 dark:text-white font-mono text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none resize-none",placeholder:"Paste your code here...",value:$,onChange:xe=>L(xe.target.value)})]}),x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"absolute inset-0 flex items-center",children:x.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),x.jsx("div",{className:"relative flex justify-center text-sm",children:x.jsx("span",{className:"px-2 text-slate-500 dark:text-slate-400",children:"Or upload file"})})]}),x.jsxs("div",{className:"flex justify-center",children:[x.jsx("input",{type:"file",ref:F,className:"hidden",accept:".txt,.js,.jsx,.ts,.tsx,.py,.java,.cpp,.c,.h,.hpp,.cs,.go,.rs,.php,.rb,.html,.css,.json,.md",onChange:Re,multiple:!0}),x.jsxs(Ke,{ref:we,variant:"secondary",onClick:()=>{var xe;return(xe=F.current)==null?void 0:xe.click()},className:"w-full",children:[x.jsx(Zhe,{className:"w-4 h-4 mr-2"}),"Select File(s)"]})]})]}),x.jsxs("div",{className:"flex justify-center gap-3 pt-4 border-t dark:border-slate-700",ref:$e,children:[x.jsx(Ke,{ref:Ne,variant:"ghost",onClick:e,className:"hover:bg-slate-200 dark:hover:bg-slate-700 focus:ring-2 focus:ring-primary-500 focus:bg-slate-100 dark:focus:bg-slate-800 transition-colors",children:"Cancel"}),h==="generate"?x.jsx(Ke,{ref:me,variant:"primary",onClick:ye,isLoading:c,accessKeyChar:"Enter",accessKeyLabel:"",children:"Start Practice"}):x.jsx(Ke,{ref:Se,variant:"primary",onClick:()=>Te($),disabled:!$.trim(),children:"Use This Text"})]})]})})},ode=({currentPage:t,onNavigate:e})=>{const n=U.useContext(Tn);if(!n)throw new Error("AppContext not found");const r=s=>{if(s==="practice"&&!n.snippet){n.openSetupModal();return}e(s)},i=[{page:"home",icon:x.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),label:"Home"},{page:"practice",icon:x.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),label:"Practice"},{page:"dashboard",icon:x.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),label:"Dashboard"}];return x.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 z-50 glass border-t border-slate-200/50 dark:border-slate-700/50 safe-area-bottom",children:x.jsx("div",{className:"flex items-center justify-around h-16 px-2",children:i.map(s=>x.jsxs("button",{onClick:()=>r(s.page),className:`flex flex-col items-center justify-center flex-1 h-full transition-all duration-200 rounded-lg group ${t===s.page?"":"hover:bg-slate-100/50 dark:hover:bg-slate-800/50"}`,children:[x.jsx("div",{className:`transition-all duration-200 ${t===s.page?"scale-110":"group-hover:scale-105"} ${t===s.page?"text-purple-600 dark:text-purple-400":"text-slate-600 dark:text-slate-400"}`,children:s.icon}),x.jsx("span",{className:`text-xs mt-1 font-medium transition-colors ${t===s.page?"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 bg-clip-text text-transparent font-semibold":"text-slate-600 dark:text-slate-400"}`,children:s.label})]},s.page))})})},lde=()=>{const t=U.useContext(Tn);if(!t)throw new Error("AppContext not found. Make sure AppContent is a child of AppProvider.");const{page:e,navigateTo:n,sessionResetKey:r,isSetupModalOpen:i,closeSetupModal:s,handleStartFromSetup:l}=t,c=()=>{switch(e){case"practice":return x.jsx(hK,{},r);case"dashboard":return x.jsx(Qce,{});case"history":return x.jsx(Jce,{});case"profile":return x.jsx(Qhe,{});case"home":default:return x.jsx(VG,{onStartPractice:()=>n("practice")})}};return x.jsxs("div",{className:"h-screen overflow-hidden bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 font-sans transition-colors duration-300 flex flex-col",children:[x.jsx(Jhe,{}),x.jsx(LG,{}),x.jsx("main",{className:"container mx-auto px-4 py-4 pt-20 pb-20 md:pb-4 flex-grow flex flex-col min-h-0 overflow-y-auto",children:c()}),x.jsx(ode,{currentPage:e,onNavigate:n}),x.jsx(sde,{isOpen:i,onClose:s,onStart:l})]})},ude=()=>x.jsx(yG,{children:x.jsx(EG,{children:x.jsx(lde,{})})}),b$=document.getElementById("root");if(!b$)throw new Error("Could not find root element to mount to");const cde=sB.createRoot(b$);cde.render(x.jsx(ude,{}));export{fde as R,OE as a,fl as g,x as j,U as r};
