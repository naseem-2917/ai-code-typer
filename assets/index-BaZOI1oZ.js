(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Hp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $0={exports:{}},kf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EC;function GB(){if(EC)return kf;EC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var c in i)c!=="key"&&(o[c]=i[c])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:o}}return kf.Fragment=e,kf.jsx=n,kf.jsxs=n,kf}var TC;function KB(){return TC||(TC=1,$0.exports=GB()),$0.exports}var A=KB(),q0={exports:{}},jf={},z0={exports:{}},F0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OC;function WB(){return OC||(OC=1,(function(t){function e(H,Y){var te=H.length;H.push(Y);e:for(;0<te;){var ce=te-1>>>1,be=H[ce];if(0<i(be,Y))H[ce]=Y,H[te]=be,te=ce;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var Y=H[0],te=H.pop();if(te!==Y){H[0]=te;e:for(var ce=0,be=H.length,F=be>>>1;ce<F;){var W=2*(ce+1)-1,se=H[W],ge=W+1,_e=H[ge];if(0>i(se,te))ge<be&&0>i(_e,se)?(H[ce]=_e,H[ge]=te,ce=ge):(H[ce]=se,H[W]=te,ce=W);else if(ge<be&&0>i(_e,te))H[ce]=_e,H[ge]=te,ce=ge;else break e}}return Y}function i(H,Y){var te=H.sortIndex-Y.sortIndex;return te!==0?te:H.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var f=[],h=[],p=1,m=null,v=3,_=!1,S=!1,w=!1,x=!1,I=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function V(H){for(var Y=n(h);Y!==null;){if(Y.callback===null)r(h);else if(Y.startTime<=H)r(h),Y.sortIndex=Y.expirationTime,e(f,Y);else break;Y=n(h)}}function O(H){if(w=!1,V(H),!S)if(n(f)!==null)S=!0,j||(j=!0,B());else{var Y=n(h);Y!==null&&Q(O,Y.startTime-H)}}var j=!1,T=-1,R=5,P=-1;function U(){return x?!0:!(t.unstable_now()-P<R)}function D(){if(x=!1,j){var H=t.unstable_now();P=H;var Y=!0;try{e:{S=!1,w&&(w=!1,N(T),T=-1),_=!0;var te=v;try{t:{for(V(H),m=n(f);m!==null&&!(m.expirationTime>H&&U());){var ce=m.callback;if(typeof ce=="function"){m.callback=null,v=m.priorityLevel;var be=ce(m.expirationTime<=H);if(H=t.unstable_now(),typeof be=="function"){m.callback=be,V(H),Y=!0;break t}m===n(f)&&r(f),V(H)}else r(f);m=n(f)}if(m!==null)Y=!0;else{var F=n(h);F!==null&&Q(O,F.startTime-H),Y=!1}}break e}finally{m=null,v=te,_=!1}Y=void 0}}finally{Y?B():j=!1}}}var B;if(typeof M=="function")B=function(){M(D)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,J=L.port2;L.port1.onmessage=D,B=function(){J.postMessage(null)}}else B=function(){I(D,0)};function Q(H,Y){T=I(function(){H(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(H){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var te=v;v=Y;try{return H()}finally{v=te}},t.unstable_requestPaint=function(){x=!0},t.unstable_runWithPriority=function(H,Y){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var te=v;v=H;try{return Y()}finally{v=te}},t.unstable_scheduleCallback=function(H,Y,te){var ce=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ce+te:ce):te=ce,H){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=te+be,H={id:p++,callback:Y,priorityLevel:H,startTime:te,expirationTime:be,sortIndex:-1},te>ce?(H.sortIndex=te,e(h,H),n(f)===null&&H===n(h)&&(w?(N(T),T=-1):w=!0,Q(O,te-ce))):(H.sortIndex=be,e(f,H),S||_||(S=!0,j||(j=!0,B()))),H},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(H){var Y=v;return function(){var te=v;v=Y;try{return H.apply(this,arguments)}finally{v=te}}}})(F0)),F0}var CC;function YB(){return CC||(CC=1,z0.exports=WB()),z0.exports}var H0={exports:{}},st={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IC;function XB(){if(IC)return st;IC=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),v=Symbol.iterator;function _(F){return F===null||typeof F!="object"?null:(F=v&&F[v]||F["@@iterator"],typeof F=="function"?F:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,x={};function I(F,W,se){this.props=F,this.context=W,this.refs=x,this.updater=se||S}I.prototype.isReactComponent={},I.prototype.setState=function(F,W){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,W,"setState")},I.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function N(){}N.prototype=I.prototype;function M(F,W,se){this.props=F,this.context=W,this.refs=x,this.updater=se||S}var V=M.prototype=new N;V.constructor=M,w(V,I.prototype),V.isPureReactComponent=!0;var O=Array.isArray;function j(){}var T={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function P(F,W,se){var ge=se.ref;return{$$typeof:t,type:F,key:W,ref:ge!==void 0?ge:null,props:se}}function U(F,W){return P(F.type,W,F.props)}function D(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function B(F){var W={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(se){return W[se]})}var L=/\/+/g;function J(F,W){return typeof F=="object"&&F!==null&&F.key!=null?B(""+F.key):W.toString(36)}function Q(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(j,j):(F.status="pending",F.then(function(W){F.status==="pending"&&(F.status="fulfilled",F.value=W)},function(W){F.status==="pending"&&(F.status="rejected",F.reason=W)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function H(F,W,se,ge,_e){var Ae=typeof F;(Ae==="undefined"||Ae==="boolean")&&(F=null);var je=!1;if(F===null)je=!0;else switch(Ae){case"bigint":case"string":case"number":je=!0;break;case"object":switch(F.$$typeof){case t:case e:je=!0;break;case p:return je=F._init,H(je(F._payload),W,se,ge,_e)}}if(je)return _e=_e(F),je=ge===""?"."+J(F,0):ge,O(_e)?(se="",je!=null&&(se=je.replace(L,"$&/")+"/"),H(_e,W,se,"",function(Le){return Le})):_e!=null&&(D(_e)&&(_e=U(_e,se+(_e.key==null||F&&F.key===_e.key?"":(""+_e.key).replace(L,"$&/")+"/")+je)),W.push(_e)),1;je=0;var We=ge===""?".":ge+":";if(O(F))for(var pe=0;pe<F.length;pe++)ge=F[pe],Ae=We+J(ge,pe),je+=H(ge,W,se,Ae,_e);else if(pe=_(F),typeof pe=="function")for(F=pe.call(F),pe=0;!(ge=F.next()).done;)ge=ge.value,Ae=We+J(ge,pe++),je+=H(ge,W,se,Ae,_e);else if(Ae==="object"){if(typeof F.then=="function")return H(Q(F),W,se,ge,_e);throw W=String(F),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return je}function Y(F,W,se){if(F==null)return F;var ge=[],_e=0;return H(F,ge,"","",function(Ae){return W.call(se,Ae,_e++)}),ge}function te(F){if(F._status===-1){var W=F._result;W=W(),W.then(function(se){(F._status===0||F._status===-1)&&(F._status=1,F._result=se)},function(se){(F._status===0||F._status===-1)&&(F._status=2,F._result=se)}),F._status===-1&&(F._status=0,F._result=W)}if(F._status===1)return F._result.default;throw F._result}var ce=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},be={map:Y,forEach:function(F,W,se){Y(F,function(){W.apply(this,arguments)},se)},count:function(F){var W=0;return Y(F,function(){W++}),W},toArray:function(F){return Y(F,function(W){return W})||[]},only:function(F){if(!D(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return st.Activity=m,st.Children=be,st.Component=I,st.Fragment=n,st.Profiler=i,st.PureComponent=M,st.StrictMode=r,st.Suspense=f,st.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,st.__COMPILER_RUNTIME={__proto__:null,c:function(F){return T.H.useMemoCache(F)}},st.cache=function(F){return function(){return F.apply(null,arguments)}},st.cacheSignal=function(){return null},st.cloneElement=function(F,W,se){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var ge=w({},F.props),_e=F.key;if(W!=null)for(Ae in W.key!==void 0&&(_e=""+W.key),W)!R.call(W,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&W.ref===void 0||(ge[Ae]=W[Ae]);var Ae=arguments.length-2;if(Ae===1)ge.children=se;else if(1<Ae){for(var je=Array(Ae),We=0;We<Ae;We++)je[We]=arguments[We+2];ge.children=je}return P(F.type,_e,ge)},st.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:o,_context:F},F},st.createElement=function(F,W,se){var ge,_e={},Ae=null;if(W!=null)for(ge in W.key!==void 0&&(Ae=""+W.key),W)R.call(W,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(_e[ge]=W[ge]);var je=arguments.length-2;if(je===1)_e.children=se;else if(1<je){for(var We=Array(je),pe=0;pe<je;pe++)We[pe]=arguments[pe+2];_e.children=We}if(F&&F.defaultProps)for(ge in je=F.defaultProps,je)_e[ge]===void 0&&(_e[ge]=je[ge]);return P(F,Ae,_e)},st.createRef=function(){return{current:null}},st.forwardRef=function(F){return{$$typeof:c,render:F}},st.isValidElement=D,st.lazy=function(F){return{$$typeof:p,_payload:{_status:-1,_result:F},_init:te}},st.memo=function(F,W){return{$$typeof:h,type:F,compare:W===void 0?null:W}},st.startTransition=function(F){var W=T.T,se={};T.T=se;try{var ge=F(),_e=T.S;_e!==null&&_e(se,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(j,ce)}catch(Ae){ce(Ae)}finally{W!==null&&se.types!==null&&(W.types=se.types),T.T=W}},st.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},st.use=function(F){return T.H.use(F)},st.useActionState=function(F,W,se){return T.H.useActionState(F,W,se)},st.useCallback=function(F,W){return T.H.useCallback(F,W)},st.useContext=function(F){return T.H.useContext(F)},st.useDebugValue=function(){},st.useDeferredValue=function(F,W){return T.H.useDeferredValue(F,W)},st.useEffect=function(F,W){return T.H.useEffect(F,W)},st.useEffectEvent=function(F){return T.H.useEffectEvent(F)},st.useId=function(){return T.H.useId()},st.useImperativeHandle=function(F,W,se){return T.H.useImperativeHandle(F,W,se)},st.useInsertionEffect=function(F,W){return T.H.useInsertionEffect(F,W)},st.useLayoutEffect=function(F,W){return T.H.useLayoutEffect(F,W)},st.useMemo=function(F,W){return T.H.useMemo(F,W)},st.useOptimistic=function(F,W){return T.H.useOptimistic(F,W)},st.useReducer=function(F,W,se){return T.H.useReducer(F,W,se)},st.useRef=function(F){return T.H.useRef(F)},st.useState=function(F){return T.H.useState(F)},st.useSyncExternalStore=function(F,W,se){return T.H.useSyncExternalStore(F,W,se)},st.useTransition=function(){return T.H.useTransition()},st.version="19.2.0",st}var RC;function lA(){return RC||(RC=1,H0.exports=XB()),H0.exports}var G0={exports:{}},lr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PC;function QB(){if(PC)return lr;PC=1;var t=lA();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(f,h,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:f,containerInfo:h,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return lr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,lr.createPortal=function(f,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(f,h,null,p)},lr.flushSync=function(f){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=h,r.p=p,r.d.f()}},lr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},lr.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},lr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var p=h.as,m=c(p,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,_=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:_}):p==="script"&&r.d.X(f,{crossOrigin:m,integrity:v,fetchPriority:_,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},lr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=c(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},lr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,m=c(p,h.crossOrigin);r.d.L(f,p,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},lr.preloadModule=function(f,h){if(typeof f=="string")if(h){var p=c(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},lr.requestFormReset=function(f){r.d.r(f)},lr.unstable_batchedUpdates=function(f,h){return f(h)},lr.useFormState=function(f,h,p){return l.H.useFormState(f,h,p)},lr.useFormStatus=function(){return l.H.useHostTransitionStatus()},lr.version="19.2.0",lr}var NC;function vL(){if(NC)return G0.exports;NC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),G0.exports=QB(),G0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MC;function ZB(){if(MC)return jf;MC=1;var t=YB(),e=lA(),n=vL();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,u=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(u=s.return),a=s.return;while(a)}return s.tag===3?u:null}function l(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function c(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function f(a){if(o(a)!==a)throw Error(r(188))}function h(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var u=a,d=s;;){var y=u.return;if(y===null)break;var b=y.alternate;if(b===null){if(d=y.return,d!==null){u=d;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===u)return f(y),a;if(b===d)return f(y),s;b=b.sibling}throw Error(r(188))}if(u.return!==d.return)u=y,d=b;else{for(var C=!1,$=y.child;$;){if($===u){C=!0,u=y,d=b;break}if($===d){C=!0,d=y,u=b;break}$=$.sibling}if(!C){for($=b.child;$;){if($===u){C=!0,u=b,d=y;break}if($===d){C=!0,d=b,u=y;break}$=$.sibling}if(!C)throw Error(r(189))}}if(u.alternate!==d)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:s}function p(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=p(a),s!==null)return s;a=a.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),M=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function B(a){return a===null||typeof a!="object"?null:(a=D&&a[D]||a["@@iterator"],typeof a=="function"?a:null)}var L=Symbol.for("react.client.reference");function J(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===L?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case w:return"Fragment";case I:return"Profiler";case x:return"StrictMode";case O:return"Suspense";case j:return"SuspenseList";case P:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case M:return a.displayName||"Context";case N:return(a._context.displayName||"Context")+".Consumer";case V:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case T:return s=a.displayName||null,s!==null?s:J(a.type)||"Memo";case R:s=a._payload,a=a._init;try{return J(a(s))}catch{}}return null}var Q=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},ce=[],be=-1;function F(a){return{current:a}}function W(a){0>be||(a.current=ce[be],ce[be]=null,be--)}function se(a,s){be++,ce[be]=a.current,a.current=s}var ge=F(null),_e=F(null),Ae=F(null),je=F(null);function We(a,s){switch(se(Ae,s),se(_e,a),se(ge,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?W2(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=W2(s),a=Y2(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}W(ge),se(ge,a)}function pe(){W(ge),W(_e),W(Ae)}function Le(a){a.memoizedState!==null&&se(je,a);var s=ge.current,u=Y2(s,a.type);s!==u&&(se(_e,a),se(ge,u))}function qe(a){_e.current===a&&(W(ge),W(_e)),je.current===a&&(W(je),Rf._currentValue=te)}var re,Ge;function we(a){if(re===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);re=s&&s[1]||"",Ge=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+re+a+Ge}var Se=!1;function Be(a,s){if(!a||Se)return"";Se=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(s){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(ue){var oe=ue}Reflect.construct(a,[],me)}else{try{me.call()}catch(ue){oe=ue}a.call(me.prototype)}}else{try{throw Error()}catch(ue){oe=ue}(me=a())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(ue){if(ue&&oe&&typeof ue.stack=="string")return[ue.stack,oe.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),C=b[0],$=b[1];if(C&&$){var G=C.split(`
`),ae=$.split(`
`);for(y=d=0;d<G.length&&!G[d].includes("DetermineComponentFrameRoot");)d++;for(;y<ae.length&&!ae[y].includes("DetermineComponentFrameRoot");)y++;if(d===G.length||y===ae.length)for(d=G.length-1,y=ae.length-1;1<=d&&0<=y&&G[d]!==ae[y];)y--;for(;1<=d&&0<=y;d--,y--)if(G[d]!==ae[y]){if(d!==1||y!==1)do if(d--,y--,0>y||G[d]!==ae[y]){var fe=`
`+G[d].replace(" at new "," at ");return a.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",a.displayName)),fe}while(1<=d&&0<=y);break}}}finally{Se=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?we(u):""}function Ke(a,s){switch(a.tag){case 26:case 27:case 5:return we(a.type);case 16:return we("Lazy");case 13:return a.child!==s&&s!==null?we("Suspense Fallback"):we("Suspense");case 19:return we("SuspenseList");case 0:case 15:return Be(a.type,!1);case 11:return Be(a.type.render,!1);case 1:return Be(a.type,!0);case 31:return we("Activity");default:return""}}function Ce(a){try{var s="",u=null;do s+=Ke(a,u),u=a,a=a.return;while(a);return s}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var Re=Object.prototype.hasOwnProperty,Fe=t.unstable_scheduleCallback,rt=t.unstable_cancelCallback,Nt=t.unstable_shouldYield,Jt=t.unstable_requestPaint,St=t.unstable_now,ct=t.unstable_getCurrentPriorityLevel,un=t.unstable_ImmediatePriority,ye=t.unstable_UserBlockingPriority,Te=t.unstable_NormalPriority,ft=t.unstable_LowPriority,ht=t.unstable_IdlePriority,Pe=t.log,dt=t.unstable_setDisableYieldValue,$e=null,nt=null;function _t(a){if(typeof Pe=="function"&&dt(a),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode($e,a)}catch{}}var Je=Math.clz32?Math.clz32:Wi,Dn=Math.log,On=Math.LN2;function Wi(a){return a>>>=0,a===0?32:31-(Dn(a)/On|0)|0}var ti=256,Sa=262144,yn=4194304;function ni(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ri(a,s,u){var d=a.pendingLanes;if(d===0)return 0;var y=0,b=a.suspendedLanes,C=a.pingedLanes;a=a.warmLanes;var $=d&134217727;return $!==0?(d=$&~b,d!==0?y=ni(d):(C&=$,C!==0?y=ni(C):u||(u=$&~a,u!==0&&(y=ni(u))))):($=d&~b,$!==0?y=ni($):C!==0?y=ni(C):u||(u=d&~a,u!==0&&(y=ni(u)))),y===0?0:s!==0&&s!==y&&(s&b)===0&&(b=y&-y,u=s&-s,b>=u||b===32&&(u&4194048)!==0)?s:y}function Er(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function Uc(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dl(){var a=yn;return yn<<=1,(yn&62914560)===0&&(yn=4194304),a}function ii(a){for(var s=[],u=0;31>u;u++)s.push(a);return s}function Aa(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Bc(a,s,u,d,y,b){var C=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var $=a.entanglements,G=a.expirationTimes,ae=a.hiddenUpdates;for(u=C&~u;0<u;){var fe=31-Je(u),me=1<<fe;$[fe]=0,G[fe]=-1;var oe=ae[fe];if(oe!==null)for(ae[fe]=null,fe=0;fe<oe.length;fe++){var ue=oe[fe];ue!==null&&(ue.lane&=-536870913)}u&=~me}d!==0&&Ea(a,d,0),b!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=b&~(C&~s))}function Ea(a,s,u){a.pendingLanes|=s,a.suspendedLanes&=~s;var d=31-Je(s);a.entangledLanes|=s,a.entanglements[d]=a.entanglements[d]|1073741824|u&261930}function As(a,s){var u=a.entangledLanes|=s;for(a=a.entanglements;u;){var d=31-Je(u),y=1<<d;y&s|a[d]&s&&(a[d]|=s),u&=~y}}function Es(a,s){var u=s&-s;return u=(u&42)!==0?1:Ta(u),(u&(a.suspendedLanes|s))!==0?0:u}function Ta(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Ci(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function $c(){var a=Y.p;return a!==0?a:(a=window.event,a===void 0?32:vC(a.type))}function Tr(a,s){var u=Y.p;try{return Y.p=a,s()}finally{Y.p=u}}var mr=Math.random().toString(36).slice(2),rn="__reactFiber$"+mr,pn="__reactProps$"+mr,ai="__reactContainer$"+mr,go="__reactEvents$"+mr,qc="__reactListeners$"+mr,Oa="__reactHandles$"+mr,Yi="__reactResources$"+mr,Or="__reactMarker$"+mr;function yo(a){delete a[rn],delete a[pn],delete a[go],delete a[qc],delete a[Oa]}function oi(a){var s=a[rn];if(s)return s;for(var u=a.parentNode;u;){if(s=u[ai]||u[rn]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(a=nC(a);a!==null;){if(u=a[rn])return u;a=nC(a)}return s}a=u,u=a.parentNode}return null}function gr(a){if(a=a[rn]||a[ai]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function yr(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function Cr(a){var s=a[Yi];return s||(s=a[Yi]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function cn(a){a[Or]=!0}var Ts=new Set,Os={};function si(a,s){li(a,s),li(a+"Capture",s)}function li(a,s){for(Os[a]=s,a=0;a<s.length;a++)Ts.add(s[a])}var Cs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Is={},Rs={};function Ll(a){return Re.call(Rs,a)?!0:Re.call(Is,a)?!1:Cs.test(a)?Rs[a]=!0:(Is[a]=!0,!1)}function vo(a,s,u){if(Ll(s))if(u===null)a.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var d=s.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+u)}}function vr(a,s,u){if(u===null)a.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+u)}}function vn(a,s,u,d){if(d===null)a.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(s,u,""+d)}}function Z(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ie(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Me(a,s,u){var d=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var y=d.get,b=d.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return y.call(this)},set:function(C){u=""+C,b.call(this,C)}}),Object.defineProperty(a,s,{enumerable:d.enumerable}),{getValue:function(){return u},setValue:function(C){u=""+C},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function Ne(a){if(!a._valueTracker){var s=Ie(a)?"checked":"value";a._valueTracker=Me(a,s,""+a[s])}}function yt(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var u=s.getValue(),d="";return a&&(d=Ie(a)?a.checked?"true":"false":a.value),a=d,a!==u?(s.setValue(a),!0):!1}function pt(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var At=/[\n"\\]/g;function Xt(a){return a.replace(At,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function bo(a,s,u,d,y,b,C,$){a.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?a.type=C:a.removeAttribute("type"),s!=null?C==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+Z(s)):a.value!==""+Z(s)&&(a.value=""+Z(s)):C!=="submit"&&C!=="reset"||a.removeAttribute("value"),s!=null?Ps(a,C,Z(s)):u!=null?Ps(a,C,Z(u)):d!=null&&a.removeAttribute("value"),y==null&&b!=null&&(a.defaultChecked=!!b),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?a.name=""+Z($):a.removeAttribute("name")}function Vl(a,s,u,d,y,b,C,$){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),s!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||s!=null)){Ne(a);return}u=u!=null?""+Z(u):"",s=s!=null?""+Z(s):u,$||s===a.value||(a.value=s),a.defaultValue=s}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,a.checked=$?a.checked:!!d,a.defaultChecked=!!d,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(a.name=C),Ne(a)}function Ps(a,s,u){s==="number"&&pt(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function Ii(a,s,u,d){if(a=a.options,s){s={};for(var y=0;y<u.length;y++)s["$"+u[y]]=!0;for(u=0;u<a.length;u++)y=s.hasOwnProperty("$"+a[u].value),a[u].selected!==y&&(a[u].selected=y),y&&d&&(a[u].defaultSelected=!0)}else{for(u=""+Z(u),s=null,y=0;y<a.length;y++){if(a[y].value===u){a[y].selected=!0,d&&(a[y].defaultSelected=!0);return}s!==null||a[y].disabled||(s=a[y])}s!==null&&(s.selected=!0)}}function Cd(a,s,u){if(s!=null&&(s=""+Z(s),s!==a.value&&(a.value=s),u==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=u!=null?""+Z(u):""}function _o(a,s,u,d){if(s==null){if(d!=null){if(u!=null)throw Error(r(92));if(Q(d)){if(1<d.length)throw Error(r(93));d=d[0]}u=d}u==null&&(u=""),s=u}u=Z(s),a.defaultValue=u,d=a.textContent,d===u&&d!==""&&d!==null&&(a.value=d),Ne(a)}function Ir(a,s){if(s){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=s;return}}a.textContent=s}var Id=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zc(a,s,u){var d=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":d?a.setProperty(s,u):typeof u!="number"||u===0||Id.has(s)?s==="float"?a.cssFloat=u:a[s]=(""+u).trim():a[s]=u+"px"}function Fc(a,s,u){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||s!=null&&s.hasOwnProperty(d)||(d.indexOf("--")===0?a.setProperty(d,""):d==="float"?a.cssFloat="":a[d]="");for(var y in s)d=s[y],s.hasOwnProperty(y)&&u[y]!==d&&zc(a,y,d)}else for(var b in s)s.hasOwnProperty(b)&&zc(a,b,s[b])}function Ul(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bl(a){return xo.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Ri(){}var Hc=null;function ui(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var wo=null,Xi=null;function Ns(a){var s=gr(a);if(s&&(a=s.stateNode)){var u=a[pn]||null;e:switch(a=s.stateNode,s.type){case"input":if(bo(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Xt(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var d=u[s];if(d!==a&&d.form===a.form){var y=d[pn]||null;if(!y)throw Error(r(90));bo(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(s=0;s<u.length;s++)d=u[s],d.form===a.form&&yt(d)}break e;case"textarea":Cd(a,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&Ii(a,!!u.multiple,s,!1)}}}var $l=!1;function So(a,s,u){if($l)return a(s,u);$l=!0;try{var d=a(s);return d}finally{if($l=!1,(wo!==null||Xi!==null)&&(Sp(),wo&&(s=wo,a=Xi,Xi=wo=null,Ns(s),a)))for(s=0;s<a.length;s++)Ns(a[s])}}function Pi(a,s){var u=a.stateNode;if(u===null)return null;var d=u[pn]||null;if(d===null)return null;u=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(a=a.type,d=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!d;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,s,typeof u));return u}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ms=!1;if(ci)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){Ms=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch{Ms=!1}var Qi=null,Gc=null,ks=null;function Kc(){if(ks)return ks;var a,s=Gc,u=s.length,d,y="value"in Qi?Qi.value:Qi.textContent,b=y.length;for(a=0;a<u&&s[a]===y[a];a++);var C=u-a;for(d=1;d<=C&&s[u-d]===y[b-d];d++);return ks=y.slice(a,1<d?1-d:void 0)}function js(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Ca(){return!0}function Ni(){return!1}function Zn(a){function s(u,d,y,b,C){this._reactName=u,this._targetInst=y,this.type=d,this.nativeEvent=b,this.target=C,this.currentTarget=null;for(var $ in a)a.hasOwnProperty($)&&(u=a[$],this[$]=u?u(b):b[$]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ca:Ni,this.isPropagationStopped=Ni,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ca)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ca)},persist:function(){},isPersistent:Ca}),s}var Ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zi=Zn(Ia),Ao=m({},Ia,{view:0,detail:0}),Wc=Zn(Ao),Eo,ql,Ji,zl=m({},Ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:To,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ji&&(Ji&&a.type==="mousemove"?(Eo=a.screenX-Ji.screenX,ql=a.screenY-Ji.screenY):ql=Eo=0,Ji=a),Eo)},movementY:function(a){return"movementY"in a?a.movementY:ql}}),Yc=Zn(zl),Ds=m({},zl,{dataTransfer:0}),Pd=Zn(Ds),Nd=m({},Ao,{relatedTarget:0}),Ls=Zn(Nd),Xc=m({},Ia,{animationName:0,elapsedTime:0,pseudoElement:0}),Md=Zn(Xc),Fl=m({},Ia,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),kd=Zn(Fl),jd=m({},Ia,{data:0}),ea=Zn(jd),Dd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ld={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ud(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=Vd[a])?!!s[a]:!1}function To(){return Ud}var br=m({},Ao,{key:function(a){if(a.key){var s=Dd[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=js(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Ld[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:To,charCode:function(a){return a.type==="keypress"?js(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?js(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Bd=Zn(br),$d=m({},zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ra=Zn($d),g=m({},Ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:To}),E=Zn(g),k=m({},Ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),z=Zn(k),ne=m({},zl,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),le=Zn(ne),Oe=m({},Ia,{newState:0,oldState:0}),mt=Zn(Oe),Sn=[9,13,27,32],Lt=ci&&"CompositionEvent"in window,fn=null;ci&&"documentMode"in document&&(fn=document.documentMode);var fi=ci&&"TextEvent"in window&&!fn,ta=ci&&(!Lt||fn&&8<fn&&11>=fn),Mi=" ",ki=!1;function Vs(a,s){switch(a){case"keyup":return Sn.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hl(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Gl=!1;function gU(a,s){switch(a){case"compositionend":return Hl(s);case"keypress":return s.which!==32?null:(ki=!0,Mi);case"textInput":return a=s.data,a===Mi&&ki?null:a;default:return null}}function yU(a,s){if(Gl)return a==="compositionend"||!Lt&&Vs(a,s)?(a=Kc(),ks=Gc=Qi=null,Gl=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ta&&s.locale!=="ko"?null:s.data;default:return null}}var vU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aT(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!vU[a.type]:s==="textarea"}function oT(a,s,u,d){wo?Xi?Xi.push(d):Xi=[d]:wo=d,s=Rp(s,"onChange"),0<s.length&&(u=new Zi("onChange","change",null,u,d),a.push({event:u,listeners:s}))}var Qc=null,Zc=null;function bU(a){q2(a,0)}function qd(a){var s=yr(a);if(yt(s))return a}function sT(a,s){if(a==="change")return s}var lT=!1;if(ci){var Wy;if(ci){var Yy="oninput"in document;if(!Yy){var uT=document.createElement("div");uT.setAttribute("oninput","return;"),Yy=typeof uT.oninput=="function"}Wy=Yy}else Wy=!1;lT=Wy&&(!document.documentMode||9<document.documentMode)}function cT(){Qc&&(Qc.detachEvent("onpropertychange",fT),Zc=Qc=null)}function fT(a){if(a.propertyName==="value"&&qd(Zc)){var s=[];oT(s,Zc,a,ui(a)),So(bU,s)}}function _U(a,s,u){a==="focusin"?(cT(),Qc=s,Zc=u,Qc.attachEvent("onpropertychange",fT)):a==="focusout"&&cT()}function xU(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return qd(Zc)}function wU(a,s){if(a==="click")return qd(s)}function SU(a,s){if(a==="input"||a==="change")return qd(s)}function AU(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var Ur=typeof Object.is=="function"?Object.is:AU;function Jc(a,s){if(Ur(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var u=Object.keys(a),d=Object.keys(s);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var y=u[d];if(!Re.call(s,y)||!Ur(a[y],s[y]))return!1}return!0}function hT(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function dT(a,s){var u=hT(a);a=0;for(var d;u;){if(u.nodeType===3){if(d=a+u.textContent.length,a<=s&&d>=s)return{node:u,offset:s-a};a=d}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=hT(u)}}function pT(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?pT(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function mT(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=pt(a.document);s instanceof a.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)a=s.contentWindow;else break;s=pt(a.document)}return s}function Xy(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var EU=ci&&"documentMode"in document&&11>=document.documentMode,Kl=null,Qy=null,ef=null,Zy=!1;function gT(a,s,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Zy||Kl==null||Kl!==pt(d)||(d=Kl,"selectionStart"in d&&Xy(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ef&&Jc(ef,d)||(ef=d,d=Rp(Qy,"onSelect"),0<d.length&&(s=new Zi("onSelect","select",null,s,u),a.push({event:s,listeners:d}),s.target=Kl)))}function Us(a,s){var u={};return u[a.toLowerCase()]=s.toLowerCase(),u["Webkit"+a]="webkit"+s,u["Moz"+a]="moz"+s,u}var Wl={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionrun:Us("Transition","TransitionRun"),transitionstart:Us("Transition","TransitionStart"),transitioncancel:Us("Transition","TransitionCancel"),transitionend:Us("Transition","TransitionEnd")},Jy={},yT={};ci&&(yT=document.createElement("div").style,"AnimationEvent"in window||(delete Wl.animationend.animation,delete Wl.animationiteration.animation,delete Wl.animationstart.animation),"TransitionEvent"in window||delete Wl.transitionend.transition);function Bs(a){if(Jy[a])return Jy[a];if(!Wl[a])return a;var s=Wl[a],u;for(u in s)if(s.hasOwnProperty(u)&&u in yT)return Jy[a]=s[u];return a}var vT=Bs("animationend"),bT=Bs("animationiteration"),_T=Bs("animationstart"),TU=Bs("transitionrun"),OU=Bs("transitionstart"),CU=Bs("transitioncancel"),xT=Bs("transitionend"),wT=new Map,ev="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ev.push("scrollEnd");function ji(a,s){wT.set(a,s),si(s,[a])}var zd=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},hi=[],Yl=0,tv=0;function Fd(){for(var a=Yl,s=tv=Yl=0;s<a;){var u=hi[s];hi[s++]=null;var d=hi[s];hi[s++]=null;var y=hi[s];hi[s++]=null;var b=hi[s];if(hi[s++]=null,d!==null&&y!==null){var C=d.pending;C===null?y.next=y:(y.next=C.next,C.next=y),d.pending=y}b!==0&&ST(u,y,b)}}function Hd(a,s,u,d){hi[Yl++]=a,hi[Yl++]=s,hi[Yl++]=u,hi[Yl++]=d,tv|=d,a.lanes|=d,a=a.alternate,a!==null&&(a.lanes|=d)}function nv(a,s,u,d){return Hd(a,s,u,d),Gd(a)}function $s(a,s){return Hd(a,null,null,s),Gd(a)}function ST(a,s,u){a.lanes|=u;var d=a.alternate;d!==null&&(d.lanes|=u);for(var y=!1,b=a.return;b!==null;)b.childLanes|=u,d=b.alternate,d!==null&&(d.childLanes|=u),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(y=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,y&&s!==null&&(y=31-Je(u),a=b.hiddenUpdates,d=a[y],d===null?a[y]=[s]:d.push(s),s.lane=u|536870912),b):null}function Gd(a){if(50<Sf)throw Sf=0,f0=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var Xl={};function IU(a,s,u,d){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(a,s,u,d){return new IU(a,s,u,d)}function rv(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Pa(a,s){var u=a.alternate;return u===null?(u=Br(a.tag,s,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=s,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,s=a.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function AT(a,s){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,s=u.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function Kd(a,s,u,d,y,b){var C=0;if(d=a,typeof a=="function")rv(a)&&(C=1);else if(typeof a=="string")C=kB(a,u,ge.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case P:return a=Br(31,u,s,y),a.elementType=P,a.lanes=b,a;case w:return qs(u.children,y,b,s);case x:C=8,y|=24;break;case I:return a=Br(12,u,s,y|2),a.elementType=I,a.lanes=b,a;case O:return a=Br(13,u,s,y),a.elementType=O,a.lanes=b,a;case j:return a=Br(19,u,s,y),a.elementType=j,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case M:C=10;break e;case N:C=9;break e;case V:C=11;break e;case T:C=14;break e;case R:C=16,d=null;break e}C=29,u=Error(r(130,a===null?"null":typeof a,"")),d=null}return s=Br(C,u,s,y),s.elementType=a,s.type=d,s.lanes=b,s}function qs(a,s,u,d){return a=Br(7,a,d,s),a.lanes=u,a}function iv(a,s,u){return a=Br(6,a,null,s),a.lanes=u,a}function ET(a){var s=Br(18,null,null,0);return s.stateNode=a,s}function av(a,s,u){return s=Br(4,a.children!==null?a.children:[],a.key,s),s.lanes=u,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var TT=new WeakMap;function di(a,s){if(typeof a=="object"&&a!==null){var u=TT.get(a);return u!==void 0?u:(s={value:a,source:s,stack:Ce(s)},TT.set(a,s),s)}return{value:a,source:s,stack:Ce(s)}}var Ql=[],Zl=0,Wd=null,tf=0,pi=[],mi=0,Oo=null,na=1,ra="";function Na(a,s){Ql[Zl++]=tf,Ql[Zl++]=Wd,Wd=a,tf=s}function OT(a,s,u){pi[mi++]=na,pi[mi++]=ra,pi[mi++]=Oo,Oo=a;var d=na;a=ra;var y=32-Je(d)-1;d&=~(1<<y),u+=1;var b=32-Je(s)+y;if(30<b){var C=y-y%5;b=(d&(1<<C)-1).toString(32),d>>=C,y-=C,na=1<<32-Je(s)+y|u<<y|d,ra=b+a}else na=1<<b|u<<y|d,ra=a}function ov(a){a.return!==null&&(Na(a,1),OT(a,1,0))}function sv(a){for(;a===Wd;)Wd=Ql[--Zl],Ql[Zl]=null,tf=Ql[--Zl],Ql[Zl]=null;for(;a===Oo;)Oo=pi[--mi],pi[mi]=null,ra=pi[--mi],pi[mi]=null,na=pi[--mi],pi[mi]=null}function CT(a,s){pi[mi++]=na,pi[mi++]=ra,pi[mi++]=Oo,na=s.id,ra=s.overflow,Oo=a}var Jn=null,an=null,Rt=!1,Co=null,gi=!1,lv=Error(r(519));function Io(a){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nf(di(s,a)),lv}function IT(a){var s=a.stateNode,u=a.type,d=a.memoizedProps;switch(s[rn]=a,s[pn]=d,u){case"dialog":wt("cancel",s),wt("close",s);break;case"iframe":case"object":case"embed":wt("load",s);break;case"video":case"audio":for(u=0;u<Ef.length;u++)wt(Ef[u],s);break;case"source":wt("error",s);break;case"img":case"image":case"link":wt("error",s),wt("load",s);break;case"details":wt("toggle",s);break;case"input":wt("invalid",s),Vl(s,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":wt("invalid",s);break;case"textarea":wt("invalid",s),_o(s,d.value,d.defaultValue,d.children)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||d.suppressHydrationWarning===!0||G2(s.textContent,u)?(d.popover!=null&&(wt("beforetoggle",s),wt("toggle",s)),d.onScroll!=null&&wt("scroll",s),d.onScrollEnd!=null&&wt("scrollend",s),d.onClick!=null&&(s.onclick=Ri),s=!0):s=!1,s||Io(a,!0)}function RT(a){for(Jn=a.return;Jn;)switch(Jn.tag){case 5:case 31:case 13:gi=!1;return;case 27:case 3:gi=!0;return;default:Jn=Jn.return}}function Jl(a){if(a!==Jn)return!1;if(!Rt)return RT(a),Rt=!0,!1;var s=a.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||T0(a.type,a.memoizedProps)),u=!u),u&&an&&Io(a),RT(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));an=tC(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));an=tC(a)}else s===27?(s=an,zo(a.type)?(a=P0,P0=null,an=a):an=s):an=Jn?vi(a.stateNode.nextSibling):null;return!0}function zs(){an=Jn=null,Rt=!1}function uv(){var a=Co;return a!==null&&(Mr===null?Mr=a:Mr.push.apply(Mr,a),Co=null),a}function nf(a){Co===null?Co=[a]:Co.push(a)}var cv=F(null),Fs=null,Ma=null;function Ro(a,s,u){se(cv,s._currentValue),s._currentValue=u}function ka(a){a._currentValue=cv.current,W(cv)}function fv(a,s,u){for(;a!==null;){var d=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),a===u)break;a=a.return}}function hv(a,s,u,d){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var b=y.dependencies;if(b!==null){var C=y.child;b=b.firstContext;e:for(;b!==null;){var $=b;b=y;for(var G=0;G<s.length;G++)if($.context===s[G]){b.lanes|=u,$=b.alternate,$!==null&&($.lanes|=u),fv(b.return,u,a),d||(C=null);break e}b=$.next}}else if(y.tag===18){if(C=y.return,C===null)throw Error(r(341));C.lanes|=u,b=C.alternate,b!==null&&(b.lanes|=u),fv(C,u,a),C=null}else C=y.child;if(C!==null)C.return=y;else for(C=y;C!==null;){if(C===a){C=null;break}if(y=C.sibling,y!==null){y.return=C.return,C=y;break}C=C.return}y=C}}function eu(a,s,u,d){a=null;for(var y=s,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var C=y.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var $=y.type;Ur(y.pendingProps.value,C.value)||(a!==null?a.push($):a=[$])}}else if(y===je.current){if(C=y.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(Rf):a=[Rf])}y=y.return}a!==null&&hv(s,a,u,d),s.flags|=262144}function Yd(a){for(a=a.firstContext;a!==null;){if(!Ur(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Hs(a){Fs=a,Ma=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function er(a){return PT(Fs,a)}function Xd(a,s){return Fs===null&&Hs(a),PT(a,s)}function PT(a,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},Ma===null){if(a===null)throw Error(r(308));Ma=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else Ma=Ma.next=s;return u}var RU=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(u,d){a.push(d)}};this.abort=function(){s.aborted=!0,a.forEach(function(u){return u()})}},PU=t.unstable_scheduleCallback,NU=t.unstable_NormalPriority,Cn={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dv(){return{controller:new RU,data:new Map,refCount:0}}function rf(a){a.refCount--,a.refCount===0&&PU(NU,function(){a.controller.abort()})}var af=null,pv=0,tu=0,nu=null;function MU(a,s){if(af===null){var u=af=[];pv=0,tu=y0(),nu={status:"pending",value:void 0,then:function(d){u.push(d)}}}return pv++,s.then(NT,NT),s}function NT(){if(--pv===0&&af!==null){nu!==null&&(nu.status="fulfilled");var a=af;af=null,tu=0,nu=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function kU(a,s){var u=[],d={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return a.then(function(){d.status="fulfilled",d.value=s;for(var y=0;y<u.length;y++)(0,u[y])(s)},function(y){for(d.status="rejected",d.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),d}var MT=H.S;H.S=function(a,s){g2=St(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&MU(a,s),MT!==null&&MT(a,s)};var Gs=F(null);function mv(){var a=Gs.current;return a!==null?a:Qt.pooledCache}function Qd(a,s){s===null?se(Gs,Gs.current):se(Gs,s.pool)}function kT(){var a=mv();return a===null?null:{parent:Cn._currentValue,pool:a}}var ru=Error(r(460)),gv=Error(r(474)),Zd=Error(r(542)),Jd={then:function(){}};function jT(a){return a=a.status,a==="fulfilled"||a==="rejected"}function DT(a,s,u){switch(u=a[u],u===void 0?a.push(s):u!==s&&(s.then(Ri,Ri),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,VT(a),a;default:if(typeof s.status=="string")s.then(Ri,Ri);else{if(a=Qt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(d){if(s.status==="pending"){var y=s;y.status="fulfilled",y.value=d}},function(d){if(s.status==="pending"){var y=s;y.status="rejected",y.reason=d}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,VT(a),a}throw Ws=s,ru}}function Ks(a){try{var s=a._init;return s(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Ws=u,ru):u}}var Ws=null;function LT(){if(Ws===null)throw Error(r(459));var a=Ws;return Ws=null,a}function VT(a){if(a===ru||a===Zd)throw Error(r(483))}var iu=null,of=0;function ep(a){var s=of;return of+=1,iu===null&&(iu=[]),DT(iu,a,s)}function sf(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function tp(a,s){throw s.$$typeof===v?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function UT(a){function s(ee,X){if(a){var ie=ee.deletions;ie===null?(ee.deletions=[X],ee.flags|=16):ie.push(X)}}function u(ee,X){if(!a)return null;for(;X!==null;)s(ee,X),X=X.sibling;return null}function d(ee){for(var X=new Map;ee!==null;)ee.key!==null?X.set(ee.key,ee):X.set(ee.index,ee),ee=ee.sibling;return X}function y(ee,X){return ee=Pa(ee,X),ee.index=0,ee.sibling=null,ee}function b(ee,X,ie){return ee.index=ie,a?(ie=ee.alternate,ie!==null?(ie=ie.index,ie<X?(ee.flags|=67108866,X):ie):(ee.flags|=67108866,X)):(ee.flags|=1048576,X)}function C(ee){return a&&ee.alternate===null&&(ee.flags|=67108866),ee}function $(ee,X,ie,de){return X===null||X.tag!==6?(X=iv(ie,ee.mode,de),X.return=ee,X):(X=y(X,ie),X.return=ee,X)}function G(ee,X,ie,de){var He=ie.type;return He===w?fe(ee,X,ie.props.children,de,ie.key):X!==null&&(X.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===R&&Ks(He)===X.type)?(X=y(X,ie.props),sf(X,ie),X.return=ee,X):(X=Kd(ie.type,ie.key,ie.props,null,ee.mode,de),sf(X,ie),X.return=ee,X)}function ae(ee,X,ie,de){return X===null||X.tag!==4||X.stateNode.containerInfo!==ie.containerInfo||X.stateNode.implementation!==ie.implementation?(X=av(ie,ee.mode,de),X.return=ee,X):(X=y(X,ie.children||[]),X.return=ee,X)}function fe(ee,X,ie,de,He){return X===null||X.tag!==7?(X=qs(ie,ee.mode,de,He),X.return=ee,X):(X=y(X,ie),X.return=ee,X)}function me(ee,X,ie){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return X=iv(""+X,ee.mode,ie),X.return=ee,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case _:return ie=Kd(X.type,X.key,X.props,null,ee.mode,ie),sf(ie,X),ie.return=ee,ie;case S:return X=av(X,ee.mode,ie),X.return=ee,X;case R:return X=Ks(X),me(ee,X,ie)}if(Q(X)||B(X))return X=qs(X,ee.mode,ie,null),X.return=ee,X;if(typeof X.then=="function")return me(ee,ep(X),ie);if(X.$$typeof===M)return me(ee,Xd(ee,X),ie);tp(ee,X)}return null}function oe(ee,X,ie,de){var He=X!==null?X.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return He!==null?null:$(ee,X,""+ie,de);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case _:return ie.key===He?G(ee,X,ie,de):null;case S:return ie.key===He?ae(ee,X,ie,de):null;case R:return ie=Ks(ie),oe(ee,X,ie,de)}if(Q(ie)||B(ie))return He!==null?null:fe(ee,X,ie,de,null);if(typeof ie.then=="function")return oe(ee,X,ep(ie),de);if(ie.$$typeof===M)return oe(ee,X,Xd(ee,ie),de);tp(ee,ie)}return null}function ue(ee,X,ie,de,He){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return ee=ee.get(ie)||null,$(X,ee,""+de,He);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case _:return ee=ee.get(de.key===null?ie:de.key)||null,G(X,ee,de,He);case S:return ee=ee.get(de.key===null?ie:de.key)||null,ae(X,ee,de,He);case R:return de=Ks(de),ue(ee,X,ie,de,He)}if(Q(de)||B(de))return ee=ee.get(ie)||null,fe(X,ee,de,He,null);if(typeof de.then=="function")return ue(ee,X,ie,ep(de),He);if(de.$$typeof===M)return ue(ee,X,ie,Xd(X,de),He);tp(X,de)}return null}function Ve(ee,X,ie,de){for(var He=null,Mt=null,Ue=X,vt=X=0,Tt=null;Ue!==null&&vt<ie.length;vt++){Ue.index>vt?(Tt=Ue,Ue=null):Tt=Ue.sibling;var kt=oe(ee,Ue,ie[vt],de);if(kt===null){Ue===null&&(Ue=Tt);break}a&&Ue&&kt.alternate===null&&s(ee,Ue),X=b(kt,X,vt),Mt===null?He=kt:Mt.sibling=kt,Mt=kt,Ue=Tt}if(vt===ie.length)return u(ee,Ue),Rt&&Na(ee,vt),He;if(Ue===null){for(;vt<ie.length;vt++)Ue=me(ee,ie[vt],de),Ue!==null&&(X=b(Ue,X,vt),Mt===null?He=Ue:Mt.sibling=Ue,Mt=Ue);return Rt&&Na(ee,vt),He}for(Ue=d(Ue);vt<ie.length;vt++)Tt=ue(Ue,ee,vt,ie[vt],de),Tt!==null&&(a&&Tt.alternate!==null&&Ue.delete(Tt.key===null?vt:Tt.key),X=b(Tt,X,vt),Mt===null?He=Tt:Mt.sibling=Tt,Mt=Tt);return a&&Ue.forEach(function(Wo){return s(ee,Wo)}),Rt&&Na(ee,vt),He}function Qe(ee,X,ie,de){if(ie==null)throw Error(r(151));for(var He=null,Mt=null,Ue=X,vt=X=0,Tt=null,kt=ie.next();Ue!==null&&!kt.done;vt++,kt=ie.next()){Ue.index>vt?(Tt=Ue,Ue=null):Tt=Ue.sibling;var Wo=oe(ee,Ue,kt.value,de);if(Wo===null){Ue===null&&(Ue=Tt);break}a&&Ue&&Wo.alternate===null&&s(ee,Ue),X=b(Wo,X,vt),Mt===null?He=Wo:Mt.sibling=Wo,Mt=Wo,Ue=Tt}if(kt.done)return u(ee,Ue),Rt&&Na(ee,vt),He;if(Ue===null){for(;!kt.done;vt++,kt=ie.next())kt=me(ee,kt.value,de),kt!==null&&(X=b(kt,X,vt),Mt===null?He=kt:Mt.sibling=kt,Mt=kt);return Rt&&Na(ee,vt),He}for(Ue=d(Ue);!kt.done;vt++,kt=ie.next())kt=ue(Ue,ee,vt,kt.value,de),kt!==null&&(a&&kt.alternate!==null&&Ue.delete(kt.key===null?vt:kt.key),X=b(kt,X,vt),Mt===null?He=kt:Mt.sibling=kt,Mt=kt);return a&&Ue.forEach(function(HB){return s(ee,HB)}),Rt&&Na(ee,vt),He}function Wt(ee,X,ie,de){if(typeof ie=="object"&&ie!==null&&ie.type===w&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case _:e:{for(var He=ie.key;X!==null;){if(X.key===He){if(He=ie.type,He===w){if(X.tag===7){u(ee,X.sibling),de=y(X,ie.props.children),de.return=ee,ee=de;break e}}else if(X.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===R&&Ks(He)===X.type){u(ee,X.sibling),de=y(X,ie.props),sf(de,ie),de.return=ee,ee=de;break e}u(ee,X);break}else s(ee,X);X=X.sibling}ie.type===w?(de=qs(ie.props.children,ee.mode,de,ie.key),de.return=ee,ee=de):(de=Kd(ie.type,ie.key,ie.props,null,ee.mode,de),sf(de,ie),de.return=ee,ee=de)}return C(ee);case S:e:{for(He=ie.key;X!==null;){if(X.key===He)if(X.tag===4&&X.stateNode.containerInfo===ie.containerInfo&&X.stateNode.implementation===ie.implementation){u(ee,X.sibling),de=y(X,ie.children||[]),de.return=ee,ee=de;break e}else{u(ee,X);break}else s(ee,X);X=X.sibling}de=av(ie,ee.mode,de),de.return=ee,ee=de}return C(ee);case R:return ie=Ks(ie),Wt(ee,X,ie,de)}if(Q(ie))return Ve(ee,X,ie,de);if(B(ie)){if(He=B(ie),typeof He!="function")throw Error(r(150));return ie=He.call(ie),Qe(ee,X,ie,de)}if(typeof ie.then=="function")return Wt(ee,X,ep(ie),de);if(ie.$$typeof===M)return Wt(ee,X,Xd(ee,ie),de);tp(ee,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint"?(ie=""+ie,X!==null&&X.tag===6?(u(ee,X.sibling),de=y(X,ie),de.return=ee,ee=de):(u(ee,X),de=iv(ie,ee.mode,de),de.return=ee,ee=de),C(ee)):u(ee,X)}return function(ee,X,ie,de){try{of=0;var He=Wt(ee,X,ie,de);return iu=null,He}catch(Ue){if(Ue===ru||Ue===Zd)throw Ue;var Mt=Br(29,Ue,null,ee.mode);return Mt.lanes=de,Mt.return=ee,Mt}finally{}}}var Ys=UT(!0),BT=UT(!1),Po=!1;function yv(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vv(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function No(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Mo(a,s,u){var d=a.updateQueue;if(d===null)return null;if(d=d.shared,(Vt&2)!==0){var y=d.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),d.pending=s,s=Gd(a),ST(a,null,u),s}return Hd(a,d,s,u),Gd(a)}function lf(a,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var d=s.lanes;d&=a.pendingLanes,u|=d,s.lanes=u,As(a,u)}}function bv(a,s){var u=a.updateQueue,d=a.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var y=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var C={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?y=b=C:b=b.next=C,u=u.next}while(u!==null);b===null?y=b=s:b=b.next=s}else y=b=s;u={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=s:a.next=s,u.lastBaseUpdate=s}var _v=!1;function uf(){if(_v){var a=nu;if(a!==null)throw a}}function cf(a,s,u,d){_v=!1;var y=a.updateQueue;Po=!1;var b=y.firstBaseUpdate,C=y.lastBaseUpdate,$=y.shared.pending;if($!==null){y.shared.pending=null;var G=$,ae=G.next;G.next=null,C===null?b=ae:C.next=ae,C=G;var fe=a.alternate;fe!==null&&(fe=fe.updateQueue,$=fe.lastBaseUpdate,$!==C&&($===null?fe.firstBaseUpdate=ae:$.next=ae,fe.lastBaseUpdate=G))}if(b!==null){var me=y.baseState;C=0,fe=ae=G=null,$=b;do{var oe=$.lane&-536870913,ue=oe!==$.lane;if(ue?(Et&oe)===oe:(d&oe)===oe){oe!==0&&oe===tu&&(_v=!0),fe!==null&&(fe=fe.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var Ve=a,Qe=$;oe=s;var Wt=u;switch(Qe.tag){case 1:if(Ve=Qe.payload,typeof Ve=="function"){me=Ve.call(Wt,me,oe);break e}me=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=Qe.payload,oe=typeof Ve=="function"?Ve.call(Wt,me,oe):Ve,oe==null)break e;me=m({},me,oe);break e;case 2:Po=!0}}oe=$.callback,oe!==null&&(a.flags|=64,ue&&(a.flags|=8192),ue=y.callbacks,ue===null?y.callbacks=[oe]:ue.push(oe))}else ue={lane:oe,tag:$.tag,payload:$.payload,callback:$.callback,next:null},fe===null?(ae=fe=ue,G=me):fe=fe.next=ue,C|=oe;if($=$.next,$===null){if($=y.shared.pending,$===null)break;ue=$,$=ue.next,ue.next=null,y.lastBaseUpdate=ue,y.shared.pending=null}}while(!0);fe===null&&(G=me),y.baseState=G,y.firstBaseUpdate=ae,y.lastBaseUpdate=fe,b===null&&(y.shared.lanes=0),Vo|=C,a.lanes=C,a.memoizedState=me}}function $T(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function qT(a,s){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)$T(u[a],s)}var au=F(null),np=F(0);function zT(a,s){a=za,se(np,a),se(au,s),za=a|s.baseLanes}function xv(){se(np,za),se(au,au.current)}function wv(){za=np.current,W(au),W(np)}var $r=F(null),yi=null;function ko(a){var s=a.alternate;se(An,An.current&1),se($r,a),yi===null&&(s===null||au.current!==null||s.memoizedState!==null)&&(yi=a)}function Sv(a){se(An,An.current),se($r,a),yi===null&&(yi=a)}function FT(a){a.tag===22?(se(An,An.current),se($r,a),yi===null&&(yi=a)):jo()}function jo(){se(An,An.current),se($r,$r.current)}function qr(a){W($r),yi===a&&(yi=null),W(An)}var An=F(0);function rp(a){for(var s=a;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||I0(u)||R0(u)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ja=0,gt=null,Gt=null,In=null,ip=!1,ou=!1,Xs=!1,ap=0,ff=0,su=null,jU=0;function bn(){throw Error(r(321))}function Av(a,s){if(s===null)return!1;for(var u=0;u<s.length&&u<a.length;u++)if(!Ur(a[u],s[u]))return!1;return!0}function Ev(a,s,u,d,y,b){return ja=b,gt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,H.H=a===null||a.memoizedState===null?OO:Bv,Xs=!1,b=u(d,y),Xs=!1,ou&&(b=GT(s,u,d,y)),HT(a),b}function HT(a){H.H=pf;var s=Gt!==null&&Gt.next!==null;if(ja=0,In=Gt=gt=null,ip=!1,ff=0,su=null,s)throw Error(r(300));a===null||Rn||(a=a.dependencies,a!==null&&Yd(a)&&(Rn=!0))}function GT(a,s,u,d){gt=a;var y=0;do{if(ou&&(su=null),ff=0,ou=!1,25<=y)throw Error(r(301));if(y+=1,In=Gt=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}H.H=CO,b=s(u,d)}while(ou);return b}function DU(){var a=H.H,s=a.useState()[0];return s=typeof s.then=="function"?hf(s):s,a=a.useState()[0],(Gt!==null?Gt.memoizedState:null)!==a&&(gt.flags|=1024),s}function Tv(){var a=ap!==0;return ap=0,a}function Ov(a,s,u){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~u}function Cv(a){if(ip){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}ip=!1}ja=0,In=Gt=gt=null,ou=!1,ff=ap=0,su=null}function _r(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?gt.memoizedState=In=a:In=In.next=a,In}function En(){if(Gt===null){var a=gt.alternate;a=a!==null?a.memoizedState:null}else a=Gt.next;var s=In===null?gt.memoizedState:In.next;if(s!==null)In=s,Gt=a;else{if(a===null)throw gt.alternate===null?Error(r(467)):Error(r(310));Gt=a,a={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},In===null?gt.memoizedState=In=a:In=In.next=a}return In}function op(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hf(a){var s=ff;return ff+=1,su===null&&(su=[]),a=DT(su,a,s),s=gt,(In===null?s.memoizedState:In.next)===null&&(s=s.alternate,H.H=s===null||s.memoizedState===null?OO:Bv),a}function sp(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return hf(a);if(a.$$typeof===M)return er(a)}throw Error(r(438,String(a)))}function Iv(a){var s=null,u=gt.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var d=gt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(s={data:d.data.map(function(y){return y.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=op(),gt.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(a),d=0;d<a;d++)u[d]=U;return s.index++,u}function Da(a,s){return typeof s=="function"?s(a):s}function lp(a){var s=En();return Rv(s,Gt,a)}function Rv(a,s,u){var d=a.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=u;var y=a.baseQueue,b=d.pending;if(b!==null){if(y!==null){var C=y.next;y.next=b.next,b.next=C}s.baseQueue=y=b,d.pending=null}if(b=a.baseState,y===null)a.memoizedState=b;else{s=y.next;var $=C=null,G=null,ae=s,fe=!1;do{var me=ae.lane&-536870913;if(me!==ae.lane?(Et&me)===me:(ja&me)===me){var oe=ae.revertLane;if(oe===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null}),me===tu&&(fe=!0);else if((ja&oe)===oe){ae=ae.next,oe===tu&&(fe=!0);continue}else me={lane:0,revertLane:ae.revertLane,gesture:null,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},G===null?($=G=me,C=b):G=G.next=me,gt.lanes|=oe,Vo|=oe;me=ae.action,Xs&&u(b,me),b=ae.hasEagerState?ae.eagerState:u(b,me)}else oe={lane:me,revertLane:ae.revertLane,gesture:ae.gesture,action:ae.action,hasEagerState:ae.hasEagerState,eagerState:ae.eagerState,next:null},G===null?($=G=oe,C=b):G=G.next=oe,gt.lanes|=me,Vo|=me;ae=ae.next}while(ae!==null&&ae!==s);if(G===null?C=b:G.next=$,!Ur(b,a.memoizedState)&&(Rn=!0,fe&&(u=nu,u!==null)))throw u;a.memoizedState=b,a.baseState=C,a.baseQueue=G,d.lastRenderedState=b}return y===null&&(d.lanes=0),[a.memoizedState,d.dispatch]}function Pv(a){var s=En(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var d=u.dispatch,y=u.pending,b=s.memoizedState;if(y!==null){u.pending=null;var C=y=y.next;do b=a(b,C.action),C=C.next;while(C!==y);Ur(b,s.memoizedState)||(Rn=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),u.lastRenderedState=b}return[b,d]}function KT(a,s,u){var d=gt,y=En(),b=Rt;if(b){if(u===void 0)throw Error(r(407));u=u()}else u=s();var C=!Ur((Gt||y).memoizedState,u);if(C&&(y.memoizedState=u,Rn=!0),y=y.queue,kv(XT.bind(null,d,y,a),[a]),y.getSnapshot!==s||C||In!==null&&In.memoizedState.tag&1){if(d.flags|=2048,lu(9,{destroy:void 0},YT.bind(null,d,y,u,s),null),Qt===null)throw Error(r(349));b||(ja&127)!==0||WT(d,s,u)}return u}function WT(a,s,u){a.flags|=16384,a={getSnapshot:s,value:u},s=gt.updateQueue,s===null?(s=op(),gt.updateQueue=s,s.stores=[a]):(u=s.stores,u===null?s.stores=[a]:u.push(a))}function YT(a,s,u,d){s.value=u,s.getSnapshot=d,QT(s)&&ZT(a)}function XT(a,s,u){return u(function(){QT(s)&&ZT(a)})}function QT(a){var s=a.getSnapshot;a=a.value;try{var u=s();return!Ur(a,u)}catch{return!0}}function ZT(a){var s=$s(a,2);s!==null&&kr(s,a,2)}function Nv(a){var s=_r();if(typeof a=="function"){var u=a;if(a=u(),Xs){_t(!0);try{u()}finally{_t(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:a},s}function JT(a,s,u,d){return a.baseState=u,Rv(a,Gt,typeof d=="function"?d:Da)}function LU(a,s,u,d,y){if(fp(a))throw Error(r(485));if(a=s.action,a!==null){var b={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){b.listeners.push(C)}};H.T!==null?u(!0):b.isTransition=!1,d(b),u=s.pending,u===null?(b.next=s.pending=b,eO(s,b)):(b.next=u.next,s.pending=u.next=b)}}function eO(a,s){var u=s.action,d=s.payload,y=a.state;if(s.isTransition){var b=H.T,C={};H.T=C;try{var $=u(y,d),G=H.S;G!==null&&G(C,$),tO(a,s,$)}catch(ae){Mv(a,s,ae)}finally{b!==null&&C.types!==null&&(b.types=C.types),H.T=b}}else try{b=u(y,d),tO(a,s,b)}catch(ae){Mv(a,s,ae)}}function tO(a,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){nO(a,s,d)},function(d){return Mv(a,s,d)}):nO(a,s,u)}function nO(a,s,u){s.status="fulfilled",s.value=u,rO(s),a.state=u,s=a.pending,s!==null&&(u=s.next,u===s?a.pending=null:(u=u.next,s.next=u,eO(a,u)))}function Mv(a,s,u){var d=a.pending;if(a.pending=null,d!==null){d=d.next;do s.status="rejected",s.reason=u,rO(s),s=s.next;while(s!==d)}a.action=null}function rO(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function iO(a,s){return s}function aO(a,s){if(Rt){var u=Qt.formState;if(u!==null){e:{var d=gt;if(Rt){if(an){t:{for(var y=an,b=gi;y.nodeType!==8;){if(!b){y=null;break t}if(y=vi(y.nextSibling),y===null){y=null;break t}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){an=vi(y.nextSibling),d=y.data==="F!";break e}}Io(d)}d=!1}d&&(s=u[0])}}return u=_r(),u.memoizedState=u.baseState=s,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iO,lastRenderedState:s},u.queue=d,u=AO.bind(null,gt,d),d.dispatch=u,d=Nv(!1),b=Uv.bind(null,gt,!1,d.queue),d=_r(),y={state:s,dispatch:null,action:a,pending:null},d.queue=y,u=LU.bind(null,gt,y,b,u),y.dispatch=u,d.memoizedState=a,[s,u,!1]}function oO(a){var s=En();return sO(s,Gt,a)}function sO(a,s,u){if(s=Rv(a,s,iO)[0],a=lp(Da)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var d=hf(s)}catch(C){throw C===ru?Zd:C}else d=s;s=En();var y=s.queue,b=y.dispatch;return u!==s.memoizedState&&(gt.flags|=2048,lu(9,{destroy:void 0},VU.bind(null,y,u),null)),[d,b,a]}function VU(a,s){a.action=s}function lO(a){var s=En(),u=Gt;if(u!==null)return sO(s,u,a);En(),s=s.memoizedState,u=En();var d=u.queue.dispatch;return u.memoizedState=a,[s,d,!1]}function lu(a,s,u,d){return a={tag:a,create:u,deps:d,inst:s,next:null},s=gt.updateQueue,s===null&&(s=op(),gt.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=a.next=a:(d=u.next,u.next=a,a.next=d,s.lastEffect=a),a}function uO(){return En().memoizedState}function up(a,s,u,d){var y=_r();gt.flags|=a,y.memoizedState=lu(1|s,{destroy:void 0},u,d===void 0?null:d)}function cp(a,s,u,d){var y=En();d=d===void 0?null:d;var b=y.memoizedState.inst;Gt!==null&&d!==null&&Av(d,Gt.memoizedState.deps)?y.memoizedState=lu(s,b,u,d):(gt.flags|=a,y.memoizedState=lu(1|s,b,u,d))}function cO(a,s){up(8390656,8,a,s)}function kv(a,s){cp(2048,8,a,s)}function UU(a){gt.flags|=4;var s=gt.updateQueue;if(s===null)s=op(),gt.updateQueue=s,s.events=[a];else{var u=s.events;u===null?s.events=[a]:u.push(a)}}function fO(a){var s=En().memoizedState;return UU({ref:s,nextImpl:a}),function(){if((Vt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function hO(a,s){return cp(4,2,a,s)}function dO(a,s){return cp(4,4,a,s)}function pO(a,s){if(typeof s=="function"){a=a();var u=s(a);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function mO(a,s,u){u=u!=null?u.concat([a]):null,cp(4,4,pO.bind(null,s,a),u)}function jv(){}function gO(a,s){var u=En();s=s===void 0?null:s;var d=u.memoizedState;return s!==null&&Av(s,d[1])?d[0]:(u.memoizedState=[a,s],a)}function yO(a,s){var u=En();s=s===void 0?null:s;var d=u.memoizedState;if(s!==null&&Av(s,d[1]))return d[0];if(d=a(),Xs){_t(!0);try{a()}finally{_t(!1)}}return u.memoizedState=[d,s],d}function Dv(a,s,u){return u===void 0||(ja&1073741824)!==0&&(Et&261930)===0?a.memoizedState=s:(a.memoizedState=u,a=v2(),gt.lanes|=a,Vo|=a,u)}function vO(a,s,u,d){return Ur(u,s)?u:au.current!==null?(a=Dv(a,u,d),Ur(a,s)||(Rn=!0),a):(ja&42)===0||(ja&1073741824)!==0&&(Et&261930)===0?(Rn=!0,a.memoizedState=u):(a=v2(),gt.lanes|=a,Vo|=a,s)}function bO(a,s,u,d,y){var b=Y.p;Y.p=b!==0&&8>b?b:8;var C=H.T,$={};H.T=$,Uv(a,!1,s,u);try{var G=y(),ae=H.S;if(ae!==null&&ae($,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var fe=kU(G,d);df(a,s,fe,Hr(a))}else df(a,s,d,Hr(a))}catch(me){df(a,s,{then:function(){},status:"rejected",reason:me},Hr())}finally{Y.p=b,C!==null&&$.types!==null&&(C.types=$.types),H.T=C}}function BU(){}function Lv(a,s,u,d){if(a.tag!==5)throw Error(r(476));var y=_O(a).queue;bO(a,y,s,te,u===null?BU:function(){return xO(a),u(d)})}function _O(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:te},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:u},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function xO(a){var s=_O(a);s.next===null&&(s=a.alternate.memoizedState),df(a,s.next.queue,{},Hr())}function Vv(){return er(Rf)}function wO(){return En().memoizedState}function SO(){return En().memoizedState}function $U(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var u=Hr();a=No(u);var d=Mo(s,a,u);d!==null&&(kr(d,s,u),lf(d,s,u)),s={cache:dv()},a.payload=s;return}s=s.return}}function qU(a,s,u){var d=Hr();u={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},fp(a)?EO(s,u):(u=nv(a,s,u,d),u!==null&&(kr(u,a,d),TO(u,s,d)))}function AO(a,s,u){var d=Hr();df(a,s,u,d)}function df(a,s,u,d){var y={lane:d,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(fp(a))EO(s,y);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var C=s.lastRenderedState,$=b(C,u);if(y.hasEagerState=!0,y.eagerState=$,Ur($,C))return Hd(a,s,y,0),Qt===null&&Fd(),!1}catch{}finally{}if(u=nv(a,s,y,d),u!==null)return kr(u,a,d),TO(u,s,d),!0}return!1}function Uv(a,s,u,d){if(d={lane:2,revertLane:y0(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},fp(a)){if(s)throw Error(r(479))}else s=nv(a,u,d,2),s!==null&&kr(s,a,2)}function fp(a){var s=a.alternate;return a===gt||s!==null&&s===gt}function EO(a,s){ou=ip=!0;var u=a.pending;u===null?s.next=s:(s.next=u.next,u.next=s),a.pending=s}function TO(a,s,u){if((u&4194048)!==0){var d=s.lanes;d&=a.pendingLanes,u|=d,s.lanes=u,As(a,u)}}var pf={readContext:er,use:sp,useCallback:bn,useContext:bn,useEffect:bn,useImperativeHandle:bn,useLayoutEffect:bn,useInsertionEffect:bn,useMemo:bn,useReducer:bn,useRef:bn,useState:bn,useDebugValue:bn,useDeferredValue:bn,useTransition:bn,useSyncExternalStore:bn,useId:bn,useHostTransitionStatus:bn,useFormState:bn,useActionState:bn,useOptimistic:bn,useMemoCache:bn,useCacheRefresh:bn};pf.useEffectEvent=bn;var OO={readContext:er,use:sp,useCallback:function(a,s){return _r().memoizedState=[a,s===void 0?null:s],a},useContext:er,useEffect:cO,useImperativeHandle:function(a,s,u){u=u!=null?u.concat([a]):null,up(4194308,4,pO.bind(null,s,a),u)},useLayoutEffect:function(a,s){return up(4194308,4,a,s)},useInsertionEffect:function(a,s){up(4,2,a,s)},useMemo:function(a,s){var u=_r();s=s===void 0?null:s;var d=a();if(Xs){_t(!0);try{a()}finally{_t(!1)}}return u.memoizedState=[d,s],d},useReducer:function(a,s,u){var d=_r();if(u!==void 0){var y=u(s);if(Xs){_t(!0);try{u(s)}finally{_t(!1)}}}else y=s;return d.memoizedState=d.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},d.queue=a,a=a.dispatch=qU.bind(null,gt,a),[d.memoizedState,a]},useRef:function(a){var s=_r();return a={current:a},s.memoizedState=a},useState:function(a){a=Nv(a);var s=a.queue,u=AO.bind(null,gt,s);return s.dispatch=u,[a.memoizedState,u]},useDebugValue:jv,useDeferredValue:function(a,s){var u=_r();return Dv(u,a,s)},useTransition:function(){var a=Nv(!1);return a=bO.bind(null,gt,a.queue,!0,!1),_r().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,u){var d=gt,y=_r();if(Rt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=s(),Qt===null)throw Error(r(349));(Et&127)!==0||WT(d,s,u)}y.memoizedState=u;var b={value:u,getSnapshot:s};return y.queue=b,cO(XT.bind(null,d,b,a),[a]),d.flags|=2048,lu(9,{destroy:void 0},YT.bind(null,d,b,u,s),null),u},useId:function(){var a=_r(),s=Qt.identifierPrefix;if(Rt){var u=ra,d=na;u=(d&~(1<<32-Je(d)-1)).toString(32)+u,s="_"+s+"R_"+u,u=ap++,0<u&&(s+="H"+u.toString(32)),s+="_"}else u=jU++,s="_"+s+"r_"+u.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:Vv,useFormState:aO,useActionState:aO,useOptimistic:function(a){var s=_r();s.memoizedState=s.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=Uv.bind(null,gt,!0,u),u.dispatch=s,[a,s]},useMemoCache:Iv,useCacheRefresh:function(){return _r().memoizedState=$U.bind(null,gt)},useEffectEvent:function(a){var s=_r(),u={impl:a};return s.memoizedState=u,function(){if((Vt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Bv={readContext:er,use:sp,useCallback:gO,useContext:er,useEffect:kv,useImperativeHandle:mO,useInsertionEffect:hO,useLayoutEffect:dO,useMemo:yO,useReducer:lp,useRef:uO,useState:function(){return lp(Da)},useDebugValue:jv,useDeferredValue:function(a,s){var u=En();return vO(u,Gt.memoizedState,a,s)},useTransition:function(){var a=lp(Da)[0],s=En().memoizedState;return[typeof a=="boolean"?a:hf(a),s]},useSyncExternalStore:KT,useId:wO,useHostTransitionStatus:Vv,useFormState:oO,useActionState:oO,useOptimistic:function(a,s){var u=En();return JT(u,Gt,a,s)},useMemoCache:Iv,useCacheRefresh:SO};Bv.useEffectEvent=fO;var CO={readContext:er,use:sp,useCallback:gO,useContext:er,useEffect:kv,useImperativeHandle:mO,useInsertionEffect:hO,useLayoutEffect:dO,useMemo:yO,useReducer:Pv,useRef:uO,useState:function(){return Pv(Da)},useDebugValue:jv,useDeferredValue:function(a,s){var u=En();return Gt===null?Dv(u,a,s):vO(u,Gt.memoizedState,a,s)},useTransition:function(){var a=Pv(Da)[0],s=En().memoizedState;return[typeof a=="boolean"?a:hf(a),s]},useSyncExternalStore:KT,useId:wO,useHostTransitionStatus:Vv,useFormState:lO,useActionState:lO,useOptimistic:function(a,s){var u=En();return Gt!==null?JT(u,Gt,a,s):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:Iv,useCacheRefresh:SO};CO.useEffectEvent=fO;function $v(a,s,u,d){s=a.memoizedState,u=u(d,s),u=u==null?s:m({},s,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var qv={enqueueSetState:function(a,s,u){a=a._reactInternals;var d=Hr(),y=No(d);y.payload=s,u!=null&&(y.callback=u),s=Mo(a,y,d),s!==null&&(kr(s,a,d),lf(s,a,d))},enqueueReplaceState:function(a,s,u){a=a._reactInternals;var d=Hr(),y=No(d);y.tag=1,y.payload=s,u!=null&&(y.callback=u),s=Mo(a,y,d),s!==null&&(kr(s,a,d),lf(s,a,d))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var u=Hr(),d=No(u);d.tag=2,s!=null&&(d.callback=s),s=Mo(a,d,u),s!==null&&(kr(s,a,u),lf(s,a,u))}};function IO(a,s,u,d,y,b,C){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(d,b,C):s.prototype&&s.prototype.isPureReactComponent?!Jc(u,d)||!Jc(y,b):!0}function RO(a,s,u,d){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,d),s.state!==a&&qv.enqueueReplaceState(s,s.state,null)}function Qs(a,s){var u=s;if("ref"in s){u={};for(var d in s)d!=="ref"&&(u[d]=s[d])}if(a=a.defaultProps){u===s&&(u=m({},u));for(var y in a)u[y]===void 0&&(u[y]=a[y])}return u}function PO(a){zd(a)}function NO(a){console.error(a)}function MO(a){zd(a)}function hp(a,s){try{var u=a.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(d){setTimeout(function(){throw d})}}function kO(a,s,u){try{var d=a.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function zv(a,s,u){return u=No(u),u.tag=3,u.payload={element:null},u.callback=function(){hp(a,s)},u}function jO(a){return a=No(a),a.tag=3,a}function DO(a,s,u,d){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var b=d.value;a.payload=function(){return y(b)},a.callback=function(){kO(s,u,d)}}var C=u.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(a.callback=function(){kO(s,u,d),typeof y!="function"&&(Uo===null?Uo=new Set([this]):Uo.add(this));var $=d.stack;this.componentDidCatch(d.value,{componentStack:$!==null?$:""})})}function zU(a,s,u,d,y){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(s=u.alternate,s!==null&&eu(s,u,y,!0),u=$r.current,u!==null){switch(u.tag){case 31:case 13:return yi===null?Ap():u.alternate===null&&_n===0&&(_n=3),u.flags&=-257,u.flags|=65536,u.lanes=y,d===Jd?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([d]):s.add(d),p0(a,d,y)),!1;case 22:return u.flags|=65536,d===Jd?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([d]):u.add(d)),p0(a,d,y)),!1}throw Error(r(435,u.tag))}return p0(a,d,y),Ap(),!1}if(Rt)return s=$r.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=y,d!==lv&&(a=Error(r(422),{cause:d}),nf(di(a,u)))):(d!==lv&&(s=Error(r(423),{cause:d}),nf(di(s,u))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,d=di(d,u),y=zv(a.stateNode,d,y),bv(a,y),_n!==4&&(_n=2)),!1;var b=Error(r(520),{cause:d});if(b=di(b,u),wf===null?wf=[b]:wf.push(b),_n!==4&&(_n=2),s===null)return!0;d=di(d,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,a=y&-y,u.lanes|=a,a=zv(u.stateNode,d,a),bv(u,a),!1;case 1:if(s=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Uo===null||!Uo.has(b))))return u.flags|=65536,y&=-y,u.lanes|=y,y=jO(y),DO(y,a,u,d),bv(u,y),!1}u=u.return}while(u!==null);return!1}var Fv=Error(r(461)),Rn=!1;function tr(a,s,u,d){s.child=a===null?BT(s,null,u,d):Ys(s,a.child,u,d)}function LO(a,s,u,d,y){u=u.render;var b=s.ref;if("ref"in d){var C={};for(var $ in d)$!=="ref"&&(C[$]=d[$])}else C=d;return Hs(s),d=Ev(a,s,u,C,b,y),$=Tv(),a!==null&&!Rn?(Ov(a,s,y),La(a,s,y)):(Rt&&$&&ov(s),s.flags|=1,tr(a,s,d,y),s.child)}function VO(a,s,u,d,y){if(a===null){var b=u.type;return typeof b=="function"&&!rv(b)&&b.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=b,UO(a,s,b,d,y)):(a=Kd(u.type,null,d,s,s.mode,y),a.ref=s.ref,a.return=s,s.child=a)}if(b=a.child,!Zv(a,y)){var C=b.memoizedProps;if(u=u.compare,u=u!==null?u:Jc,u(C,d)&&a.ref===s.ref)return La(a,s,y)}return s.flags|=1,a=Pa(b,d),a.ref=s.ref,a.return=s,s.child=a}function UO(a,s,u,d,y){if(a!==null){var b=a.memoizedProps;if(Jc(b,d)&&a.ref===s.ref)if(Rn=!1,s.pendingProps=d=b,Zv(a,y))(a.flags&131072)!==0&&(Rn=!0);else return s.lanes=a.lanes,La(a,s,y)}return Hv(a,s,u,d,y)}function BO(a,s,u,d){var y=d.children,b=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((s.flags&128)!==0){if(b=b!==null?b.baseLanes|u:u,a!==null){for(d=s.child=a.child,y=0;d!==null;)y=y|d.lanes|d.childLanes,d=d.sibling;d=y&~b}else d=0,s.child=null;return $O(a,s,b,u,d)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&Qd(s,b!==null?b.cachePool:null),b!==null?zT(s,b):xv(),FT(s);else return d=s.lanes=536870912,$O(a,s,b!==null?b.baseLanes|u:u,u,d)}else b!==null?(Qd(s,b.cachePool),zT(s,b),jo(),s.memoizedState=null):(a!==null&&Qd(s,null),xv(),jo());return tr(a,s,y,u),s.child}function mf(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function $O(a,s,u,d,y){var b=mv();return b=b===null?null:{parent:Cn._currentValue,pool:b},s.memoizedState={baseLanes:u,cachePool:b},a!==null&&Qd(s,null),xv(),FT(s),a!==null&&eu(a,s,d,!0),s.childLanes=y,null}function dp(a,s){return s=mp({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function qO(a,s,u){return Ys(s,a.child,null,u),a=dp(s,s.pendingProps),a.flags|=2,qr(s),s.memoizedState=null,a}function FU(a,s,u){var d=s.pendingProps,y=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(Rt){if(d.mode==="hidden")return a=dp(s,d),s.lanes=536870912,mf(null,a);if(Sv(s),(a=an)?(a=eC(a,gi),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Oo!==null?{id:na,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},u=ET(a),u.return=s,s.child=u,Jn=s,an=null)):a=null,a===null)throw Io(s);return s.lanes=536870912,null}return dp(s,d)}var b=a.memoizedState;if(b!==null){var C=b.dehydrated;if(Sv(s),y)if(s.flags&256)s.flags&=-257,s=qO(a,s,u);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(r(558));else if(Rn||eu(a,s,u,!1),y=(u&a.childLanes)!==0,Rn||y){if(d=Qt,d!==null&&(C=Es(d,u),C!==0&&C!==b.retryLane))throw b.retryLane=C,$s(a,C),kr(d,a,C),Fv;Ap(),s=qO(a,s,u)}else a=b.treeContext,an=vi(C.nextSibling),Jn=s,Rt=!0,Co=null,gi=!1,a!==null&&CT(s,a),s=dp(s,d),s.flags|=4096;return s}return a=Pa(a.child,{mode:d.mode,children:d.children}),a.ref=s.ref,s.child=a,a.return=s,a}function pp(a,s){var u=s.ref;if(u===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(s.flags|=4194816)}}function Hv(a,s,u,d,y){return Hs(s),u=Ev(a,s,u,d,void 0,y),d=Tv(),a!==null&&!Rn?(Ov(a,s,y),La(a,s,y)):(Rt&&d&&ov(s),s.flags|=1,tr(a,s,u,y),s.child)}function zO(a,s,u,d,y,b){return Hs(s),s.updateQueue=null,u=GT(s,d,u,y),HT(a),d=Tv(),a!==null&&!Rn?(Ov(a,s,b),La(a,s,b)):(Rt&&d&&ov(s),s.flags|=1,tr(a,s,u,b),s.child)}function FO(a,s,u,d,y){if(Hs(s),s.stateNode===null){var b=Xl,C=u.contextType;typeof C=="object"&&C!==null&&(b=er(C)),b=new u(d,b),s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=qv,s.stateNode=b,b._reactInternals=s,b=s.stateNode,b.props=d,b.state=s.memoizedState,b.refs={},yv(s),C=u.contextType,b.context=typeof C=="object"&&C!==null?er(C):Xl,b.state=s.memoizedState,C=u.getDerivedStateFromProps,typeof C=="function"&&($v(s,u,C,d),b.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(C=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),C!==b.state&&qv.enqueueReplaceState(b,b.state,null),cf(s,d,b,y),uf(),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308),d=!0}else if(a===null){b=s.stateNode;var $=s.memoizedProps,G=Qs(u,$);b.props=G;var ae=b.context,fe=u.contextType;C=Xl,typeof fe=="object"&&fe!==null&&(C=er(fe));var me=u.getDerivedStateFromProps;fe=typeof me=="function"||typeof b.getSnapshotBeforeUpdate=="function",$=s.pendingProps!==$,fe||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||($||ae!==C)&&RO(s,b,d,C),Po=!1;var oe=s.memoizedState;b.state=oe,cf(s,d,b,y),uf(),ae=s.memoizedState,$||oe!==ae||Po?(typeof me=="function"&&($v(s,u,me,d),ae=s.memoizedState),(G=Po||IO(s,u,G,d,oe,ae,C))?(fe||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=ae),b.props=d,b.state=ae,b.context=C,d=G):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{b=s.stateNode,vv(a,s),C=s.memoizedProps,fe=Qs(u,C),b.props=fe,me=s.pendingProps,oe=b.context,ae=u.contextType,G=Xl,typeof ae=="object"&&ae!==null&&(G=er(ae)),$=u.getDerivedStateFromProps,(ae=typeof $=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(C!==me||oe!==G)&&RO(s,b,d,G),Po=!1,oe=s.memoizedState,b.state=oe,cf(s,d,b,y),uf();var ue=s.memoizedState;C!==me||oe!==ue||Po||a!==null&&a.dependencies!==null&&Yd(a.dependencies)?(typeof $=="function"&&($v(s,u,$,d),ue=s.memoizedState),(fe=Po||IO(s,u,fe,d,oe,ue,G)||a!==null&&a.dependencies!==null&&Yd(a.dependencies))?(ae||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,ue,G),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,ue,G)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||C===a.memoizedProps&&oe===a.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===a.memoizedProps&&oe===a.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=ue),b.props=d,b.state=ue,b.context=G,d=fe):(typeof b.componentDidUpdate!="function"||C===a.memoizedProps&&oe===a.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===a.memoizedProps&&oe===a.memoizedState||(s.flags|=1024),d=!1)}return b=d,pp(a,s),d=(s.flags&128)!==0,b||d?(b=s.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:b.render(),s.flags|=1,a!==null&&d?(s.child=Ys(s,a.child,null,y),s.child=Ys(s,null,u,y)):tr(a,s,u,y),s.memoizedState=b.state,a=s.child):a=La(a,s,y),a}function HO(a,s,u,d){return zs(),s.flags|=256,tr(a,s,u,d),s.child}var Gv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kv(a){return{baseLanes:a,cachePool:kT()}}function Wv(a,s,u){return a=a!==null?a.childLanes&~u:0,s&&(a|=Fr),a}function GO(a,s,u){var d=s.pendingProps,y=!1,b=(s.flags&128)!==0,C;if((C=b)||(C=a!==null&&a.memoizedState===null?!1:(An.current&2)!==0),C&&(y=!0,s.flags&=-129),C=(s.flags&32)!==0,s.flags&=-33,a===null){if(Rt){if(y?ko(s):jo(),(a=an)?(a=eC(a,gi),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:Oo!==null?{id:na,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},u=ET(a),u.return=s,s.child=u,Jn=s,an=null)):a=null,a===null)throw Io(s);return R0(a)?s.lanes=32:s.lanes=536870912,null}var $=d.children;return d=d.fallback,y?(jo(),y=s.mode,$=mp({mode:"hidden",children:$},y),d=qs(d,y,u,null),$.return=s,d.return=s,$.sibling=d,s.child=$,d=s.child,d.memoizedState=Kv(u),d.childLanes=Wv(a,C,u),s.memoizedState=Gv,mf(null,d)):(ko(s),Yv(s,$))}var G=a.memoizedState;if(G!==null&&($=G.dehydrated,$!==null)){if(b)s.flags&256?(ko(s),s.flags&=-257,s=Xv(a,s,u)):s.memoizedState!==null?(jo(),s.child=a.child,s.flags|=128,s=null):(jo(),$=d.fallback,y=s.mode,d=mp({mode:"visible",children:d.children},y),$=qs($,y,u,null),$.flags|=2,d.return=s,$.return=s,d.sibling=$,s.child=d,Ys(s,a.child,null,u),d=s.child,d.memoizedState=Kv(u),d.childLanes=Wv(a,C,u),s.memoizedState=Gv,s=mf(null,d));else if(ko(s),R0($)){if(C=$.nextSibling&&$.nextSibling.dataset,C)var ae=C.dgst;C=ae,d=Error(r(419)),d.stack="",d.digest=C,nf({value:d,source:null,stack:null}),s=Xv(a,s,u)}else if(Rn||eu(a,s,u,!1),C=(u&a.childLanes)!==0,Rn||C){if(C=Qt,C!==null&&(d=Es(C,u),d!==0&&d!==G.retryLane))throw G.retryLane=d,$s(a,d),kr(C,a,d),Fv;I0($)||Ap(),s=Xv(a,s,u)}else I0($)?(s.flags|=192,s.child=a.child,s=null):(a=G.treeContext,an=vi($.nextSibling),Jn=s,Rt=!0,Co=null,gi=!1,a!==null&&CT(s,a),s=Yv(s,d.children),s.flags|=4096);return s}return y?(jo(),$=d.fallback,y=s.mode,G=a.child,ae=G.sibling,d=Pa(G,{mode:"hidden",children:d.children}),d.subtreeFlags=G.subtreeFlags&65011712,ae!==null?$=Pa(ae,$):($=qs($,y,u,null),$.flags|=2),$.return=s,d.return=s,d.sibling=$,s.child=d,mf(null,d),d=s.child,$=a.child.memoizedState,$===null?$=Kv(u):(y=$.cachePool,y!==null?(G=Cn._currentValue,y=y.parent!==G?{parent:G,pool:G}:y):y=kT(),$={baseLanes:$.baseLanes|u,cachePool:y}),d.memoizedState=$,d.childLanes=Wv(a,C,u),s.memoizedState=Gv,mf(a.child,d)):(ko(s),u=a.child,a=u.sibling,u=Pa(u,{mode:"visible",children:d.children}),u.return=s,u.sibling=null,a!==null&&(C=s.deletions,C===null?(s.deletions=[a],s.flags|=16):C.push(a)),s.child=u,s.memoizedState=null,u)}function Yv(a,s){return s=mp({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function mp(a,s){return a=Br(22,a,null,s),a.lanes=0,a}function Xv(a,s,u){return Ys(s,a.child,null,u),a=Yv(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function KO(a,s,u){a.lanes|=s;var d=a.alternate;d!==null&&(d.lanes|=s),fv(a.return,s,u)}function Qv(a,s,u,d,y,b){var C=a.memoizedState;C===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:y,treeForkCount:b}:(C.isBackwards=s,C.rendering=null,C.renderingStartTime=0,C.last=d,C.tail=u,C.tailMode=y,C.treeForkCount=b)}function WO(a,s,u){var d=s.pendingProps,y=d.revealOrder,b=d.tail;d=d.children;var C=An.current,$=(C&2)!==0;if($?(C=C&1|2,s.flags|=128):C&=1,se(An,C),tr(a,s,d,u),d=Rt?tf:0,!$&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&KO(a,u,s);else if(a.tag===19)KO(a,u,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(u=s.child,y=null;u!==null;)a=u.alternate,a!==null&&rp(a)===null&&(y=u),u=u.sibling;u=y,u===null?(y=s.child,s.child=null):(y=u.sibling,u.sibling=null),Qv(s,!1,y,u,b,d);break;case"backwards":case"unstable_legacy-backwards":for(u=null,y=s.child,s.child=null;y!==null;){if(a=y.alternate,a!==null&&rp(a)===null){s.child=y;break}a=y.sibling,y.sibling=u,u=y,y=a}Qv(s,!0,u,null,b,d);break;case"together":Qv(s,!1,null,null,void 0,d);break;default:s.memoizedState=null}return s.child}function La(a,s,u){if(a!==null&&(s.dependencies=a.dependencies),Vo|=s.lanes,(u&s.childLanes)===0)if(a!==null){if(eu(a,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,u=Pa(a,a.pendingProps),s.child=u,u.return=s;a.sibling!==null;)a=a.sibling,u=u.sibling=Pa(a,a.pendingProps),u.return=s;u.sibling=null}return s.child}function Zv(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&Yd(a)))}function HU(a,s,u){switch(s.tag){case 3:We(s,s.stateNode.containerInfo),Ro(s,Cn,a.memoizedState.cache),zs();break;case 27:case 5:Le(s);break;case 4:We(s,s.stateNode.containerInfo);break;case 10:Ro(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Sv(s),null;break;case 13:var d=s.memoizedState;if(d!==null)return d.dehydrated!==null?(ko(s),s.flags|=128,null):(u&s.child.childLanes)!==0?GO(a,s,u):(ko(s),a=La(a,s,u),a!==null?a.sibling:null);ko(s);break;case 19:var y=(a.flags&128)!==0;if(d=(u&s.childLanes)!==0,d||(eu(a,s,u,!1),d=(u&s.childLanes)!==0),y){if(d)return WO(a,s,u);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),se(An,An.current),d)break;return null;case 22:return s.lanes=0,BO(a,s,u,s.pendingProps);case 24:Ro(s,Cn,a.memoizedState.cache)}return La(a,s,u)}function YO(a,s,u){if(a!==null)if(a.memoizedProps!==s.pendingProps)Rn=!0;else{if(!Zv(a,u)&&(s.flags&128)===0)return Rn=!1,HU(a,s,u);Rn=(a.flags&131072)!==0}else Rn=!1,Rt&&(s.flags&1048576)!==0&&OT(s,tf,s.index);switch(s.lanes=0,s.tag){case 16:e:{var d=s.pendingProps;if(a=Ks(s.elementType),s.type=a,typeof a=="function")rv(a)?(d=Qs(a,d),s.tag=1,s=FO(null,s,a,d,u)):(s.tag=0,s=Hv(null,s,a,d,u));else{if(a!=null){var y=a.$$typeof;if(y===V){s.tag=11,s=LO(null,s,a,d,u);break e}else if(y===T){s.tag=14,s=VO(null,s,a,d,u);break e}}throw s=J(a)||a,Error(r(306,s,""))}}return s;case 0:return Hv(a,s,s.type,s.pendingProps,u);case 1:return d=s.type,y=Qs(d,s.pendingProps),FO(a,s,d,y,u);case 3:e:{if(We(s,s.stateNode.containerInfo),a===null)throw Error(r(387));d=s.pendingProps;var b=s.memoizedState;y=b.element,vv(a,s),cf(s,d,null,u);var C=s.memoizedState;if(d=C.cache,Ro(s,Cn,d),d!==b.cache&&hv(s,[Cn],u,!0),uf(),d=C.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:C.cache},s.updateQueue.baseState=b,s.memoizedState=b,s.flags&256){s=HO(a,s,d,u);break e}else if(d!==y){y=di(Error(r(424)),s),nf(y),s=HO(a,s,d,u);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(an=vi(a.firstChild),Jn=s,Rt=!0,Co=null,gi=!0,u=BT(s,null,d,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(zs(),d===y){s=La(a,s,u);break e}tr(a,s,d,u)}s=s.child}return s;case 26:return pp(a,s),a===null?(u=oC(s.type,null,s.pendingProps,null))?s.memoizedState=u:Rt||(u=s.type,a=s.pendingProps,d=Pp(Ae.current).createElement(u),d[rn]=s,d[pn]=a,nr(d,u,a),cn(d),s.stateNode=d):s.memoizedState=oC(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return Le(s),a===null&&Rt&&(d=s.stateNode=rC(s.type,s.pendingProps,Ae.current),Jn=s,gi=!0,y=an,zo(s.type)?(P0=y,an=vi(d.firstChild)):an=y),tr(a,s,s.pendingProps.children,u),pp(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&Rt&&((y=d=an)&&(d=xB(d,s.type,s.pendingProps,gi),d!==null?(s.stateNode=d,Jn=s,an=vi(d.firstChild),gi=!1,y=!0):y=!1),y||Io(s)),Le(s),y=s.type,b=s.pendingProps,C=a!==null?a.memoizedProps:null,d=b.children,T0(y,b)?d=null:C!==null&&T0(y,C)&&(s.flags|=32),s.memoizedState!==null&&(y=Ev(a,s,DU,null,null,u),Rf._currentValue=y),pp(a,s),tr(a,s,d,u),s.child;case 6:return a===null&&Rt&&((a=u=an)&&(u=wB(u,s.pendingProps,gi),u!==null?(s.stateNode=u,Jn=s,an=null,a=!0):a=!1),a||Io(s)),null;case 13:return GO(a,s,u);case 4:return We(s,s.stateNode.containerInfo),d=s.pendingProps,a===null?s.child=Ys(s,null,d,u):tr(a,s,d,u),s.child;case 11:return LO(a,s,s.type,s.pendingProps,u);case 7:return tr(a,s,s.pendingProps,u),s.child;case 8:return tr(a,s,s.pendingProps.children,u),s.child;case 12:return tr(a,s,s.pendingProps.children,u),s.child;case 10:return d=s.pendingProps,Ro(s,s.type,d.value),tr(a,s,d.children,u),s.child;case 9:return y=s.type._context,d=s.pendingProps.children,Hs(s),y=er(y),d=d(y),s.flags|=1,tr(a,s,d,u),s.child;case 14:return VO(a,s,s.type,s.pendingProps,u);case 15:return UO(a,s,s.type,s.pendingProps,u);case 19:return WO(a,s,u);case 31:return FU(a,s,u);case 22:return BO(a,s,u,s.pendingProps);case 24:return Hs(s),d=er(Cn),a===null?(y=mv(),y===null&&(y=Qt,b=dv(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=u),y=b),s.memoizedState={parent:d,cache:y},yv(s),Ro(s,Cn,y)):((a.lanes&u)!==0&&(vv(a,s),cf(s,null,null,u),uf()),y=a.memoizedState,b=s.memoizedState,y.parent!==d?(y={parent:d,cache:d},s.memoizedState=y,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=y),Ro(s,Cn,d)):(d=b.cache,Ro(s,Cn,d),d!==y.cache&&hv(s,[Cn],u,!0))),tr(a,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Va(a){a.flags|=4}function Jv(a,s,u,d,y){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(w2())a.flags|=8192;else throw Ws=Jd,gv}else a.flags&=-16777217}function XO(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!fC(s))if(w2())a.flags|=8192;else throw Ws=Jd,gv}function gp(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?Dl():536870912,a.lanes|=s,hu|=s)}function gf(a,s){if(!Rt)switch(a.tailMode){case"hidden":s=a.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:d.sibling=null}}function on(a){var s=a.alternate!==null&&a.alternate.child===a.child,u=0,d=0;if(s)for(var y=a.child;y!==null;)u|=y.lanes|y.childLanes,d|=y.subtreeFlags&65011712,d|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)u|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=d,a.childLanes=u,s}function GU(a,s,u){var d=s.pendingProps;switch(sv(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(s),null;case 1:return on(s),null;case 3:return u=s.stateNode,d=null,a!==null&&(d=a.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),ka(Cn),pe(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(Jl(s)?Va(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,uv())),on(s),null;case 26:var y=s.type,b=s.memoizedState;return a===null?(Va(s),b!==null?(on(s),XO(s,b)):(on(s),Jv(s,y,null,d,u))):b?b!==a.memoizedState?(Va(s),on(s),XO(s,b)):(on(s),s.flags&=-16777217):(a=a.memoizedProps,a!==d&&Va(s),on(s),Jv(s,y,a,d,u)),null;case 27:if(qe(s),u=Ae.current,y=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==d&&Va(s);else{if(!d){if(s.stateNode===null)throw Error(r(166));return on(s),null}a=ge.current,Jl(s)?IT(s):(a=rC(y,d,u),s.stateNode=a,Va(s))}return on(s),null;case 5:if(qe(s),y=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==d&&Va(s);else{if(!d){if(s.stateNode===null)throw Error(r(166));return on(s),null}if(b=ge.current,Jl(s))IT(s);else{var C=Pp(Ae.current);switch(b){case 1:b=C.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:b=C.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":b=C.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":b=C.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":b=C.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof d.is=="string"?C.createElement("select",{is:d.is}):C.createElement("select"),d.multiple?b.multiple=!0:d.size&&(b.size=d.size);break;default:b=typeof d.is=="string"?C.createElement(y,{is:d.is}):C.createElement(y)}}b[rn]=s,b[pn]=d;e:for(C=s.child;C!==null;){if(C.tag===5||C.tag===6)b.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===s)break e;for(;C.sibling===null;){if(C.return===null||C.return===s)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}s.stateNode=b;e:switch(nr(b,y,d),y){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Va(s)}}return on(s),Jv(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,u),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==d&&Va(s);else{if(typeof d!="string"&&s.stateNode===null)throw Error(r(166));if(a=Ae.current,Jl(s)){if(a=s.stateNode,u=s.memoizedProps,d=null,y=Jn,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}a[rn]=s,a=!!(a.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||G2(a.nodeValue,u)),a||Io(s,!0)}else a=Pp(a).createTextNode(d),a[rn]=s,s.stateNode=a}return on(s),null;case 31:if(u=s.memoizedState,a===null||a.memoizedState!==null){if(d=Jl(s),u!==null){if(a===null){if(!d)throw Error(r(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[rn]=s}else zs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;on(s),a=!1}else u=uv(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return s.flags&256?(qr(s),s):(qr(s),null);if((s.flags&128)!==0)throw Error(r(558))}return on(s),null;case 13:if(d=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=Jl(s),d!==null&&d.dehydrated!==null){if(a===null){if(!y)throw Error(r(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[rn]=s}else zs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;on(s),y=!1}else y=uv(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return s.flags&256?(qr(s),s):(qr(s),null)}return qr(s),(s.flags&128)!==0?(s.lanes=u,s):(u=d!==null,a=a!==null&&a.memoizedState!==null,u&&(d=s.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool),b=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==y&&(d.flags|=2048)),u!==a&&u&&(s.child.flags|=8192),gp(s,s.updateQueue),on(s),null);case 4:return pe(),a===null&&x0(s.stateNode.containerInfo),on(s),null;case 10:return ka(s.type),on(s),null;case 19:if(W(An),d=s.memoizedState,d===null)return on(s),null;if(y=(s.flags&128)!==0,b=d.rendering,b===null)if(y)gf(d,!1);else{if(_n!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(b=rp(a),b!==null){for(s.flags|=128,gf(d,!1),a=b.updateQueue,s.updateQueue=a,gp(s,a),s.subtreeFlags=0,a=u,u=s.child;u!==null;)AT(u,a),u=u.sibling;return se(An,An.current&1|2),Rt&&Na(s,d.treeForkCount),s.child}a=a.sibling}d.tail!==null&&St()>xp&&(s.flags|=128,y=!0,gf(d,!1),s.lanes=4194304)}else{if(!y)if(a=rp(b),a!==null){if(s.flags|=128,y=!0,a=a.updateQueue,s.updateQueue=a,gp(s,a),gf(d,!0),d.tail===null&&d.tailMode==="hidden"&&!b.alternate&&!Rt)return on(s),null}else 2*St()-d.renderingStartTime>xp&&u!==536870912&&(s.flags|=128,y=!0,gf(d,!1),s.lanes=4194304);d.isBackwards?(b.sibling=s.child,s.child=b):(a=d.last,a!==null?a.sibling=b:s.child=b,d.last=b)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=St(),a.sibling=null,u=An.current,se(An,y?u&1|2:u&1),Rt&&Na(s,d.treeForkCount),a):(on(s),null);case 22:case 23:return qr(s),wv(),d=s.memoizedState!==null,a!==null?a.memoizedState!==null!==d&&(s.flags|=8192):d&&(s.flags|=8192),d?(u&536870912)!==0&&(s.flags&128)===0&&(on(s),s.subtreeFlags&6&&(s.flags|=8192)):on(s),u=s.updateQueue,u!==null&&gp(s,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==u&&(s.flags|=2048),a!==null&&W(Gs),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),ka(Cn),on(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function KU(a,s){switch(sv(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return ka(Cn),pe(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return qe(s),null;case 31:if(s.memoizedState!==null){if(qr(s),s.alternate===null)throw Error(r(340));zs()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if(qr(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));zs()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return W(An),null;case 4:return pe(),null;case 10:return ka(s.type),null;case 22:case 23:return qr(s),wv(),a!==null&&W(Gs),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return ka(Cn),null;case 25:return null;default:return null}}function QO(a,s){switch(sv(s),s.tag){case 3:ka(Cn),pe();break;case 26:case 27:case 5:qe(s);break;case 4:pe();break;case 31:s.memoizedState!==null&&qr(s);break;case 13:qr(s);break;case 19:W(An);break;case 10:ka(s.type);break;case 22:case 23:qr(s),wv(),a!==null&&W(Gs);break;case 24:ka(Cn)}}function yf(a,s){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var y=d.next;u=y;do{if((u.tag&a)===a){d=void 0;var b=u.create,C=u.inst;d=b(),C.destroy=d}u=u.next}while(u!==y)}}catch($){Ft(s,s.return,$)}}function Do(a,s,u){try{var d=s.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var b=y.next;d=b;do{if((d.tag&a)===a){var C=d.inst,$=C.destroy;if($!==void 0){C.destroy=void 0,y=s;var G=u,ae=$;try{ae()}catch(fe){Ft(y,G,fe)}}}d=d.next}while(d!==b)}}catch(fe){Ft(s,s.return,fe)}}function ZO(a){var s=a.updateQueue;if(s!==null){var u=a.stateNode;try{qT(s,u)}catch(d){Ft(a,a.return,d)}}}function JO(a,s,u){u.props=Qs(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(d){Ft(a,s,d)}}function vf(a,s){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var d=a.stateNode;break;case 30:d=a.stateNode;break;default:d=a.stateNode}typeof u=="function"?a.refCleanup=u(d):u.current=d}}catch(y){Ft(a,s,y)}}function ia(a,s){var u=a.ref,d=a.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(y){Ft(a,s,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){Ft(a,s,y)}else u.current=null}function e2(a){var s=a.type,u=a.memoizedProps,d=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break e;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(y){Ft(a,a.return,y)}}function e0(a,s,u){try{var d=a.stateNode;mB(d,a.type,u,s),d[pn]=s}catch(y){Ft(a,a.return,y)}}function t2(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&zo(a.type)||a.tag===4}function t0(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||t2(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&zo(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function n0(a,s,u){var d=a.tag;if(d===5||d===6)a=a.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(a),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=Ri));else if(d!==4&&(d===27&&zo(a.type)&&(u=a.stateNode,s=null),a=a.child,a!==null))for(n0(a,s,u),a=a.sibling;a!==null;)n0(a,s,u),a=a.sibling}function yp(a,s,u){var d=a.tag;if(d===5||d===6)a=a.stateNode,s?u.insertBefore(a,s):u.appendChild(a);else if(d!==4&&(d===27&&zo(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(yp(a,s,u),a=a.sibling;a!==null;)yp(a,s,u),a=a.sibling}function n2(a){var s=a.stateNode,u=a.memoizedProps;try{for(var d=a.type,y=s.attributes;y.length;)s.removeAttributeNode(y[0]);nr(s,d,u),s[rn]=a,s[pn]=u}catch(b){Ft(a,a.return,b)}}var Ua=!1,Pn=!1,r0=!1,r2=typeof WeakSet=="function"?WeakSet:Set,Kn=null;function WU(a,s){if(a=a.containerInfo,A0=Vp,a=mT(a),Xy(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var y=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var C=0,$=-1,G=-1,ae=0,fe=0,me=a,oe=null;t:for(;;){for(var ue;me!==u||y!==0&&me.nodeType!==3||($=C+y),me!==b||d!==0&&me.nodeType!==3||(G=C+d),me.nodeType===3&&(C+=me.nodeValue.length),(ue=me.firstChild)!==null;)oe=me,me=ue;for(;;){if(me===a)break t;if(oe===u&&++ae===y&&($=C),oe===b&&++fe===d&&(G=C),(ue=me.nextSibling)!==null)break;me=oe,oe=me.parentNode}me=ue}u=$===-1||G===-1?null:{start:$,end:G}}else u=null}u=u||{start:0,end:0}}else u=null;for(E0={focusedElem:a,selectionRange:u},Vp=!1,Kn=s;Kn!==null;)if(s=Kn,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,Kn=a;else for(;Kn!==null;){switch(s=Kn,b=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)y=a[u],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,u=s,y=b.memoizedProps,b=b.memoizedState,d=u.stateNode;try{var Ve=Qs(u.type,y);a=d.getSnapshotBeforeUpdate(Ve,b),d.__reactInternalSnapshotBeforeUpdate=a}catch(Qe){Ft(u,u.return,Qe)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,u=a.nodeType,u===9)C0(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":C0(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,Kn=a;break}Kn=s.return}}function i2(a,s,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:$a(a,u),d&4&&yf(5,u);break;case 1:if($a(a,u),d&4)if(a=u.stateNode,s===null)try{a.componentDidMount()}catch(C){Ft(u,u.return,C)}else{var y=Qs(u.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(y,s,a.__reactInternalSnapshotBeforeUpdate)}catch(C){Ft(u,u.return,C)}}d&64&&ZO(u),d&512&&vf(u,u.return);break;case 3:if($a(a,u),d&64&&(a=u.updateQueue,a!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{qT(a,s)}catch(C){Ft(u,u.return,C)}}break;case 27:s===null&&d&4&&n2(u);case 26:case 5:$a(a,u),s===null&&d&4&&e2(u),d&512&&vf(u,u.return);break;case 12:$a(a,u);break;case 31:$a(a,u),d&4&&s2(a,u);break;case 13:$a(a,u),d&4&&l2(a,u),d&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=rB.bind(null,u),SB(a,u))));break;case 22:if(d=u.memoizedState!==null||Ua,!d){s=s!==null&&s.memoizedState!==null||Pn,y=Ua;var b=Pn;Ua=d,(Pn=s)&&!b?qa(a,u,(u.subtreeFlags&8772)!==0):$a(a,u),Ua=y,Pn=b}break;case 30:break;default:$a(a,u)}}function a2(a){var s=a.alternate;s!==null&&(a.alternate=null,a2(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&yo(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var hn=null,Rr=!1;function Ba(a,s,u){for(u=u.child;u!==null;)o2(a,s,u),u=u.sibling}function o2(a,s,u){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount($e,u)}catch{}switch(u.tag){case 26:Pn||ia(u,s),Ba(a,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Pn||ia(u,s);var d=hn,y=Rr;zo(u.type)&&(hn=u.stateNode,Rr=!1),Ba(a,s,u),Of(u.stateNode),hn=d,Rr=y;break;case 5:Pn||ia(u,s);case 6:if(d=hn,y=Rr,hn=null,Ba(a,s,u),hn=d,Rr=y,hn!==null)if(Rr)try{(hn.nodeType===9?hn.body:hn.nodeName==="HTML"?hn.ownerDocument.body:hn).removeChild(u.stateNode)}catch(b){Ft(u,s,b)}else try{hn.removeChild(u.stateNode)}catch(b){Ft(u,s,b)}break;case 18:hn!==null&&(Rr?(a=hn,Z2(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),_u(a)):Z2(hn,u.stateNode));break;case 4:d=hn,y=Rr,hn=u.stateNode.containerInfo,Rr=!0,Ba(a,s,u),hn=d,Rr=y;break;case 0:case 11:case 14:case 15:Do(2,u,s),Pn||Do(4,u,s),Ba(a,s,u);break;case 1:Pn||(ia(u,s),d=u.stateNode,typeof d.componentWillUnmount=="function"&&JO(u,s,d)),Ba(a,s,u);break;case 21:Ba(a,s,u);break;case 22:Pn=(d=Pn)||u.memoizedState!==null,Ba(a,s,u),Pn=d;break;default:Ba(a,s,u)}}function s2(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{_u(a)}catch(u){Ft(s,s.return,u)}}}function l2(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{_u(a)}catch(u){Ft(s,s.return,u)}}function YU(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new r2),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new r2),s;default:throw Error(r(435,a.tag))}}function vp(a,s){var u=YU(a);s.forEach(function(d){if(!u.has(d)){u.add(d);var y=iB.bind(null,a,d);d.then(y,y)}})}function Pr(a,s){var u=s.deletions;if(u!==null)for(var d=0;d<u.length;d++){var y=u[d],b=a,C=s,$=C;e:for(;$!==null;){switch($.tag){case 27:if(zo($.type)){hn=$.stateNode,Rr=!1;break e}break;case 5:hn=$.stateNode,Rr=!1;break e;case 3:case 4:hn=$.stateNode.containerInfo,Rr=!0;break e}$=$.return}if(hn===null)throw Error(r(160));o2(b,C,y),hn=null,Rr=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)u2(s,a),s=s.sibling}var Di=null;function u2(a,s){var u=a.alternate,d=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Pr(s,a),Nr(a),d&4&&(Do(3,a,a.return),yf(3,a),Do(5,a,a.return));break;case 1:Pr(s,a),Nr(a),d&512&&(Pn||u===null||ia(u,u.return)),d&64&&Ua&&(a=a.updateQueue,a!==null&&(d=a.callbacks,d!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var y=Di;if(Pr(s,a),Nr(a),d&512&&(Pn||u===null||ia(u,u.return)),d&4){var b=u!==null?u.memoizedState:null;if(d=a.memoizedState,u===null)if(d===null)if(a.stateNode===null){e:{d=a.type,u=a.memoizedProps,y=y.ownerDocument||y;t:switch(d){case"title":b=y.getElementsByTagName("title")[0],(!b||b[Or]||b[rn]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(d),y.head.insertBefore(b,y.querySelector("head > title"))),nr(b,d,u),b[rn]=a,cn(b),d=b;break e;case"link":var C=uC("link","href",y).get(d+(u.href||""));if(C){for(var $=0;$<C.length;$++)if(b=C[$],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){C.splice($,1);break t}}b=y.createElement(d),nr(b,d,u),y.head.appendChild(b);break;case"meta":if(C=uC("meta","content",y).get(d+(u.content||""))){for($=0;$<C.length;$++)if(b=C[$],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){C.splice($,1);break t}}b=y.createElement(d),nr(b,d,u),y.head.appendChild(b);break;default:throw Error(r(468,d))}b[rn]=a,cn(b),d=b}a.stateNode=d}else cC(y,a.type,a.stateNode);else a.stateNode=lC(y,d,a.memoizedProps);else b!==d?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,d===null?cC(y,a.type,a.stateNode):lC(y,d,a.memoizedProps)):d===null&&a.stateNode!==null&&e0(a,a.memoizedProps,u.memoizedProps)}break;case 27:Pr(s,a),Nr(a),d&512&&(Pn||u===null||ia(u,u.return)),u!==null&&d&4&&e0(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Pr(s,a),Nr(a),d&512&&(Pn||u===null||ia(u,u.return)),a.flags&32){y=a.stateNode;try{Ir(y,"")}catch(Ve){Ft(a,a.return,Ve)}}d&4&&a.stateNode!=null&&(y=a.memoizedProps,e0(a,y,u!==null?u.memoizedProps:y)),d&1024&&(r0=!0);break;case 6:if(Pr(s,a),Nr(a),d&4){if(a.stateNode===null)throw Error(r(162));d=a.memoizedProps,u=a.stateNode;try{u.nodeValue=d}catch(Ve){Ft(a,a.return,Ve)}}break;case 3:if(kp=null,y=Di,Di=Np(s.containerInfo),Pr(s,a),Di=y,Nr(a),d&4&&u!==null&&u.memoizedState.isDehydrated)try{_u(s.containerInfo)}catch(Ve){Ft(a,a.return,Ve)}r0&&(r0=!1,c2(a));break;case 4:d=Di,Di=Np(a.stateNode.containerInfo),Pr(s,a),Nr(a),Di=d;break;case 12:Pr(s,a),Nr(a);break;case 31:Pr(s,a),Nr(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,vp(a,d)));break;case 13:Pr(s,a),Nr(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(_p=St()),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,vp(a,d)));break;case 22:y=a.memoizedState!==null;var G=u!==null&&u.memoizedState!==null,ae=Ua,fe=Pn;if(Ua=ae||y,Pn=fe||G,Pr(s,a),Pn=fe,Ua=ae,Nr(a),d&8192)e:for(s=a.stateNode,s._visibility=y?s._visibility&-2:s._visibility|1,y&&(u===null||G||Ua||Pn||Zs(a)),u=null,s=a;;){if(s.tag===5||s.tag===26){if(u===null){G=u=s;try{if(b=G.stateNode,y)C=b.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{$=G.stateNode;var me=G.memoizedProps.style,oe=me!=null&&me.hasOwnProperty("display")?me.display:null;$.style.display=oe==null||typeof oe=="boolean"?"":(""+oe).trim()}}catch(Ve){Ft(G,G.return,Ve)}}}else if(s.tag===6){if(u===null){G=s;try{G.stateNode.nodeValue=y?"":G.memoizedProps}catch(Ve){Ft(G,G.return,Ve)}}}else if(s.tag===18){if(u===null){G=s;try{var ue=G.stateNode;y?J2(ue,!0):J2(G.stateNode,!1)}catch(Ve){Ft(G,G.return,Ve)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}d&4&&(d=a.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,vp(a,u))));break;case 19:Pr(s,a),Nr(a),d&4&&(d=a.updateQueue,d!==null&&(a.updateQueue=null,vp(a,d)));break;case 30:break;case 21:break;default:Pr(s,a),Nr(a)}}function Nr(a){var s=a.flags;if(s&2){try{for(var u,d=a.return;d!==null;){if(t2(d)){u=d;break}d=d.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var y=u.stateNode,b=t0(a);yp(a,b,y);break;case 5:var C=u.stateNode;u.flags&32&&(Ir(C,""),u.flags&=-33);var $=t0(a);yp(a,$,C);break;case 3:case 4:var G=u.stateNode.containerInfo,ae=t0(a);n0(a,ae,G);break;default:throw Error(r(161))}}catch(fe){Ft(a,a.return,fe)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function c2(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;c2(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function $a(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)i2(a,s.alternate,s),s=s.sibling}function Zs(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:Do(4,s,s.return),Zs(s);break;case 1:ia(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&JO(s,s.return,u),Zs(s);break;case 27:Of(s.stateNode);case 26:case 5:ia(s,s.return),Zs(s);break;case 22:s.memoizedState===null&&Zs(s);break;case 30:Zs(s);break;default:Zs(s)}a=a.sibling}}function qa(a,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var d=s.alternate,y=a,b=s,C=b.flags;switch(b.tag){case 0:case 11:case 15:qa(y,b,u),yf(4,b);break;case 1:if(qa(y,b,u),d=b,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ae){Ft(d,d.return,ae)}if(d=b,y=d.updateQueue,y!==null){var $=d.stateNode;try{var G=y.shared.hiddenCallbacks;if(G!==null)for(y.shared.hiddenCallbacks=null,y=0;y<G.length;y++)$T(G[y],$)}catch(ae){Ft(d,d.return,ae)}}u&&C&64&&ZO(b),vf(b,b.return);break;case 27:n2(b);case 26:case 5:qa(y,b,u),u&&d===null&&C&4&&e2(b),vf(b,b.return);break;case 12:qa(y,b,u);break;case 31:qa(y,b,u),u&&C&4&&s2(y,b);break;case 13:qa(y,b,u),u&&C&4&&l2(y,b);break;case 22:b.memoizedState===null&&qa(y,b,u),vf(b,b.return);break;case 30:break;default:qa(y,b,u)}s=s.sibling}}function i0(a,s){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&rf(u))}function a0(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&rf(a))}function Li(a,s,u,d){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)f2(a,s,u,d),s=s.sibling}function f2(a,s,u,d){var y=s.flags;switch(s.tag){case 0:case 11:case 15:Li(a,s,u,d),y&2048&&yf(9,s);break;case 1:Li(a,s,u,d);break;case 3:Li(a,s,u,d),y&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&rf(a)));break;case 12:if(y&2048){Li(a,s,u,d),a=s.stateNode;try{var b=s.memoizedProps,C=b.id,$=b.onPostCommit;typeof $=="function"&&$(C,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(G){Ft(s,s.return,G)}}else Li(a,s,u,d);break;case 31:Li(a,s,u,d);break;case 13:Li(a,s,u,d);break;case 23:break;case 22:b=s.stateNode,C=s.alternate,s.memoizedState!==null?b._visibility&2?Li(a,s,u,d):bf(a,s):b._visibility&2?Li(a,s,u,d):(b._visibility|=2,uu(a,s,u,d,(s.subtreeFlags&10256)!==0||!1)),y&2048&&i0(C,s);break;case 24:Li(a,s,u,d),y&2048&&a0(s.alternate,s);break;default:Li(a,s,u,d)}}function uu(a,s,u,d,y){for(y=y&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var b=a,C=s,$=u,G=d,ae=C.flags;switch(C.tag){case 0:case 11:case 15:uu(b,C,$,G,y),yf(8,C);break;case 23:break;case 22:var fe=C.stateNode;C.memoizedState!==null?fe._visibility&2?uu(b,C,$,G,y):bf(b,C):(fe._visibility|=2,uu(b,C,$,G,y)),y&&ae&2048&&i0(C.alternate,C);break;case 24:uu(b,C,$,G,y),y&&ae&2048&&a0(C.alternate,C);break;default:uu(b,C,$,G,y)}s=s.sibling}}function bf(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=a,d=s,y=d.flags;switch(d.tag){case 22:bf(u,d),y&2048&&i0(d.alternate,d);break;case 24:bf(u,d),y&2048&&a0(d.alternate,d);break;default:bf(u,d)}s=s.sibling}}var _f=8192;function cu(a,s,u){if(a.subtreeFlags&_f)for(a=a.child;a!==null;)h2(a,s,u),a=a.sibling}function h2(a,s,u){switch(a.tag){case 26:cu(a,s,u),a.flags&_f&&a.memoizedState!==null&&jB(u,Di,a.memoizedState,a.memoizedProps);break;case 5:cu(a,s,u);break;case 3:case 4:var d=Di;Di=Np(a.stateNode.containerInfo),cu(a,s,u),Di=d;break;case 22:a.memoizedState===null&&(d=a.alternate,d!==null&&d.memoizedState!==null?(d=_f,_f=16777216,cu(a,s,u),_f=d):cu(a,s,u));break;default:cu(a,s,u)}}function d2(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function xf(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var d=s[u];Kn=d,m2(d,a)}d2(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)p2(a),a=a.sibling}function p2(a){switch(a.tag){case 0:case 11:case 15:xf(a),a.flags&2048&&Do(9,a,a.return);break;case 3:xf(a);break;case 12:xf(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,bp(a)):xf(a);break;default:xf(a)}}function bp(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var d=s[u];Kn=d,m2(d,a)}d2(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:Do(8,s,s.return),bp(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,bp(s));break;default:bp(s)}a=a.sibling}}function m2(a,s){for(;Kn!==null;){var u=Kn;switch(u.tag){case 0:case 11:case 15:Do(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:rf(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,Kn=d;else e:for(u=a;Kn!==null;){d=Kn;var y=d.sibling,b=d.return;if(a2(d),d===u){Kn=null;break e}if(y!==null){y.return=b,Kn=y;break e}Kn=b}}}var XU={getCacheForType:function(a){var s=er(Cn),u=s.data.get(a);return u===void 0&&(u=a(),s.data.set(a,u)),u},cacheSignal:function(){return er(Cn).controller.signal}},QU=typeof WeakMap=="function"?WeakMap:Map,Vt=0,Qt=null,xt=null,Et=0,zt=0,zr=null,Lo=!1,fu=!1,o0=!1,za=0,_n=0,Vo=0,Js=0,s0=0,Fr=0,hu=0,wf=null,Mr=null,l0=!1,_p=0,g2=0,xp=1/0,wp=null,Uo=null,Ln=0,Bo=null,du=null,Fa=0,u0=0,c0=null,y2=null,Sf=0,f0=null;function Hr(){return(Vt&2)!==0&&Et!==0?Et&-Et:H.T!==null?y0():$c()}function v2(){if(Fr===0)if((Et&536870912)===0||Rt){var a=Sa;Sa<<=1,(Sa&3932160)===0&&(Sa=262144),Fr=a}else Fr=536870912;return a=$r.current,a!==null&&(a.flags|=32),Fr}function kr(a,s,u){(a===Qt&&(zt===2||zt===9)||a.cancelPendingCommit!==null)&&(pu(a,0),$o(a,Et,Fr,!1)),Aa(a,u),((Vt&2)===0||a!==Qt)&&(a===Qt&&((Vt&2)===0&&(Js|=u),_n===4&&$o(a,Et,Fr,!1)),aa(a))}function b2(a,s,u){if((Vt&6)!==0)throw Error(r(327));var d=!u&&(s&127)===0&&(s&a.expiredLanes)===0||Er(a,s),y=d?eB(a,s):d0(a,s,!0),b=d;do{if(y===0){fu&&!d&&$o(a,s,0,!1);break}else{if(u=a.current.alternate,b&&!ZU(u)){y=d0(a,s,!1),b=!1;continue}if(y===2){if(b=s,a.errorRecoveryDisabledLanes&b)var C=0;else C=a.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){s=C;e:{var $=a;y=wf;var G=$.current.memoizedState.isDehydrated;if(G&&(pu($,C).flags|=256),C=d0($,C,!1),C!==2){if(o0&&!G){$.errorRecoveryDisabledLanes|=b,Js|=b,y=4;break e}b=Mr,Mr=y,b!==null&&(Mr===null?Mr=b:Mr.push.apply(Mr,b))}y=C}if(b=!1,y!==2)continue}}if(y===1){pu(a,0),$o(a,s,0,!0);break}e:{switch(d=a,b=y,b){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:$o(d,s,Fr,!Lo);break e;case 2:Mr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(y=_p+300-St(),10<y)){if($o(d,s,Fr,!Lo),ri(d,0,!0)!==0)break e;Fa=s,d.timeoutHandle=X2(_2.bind(null,d,u,Mr,wp,l0,s,Fr,Js,hu,Lo,b,"Throttled",-0,0),y);break e}_2(d,u,Mr,wp,l0,s,Fr,Js,hu,Lo,b,null,-0,0)}}break}while(!0);aa(a)}function _2(a,s,u,d,y,b,C,$,G,ae,fe,me,oe,ue){if(a.timeoutHandle=-1,me=s.subtreeFlags,me&8192||(me&16785408)===16785408){me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ri},h2(s,b,me);var Ve=(b&62914560)===b?_p-St():(b&4194048)===b?g2-St():0;if(Ve=DB(me,Ve),Ve!==null){Fa=b,a.cancelPendingCommit=Ve(C2.bind(null,a,s,b,u,d,y,C,$,G,fe,me,null,oe,ue)),$o(a,b,C,!ae);return}}C2(a,s,b,u,d,y,C,$,G)}function ZU(a){for(var s=a;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var y=u[d],b=y.getSnapshot;y=y.value;try{if(!Ur(b(),y))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function $o(a,s,u,d){s&=~s0,s&=~Js,a.suspendedLanes|=s,a.pingedLanes&=~s,d&&(a.warmLanes|=s),d=a.expirationTimes;for(var y=s;0<y;){var b=31-Je(y),C=1<<b;d[b]=-1,y&=~C}u!==0&&Ea(a,u,s)}function Sp(){return(Vt&6)===0?(Af(0),!1):!0}function h0(){if(xt!==null){if(zt===0)var a=xt.return;else a=xt,Ma=Fs=null,Cv(a),iu=null,of=0,a=xt;for(;a!==null;)QO(a.alternate,a),a=a.return;xt=null}}function pu(a,s){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,vB(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),Fa=0,h0(),Qt=a,xt=u=Pa(a.current,null),Et=s,zt=0,zr=null,Lo=!1,fu=Er(a,s),o0=!1,hu=Fr=s0=Js=Vo=_n=0,Mr=wf=null,l0=!1,(s&8)!==0&&(s|=s&32);var d=a.entangledLanes;if(d!==0)for(a=a.entanglements,d&=s;0<d;){var y=31-Je(d),b=1<<y;s|=a[y],d&=~b}return za=s,Fd(),u}function x2(a,s){gt=null,H.H=pf,s===ru||s===Zd?(s=LT(),zt=3):s===gv?(s=LT(),zt=4):zt=s===Fv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,zr=s,xt===null&&(_n=1,hp(a,di(s,a.current)))}function w2(){var a=$r.current;return a===null?!0:(Et&4194048)===Et?yi===null:(Et&62914560)===Et||(Et&536870912)!==0?a===yi:!1}function S2(){var a=H.H;return H.H=pf,a===null?pf:a}function A2(){var a=H.A;return H.A=XU,a}function Ap(){_n=4,Lo||(Et&4194048)!==Et&&$r.current!==null||(fu=!0),(Vo&134217727)===0&&(Js&134217727)===0||Qt===null||$o(Qt,Et,Fr,!1)}function d0(a,s,u){var d=Vt;Vt|=2;var y=S2(),b=A2();(Qt!==a||Et!==s)&&(wp=null,pu(a,s)),s=!1;var C=_n;e:do try{if(zt!==0&&xt!==null){var $=xt,G=zr;switch(zt){case 8:h0(),C=6;break e;case 3:case 2:case 9:case 6:$r.current===null&&(s=!0);var ae=zt;if(zt=0,zr=null,mu(a,$,G,ae),u&&fu){C=0;break e}break;default:ae=zt,zt=0,zr=null,mu(a,$,G,ae)}}JU(),C=_n;break}catch(fe){x2(a,fe)}while(!0);return s&&a.shellSuspendCounter++,Ma=Fs=null,Vt=d,H.H=y,H.A=b,xt===null&&(Qt=null,Et=0,Fd()),C}function JU(){for(;xt!==null;)E2(xt)}function eB(a,s){var u=Vt;Vt|=2;var d=S2(),y=A2();Qt!==a||Et!==s?(wp=null,xp=St()+500,pu(a,s)):fu=Er(a,s);e:do try{if(zt!==0&&xt!==null){s=xt;var b=zr;t:switch(zt){case 1:zt=0,zr=null,mu(a,s,b,1);break;case 2:case 9:if(jT(b)){zt=0,zr=null,T2(s);break}s=function(){zt!==2&&zt!==9||Qt!==a||(zt=7),aa(a)},b.then(s,s);break e;case 3:zt=7;break e;case 4:zt=5;break e;case 7:jT(b)?(zt=0,zr=null,T2(s)):(zt=0,zr=null,mu(a,s,b,7));break;case 5:var C=null;switch(xt.tag){case 26:C=xt.memoizedState;case 5:case 27:var $=xt;if(C?fC(C):$.stateNode.complete){zt=0,zr=null;var G=$.sibling;if(G!==null)xt=G;else{var ae=$.return;ae!==null?(xt=ae,Ep(ae)):xt=null}break t}}zt=0,zr=null,mu(a,s,b,5);break;case 6:zt=0,zr=null,mu(a,s,b,6);break;case 8:h0(),_n=6;break e;default:throw Error(r(462))}}tB();break}catch(fe){x2(a,fe)}while(!0);return Ma=Fs=null,H.H=d,H.A=y,Vt=u,xt!==null?0:(Qt=null,Et=0,Fd(),_n)}function tB(){for(;xt!==null&&!Nt();)E2(xt)}function E2(a){var s=YO(a.alternate,a,za);a.memoizedProps=a.pendingProps,s===null?Ep(a):xt=s}function T2(a){var s=a,u=s.alternate;switch(s.tag){case 15:case 0:s=zO(u,s,s.pendingProps,s.type,void 0,Et);break;case 11:s=zO(u,s,s.pendingProps,s.type.render,s.ref,Et);break;case 5:Cv(s);default:QO(u,s),s=xt=AT(s,za),s=YO(u,s,za)}a.memoizedProps=a.pendingProps,s===null?Ep(a):xt=s}function mu(a,s,u,d){Ma=Fs=null,Cv(s),iu=null,of=0;var y=s.return;try{if(zU(a,y,s,u,Et)){_n=1,hp(a,di(u,a.current)),xt=null;return}}catch(b){if(y!==null)throw xt=y,b;_n=1,hp(a,di(u,a.current)),xt=null;return}s.flags&32768?(Rt||d===1?a=!0:fu||(Et&536870912)!==0?a=!1:(Lo=a=!0,(d===2||d===9||d===3||d===6)&&(d=$r.current,d!==null&&d.tag===13&&(d.flags|=16384))),O2(s,a)):Ep(s)}function Ep(a){var s=a;do{if((s.flags&32768)!==0){O2(s,Lo);return}a=s.return;var u=GU(s.alternate,s,za);if(u!==null){xt=u;return}if(s=s.sibling,s!==null){xt=s;return}xt=s=a}while(s!==null);_n===0&&(_n=5)}function O2(a,s){do{var u=KU(a.alternate,a);if(u!==null){u.flags&=32767,xt=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(a=a.sibling,a!==null)){xt=a;return}xt=a=u}while(a!==null);_n=6,xt=null}function C2(a,s,u,d,y,b,C,$,G){a.cancelPendingCommit=null;do Tp();while(Ln!==0);if((Vt&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(b=s.lanes|s.childLanes,b|=tv,Bc(a,u,b,C,$,G),a===Qt&&(xt=Qt=null,Et=0),du=s,Bo=a,Fa=u,u0=b,c0=y,y2=d,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,aB(Te,function(){return M2(),null})):(a.callbackNode=null,a.callbackPriority=0),d=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||d){d=H.T,H.T=null,y=Y.p,Y.p=2,C=Vt,Vt|=4;try{WU(a,s,u)}finally{Vt=C,Y.p=y,H.T=d}}Ln=1,I2(),R2(),P2()}}function I2(){if(Ln===1){Ln=0;var a=Bo,s=du,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=H.T,H.T=null;var d=Y.p;Y.p=2;var y=Vt;Vt|=4;try{u2(s,a);var b=E0,C=mT(a.containerInfo),$=b.focusedElem,G=b.selectionRange;if(C!==$&&$&&$.ownerDocument&&pT($.ownerDocument.documentElement,$)){if(G!==null&&Xy($)){var ae=G.start,fe=G.end;if(fe===void 0&&(fe=ae),"selectionStart"in $)$.selectionStart=ae,$.selectionEnd=Math.min(fe,$.value.length);else{var me=$.ownerDocument||document,oe=me&&me.defaultView||window;if(oe.getSelection){var ue=oe.getSelection(),Ve=$.textContent.length,Qe=Math.min(G.start,Ve),Wt=G.end===void 0?Qe:Math.min(G.end,Ve);!ue.extend&&Qe>Wt&&(C=Wt,Wt=Qe,Qe=C);var ee=dT($,Qe),X=dT($,Wt);if(ee&&X&&(ue.rangeCount!==1||ue.anchorNode!==ee.node||ue.anchorOffset!==ee.offset||ue.focusNode!==X.node||ue.focusOffset!==X.offset)){var ie=me.createRange();ie.setStart(ee.node,ee.offset),ue.removeAllRanges(),Qe>Wt?(ue.addRange(ie),ue.extend(X.node,X.offset)):(ie.setEnd(X.node,X.offset),ue.addRange(ie))}}}}for(me=[],ue=$;ue=ue.parentNode;)ue.nodeType===1&&me.push({element:ue,left:ue.scrollLeft,top:ue.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<me.length;$++){var de=me[$];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}Vp=!!A0,E0=A0=null}finally{Vt=y,Y.p=d,H.T=u}}a.current=s,Ln=2}}function R2(){if(Ln===2){Ln=0;var a=Bo,s=du,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=H.T,H.T=null;var d=Y.p;Y.p=2;var y=Vt;Vt|=4;try{i2(a,s.alternate,s)}finally{Vt=y,Y.p=d,H.T=u}}Ln=3}}function P2(){if(Ln===4||Ln===3){Ln=0,Jt();var a=Bo,s=du,u=Fa,d=y2;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ln=5:(Ln=0,du=Bo=null,N2(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(Uo=null),Ci(u),s=s.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot($e,s,void 0,(s.current.flags&128)===128)}catch{}if(d!==null){s=H.T,y=Y.p,Y.p=2,H.T=null;try{for(var b=a.onRecoverableError,C=0;C<d.length;C++){var $=d[C];b($.value,{componentStack:$.stack})}}finally{H.T=s,Y.p=y}}(Fa&3)!==0&&Tp(),aa(a),y=a.pendingLanes,(u&261930)!==0&&(y&42)!==0?a===f0?Sf++:(Sf=0,f0=a):Sf=0,Af(0)}}function N2(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,rf(s)))}function Tp(){return I2(),R2(),P2(),M2()}function M2(){if(Ln!==5)return!1;var a=Bo,s=u0;u0=0;var u=Ci(Fa),d=H.T,y=Y.p;try{Y.p=32>u?32:u,H.T=null,u=c0,c0=null;var b=Bo,C=Fa;if(Ln=0,du=Bo=null,Fa=0,(Vt&6)!==0)throw Error(r(331));var $=Vt;if(Vt|=4,p2(b.current),f2(b,b.current,C,u),Vt=$,Af(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot($e,b)}catch{}return!0}finally{Y.p=y,H.T=d,N2(a,s)}}function k2(a,s,u){s=di(u,s),s=zv(a.stateNode,s,2),a=Mo(a,s,2),a!==null&&(Aa(a,2),aa(a))}function Ft(a,s,u){if(a.tag===3)k2(a,a,u);else for(;s!==null;){if(s.tag===3){k2(s,a,u);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Uo===null||!Uo.has(d))){a=di(u,a),u=jO(2),d=Mo(s,u,2),d!==null&&(DO(u,d,s,a),Aa(d,2),aa(d));break}}s=s.return}}function p0(a,s,u){var d=a.pingCache;if(d===null){d=a.pingCache=new QU;var y=new Set;d.set(s,y)}else y=d.get(s),y===void 0&&(y=new Set,d.set(s,y));y.has(u)||(o0=!0,y.add(u),a=nB.bind(null,a,s,u),s.then(a,a))}function nB(a,s,u){var d=a.pingCache;d!==null&&d.delete(s),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,Qt===a&&(Et&u)===u&&(_n===4||_n===3&&(Et&62914560)===Et&&300>St()-_p?(Vt&2)===0&&pu(a,0):s0|=u,hu===Et&&(hu=0)),aa(a)}function j2(a,s){s===0&&(s=Dl()),a=$s(a,s),a!==null&&(Aa(a,s),aa(a))}function rB(a){var s=a.memoizedState,u=0;s!==null&&(u=s.retryLane),j2(a,u)}function iB(a,s){var u=0;switch(a.tag){case 31:case 13:var d=a.stateNode,y=a.memoizedState;y!==null&&(u=y.retryLane);break;case 19:d=a.stateNode;break;case 22:d=a.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(s),j2(a,u)}function aB(a,s){return Fe(a,s)}var Op=null,gu=null,m0=!1,Cp=!1,g0=!1,qo=0;function aa(a){a!==gu&&a.next===null&&(gu===null?Op=gu=a:gu=gu.next=a),Cp=!0,m0||(m0=!0,sB())}function Af(a,s){if(!g0&&Cp){g0=!0;do for(var u=!1,d=Op;d!==null;){if(a!==0){var y=d.pendingLanes;if(y===0)var b=0;else{var C=d.suspendedLanes,$=d.pingedLanes;b=(1<<31-Je(42|a)+1)-1,b&=y&~(C&~$),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,U2(d,b))}else b=Et,b=ri(d,d===Qt?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||Er(d,b)||(u=!0,U2(d,b));d=d.next}while(u);g0=!1}}function oB(){D2()}function D2(){Cp=m0=!1;var a=0;qo!==0&&yB()&&(a=qo);for(var s=St(),u=null,d=Op;d!==null;){var y=d.next,b=L2(d,s);b===0?(d.next=null,u===null?Op=y:u.next=y,y===null&&(gu=u)):(u=d,(a!==0||(b&3)!==0)&&(Cp=!0)),d=y}Ln!==0&&Ln!==5||Af(a),qo!==0&&(qo=0)}function L2(a,s){for(var u=a.suspendedLanes,d=a.pingedLanes,y=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var C=31-Je(b),$=1<<C,G=y[C];G===-1?(($&u)===0||($&d)!==0)&&(y[C]=Uc($,s)):G<=s&&(a.expiredLanes|=$),b&=~$}if(s=Qt,u=Et,u=ri(a,a===s?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d=a.callbackNode,u===0||a===s&&(zt===2||zt===9)||a.cancelPendingCommit!==null)return d!==null&&d!==null&&rt(d),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||Er(a,u)){if(s=u&-u,s===a.callbackPriority)return s;switch(d!==null&&rt(d),Ci(u)){case 2:case 8:u=ye;break;case 32:u=Te;break;case 268435456:u=ht;break;default:u=Te}return d=V2.bind(null,a),u=Fe(u,d),a.callbackPriority=s,a.callbackNode=u,s}return d!==null&&d!==null&&rt(d),a.callbackPriority=2,a.callbackNode=null,2}function V2(a,s){if(Ln!==0&&Ln!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(Tp()&&a.callbackNode!==u)return null;var d=Et;return d=ri(a,a===Qt?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),d===0?null:(b2(a,d,s),L2(a,St()),a.callbackNode!=null&&a.callbackNode===u?V2.bind(null,a):null)}function U2(a,s){if(Tp())return null;b2(a,s,!0)}function sB(){bB(function(){(Vt&6)!==0?Fe(un,oB):D2()})}function y0(){if(qo===0){var a=tu;a===0&&(a=ti,ti<<=1,(ti&261888)===0&&(ti=256)),qo=a}return qo}function B2(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Bl(""+a)}function $2(a,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,a.id&&u.setAttribute("form",a.id),s.parentNode.insertBefore(u,s),a=new FormData(a),u.parentNode.removeChild(u),a}function lB(a,s,u,d,y){if(s==="submit"&&u&&u.stateNode===y){var b=B2((y[pn]||null).action),C=d.submitter;C&&(s=(s=C[pn]||null)?B2(s.formAction):C.getAttribute("formAction"),s!==null&&(b=s,C=null));var $=new Zi("action","action",null,d,y);a.push({event:$,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(qo!==0){var G=C?$2(y,C):new FormData(y);Lv(u,{pending:!0,data:G,method:y.method,action:b},null,G)}}else typeof b=="function"&&($.preventDefault(),G=C?$2(y,C):new FormData(y),Lv(u,{pending:!0,data:G,method:y.method,action:b},b,G))},currentTarget:y}]})}}for(var v0=0;v0<ev.length;v0++){var b0=ev[v0],uB=b0.toLowerCase(),cB=b0[0].toUpperCase()+b0.slice(1);ji(uB,"on"+cB)}ji(vT,"onAnimationEnd"),ji(bT,"onAnimationIteration"),ji(_T,"onAnimationStart"),ji("dblclick","onDoubleClick"),ji("focusin","onFocus"),ji("focusout","onBlur"),ji(TU,"onTransitionRun"),ji(OU,"onTransitionStart"),ji(CU,"onTransitionCancel"),ji(xT,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),si("onBeforeInput",["compositionend","keypress","textInput","paste"]),si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ef="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ef));function q2(a,s){s=(s&4)!==0;for(var u=0;u<a.length;u++){var d=a[u],y=d.event;d=d.listeners;e:{var b=void 0;if(s)for(var C=d.length-1;0<=C;C--){var $=d[C],G=$.instance,ae=$.currentTarget;if($=$.listener,G!==b&&y.isPropagationStopped())break e;b=$,y.currentTarget=ae;try{b(y)}catch(fe){zd(fe)}y.currentTarget=null,b=G}else for(C=0;C<d.length;C++){if($=d[C],G=$.instance,ae=$.currentTarget,$=$.listener,G!==b&&y.isPropagationStopped())break e;b=$,y.currentTarget=ae;try{b(y)}catch(fe){zd(fe)}y.currentTarget=null,b=G}}}}function wt(a,s){var u=s[go];u===void 0&&(u=s[go]=new Set);var d=a+"__bubble";u.has(d)||(z2(s,a,2,!1),u.add(d))}function _0(a,s,u){var d=0;s&&(d|=4),z2(u,a,d,s)}var Ip="_reactListening"+Math.random().toString(36).slice(2);function x0(a){if(!a[Ip]){a[Ip]=!0,Ts.forEach(function(u){u!=="selectionchange"&&(fB.has(u)||_0(u,!1,a),_0(u,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Ip]||(s[Ip]=!0,_0("selectionchange",!1,s))}}function z2(a,s,u,d){switch(vC(s)){case 2:var y=UB;break;case 8:y=BB;break;default:y=D0}u=y.bind(null,s,u,a),y=void 0,!Ms||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),d?y!==void 0?a.addEventListener(s,u,{capture:!0,passive:y}):a.addEventListener(s,u,!0):y!==void 0?a.addEventListener(s,u,{passive:y}):a.addEventListener(s,u,!1)}function w0(a,s,u,d,y){var b=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var C=d.tag;if(C===3||C===4){var $=d.stateNode.containerInfo;if($===y)break;if(C===4)for(C=d.return;C!==null;){var G=C.tag;if((G===3||G===4)&&C.stateNode.containerInfo===y)return;C=C.return}for(;$!==null;){if(C=oi($),C===null)return;if(G=C.tag,G===5||G===6||G===26||G===27){d=b=C;continue e}$=$.parentNode}}d=d.return}So(function(){var ae=b,fe=ui(u),me=[];e:{var oe=wT.get(a);if(oe!==void 0){var ue=Zi,Ve=a;switch(a){case"keypress":if(js(u)===0)break e;case"keydown":case"keyup":ue=Bd;break;case"focusin":Ve="focus",ue=Ls;break;case"focusout":Ve="blur",ue=Ls;break;case"beforeblur":case"afterblur":ue=Ls;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ue=Yc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ue=Pd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ue=E;break;case vT:case bT:case _T:ue=Md;break;case xT:ue=z;break;case"scroll":case"scrollend":ue=Wc;break;case"wheel":ue=le;break;case"copy":case"cut":case"paste":ue=kd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ue=Ra;break;case"toggle":case"beforetoggle":ue=mt}var Qe=(s&4)!==0,Wt=!Qe&&(a==="scroll"||a==="scrollend"),ee=Qe?oe!==null?oe+"Capture":null:oe;Qe=[];for(var X=ae,ie;X!==null;){var de=X;if(ie=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||ie===null||ee===null||(de=Pi(X,ee),de!=null&&Qe.push(Tf(X,de,ie))),Wt)break;X=X.return}0<Qe.length&&(oe=new ue(oe,Ve,null,u,fe),me.push({event:oe,listeners:Qe}))}}if((s&7)===0){e:{if(oe=a==="mouseover"||a==="pointerover",ue=a==="mouseout"||a==="pointerout",oe&&u!==Hc&&(Ve=u.relatedTarget||u.fromElement)&&(oi(Ve)||Ve[ai]))break e;if((ue||oe)&&(oe=fe.window===fe?fe:(oe=fe.ownerDocument)?oe.defaultView||oe.parentWindow:window,ue?(Ve=u.relatedTarget||u.toElement,ue=ae,Ve=Ve?oi(Ve):null,Ve!==null&&(Wt=o(Ve),Qe=Ve.tag,Ve!==Wt||Qe!==5&&Qe!==27&&Qe!==6)&&(Ve=null)):(ue=null,Ve=ae),ue!==Ve)){if(Qe=Yc,de="onMouseLeave",ee="onMouseEnter",X="mouse",(a==="pointerout"||a==="pointerover")&&(Qe=Ra,de="onPointerLeave",ee="onPointerEnter",X="pointer"),Wt=ue==null?oe:yr(ue),ie=Ve==null?oe:yr(Ve),oe=new Qe(de,X+"leave",ue,u,fe),oe.target=Wt,oe.relatedTarget=ie,de=null,oi(fe)===ae&&(Qe=new Qe(ee,X+"enter",Ve,u,fe),Qe.target=ie,Qe.relatedTarget=Wt,de=Qe),Wt=de,ue&&Ve)t:{for(Qe=hB,ee=ue,X=Ve,ie=0,de=ee;de;de=Qe(de))ie++;de=0;for(var He=X;He;He=Qe(He))de++;for(;0<ie-de;)ee=Qe(ee),ie--;for(;0<de-ie;)X=Qe(X),de--;for(;ie--;){if(ee===X||X!==null&&ee===X.alternate){Qe=ee;break t}ee=Qe(ee),X=Qe(X)}Qe=null}else Qe=null;ue!==null&&F2(me,oe,ue,Qe,!1),Ve!==null&&Wt!==null&&F2(me,Wt,Ve,Qe,!0)}}e:{if(oe=ae?yr(ae):window,ue=oe.nodeName&&oe.nodeName.toLowerCase(),ue==="select"||ue==="input"&&oe.type==="file")var Mt=sT;else if(aT(oe))if(lT)Mt=SU;else{Mt=xU;var Ue=_U}else ue=oe.nodeName,!ue||ue.toLowerCase()!=="input"||oe.type!=="checkbox"&&oe.type!=="radio"?ae&&Ul(ae.elementType)&&(Mt=sT):Mt=wU;if(Mt&&(Mt=Mt(a,ae))){oT(me,Mt,u,fe);break e}Ue&&Ue(a,oe,ae),a==="focusout"&&ae&&oe.type==="number"&&ae.memoizedProps.value!=null&&Ps(oe,"number",oe.value)}switch(Ue=ae?yr(ae):window,a){case"focusin":(aT(Ue)||Ue.contentEditable==="true")&&(Kl=Ue,Qy=ae,ef=null);break;case"focusout":ef=Qy=Kl=null;break;case"mousedown":Zy=!0;break;case"contextmenu":case"mouseup":case"dragend":Zy=!1,gT(me,u,fe);break;case"selectionchange":if(EU)break;case"keydown":case"keyup":gT(me,u,fe)}var vt;if(Lt)e:{switch(a){case"compositionstart":var Tt="onCompositionStart";break e;case"compositionend":Tt="onCompositionEnd";break e;case"compositionupdate":Tt="onCompositionUpdate";break e}Tt=void 0}else Gl?Vs(a,u)&&(Tt="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(Tt="onCompositionStart");Tt&&(ta&&u.locale!=="ko"&&(Gl||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&Gl&&(vt=Kc()):(Qi=fe,Gc="value"in Qi?Qi.value:Qi.textContent,Gl=!0)),Ue=Rp(ae,Tt),0<Ue.length&&(Tt=new ea(Tt,a,null,u,fe),me.push({event:Tt,listeners:Ue}),vt?Tt.data=vt:(vt=Hl(u),vt!==null&&(Tt.data=vt)))),(vt=fi?gU(a,u):yU(a,u))&&(Tt=Rp(ae,"onBeforeInput"),0<Tt.length&&(Ue=new ea("onBeforeInput","beforeinput",null,u,fe),me.push({event:Ue,listeners:Tt}),Ue.data=vt)),lB(me,a,ae,u,fe)}q2(me,s)})}function Tf(a,s,u){return{instance:a,listener:s,currentTarget:u}}function Rp(a,s){for(var u=s+"Capture",d=[];a!==null;){var y=a,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=Pi(a,u),y!=null&&d.unshift(Tf(a,y,b)),y=Pi(a,s),y!=null&&d.push(Tf(a,y,b))),a.tag===3)return d;a=a.return}return[]}function hB(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function F2(a,s,u,d,y){for(var b=s._reactName,C=[];u!==null&&u!==d;){var $=u,G=$.alternate,ae=$.stateNode;if($=$.tag,G!==null&&G===d)break;$!==5&&$!==26&&$!==27||ae===null||(G=ae,y?(ae=Pi(u,b),ae!=null&&C.unshift(Tf(u,ae,G))):y||(ae=Pi(u,b),ae!=null&&C.push(Tf(u,ae,G)))),u=u.return}C.length!==0&&a.push({event:s,listeners:C})}var dB=/\r\n?/g,pB=/\u0000|\uFFFD/g;function H2(a){return(typeof a=="string"?a:""+a).replace(dB,`
`).replace(pB,"")}function G2(a,s){return s=H2(s),H2(a)===s}function Kt(a,s,u,d,y,b){switch(u){case"children":typeof d=="string"?s==="body"||s==="textarea"&&d===""||Ir(a,d):(typeof d=="number"||typeof d=="bigint")&&s!=="body"&&Ir(a,""+d);break;case"className":vr(a,"class",d);break;case"tabIndex":vr(a,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":vr(a,u,d);break;case"style":Fc(a,d,b);break;case"data":if(s!=="object"){vr(a,"data",d);break}case"src":case"href":if(d===""&&(s!=="a"||u!=="href")){a.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(u);break}d=Bl(""+d),a.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(s!=="input"&&Kt(a,s,"name",y.name,y,null),Kt(a,s,"formEncType",y.formEncType,y,null),Kt(a,s,"formMethod",y.formMethod,y,null),Kt(a,s,"formTarget",y.formTarget,y,null)):(Kt(a,s,"encType",y.encType,y,null),Kt(a,s,"method",y.method,y,null),Kt(a,s,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){a.removeAttribute(u);break}d=Bl(""+d),a.setAttribute(u,d);break;case"onClick":d!=null&&(a.onclick=Ri);break;case"onScroll":d!=null&&wt("scroll",a);break;case"onScrollEnd":d!=null&&wt("scrollend",a);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":a.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){a.removeAttribute("xlink:href");break}u=Bl(""+d),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,""+d):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":d===!0?a.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?a.setAttribute(u,d):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?a.setAttribute(u,d):a.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?a.removeAttribute(u):a.setAttribute(u,d);break;case"popover":wt("beforetoggle",a),wt("toggle",a),vo(a,"popover",d);break;case"xlinkActuate":vn(a,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":vn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":vn(a,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":vn(a,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":vn(a,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":vn(a,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":vn(a,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":vn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":vn(a,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":vo(a,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Rd.get(u)||u,vo(a,u,d))}}function S0(a,s,u,d,y,b){switch(u){case"style":Fc(a,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(u=d.__html,u!=null){if(y.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof d=="string"?Ir(a,d):(typeof d=="number"||typeof d=="bigint")&&Ir(a,""+d);break;case"onScroll":d!=null&&wt("scroll",a);break;case"onScrollEnd":d!=null&&wt("scrollend",a);break;case"onClick":d!=null&&(a.onclick=Ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Os.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),s=u.slice(2,y?u.length-7:void 0),b=a[pn]||null,b=b!=null?b[u]:null,typeof b=="function"&&a.removeEventListener(s,b,y),typeof d=="function")){typeof b!="function"&&b!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(s,d,y);break e}u in a?a[u]=d:d===!0?a.setAttribute(u,""):vo(a,u,d)}}}function nr(a,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",a),wt("load",a);var d=!1,y=!1,b;for(b in u)if(u.hasOwnProperty(b)){var C=u[b];if(C!=null)switch(b){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Kt(a,s,b,C,u,null)}}y&&Kt(a,s,"srcSet",u.srcSet,u,null),d&&Kt(a,s,"src",u.src,u,null);return;case"input":wt("invalid",a);var $=b=C=y=null,G=null,ae=null;for(d in u)if(u.hasOwnProperty(d)){var fe=u[d];if(fe!=null)switch(d){case"name":y=fe;break;case"type":C=fe;break;case"checked":G=fe;break;case"defaultChecked":ae=fe;break;case"value":b=fe;break;case"defaultValue":$=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,s));break;default:Kt(a,s,d,fe,u,null)}}Vl(a,b,$,G,ae,C,y,!1);return;case"select":wt("invalid",a),d=C=b=null;for(y in u)if(u.hasOwnProperty(y)&&($=u[y],$!=null))switch(y){case"value":b=$;break;case"defaultValue":C=$;break;case"multiple":d=$;default:Kt(a,s,y,$,u,null)}s=b,u=C,a.multiple=!!d,s!=null?Ii(a,!!d,s,!1):u!=null&&Ii(a,!!d,u,!0);return;case"textarea":wt("invalid",a),b=y=d=null;for(C in u)if(u.hasOwnProperty(C)&&($=u[C],$!=null))switch(C){case"value":d=$;break;case"defaultValue":y=$;break;case"children":b=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(r(91));break;default:Kt(a,s,C,$,u,null)}_o(a,d,y,b);return;case"option":for(G in u)if(u.hasOwnProperty(G)&&(d=u[G],d!=null))switch(G){case"selected":a.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Kt(a,s,G,d,u,null)}return;case"dialog":wt("beforetoggle",a),wt("toggle",a),wt("cancel",a),wt("close",a);break;case"iframe":case"object":wt("load",a);break;case"video":case"audio":for(d=0;d<Ef.length;d++)wt(Ef[d],a);break;case"image":wt("error",a),wt("load",a);break;case"details":wt("toggle",a);break;case"embed":case"source":case"link":wt("error",a),wt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ae in u)if(u.hasOwnProperty(ae)&&(d=u[ae],d!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Kt(a,s,ae,d,u,null)}return;default:if(Ul(s)){for(fe in u)u.hasOwnProperty(fe)&&(d=u[fe],d!==void 0&&S0(a,s,fe,d,u,void 0));return}}for($ in u)u.hasOwnProperty($)&&(d=u[$],d!=null&&Kt(a,s,$,d,u,null))}function mB(a,s,u,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,C=null,$=null,G=null,ae=null,fe=null;for(ue in u){var me=u[ue];if(u.hasOwnProperty(ue)&&me!=null)switch(ue){case"checked":break;case"value":break;case"defaultValue":G=me;default:d.hasOwnProperty(ue)||Kt(a,s,ue,null,d,me)}}for(var oe in d){var ue=d[oe];if(me=u[oe],d.hasOwnProperty(oe)&&(ue!=null||me!=null))switch(oe){case"type":b=ue;break;case"name":y=ue;break;case"checked":ae=ue;break;case"defaultChecked":fe=ue;break;case"value":C=ue;break;case"defaultValue":$=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,s));break;default:ue!==me&&Kt(a,s,oe,ue,d,me)}}bo(a,C,$,G,ae,fe,b,y);return;case"select":ue=C=$=oe=null;for(b in u)if(G=u[b],u.hasOwnProperty(b)&&G!=null)switch(b){case"value":break;case"multiple":ue=G;default:d.hasOwnProperty(b)||Kt(a,s,b,null,d,G)}for(y in d)if(b=d[y],G=u[y],d.hasOwnProperty(y)&&(b!=null||G!=null))switch(y){case"value":oe=b;break;case"defaultValue":$=b;break;case"multiple":C=b;default:b!==G&&Kt(a,s,y,b,d,G)}s=$,u=C,d=ue,oe!=null?Ii(a,!!u,oe,!1):!!d!=!!u&&(s!=null?Ii(a,!!u,s,!0):Ii(a,!!u,u?[]:"",!1));return;case"textarea":ue=oe=null;for($ in u)if(y=u[$],u.hasOwnProperty($)&&y!=null&&!d.hasOwnProperty($))switch($){case"value":break;case"children":break;default:Kt(a,s,$,null,d,y)}for(C in d)if(y=d[C],b=u[C],d.hasOwnProperty(C)&&(y!=null||b!=null))switch(C){case"value":oe=y;break;case"defaultValue":ue=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==b&&Kt(a,s,C,y,d,b)}Cd(a,oe,ue);return;case"option":for(var Ve in u)if(oe=u[Ve],u.hasOwnProperty(Ve)&&oe!=null&&!d.hasOwnProperty(Ve))switch(Ve){case"selected":a.selected=!1;break;default:Kt(a,s,Ve,null,d,oe)}for(G in d)if(oe=d[G],ue=u[G],d.hasOwnProperty(G)&&oe!==ue&&(oe!=null||ue!=null))switch(G){case"selected":a.selected=oe&&typeof oe!="function"&&typeof oe!="symbol";break;default:Kt(a,s,G,oe,d,ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in u)oe=u[Qe],u.hasOwnProperty(Qe)&&oe!=null&&!d.hasOwnProperty(Qe)&&Kt(a,s,Qe,null,d,oe);for(ae in d)if(oe=d[ae],ue=u[ae],d.hasOwnProperty(ae)&&oe!==ue&&(oe!=null||ue!=null))switch(ae){case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,s));break;default:Kt(a,s,ae,oe,d,ue)}return;default:if(Ul(s)){for(var Wt in u)oe=u[Wt],u.hasOwnProperty(Wt)&&oe!==void 0&&!d.hasOwnProperty(Wt)&&S0(a,s,Wt,void 0,d,oe);for(fe in d)oe=d[fe],ue=u[fe],!d.hasOwnProperty(fe)||oe===ue||oe===void 0&&ue===void 0||S0(a,s,fe,oe,d,ue);return}}for(var ee in u)oe=u[ee],u.hasOwnProperty(ee)&&oe!=null&&!d.hasOwnProperty(ee)&&Kt(a,s,ee,null,d,oe);for(me in d)oe=d[me],ue=u[me],!d.hasOwnProperty(me)||oe===ue||oe==null&&ue==null||Kt(a,s,me,oe,d,ue)}function K2(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gB(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,u=performance.getEntriesByType("resource"),d=0;d<u.length;d++){var y=u[d],b=y.transferSize,C=y.initiatorType,$=y.duration;if(b&&$&&K2(C)){for(C=0,$=y.responseEnd,d+=1;d<u.length;d++){var G=u[d],ae=G.startTime;if(ae>$)break;var fe=G.transferSize,me=G.initiatorType;fe&&K2(me)&&(G=G.responseEnd,C+=fe*(G<$?1:($-ae)/(G-ae)))}if(--d,s+=8*(b+C)/(y.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var A0=null,E0=null;function Pp(a){return a.nodeType===9?a:a.ownerDocument}function W2(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Y2(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function T0(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var O0=null;function yB(){var a=window.event;return a&&a.type==="popstate"?a===O0?!1:(O0=a,!0):(O0=null,!1)}var X2=typeof setTimeout=="function"?setTimeout:void 0,vB=typeof clearTimeout=="function"?clearTimeout:void 0,Q2=typeof Promise=="function"?Promise:void 0,bB=typeof queueMicrotask=="function"?queueMicrotask:typeof Q2<"u"?function(a){return Q2.resolve(null).then(a).catch(_B)}:X2;function _B(a){setTimeout(function(){throw a})}function zo(a){return a==="head"}function Z2(a,s){var u=s,d=0;do{var y=u.nextSibling;if(a.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"||u==="/&"){if(d===0){a.removeChild(y),_u(s);return}d--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")d++;else if(u==="html")Of(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,Of(u);for(var b=u.firstChild;b;){var C=b.nextSibling,$=b.nodeName;b[Or]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&b.rel.toLowerCase()==="stylesheet"||u.removeChild(b),b=C}}else u==="body"&&Of(a.ownerDocument.body);u=y}while(u);_u(s)}function J2(a,s){var u=a;a=0;do{var d=u.nextSibling;if(u.nodeType===1?s?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(s?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),d&&d.nodeType===8)if(u=d.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=d}while(u)}function C0(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":C0(u),yo(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function xB(a,s,u,d){for(;a.nodeType===1;){var y=u;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!d&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(d){if(!a[Or])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=vi(a.nextSibling),a===null)break}return null}function wB(a,s,u){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=vi(a.nextSibling),a===null))return null;return a}function eC(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=vi(a.nextSibling),a===null))return null;return a}function I0(a){return a.data==="$?"||a.data==="$~"}function R0(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function SB(a,s){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||u.readyState!=="loading")s();else{var d=function(){s(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),a._reactRetry=d}}function vi(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var P0=null;function tC(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(s===0)return vi(a.nextSibling);s--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||s++}a=a.nextSibling}return null}function nC(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(s===0)return a;s--}else u!=="/$"&&u!=="/&"||s++}a=a.previousSibling}return null}function rC(a,s,u){switch(s=Pp(u),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Of(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);yo(a)}var bi=new Map,iC=new Set;function Np(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Ha=Y.d;Y.d={f:AB,r:EB,D:TB,C:OB,L:CB,m:IB,X:PB,S:RB,M:NB};function AB(){var a=Ha.f(),s=Sp();return a||s}function EB(a){var s=gr(a);s!==null&&s.tag===5&&s.type==="form"?xO(s):Ha.r(a)}var yu=typeof document>"u"?null:document;function aC(a,s,u){var d=yu;if(d&&typeof s=="string"&&s){var y=Xt(s);y='link[rel="'+a+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),iC.has(y)||(iC.add(y),a={rel:a,crossOrigin:u,href:s},d.querySelector(y)===null&&(s=d.createElement("link"),nr(s,"link",a),cn(s),d.head.appendChild(s)))}}function TB(a){Ha.D(a),aC("dns-prefetch",a,null)}function OB(a,s){Ha.C(a,s),aC("preconnect",a,s)}function CB(a,s,u){Ha.L(a,s,u);var d=yu;if(d&&a&&s){var y='link[rel="preload"][as="'+Xt(s)+'"]';s==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+Xt(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+Xt(u.imageSizes)+'"]')):y+='[href="'+Xt(a)+'"]';var b=y;switch(s){case"style":b=vu(a);break;case"script":b=bu(a)}bi.has(b)||(a=m({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:a,as:s},u),bi.set(b,a),d.querySelector(y)!==null||s==="style"&&d.querySelector(Cf(b))||s==="script"&&d.querySelector(If(b))||(s=d.createElement("link"),nr(s,"link",a),cn(s),d.head.appendChild(s)))}}function IB(a,s){Ha.m(a,s);var u=yu;if(u&&a){var d=s&&typeof s.as=="string"?s.as:"script",y='link[rel="modulepreload"][as="'+Xt(d)+'"][href="'+Xt(a)+'"]',b=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=bu(a)}if(!bi.has(b)&&(a=m({rel:"modulepreload",href:a},s),bi.set(b,a),u.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(If(b)))return}d=u.createElement("link"),nr(d,"link",a),cn(d),u.head.appendChild(d)}}}function RB(a,s,u){Ha.S(a,s,u);var d=yu;if(d&&a){var y=Cr(d).hoistableStyles,b=vu(a);s=s||"default";var C=y.get(b);if(!C){var $={loading:0,preload:null};if(C=d.querySelector(Cf(b)))$.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":s},u),(u=bi.get(b))&&N0(a,u);var G=C=d.createElement("link");cn(G),nr(G,"link",a),G._p=new Promise(function(ae,fe){G.onload=ae,G.onerror=fe}),G.addEventListener("load",function(){$.loading|=1}),G.addEventListener("error",function(){$.loading|=2}),$.loading|=4,Mp(C,s,d)}C={type:"stylesheet",instance:C,count:1,state:$},y.set(b,C)}}}function PB(a,s){Ha.X(a,s);var u=yu;if(u&&a){var d=Cr(u).hoistableScripts,y=bu(a),b=d.get(y);b||(b=u.querySelector(If(y)),b||(a=m({src:a,async:!0},s),(s=bi.get(y))&&M0(a,s),b=u.createElement("script"),cn(b),nr(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(y,b))}}function NB(a,s){Ha.M(a,s);var u=yu;if(u&&a){var d=Cr(u).hoistableScripts,y=bu(a),b=d.get(y);b||(b=u.querySelector(If(y)),b||(a=m({src:a,async:!0,type:"module"},s),(s=bi.get(y))&&M0(a,s),b=u.createElement("script"),cn(b),nr(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(y,b))}}function oC(a,s,u,d){var y=(y=Ae.current)?Np(y):null;if(!y)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=vu(u.href),u=Cr(y).hoistableStyles,d=u.get(s),d||(d={type:"style",instance:null,count:0,state:null},u.set(s,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=vu(u.href);var b=Cr(y).hoistableStyles,C=b.get(a);if(C||(y=y.ownerDocument||y,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,C),(b=y.querySelector(Cf(a)))&&!b._p&&(C.instance=b,C.state.loading=5),bi.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},bi.set(a,u),b||MB(y,a,u,C.state))),s&&d===null)throw Error(r(528,""));return C}if(s&&d!==null)throw Error(r(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=bu(u),u=Cr(y).hoistableScripts,d=u.get(s),d||(d={type:"script",instance:null,count:0,state:null},u.set(s,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function vu(a){return'href="'+Xt(a)+'"'}function Cf(a){return'link[rel="stylesheet"]['+a+"]"}function sC(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function MB(a,s,u,d){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?d.loading=1:(s=a.createElement("link"),d.preload=s,s.addEventListener("load",function(){return d.loading|=1}),s.addEventListener("error",function(){return d.loading|=2}),nr(s,"link",u),cn(s),a.head.appendChild(s))}function bu(a){return'[src="'+Xt(a)+'"]'}function If(a){return"script[async]"+a}function lC(a,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var d=a.querySelector('style[data-href~="'+Xt(u.href)+'"]');if(d)return s.instance=d,cn(d),d;var y=m({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(a.ownerDocument||a).createElement("style"),cn(d),nr(d,"style",y),Mp(d,u.precedence,a),s.instance=d;case"stylesheet":y=vu(u.href);var b=a.querySelector(Cf(y));if(b)return s.state.loading|=4,s.instance=b,cn(b),b;d=sC(u),(y=bi.get(y))&&N0(d,y),b=(a.ownerDocument||a).createElement("link"),cn(b);var C=b;return C._p=new Promise(function($,G){C.onload=$,C.onerror=G}),nr(b,"link",d),s.state.loading|=4,Mp(b,u.precedence,a),s.instance=b;case"script":return b=bu(u.src),(y=a.querySelector(If(b)))?(s.instance=y,cn(y),y):(d=u,(y=bi.get(b))&&(d=m({},u),M0(d,y)),a=a.ownerDocument||a,y=a.createElement("script"),cn(y),nr(y,"link",d),a.head.appendChild(y),s.instance=y);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(d=s.instance,s.state.loading|=4,Mp(d,u.precedence,a));return s.instance}function Mp(a,s,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,b=y,C=0;C<d.length;C++){var $=d[C];if($.dataset.precedence===s)b=$;else if(b!==y)break}b?b.parentNode.insertBefore(a,b.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(a,s.firstChild))}function N0(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function M0(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var kp=null;function uC(a,s,u){if(kp===null){var d=new Map,y=kp=new Map;y.set(u,d)}else y=kp,d=y.get(u),d||(d=new Map,y.set(u,d));if(d.has(a))return d;for(d.set(a,null),u=u.getElementsByTagName(a),y=0;y<u.length;y++){var b=u[y];if(!(b[Or]||b[rn]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var C=b.getAttribute(s)||"";C=a+C;var $=d.get(C);$?$.push(b):d.set(C,[b])}}return d}function cC(a,s,u){a=a.ownerDocument||a,a.head.insertBefore(u,s==="title"?a.querySelector("head > title"):null)}function kB(a,s,u){if(u===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function fC(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function jB(a,s,u,d){if(u.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var y=vu(d.href),b=s.querySelector(Cf(y));if(b){s=b._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=jp.bind(a),s.then(a,a)),u.state.loading|=4,u.instance=b,cn(b);return}b=s.ownerDocument||s,d=sC(d),(y=bi.get(y))&&N0(d,y),b=b.createElement("link"),cn(b);var C=b;C._p=new Promise(function($,G){C.onload=$,C.onerror=G}),nr(b,"link",d),u.instance=b}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,s),(s=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=jp.bind(a),s.addEventListener("load",u),s.addEventListener("error",u))}}var k0=0;function DB(a,s){return a.stylesheets&&a.count===0&&Lp(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var d=setTimeout(function(){if(a.stylesheets&&Lp(a,a.stylesheets),a.unsuspend){var b=a.unsuspend;a.unsuspend=null,b()}},6e4+s);0<a.imgBytes&&k0===0&&(k0=62500*gB());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Lp(a,a.stylesheets),a.unsuspend)){var b=a.unsuspend;a.unsuspend=null,b()}},(a.imgBytes>k0?50:800)+s);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(d),clearTimeout(y)}}:null}function jp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Lp(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Dp=null;function Lp(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Dp=new Map,s.forEach(LB,a),Dp=null,jp.call(a))}function LB(a,s){if(!(s.state.loading&4)){var u=Dp.get(a);if(u)var d=u.get(null);else{u=new Map,Dp.set(a,u);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var C=y[b];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(u.set(C.dataset.precedence,C),d=C)}d&&u.set(null,d)}y=s.instance,C=y.getAttribute("data-precedence"),b=u.get(C)||d,b===d&&u.set(null,y),u.set(C,y),this.count++,d=jp.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),b?b.parentNode.insertBefore(y,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),s.state.loading|=4}}var Rf={$$typeof:M,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function VB(a,s,u,d,y,b,C,$,G){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function hC(a,s,u,d,y,b,C,$,G,ae,fe,me){return a=new VB(a,s,u,C,G,ae,fe,me,$),s=1,b===!0&&(s|=24),b=Br(3,null,null,s),a.current=b,b.stateNode=a,s=dv(),s.refCount++,a.pooledCache=s,s.refCount++,b.memoizedState={element:d,isDehydrated:u,cache:s},yv(b),a}function dC(a){return a?(a=Xl,a):Xl}function pC(a,s,u,d,y,b){y=dC(y),d.context===null?d.context=y:d.pendingContext=y,d=No(s),d.payload={element:u},b=b===void 0?null:b,b!==null&&(d.callback=b),u=Mo(a,d,s),u!==null&&(kr(u,a,s),lf(u,a,s))}function mC(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<s?u:s}}function j0(a,s){mC(a,s),(a=a.alternate)&&mC(a,s)}function gC(a){if(a.tag===13||a.tag===31){var s=$s(a,67108864);s!==null&&kr(s,a,67108864),j0(a,67108864)}}function yC(a){if(a.tag===13||a.tag===31){var s=Hr();s=Ta(s);var u=$s(a,s);u!==null&&kr(u,a,s),j0(a,s)}}var Vp=!0;function UB(a,s,u,d){var y=H.T;H.T=null;var b=Y.p;try{Y.p=2,D0(a,s,u,d)}finally{Y.p=b,H.T=y}}function BB(a,s,u,d){var y=H.T;H.T=null;var b=Y.p;try{Y.p=8,D0(a,s,u,d)}finally{Y.p=b,H.T=y}}function D0(a,s,u,d){if(Vp){var y=L0(d);if(y===null)w0(a,s,d,Up,u),bC(a,d);else if(qB(y,a,s,u,d))d.stopPropagation();else if(bC(a,d),s&4&&-1<$B.indexOf(a)){for(;y!==null;){var b=gr(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var C=ni(b.pendingLanes);if(C!==0){var $=b;for($.pendingLanes|=2,$.entangledLanes|=2;C;){var G=1<<31-Je(C);$.entanglements[1]|=G,C&=~G}aa(b),(Vt&6)===0&&(xp=St()+500,Af(0))}}break;case 31:case 13:$=$s(b,2),$!==null&&kr($,b,2),Sp(),j0(b,2)}if(b=L0(d),b===null&&w0(a,s,d,Up,u),b===y)break;y=b}y!==null&&d.stopPropagation()}else w0(a,s,d,null,u)}}function L0(a){return a=ui(a),V0(a)}var Up=null;function V0(a){if(Up=null,a=oi(a),a!==null){var s=o(a);if(s===null)a=null;else{var u=s.tag;if(u===13){if(a=l(s),a!==null)return a;a=null}else if(u===31){if(a=c(s),a!==null)return a;a=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return Up=a,null}function vC(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ct()){case un:return 2;case ye:return 8;case Te:case ft:return 32;case ht:return 268435456;default:return 32}default:return 32}}var U0=!1,Fo=null,Ho=null,Go=null,Pf=new Map,Nf=new Map,Ko=[],$B="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bC(a,s){switch(a){case"focusin":case"focusout":Fo=null;break;case"dragenter":case"dragleave":Ho=null;break;case"mouseover":case"mouseout":Go=null;break;case"pointerover":case"pointerout":Pf.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nf.delete(s.pointerId)}}function Mf(a,s,u,d,y,b){return a===null||a.nativeEvent!==b?(a={blockedOn:s,domEventName:u,eventSystemFlags:d,nativeEvent:b,targetContainers:[y]},s!==null&&(s=gr(s),s!==null&&gC(s)),a):(a.eventSystemFlags|=d,s=a.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),a)}function qB(a,s,u,d,y){switch(s){case"focusin":return Fo=Mf(Fo,a,s,u,d,y),!0;case"dragenter":return Ho=Mf(Ho,a,s,u,d,y),!0;case"mouseover":return Go=Mf(Go,a,s,u,d,y),!0;case"pointerover":var b=y.pointerId;return Pf.set(b,Mf(Pf.get(b)||null,a,s,u,d,y)),!0;case"gotpointercapture":return b=y.pointerId,Nf.set(b,Mf(Nf.get(b)||null,a,s,u,d,y)),!0}return!1}function _C(a){var s=oi(a.target);if(s!==null){var u=o(s);if(u!==null){if(s=u.tag,s===13){if(s=l(u),s!==null){a.blockedOn=s,Tr(a.priority,function(){yC(u)});return}}else if(s===31){if(s=c(u),s!==null){a.blockedOn=s,Tr(a.priority,function(){yC(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Bp(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var u=L0(a.nativeEvent);if(u===null){u=a.nativeEvent;var d=new u.constructor(u.type,u);Hc=d,u.target.dispatchEvent(d),Hc=null}else return s=gr(u),s!==null&&gC(s),a.blockedOn=u,!1;s.shift()}return!0}function xC(a,s,u){Bp(a)&&u.delete(s)}function zB(){U0=!1,Fo!==null&&Bp(Fo)&&(Fo=null),Ho!==null&&Bp(Ho)&&(Ho=null),Go!==null&&Bp(Go)&&(Go=null),Pf.forEach(xC),Nf.forEach(xC)}function $p(a,s){a.blockedOn===s&&(a.blockedOn=null,U0||(U0=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,zB)))}var qp=null;function wC(a){qp!==a&&(qp=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){qp===a&&(qp=null);for(var s=0;s<a.length;s+=3){var u=a[s],d=a[s+1],y=a[s+2];if(typeof d!="function"){if(V0(d||u)===null)continue;break}var b=gr(u);b!==null&&(a.splice(s,3),s-=3,Lv(b,{pending:!0,data:y,method:u.method,action:d},d,y))}}))}function _u(a){function s(G){return $p(G,a)}Fo!==null&&$p(Fo,a),Ho!==null&&$p(Ho,a),Go!==null&&$p(Go,a),Pf.forEach(s),Nf.forEach(s);for(var u=0;u<Ko.length;u++){var d=Ko[u];d.blockedOn===a&&(d.blockedOn=null)}for(;0<Ko.length&&(u=Ko[0],u.blockedOn===null);)_C(u),u.blockedOn===null&&Ko.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var y=u[d],b=u[d+1],C=y[pn]||null;if(typeof b=="function")C||wC(u);else if(C){var $=null;if(b&&b.hasAttribute("formAction")){if(y=b,C=b[pn]||null)$=C.formAction;else if(V0(y)!==null)continue}else $=C.action;typeof $=="function"?u[d+1]=$:(u.splice(d,3),d-=3),wC(u)}}}function SC(){function a(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(C){return y=C})},focusReset:"manual",scroll:"manual"})}function s(){y!==null&&(y(),y=null),d||setTimeout(u,20)}function u(){if(!d&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(u,100),function(){d=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),y!==null&&(y(),y=null)}}}function B0(a){this._internalRoot=a}zp.prototype.render=B0.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var u=s.current,d=Hr();pC(u,d,a,s,null,null)},zp.prototype.unmount=B0.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;pC(a.current,2,null,a,null,null),Sp(),s[ai]=null}};function zp(a){this._internalRoot=a}zp.prototype.unstable_scheduleHydration=function(a){if(a){var s=$c();a={blockedOn:null,target:a,priority:s};for(var u=0;u<Ko.length&&s!==0&&s<Ko[u].priority;u++);Ko.splice(u,0,a),u===0&&_C(a)}};var AC=e.version;if(AC!=="19.2.0")throw Error(r(527,AC,"19.2.0"));Y.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=h(s),a=a!==null?p(a):null,a=a===null?null:a.stateNode,a};var FB={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fp.isDisabled&&Fp.supportsFiber)try{$e=Fp.inject(FB),nt=Fp}catch{}}return jf.createRoot=function(a,s){if(!i(a))throw Error(r(299));var u=!1,d="",y=PO,b=NO,C=MO;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(C=s.onRecoverableError)),s=hC(a,1,!1,null,null,u,d,null,y,b,C,SC),a[ai]=s.current,x0(a),new B0(s)},jf.hydrateRoot=function(a,s,u){if(!i(a))throw Error(r(299));var d=!1,y="",b=PO,C=NO,$=MO,G=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(C=u.onCaughtError),u.onRecoverableError!==void 0&&($=u.onRecoverableError),u.formState!==void 0&&(G=u.formState)),s=hC(a,1,!0,s,u??null,d,y,G,b,C,$,SC),s.context=dC(null),u=s.current,d=Hr(),d=Ta(d),y=No(d),y.callback=null,Mo(u,y,d),u=d,s.current.lanes=u,Aa(s,u),aa(s),a[ai]=s.current,x0(a),new zp(s)},jf.version="19.2.0",jf}var kC;function JB(){if(kC)return q0.exports;kC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),q0.exports=ZB(),q0.exports}var e9=JB();const t9=qt(e9);var q=lA();const K=qt(q),n9=()=>{};var jC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},r9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],l=t[n++],c=t[n++],f=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},_L={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],l=i+1<t.length,c=l?t[i+1]:0,f=i+2<t.length,h=f?t[i+2]:0,p=o>>2,m=(o&3)<<4|c>>4;let v=(c&15)<<2|h>>6,_=h&63;f||(_=64,l||(v=64)),r.push(n[p],n[m],n[v],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):r9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||h==null||m==null)throw new i9;const v=o<<2|c>>4;if(r.push(v),h!==64){const _=c<<4&240|h>>2;if(r.push(_),m!==64){const S=h<<6&192|m;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class i9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a9=function(t){const e=bL(t);return _L.encodeByteArray(e,!0)},Am=function(t){return a9(t).replace(/\./g,"")},xL=function(t){try{return _L.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9=()=>o9().__FIREBASE_DEFAULTS__,l9=()=>{if(typeof process>"u"||typeof jC>"u")return;const t=jC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},u9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&xL(t[1]);return e&&JSON.parse(e)},qg=()=>{try{return n9()||s9()||l9()||u9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wL=t=>{var e,n;return(n=(e=qg())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},c9=t=>{const e=wL(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},SL=()=>{var t;return(t=qg())==null?void 0:t.config},AL=t=>{var e;return(e=qg())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function EL(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h9(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Am(JSON.stringify(n)),Am(JSON.stringify(l)),""].join(".")}const nh={};function d9(){const t={prod:[],emulator:[]};for(const e of Object.keys(nh))nh[e]?t.emulator.push(e):t.prod.push(e);return t}function p9(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let DC=!1;function TL(t,e){if(typeof window>"u"||typeof document>"u"||!Sc(window.location.host)||nh[t]===e||nh[t]||DC)return;nh[t]=e;function n(v){return`__firebase__banner__${v}`}const r="__firebase__banner",o=d9().prod.length>0;function l(){const v=document.getElementById(r);v&&v.remove()}function c(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,_){v.setAttribute("width","24"),v.setAttribute("id",_),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function h(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{DC=!0,l()},v}function p(v,_){v.setAttribute("id",_),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function m(){const v=p9(r),_=n("text"),S=document.getElementById(_)||document.createElement("span"),w=n("learnmore"),x=document.getElementById(w)||document.createElement("a"),I=n("preprendIcon"),N=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const M=v.element;c(M),p(x,w);const V=h();f(N,I),M.append(N,S,x,V),document.body.appendChild(M)}o?(S.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function m9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pr())}function g9(){var e;const t=(e=qg())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function y9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function v9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function b9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _9(){const t=pr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function x9(){return!g9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function w9(){try{return typeof indexedDB=="object"}catch{return!1}}function S9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9="FirebaseError";class co extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=A9,Object.setPrototypeOf(this,co.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ld.prototype.create)}}class ld{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?E9(o,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new co(i,c,r)}}function E9(t,e){return t.replace(T9,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const T9=/\{\$([^}]+)}/g;function O9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function yl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],l=e[i];if(LC(o)&&LC(l)){if(!yl(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function LC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function C9(t,e){const n=new I9(t,e);return n.subscribe.bind(n)}class I9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");R9(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=K0),i.error===void 0&&(i.error=K0),i.complete===void 0&&(i.complete=K0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function R9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function K0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(t){return t&&t._delegate?t._delegate:t}class vl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new f9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(M9(e))try{this.getOrInitializeService({instanceIdentifier:rl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=rl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=rl){return this.instances.has(e)}getOptions(e=rl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:N9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=rl){return this.component?this.component.multipleInstances?e:rl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function N9(t){return t===rl?void 0:t}function M9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new P9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ot||(Ot={}));const j9={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},D9=Ot.INFO,L9={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},V9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=L9[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uA{constructor(e){this.name=e,this._logLevel=D9,this._logHandler=V9,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?j9[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...e),this._logHandler(this,Ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...e),this._logHandler(this,Ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...e),this._logHandler(this,Ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...e),this._logHandler(this,Ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...e),this._logHandler(this,Ot.ERROR,...e)}}const U9=(t,e)=>e.some(n=>t instanceof n);let VC,UC;function B9(){return VC||(VC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $9(){return UC||(UC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OL=new WeakMap,c1=new WeakMap,CL=new WeakMap,W0=new WeakMap,cA=new WeakMap;function q9(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(as(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&OL.set(n,t)}).catch(()=>{}),cA.set(e,t),e}function z9(t){if(c1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});c1.set(t,e)}let f1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return c1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||CL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return as(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function F9(t){f1=t(f1)}function H9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Y0(this),e,...n);return CL.set(r,e.sort?e.sort():[e]),as(r)}:$9().includes(t)?function(...e){return t.apply(Y0(this),e),as(OL.get(this))}:function(...e){return as(t.apply(Y0(this),e))}}function G9(t){return typeof t=="function"?H9(t):(t instanceof IDBTransaction&&z9(t),U9(t,B9())?new Proxy(t,f1):t)}function as(t){if(t instanceof IDBRequest)return q9(t);if(W0.has(t))return W0.get(t);const e=G9(t);return e!==t&&(W0.set(t,e),cA.set(e,t)),e}const Y0=t=>cA.get(t);function K9(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(t,e),c=as(l);return r&&l.addEventListener("upgradeneeded",f=>{r(as(l.result),f.oldVersion,f.newVersion,as(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),c.then(f=>{o&&f.addEventListener("close",()=>o()),i&&f.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const W9=["get","getKey","getAll","getAllKeys","count"],Y9=["put","add","delete","clear"],X0=new Map;function BC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(X0.get(e))return X0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Y9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||W9.includes(n)))return;const o=async function(l,...c){const f=this.transaction(l,i?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),i&&f.done]))[0]};return X0.set(e,o),o}F9(t=>({...t,get:(e,n,r)=>BC(e,n)||t.get(e,n,r),has:(e,n)=>!!BC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Q9(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Q9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const h1="@firebase/app",$C="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=new uA("@firebase/app"),Z9="@firebase/app-compat",J9="@firebase/analytics-compat",e$="@firebase/analytics",t$="@firebase/app-check-compat",n$="@firebase/app-check",r$="@firebase/auth",i$="@firebase/auth-compat",a$="@firebase/database",o$="@firebase/data-connect",s$="@firebase/database-compat",l$="@firebase/functions",u$="@firebase/functions-compat",c$="@firebase/installations",f$="@firebase/installations-compat",h$="@firebase/messaging",d$="@firebase/messaging-compat",p$="@firebase/performance",m$="@firebase/performance-compat",g$="@firebase/remote-config",y$="@firebase/remote-config-compat",v$="@firebase/storage",b$="@firebase/storage-compat",_$="@firebase/firestore",x$="@firebase/ai",w$="@firebase/firestore-compat",S$="firebase",A$="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="[DEFAULT]",E$={[h1]:"fire-core",[Z9]:"fire-core-compat",[e$]:"fire-analytics",[J9]:"fire-analytics-compat",[n$]:"fire-app-check",[t$]:"fire-app-check-compat",[r$]:"fire-auth",[i$]:"fire-auth-compat",[a$]:"fire-rtdb",[o$]:"fire-data-connect",[s$]:"fire-rtdb-compat",[l$]:"fire-fn",[u$]:"fire-fn-compat",[c$]:"fire-iid",[f$]:"fire-iid-compat",[h$]:"fire-fcm",[d$]:"fire-fcm-compat",[p$]:"fire-perf",[m$]:"fire-perf-compat",[g$]:"fire-rc",[y$]:"fire-rc-compat",[v$]:"fire-gcs",[b$]:"fire-gcs-compat",[_$]:"fire-fst",[w$]:"fire-fst-compat",[x$]:"fire-vertex","fire-js":"fire-js",[S$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em=new Map,T$=new Map,p1=new Map;function qC(t,e){try{t.container.addComponent(e)}catch(n){ro.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zu(t){const e=t.name;if(p1.has(e))return ro.debug(`There were multiple attempts to register component ${e}.`),!1;p1.set(e,t);for(const n of Em.values())qC(n,t);for(const n of T$.values())qC(n,t);return!0}function fA(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},os=new ld("app","Firebase",O$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac=A$;function IL(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:d1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw os.create("bad-app-name",{appName:String(i)});if(n||(n=SL()),!n)throw os.create("no-options");const o=Em.get(i);if(o){if(yl(n,o.options)&&yl(r,o.config))return o;throw os.create("duplicate-app",{appName:i})}const l=new k9(i);for(const f of p1.values())l.addComponent(f);const c=new C$(n,r,l);return Em.set(i,c),c}function RL(t=d1){const e=Em.get(t);if(!e&&t===d1&&SL())return IL();if(!e)throw os.create("no-app",{appName:t});return e}function ss(t,e,n){let r=E$[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ro.warn(l.join(" "));return}zu(new vl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$="firebase-heartbeat-database",R$=1,yh="firebase-heartbeat-store";let Q0=null;function PL(){return Q0||(Q0=K9(I$,R$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yh)}catch(n){console.warn(n)}}}}).catch(t=>{throw os.create("idb-open",{originalErrorMessage:t.message})})),Q0}async function P$(t){try{const n=(await PL()).transaction(yh),r=await n.objectStore(yh).get(NL(t));return await n.done,r}catch(e){if(e instanceof co)ro.warn(e.message);else{const n=os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ro.warn(n.message)}}}async function zC(t,e){try{const r=(await PL()).transaction(yh,"readwrite");await r.objectStore(yh).put(e,NL(t)),await r.done}catch(n){if(n instanceof co)ro.warn(n.message);else{const r=os.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ro.warn(r.message)}}}function NL(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$=1024,M$=30;class k${constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new D$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=FC();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>M$){const l=L$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ro.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=FC(),{heartbeatsToSend:r,unsentEntries:i}=j$(this._heartbeatsCache.heartbeats),o=Am(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ro.warn(n),""}}}function FC(){return new Date().toISOString().substring(0,10)}function j$(t,e=N$){const n=[];let r=t.slice();for(const i of t){const o=n.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),HC(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),HC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class D${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return w9()?S9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await P$(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return zC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return zC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function HC(t){return Am(JSON.stringify({version:2,heartbeats:t})).length}function L$(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V$(t){zu(new vl("platform-logger",e=>new X9(e),"PRIVATE")),zu(new vl("heartbeat",e=>new k$(e),"PRIVATE")),ss(h1,$C,t),ss(h1,$C,"esm2020"),ss("fire-js","")}V$("");function ML(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const U$=ML,kL=new ld("auth","Firebase",ML());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm=new uA("@firebase/auth");function B$(t,...e){Tm.logLevel<=Ot.WARN&&Tm.warn(`Auth (${Ac}): ${t}`,...e)}function fm(t,...e){Tm.logLevel<=Ot.ERROR&&Tm.error(`Auth (${Ac}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(t,...e){throw dA(t,...e)}function Hi(t,...e){return dA(t,...e)}function hA(t,e,n){const r={...U$(),[e]:n};return new ld("auth","Firebase",r).create(e,{appName:t.name})}function dl(t){return hA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $$(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ga(t,"argument-error"),hA(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dA(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return kL.create(t,...e)}function at(t,e,...n){if(!t)throw dA(e,...n)}function Ya(t){const e="INTERNAL ASSERTION FAILED: "+t;throw fm(e),new Error(e)}function io(t,e){t||Ya(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function q$(){return GC()==="http:"||GC()==="https:"}function GC(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(q$()||v9()||"connection"in navigator)?navigator.onLine:!0}function F$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n){this.shortDelay=e,this.longDelay=n,io(n>e,"Short delay should be less than long delay!"),this.isMobile=m9()||b9()}get(){return z$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(t,e){io(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ya("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ya("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ya("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],K$=new cd(3e4,6e4);function mA(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ec(t,e,n,r,i={}){return DL(t,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=ud({key:t.config.apiKey,...l}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:f,...o};return y9()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Sc(t.emulatorConfig.host)&&(h.credentials="include"),jL.fetch()(await LL(t,t.config.apiHost,n,c),h)})}async function DL(t,e,n){t._canInitEmulator=!1;const r={...H$,...e};try{const i=new Y$(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Gp(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[f,h]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gp(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Gp(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw Gp(t,"user-disabled",l);const p=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw hA(t,p,h);ga(t,p)}}catch(i){if(i instanceof co)throw i;ga(t,"network-request-failed",{message:String(i)})}}async function W$(t,e,n,r,i={}){const o=await Ec(t,e,n,r,i);return"mfaPendingCredential"in o&&ga(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function LL(t,e,n,r){const i=`${e}${n}?${r}`,o=t,l=o.config.emulator?pA(t.config,i):`${t.config.apiScheme}://${i}`;return G$.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}class Y${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hi(this.auth,"network-request-failed")),K$.get())})}}function Gp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Hi(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X$(t,e){return Ec(t,"POST","/v1/accounts:delete",e)}async function Om(t,e){return Ec(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Q$(t,e=!1){const n=Ar(t),r=await n.getIdToken(e),i=gA(r);at(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:rh(Z0(i.auth_time)),issuedAtTime:rh(Z0(i.iat)),expirationTime:rh(Z0(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Z0(t){return Number(t)*1e3}function gA(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return fm("JWT malformed, contained fewer than 3 sections"),null;try{const i=xL(n);return i?JSON.parse(i):(fm("Failed to decode base64 JWT payload"),null)}catch(i){return fm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function KC(t){const e=gA(t);return at(e,"internal-error"),at(typeof e.exp<"u","internal-error"),at(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof co&&Z$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Z$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=rh(this.lastLoginAt),this.creationTime=rh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cm(t){var m;const e=t.auth,n=await t.getIdToken(),r=await vh(t,Om(e,{idToken:n}));at(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(m=i.providerUserInfo)!=null&&m.length?VL(i.providerUserInfo):[],l=tq(t.providerData,o),c=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),h=c?f:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new g1(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function eq(t){const e=Ar(t);await Cm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tq(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function VL(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nq(t,e){const n=await DL(t,{},async()=>{const r=ud({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,l=await LL(t,i,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:r};return t.emulatorConfig&&Sc(t.emulatorConfig.host)&&(f.credentials="include"),jL.fetch()(l,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rq(t,e){return Ec(t,"POST","/v2/accounts:revokeToken",mA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){at(e.idToken,"internal-error"),at(typeof e.idToken<"u","internal-error"),at(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):KC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){at(e.length!==0,"internal-error");const n=KC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(at(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await nq(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,l=new Du;return r&&(at(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(at(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(at(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Du,this.toJSON())}_performRefresh(){return Ya("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(t,e){at(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fi{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new J$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new g1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await vh(this,this.stsTokenManager.getToken(this.auth,e));return at(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Q$(this,e)}reload(){return eq(this)}_assign(e){this!==e&&(at(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){at(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Cm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qi(this.auth.app))return Promise.reject(dl(this.auth));const e=await this.getIdToken();return await vh(this,X$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,l=n.photoURL??void 0,c=n.tenantId??void 0,f=n._redirectEventId??void 0,h=n.createdAt??void 0,p=n.lastLoginAt??void 0,{uid:m,emailVerified:v,isAnonymous:_,providerData:S,stsTokenManager:w}=n;at(m&&w,e,"internal-error");const x=Du.fromJSON(this.name,w);at(typeof m=="string",e,"internal-error"),Yo(r,e.name),Yo(i,e.name),at(typeof v=="boolean",e,"internal-error"),at(typeof _=="boolean",e,"internal-error"),Yo(o,e.name),Yo(l,e.name),Yo(c,e.name),Yo(f,e.name),Yo(h,e.name),Yo(p,e.name);const I=new Fi({uid:m,auth:e,email:i,emailVerified:v,displayName:r,isAnonymous:_,photoURL:l,phoneNumber:o,tenantId:c,stsTokenManager:x,createdAt:h,lastLoginAt:p});return S&&Array.isArray(S)&&(I.providerData=S.map(N=>({...N}))),f&&(I._redirectEventId=f),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new Du;i.updateFromServerResponse(n);const o=new Fi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Cm(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];at(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?VL(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),c=new Du;c.updateFromIdToken(r);const f=new Fi({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new g1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,h),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=new Map;function Xa(t){io(t instanceof Function,"Expected a class definition");let e=WC.get(t);return e?(io(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,WC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}UL.type="NONE";const YC=UL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(t,e,n){return`firebase:${t}:${e}:${n}`}class Lu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=hm(this.userKey,i.apiKey,o),this.fullPersistenceKey=hm("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Om(this.auth,{idToken:e}).catch(()=>{});return n?Fi._fromGetAccountInfoResponse(this.auth,n,e):null}return Fi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Lu(Xa(YC),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=i[0]||Xa(YC);const l=hm(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const p=await h._get(l);if(p){let m;if(typeof p=="string"){const v=await Om(e,{idToken:p}).catch(()=>{});if(!v)break;m=await Fi._fromGetAccountInfoResponse(e,v,p)}else m=Fi._fromJSON(e,p);h!==o&&(c=m),o=h;break}}catch{}const f=i.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Lu(o,e,r):(o=f[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==o)try{await h._remove(l)}catch{}})),new Lu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HL(e))return"Blackberry";if(GL(e))return"Webos";if($L(e))return"Safari";if((e.includes("chrome/")||qL(e))&&!e.includes("edge/"))return"Chrome";if(FL(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function BL(t=pr()){return/firefox\//i.test(t)}function $L(t=pr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qL(t=pr()){return/crios\//i.test(t)}function zL(t=pr()){return/iemobile/i.test(t)}function FL(t=pr()){return/android/i.test(t)}function HL(t=pr()){return/blackberry/i.test(t)}function GL(t=pr()){return/webos/i.test(t)}function yA(t=pr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function iq(t=pr()){var e;return yA(t)&&!!((e=window.navigator)!=null&&e.standalone)}function aq(){return _9()&&document.documentMode===10}function KL(t=pr()){return yA(t)||FL(t)||GL(t)||HL(t)||/windows phone/i.test(t)||zL(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(t,e=[]){let n;switch(t){case"Browser":n=XC(pr());break;case"Worker":n=`${XC(pr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ac}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,c)=>{try{const f=e(o);l(f)}catch(f){c(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sq(t,e={}){return Ec(t,"GET","/v2/passwordPolicy",mA(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lq=6;class uq{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??lq,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new QC(this),this.idTokenSubscription=new QC(this),this.beforeStateQueue=new oq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kL,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xa(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Lu.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Om(this,{idToken:e}),r=await Fi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(qi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(o=this.redirectUser)==null?void 0:o._redirectEventId,c=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&(f!=null&&f.user)&&(r=f.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return at(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Cm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=F$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qi(this.app))return Promise.reject(dl(this));const n=e?Ar(e):null;return n&&at(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&at(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qi(this.app)?Promise.reject(dl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qi(this.app)?Promise.reject(dl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sq(this),n=new uq(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ld("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await rq(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xa(e)||this._popupRedirectResolver;at(n,this,"argument-error"),this.redirectPersistenceManager=await Lu.create(this,[Xa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(at(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return at(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(qi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&B$(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function zg(t){return Ar(t)}class QC{constructor(e){this.auth=e,this.observer=null,this.addObserver=C9(n=>this.observer=n)}get next(){return at(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vA={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fq(t){vA=t}function hq(t){return vA.loadJS(t)}function dq(){return vA.gapiScript}function pq(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mq(t,e){const n=fA(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(yl(o,e??{}))return i;ga(i,"already-initialized")}return n.initialize({options:e})}function gq(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Xa);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function yq(t,e,n){const r=zg(t);at(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=YL(e),{host:l,port:c}=vq(e),f=c===null?"":`:${c}`,h={url:`${o}//${l}${f}/`},p=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){at(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),at(yl(h,r.config.emulator)&&yl(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Sc(l)?(EL(`${o}//${l}${f}`),TL("Auth",!0)):bq()}function YL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function vq(t){const e=YL(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:ZC(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:ZC(l)}}}function ZC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function bq(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ya("not implemented")}_getIdTokenResponse(e){return Ya("not implemented")}_linkToIdToken(e,n){return Ya("not implemented")}_getReauthenticationResolver(e){return Ya("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vu(t,e){return W$(t,"POST","/v1/accounts:signInWithIdp",mA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _q="http://localhost";class bl extends XL{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new bl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ga("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const l=new bl(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Vu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Vu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vu(e,n)}buildRequest(){const e={requestUri:_q,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ud(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd extends bA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo extends fd{constructor(){super("facebook.com")}static credential(e){return bl._fromParams({providerId:Jo.PROVIDER_ID,signInMethod:Jo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jo.credentialFromTaggedObject(e)}static credentialFromError(e){return Jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jo.credential(e.oauthAccessToken)}catch{return null}}}Jo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends fd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return bl._fromParams({providerId:Wa.PROVIDER_ID,signInMethod:Wa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wa.credentialFromTaggedObject(e)}static credentialFromError(e){return Wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Wa.credential(n,r)}catch{return null}}}Wa.GOOGLE_SIGN_IN_METHOD="google.com";Wa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends fd{constructor(){super("github.com")}static credential(e){return bl._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.GITHUB_SIGN_IN_METHOD="github.com";es.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends fd{constructor(){super("twitter.com")}static credential(e,n){return bl._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ts.credential(n,r)}catch{return null}}}ts.TWITTER_SIGN_IN_METHOD="twitter.com";ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Fi._fromIdTokenResponse(e,r,i),l=JC(r);return new Fu({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=JC(r);return new Fu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function JC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im extends co{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Im.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Im(e,n,r,i)}}function QL(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Im._fromErrorAndOperation(t,o,e,r):o})}async function xq(t,e,n=!1){const r=await vh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Fu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wq(t,e,n=!1){const{auth:r}=t;if(qi(r.app))return Promise.reject(dl(r));const i="reauthenticate";try{const o=await vh(t,QL(r,i,e,t),n);at(o.idToken,r,"internal-error");const l=gA(o.idToken);at(l,r,"internal-error");const{sub:c}=l;return at(t.uid===c,r,"user-mismatch"),Fu._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ga(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sq(t,e,n=!1){if(qi(t.app))return Promise.reject(dl(t));const r="signIn",i=await QL(t,r,e),o=await Fu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function Aq(t,e,n,r){return Ar(t).onIdTokenChanged(e,n,r)}function Eq(t,e,n){return Ar(t).beforeAuthStateChanged(e,n)}function Tq(t,e,n,r){return Ar(t).onAuthStateChanged(e,n,r)}function Oq(t){return Ar(t).signOut()}const Rm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rm,"1"),this.storage.removeItem(Rm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cq=1e3,Iq=10;class JL extends ZL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,f)=>{this.notifyListeners(l,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);aq()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Iq):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Cq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JL.type="LOCAL";const Rq=JL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4 extends ZL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}e4.type="SESSION";const t4=e4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pq(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Fg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async h=>h(n.origin,o)),f=await Pq(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,f)=>{const h=_A("",20);i.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(m){const v=m;if(v.data.eventId===h)switch(v.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(v.data.response);break;default:clearTimeout(p),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(){return window}function Mq(t){la().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(){return typeof la().WorkerGlobalScope<"u"&&typeof la().importScripts=="function"}async function kq(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jq(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Dq(){return n4()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4="firebaseLocalStorageDb",Lq=1,Pm="firebaseLocalStorage",i4="fbase_key";class hd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hg(t,e){return t.transaction([Pm],e?"readwrite":"readonly").objectStore(Pm)}function Vq(){const t=indexedDB.deleteDatabase(r4);return new hd(t).toPromise()}function y1(){const t=indexedDB.open(r4,Lq);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Pm,{keyPath:i4})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Pm)?e(r):(r.close(),await Vq(),e(await y1()))})})}async function eI(t,e,n){const r=Hg(t,!0).put({[i4]:e,value:n});return new hd(r).toPromise()}async function Uq(t,e){const n=Hg(t,!1).get(e),r=await new hd(n).toPromise();return r===void 0?null:r.value}function tI(t,e){const n=Hg(t,!0).delete(e);return new hd(n).toPromise()}const Bq=800,$q=3;class a4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await y1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$q)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return n4()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fg._getInstance(Dq()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await kq(),!this.activeServiceWorker)return;this.sender=new Nq(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jq()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await y1();return await eI(e,Rm,"1"),await tI(e,Rm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>eI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Uq(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>tI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Hg(i,!1).getAll();return new hd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Bq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}a4.type="LOCAL";const qq=a4;new cd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o4(t,e){return e?Xa(e):(at(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA extends XL{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function zq(t){return Sq(t.auth,new xA(t),t.bypassAuthState)}function Fq(t){const{auth:e,user:n}=t;return at(n,e,"internal-error"),wq(n,new xA(t),t.bypassAuthState)}async function Hq(t){const{auth:e,user:n}=t;return at(n,e,"internal-error"),xq(n,new xA(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zq;case"linkViaPopup":case"linkViaRedirect":return Hq;case"reauthViaPopup":case"reauthViaRedirect":return Fq;default:ga(this.auth,"internal-error")}}resolve(e){io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){io(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gq=new cd(2e3,1e4);async function Kq(t,e,n){if(qi(t.app))return Promise.reject(Hi(t,"operation-not-supported-in-this-environment"));const r=zg(t);$$(t,e,bA);const i=o4(r,n);return new sl(r,"signInViaPopup",e,i).executeNotNull()}class sl extends s4{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,sl.currentPopupAction&&sl.currentPopupAction.cancel(),sl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return at(e,this.auth,"internal-error"),e}async onExecution(){io(this.filter.length===1,"Popup operations only handle one event");const e=_A();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Gq.get())};e()}}sl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wq="pendingRedirect",dm=new Map;class Yq extends s4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=dm.get(this.auth._key());if(!e){try{const r=await Xq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}dm.set(this.auth._key(),e)}return this.bypassAuthState||dm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Xq(t,e){const n=Jq(e),r=Zq(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Qq(t,e){dm.set(t._key(),e)}function Zq(t){return Xa(t._redirectPersistence)}function Jq(t){return hm(Wq,t.config.apiKey,t.name)}async function ez(t,e,n=!1){if(qi(t.app))return Promise.reject(dl(t));const r=zg(t),i=o4(r,e),l=await new Yq(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tz=600*1e3;class nz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!l4(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Hi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tz&&this.cachedEventUids.clear(),this.cachedEventUids.has(nI(e))}saveEventToCache(e){this.cachedEventUids.add(nI(e)),this.lastProcessedEventTime=Date.now()}}function nI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function l4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return l4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iz(t,e={}){return Ec(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const az=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oz=/^https?/;async function sz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await iz(t);for(const n of e)try{if(lz(n))return}catch{}ga(t,"unauthorized-domain")}function lz(t){const e=m1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!oz.test(n))return!1;if(az.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uz=new cd(3e4,6e4);function rI(){const t=la().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function cz(t){return new Promise((e,n)=>{var i,o,l;function r(){rI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rI(),n(Hi(t,"network-request-failed"))},timeout:uz.get()})}if((o=(i=la().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((l=la().gapi)!=null&&l.load)r();else{const c=pq("iframefcb");return la()[c]=()=>{gapi.load?r():n(Hi(t,"network-request-failed"))},hq(`${dq()}?onload=${c}`).catch(f=>n(f))}}).catch(e=>{throw pm=null,e})}let pm=null;function fz(t){return pm=pm||cz(t),pm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hz=new cd(5e3,15e3),dz="__/auth/iframe",pz="emulator/auth/iframe",mz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yz(t){const e=t.config;at(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?pA(e,pz):`https://${t.config.authDomain}/${dz}`,r={apiKey:e.apiKey,appName:t.name,v:Ac},i=gz.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ud(r).slice(1)}`}async function vz(t){const e=await fz(t),n=la().gapi;return at(n,t,"internal-error"),e.open({where:document.body,url:yz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mz,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=Hi(t,"network-request-failed"),c=la().setTimeout(()=>{o(l)},hz.get());function f(){la().clearTimeout(c),i(r)}r.ping(f).then(f,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_z=500,xz=600,wz="_blank",Sz="http://localhost";class iI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Az(t,e,n,r=_z,i=xz){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f={...bz,width:r.toString(),height:i.toString(),top:o,left:l},h=pr().toLowerCase();n&&(c=qL(h)?wz:n),BL(h)&&(e=e||Sz,f.scrollbars="yes");const p=Object.entries(f).reduce((v,[_,S])=>`${v}${_}=${S},`,"");if(iq(h)&&c!=="_self")return Ez(e||"",c),new iI(null);const m=window.open(e||"",c,p);at(m,t,"popup-blocked");try{m.focus()}catch{}return new iI(m)}function Ez(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tz="__/auth/handler",Oz="emulator/auth/handler",Cz=encodeURIComponent("fac");async function aI(t,e,n,r,i,o){at(t.config.authDomain,t,"auth-domain-config-required"),at(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ac,eventId:i};if(e instanceof bA){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",O9(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))l[p]=m}if(e instanceof fd){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const f=await t._getAppCheckToken(),h=f?`#${Cz}=${encodeURIComponent(f)}`:"";return`${Iz(t)}?${ud(c).slice(1)}${h}`}function Iz({config:t}){return t.emulator?pA(t,Oz):`https://${t.authDomain}/${Tz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="webStorageSupport";class Rz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=t4,this._completeRedirectFn=ez,this._overrideRedirectResult=Qq}async _openPopup(e,n,r,i){var l;io((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const o=await aI(e,n,r,m1(),i);return Az(e,o,_A())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await aI(e,n,r,m1(),i);return Mq(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(io(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await vz(e),r=new nz(e);return n.register("authEvent",i=>(at(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(J0,{type:J0},i=>{var l;const o=(l=i==null?void 0:i[0])==null?void 0:l[J0];o!==void 0&&n(!!o),ga(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return KL()||$L()||yA()}}const Pz=Rz;var oI="@firebase/auth",sI="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){at(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kz(t){zu(new vl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;at(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WL(t)},h=new cq(r,i,o,f);return gq(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),zu(new vl("auth-internal",e=>{const n=zg(e.getProvider("auth").getImmediate());return(r=>new Nz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ss(oI,sI,Mz(t)),ss(oI,sI,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jz=300,Dz=AL("authIdTokenMaxAge")||jz;let lI=null;const Lz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Dz)return;const i=n==null?void 0:n.token;lI!==i&&(lI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Vz(t=RL()){const e=fA(t,"auth");if(e.isInitialized())return e.getImmediate();const n=mq(t,{popupRedirectResolver:Pz,persistence:[qq,Rq,t4]}),r=AL("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=Lz(o.toString());Eq(n,l,()=>l(n.currentUser)),Aq(n,c=>l(c))}}const i=wL("auth");return i&&yq(n,`http://${i}`),n}function Uz(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}fq({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Hi("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Uz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kz("Browser");var uI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ls,u4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,R){function P(){}P.prototype=R.prototype,T.F=R.prototype,T.prototype=new P,T.prototype.constructor=T,T.D=function(U,D,B){for(var L=Array(arguments.length-2),J=2;J<arguments.length;J++)L[J-2]=arguments[J];return R.prototype[D].apply(U,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,R,P){P||(P=0);const U=Array(16);if(typeof R=="string")for(var D=0;D<16;++D)U[D]=R.charCodeAt(P++)|R.charCodeAt(P++)<<8|R.charCodeAt(P++)<<16|R.charCodeAt(P++)<<24;else for(D=0;D<16;++D)U[D]=R[P++]|R[P++]<<8|R[P++]<<16|R[P++]<<24;R=T.g[0],P=T.g[1],D=T.g[2];let B=T.g[3],L;L=R+(B^P&(D^B))+U[0]+3614090360&4294967295,R=P+(L<<7&4294967295|L>>>25),L=B+(D^R&(P^D))+U[1]+3905402710&4294967295,B=R+(L<<12&4294967295|L>>>20),L=D+(P^B&(R^P))+U[2]+606105819&4294967295,D=B+(L<<17&4294967295|L>>>15),L=P+(R^D&(B^R))+U[3]+3250441966&4294967295,P=D+(L<<22&4294967295|L>>>10),L=R+(B^P&(D^B))+U[4]+4118548399&4294967295,R=P+(L<<7&4294967295|L>>>25),L=B+(D^R&(P^D))+U[5]+1200080426&4294967295,B=R+(L<<12&4294967295|L>>>20),L=D+(P^B&(R^P))+U[6]+2821735955&4294967295,D=B+(L<<17&4294967295|L>>>15),L=P+(R^D&(B^R))+U[7]+4249261313&4294967295,P=D+(L<<22&4294967295|L>>>10),L=R+(B^P&(D^B))+U[8]+1770035416&4294967295,R=P+(L<<7&4294967295|L>>>25),L=B+(D^R&(P^D))+U[9]+2336552879&4294967295,B=R+(L<<12&4294967295|L>>>20),L=D+(P^B&(R^P))+U[10]+4294925233&4294967295,D=B+(L<<17&4294967295|L>>>15),L=P+(R^D&(B^R))+U[11]+2304563134&4294967295,P=D+(L<<22&4294967295|L>>>10),L=R+(B^P&(D^B))+U[12]+1804603682&4294967295,R=P+(L<<7&4294967295|L>>>25),L=B+(D^R&(P^D))+U[13]+4254626195&4294967295,B=R+(L<<12&4294967295|L>>>20),L=D+(P^B&(R^P))+U[14]+2792965006&4294967295,D=B+(L<<17&4294967295|L>>>15),L=P+(R^D&(B^R))+U[15]+1236535329&4294967295,P=D+(L<<22&4294967295|L>>>10),L=R+(D^B&(P^D))+U[1]+4129170786&4294967295,R=P+(L<<5&4294967295|L>>>27),L=B+(P^D&(R^P))+U[6]+3225465664&4294967295,B=R+(L<<9&4294967295|L>>>23),L=D+(R^P&(B^R))+U[11]+643717713&4294967295,D=B+(L<<14&4294967295|L>>>18),L=P+(B^R&(D^B))+U[0]+3921069994&4294967295,P=D+(L<<20&4294967295|L>>>12),L=R+(D^B&(P^D))+U[5]+3593408605&4294967295,R=P+(L<<5&4294967295|L>>>27),L=B+(P^D&(R^P))+U[10]+38016083&4294967295,B=R+(L<<9&4294967295|L>>>23),L=D+(R^P&(B^R))+U[15]+3634488961&4294967295,D=B+(L<<14&4294967295|L>>>18),L=P+(B^R&(D^B))+U[4]+3889429448&4294967295,P=D+(L<<20&4294967295|L>>>12),L=R+(D^B&(P^D))+U[9]+568446438&4294967295,R=P+(L<<5&4294967295|L>>>27),L=B+(P^D&(R^P))+U[14]+3275163606&4294967295,B=R+(L<<9&4294967295|L>>>23),L=D+(R^P&(B^R))+U[3]+4107603335&4294967295,D=B+(L<<14&4294967295|L>>>18),L=P+(B^R&(D^B))+U[8]+1163531501&4294967295,P=D+(L<<20&4294967295|L>>>12),L=R+(D^B&(P^D))+U[13]+2850285829&4294967295,R=P+(L<<5&4294967295|L>>>27),L=B+(P^D&(R^P))+U[2]+4243563512&4294967295,B=R+(L<<9&4294967295|L>>>23),L=D+(R^P&(B^R))+U[7]+1735328473&4294967295,D=B+(L<<14&4294967295|L>>>18),L=P+(B^R&(D^B))+U[12]+2368359562&4294967295,P=D+(L<<20&4294967295|L>>>12),L=R+(P^D^B)+U[5]+4294588738&4294967295,R=P+(L<<4&4294967295|L>>>28),L=B+(R^P^D)+U[8]+2272392833&4294967295,B=R+(L<<11&4294967295|L>>>21),L=D+(B^R^P)+U[11]+1839030562&4294967295,D=B+(L<<16&4294967295|L>>>16),L=P+(D^B^R)+U[14]+4259657740&4294967295,P=D+(L<<23&4294967295|L>>>9),L=R+(P^D^B)+U[1]+2763975236&4294967295,R=P+(L<<4&4294967295|L>>>28),L=B+(R^P^D)+U[4]+1272893353&4294967295,B=R+(L<<11&4294967295|L>>>21),L=D+(B^R^P)+U[7]+4139469664&4294967295,D=B+(L<<16&4294967295|L>>>16),L=P+(D^B^R)+U[10]+3200236656&4294967295,P=D+(L<<23&4294967295|L>>>9),L=R+(P^D^B)+U[13]+681279174&4294967295,R=P+(L<<4&4294967295|L>>>28),L=B+(R^P^D)+U[0]+3936430074&4294967295,B=R+(L<<11&4294967295|L>>>21),L=D+(B^R^P)+U[3]+3572445317&4294967295,D=B+(L<<16&4294967295|L>>>16),L=P+(D^B^R)+U[6]+76029189&4294967295,P=D+(L<<23&4294967295|L>>>9),L=R+(P^D^B)+U[9]+3654602809&4294967295,R=P+(L<<4&4294967295|L>>>28),L=B+(R^P^D)+U[12]+3873151461&4294967295,B=R+(L<<11&4294967295|L>>>21),L=D+(B^R^P)+U[15]+530742520&4294967295,D=B+(L<<16&4294967295|L>>>16),L=P+(D^B^R)+U[2]+3299628645&4294967295,P=D+(L<<23&4294967295|L>>>9),L=R+(D^(P|~B))+U[0]+4096336452&4294967295,R=P+(L<<6&4294967295|L>>>26),L=B+(P^(R|~D))+U[7]+1126891415&4294967295,B=R+(L<<10&4294967295|L>>>22),L=D+(R^(B|~P))+U[14]+2878612391&4294967295,D=B+(L<<15&4294967295|L>>>17),L=P+(B^(D|~R))+U[5]+4237533241&4294967295,P=D+(L<<21&4294967295|L>>>11),L=R+(D^(P|~B))+U[12]+1700485571&4294967295,R=P+(L<<6&4294967295|L>>>26),L=B+(P^(R|~D))+U[3]+2399980690&4294967295,B=R+(L<<10&4294967295|L>>>22),L=D+(R^(B|~P))+U[10]+4293915773&4294967295,D=B+(L<<15&4294967295|L>>>17),L=P+(B^(D|~R))+U[1]+2240044497&4294967295,P=D+(L<<21&4294967295|L>>>11),L=R+(D^(P|~B))+U[8]+1873313359&4294967295,R=P+(L<<6&4294967295|L>>>26),L=B+(P^(R|~D))+U[15]+4264355552&4294967295,B=R+(L<<10&4294967295|L>>>22),L=D+(R^(B|~P))+U[6]+2734768916&4294967295,D=B+(L<<15&4294967295|L>>>17),L=P+(B^(D|~R))+U[13]+1309151649&4294967295,P=D+(L<<21&4294967295|L>>>11),L=R+(D^(P|~B))+U[4]+4149444226&4294967295,R=P+(L<<6&4294967295|L>>>26),L=B+(P^(R|~D))+U[11]+3174756917&4294967295,B=R+(L<<10&4294967295|L>>>22),L=D+(R^(B|~P))+U[2]+718787259&4294967295,D=B+(L<<15&4294967295|L>>>17),L=P+(B^(D|~R))+U[9]+3951481745&4294967295,T.g[0]=T.g[0]+R&4294967295,T.g[1]=T.g[1]+(D+(L<<21&4294967295|L>>>11))&4294967295,T.g[2]=T.g[2]+D&4294967295,T.g[3]=T.g[3]+B&4294967295}r.prototype.v=function(T,R){R===void 0&&(R=T.length);const P=R-this.blockSize,U=this.C;let D=this.h,B=0;for(;B<R;){if(D==0)for(;B<=P;)i(this,T,B),B+=this.blockSize;if(typeof T=="string"){for(;B<R;)if(U[D++]=T.charCodeAt(B++),D==this.blockSize){i(this,U),D=0;break}}else for(;B<R;)if(U[D++]=T[B++],D==this.blockSize){i(this,U),D=0;break}}this.h=D,this.o+=R},r.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var R=1;R<T.length-8;++R)T[R]=0;R=this.o*8;for(var P=T.length-8;P<T.length;++P)T[P]=R&255,R/=256;for(this.v(T),T=Array(16),R=0,P=0;P<4;++P)for(let U=0;U<32;U+=8)T[R++]=this.g[P]>>>U&255;return T};function o(T,R){var P=c;return Object.prototype.hasOwnProperty.call(P,T)?P[T]:P[T]=R(T)}function l(T,R){this.h=R;const P=[];let U=!0;for(let D=T.length-1;D>=0;D--){const B=T[D]|0;U&&B==R||(P[D]=B,U=!1)}this.g=P}var c={};function f(T){return-128<=T&&T<128?o(T,function(R){return new l([R|0],R<0?-1:0)}):new l([T|0],T<0?-1:0)}function h(T){if(isNaN(T)||!isFinite(T))return m;if(T<0)return x(h(-T));const R=[];let P=1;for(let U=0;T>=P;U++)R[U]=T/P|0,P*=4294967296;return new l(R,0)}function p(T,R){if(T.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(T.charAt(0)=="-")return x(p(T.substring(1),R));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=h(Math.pow(R,8));let U=m;for(let B=0;B<T.length;B+=8){var D=Math.min(8,T.length-B);const L=parseInt(T.substring(B,B+D),R);D<8?(D=h(Math.pow(R,D)),U=U.j(D).add(h(L))):(U=U.j(P),U=U.add(h(L)))}return U}var m=f(0),v=f(1),_=f(16777216);t=l.prototype,t.m=function(){if(w(this))return-x(this).m();let T=0,R=1;for(let P=0;P<this.g.length;P++){const U=this.i(P);T+=(U>=0?U:4294967296+U)*R,R*=4294967296}return T},t.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(S(this))return"0";if(w(this))return"-"+x(this).toString(T);const R=h(Math.pow(T,6));var P=this;let U="";for(;;){const D=V(P,R).g;P=I(P,D.j(R));let B=((P.g.length>0?P.g[0]:P.h)>>>0).toString(T);if(P=D,S(P))return B+U;for(;B.length<6;)B="0"+B;U=B+U}},t.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function S(T){if(T.h!=0)return!1;for(let R=0;R<T.g.length;R++)if(T.g[R]!=0)return!1;return!0}function w(T){return T.h==-1}t.l=function(T){return T=I(this,T),w(T)?-1:S(T)?0:1};function x(T){const R=T.g.length,P=[];for(let U=0;U<R;U++)P[U]=~T.g[U];return new l(P,~T.h).add(v)}t.abs=function(){return w(this)?x(this):this},t.add=function(T){const R=Math.max(this.g.length,T.g.length),P=[];let U=0;for(let D=0;D<=R;D++){let B=U+(this.i(D)&65535)+(T.i(D)&65535),L=(B>>>16)+(this.i(D)>>>16)+(T.i(D)>>>16);U=L>>>16,B&=65535,L&=65535,P[D]=L<<16|B}return new l(P,P[P.length-1]&-2147483648?-1:0)};function I(T,R){return T.add(x(R))}t.j=function(T){if(S(this)||S(T))return m;if(w(this))return w(T)?x(this).j(x(T)):x(x(this).j(T));if(w(T))return x(this.j(x(T)));if(this.l(_)<0&&T.l(_)<0)return h(this.m()*T.m());const R=this.g.length+T.g.length,P=[];for(var U=0;U<2*R;U++)P[U]=0;for(U=0;U<this.g.length;U++)for(let D=0;D<T.g.length;D++){const B=this.i(U)>>>16,L=this.i(U)&65535,J=T.i(D)>>>16,Q=T.i(D)&65535;P[2*U+2*D]+=L*Q,N(P,2*U+2*D),P[2*U+2*D+1]+=B*Q,N(P,2*U+2*D+1),P[2*U+2*D+1]+=L*J,N(P,2*U+2*D+1),P[2*U+2*D+2]+=B*J,N(P,2*U+2*D+2)}for(T=0;T<R;T++)P[T]=P[2*T+1]<<16|P[2*T];for(T=R;T<2*R;T++)P[T]=0;return new l(P,0)};function N(T,R){for(;(T[R]&65535)!=T[R];)T[R+1]+=T[R]>>>16,T[R]&=65535,R++}function M(T,R){this.g=T,this.h=R}function V(T,R){if(S(R))throw Error("division by zero");if(S(T))return new M(m,m);if(w(T))return R=V(x(T),R),new M(x(R.g),x(R.h));if(w(R))return R=V(T,x(R)),new M(x(R.g),R.h);if(T.g.length>30){if(w(T)||w(R))throw Error("slowDivide_ only works with positive integers.");for(var P=v,U=R;U.l(T)<=0;)P=O(P),U=O(U);var D=j(P,1),B=j(U,1);for(U=j(U,2),P=j(P,2);!S(U);){var L=B.add(U);L.l(T)<=0&&(D=D.add(P),B=L),U=j(U,1),P=j(P,1)}return R=I(T,D.j(R)),new M(D,R)}for(D=m;T.l(R)>=0;){for(P=Math.max(1,Math.floor(T.m()/R.m())),U=Math.ceil(Math.log(P)/Math.LN2),U=U<=48?1:Math.pow(2,U-48),B=h(P),L=B.j(R);w(L)||L.l(T)>0;)P-=U,B=h(P),L=B.j(R);S(B)&&(B=v),D=D.add(B),T=I(T,L)}return new M(D,T)}t.B=function(T){return V(this,T).h},t.and=function(T){const R=Math.max(this.g.length,T.g.length),P=[];for(let U=0;U<R;U++)P[U]=this.i(U)&T.i(U);return new l(P,this.h&T.h)},t.or=function(T){const R=Math.max(this.g.length,T.g.length),P=[];for(let U=0;U<R;U++)P[U]=this.i(U)|T.i(U);return new l(P,this.h|T.h)},t.xor=function(T){const R=Math.max(this.g.length,T.g.length),P=[];for(let U=0;U<R;U++)P[U]=this.i(U)^T.i(U);return new l(P,this.h^T.h)};function O(T){const R=T.g.length+1,P=[];for(let U=0;U<R;U++)P[U]=T.i(U)<<1|T.i(U-1)>>>31;return new l(P,T.h)}function j(T,R){const P=R>>5;R%=32;const U=T.g.length-P,D=[];for(let B=0;B<U;B++)D[B]=R>0?T.i(B+P)>>>R|T.i(B+P+1)<<32-R:T.i(B+P);return new l(D,T.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,u4=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,ls=l}).apply(typeof uI<"u"?uI:typeof self<"u"?self:typeof window<"u"?window:{});var Kp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var c4,Wf,f4,mm,v1,h4,d4,p4;(function(){var t,e=Object.defineProperty;function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kp=="object"&&Kp];for(var E=0;E<g.length;++E){var k=g[E];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function i(g,E){if(E)e:{var k=r;g=g.split(".");for(var z=0;z<g.length-1;z++){var ne=g[z];if(!(ne in k))break e;k=k[ne]}g=g[g.length-1],z=k[g],E=E(z),E!=z&&E!=null&&e(k,g,{configurable:!0,writable:!0,value:E})}}i("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(g){return g||function(E){var k=[],z;for(z in E)Object.prototype.hasOwnProperty.call(E,z)&&k.push([z,E[z]]);return k}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(g){var E=typeof g;return E=="object"&&g!=null||E=="function"}function f(g,E,k){return g.call.apply(g.bind,arguments)}function h(g,E,k){return h=f,h.apply(null,arguments)}function p(g,E){var k=Array.prototype.slice.call(arguments,1);return function(){var z=k.slice();return z.push.apply(z,arguments),g.apply(this,z)}}function m(g,E){function k(){}k.prototype=E.prototype,g.Z=E.prototype,g.prototype=new k,g.prototype.constructor=g,g.Ob=function(z,ne,le){for(var Oe=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)Oe[mt-2]=arguments[mt];return E.prototype[ne].apply(z,Oe)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function _(g){const E=g.length;if(E>0){const k=Array(E);for(let z=0;z<E;z++)k[z]=g[z];return k}return[]}function S(g,E){for(let z=1;z<arguments.length;z++){const ne=arguments[z];var k=typeof ne;if(k=k!="object"?k:ne?Array.isArray(ne)?"array":k:"null",k=="array"||k=="object"&&typeof ne.length=="number"){k=g.length||0;const le=ne.length||0;g.length=k+le;for(let Oe=0;Oe<le;Oe++)g[k+Oe]=ne[Oe]}else g.push(ne)}}class w{constructor(E,k){this.i=E,this.j=k,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function x(g){l.setTimeout(()=>{throw g},0)}function I(){var g=T;let E=null;return g.g&&(E=g.g,g.g=g.g.next,g.g||(g.h=null),E.next=null),E}class N{constructor(){this.h=this.g=null}add(E,k){const z=M.get();z.set(E,k),this.h?this.h.next=z:this.g=z,this.h=z}}var M=new w(()=>new V,g=>g.reset());class V{constructor(){this.next=this.g=this.h=null}set(E,k){this.h=E,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let O,j=!1,T=new N,R=()=>{const g=Promise.resolve(void 0);O=()=>{g.then(P)}};function P(){for(var g;g=I();){try{g.h.call(g.g)}catch(k){x(k)}var E=M;E.j(g),E.h<100&&(E.h++,g.next=E.g,E.g=g)}j=!1}function U(){this.u=this.u,this.C=this.C}U.prototype.u=!1,U.prototype.dispose=function(){this.u||(this.u=!0,this.N())},U.prototype[Symbol.dispose]=function(){this.dispose()},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(g,E){this.type=g,this.g=this.target=E,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,E=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const k=()=>{};l.addEventListener("test",k,E),l.removeEventListener("test",k,E)}catch{}return g})();function L(g){return/^[\s\xa0]*$/.test(g)}function J(g,E){D.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,E)}m(J,D),J.prototype.init=function(g,E){const k=this.type=g.type,z=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=E,E=g.relatedTarget,E||(k=="mouseover"?E=g.fromElement:k=="mouseout"&&(E=g.toElement)),this.relatedTarget=E,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&J.Z.h.call(this)},J.prototype.h=function(){J.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Q="closure_listenable_"+(Math.random()*1e6|0),H=0;function Y(g,E,k,z,ne){this.listener=g,this.proxy=null,this.src=E,this.type=k,this.capture=!!z,this.ha=ne,this.key=++H,this.da=this.fa=!1}function te(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function ce(g,E,k){for(const z in g)E.call(k,g[z],z,g)}function be(g,E){for(const k in g)E.call(void 0,g[k],k,g)}function F(g){const E={};for(const k in g)E[k]=g[k];return E}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(g,E){let k,z;for(let ne=1;ne<arguments.length;ne++){z=arguments[ne];for(k in z)g[k]=z[k];for(let le=0;le<W.length;le++)k=W[le],Object.prototype.hasOwnProperty.call(z,k)&&(g[k]=z[k])}}function ge(g){this.src=g,this.g={},this.h=0}ge.prototype.add=function(g,E,k,z,ne){const le=g.toString();g=this.g[le],g||(g=this.g[le]=[],this.h++);const Oe=Ae(g,E,z,ne);return Oe>-1?(E=g[Oe],k||(E.fa=!1)):(E=new Y(E,this.src,le,!!z,ne),E.fa=k,g.push(E)),E};function _e(g,E){const k=E.type;if(k in g.g){var z=g.g[k],ne=Array.prototype.indexOf.call(z,E,void 0),le;(le=ne>=0)&&Array.prototype.splice.call(z,ne,1),le&&(te(E),g.g[k].length==0&&(delete g.g[k],g.h--))}}function Ae(g,E,k,z){for(let ne=0;ne<g.length;++ne){const le=g[ne];if(!le.da&&le.listener==E&&le.capture==!!k&&le.ha==z)return ne}return-1}var je="closure_lm_"+(Math.random()*1e6|0),We={};function pe(g,E,k,z,ne){if(Array.isArray(E)){for(let le=0;le<E.length;le++)pe(g,E[le],k,z,ne);return null}return k=Ce(k),g&&g[Q]?g.J(E,k,c(z)?!!z.capture:!1,ne):Le(g,E,k,!1,z,ne)}function Le(g,E,k,z,ne,le){if(!E)throw Error("Invalid event type");const Oe=c(ne)?!!ne.capture:!!ne;let mt=Be(g);if(mt||(g[je]=mt=new ge(g)),k=mt.add(E,k,z,Oe,le),k.proxy)return k;if(z=qe(),k.proxy=z,z.src=g,z.listener=k,g.addEventListener)B||(ne=Oe),ne===void 0&&(ne=!1),g.addEventListener(E.toString(),z,ne);else if(g.attachEvent)g.attachEvent(we(E.toString()),z);else if(g.addListener&&g.removeListener)g.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return k}function qe(){function g(k){return E.call(g.src,g.listener,k)}const E=Se;return g}function re(g,E,k,z,ne){if(Array.isArray(E))for(var le=0;le<E.length;le++)re(g,E[le],k,z,ne);else z=c(z)?!!z.capture:!!z,k=Ce(k),g&&g[Q]?(g=g.i,le=String(E).toString(),le in g.g&&(E=g.g[le],k=Ae(E,k,z,ne),k>-1&&(te(E[k]),Array.prototype.splice.call(E,k,1),E.length==0&&(delete g.g[le],g.h--)))):g&&(g=Be(g))&&(E=g.g[E.toString()],g=-1,E&&(g=Ae(E,k,z,ne)),(k=g>-1?E[g]:null)&&Ge(k))}function Ge(g){if(typeof g!="number"&&g&&!g.da){var E=g.src;if(E&&E[Q])_e(E.i,g);else{var k=g.type,z=g.proxy;E.removeEventListener?E.removeEventListener(k,z,g.capture):E.detachEvent?E.detachEvent(we(k),z):E.addListener&&E.removeListener&&E.removeListener(z),(k=Be(E))?(_e(k,g),k.h==0&&(k.src=null,E[je]=null)):te(g)}}}function we(g){return g in We?We[g]:We[g]="on"+g}function Se(g,E){if(g.da)g=!0;else{E=new J(E,this);const k=g.listener,z=g.ha||g.src;g.fa&&Ge(g),g=k.call(z,E)}return g}function Be(g){return g=g[je],g instanceof ge?g:null}var Ke="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ce(g){return typeof g=="function"?g:(g[Ke]||(g[Ke]=function(E){return g.handleEvent(E)}),g[Ke])}function Re(){U.call(this),this.i=new ge(this),this.M=this,this.G=null}m(Re,U),Re.prototype[Q]=!0,Re.prototype.removeEventListener=function(g,E,k,z){re(this,g,E,k,z)};function Fe(g,E){var k,z=g.G;if(z)for(k=[];z;z=z.G)k.push(z);if(g=g.M,z=E.type||E,typeof E=="string")E=new D(E,g);else if(E instanceof D)E.target=E.target||g;else{var ne=E;E=new D(z,g),se(E,ne)}ne=!0;let le,Oe;if(k)for(Oe=k.length-1;Oe>=0;Oe--)le=E.g=k[Oe],ne=rt(le,z,!0,E)&&ne;if(le=E.g=g,ne=rt(le,z,!0,E)&&ne,ne=rt(le,z,!1,E)&&ne,k)for(Oe=0;Oe<k.length;Oe++)le=E.g=k[Oe],ne=rt(le,z,!1,E)&&ne}Re.prototype.N=function(){if(Re.Z.N.call(this),this.i){var g=this.i;for(const E in g.g){const k=g.g[E];for(let z=0;z<k.length;z++)te(k[z]);delete g.g[E],g.h--}}this.G=null},Re.prototype.J=function(g,E,k,z){return this.i.add(String(g),E,!1,k,z)},Re.prototype.K=function(g,E,k,z){return this.i.add(String(g),E,!0,k,z)};function rt(g,E,k,z){if(E=g.i.g[String(E)],!E)return!0;E=E.concat();let ne=!0;for(let le=0;le<E.length;++le){const Oe=E[le];if(Oe&&!Oe.da&&Oe.capture==k){const mt=Oe.listener,Sn=Oe.ha||Oe.src;Oe.fa&&_e(g.i,Oe),ne=mt.call(Sn,z)!==!1&&ne}}return ne&&!z.defaultPrevented}function Nt(g,E){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=h(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:l.setTimeout(g,E||0)}function Jt(g){g.g=Nt(()=>{g.g=null,g.i&&(g.i=!1,Jt(g))},g.l);const E=g.h;g.h=null,g.m.apply(null,E)}class St extends U{constructor(E,k){super(),this.m=E,this.l=k,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Jt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ct(g){U.call(this),this.h=g,this.g={}}m(ct,U);var un=[];function ye(g){ce(g.g,function(E,k){this.g.hasOwnProperty(k)&&Ge(E)},g),g.g={}}ct.prototype.N=function(){ct.Z.N.call(this),ye(this)},ct.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Te=l.JSON.stringify,ft=l.JSON.parse,ht=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function Pe(){}function dt(){}var $e={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function nt(){D.call(this,"d")}m(nt,D);function _t(){D.call(this,"c")}m(_t,D);var Je={},Dn=null;function On(){return Dn=Dn||new Re}Je.Ia="serverreachability";function Wi(g){D.call(this,Je.Ia,g)}m(Wi,D);function ti(g){const E=On();Fe(E,new Wi(E))}Je.STAT_EVENT="statevent";function Sa(g,E){D.call(this,Je.STAT_EVENT,g),this.stat=E}m(Sa,D);function yn(g){const E=On();Fe(E,new Sa(E,g))}Je.Ja="timingevent";function ni(g,E){D.call(this,Je.Ja,g),this.size=E}m(ni,D);function ri(g,E){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},E)}function Er(){this.g=!0}Er.prototype.ua=function(){this.g=!1};function Uc(g,E,k,z,ne,le){g.info(function(){if(g.g)if(le){var Oe="",mt=le.split("&");for(let Lt=0;Lt<mt.length;Lt++){var Sn=mt[Lt].split("=");if(Sn.length>1){const fn=Sn[0];Sn=Sn[1];const fi=fn.split("_");Oe=fi.length>=2&&fi[1]=="type"?Oe+(fn+"="+Sn+"&"):Oe+(fn+"=redacted&")}}}else Oe=null;else Oe=le;return"XMLHTTP REQ ("+z+") [attempt "+ne+"]: "+E+`
`+k+`
`+Oe})}function Dl(g,E,k,z,ne,le,Oe){g.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+ne+"]: "+E+`
`+k+`
`+le+" "+Oe})}function ii(g,E,k,z){g.info(function(){return"XMLHTTP TEXT ("+E+"): "+Bc(g,k)+(z?" "+z:"")})}function Aa(g,E){g.info(function(){return"TIMEOUT: "+E})}Er.prototype.info=function(){};function Bc(g,E){if(!g.g)return E;if(!E)return null;try{const le=JSON.parse(E);if(le){for(g=0;g<le.length;g++)if(Array.isArray(le[g])){var k=le[g];if(!(k.length<2)){var z=k[1];if(Array.isArray(z)&&!(z.length<1)){var ne=z[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(let Oe=1;Oe<z.length;Oe++)z[Oe]=""}}}}return Te(le)}catch{return E}}var Ea={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},As={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Es;function Ta(){}m(Ta,Pe),Ta.prototype.g=function(){return new XMLHttpRequest},Es=new Ta;function Ci(g){return encodeURIComponent(String(g))}function $c(g){var E=1;g=g.split(":");const k=[];for(;E>0&&g.length;)k.push(g.shift()),E--;return g.length&&k.push(g.join(":")),k}function Tr(g,E,k,z){this.j=g,this.i=E,this.l=k,this.S=z||1,this.V=new ct(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new mr}function mr(){this.i=null,this.g="",this.h=!1}var rn={},pn={};function ai(g,E,k){g.M=1,g.A=yt(vn(E)),g.u=k,g.R=!0,go(g,null)}function go(g,E){g.F=Date.now(),Or(g),g.B=vn(g.A);var k=g.B,z=g.S;Array.isArray(z)||(z=[String(z)]),Ul(k.i,"t",z),g.C=0,k=g.j.L,g.h=new mr,g.g=Vd(g.j,k?E:null,!g.u),g.P>0&&(g.O=new St(h(g.Y,g,g.g),g.P)),E=g.V,k=g.g,z=g.ba;var ne="readystatechange";Array.isArray(ne)||(ne&&(un[0]=ne.toString()),ne=un);for(let le=0;le<ne.length;le++){const Oe=pe(k,ne[le],z||E.handleEvent,!1,E.h||E);if(!Oe)break;E.g[Oe.key]=Oe}E=g.J?F(g.J):{},g.u?(g.v||(g.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,E)):(g.v="GET",g.g.ea(g.B,g.v,null,E)),ti(),Uc(g.i,g.v,g.B,g.l,g.S,g.u)}Tr.prototype.ba=function(g){g=g.target;const E=this.O;E&&Ni(g)==3?E.j():this.Y(g)},Tr.prototype.Y=function(g){try{if(g==this.g)e:{const mt=Ni(this.g),Sn=this.g.ya(),Lt=this.g.ca();if(!(mt<3)&&(mt!=3||this.g&&(this.h.h||this.g.la()||Zn(this.g)))){this.K||mt!=4||Sn==7||(Sn==8||Lt<=0?ti(3):ti(2)),oi(this);var E=this.g.ca();this.X=E;var k=qc(this);if(this.o=E==200,Dl(this.i,this.v,this.B,this.l,this.S,mt,E),this.o){if(this.U&&!this.L){t:{if(this.g){var z,ne=this.g;if((z=ne.g?ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(z)){var le=z;break t}}le=null}if(g=le)ii(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Cr(this,g);else{this.o=!1,this.m=3,yn(12),yr(this),gr(this);break e}}if(this.R){g=!0;let fn;for(;!this.K&&this.C<k.length;)if(fn=Yi(this,k),fn==pn){mt==4&&(this.m=4,yn(14),g=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==rn){this.m=4,yn(15),ii(this.i,this.l,k,"[Invalid Chunk]"),g=!1;break}else ii(this.i,this.l,fn,null),Cr(this,fn);if(Oa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mt!=4||k.length!=0||this.h.h||(this.m=1,yn(16),g=!1),this.o=this.o&&g,!g)ii(this.i,this.l,k,"[Invalid Chunked Response]"),yr(this),gr(this);else if(k.length>0&&!this.W){this.W=!0;var Oe=this.j;Oe.g==this&&Oe.aa&&!Oe.P&&(Oe.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Xc(Oe),Oe.P=!0,yn(11))}}else ii(this.i,this.l,k,null),Cr(this,k);mt==4&&yr(this),this.o&&!this.K&&(mt==4?kd(this.j,this):(this.o=!1,Or(this)))}else Ia(this.g),E==400&&k.indexOf("Unknown SID")>0?(this.m=3,yn(12)):(this.m=0,yn(13)),yr(this),gr(this)}}}catch{}finally{}};function qc(g){if(!Oa(g))return g.g.la();const E=Zn(g.g);if(E==="")return"";let k="";const z=E.length,ne=Ni(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return yr(g),gr(g),"";g.h.i=new l.TextDecoder}for(let le=0;le<z;le++)g.h.h=!0,k+=g.h.i.decode(E[le],{stream:!(ne&&le==z-1)});return E.length=0,g.h.g+=k,g.C=0,g.h.g}function Oa(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function Yi(g,E){var k=g.C,z=E.indexOf(`
`,k);return z==-1?pn:(k=Number(E.substring(k,z)),isNaN(k)?rn:(z+=1,z+k>E.length?pn:(E=E.slice(z,z+k),g.C=z+k,E)))}Tr.prototype.cancel=function(){this.K=!0,yr(this)};function Or(g){g.T=Date.now()+g.H,yo(g,g.H)}function yo(g,E){if(g.D!=null)throw Error("WatchDog timer not null");g.D=ri(h(g.aa,g),E)}function oi(g){g.D&&(l.clearTimeout(g.D),g.D=null)}Tr.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(Aa(this.i,this.B),this.M!=2&&(ti(),yn(17)),yr(this),this.m=2,gr(this)):yo(this,this.T-g)};function gr(g){g.j.I==0||g.K||kd(g.j,g)}function yr(g){oi(g);var E=g.O;E&&typeof E.dispose=="function"&&E.dispose(),g.O=null,ye(g.V),g.g&&(E=g.g,g.g=null,E.abort(),E.dispose())}function Cr(g,E){try{var k=g.j;if(k.I!=0&&(k.g==g||li(k.h,g))){if(!g.L&&li(k.h,g)&&k.I==3){try{var z=k.Ba.g.parse(E)}catch{z=null}if(Array.isArray(z)&&z.length==3){var ne=z;if(ne[0]==0){e:if(!k.v){if(k.g)if(k.g.F+3e3<g.F)Fl(k),Eo(k);else break e;Ls(k),yn(18)}}else k.xa=ne[1],0<k.xa-k.K&&ne[2]<37500&&k.F&&k.A==0&&!k.C&&(k.C=ri(h(k.Va,k),6e3));si(k.h)<=1&&k.ta&&(k.ta=void 0)}else ea(k,11)}else if((g.L||k.g==g)&&Fl(k),!L(E))for(ne=k.Ba.g.parse(E),E=0;E<ne.length;E++){let Lt=ne[E];const fn=Lt[0];if(!(fn<=k.K))if(k.K=fn,Lt=Lt[1],k.I==2)if(Lt[0]=="c"){k.M=Lt[1],k.ba=Lt[2];const fi=Lt[3];fi!=null&&(k.ka=fi,k.j.info("VER="+k.ka));const ta=Lt[4];ta!=null&&(k.za=ta,k.j.info("SVER="+k.za));const Mi=Lt[5];Mi!=null&&typeof Mi=="number"&&Mi>0&&(z=1.5*Mi,k.O=z,k.j.info("backChannelRequestTimeoutMs_="+z)),z=k;const ki=g.g;if(ki){const Vs=ki.g?ki.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vs){var le=z.h;le.g||Vs.indexOf("spdy")==-1&&Vs.indexOf("quic")==-1&&Vs.indexOf("h2")==-1||(le.j=le.l,le.g=new Set,le.h&&(Cs(le,le.h),le.h=null))}if(z.G){const Hl=ki.g?ki.g.getResponseHeader("X-HTTP-Session-Id"):null;Hl&&(z.wa=Hl,Ne(z.J,z.G,Hl))}}k.I=3,k.l&&k.l.ra(),k.aa&&(k.T=Date.now()-g.F,k.j.info("Handshake RTT: "+k.T+"ms")),z=k;var Oe=g;if(z.na=Ld(z,z.L?z.ba:null,z.W),Oe.L){Is(z.h,Oe);var mt=Oe,Sn=z.O;Sn&&(mt.H=Sn),mt.D&&(oi(mt),Or(mt)),z.g=Oe}else Nd(z);k.i.length>0&&Ji(k)}else Lt[0]!="stop"&&Lt[0]!="close"||ea(k,7);else k.I==3&&(Lt[0]=="stop"||Lt[0]=="close"?Lt[0]=="stop"?ea(k,7):Wc(k):Lt[0]!="noop"&&k.l&&k.l.qa(Lt),k.A=0)}}ti(4)}catch{}}var cn=class{constructor(g,E){this.g=g,this.map=E}};function Ts(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Os(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function si(g){return g.h?1:g.g?g.g.size:0}function li(g,E){return g.h?g.h==E:g.g?g.g.has(E):!1}function Cs(g,E){g.g?g.g.add(E):g.h=E}function Is(g,E){g.h&&g.h==E?g.h=null:g.g&&g.g.has(E)&&g.g.delete(E)}Ts.prototype.cancel=function(){if(this.i=Rs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Rs(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let E=g.i;for(const k of g.g.values())E=E.concat(k.G);return E}return _(g.i)}var Ll=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vo(g,E){if(g){g=g.split("&");for(let k=0;k<g.length;k++){const z=g[k].indexOf("=");let ne,le=null;z>=0?(ne=g[k].substring(0,z),le=g[k].substring(z+1)):ne=g[k],E(ne,le?decodeURIComponent(le.replace(/\+/g," ")):"")}}}function vr(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;g instanceof vr?(this.l=g.l,Z(this,g.j),this.o=g.o,this.g=g.g,Ie(this,g.u),this.h=g.h,Me(this,Rd(g.i)),this.m=g.m):g&&(E=String(g).match(Ll))?(this.l=!1,Z(this,E[1]||"",!0),this.o=pt(E[2]||""),this.g=pt(E[3]||"",!0),Ie(this,E[4]),this.h=pt(E[5]||"",!0),Me(this,E[6]||"",!0),this.m=pt(E[7]||"")):(this.l=!1,this.i=new _o(null,this.l))}vr.prototype.toString=function(){const g=[];var E=this.j;E&&g.push(At(E,bo,!0),":");var k=this.g;return(k||E=="file")&&(g.push("//"),(E=this.o)&&g.push(At(E,bo,!0),"@"),g.push(Ci(k).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.u,k!=null&&g.push(":",String(k))),(k=this.h)&&(this.g&&k.charAt(0)!="/"&&g.push("/"),g.push(At(k,k.charAt(0)=="/"?Ps:Vl,!0))),(k=this.i.toString())&&g.push("?",k),(k=this.m)&&g.push("#",At(k,Cd)),g.join("")},vr.prototype.resolve=function(g){const E=vn(this);let k=!!g.j;k?Z(E,g.j):k=!!g.o,k?E.o=g.o:k=!!g.g,k?E.g=g.g:k=g.u!=null;var z=g.h;if(k)Ie(E,g.u);else if(k=!!g.h){if(z.charAt(0)!="/")if(this.g&&!this.h)z="/"+z;else{var ne=E.h.lastIndexOf("/");ne!=-1&&(z=E.h.slice(0,ne+1)+z)}if(ne=z,ne==".."||ne==".")z="";else if(ne.indexOf("./")!=-1||ne.indexOf("/.")!=-1){z=ne.lastIndexOf("/",0)==0,ne=ne.split("/");const le=[];for(let Oe=0;Oe<ne.length;){const mt=ne[Oe++];mt=="."?z&&Oe==ne.length&&le.push(""):mt==".."?((le.length>1||le.length==1&&le[0]!="")&&le.pop(),z&&Oe==ne.length&&le.push("")):(le.push(mt),z=!0)}z=le.join("/")}else z=ne}return k?E.h=z:k=g.i.toString()!=="",k?Me(E,Rd(g.i)):k=!!g.m,k&&(E.m=g.m),E};function vn(g){return new vr(g)}function Z(g,E,k){g.j=k?pt(E,!0):E,g.j&&(g.j=g.j.replace(/:$/,""))}function Ie(g,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);g.u=E}else g.u=null}function Me(g,E,k){E instanceof _o?(g.i=E,Bl(g.i,g.l)):(k||(E=At(E,Ii)),g.i=new _o(E,g.l))}function Ne(g,E,k){g.i.set(E,k)}function yt(g){return Ne(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function pt(g,E){return g?E?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function At(g,E,k){return typeof g=="string"?(g=encodeURI(g).replace(E,Xt),k&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Xt(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var bo=/[#\/\?@]/g,Vl=/[#\?:]/g,Ps=/[#\?]/g,Ii=/[#\?@]/g,Cd=/#/g;function _o(g,E){this.h=this.g=null,this.i=g||null,this.j=!!E}function Ir(g){g.g||(g.g=new Map,g.h=0,g.i&&vo(g.i,function(E,k){g.add(decodeURIComponent(E.replace(/\+/g," ")),k)}))}t=_o.prototype,t.add=function(g,E){Ir(this),this.i=null,g=xo(this,g);let k=this.g.get(g);return k||this.g.set(g,k=[]),k.push(E),this.h+=1,this};function Id(g,E){Ir(g),E=xo(g,E),g.g.has(E)&&(g.i=null,g.h-=g.g.get(E).length,g.g.delete(E))}function zc(g,E){return Ir(g),E=xo(g,E),g.g.has(E)}t.forEach=function(g,E){Ir(this),this.g.forEach(function(k,z){k.forEach(function(ne){g.call(E,ne,z,this)},this)},this)};function Fc(g,E){Ir(g);let k=[];if(typeof E=="string")zc(g,E)&&(k=k.concat(g.g.get(xo(g,E))));else for(g=Array.from(g.g.values()),E=0;E<g.length;E++)k=k.concat(g[E]);return k}t.set=function(g,E){return Ir(this),this.i=null,g=xo(this,g),zc(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[E]),this.h+=1,this},t.get=function(g,E){return g?(g=Fc(this,g),g.length>0?String(g[0]):E):E};function Ul(g,E,k){Id(g,E),k.length>0&&(g.i=null,g.g.set(xo(g,E),_(k)),g.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],E=Array.from(this.g.keys());for(let z=0;z<E.length;z++){var k=E[z];const ne=Ci(k);k=Fc(this,k);for(let le=0;le<k.length;le++){let Oe=ne;k[le]!==""&&(Oe+="="+Ci(k[le])),g.push(Oe)}}return this.i=g.join("&")};function Rd(g){const E=new _o;return E.i=g.i,g.g&&(E.g=new Map(g.g),E.h=g.h),E}function xo(g,E){return E=String(E),g.j&&(E=E.toLowerCase()),E}function Bl(g,E){E&&!g.j&&(Ir(g),g.i=null,g.g.forEach(function(k,z){const ne=z.toLowerCase();z!=ne&&(Id(this,z),Ul(this,ne,k))},g)),g.j=E}function Ri(g,E){const k=new Er;if(l.Image){const z=new Image;z.onload=p(ui,k,"TestLoadImage: loaded",!0,E,z),z.onerror=p(ui,k,"TestLoadImage: error",!1,E,z),z.onabort=p(ui,k,"TestLoadImage: abort",!1,E,z),z.ontimeout=p(ui,k,"TestLoadImage: timeout",!1,E,z),l.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=g}else E(!1)}function Hc(g,E){const k=new Er,z=new AbortController,ne=setTimeout(()=>{z.abort(),ui(k,"TestPingServer: timeout",!1,E)},1e4);fetch(g,{signal:z.signal}).then(le=>{clearTimeout(ne),le.ok?ui(k,"TestPingServer: ok",!0,E):ui(k,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(ne),ui(k,"TestPingServer: error",!1,E)})}function ui(g,E,k,z,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),z(k)}catch{}}function wo(){this.g=new ht}function Xi(g){this.i=g.Sb||null,this.h=g.ab||!1}m(Xi,Pe),Xi.prototype.g=function(){return new Ns(this.i,this.h)};function Ns(g,E){Re.call(this),this.H=g,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Ns,Re),t=Ns.prototype,t.open=function(g,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=E,this.readyState=1,Pi(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(E.body=g),(this.H||l).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,So(this)),this.readyState=0},t.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Pi(this)),this.g&&(this.readyState=3,Pi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;$l(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function $l(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}t.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var E=g.value?g.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!g.done}))&&(this.response=this.responseText+=E)}g.done?So(this):Pi(this),this.readyState==3&&$l(this)}},t.Oa=function(g){this.g&&(this.response=this.responseText=g,So(this))},t.Na=function(g){this.g&&(this.response=g,So(this))},t.ga=function(){this.g&&So(this)};function So(g){g.readyState=4,g.l=null,g.j=null,g.B=null,Pi(g)}t.setRequestHeader=function(g,E){this.A.append(g,E)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],E=this.h.entries();for(var k=E.next();!k.done;)k=k.value,g.push(k[0]+": "+k[1]),k=E.next();return g.join(`\r
`)};function Pi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Ns.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function ci(g){let E="";return ce(g,function(k,z){E+=z,E+=":",E+=k,E+=`\r
`}),E}function Ms(g,E,k){e:{for(z in k){var z=!1;break e}z=!0}z||(k=ci(k),typeof g=="string"?k!=null&&Ci(k):Ne(g,E,k))}function Ht(g){Re.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Ht,Re);var Qi=/^https?$/i,Gc=["POST","PUT"];t=Ht.prototype,t.Fa=function(g){this.H=g},t.ea=function(g,E,k,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);E=E?E.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Es.g(),this.g.onreadystatechange=v(h(this.Ca,this));try{this.B=!0,this.g.open(E,String(g),!0),this.B=!1}catch(le){ks(this,le);return}if(g=k||"",k=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var ne in z)k.set(ne,z[ne]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const le of z.keys())k.set(le,z.get(le));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(k.keys()).find(le=>le.toLowerCase()=="content-type"),ne=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(Gc,E,void 0)>=0)||z||ne||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[le,Oe]of k)this.g.setRequestHeader(le,Oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(le){ks(this,le)}};function ks(g,E){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=E,g.o=5,Kc(g),Ca(g)}function Kc(g){g.A||(g.A=!0,Fe(g,"complete"),Fe(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,Fe(this,"complete"),Fe(this,"abort"),Ca(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ca(this,!0)),Ht.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?js(this):this.Xa())},t.Xa=function(){js(this)};function js(g){if(g.h&&typeof o<"u"){if(g.v&&Ni(g)==4)setTimeout(g.Ca.bind(g),0);else if(Fe(g,"readystatechange"),Ni(g)==4){g.h=!1;try{const le=g.ca();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var k;if(!(k=E)){var z;if(z=le===0){let Oe=String(g.D).match(Ll)[1]||null;!Oe&&l.self&&l.self.location&&(Oe=l.self.location.protocol.slice(0,-1)),z=!Qi.test(Oe?Oe.toLowerCase():"")}k=z}if(k)Fe(g,"complete"),Fe(g,"success");else{g.o=6;try{var ne=Ni(g)>2?g.g.statusText:""}catch{ne=""}g.l=ne+" ["+g.ca()+"]",Kc(g)}}finally{Ca(g)}}}}function Ca(g,E){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const k=g.g;g.g=null,E||Fe(g,"ready");try{k.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ni(g){return g.g?g.g.readyState:0}t.ca=function(){try{return Ni(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(g){if(this.g){var E=this.g.responseText;return g&&E.indexOf(g)==0&&(E=E.substring(g.length)),ft(E)}};function Zn(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Ia(g){const E={};g=(g.g&&Ni(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<g.length;z++){if(L(g[z]))continue;var k=$c(g[z]);const ne=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const le=E[ne]||[];E[ne]=le,le.push(k)}be(E,function(z){return z.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zi(g,E,k){return k&&k.internalChannelParams&&k.internalChannelParams[g]||E}function Ao(g){this.za=0,this.i=[],this.j=new Er,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Zi("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Zi("baseRetryDelayMs",5e3,g),this.Za=Zi("retryDelaySeedMs",1e4,g),this.Ta=Zi("forwardChannelMaxRetries",2,g),this.va=Zi("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new Ts(g&&g.concurrentRequestLimit),this.Ba=new wo,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ao.prototype,t.ka=8,t.I=1,t.connect=function(g,E,k,z){yn(0),this.W=g,this.H=E||{},k&&z!==void 0&&(this.H.OSID=k,this.H.OAID=z),this.F=this.X,this.J=Ld(this,null,this.W),Ji(this)};function Wc(g){if(ql(g),g.I==3){var E=g.V++,k=vn(g.J);if(Ne(k,"SID",g.M),Ne(k,"RID",E),Ne(k,"TYPE","terminate"),Ds(g,k),E=new Tr(g,g.j,E),E.M=2,E.A=yt(vn(k)),k=!1,l.navigator&&l.navigator.sendBeacon)try{k=l.navigator.sendBeacon(E.A.toString(),"")}catch{}!k&&l.Image&&(new Image().src=E.A,k=!0),k||(E.g=Vd(E.j,null),E.g.ea(E.A)),E.F=Date.now(),Or(E)}Dd(g)}function Eo(g){g.g&&(Xc(g),g.g.cancel(),g.g=null)}function ql(g){Eo(g),g.v&&(l.clearTimeout(g.v),g.v=null),Fl(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function Ji(g){if(!Os(g.h)&&!g.m){g.m=!0;var E=g.Ea;O||R(),j||(O(),j=!0),T.add(E,g),g.D=0}}function zl(g,E){return si(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=E.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=ri(h(g.Ea,g,E),jd(g,g.D)),g.D++,!0)}t.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const ne=new Tr(this,this.j,g);let le=this.o;if(this.U&&(le?(le=F(le),se(le,this.U)):le=this.U),this.u!==null||this.R||(ne.J=le,le=null),this.S)e:{for(var E=0,k=0;k<this.i.length;k++){t:{var z=this.i[k];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(E+=z,E>4096){E=k;break e}if(E===4096||k===this.i.length-1){E=k+1;break e}}E=1e3}else E=1e3;E=Pd(this,ne,E),k=vn(this.J),Ne(k,"RID",g),Ne(k,"CVER",22),this.G&&Ne(k,"X-HTTP-Session-Id",this.G),Ds(this,k),le&&(this.R?E="headers="+Ci(ci(le))+"&"+E:this.u&&Ms(k,this.u,le)),Cs(this.h,ne),this.Ra&&Ne(k,"TYPE","init"),this.S?(Ne(k,"$req",E),Ne(k,"SID","null"),ne.U=!0,ai(ne,k,null)):ai(ne,k,E),this.I=2}}else this.I==3&&(g?Yc(this,g):this.i.length==0||Os(this.h)||Yc(this))};function Yc(g,E){var k;E?k=E.l:k=g.V++;const z=vn(g.J);Ne(z,"SID",g.M),Ne(z,"RID",k),Ne(z,"AID",g.K),Ds(g,z),g.u&&g.o&&Ms(z,g.u,g.o),k=new Tr(g,g.j,k,g.D+1),g.u===null&&(k.J=g.o),E&&(g.i=E.G.concat(g.i)),E=Pd(g,k,1e3),k.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),Cs(g.h,k),ai(k,z,E)}function Ds(g,E){g.H&&ce(g.H,function(k,z){Ne(E,z,k)}),g.l&&ce({},function(k,z){Ne(E,z,k)})}function Pd(g,E,k){k=Math.min(g.i.length,k);const z=g.l?h(g.l.Ka,g.l,g):null;e:{var ne=g.i;let mt=-1;for(;;){const Sn=["count="+k];mt==-1?k>0?(mt=ne[0].g,Sn.push("ofs="+mt)):mt=0:Sn.push("ofs="+mt);let Lt=!0;for(let fn=0;fn<k;fn++){var le=ne[fn].g;const fi=ne[fn].map;if(le-=mt,le<0)mt=Math.max(0,ne[fn].g-100),Lt=!1;else try{le="req"+le+"_"||"";try{var Oe=fi instanceof Map?fi:Object.entries(fi);for(const[ta,Mi]of Oe){let ki=Mi;c(Mi)&&(ki=Te(Mi)),Sn.push(le+ta+"="+encodeURIComponent(ki))}}catch(ta){throw Sn.push(le+"type="+encodeURIComponent("_badmap")),ta}}catch{z&&z(fi)}}if(Lt){Oe=Sn.join("&");break e}}Oe=void 0}return g=g.i.splice(0,k),E.G=g,Oe}function Nd(g){if(!g.g&&!g.v){g.Y=1;var E=g.Da;O||R(),j||(O(),j=!0),T.add(E,g),g.A=0}}function Ls(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=ri(h(g.Da,g),jd(g,g.A)),g.A++,!0)}t.Da=function(){if(this.v=null,Md(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=ri(h(this.Wa,this),g)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,yn(10),Eo(this),Md(this))};function Xc(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function Md(g){g.g=new Tr(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var E=vn(g.na);Ne(E,"RID","rpc"),Ne(E,"SID",g.M),Ne(E,"AID",g.K),Ne(E,"CI",g.F?"0":"1"),!g.F&&g.ia&&Ne(E,"TO",g.ia),Ne(E,"TYPE","xmlhttp"),Ds(g,E),g.u&&g.o&&Ms(E,g.u,g.o),g.O&&(g.g.H=g.O);var k=g.g;g=g.ba,k.M=1,k.A=yt(vn(E)),k.u=null,k.R=!0,go(k,g)}t.Va=function(){this.C!=null&&(this.C=null,Eo(this),Ls(this),yn(19))};function Fl(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function kd(g,E){var k=null;if(g.g==E){Fl(g),Xc(g),g.g=null;var z=2}else if(li(g.h,E))k=E.G,Is(g.h,E),z=1;else return;if(g.I!=0){if(E.o)if(z==1){k=E.u?E.u.length:0,E=Date.now()-E.F;var ne=g.D;z=On(),Fe(z,new ni(z,k)),Ji(g)}else Nd(g);else if(ne=E.m,ne==3||ne==0&&E.X>0||!(z==1&&zl(g,E)||z==2&&Ls(g)))switch(k&&k.length>0&&(E=g.h,E.i=E.i.concat(k)),ne){case 1:ea(g,5);break;case 4:ea(g,10);break;case 3:ea(g,6);break;default:ea(g,2)}}}function jd(g,E){let k=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(k*=2),k*E}function ea(g,E){if(g.j.info("Error code "+E),E==2){var k=h(g.bb,g),z=g.Ua;const ne=!z;z=new vr(z||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Z(z,"https"),yt(z),ne?Ri(z.toString(),k):Hc(z.toString(),k)}else yn(2);g.I=0,g.l&&g.l.pa(E),Dd(g),ql(g)}t.bb=function(g){g?(this.j.info("Successfully pinged google.com"),yn(2)):(this.j.info("Failed to ping google.com"),yn(1))};function Dd(g){if(g.I=0,g.ja=[],g.l){const E=Rs(g.h);(E.length!=0||g.i.length!=0)&&(S(g.ja,E),S(g.ja,g.i),g.h.i.length=0,_(g.i),g.i.length=0),g.l.oa()}}function Ld(g,E,k){var z=k instanceof vr?vn(k):new vr(k);if(z.g!="")E&&(z.g=E+"."+z.g),Ie(z,z.u);else{var ne=l.location;z=ne.protocol,E=E?E+"."+ne.hostname:ne.hostname,ne=+ne.port;const le=new vr(null);z&&Z(le,z),E&&(le.g=E),ne&&Ie(le,ne),k&&(le.h=k),z=le}return k=g.G,E=g.wa,k&&E&&Ne(z,k,E),Ne(z,"VER",g.ka),Ds(g,z),z}function Vd(g,E,k){if(E&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=g.Aa&&!g.ma?new Ht(new Xi({ab:k})):new Ht(g.ma),E.Fa(g.L),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ud(){}t=Ud.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function To(){}To.prototype.g=function(g,E){return new br(g,E)};function br(g,E){Re.call(this),this.g=new Ao(E),this.l=g,this.h=E&&E.messageUrlParams||null,g=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(g?g["X-WebChannel-Content-Type"]=E.messageContentType:g={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(g?g["X-WebChannel-Client-Profile"]=E.sa:g={"X-WebChannel-Client-Profile":E.sa}),this.g.U=g,(g=E&&E.Qb)&&!L(g)&&(this.g.u=g),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!L(E)&&(this.g.G=E,g=this.h,g!==null&&E in g&&(g=this.h,E in g&&delete g[E])),this.j=new Ra(this)}m(br,Re),br.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},br.prototype.close=function(){Wc(this.g)},br.prototype.o=function(g){var E=this.g;if(typeof g=="string"){var k={};k.__data__=g,g=k}else this.v&&(k={},k.__data__=Te(g),g=k);E.i.push(new cn(E.Ya++,g)),E.I==3&&Ji(E)},br.prototype.N=function(){this.g.l=null,delete this.j,Wc(this.g),delete this.g,br.Z.N.call(this)};function Bd(g){nt.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var E=g.__sm__;if(E){e:{for(const k in E){g=k;break e}g=void 0}(this.i=g)&&(g=this.i,E=E!==null&&g in E?E[g]:void 0),this.data=E}else this.data=g}m(Bd,nt);function $d(){_t.call(this),this.status=1}m($d,_t);function Ra(g){this.g=g}m(Ra,Ud),Ra.prototype.ra=function(){Fe(this.g,"a")},Ra.prototype.qa=function(g){Fe(this.g,new Bd(g))},Ra.prototype.pa=function(g){Fe(this.g,new $d)},Ra.prototype.oa=function(){Fe(this.g,"b")},To.prototype.createWebChannel=To.prototype.g,br.prototype.send=br.prototype.o,br.prototype.open=br.prototype.m,br.prototype.close=br.prototype.close,p4=function(){return new To},d4=function(){return On()},h4=Je,v1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ea.NO_ERROR=0,Ea.TIMEOUT=8,Ea.HTTP_ERROR=6,mm=Ea,As.COMPLETE="complete",f4=As,dt.EventType=$e,$e.OPEN="a",$e.CLOSE="b",$e.ERROR="c",$e.MESSAGE="d",Re.prototype.listen=Re.prototype.J,Wf=dt,Ht.prototype.listenOnce=Ht.prototype.K,Ht.prototype.getLastError=Ht.prototype.Ha,Ht.prototype.getLastErrorCode=Ht.prototype.ya,Ht.prototype.getStatus=Ht.prototype.ca,Ht.prototype.getResponseJson=Ht.prototype.La,Ht.prototype.getResponseText=Ht.prototype.la,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Fa,c4=Ht}).apply(typeof Kp<"u"?Kp:typeof self<"u"?self:typeof window<"u"?window:{});const cI="@firebase/firestore",fI="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fr.UNAUTHENTICATED=new fr(null),fr.GOOGLE_CREDENTIALS=new fr("google-credentials-uid"),fr.FIRST_PARTY=new fr("first-party-uid"),fr.MOCK_USER=new fr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=new uA("@firebase/firestore");function Eu(){return _l.logLevel}function ke(t,...e){if(_l.logLevel<=Ot.DEBUG){const n=e.map(wA);_l.debug(`Firestore (${Tc}): ${t}`,...n)}}function ao(t,...e){if(_l.logLevel<=Ot.ERROR){const n=e.map(wA);_l.error(`Firestore (${Tc}): ${t}`,...n)}}function Hu(t,...e){if(_l.logLevel<=Ot.WARN){const n=e.map(wA);_l.warn(`Firestore (${Tc}): ${t}`,...n)}}function wA(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,m4(t,r,n)}function m4(t,e,n){let r=`FIRESTORE (${Tc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ao(r),new Error(r)}function $t(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||m4(e,i,r)}function ut(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ze extends co{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Bz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(fr.UNAUTHENTICATED)))}shutdown(){}}class $z{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class qz{constructor(e){this.t=e,this.currentUser=fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$t(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let o=new us;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new us,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},c=f=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>c(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new us)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($t(typeof r.accessToken=="string",31837,{l:r}),new g4(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $t(e===null||typeof e=="string",2055,{h:e}),new fr(e)}}class zz{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=fr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Fz{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new zz(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(fr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class hI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hz{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){$t(this.o===void 0,3512);const r=o=>{o.error!=null&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,ke("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new hI(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?($t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new hI(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Gz(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function Ct(t,e){return t<e?-1:t>e?1:0}function b1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return eb(i)===eb(o)?Ct(i,o):eb(i)?1:-1}return Ct(t.length,e.length)}const Kz=55296,Wz=57343;function eb(t){const e=t.charCodeAt(0);return e>=Kz&&e<=Wz}function Gu(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI="__name__";class oa{constructor(e,n,r){n===void 0?n=0:n>e.length&&tt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&tt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return oa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof oa?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=oa.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Ct(e.length,n.length)}static compareSegments(e,n){const r=oa.isNumericId(e),i=oa.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?oa.extractNumericId(e).compare(oa.extractNumericId(n)):b1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ls.fromString(e.substring(4,e.length-2))}}class mn extends oa{construct(e,n,r){return new mn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ze(xe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new mn(n)}static emptyPath(){return new mn([])}}const Yz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class or extends oa{construct(e,n,r){return new or(e,n,r)}static isValidIdentifier(e){return Yz.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),or.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dI}static keyField(){return new or([dI])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ze(xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new ze(xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ze(xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(o(),i++)}if(o(),l)throw new ze(xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new or(n)}static emptyPath(){return new or([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.path=e}static fromPath(e){return new Xe(mn.fromString(e))}static fromName(e){return new Xe(mn.fromString(e).popFirst(5))}static empty(){return new Xe(mn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return mn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xe(new mn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xz(t,e,n){if(!n)throw new ze(xe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Qz(t,e,n,r){if(e===!0&&r===!0)throw new ze(xe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pI(t){if(!Xe.isDocumentKey(t))throw new ze(xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function y4(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function AA(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":tt(12329,{type:typeof t})}function xl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ze(xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=AA(t);throw new ze(xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(t,e){const n={typeString:t};return e&&(n.value=e),n}function dd(t,e){if(!y4(t))throw new ze(xe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new ze(xe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=-62135596800,gI=1e6;class ln{static now(){return ln.fromMillis(Date.now())}static fromDate(e){return ln.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*gI);return new ln(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ze(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ze(xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<mI)throw new ze(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ze(xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gI}_compareTo(e){return this.seconds===e.seconds?Ct(this.nanoseconds,e.nanoseconds):Ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ln._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(dd(e,ln._jsonSchema))return new ln(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-mI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ln._jsonSchemaVersion="firestore/timestamp/1.0",ln._jsonSchema={type:kn("string",ln._jsonSchemaVersion),seconds:kn("number"),nanoseconds:kn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{static fromTimestamp(e){return new ot(e)}static min(){return new ot(new ln(0,0))}static max(){return new ot(new ln(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=-1;function Zz(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ot.fromTimestamp(r===1e9?new ln(n+1,0):new ln(n,r));return new hs(i,Xe.empty(),e)}function Jz(t){return new hs(t.readTime,t.key,bh)}class hs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new hs(ot.min(),Xe.empty(),bh)}static max(){return new hs(ot.max(),Xe.empty(),bh)}}function e8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Xe.comparator(t.documentKey,e.documentKey),n!==0?n:Ct(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class n8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oc(t){if(t.code!==xe.FAILED_PRECONDITION||t.message!==t8)throw t;ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ve(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ve?n:ve.resolve(n)}catch(n){return ve.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ve.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ve.reject(n)}static resolve(e){return new ve(((n,r)=>{n(e)}))}static reject(e){return new ve(((n,r)=>{r(e)}))}static waitFor(e){return new ve(((n,r)=>{let i=0,o=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++o,l&&o===i&&n()}),(f=>r(f)))})),l=!0,o===i&&n()}))}static or(e){let n=ve.resolve(!1);for(const r of e)n=n.next((i=>i?ve.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new ve(((r,i)=>{const o=e.length,l=new Array(o);let c=0;for(let f=0;f<o;f++){const h=f;n(e[h]).next((p=>{l[h]=p,++c,c===o&&r(l)}),(p=>i(p)))}}))}static doWhile(e,n){return new ve(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}function r8(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Cc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Gg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=-1;function Kg(t){return t==null}function Nm(t){return t===0&&1/t==-1/0}function i8(t){return typeof t=="number"&&Number.isInteger(t)&&!Nm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4="";function a8(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=yI(e)),e=o8(t.get(n),e);return yI(e)}function o8(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case v4:n+="";break;default:n+=o}}return n}function yI(t){return t+v4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function b4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,n){this.comparator=e,this.root=n||ir.EMPTY}insert(e,n){return new gn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ir.BLACK,null,null))}remove(e){return new gn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ir.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wp(this.root,e,this.comparator,!0)}}class Wp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ir{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??ir.RED,this.left=i??ir.EMPTY,this.right=o??ir.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new ir(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ir.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ir.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ir.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ir.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw tt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw tt(27949);return e+(this.isRed()?0:1)}}ir.EMPTY=null,ir.RED=!0,ir.BLACK=!1;ir.EMPTY=new class{constructor(){this.size=0}get key(){throw tt(57766)}get value(){throw tt(16141)}get color(){throw tt(16727)}get left(){throw tt(29726)}get right(){throw tt(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new ir(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.comparator=e,this.data=new gn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bI(this.data.getIterator())}getIteratorFrom(e){return new bI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Fn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Fn(this.comparator);return n.data=e,n}}class bI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this.fields=e,e.sort(or.comparator)}static empty(){return new Zr([])}unionWith(e){let n=new Fn(or.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new _4("Invalid base64 string: "+o):o}})(e);return new sr(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o})(e);return new sr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sr.EMPTY_BYTE_STRING=new sr("");const s8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(t){if($t(!!t,39018),typeof t=="string"){let e=0;const n=s8.exec(t);if($t(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tn(t.seconds),nanos:Tn(t.nanos)}}function Tn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ps(t){return typeof t=="string"?sr.fromBase64String(t):sr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4="server_timestamp",w4="__type__",S4="__previous_value__",A4="__local_write_time__";function TA(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[w4])==null?void 0:r.stringValue)===x4}function Wg(t){const e=t.mapValue.fields[S4];return TA(e)?Wg(e):e}function _h(t){const e=ds(t.mapValue.fields[A4].timestampValue);return new ln(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(e,n,r,i,o,l,c,f,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=p}}const Mm="(default)";class xh{constructor(e,n){this.projectId=e,this.database=n||Mm}static empty(){return new xh("","")}get isDefaultDatabase(){return this.database===Mm}isEqual(e){return e instanceof xh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4="__type__",u8="__max__",Yp={mapValue:{}},T4="__vector__",km="value";function ms(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?TA(t)?4:f8(t)?9007199254740991:c8(t)?10:11:tt(28295,{value:t})}function ya(t,e){if(t===e)return!0;const n=ms(t);if(n!==ms(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _h(t).isEqual(_h(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=ds(i.timestampValue),c=ds(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return ps(i.bytesValue).isEqual(ps(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Tn(i.geoPointValue.latitude)===Tn(o.geoPointValue.latitude)&&Tn(i.geoPointValue.longitude)===Tn(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Tn(i.integerValue)===Tn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=Tn(i.doubleValue),c=Tn(o.doubleValue);return l===c?Nm(l)===Nm(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return Gu(t.arrayValue.values||[],e.arrayValue.values||[],ya);case 10:case 11:return(function(i,o){const l=i.mapValue.fields||{},c=o.mapValue.fields||{};if(vI(l)!==vI(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!ya(l[f],c[f])))return!1;return!0})(t,e);default:return tt(52216,{left:t})}}function wh(t,e){return(t.values||[]).find((n=>ya(n,e)))!==void 0}function Ku(t,e){if(t===e)return 0;const n=ms(t),r=ms(e);if(n!==r)return Ct(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ct(t.booleanValue,e.booleanValue);case 2:return(function(o,l){const c=Tn(o.integerValue||o.doubleValue),f=Tn(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1})(t,e);case 3:return _I(t.timestampValue,e.timestampValue);case 4:return _I(_h(t),_h(e));case 5:return b1(t.stringValue,e.stringValue);case 6:return(function(o,l){const c=ps(o),f=ps(l);return c.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(o,l){const c=o.split("/"),f=l.split("/");for(let h=0;h<c.length&&h<f.length;h++){const p=Ct(c[h],f[h]);if(p!==0)return p}return Ct(c.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,l){const c=Ct(Tn(o.latitude),Tn(l.latitude));return c!==0?c:Ct(Tn(o.longitude),Tn(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return xI(t.arrayValue,e.arrayValue);case 10:return(function(o,l){var v,_,S,w;const c=o.fields||{},f=l.fields||{},h=(v=c[km])==null?void 0:v.arrayValue,p=(_=f[km])==null?void 0:_.arrayValue,m=Ct(((S=h==null?void 0:h.values)==null?void 0:S.length)||0,((w=p==null?void 0:p.values)==null?void 0:w.length)||0);return m!==0?m:xI(h,p)})(t.mapValue,e.mapValue);case 11:return(function(o,l){if(o===Yp.mapValue&&l===Yp.mapValue)return 0;if(o===Yp.mapValue)return 1;if(l===Yp.mapValue)return-1;const c=o.fields||{},f=Object.keys(c),h=l.fields||{},p=Object.keys(h);f.sort(),p.sort();for(let m=0;m<f.length&&m<p.length;++m){const v=b1(f[m],p[m]);if(v!==0)return v;const _=Ku(c[f[m]],h[p[m]]);if(_!==0)return _}return Ct(f.length,p.length)})(t.mapValue,e.mapValue);default:throw tt(23264,{he:n})}}function _I(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ct(t,e);const n=ds(t),r=ds(e),i=Ct(n.seconds,r.seconds);return i!==0?i:Ct(n.nanos,r.nanos)}function xI(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Ku(n[i],r[i]);if(o)return o}return Ct(n.length,r.length)}function Wu(t){return _1(t)}function _1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ds(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ps(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Xe.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=_1(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${_1(n.fields[l])}`;return i+"}"})(t.mapValue):tt(61005,{value:t})}function gm(t){switch(ms(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wg(t);return e?16+gm(e):16;case 5:return 2*t.stringValue.length;case 6:return ps(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+gm(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return vs(r.fields,((o,l)=>{i+=o.length+gm(l)})),i})(t.mapValue);default:throw tt(13486,{value:t})}}function x1(t){return!!t&&"integerValue"in t}function OA(t){return!!t&&"arrayValue"in t}function wI(t){return!!t&&"nullValue"in t}function SI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ym(t){return!!t&&"mapValue"in t}function c8(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[E4])==null?void 0:r.stringValue)===T4}function ih(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return vs(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=ih(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ih(t.arrayValue.values[n]);return e}return{...t}}function f8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===u8}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.value=e}static empty(){return new Dr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ym(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ih(n)}setAll(e){let n=or.emptyPath(),r={},i=[];e.forEach(((l,c)=>{if(!n.isImmediateParentOf(c)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=ih(l):i.push(c.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());ym(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ya(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ym(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){vs(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new Dr(ih(this.value))}}function O4(t){const e=[];return vs(t.fields,((n,r)=>{const i=new or([n]);if(ym(r)){const o=O4(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)})),new Zr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,n,r,i,o,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new hr(e,0,ot.min(),ot.min(),ot.min(),Dr.empty(),0)}static newFoundDocument(e,n,r,i){return new hr(e,1,n,ot.min(),r,i,0)}static newNoDocument(e,n){return new hr(e,2,n,ot.min(),ot.min(),Dr.empty(),0)}static newUnknownDocument(e,n){return new hr(e,3,n,ot.min(),ot.min(),Dr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ot.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,n){this.position=e,this.inclusive=n}}function AI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],l=t.position[i];if(o.field.isKeyField()?r=Xe.comparator(Xe.fromName(l.referenceValue),n.key):r=Ku(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function EI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ya(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n="asc"){this.field=e,this.dir=n}}function h8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{}class Bn extends C4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new p8(e,n,r):n==="array-contains"?new y8(e,r):n==="in"?new v8(e,r):n==="not-in"?new b8(e,r):n==="array-contains-any"?new _8(e,r):new Bn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new m8(e,r):new g8(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ku(n,this.value)):n!==null&&ms(this.value)===ms(n)&&this.matchesComparison(Ku(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class va extends C4{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new va(e,n)}matches(e){return I4(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function I4(t){return t.op==="and"}function R4(t){return d8(t)&&I4(t)}function d8(t){for(const e of t.filters)if(e instanceof va)return!1;return!0}function w1(t){if(t instanceof Bn)return t.field.canonicalString()+t.op.toString()+Wu(t.value);if(R4(t))return t.filters.map((e=>w1(e))).join(",");{const e=t.filters.map((n=>w1(n))).join(",");return`${t.op}(${e})`}}function P4(t,e){return t instanceof Bn?(function(r,i){return i instanceof Bn&&r.op===i.op&&r.field.isEqual(i.field)&&ya(r.value,i.value)})(t,e):t instanceof va?(function(r,i){return i instanceof va&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,l,c)=>o&&P4(l,i.filters[c])),!0):!1})(t,e):void tt(19439)}function N4(t){return t instanceof Bn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Wu(n.value)}`})(t):t instanceof va?(function(n){return n.op.toString()+" {"+n.getFilters().map(N4).join(" ,")+"}"})(t):"Filter"}class p8 extends Bn{constructor(e,n,r){super(e,n,r),this.key=Xe.fromName(r.referenceValue)}matches(e){const n=Xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class m8 extends Bn{constructor(e,n){super(e,"in",n),this.keys=M4("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class g8 extends Bn{constructor(e,n){super(e,"not-in",n),this.keys=M4("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function M4(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Xe.fromName(r.referenceValue)))}class y8 extends Bn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return OA(n)&&wh(n.arrayValue,this.value)}}class v8 extends Bn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wh(this.value.arrayValue,n)}}class b8 extends Bn{constructor(e,n){super(e,"not-in",n)}matches(e){if(wh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!wh(this.value.arrayValue,n)}}class _8 extends Bn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!OA(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>wh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x8{constructor(e,n=null,r=[],i=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=c,this.Te=null}}function TI(t,e=null,n=[],r=[],i=null,o=null,l=null){return new x8(t,e,n,r,i,o,l)}function CA(t){const e=ut(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>w1(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Kg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Wu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Wu(r))).join(",")),e.Te=n}return e.Te}function IA(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!h8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!P4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!EI(t.startAt,e.startAt)&&EI(t.endAt,e.endAt)}function S1(t){return Xe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n=null,r=[],i=[],o=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function w8(t,e,n,r,i,o,l,c){return new Yg(t,e,n,r,i,o,l,c)}function RA(t){return new Yg(t)}function OI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function S8(t){return t.collectionGroup!==null}function ah(t){const e=ut(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Fn(or.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Dm(o,r))})),n.has(or.keyField().canonicalString())||e.Ie.push(new Dm(or.keyField(),r))}return e.Ie}function ua(t){const e=ut(t);return e.Ee||(e.Ee=A8(e,ah(t))),e.Ee}function A8(t,e){if(t.limitType==="F")return TI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new Dm(i.field,o)}));const n=t.endAt?new jm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new jm(t.startAt.position,t.startAt.inclusive):null;return TI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function A1(t,e,n){return new Yg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xg(t,e){return IA(ua(t),ua(e))&&t.limitType===e.limitType}function k4(t){return`${CA(ua(t))}|lt:${t.limitType}`}function Tu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>N4(i))).join(", ")}]`),Kg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Wu(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Wu(i))).join(",")),`Target(${r})`})(ua(t))}; limitType=${t.limitType})`}function Qg(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Xe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of ah(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,c,f){const h=AI(l,c,f);return l.inclusive?h<=0:h<0})(r.startAt,ah(r),i)||r.endAt&&!(function(l,c,f){const h=AI(l,c,f);return l.inclusive?h>=0:h>0})(r.endAt,ah(r),i))})(t,e)}function E8(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function j4(t){return(e,n)=>{let r=!1;for(const i of ah(t)){const o=T8(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function T8(t,e,n){const r=t.field.isKeyField()?Xe.comparator(e.key,n.key):(function(o,l,c){const f=l.data.field(o),h=c.data.field(o);return f!==null&&h!==null?Ku(f,h):tt(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return tt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vs(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return b4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O8=new gn(Xe.comparator);function oo(){return O8}const D4=new gn(Xe.comparator);function Yf(...t){let e=D4;for(const n of t)e=e.insert(n.key,n);return e}function L4(t){let e=D4;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ll(){return oh()}function V4(){return oh()}function oh(){return new Il((t=>t.toString()),((t,e)=>t.isEqual(e)))}const C8=new gn(Xe.comparator),I8=new Fn(Xe.comparator);function It(...t){let e=I8;for(const n of t)e=e.add(n);return e}const R8=new Fn(Ct);function P8(){return R8}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nm(e)?"-0":e}}function U4(t){return{integerValue:""+t}}function N8(t,e){return i8(e)?U4(e):PA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(){this._=void 0}}function M8(t,e,n){return t instanceof Lm?(function(i,o){const l={fields:{[w4]:{stringValue:x4},[A4]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&TA(o)&&(o=Wg(o)),o&&(l.fields[S4]=o),{mapValue:l}})(n,e):t instanceof Sh?$4(t,e):t instanceof Ah?q4(t,e):(function(i,o){const l=B4(i,o),c=CI(l)+CI(i.Ae);return x1(l)&&x1(i.Ae)?U4(c):PA(i.serializer,c)})(t,e)}function k8(t,e,n){return t instanceof Sh?$4(t,e):t instanceof Ah?q4(t,e):n}function B4(t,e){return t instanceof Vm?(function(r){return x1(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Lm extends Zg{}class Sh extends Zg{constructor(e){super(),this.elements=e}}function $4(t,e){const n=z4(e);for(const r of t.elements)n.some((i=>ya(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Ah extends Zg{constructor(e){super(),this.elements=e}}function q4(t,e){let n=z4(e);for(const r of t.elements)n=n.filter((i=>!ya(i,r)));return{arrayValue:{values:n}}}class Vm extends Zg{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function CI(t){return Tn(t.integerValue||t.doubleValue)}function z4(t){return OA(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function j8(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Sh&&i instanceof Sh||r instanceof Ah&&i instanceof Ah?Gu(r.elements,i.elements,ya):r instanceof Vm&&i instanceof Vm?ya(r.Ae,i.Ae):r instanceof Lm&&i instanceof Lm})(t.transform,e.transform)}class D8{constructor(e,n){this.version=e,this.transformResults=n}}class ca{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ca}static exists(e){return new ca(void 0,e)}static updateTime(e){return new ca(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Jg{}function F4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new G4(t.key,ca.none()):new pd(t.key,t.data,ca.none());{const n=t.data,r=Dr.empty();let i=new Fn(or.comparator);for(let o of e.fields)if(!i.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new bs(t.key,r,new Zr(i.toArray()),ca.none())}}function L8(t,e,n){t instanceof pd?(function(i,o,l){const c=i.value.clone(),f=RI(i.fieldTransforms,o,l.transformResults);c.setAll(f),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,n):t instanceof bs?(function(i,o,l){if(!vm(i.precondition,o))return void o.convertToUnknownDocument(l.version);const c=RI(i.fieldTransforms,o,l.transformResults),f=o.data;f.setAll(H4(i)),f.setAll(c),o.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function sh(t,e,n,r){return t instanceof pd?(function(o,l,c,f){if(!vm(o.precondition,l))return c;const h=o.value.clone(),p=PI(o.fieldTransforms,f,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof bs?(function(o,l,c,f){if(!vm(o.precondition,l))return c;const h=PI(o.fieldTransforms,f,l),p=l.data;return p.setAll(H4(o)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(o,l,c){return vm(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,n)}function V8(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=B4(r.transform,i||null);o!=null&&(n===null&&(n=Dr.empty()),n.set(r.field,o))}return n||null}function II(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Gu(r,i,((o,l)=>j8(o,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pd extends Jg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class bs extends Jg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function H4(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function RI(t,e,n){const r=new Map;$t(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],l=o.transform,c=e.data.field(o.field);r.set(o.field,k8(l,c,n[i]))}return r}function PI(t,e,n){const r=new Map;for(const i of t){const o=i.transform,l=n.data.field(i.field);r.set(i.field,M8(o,l,e))}return r}class G4 extends Jg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class U8 extends Jg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&L8(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=sh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=sh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=V4();return this.mutations.forEach((i=>{const o=e.get(i.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=n.has(i.key)?null:c;const f=F4(l,c);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(ot.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),It())}isEqual(e){return this.batchId===e.batchId&&Gu(this.mutations,e.mutations,((n,r)=>II(n,r)))&&Gu(this.baseMutations,e.baseMutations,((n,r)=>II(n,r)))}}class NA{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){$t(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return C8})();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new NA(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q8{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nn,Pt;function z8(t){switch(t){case xe.OK:return tt(64938);case xe.CANCELLED:case xe.UNKNOWN:case xe.DEADLINE_EXCEEDED:case xe.RESOURCE_EXHAUSTED:case xe.INTERNAL:case xe.UNAVAILABLE:case xe.UNAUTHENTICATED:return!1;case xe.INVALID_ARGUMENT:case xe.NOT_FOUND:case xe.ALREADY_EXISTS:case xe.PERMISSION_DENIED:case xe.FAILED_PRECONDITION:case xe.ABORTED:case xe.OUT_OF_RANGE:case xe.UNIMPLEMENTED:case xe.DATA_LOSS:return!0;default:return tt(15467,{code:t})}}function K4(t){if(t===void 0)return ao("GRPC error has no .code"),xe.UNKNOWN;switch(t){case Nn.OK:return xe.OK;case Nn.CANCELLED:return xe.CANCELLED;case Nn.UNKNOWN:return xe.UNKNOWN;case Nn.DEADLINE_EXCEEDED:return xe.DEADLINE_EXCEEDED;case Nn.RESOURCE_EXHAUSTED:return xe.RESOURCE_EXHAUSTED;case Nn.INTERNAL:return xe.INTERNAL;case Nn.UNAVAILABLE:return xe.UNAVAILABLE;case Nn.UNAUTHENTICATED:return xe.UNAUTHENTICATED;case Nn.INVALID_ARGUMENT:return xe.INVALID_ARGUMENT;case Nn.NOT_FOUND:return xe.NOT_FOUND;case Nn.ALREADY_EXISTS:return xe.ALREADY_EXISTS;case Nn.PERMISSION_DENIED:return xe.PERMISSION_DENIED;case Nn.FAILED_PRECONDITION:return xe.FAILED_PRECONDITION;case Nn.ABORTED:return xe.ABORTED;case Nn.OUT_OF_RANGE:return xe.OUT_OF_RANGE;case Nn.UNIMPLEMENTED:return xe.UNIMPLEMENTED;case Nn.DATA_LOSS:return xe.DATA_LOSS;default:return tt(39323,{code:t})}}(Pt=Nn||(Nn={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F8(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H8=new ls([4294967295,4294967295],0);function NI(t){const e=F8().encode(t),n=new u4;return n.update(e),new Uint8Array(n.digest())}function MI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ls([n,r],0),new ls([i,o],0)]}class MA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xf(`Invalid padding: ${n}`);if(r<0)throw new Xf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xf(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ls.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(ls.fromNumber(r)));return i.compare(H8)===1&&(i=new ls([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=NI(e),[r,i]=MI(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,i,o);if(!this.we(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new MA(o,i,n);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const n=NI(e),[r,i]=MI(n);for(let o=0;o<this.hashCount;o++){const l=this.ye(r,i,o);this.Se(l)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,md.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ey(ot.min(),i,new gn(Ct),oo(),It())}}class md{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new md(r,n,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class W4{constructor(e,n){this.targetId=e,this.Ce=n}}class Y4{constructor(e,n,r=sr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class kI{constructor(){this.ve=0,this.Fe=jI(),this.Me=sr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=It(),n=It(),r=It();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:tt(38017,{changeType:o})}})),new md(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=jI()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class G8{constructor(e){this.Ge=e,this.ze=new Map,this.je=oo(),this.Je=Xp(),this.He=Xp(),this.Ye=new gn(Ct)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:tt(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(S1(o))if(r===0){const l=new Xe(o.path);this.et(n,l,hr.newNoDocument(l,ot.min()))}else $t(r===1,20013,{expectedCount:r});else{const l=this._t(n);if(l!==r){const c=this.ut(e),f=c?this.ct(c,e,l):1;if(f!==0){this.it(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let l,c;try{l=ps(r).toUint8Array()}catch(f){if(f instanceof _4)return Hu("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new MA(l,i,o)}catch(f){return Hu(f instanceof Xf?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(n,o,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((o,l)=>{const c=this.ot(l);if(c){if(o.current&&S1(c.target)){const f=new Xe(c.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,hr.newNoDocument(f,e))}o.Be&&(n.set(l,o.ke()),o.qe())}}));let r=It();this.He.forEach(((o,l)=>{let c=!0;l.forEachWhile((f=>{const h=this.ot(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const i=new ey(e,n,this.Ye,this.je,r);return this.je=oo(),this.Je=Xp(),this.He=Xp(),this.Ye=new gn(Ct),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new kI,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Fn(Ct),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Fn(Ct),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ke("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new kI),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Xp(){return new gn(Xe.comparator)}function jI(){return new gn(Xe.comparator)}const K8={asc:"ASCENDING",desc:"DESCENDING"},W8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Y8={and:"AND",or:"OR"};class X8{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function E1(t,e){return t.useProto3Json||Kg(e)?e:{value:e}}function Um(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function X4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Q8(t,e){return Um(t,e.toTimestamp())}function fa(t){return $t(!!t,49232),ot.fromTimestamp((function(n){const r=ds(n);return new ln(r.seconds,r.nanos)})(t))}function kA(t,e){return T1(t,e).canonicalString()}function T1(t,e){const n=(function(i){return new mn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function Q4(t){const e=mn.fromString(t);return $t(n3(e),10190,{key:e.toString()}),e}function O1(t,e){return kA(t.databaseId,e.path)}function tb(t,e){const n=Q4(e);if(n.get(1)!==t.databaseId.projectId)throw new ze(xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ze(xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Xe(J4(n))}function Z4(t,e){return kA(t.databaseId,e)}function Z8(t){const e=Q4(t);return e.length===4?mn.emptyPath():J4(e)}function C1(t){return new mn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function J4(t){return $t(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function DI(t,e,n){return{name:O1(t,e),fields:n.value.mapValue.fields}}function J8(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:tt(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(h,p){return h.useProto3Json?($t(p===void 0||typeof p=="string",58123),sr.fromBase64String(p||"")):($t(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),sr.fromUint8Array(p||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(h){const p=h.code===void 0?xe.UNKNOWN:K4(h.code);return new ze(p,h.message||"")})(l);n=new Y4(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=tb(t,r.document.name),o=fa(r.document.updateTime),l=r.document.createTime?fa(r.document.createTime):ot.min(),c=new Dr({mapValue:{fields:r.document.fields}}),f=hr.newFoundDocument(i,o,l,c),h=r.targetIds||[],p=r.removedTargetIds||[];n=new bm(h,p,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=tb(t,r.document),o=r.readTime?fa(r.readTime):ot.min(),l=hr.newNoDocument(i,o),c=r.removedTargetIds||[];n=new bm([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=tb(t,r.document),o=r.removedTargetIds||[];n=new bm([],o,i,null)}else{if(!("filter"in e))return tt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new q8(i,o),c=r.targetId;n=new W4(c,l)}}return n}function e7(t,e){let n;if(e instanceof pd)n={update:DI(t,e.key,e.value)};else if(e instanceof G4)n={delete:O1(t,e.key)};else if(e instanceof bs)n={update:DI(t,e.key,e.data),updateMask:u7(e.fieldMask)};else{if(!(e instanceof U8))return tt(16599,{Vt:e.type});n={verify:O1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,l){const c=l.transform;if(c instanceof Lm)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Sh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ah)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Vm)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw tt(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:Q8(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:tt(27497)})(t,e.precondition)),n}function t7(t,e){return t&&t.length>0?($t(e!==void 0,14353),t.map((n=>(function(i,o){let l=i.updateTime?fa(i.updateTime):fa(o);return l.isEqual(ot.min())&&(l=fa(o)),new D8(l,i.transformResults||[])})(n,e)))):[]}function n7(t,e){return{documents:[Z4(t,e.path)]}}function r7(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Z4(t,i);const o=(function(h){if(h.length!==0)return t3(va.create(h,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const l=(function(h){if(h.length!==0)return h.map((p=>(function(v){return{field:Ou(v.field),direction:o7(v.dir)}})(p)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=E1(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function i7(t){let e=Z8(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$t(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=(function(m){const v=e3(m);return v instanceof va&&R4(v)?v.getFilters():[v]})(n.where));let l=[];n.orderBy&&(l=(function(m){return m.map((v=>(function(S){return new Dm(Cu(S.field),(function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(v)))})(n.orderBy));let c=null;n.limit&&(c=(function(m){let v;return v=typeof m=="object"?m.value:m,Kg(v)?null:v})(n.limit));let f=null;n.startAt&&(f=(function(m){const v=!!m.before,_=m.values||[];return new jm(_,v)})(n.startAt));let h=null;return n.endAt&&(h=(function(m){const v=!m.before,_=m.values||[];return new jm(_,v)})(n.endAt)),w8(e,i,l,o,c,"F",f,h)}function a7(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tt(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function e3(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Cu(n.unaryFilter.field);return Bn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Cu(n.unaryFilter.field);return Bn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Cu(n.unaryFilter.field);return Bn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Cu(n.unaryFilter.field);return Bn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return tt(61313);default:return tt(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Bn.create(Cu(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return tt(58110);default:return tt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return va.create(n.compositeFilter.filters.map((r=>e3(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return tt(1026)}})(n.compositeFilter.op))})(t):tt(30097,{filter:t})}function o7(t){return K8[t]}function s7(t){return W8[t]}function l7(t){return Y8[t]}function Ou(t){return{fieldPath:t.canonicalString()}}function Cu(t){return or.fromServerFormat(t.fieldPath)}function t3(t){return t instanceof Bn?(function(n){if(n.op==="=="){if(SI(n.value))return{unaryFilter:{field:Ou(n.field),op:"IS_NAN"}};if(wI(n.value))return{unaryFilter:{field:Ou(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(SI(n.value))return{unaryFilter:{field:Ou(n.field),op:"IS_NOT_NAN"}};if(wI(n.value))return{unaryFilter:{field:Ou(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ou(n.field),op:s7(n.op),value:n.value}}})(t):t instanceof va?(function(n){const r=n.getFilters().map((i=>t3(i)));return r.length===1?r[0]:{compositeFilter:{op:l7(n.op),filters:r}}})(t):tt(54877,{filter:t})}function u7(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function n3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n,r,i,o=ot.min(),l=ot.min(),c=sr.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(e){this.yt=e}}function f7(t){const e=i7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?A1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(){this.Cn=new d7}addToCollectionParentIndex(e,n){return this.Cn.add(n),ve.resolve()}getCollectionParents(e,n){return ve.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ve.resolve()}deleteFieldIndex(e,n){return ve.resolve()}deleteAllFieldIndexes(e){return ve.resolve()}createTargetIndexes(e,n){return ve.resolve()}getDocumentsMatchingTarget(e,n){return ve.resolve(null)}getIndexType(e,n){return ve.resolve(0)}getFieldIndexes(e,n){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,n){return ve.resolve(hs.min())}getMinOffsetFromCollectionGroup(e,n){return ve.resolve(hs.min())}updateCollectionGroup(e,n,r){return ve.resolve()}updateIndexEntries(e,n){return ve.resolve()}}class d7{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Fn(mn.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Fn(mn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},r3=41943040;class jr{static withCacheSize(e){return new jr(e,jr.DEFAULT_COLLECTION_PERCENTILE,jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jr.DEFAULT_COLLECTION_PERCENTILE=10,jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jr.DEFAULT=new jr(r3,jr.DEFAULT_COLLECTION_PERCENTILE,jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jr.DISABLED=new jr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Yu(0)}static cr(){return new Yu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI="LruGarbageCollector",p7=1048576;function UI([t,e],[n,r]){const i=Ct(t,n);return i===0?Ct(e,r):i}class m7{constructor(e){this.Ir=e,this.buffer=new Fn(UI),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();UI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class g7{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ke(VI,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Cc(n)?ke(VI,"Ignoring IndexedDB error during garbage collection: ",n):await Oc(n)}await this.Vr(3e5)}))}}class y7{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ve.resolve(Gg.ce);const r=new m7(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),ve.resolve(LI)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LI):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,l,c,f,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,l=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(r=m,c=Date.now(),this.removeTargets(e,r,n)))).next((m=>(o=m,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(h=Date.now(),Eu()<=Ot.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${o} targets in `+(f-c)+`ms
	Removed ${m} documents in `+(h-f)+`ms
Total Duration: ${h-p}ms`),ve.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:m}))))}}function v7(t,e){return new y7(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(){this.changes=new Il((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ve.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&sh(r.mutation,i,Zr.empty(),ln.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,It()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=It()){const i=ll();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let l=Yf();return o.forEach(((c,f)=>{l=l.insert(c,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=ll();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,It())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((l,c)=>{n.set(l,c)}))}))}computeViews(e,n,r,i){let o=oo();const l=oh(),c=(function(){return oh()})();return n.forEach(((f,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof bs)?o=o.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),sh(p.mutation,h,p.mutation.getFieldMask(),ln.now())):l.set(h.key,Zr.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((h,p)=>l.set(h,p))),n.forEach(((h,p)=>c.set(h,new _7(p,l.get(h)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=oh();let i=new gn(((l,c)=>l-c)),o=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const c of l)c.keys().forEach((f=>{const h=n.get(f);if(h===null)return;let p=r.get(f)||Zr.empty();p=c.applyToLocalView(h,p),r.set(f,p);const m=(i.get(c.batchId)||It()).add(f);i=i.insert(c.batchId,m)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),h=f.key,p=f.value,m=V4();p.forEach((v=>{if(!o.has(v)){const _=F4(n.get(v),r.get(v));_!==null&&m.set(v,_),o=o.add(v)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,m))}return ve.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return Xe.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):S8(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ve.resolve(ll());let c=bh,f=o;return l.next((h=>ve.forEach(h,((p,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),o.get(p)?ve.resolve():this.remoteDocumentCache.getEntry(e,p).next((v=>{f=f.insert(p,v)}))))).next((()=>this.populateOverlays(e,h,o))).next((()=>this.computeViews(e,f,h,It()))).next((p=>({batchId:c,changes:L4(p)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Xe(n)).next((r=>{let i=Yf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let l=Yf();return this.indexManager.getCollectionParents(e,o).next((c=>ve.forEach(c,(f=>{const h=(function(m,v){return new Yg(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((p=>{p.forEach(((m,v)=>{l=l.insert(m,v)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((l=>{o.forEach(((f,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,hr.newInvalidDocument(p)))}));let c=Yf();return l.forEach(((f,h)=>{const p=o.get(f);p!==void 0&&sh(p.mutation,h,Zr.empty(),ln.now()),Qg(n,h)&&(c=c.insert(f,h))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ve.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:fa(i.createTime)}})(n)),ve.resolve()}getNamedQuery(e,n){return ve.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:f7(i.bundledQuery),readTime:fa(i.readTime)}})(n)),ve.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(){this.overlays=new gn(Xe.comparator),this.qr=new Map}getOverlay(e,n){return ve.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ll();return ve.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.St(e,n,o)})),ve.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),ve.resolve()}getOverlaysForCollection(e,n,r){const i=ll(),o=n.length+1,l=new Xe(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&f.largestBatchId>r&&i.set(f.getKey(),f)}return ve.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new gn(((h,p)=>h-p));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=o.get(h.largestBatchId);p===null&&(p=ll(),o=o.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const c=ll(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((h,p)=>c.set(h,p))),!(c.size()>=i)););return ve.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new $8(n,r));let o=this.qr.get(n);o===void 0&&(o=It(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(){this.sessionToken=sr.EMPTY_BYTE_STRING}getSessionToken(e){return ve.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ve.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(){this.Qr=new Fn(Wn.$r),this.Ur=new Fn(Wn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Wn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Wn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Xe(new mn([])),r=new Wn(n,e),i=new Wn(n,e+1),o=[];return this.Ur.forEachInRange([r,i],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Xe(new mn([])),r=new Wn(n,e),i=new Wn(n,e+1);let o=It();return this.Ur.forEachInRange([r,i],(l=>{o=o.add(l.key)})),o}containsKey(e){const n=new Wn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Wn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Xe.comparator(e.key,n.key)||Ct(e.Yr,n.Yr)}static Kr(e,n){return Ct(e.Yr,n.Yr)||Xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Fn(Wn.$r)}checkEmpty(e){return ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new B8(o,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Zr=this.Zr.add(new Wn(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ve.resolve(l)}lookupMutationBatch(e,n){return ve.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return ve.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(this.mutationQueue.length===0?EA:this.tr-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Wn(n,0),i=new Wn(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],(l=>{const c=this.Xr(l.Yr);o.push(c)})),ve.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Fn(Ct);return n.forEach((i=>{const o=new Wn(i,0),l=new Wn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(c=>{r=r.add(c.Yr)}))})),ve.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Xe.isDocumentKey(o)||(o=o.child(""));const l=new Wn(new Xe(o),0);let c=new Fn(Ct);return this.Zr.forEachWhile((f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(f.Yr)),!0)}),l),ve.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){$t(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ve.forEach(n.mutations,(i=>{const o=new Wn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Wn(n,0),i=this.Zr.firstAfterOrEqual(r);return ve.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ve.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e){this.ri=e,this.docs=(function(){return new gn(Xe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ve.resolve(r?r.document.mutableCopy():hr.newInvalidDocument(n))}getEntries(e,n){let r=oo();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():hr.newInvalidDocument(i))})),ve.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=oo();const l=n.path,c=new Xe(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:h,value:{document:p}}=f.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||e8(Jz(p),r)<=0||(i.has(p.key)||Qg(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return ve.resolve(o)}getAllFromCollectionGroup(e,n,r,i){tt(9500)}ii(e,n){return ve.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new O7(this)}getSize(e){return ve.resolve(this.size)}}class O7 extends b7{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),ve.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(e){this.persistence=e,this.si=new Il((n=>CA(n)),IA),this.lastRemoteSnapshotVersion=ot.min(),this.highestTargetId=0,this.oi=0,this._i=new jA,this.targetCount=0,this.ai=Yu.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ve.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Yu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ve.resolve()}updateTargetData(e,n){return this.Pr(n),ve.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),ve.waitFor(o).next((()=>i))}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ve.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ve.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((l=>{o.push(i.markPotentiallyOrphaned(e,l))})),ve.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ve.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ve.resolve(r)}containsKey(e,n){return ve.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e,n){this.ui={},this.overlays={},this.ci=new Gg(0),this.li=!1,this.li=!0,this.hi=new A7,this.referenceDelegate=e(this),this.Pi=new C7(this),this.indexManager=new h7,this.remoteDocumentCache=(function(i){return new T7(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new c7(n),this.Ii=new w7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new S7,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new E7(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ke("MemoryPersistence","Starting transaction:",e);const i=new I7(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ai(e,n){return ve.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class I7 extends n8{constructor(e){super(),this.currentSequenceNumber=e}}class DA{constructor(e){this.persistence=e,this.Ri=new jA,this.Vi=null}static mi(e){return new DA(e)}get fi(){if(this.Vi)return this.Vi;throw tt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ve.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ve.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ve.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.fi,(r=>{const i=Xe.fromPath(r);return this.gi(e,i).next((o=>{o||n.removeEntry(i,ot.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ve.or([()=>ve.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Bm{constructor(e,n){this.persistence=e,this.pi=new Il((r=>a8(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=v7(this,n)}static mi(e,n){return new Bm(e,n)}Ei(){}di(e){return ve.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ve.forEach(this.pi,((r,i)=>this.br(e,r,i).next((o=>o?ve.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,n).next((c=>{c||(r++,o.removeEntry(l,ot.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ve.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ve.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ve.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ve.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=gm(e.data.value)),n}br(e,n,r){return ve.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return ve.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=It(),i=It();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new LA(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return x9()?8:r8(pr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(e,n,i,r).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new R7;return this.Ss(e,n,l).next((c=>{if(o.result=c,this.Vs)return this.bs(e,n,l,c.size)}))})).next((()=>o.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Eu()<=Ot.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",Tu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ve.resolve()):(Eu()<=Ot.DEBUG&&ke("QueryEngine","Query:",Tu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Eu()<=Ot.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",Tu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ua(n))):ve.resolve())}ys(e,n){if(OI(n))return ve.resolve(null);let r=ua(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=A1(n,null,"F"),r=ua(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const l=It(...o);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((f=>{const h=this.Ds(n,c);return this.Cs(n,h,l,f.readTime)?this.ys(e,A1(n,null,"F")):this.vs(e,h,n,f)}))))})))))}ws(e,n,r,i){return OI(n)||i.isEqual(ot.min())?ve.resolve(null):this.ps.getDocuments(e,r).next((o=>{const l=this.Ds(n,o);return this.Cs(n,l,r,i)?ve.resolve(null):(Eu()<=Ot.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Tu(n)),this.vs(e,l,n,Zz(i,bh)).next((c=>c)))}))}Ds(e,n){let r=new Fn(j4(e));return n.forEach(((i,o)=>{Qg(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Eu()<=Ot.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",Tu(n)),this.ps.getDocumentsMatchingQuery(e,n,hs.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((l=>{o=o.insert(l.key,l)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="LocalStore",N7=3e8;class M7{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new gn(Ct),this.xs=new Il((o=>CA(o)),IA),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new x7(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function k7(t,e,n,r){return new M7(t,e,n,r)}async function a3(t,e){const n=ut(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const l=[],c=[];let f=It();for(const h of i){l.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}for(const h of o){c.push(h.batchId);for(const p of h.mutations)f=f.add(p.key)}return n.localDocuments.getDocuments(r,f).next((h=>({Ls:h,removedBatchIds:l,addedBatchIds:c})))}))}))}function j7(t,e){const n=ut(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,f,h,p){const m=h.batch,v=m.keys();let _=ve.resolve();return v.forEach((S=>{_=_.next((()=>p.getEntry(f,S))).next((w=>{const x=h.docVersions.get(S);$t(x!==null,48541),w.version.compareTo(x)<0&&(m.applyToRemoteDocument(w,h),w.isValidDocument()&&(w.setReadTime(h.commitVersion),p.addEntry(w)))}))})),_.next((()=>c.mutationQueue.removeMutationBatch(f,m)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let f=It();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(f=f.add(c.batch.mutations[h].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function o3(t){const e=ut(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function D7(t,e){const n=ut(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((p,m)=>{const v=i.get(m);if(!v)return;c.push(n.Pi.removeMatchingKeys(o,p.removedDocuments,m).next((()=>n.Pi.addMatchingKeys(o,p.addedDocuments,m))));let _=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?_=_.withResumeToken(sr.EMPTY_BYTE_STRING,ot.min()).withLastLimboFreeSnapshotVersion(ot.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,r)),i=i.insert(m,_),(function(w,x,I){return w.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=N7?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0})(v,_,p)&&c.push(n.Pi.updateTargetData(o,_))}));let f=oo(),h=It();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))})),c.push(L7(o,l,e.documentUpdates).next((p=>{f=p.ks,h=p.qs}))),!r.isEqual(ot.min())){const p=n.Pi.getLastRemoteSnapshotVersion(o).next((m=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));c.push(p)}return ve.waitFor(c).next((()=>l.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,f,h))).next((()=>f))})).then((o=>(n.Ms=i,o)))}function L7(t,e,n){let r=It(),i=It();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let l=oo();return n.forEach(((c,f)=>{const h=o.get(c);f.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),f.isNoDocument()&&f.version.isEqual(ot.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):ke(VA,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",f.version)})),{ks:l,qs:i}}))}function V7(t,e){const n=ut(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=EA),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function U7(t,e){const n=ut(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((o=>o?(i=o,ve.resolve(i)):n.Pi.allocateTargetId(r).next((l=>(i=new rs(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function I1(t,e,n){const r=ut(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Cc(l))throw l;ke(VA,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function BI(t,e,n){const r=ut(t);let i=ot.min(),o=It();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,h,p){const m=ut(f),v=m.xs.get(p);return v!==void 0?ve.resolve(m.Ms.get(v)):m.Pi.getTargetData(h,p)})(r,l,ua(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(l,c.targetId).next((f=>{o=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(l,e,n?i:ot.min(),n?o:It()))).next((c=>(B7(r,E8(e),c),{documents:c,Qs:o})))))}function B7(t,e,n){let r=t.Os.get(e)||ot.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class $I{constructor(){this.activeTargetIds=P8()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $7{constructor(){this.Mo=new $I,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new $I,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="ConnectivityMonitor";class zI{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ke(qI,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ke(qI,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qp=null;function R1(){return Qp===null?Qp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qp++,"0x"+Qp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="RestConnection",z7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class F7{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Mm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const l=R1(),c=this.zo(e,n.toUriEncodedString());ke(nb,`Sending RPC '${e}' ${l}:`,c,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,i,o);const{host:h}=new URL(c),p=Sc(h);return this.Jo(e,c,f,r,p).then((m=>(ke(nb,`Received RPC '${e}' ${l}: `,m),m)),(m=>{throw Hu(nb,`RPC '${e}' ${l} failed with error: `,m,"url: ",c,"request:",r),m}))}Ho(e,n,r,i,o,l){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Tc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}zo(e,n){const r=z7[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur="WebChannelConnection";class G7 extends F7{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const l=R1();return new Promise(((c,f)=>{const h=new c4;h.setWithCredentials(!0),h.listenOnce(f4.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case mm.NO_ERROR:const m=h.getResponseJson();ke(ur,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(m)),c(m);break;case mm.TIMEOUT:ke(ur,`RPC '${e}' ${l} timed out`),f(new ze(xe.DEADLINE_EXCEEDED,"Request time out"));break;case mm.HTTP_ERROR:const v=h.getStatus();if(ke(ur,`RPC '${e}' ${l} failed with status:`,v,"response text:",h.getResponseText()),v>0){let _=h.getResponseJson();Array.isArray(_)&&(_=_[0]);const S=_==null?void 0:_.error;if(S&&S.status&&S.message){const w=(function(I){const N=I.toLowerCase().replace(/_/g,"-");return Object.values(xe).indexOf(N)>=0?N:xe.UNKNOWN})(S.status);f(new ze(w,S.message))}else f(new ze(xe.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new ze(xe.UNAVAILABLE,"Connection failed."));break;default:tt(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{ke(ur,`RPC '${e}' ${l} completed.`)}}));const p=JSON.stringify(i);ke(ur,`RPC '${e}' ${l} sending request:`,i),h.send(n,"POST",p,r,15)}))}T_(e,n,r){const i=R1(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=p4(),c=d4(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const p=o.join("");ke(ur,`Creating RPC '${e}' stream ${i}: ${p}`,f);const m=l.createWebChannel(p,f);this.I_(m);let v=!1,_=!1;const S=new H7({Yo:x=>{_?ke(ur,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(v||(ke(ur,`Opening RPC '${e}' stream ${i} transport.`),m.open(),v=!0),ke(ur,`RPC '${e}' stream ${i} sending:`,x),m.send(x))},Zo:()=>m.close()}),w=(x,I,N)=>{x.listen(I,(M=>{try{N(M)}catch(V){setTimeout((()=>{throw V}),0)}}))};return w(m,Wf.EventType.OPEN,(()=>{_||(ke(ur,`RPC '${e}' stream ${i} transport opened.`),S.o_())})),w(m,Wf.EventType.CLOSE,(()=>{_||(_=!0,ke(ur,`RPC '${e}' stream ${i} transport closed`),S.a_(),this.E_(m))})),w(m,Wf.EventType.ERROR,(x=>{_||(_=!0,Hu(ur,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),S.a_(new ze(xe.UNAVAILABLE,"The operation could not be completed")))})),w(m,Wf.EventType.MESSAGE,(x=>{var I;if(!_){const N=x.data[0];$t(!!N,16349);const M=N,V=(M==null?void 0:M.error)||((I=M[0])==null?void 0:I.error);if(V){ke(ur,`RPC '${e}' stream ${i} received error:`,V);const O=V.status;let j=(function(P){const U=Nn[P];if(U!==void 0)return K4(U)})(O),T=V.message;j===void 0&&(j=xe.INTERNAL,T="Unknown error status: "+O+" with message "+V.message),_=!0,S.a_(new ze(j,T)),m.close()}else ke(ur,`RPC '${e}' stream ${i} received:`,N),S.u_(N)}})),w(c,h4.STAT_EVENT,(x=>{x.stat===v1.PROXY?ke(ur,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===v1.NOPROXY&&ke(ur,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{S.__()}),0),S}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function rb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(t){return new X8(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="PersistentStream";class l3{constructor(e,n,r,i,o,l,c,f){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new s3(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===xe.RESOURCE_EXHAUSTED?(ao(n.toString()),ao("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===xe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new ze(xe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ke(FI,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ke(FI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class K7 extends l3{constructor(e,n,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=J8(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ot.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?ot.min():l.readTime?fa(l.readTime):ot.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=C1(this.serializer),n.addTarget=(function(o,l){let c;const f=l.target;if(c=S1(f)?{documents:n7(o,f)}:{query:r7(o,f).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=X4(o,l.resumeToken);const h=E1(o,l.expectedCount);h!==null&&(c.expectedCount=h)}else if(l.snapshotVersion.compareTo(ot.min())>0){c.readTime=Um(o,l.snapshotVersion.toTimestamp());const h=E1(o,l.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const r=a7(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=C1(this.serializer),n.removeTarget=e,this.q_(n)}}class W7 extends l3{constructor(e,n,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return $t(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$t(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$t(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=t7(e.writeResults,e.commitTime),r=fa(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=C1(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>e7(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{}class X7 extends Y7{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ze(xe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(e,T1(n,r),i,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ze(xe.UNKNOWN,o.toString())}))}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,T1(n,r),i,l,c,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ze(xe.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Q7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ao(n),this.aa=!1):ke("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl="RemoteStore";class Z7{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{r.enqueueAndForget((async()=>{Rl(this)&&(ke(wl,"Restarting streams for network reachability change."),await(async function(f){const h=ut(f);h.Ea.add(4),await gd(h),h.Ra.set("Unknown"),h.Ea.delete(4),await ny(h)})(this))}))})),this.Ra=new Q7(r,i)}}async function ny(t){if(Rl(t))for(const e of t.da)await e(!0)}async function gd(t){for(const e of t.da)await e(!1)}function u3(t,e){const n=ut(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),qA(n)?$A(n):Ic(n).O_()&&BA(n,e))}function UA(t,e){const n=ut(t),r=Ic(n);n.Ia.delete(e),r.O_()&&c3(n,e),n.Ia.size===0&&(r.O_()?r.L_():Rl(n)&&n.Ra.set("Unknown"))}function BA(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ot.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ic(t).Y_(e)}function c3(t,e){t.Va.Ue(e),Ic(t).Z_(e)}function $A(t){t.Va=new G8({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ic(t).start(),t.Ra.ua()}function qA(t){return Rl(t)&&!Ic(t).x_()&&t.Ia.size>0}function Rl(t){return ut(t).Ea.size===0}function f3(t){t.Va=void 0}async function J7(t){t.Ra.set("Online")}async function eF(t){t.Ia.forEach(((e,n)=>{BA(t,e)}))}async function tF(t,e){f3(t),qA(t)?(t.Ra.ha(e),$A(t)):t.Ra.set("Unknown")}async function nF(t,e,n){if(t.Ra.set("Online"),e instanceof Y4&&e.state===2&&e.cause)try{await(async function(i,o){const l=o.cause;for(const c of o.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){ke(wl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await $m(t,r)}else if(e instanceof bm?t.Va.Ze(e):e instanceof W4?t.Va.st(e):t.Va.tt(e),!n.isEqual(ot.min()))try{const r=await o3(t.localStore);n.compareTo(r)>=0&&await(function(o,l){const c=o.Va.Tt(l);return c.targetChanges.forEach(((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const p=o.Ia.get(h);p&&o.Ia.set(h,p.withResumeToken(f.resumeToken,l))}})),c.targetMismatches.forEach(((f,h)=>{const p=o.Ia.get(f);if(!p)return;o.Ia.set(f,p.withResumeToken(sr.EMPTY_BYTE_STRING,p.snapshotVersion)),c3(o,f);const m=new rs(p.target,f,h,p.sequenceNumber);BA(o,m)})),o.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){ke(wl,"Failed to raise snapshot:",r),await $m(t,r)}}async function $m(t,e,n){if(!Cc(e))throw e;t.Ea.add(1),await gd(t),t.Ra.set("Offline"),n||(n=()=>o3(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ke(wl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ny(t)}))}function h3(t,e){return e().catch((n=>$m(t,n,e)))}async function ry(t){const e=ut(t),n=gs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:EA;for(;rF(e);)try{const i=await V7(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,iF(e,i)}catch(i){await $m(e,i)}d3(e)&&p3(e)}function rF(t){return Rl(t)&&t.Ta.length<10}function iF(t,e){t.Ta.push(e);const n=gs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function d3(t){return Rl(t)&&!gs(t).x_()&&t.Ta.length>0}function p3(t){gs(t).start()}async function aF(t){gs(t).ra()}async function oF(t){const e=gs(t);for(const n of t.Ta)e.ea(n.mutations)}async function sF(t,e,n){const r=t.Ta.shift(),i=NA.from(r,e,n);await h3(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await ry(t)}async function lF(t,e){e&&gs(t).X_&&await(async function(r,i){if((function(l){return z8(l)&&l!==xe.ABORTED})(i.code)){const o=r.Ta.shift();gs(r).B_(),await h3(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await ry(r)}})(t,e),d3(t)&&p3(t)}async function HI(t,e){const n=ut(t);n.asyncQueue.verifyOperationInProgress(),ke(wl,"RemoteStore received new credentials");const r=Rl(n);n.Ea.add(3),await gd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ny(n)}async function uF(t,e){const n=ut(t);e?(n.Ea.delete(2),await ny(n)):e||(n.Ea.add(2),await gd(n),n.Ra.set("Unknown"))}function Ic(t){return t.ma||(t.ma=(function(n,r,i){const o=ut(n);return o.sa(),new K7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:J7.bind(null,t),t_:eF.bind(null,t),r_:tF.bind(null,t),H_:nF.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),qA(t)?$A(t):t.Ra.set("Unknown")):(await t.ma.stop(),f3(t))}))),t.ma}function gs(t){return t.fa||(t.fa=(function(n,r,i){const o=ut(n);return o.sa(),new W7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:aF.bind(null,t),r_:lF.bind(null,t),ta:oF.bind(null,t),na:sF.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await ry(t)):(await t.fa.stop(),t.Ta.length>0&&(ke(wl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const l=Date.now()+r,c=new zA(e,n,l,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ze(xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function FA(t,e){if(ao("AsyncQueue",`${e}: ${t}`),Cc(t))return new ze(xe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{static emptySet(e){return new Uu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Xe.comparator(n.key,r.key):(n,r)=>Xe.comparator(n.key,r.key),this.keyedMap=Yf(),this.sortedSet=new gn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Uu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Uu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(){this.ga=new gn(Xe.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):tt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Xu{constructor(e,n,r,i,o,l,c,f,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,o){const l=[];return n.forEach((c=>{l.push({type:0,doc:c})})),new Xu(e,n,Uu.emptySet(n),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class fF{constructor(){this.queries=KI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ut(n),o=i.queries;i.queries=KI(),o.forEach(((l,c)=>{for(const f of c.Sa)f.onError(r)}))})(this,new ze(xe.ABORTED,"Firestore shutting down"))}}function KI(){return new Il((t=>k4(t)),Xg)}async function hF(t,e){const n=ut(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new cF,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=FA(l,`Initialization of query '${Tu(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&HA(n)}async function dF(t,e){const n=ut(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function pF(t,e){const n=ut(t);let r=!1;for(const i of e){const o=i.query,l=n.queries.get(o);if(l){for(const c of l.Sa)c.Fa(i)&&(r=!0);l.wa=i}}r&&HA(n)}function mF(t,e,n){const r=ut(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function HA(t){t.Ca.forEach((e=>{e.next()}))}var P1,WI;(WI=P1||(P1={})).Ma="default",WI.Cache="cache";class gF{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Xu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Xu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==P1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e){this.key=e}}class g3{constructor(e){this.key=e}}class yF{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=It(),this.mutatedKeys=It(),this.eu=j4(e),this.tu=new Uu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new GI,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((p,m)=>{const v=i.get(p),_=Qg(this.query,m)?m:null,S=!!v&&this.mutatedKeys.has(v.key),w=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let x=!1;v&&_?v.data.isEqual(_.data)?S!==w&&(r.track({type:3,doc:_}),x=!0):this.su(v,_)||(r.track({type:2,doc:_}),x=!0,(f&&this.eu(_,f)>0||h&&this.eu(_,h)<0)&&(c=!0)):!v&&_?(r.track({type:0,doc:_}),x=!0):v&&!_&&(r.track({type:1,doc:v}),x=!0,(f||h)&&(c=!0)),x&&(_?(l=l.add(_),o=w?o.add(p):o.delete(p)):(l=l.delete(p),o=o.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{tu:l,iu:r,Cs:c,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((p,m)=>(function(_,S){const w=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt(20277,{Rt:x})}};return w(_)-w(S)})(p.type,m.type)||this.eu(p.doc,m.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],f=this.Xa.size===0&&this.current&&!i?1:0,h=f!==this.Za;return this.Za=f,l.length!==0||h?{snapshot:new Xu(this.query,e.tu,o,l,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new GI,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=It(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new g3(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new m3(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=It();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Xu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const GA="SyncEngine";class vF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class bF{constructor(e){this.key=e,this.hu=!1}}class _F{constructor(e,n,r,i,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Il((c=>k4(c)),Xg),this.Iu=new Map,this.Eu=new Set,this.du=new gn(Xe.comparator),this.Au=new Map,this.Ru=new jA,this.Vu={},this.mu=new Map,this.fu=Yu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xF(t,e,n=!0){const r=w3(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await y3(r,e,n,!0),i}async function wF(t,e){const n=w3(t);await y3(n,e,!0,!1)}async function y3(t,e,n,r){const i=await U7(t.localStore,ua(e)),o=i.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let c;return r&&(c=await SF(t,e,o,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&u3(t.remoteStore,i),c}async function SF(t,e,n,r,i){t.pu=(m,v,_)=>(async function(w,x,I,N){let M=x.view.ru(I);M.Cs&&(M=await BI(w.localStore,x.query,!1).then((({documents:T})=>x.view.ru(T,M))));const V=N&&N.targetChanges.get(x.targetId),O=N&&N.targetMismatches.get(x.targetId)!=null,j=x.view.applyChanges(M,w.isPrimaryClient,V,O);return XI(w,x.targetId,j.au),j.snapshot})(t,m,v,_);const o=await BI(t.localStore,e,!0),l=new yF(e,o.Qs),c=l.ru(o.documents),f=md.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=l.applyChanges(c,t.isPrimaryClient,f);XI(t,n,h.au);const p=new vF(e,n,l);return t.Tu.set(e,p),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function AF(t,e,n){const r=ut(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((l=>!Xg(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await I1(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&UA(r.remoteStore,i.targetId),N1(r,i.targetId)})).catch(Oc)):(N1(r,i.targetId),await I1(r.localStore,i.targetId,!0))}async function EF(t,e){const n=ut(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),UA(n.remoteStore,r.targetId))}async function TF(t,e,n){const r=MF(t);try{const i=await(function(l,c){const f=ut(l),h=ln.now(),p=c.reduce(((_,S)=>_.add(S.key)),It());let m,v;return f.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let S=oo(),w=It();return f.Ns.getEntries(_,p).next((x=>{S=x,S.forEach(((I,N)=>{N.isValidDocument()||(w=w.add(I))}))})).next((()=>f.localDocuments.getOverlayedDocuments(_,S))).next((x=>{m=x;const I=[];for(const N of c){const M=V8(N,m.get(N.key).overlayedDocument);M!=null&&I.push(new bs(N.key,M,O4(M.value.mapValue),ca.exists(!0)))}return f.mutationQueue.addMutationBatch(_,h,I,c)})).next((x=>{v=x;const I=x.applyToLocalDocumentSet(m,w);return f.documentOverlayCache.saveOverlays(_,x.batchId,I)}))})).then((()=>({batchId:v.batchId,changes:L4(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,c,f){let h=l.Vu[l.currentUser.toKey()];h||(h=new gn(Ct)),h=h.insert(c,f),l.Vu[l.currentUser.toKey()]=h})(r,i.batchId,n),await yd(r,i.changes),await ry(r.remoteStore)}catch(i){const o=FA(i,"Failed to persist write");n.reject(o)}}async function v3(t,e){const n=ut(t);try{const r=await D7(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const l=n.Au.get(o);l&&($t(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?$t(l.hu,14607):i.removedDocuments.size>0&&($t(l.hu,42227),l.hu=!1))})),await yd(n,r,e)}catch(r){await Oc(r)}}function YI(t,e,n){const r=ut(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((o,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const f=ut(l);f.onlineState=c;let h=!1;f.queries.forEach(((p,m)=>{for(const v of m.Sa)v.va(c)&&(h=!0)})),h&&HA(f)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function OF(t,e,n){const r=ut(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let l=new gn(Xe.comparator);l=l.insert(o,hr.newNoDocument(o,ot.min()));const c=It().add(o),f=new ey(ot.min(),new Map,new gn(Ct),l,c);await v3(r,f),r.du=r.du.remove(o),r.Au.delete(e),KA(r)}else await I1(r.localStore,e,!1).then((()=>N1(r,e,n))).catch(Oc)}async function CF(t,e){const n=ut(t),r=e.batch.batchId;try{const i=await j7(n.localStore,e);_3(n,r,null),b3(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yd(n,i)}catch(i){await Oc(i)}}async function IF(t,e,n){const r=ut(t);try{const i=await(function(l,c){const f=ut(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let p;return f.mutationQueue.lookupMutationBatch(h,c).next((m=>($t(m!==null,37113),p=m.keys(),f.mutationQueue.removeMutationBatch(h,m)))).next((()=>f.mutationQueue.performConsistencyCheck(h))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(h,p,c))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p))).next((()=>f.localDocuments.getDocuments(h,p)))}))})(r.localStore,e);_3(r,e,n),b3(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await yd(r,i)}catch(i){await Oc(i)}}function b3(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function _3(t,e,n){const r=ut(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function N1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||x3(t,r)}))}function x3(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(UA(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),KA(t))}function XI(t,e,n){for(const r of n)r instanceof m3?(t.Ru.addReference(r.key,e),RF(t,r)):r instanceof g3?(ke(GA,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||x3(t,r.key)):tt(19791,{wu:r})}function RF(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ke(GA,"New document in limbo: "+n),t.Eu.add(r),KA(t))}function KA(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Xe(mn.fromString(e)),r=t.fu.next();t.Au.set(r,new bF(n)),t.du=t.du.insert(n,r),u3(t.remoteStore,new rs(ua(RA(n.path)),r,"TargetPurposeLimboResolution",Gg.ce))}}async function yd(t,e,n){const r=ut(t),i=[],o=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,f)=>{l.push(r.pu(f,e,n).then((h=>{var p;if((h||n)&&r.isPrimaryClient){const m=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(f.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(f.targetId,m?"current":"not-current")}if(h){i.push(h);const m=LA.As(f.targetId,h);o.push(m)}})))})),await Promise.all(l),r.Pu.H_(i),await(async function(f,h){const p=ut(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>ve.forEach(h,(v=>ve.forEach(v.Es,(_=>p.persistence.referenceDelegate.addReference(m,v.targetId,_))).next((()=>ve.forEach(v.ds,(_=>p.persistence.referenceDelegate.removeReference(m,v.targetId,_)))))))))}catch(m){if(!Cc(m))throw m;ke(VA,"Failed to update sequence numbers: "+m)}for(const m of h){const v=m.targetId;if(!m.fromCache){const _=p.Ms.get(v),S=_.snapshotVersion,w=_.withLastLimboFreeSnapshotVersion(S);p.Ms=p.Ms.insert(v,w)}}})(r.localStore,o))}async function PF(t,e){const n=ut(t);if(!n.currentUser.isEqual(e)){ke(GA,"User change. New user:",e.toKey());const r=await a3(n.localStore,e);n.currentUser=e,(function(o,l){o.mu.forEach((c=>{c.forEach((f=>{f.reject(new ze(xe.CANCELLED,l))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yd(n,r.Ls)}}function NF(t,e){const n=ut(t),r=n.Au.get(e);if(r&&r.hu)return It().add(r.key);{let i=It();const o=n.Iu.get(e);if(!o)return i;for(const l of o){const c=n.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}function w3(t){const e=ut(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=v3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=NF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OF.bind(null,e),e.Pu.H_=pF.bind(null,e.eventManager),e.Pu.yu=mF.bind(null,e.eventManager),e}function MF(t){const e=ut(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IF.bind(null,e),e}class qm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ty(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return k7(this.persistence,new P7,e.initialUser,this.serializer)}Cu(e){return new i3(DA.mi,this.serializer)}Du(e){return new $7}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qm.provider={build:()=>new qm};class kF extends qm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){$t(this.persistence.referenceDelegate instanceof Bm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new g7(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?jr.withCacheSize(this.cacheSizeBytes):jr.DEFAULT;return new i3((r=>Bm.mi(r,n)),this.serializer)}}class M1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>YI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=PF.bind(null,this.syncEngine),await uF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new fF})()}createDatastore(e){const n=ty(e.databaseInfo.databaseId),r=(function(o){return new G7(o)})(e.databaseInfo);return(function(o,l,c,f){return new X7(o,l,c,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,l,c){return new Z7(r,i,o,l,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>YI(this.syncEngine,n,0)),(function(){return zI.v()?new zI:new q7})())}createSyncEngine(e,n){return(function(i,o,l,c,f,h,p){const m=new _F(i,o,l,c,f,h);return p&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const o=ut(i);ke(wl,"RemoteStore shutting down."),o.Ea.add(5),await gd(o),o.Aa.shutdown(),o.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}M1.provider={build:()=>new M1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ao("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="FirestoreClient";class DF{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=fr.UNAUTHENTICATED,this.clientId=SA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async l=>{ke(ys,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(ke(ys,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=FA(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function ib(t,e){t.asyncQueue.verifyOperationInProgress(),ke(ys,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await a3(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function QI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await LF(t);ke(ys,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>HI(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>HI(e.remoteStore,i))),t._onlineComponents=e}async function LF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ke(ys,"Using user provided OfflineComponentProvider");try{await ib(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===xe.FAILED_PRECONDITION||i.code===xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Hu("Error using user provided cache. Falling back to memory cache: "+n),await ib(t,new qm)}}else ke(ys,"Using default OfflineComponentProvider"),await ib(t,new kF(void 0));return t._offlineComponents}async function S3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ke(ys,"Using user provided OnlineComponentProvider"),await QI(t,t._uninitializedComponentsProvider._online)):(ke(ys,"Using default OnlineComponentProvider"),await QI(t,new M1))),t._onlineComponents}function VF(t){return S3(t).then((e=>e.syncEngine))}async function UF(t){const e=await S3(t),n=e.eventManager;return n.onListen=xF.bind(null,e.syncEngine),n.onUnlisten=AF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=wF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=EF.bind(null,e.syncEngine),n}function BF(t,e,n={}){const r=new us;return t.asyncQueue.enqueueAndForget((async()=>(function(o,l,c,f,h){const p=new jF({next:v=>{p.Nu(),l.enqueueAndForget((()=>dF(o,m)));const _=v.docs.has(c);!_&&v.fromCache?h.reject(new ze(xe.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&v.fromCache&&f&&f.source==="server"?h.reject(new ze(xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(v)},error:v=>h.reject(v)}),m=new gF(RA(c.path),p,{includeMetadataChanges:!0,qa:!0});return hF(o,m)})(await UF(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3="firestore.googleapis.com",JI=!0;class eR{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ze(xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=E3,this.ssl=JI}else this.host=e.host,this.ssl=e.ssl??JI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=r3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<p7)throw new ze(xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Qz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=A3(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ze(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ze(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ze(xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class WA{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ze(xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ze(xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eR(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Bz;switch(r.type){case"firstParty":return new Fz(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ze(xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=ZI.get(n);r&&(ke("ComponentProvider","Removing Datastore"),ZI.delete(n),r.terminate())})(this),Promise.resolve()}}function $F(t,e,n,r={}){var h;t=xl(t,WA);const i=Sc(e),o=t._getSettings(),l={...o,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(EL(`https://${c}`),TL("Firestore",!0)),o.host!==E3&&o.host!==c&&Hu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:c,ssl:i,emulatorOptions:r};if(!yl(f,l)&&(t._setSettings(f),r.mockUserToken)){let p,m;if(typeof r.mockUserToken=="string")p=r.mockUserToken,m=fr.MOCK_USER;else{p=h9(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new ze(xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new fr(v)}t._authCredentials=new $z(new g4(p,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new YA(this.firestore,e,this._query)}}class qn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Eh(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qn(this.firestore,e,this._key)}toJSON(){return{type:qn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(dd(n,qn._jsonSchema))return new qn(e,r||null,new Xe(mn.fromString(n.referencePath)))}}qn._jsonSchemaVersion="firestore/documentReference/1.0",qn._jsonSchema={type:kn("string",qn._jsonSchemaVersion),referencePath:kn("string")};class Eh extends YA{constructor(e,n,r){super(e,n,RA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qn(this.firestore,null,new Xe(e))}withConverter(e){return new Eh(this.firestore,e,this._path)}}function _m(t,e,...n){if(t=Ar(t),arguments.length===1&&(e=SA.newId()),Xz("doc","path",e),t instanceof WA){const r=mn.fromString(e,...n);return pI(r),new qn(t,null,new Xe(r))}{if(!(t instanceof qn||t instanceof Eh))throw new ze(xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(mn.fromString(e,...n));return pI(r),new qn(t.firestore,t instanceof Eh?t.converter:null,new Xe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="AsyncQueue";class nR{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new s3(this,"async_queue_retry"),this._c=()=>{const r=rb();r&&ke(tR,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=rb();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=rb();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new us;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Cc(e))throw e;ke(tR,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ao("INTERNAL UNHANDLED ERROR: ",rR(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=zA.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&tt(47125,{Pc:rR(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function rR(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class iy extends WA{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new nR,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nR(e),this._firestoreClient=void 0,await e}}}function qF(t,e){const n=typeof t=="object"?t:RL(),r=typeof t=="string"?t:Mm,i=fA(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=c9("firestore");o&&$F(i,...o)}return i}function T3(t){if(t._terminated)throw new ze(xe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||zF(t),t._firestoreClient}function zF(t){var r,i,o;const e=t._freezeSettings(),n=(function(c,f,h,p){return new l8(c,f,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,A3(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new DF(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Si(sr.fromBase64String(e))}catch(n){throw new ze(xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Si(sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(dd(e,Si._jsonSchema))return Si.fromBase64String(e.bytes)}}Si._jsonSchemaVersion="firestore/bytes/1.0",Si._jsonSchema={type:kn("string",Si._jsonSchemaVersion),bytes:kn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ze(xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new or(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ze(xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ze(xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ct(this._lat,e._lat)||Ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ha._jsonSchemaVersion}}static fromJSON(e){if(dd(e,ha._jsonSchema))return new ha(e.latitude,e.longitude)}}ha._jsonSchemaVersion="firestore/geoPoint/1.0",ha._jsonSchema={type:kn("string",ha._jsonSchemaVersion),latitude:kn("number"),longitude:kn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:da._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(dd(e,da._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new da(e.vectorValues);throw new ze(xe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}da._jsonSchemaVersion="firestore/vectorValue/1.0",da._jsonSchema={type:kn("string",da._jsonSchemaVersion),vectorValues:kn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF=/^__.*__$/;class HF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new bs(e,this.data,this.fieldMask,n,this.fieldTransforms):new pd(e,this.data,n,this.fieldTransforms)}}class O3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new bs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function C3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt(40011,{Ac:t})}}class QA{constructor(e,n,r,i,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new QA({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return zm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(C3(this.Ac)&&FF.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class GF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ty(e)}Cc(e,n,r,i=!1){return new QA({Ac:e,methodName:n,Dc:r,path:or.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function I3(t){const e=t._freezeSettings(),n=ty(t._databaseId);return new GF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function KF(t,e,n,r,i,o={}){const l=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);ZA("Data must be an object, but it was:",l,r);const c=R3(r,l);let f,h;if(o.merge)f=new Zr(l.fieldMask),h=l.fieldTransforms;else if(o.mergeFields){const p=[];for(const m of o.mergeFields){const v=k1(e,m,n);if(!l.contains(v))throw new ze(xe.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);N3(p,v)||p.push(v)}f=new Zr(p),h=l.fieldTransforms.filter((m=>f.covers(m.field)))}else f=null,h=l.fieldTransforms;return new HF(new Dr(c),f,h)}class oy extends XA{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof oy}}function WF(t,e,n,r){const i=t.Cc(1,e,n);ZA("Data must be an object, but it was:",i,r);const o=[],l=Dr.empty();vs(r,((f,h)=>{const p=JA(e,f,n);h=Ar(h);const m=i.yc(p);if(h instanceof oy)o.push(p);else{const v=sy(h,m);v!=null&&(o.push(p),l.set(p,v))}}));const c=new Zr(o);return new O3(l,c,i.fieldTransforms)}function YF(t,e,n,r,i,o){const l=t.Cc(1,e,n),c=[k1(e,r,n)],f=[i];if(o.length%2!=0)throw new ze(xe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)c.push(k1(e,o[v])),f.push(o[v+1]);const h=[],p=Dr.empty();for(let v=c.length-1;v>=0;--v)if(!N3(h,c[v])){const _=c[v];let S=f[v];S=Ar(S);const w=l.yc(_);if(S instanceof oy)h.push(_);else{const x=sy(S,w);x!=null&&(h.push(_),p.set(_,x))}}const m=new Zr(h);return new O3(p,m,l.fieldTransforms)}function sy(t,e){if(P3(t=Ar(t)))return ZA("Unsupported field value:",e,t),R3(t,e);if(t instanceof XA)return(function(r,i){if(!C3(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const o=[];let l=0;for(const c of r){let f=sy(c,i.wc(l));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),l++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=Ar(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return N8(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ln.fromDate(r);return{timestampValue:Um(i.serializer,o)}}if(r instanceof ln){const o=new ln(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Um(i.serializer,o)}}if(r instanceof ha)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Si)return{bytesValue:X4(i.serializer,r._byteString)};if(r instanceof qn){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:kA(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof da)return(function(l,c){return{mapValue:{fields:{[E4]:{stringValue:T4},[km]:{arrayValue:{values:l.toArray().map((h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return PA(c.serializer,h)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${AA(r)}`)})(t,e)}function R3(t,e){const n={};return b4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vs(t,((r,i)=>{const o=sy(i,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function P3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ln||t instanceof ha||t instanceof Si||t instanceof qn||t instanceof XA||t instanceof da)}function ZA(t,e,n){if(!P3(n)||!y4(n)){const r=AA(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function k1(t,e,n){if((e=Ar(e))instanceof ay)return e._internalPath;if(typeof e=="string")return JA(t,e);throw zm("Field path arguments must be of type string or ",t,!1,void 0,n)}const XF=new RegExp("[~\\*/\\[\\]]");function JA(t,e,n){if(e.search(XF)>=0)throw zm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ay(...e.split("."))._internalPath}catch{throw zm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function zm(t,e,n,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(o||l)&&(f+=" (found",o&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new ze(xe.INVALID_ARGUMENT,c+t+f)}function N3(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(k3("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QF extends M3{data(){return super.data()}}function k3(t,e){return typeof e=="string"?JA(t,e):e instanceof ay?e._internalPath:e._delegate._internalPath}class ZF{convertValue(e,n="none"){switch(ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw tt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return vs(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[km].arrayValue)==null?void 0:i.values)==null?void 0:o.map((l=>Tn(l.doubleValue)));return new da(n)}convertGeoPoint(e){return new ha(Tn(e.latitude),Tn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Wg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(_h(e));default:return null}}convertTimestamp(e){const n=ds(e);return new ln(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=mn.fromString(e);$t(n3(r),9688,{name:e});const i=new xh(r.get(1),r.get(3)),o=new Xe(r.popFirst(5));return i.isEqual(n)||ao(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JF(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Qf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pl extends M3{constructor(e,n,r,i,o,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(k3("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ze(xe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=pl._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}pl._jsonSchemaVersion="firestore/documentSnapshot/1.0",pl._jsonSchema={type:kn("string",pl._jsonSchemaVersion),bundleSource:kn("string","DocumentSnapshot"),bundleName:kn("string"),bundle:kn("string")};class xm extends pl{data(e={}){return super.data(e)}}class lh{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Qf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new xm(this._firestore,this._userDataWriter,r.key,r,new Qf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ze(xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const f=new xm(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Qf(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const f=new xm(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Qf(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:eH(c.type),doc:f,oldIndex:h,newIndex:p}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ze(xe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=lh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=SA.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function eH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(t){t=xl(t,qn);const e=xl(t.firestore,iy);return BF(T3(e),t._key).then((n=>rH(e,t,n)))}lh._jsonSchemaVersion="firestore/querySnapshot/1.0",lh._jsonSchema={type:kn("string",lh._jsonSchemaVersion),bundleSource:kn("string","QuerySnapshot"),bundleName:kn("string"),bundle:kn("string")};class tH extends ZF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Si(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qn(this.firestore,null,n)}}function j1(t,e,n){t=xl(t,qn);const r=xl(t.firestore,iy),i=JF(t.converter,e,n);return j3(r,[KF(I3(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ca.none())])}function nH(t,e,n,...r){t=xl(t,qn);const i=xl(t.firestore,iy),o=I3(i);let l;return l=typeof(e=Ar(e))=="string"||e instanceof ay?YF(o,"updateDoc",t._key,e,n,r):WF(o,"updateDoc",t._key,e),j3(i,[l.toMutation(t._key,ca.exists(!0))])}function j3(t,e){return(function(r,i){const o=new us;return r.asyncQueue.enqueueAndForget((async()=>TF(await VF(r),i,o))),o.promise})(T3(t),e)}function rH(t,e,n){const r=n.docs.get(e._key),i=new tH(t);return new pl(t,i,e._key,r,new Qf(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Tc=i})(Ac),zu(new vl("firestore",((r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new iy(new qz(r.getProvider("auth-internal")),new Hz(l,r.getProvider("app-check-internal")),(function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ze(xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xh(h.options.projectId,p)})(l,i),l);return o={useFetchStreams:n,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),ss(cI,fI,e),ss(cI,fI,"esm2020")})();var iH="firebase",aH="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ss(iH,aH,"app");const oH={apiKey:"AIzaSyDkU88zoYfO7URAqi19qtIDGs25zkgJ4_g",authDomain:"ai-code-typer-db.firebaseapp.com",projectId:"ai-code-typer-db",storageBucket:"ai-code-typer-db.firebasestorage.app",messagingSenderId:"713662672910",appId:"1:713662672910:web:990f2412b177a3e5fd8c5f",measurementId:"G-N1NK71JBG7"},D3=IL(oH),ab=Vz(D3),sH=new Wa,wm=qF(D3),L3=q.createContext(null),eE=()=>{const t=q.useContext(L3);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},lH=()=>{function t(e,n){const r=localStorage.getItem(e);if(!r)return n;try{return JSON.parse(r)}catch{return n}}return{theme:localStorage.getItem("theme")||"dark",languageId:localStorage.getItem("selectedLanguage")||"javascript",snippetLength:localStorage.getItem("snippetLength")||"medium",snippetLevel:localStorage.getItem("snippetLevel")||"medium",blockOnErrorThreshold:Number(localStorage.getItem("blockOnErrorThreshold"))||2,fontSize:localStorage.getItem("fontSize")||"md",showKeyboard:localStorage.getItem("showKeyboard")==="true",showHandGuide:localStorage.getItem("showHandGuide")!=="false",wpmGoal:Number(localStorage.getItem("wpmGoal"))||20,accuracyGoal:Number(localStorage.getItem("accuracyGoal"))||95,timeGoal:Number(localStorage.getItem("timeGoal"))||15,lastSetupTab:localStorage.getItem("setupTab")||"generate",lastPracticeMode:localStorage.getItem("practiceMode")||"code",generalContentTypes:t("generalContentTypes",["characters"])}},uH=({children:t})=>{const[e,n]=q.useState(null),[r,i]=q.useState(null),[o,l]=q.useState(!0),[c,f]=q.useState("idle"),h=async _=>{try{f("syncing");const S=localStorage.getItem("practiceHistory"),w=S?JSON.parse(S):[],x=lH(),I=_m(wm,"users",_),N=await iR(I);let M=[],V,O=!1;if(N.exists()){const P=N.data();M=P.history||[],V=P.preferences,O=!0}let j=M,T=V,R=!1;if(w.length===0&&O)console.log("Local storage empty. Downloading cloud data..."),localStorage.setItem("practiceHistory",JSON.stringify(M));else if(w.length>0){const P=new Set(M.map(D=>D.id)),U=w.filter(D=>!P.has(D.id));U.length>0&&(j=[...M,...U],R=!0),localStorage.removeItem("practiceHistory"),localStorage.removeItem("keyErrorStats"),localStorage.removeItem("keyAttemptStats")}V||(T=x,R=!0),(R||!O)&&(O?await nH(I,{history:j,preferences:T||x}):await j1(I,{history:j,preferences:x})),f("synced")}catch(S){console.error("Sync failed:",S),f("error")}},p=async _=>{if(!e){console.warn("saveUserPreferences: No user logged in. Aborting save.");return}console.log("saveUserPreferences: Attempting to save...",_);try{const S={};Object.entries(_).forEach(([w,x])=>{S[`preferences.${w}`]=x}),S["preferences.updatedAt"]=Date.now(),await j1(_m(wm,"users",e.uid),S,{merge:!0}),console.log("saveUserPreferences: Save SUCCESS.",S)}catch(S){console.error("saveUserPreferences: Failed to save preferences:",S)}};q.useEffect(()=>{const _=Tq(ab,async S=>{if(S){await h(S.uid);try{const w=_m(wm,"users",S.uid),x=await iR(w);x.exists()&&i(x.data())}catch(w){console.error("Error fetching user data:",w)}n(S)}else n(null),i(null);l(!1)});return()=>_()},[]);const m=async()=>{try{await Kq(ab,sH)}catch(_){throw console.error("Login failed:",_),_}},v=async()=>{try{await Oq(ab)}catch(_){console.error("Logout failed:",_)}};return A.jsx(L3.Provider,{value:{user:e,userData:r,loading:o,loginWithGoogle:m,logout:v,syncStatus:c,saveUserPreferences:p},children:t})},xn=[{id:"python",name:"Python",prismAlias:"python"},{id:"javascript",name:"JavaScript",prismAlias:"javascript"},{id:"cpp",name:"C++",prismAlias:"cpp"},{id:"java",name:"Java",prismAlias:"java"},{id:"typescript",name:"TypeScript",prismAlias:"typescript"},{id:"go",name:"Go",prismAlias:"go"},{id:"rust",name:"Rust",prismAlias:"rust"}],cH="https://ai-code-typer-proxy.khannaseem1704.workers.dev",fH={easy:"basic syntax and concepts, like variable declaration and simple loops",medium:"intermediate concepts, like functions, classes, or common library usage",hard:"advanced or complex topics, like asynchronous programming, data structures, or algorithms"},ly={short:"5-10 lines",medium:"15-20 lines",long:"25-30 lines"},uy=async(t,e)=>{var i,o,l,c,f;let r=null;for(let h=0;h<=3;h++)try{const m=await fetch(cH,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:t,systemInstruction:e||`You are a code generation engine for a typing practice app.
Your task is to provide a code snippet based on the user's request.
The snippet MUST be clean, raw code.
ABSOLUTELY NO explanations, comments, markdown backticks(\`\`\`), or any text other than the code itself.
The code must be syntactically correct for the requested language.`})});if(m.status===429)throw new Error("429: Too Many Requests");if(!m.ok)throw new Error(`Worker Error: ${m.statusText}`);const v=await m.json(),_=(f=(c=(l=(o=(i=v==null?void 0:v.candidates)==null?void 0:i[0])==null?void 0:o.content)==null?void 0:l.parts)==null?void 0:c[0])==null?void 0:f.text;if(!_)throw new Error(v.error||"The AI returned an empty snippet. Please try again.");return _.replace(/^```(?:\w+\n)?/,"").replace(/```$/,"").trim()}catch(p){if(r=p,p instanceof Error&&p.message.includes("429")&&h<3){const m=Math.pow(2,h)*1e3;await new Promise(v=>setTimeout(v,m));continue}break}throw console.error("Error generating snippet:",r),r&&r.message.includes("429")?new Error("AI service is busy. Please try again shortly."):r||new Error("Unknown error generating snippet.")},aR=async(t,e,n)=>{const r=`Generate a code snippet in ${t.name}. 
The snippet should be ${ly[e]} long.
The difficulty level should be ${fH[n]}.`,i=`You are a strict code generation engine.
  RULES:
  1. Generate ONLY valid, clean, compilable code in ${t.name}.
  2. NO comments. NO explanation. NO markdown. NO backticks.
  3. CODE MUST BE REAL, FUNCTIONAL, AND GRAMMATICALLY CORRECT for the language.
  4. DO NOT write pseudo-code or fake logic.
  5. CRITICAL: INDENTATION MUST USE TAB CHARACTERS (	). NEVER USE SPACES FOR INDENTATION.
  6. Do not convert tabs to spaces. Use actual tab characters.`;return uy(r,i)},oR=async(t,e,n,r)=>{const o=`Generate a TARGETED PRACTICE snippet.
  
  Target Keys: [${e.map(l=>l===" "?"space":l===`
`?"newline":l==="	"?"tab":l).join(", ")}]
  Language Style: ${t.name} (but NOT functional code)
  Length: ${ly[n]}
  
  CRITICAL RULES:
  1. The snippet must be MEANINGLESS but READABLE (pseudo-code sentences, fake logic).
  2. The Target Keys must appear 5x MORE FREQUENTLY than normal.
  3. Do NOT generate real working code. It should feel like muscle memory training.
  4. Use structure (brackets, indentation) if the language uses them.
  5. NO explanations, NO comments, ONLY the raw snippet.
  
  Examples of style:
  - "while w wraps words { ww }"
  - "Tab shifts w into wider waves { }"
  - "x = (x + x) * x; // x marks the spot"
  
  Generate the snippet now.`;return uy(o)},hH=async(t,e,n=["characters"])=>{const r=n.includes("characters"),i=n.includes("numbers"),o=n.includes("symbols");let l="";r&&i&&o?l=`Generate a text that heavily mixes words, numbers, and symbols.
    - CRITICAL REQUIREMENT: Every single sentence or line MUST contain at least one number AND one symbol.
    - Style: Technical data logs, complex passwords, inventory lists, or code-like pseudo text.
    - Example format: "User_ID: #4928 @ 10:45PM (Status: 99% Verified!)"`:r&&i?l=`Generate a text containing words and numbers. 
    - Style: Addresses, historical dates, scientific facts with measurements, or financial summaries.
    - CRITICAL REQUIREMENT: Frequent use of digits mixed with sentences. Do NOT use complex symbols like @#$%^ (only basic punctuation like . , is allowed).
    - Example format: "On July 4th, 1776, approximately 2.5 million people lived there."`:r&&o?l=`Generate a text containing words and symbols.
    - Style: Dialogues with heavy punctuation, code comments, or expressive writing.
    - CRITICAL REQUIREMENT: Frequent use of brackets (), [], {}, punctuation !?.,:; and symbols @#&. Do NOT use numbers 0-9.
    - Example format: "Hello (world)! Waiting for response... [OK] -> {verified}."`:i&&o?l=`Generate a sequence of Numbers and Symbols ONLY.
    - ABSOLUTELY FORBIDDEN: DO NOT INCLUDE ANY ALPHABET CHARACTERS (A-Z, a-z).
    - Style: Math equations, currency calculations, or abstract data strings.
    - Example format: "123+456=$579; (80% * 10) = #800 // 99.9"`:i?l=`Generate a sequence of Numbers ONLY.
    - ABSOLUTELY FORBIDDEN: DO NOT INCLUDE LETTERS OR SYMBOLS (except decimal points).
    - Style: Phone numbers, years, zip codes, or raw data streams.
    - Example format: "1990 2023 8837 1.45 00392 998 112"`:o?l=`Generate a sequence of Symbols ONLY.
    - ABSOLUTELY FORBIDDEN: DO NOT INCLUDE LETTERS OR NUMBERS.
    - Style: Random symbol patterns for pinky finger practice.
    - Example format: "!@# $ %^ &*() _+ {} [] : ; < > ?"`:l=`Generate standard English paragraphs.
    - Style: Informative, story-telling, or essays.
    - Requirement: Standard grammar and punctuation. Minimize numbers and complex symbols.`;let c="";e==="easy"&&(c="Use simple, repetitive patterns and lower density of complex items."),e==="medium"&&(c="Use varied patterns and moderate density of selected elements."),e==="hard"&&(c="Maximize the density, randomness, and complexity of the selected elements. Make it challenging.");const f=`Generate a random typing practice snippet.
The length should be roughly ${ly[t]}.
${l}
${c}`;return uy(f,`You are a text generation engine for a general typing practice app. 
  RULES:
  1. Generate ONLY normal English text or mixed content based on instructions.
  2. ABSOLUTELY NO PROGRAMMING CODE.
  3. NO function-like patterns, NO classes, NO loops, NO braces like {}, [], () used in a code style.
  4. NO variable-like words (temp1, obj2, xValue).
  5. Format naturally with line breaks every 8-12 words.
  6. NO markdown, headers, or backticks.`)},dH=async(t,e="medium")=>{const n=Object.entries(t).map(([h,p])=>({key:h,errorRate:p.attempts>0?p.errors/p.attempts*100:0})).sort((h,p)=>p.errorRate-h.errorRate),r=n.slice(0,5),i=n.slice(5).filter(h=>h.errorRate>=10),o=[...r,...i].slice(0,7);if(o.length===0)throw new Error("No error history available for practice.");const l=o.map(h=>h.key===" "?"space":h.key===`
`?"newline":h.key==="	"?"tab":h.key).join(", "),c=`
Write a SHORT English STORY (length: ${ly[e]}).

The story MUST:
- Use these characters frequently: [${l}]
- Use them naturally as punctuation, decoration, emphasis, or expressive elements.
- Be readable, emotional, and completely natural English.

ABSOLUTE HARD RULES (DO NOT BREAK):
1. Do NOT write programming code.
2. Do NOT imitate code formatting.
3. Do NOT use patterns like: if(), while(), {}, [], ==, -> in a code-like structure.
4. Do NOT indent text like functions or loops.
5. Do NOT create variable-like words (x1, val2, temp, obj, dataSet, etc.).
6. Do NOT write lists or bullet-like patterns that look like code.
7. Use characters like '(' ')' ':' '.' ';' space newline tab ONLY in literary or stylistic ways.

ACCEPTABLE USAGE:
- "She whispered (softly) before leaving."
- "He paused: the room felt silent."
- "A smile appeared :) when he returned."
- "She stepped inside; the air felt warm."

UNACCEPTABLE:
- "if (x < 1) { return x; }"
- "while(a){b++;}"
- function-like patterns
- class-like patterns

Now produce the story.
`;return uy(c,`
You are a creative writing engine.
You NEVER write code.
You only write emotional, expressive, natural English stories.
You MUST avoid any structure that resembles code.
`)},D1=t=>{const e={},n={};for(const r of t){if(r.errorMap)for(const[i,o]of Object.entries(r.errorMap))e[i]=(e[i]||0)+o;if(r.attemptMap)for(const[i,o]of Object.entries(r.attemptMap))n[i]=(n[i]||0)+o}return{keyErrorStats:e,keyAttemptStats:n}},pH=t=>{const e=new Date().toISOString().split("T")[0],n=localStorage.getItem("dailyPracticeDate");let r=Number(localStorage.getItem("dailyPracticeTime")||"0");return n!==e&&(r=0,localStorage.setItem("dailyPracticeDate",e)),r+=t,localStorage.setItem("dailyPracticeTime",String(r)),r},V3=()=>{const t=["theme","selectedLanguage","practiceHistory","keyErrorStats","keyAttemptStats","wpmGoal","accuracyGoal","setupTab","timeGoal","dailyPracticeDate","dailyPracticeTime","generalContentTypes"],e={};t.forEach(S=>{const w=localStorage.getItem(S);if(w!==null)try{e[S]=JSON.parse(w)}catch{e[S]=w}});const n=JSON.stringify(e,null,2),r=new Blob([n],{type:"application/json"}),i=new Date,o=i.getFullYear(),l=String(i.getMonth()+1).padStart(2,"0"),c=String(i.getDate()).padStart(2,"0"),f=String(i.getHours()).padStart(2,"0"),h=String(i.getMinutes()).padStart(2,"0"),p=String(i.getSeconds()).padStart(2,"0"),v=`ai-code-typer-backup-${`${o}-${l}-${c}-${f}-${h}-${p}`}.json`,_=document.createElement("a");_.href=URL.createObjectURL(r),_.download=v,document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(_.href)},mH=(t,e)=>{let n;try{n=JSON.parse(t)}catch{throw new Error("Invalid JSON file. Could not parse data.")}if(typeof n!="object"||n===null||Array.isArray(n))throw new Error("Invalid backup file format: not a JSON object.");if(!["theme","selectedLanguage","practiceHistory","keyErrorStats","wpmGoal"].some(h=>h in n))throw new Error("File does not appear to be a valid AI Code Typer backup.");Object.keys(n).forEach(h=>{if(h!=="practiceHistory"&&h!=="keyErrorStats"&&h!=="keyAttemptStats"){const p=n[h],m=typeof p=="string"?p:JSON.stringify(p);localStorage.setItem(h,m)}});let o=[];const l=Array.isArray(n.practiceHistory)?n.practiceHistory:[];if(e==="merge"){const h=localStorage.getItem("practiceHistory"),p=h?JSON.parse(h):[],m=new Set(p.map(_=>_.timestamp)),v=l.filter(_=>!m.has(_.timestamp));o=[...p,...v],o.sort((_,S)=>_.timestamp-S.timestamp)}else o=l;let{keyErrorStats:c,keyAttemptStats:f}=D1(o);Object.keys(c).length===0&&n.keyErrorStats&&Object.keys(n.keyErrorStats).length>0&&e==="replace"&&(c=n.keyErrorStats),Object.keys(f).length===0&&n.keyAttemptStats&&Object.keys(n.keyAttemptStats).length>0&&e==="replace"&&(f=n.keyAttemptStats),localStorage.setItem("practiceHistory",JSON.stringify(o)),localStorage.setItem("keyErrorStats",JSON.stringify(c)),localStorage.setItem("keyAttemptStats",JSON.stringify(f))},sR={id:"custom",name:"Custom",prismAlias:"clike"},Df=["sm","md","lg","xl"],gH=t=>{const e=t.lastIndexOf(".");if(e<0)return sR;const n=t.substring(e).toLowerCase();return{".py":xn.find(i=>i.id==="python"),".js":xn.find(i=>i.id==="javascript"),".jsx":xn.find(i=>i.id==="javascript"),".ts":xn.find(i=>i.id==="typescript"),".tsx":xn.find(i=>i.id==="typescript"),".java":xn.find(i=>i.id==="java"),".cpp":xn.find(i=>i.id==="cpp"),".cc":xn.find(i=>i.id==="cpp"),".cxx":xn.find(i=>i.id==="cpp"),".h":xn.find(i=>i.id==="cpp"),".hpp":xn.find(i=>i.id==="cpp"),".go":xn.find(i=>i.id==="go"),".rs":xn.find(i=>i.id==="rust")}[n]||sR},Lf=t=>t.split(`
`).map(e=>{const n=e.match(/^ +/);if(n){const r=n[0].length;if(r>0&&r%4===0){const i=r/4;return"	".repeat(i)+e.substring(r)}}return e}).join(`
`);function Xo(t,e){if(typeof window>"u")return e;try{const n=localStorage.getItem(t);return n?JSON.parse(n):e}catch(n){return console.warn(`Failed to parse localStorage key "${t}":`,n),e}}const Hn=q.createContext(null),yH=({children:t})=>{const{user:e,syncStatus:n,userData:r,saveUserPreferences:i}=eE(),[o,l]=q.useState(()=>{const Z=localStorage.getItem("theme");return Z||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}),[c,f]=q.useState(()=>{const Z=localStorage.getItem("selectedLanguage");return xn.find(Ie=>Ie.id===Z)||xn[0]}),[h,p]=q.useState("code"),[m,v]=q.useState(()=>Xo("generalContentTypes",["characters"])),[_,S]=q.useState(""),[w,x]=q.useState(!1),[I,N]=q.useState(null),[M,V]=q.useState(!1),[O,j]=q.useState("medium"),[T,R]=q.useState("medium"),[P,U]=q.useState(2),[D,B]=q.useState("medium"),[L,J]=q.useState(()=>typeof window<"u"?window.innerWidth>=768:!0),[Q,H]=q.useState(!0),[Y,te]=q.useState("home"),ce=q.useRef(null),[be,F]=q.useState(!1),W=q.useRef(!1),se=q.useRef(!1),[ge,_e]=q.useState(()=>Xo("practiceHistory",[])),[Ae,je]=q.useState(()=>Xo("keyErrorStats",{})),[We,pe]=q.useState(()=>Xo("keyAttemptStats",{})),[Le,qe]=q.useState(()=>parseInt(localStorage.getItem("wpmGoal")||"20",10)),[re,Ge]=q.useState(()=>parseInt(localStorage.getItem("accuracyGoal")||"95",10)),[we,Se]=q.useState(()=>parseInt(localStorage.getItem("timeGoal")||"15",10)),[Be,Ke]=q.useState(()=>{const Z=new Date().toISOString().split("T")[0];return localStorage.getItem("dailyPracticeDate")===Z?Number(localStorage.getItem("dailyPracticeTime")||"0"):(localStorage.setItem("dailyPracticeTime","0"),localStorage.setItem("dailyPracticeDate",Z),0)}),[Ce,Re]=q.useState(!1),[Fe,rt]=q.useState([]),[Nt,Jt]=q.useState(null),[St,ct]=q.useState(null),[un,ye]=q.useState(()=>localStorage.getItem("setupTab")||"generate"),[Te,ft]=q.useState([]),[ht,Pe]=q.useState(-1),[dt,$e]=q.useState(null),nt=q.useRef(null),[_t,Je]=q.useState(0),Dn=q.useCallback((Z,Ie,Me=4e3)=>{nt.current&&clearTimeout(nt.current),$e({message:Z,type:Ie}),nt.current=window.setTimeout(()=>{$e(null)},Me)},[]),On=!!_,Wi=Z=>{l(Z),document.documentElement.classList.toggle("dark",Z==="dark"),localStorage.setItem("theme",Z)},ti=()=>Wi(o==="light"?"dark":"light"),Sa=Z=>{f(Z),localStorage.setItem("selectedLanguage",Z.id)},yn=Z=>{j(Z),localStorage.setItem("snippetLength",Z)},ni=Z=>{R(Z),localStorage.setItem("snippetLevel",Z)},ri=Z=>{U(Z),localStorage.setItem("blockOnErrorThreshold",String(Z))},Er=Z=>{B(Z),localStorage.setItem("fontSize",Z)},Uc=()=>{const Z=Df.indexOf(D);Z<Df.length-1&&Er(Df[Z+1])},Dl=()=>{const Z=Df.indexOf(D);Z>0&&Er(Df[Z-1])},ii=Z=>{J(Z),localStorage.setItem("showKeyboard",String(Z))},Aa=()=>ii(!L),Bc=Z=>{H(Z),localStorage.setItem("showHandGuide",String(Z))},Ea=()=>Bc(!Q),As=Z=>{ye(Z),localStorage.setItem("setupTab",Z)},Es=Z=>{p(Z),localStorage.setItem("practiceMode",Z)},Ta=Z=>{v(Z),localStorage.setItem("generalContentTypes",JSON.stringify(Z))},Ci=(Z,Ie,Me)=>{qe(Z),Ge(Ie),Se(Me),localStorage.setItem("wpmGoal",String(Z)),localStorage.setItem("accuracyGoal",String(Ie)),localStorage.setItem("timeGoal",String(Me))};q.useEffect(()=>{if(!e||W.current)return;const Z=setTimeout(()=>{const Ie={theme:o,languageId:c.id,snippetLength:O,snippetLevel:T,blockOnErrorThreshold:P,fontSize:D,showKeyboard:L,showHandGuide:Q,wpmGoal:Le,accuracyGoal:re,timeGoal:we,lastSetupTab:un,lastPracticeMode:h,generalContentTypes:m};console.log("Debounced Save Payload:",Ie),i(Ie)},2e3);return()=>clearTimeout(Z)},[o,c,O,T,P,D,L,Q,Le,re,we,un,h,m,e]);const[$c,Tr]=q.useState(!1);q.useEffect(()=>{if(n==="synced"){const Z=localStorage.getItem("practiceHistory");if(Z){console.log("Sync complete. Hydrating from local storage.");try{const Ie=JSON.parse(Z);if(Array.isArray(Ie)&&Ie.length>0){_e(Ie);const{keyErrorStats:Me,keyAttemptStats:Ne}=D1(Ie);je(Me),pe(Ne)}}catch(Ie){console.error("Failed to hydrate",Ie)}}}},[n]),q.useEffect(()=>{if(r){if(r.history){_e(r.history);const{keyErrorStats:Z,keyAttemptStats:Ie}=D1(r.history);je(Z),pe(Ie)}if(r.preferences&&!se.current){const Z=r.preferences;if(W.current=!0,Z.theme&&Z.theme!==o&&(l(Z.theme),document.documentElement.classList.toggle("dark",Z.theme==="dark")),Z.languageId&&Z.languageId!==c.id){const Ie=xn.find(Me=>Me.id===Z.languageId);Ie&&f(Ie)}Z.snippetLength&&Z.snippetLength!==O&&j(Z.snippetLength),Z.snippetLevel&&Z.snippetLevel!==T&&R(Z.snippetLevel),Z.blockOnErrorThreshold!==void 0&&Z.blockOnErrorThreshold!==P&&U(Z.blockOnErrorThreshold),Z.fontSize&&Z.fontSize!==D&&B(Z.fontSize),Z.showKeyboard!==void 0&&Z.showKeyboard!==L&&J(Z.showKeyboard),Z.showHandGuide!==void 0&&Z.showHandGuide!==Q&&H(Z.showHandGuide),Z.wpmGoal&&Z.wpmGoal!==Le&&qe(Z.wpmGoal),Z.accuracyGoal&&Z.accuracyGoal!==re&&Ge(Z.accuracyGoal),Z.timeGoal&&Z.timeGoal!==we&&Se(Z.timeGoal),Z.lastSetupTab&&Z.lastSetupTab!==un&&ye(Z.lastSetupTab),Z.lastPracticeMode&&Z.lastPracticeMode!==h&&p(Z.lastPracticeMode),Z.generalContentTypes&&JSON.stringify(Z.generalContentTypes)!==JSON.stringify(m)&&v(Z.generalContentTypes),se.current=!0,setTimeout(()=>{W.current=!1},100)}Tr(!0)}else e||(se.current=!1,Tr(!0))},[r,e]),q.useEffect(()=>{const Z=Me=>{Me.key==="Alt"&&(Me.preventDefault(),Re(!0))},Ie=Me=>{Me.key==="Alt"&&Re(!1)};return window.addEventListener("keydown",Z),window.addEventListener("keyup",Ie),()=>{window.removeEventListener("keydown",Z),window.removeEventListener("keyup",Ie)}},[]);const mr=()=>F(!0),rn=()=>F(!1),pn=Z=>{Z!==Y&&(ce.current=Y),te(Z)},ai=()=>ce.current,go=q.useCallback(Z=>{ct(()=>Z)},[]),qc=q.useCallback(()=>{St&&St()},[St]),Oa=()=>{ft([]),Pe(-1)},Yi=q.useCallback(async Z=>{if(w)return!1;const Ie=(Z==null?void 0:Z.mode)||h,Me=(Z==null?void 0:Z.length)||O,Ne=(Z==null?void 0:Z.level)||T,yt=(Z==null?void 0:Z.contentTypes)||m;x(!0),S(""),N(null),V(!1),Ie!=="targeted"&&rt([]);try{let pt="";if(Ie==="code")pt=await aR(c,Me,Ne);else if(Ie==="targeted"){const At=Fe;At.length>0?pt=await oR(c,At,Me,Ne):pt=await aR(c,Me,Ne)}else Ie==="general"&&(pt=await hH(Me,Ne,yt));return S(Lf(pt)),Je(At=>At+1),!0}catch(pt){const At=pt instanceof Error?pt.message:"Failed to generate snippet. Please try again.";return N(At),Je(Xt=>Xt+1),console.error(pt),!1}finally{x(!1)}},[c,O,T,w,h,m,Fe]),Or=(Z,Ie)=>{Oa();const Me=Lf(Z);S(Me),V(!0),rt([]),Je(Ne=>Ne+1),Ie&&p(Ie)},yo=q.useCallback(async(Z,Ie)=>{if(!w){p("targeted"),rt(Z),Oa(),S(""),N(null),V(!1),x(!0);try{const Me=await oR(c,Z,Ie.length,Ie.level);S(Lf(Me)),Je(Ne=>Ne+1)}catch(Me){const Ne=Me instanceof Error?Me.message:"Failed to fetch a targeted snippet. Please try again.";N(Ne),Je(yt=>yt+1),console.error(Me)}finally{x(!1)}}},[c,w]),oi=q.useCallback(async()=>{if(w)return;const Z=Object.entries(Ae).filter(([Ie,Me])=>Me>0).sort((Ie,Me)=>Me[1]-Ie[1]).map(([Ie])=>Ie);if(Z.length===0){Dn("No error history found! Practice more to generate error data.","info");return}p("error-training"),rt(Z),Oa(),S(""),N(null),V(!1),x(!0);try{const Ie={};Z.forEach(Ne=>{const yt=Ae[Ne]||0,pt=We[Ne]||yt;Ie[Ne]={errors:yt,attempts:pt}});const Me=await dH(Ie,O);S(Lf(Me)),Je(Ne=>Ne+1)}catch(Ie){const Me=Ie instanceof Error?Ie.message:"Failed to generate error practice snippet.";N(Me),Je(Ne=>Ne+1),console.error(Ie)}finally{x(!1)}},[Ae,We,w,Dn,O]),gr=q.useCallback(Z=>{if(Te[Z]){const Ie=Te[Z];S(Ie.code),f(Ie.language),Pe(Z),V(!0),rt([]),N(null),x(!1),Je(Me=>Me+1)}},[Te]),yr=async Z=>{x(!0),S(""),Oa();const Ie=Me=>new Promise((Ne,yt)=>{const pt=new FileReader;pt.onload=At=>{var Ii;const Xt=(Ii=At.target)==null?void 0:Ii.result,bo=Xt.trim(),Vl=Xt.replace(/\r\n?/g,`
`),Ps=Lf(Vl);Ne({code:Ps,name:Me.name,language:gH(Me.name),isValid:bo.length>=2})},pt.onerror=At=>yt(At),pt.readAsText(Me)});try{const Me=await Promise.all(Z.map(Ie)),Ne=Me.filter(At=>At.isValid),yt=Me.filter(At=>!At.isValid);if(yt.length>0){const At=yt.map(Xt=>Xt.name).join(", ");Dn(`Ignored files with less than 2 characters: ${At}`,"warning",6e3)}if(Ne.length===0)throw Dn("All selected files are invalid. Code must be at least 2 characters long.","error"),new Error("All selected files are invalid.");ft(Ne);const pt=Ne[0];S(pt.code),f(pt.language),Pe(0),V(!0),N(null),Je(At=>At+1)}catch(Me){const Ne=Me instanceof Error?Me.message:"Failed to process files.";throw N(Ne),Je(yt=>yt+1),console.error(Me),Me}finally{x(!1)}},Cr=q.useCallback(()=>{const Z=ht+1;Z<Te.length&&gr(Z)},[ht,Te,gr]),cn=async Z=>{if(e)try{await j1(_m(wm,"users",e.uid),{history:Z},{merge:!0})}catch(Ie){console.error("Failed to save history:",Ie)}},Ts=Z=>{const Ie={...Z};h==="general"&&(Ie.language="General");let Me=[];_e(yt=>{const pt=yt.findIndex(At=>At.id===Ie.id);return pt>=0?(Me=[...yt],Me[pt]=Ie):Me=[...yt,Ie].slice(-100),Me}),cn(Me);const Ne=pH(Ie.duration);Ke(Ne),Z.errorMap&&je(yt=>{const pt={...yt};for(const[At,Xt]of Object.entries(Z.errorMap))pt[At]=(pt[At]||0)+Xt;return pt}),Z.attemptMap&&pe(yt=>{const pt={...yt};for(const[At,Xt]of Object.entries(Z.attemptMap))pt[At]=(pt[At]||0)+Xt;return pt})},Os=()=>Re(!0),si=()=>Re(!1),li=q.useCallback(()=>{const Z=localStorage.getItem("theme");l(Z||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"));const Ie=localStorage.getItem("selectedLanguage");f(xn.find(yt=>yt.id===Ie)||xn[0]),_e(Xo("practiceHistory",[])),je(Xo("keyErrorStats",{})),pe(Xo("keyAttemptStats",{})),qe(parseInt(localStorage.getItem("wpmGoal")||"20",10)),Ge(parseInt(localStorage.getItem("accuracyGoal")||"95",10)),Se(parseInt(localStorage.getItem("timeGoal")||"15",10));const Me=new Date().toISOString().split("T")[0],Ne=localStorage.getItem("dailyPracticeDate");Ke(Ne===Me?Number(localStorage.getItem("dailyPracticeTime")||"0"):0),ye(localStorage.getItem("setupTab")||"generate"),v(Xo("generalContentTypes",["characters"]))},[]),Cs=q.useCallback(async(Z,Ie,Me,Ne,yt)=>{Me?(Or(Me,Ne),rn(),pn("practice")):(Z&&j(Z),Ie&&R(Ie),Ne&&p(Ne),yt&&v(yt),rn(),pn("practice"),await Yi({length:Z||O,level:Ie||T,mode:Ne||h,contentTypes:yt||m}))},[rn,Or,Yi,O,T,h,m,pn]),Is=q.useCallback(()=>{Te.length>0&&ht<Te.length-1?Cr():Yi()},[Te,ht,Cr,Yi]),Rs=q.useCallback(()=>{Je(Z=>Z+1)},[]),Ll=q.useCallback(()=>{mr(),Je(Z=>Z+1)},[mr]),vo=q.useCallback(Z=>{let Ie=[];_e(Me=>{const Ne=Me.find(yt=>yt.timestamp===Z);if(Ne){const yt=new Date(Ne.timestamp).toDateString(),pt=new Date().toDateString();if(yt===pt){Ke(Xt=>Math.max(0,Xt-Ne.duration));const At=Number(localStorage.getItem("dailyPracticeTime")||"0");localStorage.setItem("dailyPracticeTime",String(Math.max(0,At-Ne.duration)))}}return Ie=Me.filter(yt=>yt.timestamp!==Z),Ie}),cn(Ie)},[e]),vr=q.useCallback(()=>{_e([]),Ke(0),localStorage.setItem("dailyPracticeTime","0"),je({}),pe({}),localStorage.removeItem("keyErrorStats"),localStorage.removeItem("keyAttemptStats"),cn([])},[e]),vn={theme:o,toggleTheme:ti,selectedLanguage:c,setSelectedLanguage:Sa,snippet:_,isLoadingSnippet:w,snippetError:I,fetchNewSnippet:Yi,startCustomSession:Or,startTargetedSession:yo,startErrorPracticeSession:oi,isCustomSession:M,isMultiFileSession:Te.length>0,snippetLength:O,setSnippetLength:yn,snippetLevel:T,setSnippetLevel:ni,blockOnErrorThreshold:P,setBlockOnErrorThreshold:ri,fontSize:D,increaseFontSize:Uc,decreaseFontSize:Dl,showKeyboard:L,toggleKeyboard:Aa,showHandGuide:Q,toggleHandGuide:Ea,page:Y,navigateTo:pn,getPreviousPage:ai,isSetupModalOpen:be,openSetupModal:mr,closeSetupModal:rn,isInitialSetupComplete:On,setupTab:un,setSetupTab:As,practiceHistory:ge,addPracticeResult:Ts,keyErrorStats:Ae,keyAttemptStats:We,wpmGoal:Le,accuracyGoal:re,timeGoal:we,dailyPracticeTime:Be,setGoals:Ci,isAccessKeyMenuVisible:Ce,showAccessKeyMenu:Os,hideAccessKeyMenu:si,currentTargetedKeys:Fe,setCurrentTargetedKeys:rt,lastPracticeAction:Nt,setLastPracticeAction:Jt,setRequestFocusOnCodeCallback:go,requestFocusOnCode:qc,practiceQueue:Te,currentQueueIndex:ht,startMultiFileSession:yr,loadNextSnippetInQueue:Cr,alertMessage:dt,showAlert:Dn,reloadDataFromStorage:li,practiceMode:h,setPracticeMode:Es,generalContentTypes:m,setGeneralContentTypes:Ta,sessionResetKey:_t,handleStartFromSetup:Cs,handleNextSnippet:Is,handlePracticeSame:Rs,handleSetupNew:Ll,deletePracticeSession:vo,clearPracticeHistory:vr};return A.jsx(Hn.Provider,{value:vn,children:t})},vH=t=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[A.jsx("circle",{cx:"12",cy:"12",r:"5"}),A.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),A.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),A.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),A.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),A.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),A.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),A.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),A.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),bH=t=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:A.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}),_H=t=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",...t,children:A.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.5,4H3.5C2.67,4,2,4.67,2,5.5v13C2,19.33,2.67,20,3.5,20h17c0.83,0,1.5-0.67,1.5-1.5V5.5C22,4.67,21.33,4,20.5,4z M6.4,8.4H4V6h2.4V8.4z M9.6,8.4H7.2V6h2.4V8.4z M12.8,8.4h-2.4V6h2.4V8.4z M16,8.4h-2.4V6h2.4V8.4z M19.2,8.4H16.8V6h2.4V8.4z M6.4,12H4V9.6h2.4V12z M9.6,12H7.2V9.6h2.4V12z M12.8,12h-2.4V9.6h2.4V12z M16,12h-2.4V9.6h2.4V12z M19.2,12H16.8V9.6h2.4V12z M16,16.4H8V14h8V16.4z"})}),lR=t=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[A.jsx("path",{d:"M12 20V10"}),A.jsx("path",{d:"M18 20V4"}),A.jsx("path",{d:"M6 20V16"})]}),uR=t=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[A.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),A.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),xH=t=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:A.jsx("polyline",{points:"6 9 12 15 18 9"})}),L1=q.forwardRef(({options:t,className:e="",value:n,onChange:r,disabled:i=!1,...o},l)=>{const[c,f]=q.useState(!1),[h,p]=q.useState(Math.max(0,t.findIndex(S=>S.value===n))),m=q.useRef(null),v=q.useRef(null),_=t.find(S=>S.value===n);return q.useEffect(()=>{p(Math.max(0,t.findIndex(S=>S.value===n)))},[n,t]),q.useEffect(()=>{if(c){const S=x=>{var I,N;switch(x.key){case"Escape":f(!1),(I=v.current)==null||I.focus();break;case"ArrowUp":{x.preventDefault();const M=(h-1+t.length)%t.length;p(M);break}case"ArrowDown":{x.preventDefault();const M=(h+1)%t.length;p(M);break}case"Enter":case" ":x.preventDefault(),h>=0&&h<t.length&&r(t[h].value),f(!1),(N=v.current)==null||N.focus();break}},w=x=>{m.current&&!m.current.contains(x.target)&&f(!1)};return document.addEventListener("keydown",S),document.addEventListener("mousedown",w),()=>{document.removeEventListener("keydown",S),document.removeEventListener("mousedown",w)}}},[c,h,t,r]),q.useImperativeHandle(l,()=>({focus:()=>{var S;return(S=v.current)==null?void 0:S.focus()},toggle:()=>{i||(f(S=>!S),c||p(Math.max(0,t.findIndex(S=>S.value===n))))},getTriggerElement:()=>v.current})),q.useEffect(()=>{var S;if(c){const w=(S=m.current)==null?void 0:S.querySelector("ul"),x=w==null?void 0:w.children[h];x&&x.scrollIntoView({block:"nearest"})}},[h,c]),A.jsxs("div",{ref:m,className:`relative ${e}`,children:[A.jsxs("button",{ref:v,type:"button",disabled:i,onClick:()=>!i&&f(!c),onKeyDown:S=>{if(!i&&!c&&(S.key==="ArrowRight"||S.key==="ArrowLeft")){S.preventDefault();const w=t.findIndex(x=>x.value===n);if(w!==-1){const x=S.key==="ArrowRight"?1:-1,I=(w+x+t.length)%t.length;r(t[I].value)}}},className:"w-full flex items-center justify-between px-3 py-2 text-slate-900 dark:text-slate-100 bg-white dark:bg-slate-600 border border-slate-300 dark:border-slate-400 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-haspopup":"listbox","aria-expanded":c,children:[A.jsx("span",{children:(_==null?void 0:_.label)||"Select..."}),A.jsx(xH,{className:`w-5 h-5 text-gray-400 transition-transform ${c?"rotate-180":""}`})]}),c&&A.jsx("ul",{className:"absolute z-10 mt-1 w-full bg-white dark:bg-slate-800 shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm border border-slate-200 dark:border-slate-700",tabIndex:-1,role:"listbox",children:t.map((S,w)=>A.jsx("li",{className:`cursor-pointer select-none relative py-2 pl-3 pr-9 transition-colors ${h===w?"text-white bg-primary-600":"text-gray-900 dark:text-gray-100 hover:bg-slate-100 dark:hover:bg-slate-700"}`,onClick:()=>{var x;r(S.value),f(!1),(x=v.current)==null||x.focus()},onMouseEnter:()=>p(w),role:"option","aria-selected":n===S.value,children:A.jsx("span",{className:`block truncate ${n===S.value?"font-semibold":"font-normal"}`,children:S.label})},S.value))})]})}),Qo=(t,e,n={})=>{const r=q.useContext(Hn);q.useEffect(()=>{if(!t||n.disabled||!e)return;const i=o=>{o.altKey&&o.key.toLowerCase()===t.toLowerCase()&&(o.preventDefault(),e(),r==null||r.hideAccessKeyMenu())};return window.addEventListener("keydown",i),()=>{window.removeEventListener("keydown",i)}},[t,e,n.disabled,r])},tE=({label:t})=>A.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 bg-black text-white dark:bg-white dark:text-black border border-white dark:border-black rounded-[2px] px-1.5 py-0 text-[10px] leading-tight font-sans font-bold z-50 shadow-sm pointer-events-none uppercase tracking-tighter min-w-[16px] text-center",children:t}),et=q.forwardRef(({children:t,className:e="",variant:n="primary",size:r="md",accessKeyChar:i,accessKeyLabel:o,accessKey:l,...c},f)=>{const h=q.useContext(Hn),p=q.useRef(null);q.useImperativeHandle(f,()=>p.current);const m=i||l;Qo(m,()=>{var w;(w=p.current)==null||w.click()},{disabled:c.disabled});const v="relative inline-flex items-center justify-center rounded-md font-semibold transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-900 disabled:opacity-50 disabled:cursor-not-allowed",_={primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500",secondary:"bg-slate-200 text-slate-800 hover:bg-slate-300 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600 focus:ring-slate-500",ghost:"hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 focus:ring-slate-500",outline:"border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 focus:ring-slate-500"},S={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg",icon:"h-10 w-10"};return A.jsxs("button",{ref:p,className:`${v} ${_[n]} ${S[r]} ${e}`,...c,children:[(h==null?void 0:h.isAccessKeyMenuVisible)&&m&&!c.disabled&&A.jsx(tE,{label:o||m}),t]})});et.displayName="Button";const wH=t=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[A.jsx("path",{d:"M2.5 16.5 7 5l4.5 11.5"}),A.jsx("path",{d:"M4 13h6"}),A.jsx("path",{d:"M15 12h6"}),A.jsx("path",{d:"M18 9v6"})]}),SH=t=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[A.jsx("path",{d:"M4.5 16.5 7 9l2.5 7.5"}),A.jsx("path",{d:"M5.5 14h3"}),A.jsx("path",{d:"M15 12h6"})]}),cR=t=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[A.jsx("path",{d:"M3 6h18"}),A.jsx("path",{d:"M3 9h14"}),A.jsx("path",{d:"M3 12h18"}),A.jsx("path",{d:"M3 15h14"}),A.jsx("path",{d:"M3 18h18"})]}),AH=({className:t})=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),U3=({className:t})=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),fR=["sm","md","lg","xl"],EH=()=>{const t=q.useContext(Hn);if(!t)throw new Error("AppContext not found");const{theme:e,toggleTheme:n,selectedLanguage:r,setSelectedLanguage:i,fontSize:o,increaseFontSize:l,decreaseFontSize:c,showKeyboard:f,toggleKeyboard:h,page:p,navigateTo:m,isAccessKeyMenuVisible:v,requestFocusOnCode:_,isSetupModalOpen:S}=t,{user:w,loginWithGoogle:x}=eE(),[I,N]=q.useState(!1),M=q.useRef(null);Qo("L",()=>{var P;return(P=M.current)==null?void 0:P.toggle()},{disabled:S});const V=P=>{P(),p==="practice"&&_()},O=({page:P,label:U,icon:D,accessKeyChar:B,onClick:L,className:J,showLabelAlways:Q})=>A.jsxs(et,{onClick:L,variant:p===P?"primary":"ghost",size:"sm",className:`!py-2 !gap-2 ${J||""}`,accessKeyChar:B,disabled:S,children:[D,A.jsx("span",{className:Q?"inline":"hidden sm:inline",children:U})]}),j=fR.indexOf(o),T=j>0,R=j<fR.length-1;return A.jsxs("header",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm sticky top-0 z-10 border-b border-slate-200 dark:border-slate-800",children:[A.jsx("div",{className:"container mx-auto px-4",children:A.jsxs("div",{className:"flex items-center justify-between h-16",children:[A.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[A.jsx(et,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>N(!I),"aria-label":"Toggle menu",children:I?A.jsx(U3,{className:"w-6 h-6"}):A.jsx(AH,{className:"w-6 h-6"})}),A.jsxs("h1",{className:"text-xl font-bold text-primary-600 dark:text-primary-400",children:[A.jsx("span",{className:"hidden lg:inline",children:"AI Code Typer"}),A.jsx("span",{className:"lg:hidden hidden sm:inline",children:"ACT"})]}),A.jsxs("nav",{className:"hidden md:flex items-center gap-1 sm:gap-2",children:[A.jsx(O,{page:"home",label:"Home",icon:A.jsx(uR,{className:"w-5 h-5"}),accessKeyChar:"H",onClick:()=>m("home")}),A.jsx(O,{page:"practice",label:"Practice",icon:A.jsx(cR,{className:"w-5 h-5"}),accessKeyChar:"P",onClick:()=>{t.snippet?m("practice"):t.openSetupModal()}}),A.jsx(O,{page:"dashboard",label:"Dashboard",icon:A.jsx(lR,{className:"w-5 h-5"}),accessKeyChar:"D",onClick:()=>m("dashboard")})]})]}),A.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[A.jsxs("div",{className:"relative w-32 sm:w-40",children:[A.jsx(L1,{ref:M,value:r.id,onChange:P=>{const U=xn.find(D=>D.id===P);U&&V(()=>i(U))},disabled:S,options:xn.map(P=>({value:P.id,label:P.name}))}),v&&A.jsx(tE,{label:"L"})]}),p==="practice"&&A.jsxs(A.Fragment,{children:[A.jsx(et,{variant:"ghost",size:"icon",onClick:()=>V(c),disabled:!T||S,"aria-label":"Decrease font size",accessKeyChar:"-",children:A.jsx(SH,{className:"w-6 h-6"})}),A.jsx(et,{variant:"ghost",size:"icon",onClick:()=>V(l),disabled:!R||S,"aria-label":"Increase font size",accessKeyChar:"=",children:A.jsx(wH,{className:"w-6 h-6"})}),A.jsx(et,{variant:f?"secondary":"ghost",size:"icon",onClick:()=>V(h),"aria-label":"Toggle keyboard",title:"Toggle keyboard",disabled:S,accessKeyChar:"K",children:A.jsx(_H,{className:"w-6 h-6"})})]}),A.jsx(et,{variant:"ghost",size:"icon",onClick:()=>V(n),"aria-label":"Toggle theme",accessKeyChar:"M",disabled:S,children:e==="light"?A.jsx(bH,{className:"w-6 h-6"}):A.jsx(vH,{className:"w-6 h-6"})}),w?A.jsx("button",{onClick:()=>m("profile"),className:"relative group outline-none","aria-label":"User Profile",children:A.jsx("img",{src:w.photoURL||`https://ui-avatars.com/api/?name=${w.displayName}`,alt:"Profile",className:`w-8 h-8 rounded-full border-2 border-slate-200 dark:border-slate-700 transition-transform group-hover:scale-105 ${p==="profile"?"ring-2 ring-primary-500 ring-offset-2 dark:ring-offset-slate-900":""}`})}):A.jsx(et,{variant:"primary",size:"sm",onClick:x,className:"hidden sm:flex",children:"Sign In"}),!w&&A.jsx(et,{variant:"ghost",size:"icon",onClick:x,className:"sm:hidden text-primary-600 dark:text-primary-400",children:A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"w-6 h-6",children:[A.jsx("path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"}),A.jsx("polyline",{points:"10 17 15 12 10 7"}),A.jsx("line",{x1:"15",x2:"3",y1:"12",y2:"12"})]})})]})]})}),I&&A.jsx("div",{className:"md:hidden border-t border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 absolute w-full left-0 shadow-lg z-50",children:A.jsxs("div",{className:"flex flex-col p-4 space-y-2",children:[A.jsx(O,{page:"home",label:"Home",icon:A.jsx(uR,{className:"w-5 h-5"}),accessKeyChar:"H",onClick:()=>{m("home"),N(!1)},className:"w-full justify-start",showLabelAlways:!0}),A.jsx(O,{page:"practice",label:"Practice",icon:A.jsx(cR,{className:"w-5 h-5"}),accessKeyChar:"P",onClick:()=>{t.snippet?m("practice"):t.openSetupModal(),N(!1)},className:"w-full justify-start",showLabelAlways:!0}),A.jsx(O,{page:"dashboard",label:"Dashboard",icon:A.jsx(lR,{className:"w-5 h-5"}),accessKeyChar:"D",onClick:()=>{m("dashboard"),N(!1)},className:"w-full justify-start",showLabelAlways:!0})]})})]})},Yr=q.forwardRef(({children:t,className:e="",...n},r)=>A.jsx("div",{ref:r,className:`bg-white dark:bg-slate-800 rounded-lg shadow-md border border-slate-200 dark:border-slate-700 ${e}`,...n,children:t})),ob=({title:t,description:e,icon:n})=>A.jsxs(Yr,{className:"p-6 text-center",children:[A.jsx("div",{className:"text-4xl mb-4 text-primary-500",children:n}),A.jsx("h3",{className:"text-xl font-semibold mb-2",children:t}),A.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e})]}),TH=({onStartPractice:t})=>{const e=q.useContext(Hn);if(!e)throw new Error("AppContext not found");const{startCustomSession:n,fetchNewSnippet:r,isSetupModalOpen:i,openSetupModal:o,closeSetupModal:l}=e;return q.useEffect(()=>{const c=f=>{i||f.target.closest("input, textarea, select, button")||(f.key==="Enter"||f.key===" "||f.key==="Enter"&&f.ctrlKey)&&(f.preventDefault(),o())};return window.addEventListener("keydown",c),()=>{window.removeEventListener("keydown",c)}},[i,o]),A.jsx(A.Fragment,{children:A.jsx("div",{className:"h-full overflow-y-auto custom-scrollbar",children:A.jsxs("div",{className:"text-center py-12",children:[A.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-extrabold tracking-tight mb-4",children:["Sharpen Your"," ",A.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:"Coding Speed"})]}),A.jsx("p",{className:"max-w-2xl mx-auto text-lg text-gray-600 dark:text-gray-300 mb-8",children:"Practice typing real code snippets generated by AI. Boost your accuracy, increase your WPM, and master your favorite programming language's syntax."}),A.jsx(et,{size:"lg",onClick:o,children:"Start Practicing Now"}),A.jsxs("div",{className:"mt-20 grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:[A.jsx(ob,{title:"AI-Powered Snippets",description:"Endless, unique practice sessions with code generated by Google's Gemini.",icon:""}),A.jsx(ob,{title:"Real-time Feedback",description:"Instantly track your Words Per Minute (WPM) and typing accuracy as you go.",icon:""}),A.jsx(ob,{title:"Syntax Focused",description:"Get comfortable with language-specific syntax, not just random words.",icon:""})]})]})})})};var Iu=(t=>(t[t.Idle=0]="Idle",t[t.Correct=1]="Correct",t[t.Incorrect=2]="Incorrect",t[t.Warning=3]="Warning",t))(Iu||{});const OH=(t,e,n={})=>{const{onPause:r,onResume:i}=n,[o,l]=q.useState(null),[c,f]=q.useState(Array(t.length).fill(0)),[h,p]=q.useState(""),[m,v]=q.useState(0),[_,S]=q.useState(100),[w,x]=q.useState(0),[I,N]=q.useState(0),[M,V]=q.useState(0),O=q.useRef(0),[j,T]=q.useState(!1),[R,P]=q.useState(!1),[U,D]=q.useState(!1),B=q.useRef({isPaused:!1,isFinished:!1,startTime:null,isTypingStarted:!1});q.useEffect(()=>{B.current={...B.current,isPaused:U,isFinished:j,startTime:o}}),q.useEffect(()=>{O.current=M},[M]);const L=q.useRef(null),J=q.useRef(null),Q=h.length,H=q.useRef(null),Y=q.useRef(0),te=q.useRef(null),ce=q.useRef({}),be=q.useRef({}),F=q.useCallback(()=>{L.current&&(clearTimeout(L.current),L.current=null)},[]),W=q.useCallback(()=>{H.current&&(clearInterval(H.current),H.current=null)},[]),se=q.useCallback(()=>{const{isPaused:re,isFinished:Ge,startTime:we}=B.current;re||Ge||!we||(F(),W(),te.current&&(Y.current+=Date.now()-te.current),D(!0),r&&r())},[r,F,W]),ge=q.useCallback(()=>{F(),B.current.isFinished||(L.current=window.setTimeout(se,5e3))},[F,se]),_e=q.useCallback(()=>{W(),te.current=Date.now(),H.current=window.setInterval(()=>{if(te.current){const re=Date.now()-te.current;N((Y.current+re)/1e3)}},100)},[W]),Ae=q.useCallback(()=>{const{isPaused:re,isFinished:Ge}=B.current;!re||Ge||(D(!1),_e(),ge(),i&&i())},[i,ge,_e]),je=q.useCallback(()=>{W(),l(null),f(Array(t.length).fill(0)),p(""),v(0),S(100),x(0),N(0),V(0),O.current=0,T(!1),P(!1),D(!1),Y.current=0,te.current=null,B.current.isTypingStarted=!1,ce.current={},be.current={};const re={};for(const Ge of t)re[Ge]=(re[Ge]||0)+1;be.current=re,J.current&&clearTimeout(J.current),F()},[t,F,W]);q.useEffect(()=>{je()},[je]);const We=q.useCallback(re=>{const Ge=re.length===1,we=["Tab","Control","Shift","Enter","Backspace"].includes(re);if(!(B.current.isFinished||t.length===0)&&!(!Ge&&!we))if(B.current.isPaused?Ae():B.current.isTypingStarted&&ge(),B.current.isTypingStarted||(l(Date.now()),_e(),ge(),B.current.isTypingStarted=!0),J.current&&clearTimeout(J.current),P(!1),re==="Backspace")V(0),O.current=0,Q>0&&(p(Se=>Se.slice(0,-1)),f(Se=>{const Be=[...Se];return Be[Q-1]=0,Be}));else{const Se=re==="Enter"?`
`:re==="Tab"?"	":Ge?re:null;if(Se!==null&&Q<t.length){const Be=t[Q],Ke=Se===Be;if(Ke)V(0),O.current=0;else{ce.current[Be]=(ce.current[Be]||0)+1,x(rt=>rt+1);const Ce=O.current+1;if(V(Ce),O.current=Ce,e>0&&Ce>=e){P(!0),J.current=window.setTimeout(()=>P(!1),200),f(rt=>{const Nt=[...rt];return Nt[Q]=2,Nt});return}}if(p(Ce=>Ce+Se),f(Ce=>{const Re=[...Ce];return Ke?Re[Q]=1:Re[Q]=2,Re}),Q+1===t.length){F(),W();const Re=(Y.current+(te.current?Date.now()-te.current:0))/1e3;N(Re);const Fe=Re/60,rt=t.length/5,Nt=Fe>0?Math.round(rt/Fe):0;v(Nt),x(Jt=>{const St=Jt+(Ke?0:1),ct=Math.max(0,(t.length-St)/t.length*100);return S(parseFloat(ct.toFixed(2))),Jt}),T(!0)}}else if(Se!==null&&Q===t.length){const Be=O.current+1;V(Be),O.current=Be,x(Ke=>Ke+1),P(!0),J.current=window.setTimeout(()=>P(!1),200)}}},[Q,t,w,e,Ae,F,ge,_e,W]);q.useEffect(()=>{if(o&&!j){const re=Y.current+(te.current&&!U?Date.now()-te.current:0),Ge=re/6e4,we=re/1e3,Se=h.length/5;Ge>0&&(h.length>1||we>1)?v(Math.round(Se/Ge)):v(0);const Be=h.length;if(Be>0){const Ke=h.split("").filter((Ce,Re)=>Ce===t[Re]).length;S(parseFloat((Ke/Be*100).toFixed(2)))}else S(100)}else o||(v(0),S(100))},[h,o,j,U,t]),q.useEffect(()=>W,[W]);const pe=q.useCallback(()=>{const re=Y.current+(te.current&&!B.current.isPaused?Date.now()-te.current:0);return{startTime:B.current.startTime,charStates:c,typedText:h,errors:w,consecutiveErrors:M,isFinished:j,accumulatedDuration:re,errorMap:ce.current,attemptMap:be.current,isTypingStarted:B.current.isTypingStarted}},[c,h,w,M,j]),Le=q.useCallback(re=>{W(),l(re.startTime),f(re.charStates),p(re.typedText),x(re.errors),V(re.consecutiveErrors),O.current=re.consecutiveErrors,T(re.isFinished),Y.current=re.accumulatedDuration,te.current=null,ce.current=re.errorMap,be.current=re.attemptMap,B.current.isTypingStarted=re.isTypingStarted,B.current.startTime=re.startTime,N(re.accumulatedDuration/1e3),D(!0)},[W]),qe=q.useCallback(()=>{B.current.isPaused?Ae():se()},[se,Ae]);return{charStates:c,typedText:h,wpm:m,accuracy:_,errors:w,duration:I,isFinished:j,currentIndex:Q,isError:R,isPaused:U,handleKeyDown:We,pauseGame:se,resumeGame:Ae,togglePause:qe,reset:je,clearAutoPauseTimer:F,resetIdleTimer:ge,errorMap:ce.current,attemptMap:be.current,getSavableState:pe,restoreState:Le}},CH=({code:t,charStates:e,currentIndex:n,languageAlias:r,isError:i,cursorRef:o})=>{const[l,c]=q.useState([{chars:[],lineNumber:1}]),f=q.useContext(Hn);if(!f)throw new Error("AppContext not found");const{fontSize:h}=f,p=e!==void 0&&n!==void 0,m={sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"}[h];q.useEffect(()=>{const _=[];if(t&&r&&typeof Prism<"u"&&Prism.languages[r])try{const w=Prism.tokenize(t,Prism.languages[r]);let x=0;const I=N=>{for(const M of N)if(typeof M=="string")for(const V of M)_.push({char:V,classNames:["token","plain"],originalIndex:x++});else{const V=["token",M.type];if(M.alias){const O=Array.isArray(M.alias)?M.alias:[M.alias];V.push(...O)}if(typeof M.content=="string")for(const O of M.content)_.push({char:O,classNames:V,originalIndex:x++});else Array.isArray(M.content)&&I(M.content)}};if(I(w),_.map(N=>N.char).join("")!==t)throw new Error("Tokenization resulted in content mismatch.")}catch(w){console.error("Prism tokenization failed, falling back to plain text.",w),_.length=0,_.push(...t.split("").map((x,I)=>({char:x,classNames:[],originalIndex:I})))}else _.push(...t.split("").map((w,x)=>({char:w,classNames:[],originalIndex:x})));const S=[];if(t){let w=[],x=1;for(const I of _)w.push(I),I.char===`
`&&(S.push({chars:w,lineNumber:x++}),w=[]);w.length>0&&S.push({chars:w,lineNumber:x}),S.length===0&&S.push({chars:[],lineNumber:1})}else S.push({chars:[],lineNumber:1});c(S)},[t,r]);const v=_=>{const S=_.originalIndex,w=p&&S===n;let x,I=Iu.Idle;if(p)if(S<n)switch(I=e[S],I){case Iu.Correct:x="text-primary-500 dark:text-primary-400";break;case Iu.Incorrect:x="text-red-500 bg-red-500/20 rounded-sm";break;case Iu.Warning:x="text-yellow-600 dark:text-yellow-400 bg-yellow-500/20 rounded-sm";break;default:x="text-gray-400";break}else x="text-gray-600 dark:text-gray-400";else x=_.classNames.join(" ");p&&S>n&&(x="text-gray-600 dark:text-gray-400");const N=_.char===`
`,M=p&&S<n&&I===Iu.Incorrect||p&&w&&i;return A.jsxs("span",{ref:w?o:void 0,className:"relative inline-block",children:[p&&w&&!i&&A.jsx("span",{className:"absolute top-0 left-0 w-0.5 h-full bg-primary-400 animate-blink rounded-full"}),A.jsx("span",{className:`${x} ${p&&w&&i?"bg-red-500/20 rounded-sm":""}`,children:N?M?A.jsx("span",{className:"text-red-500 bg-red-500/20 px-1 select-none",children:""}):"":_.char})]},S)};return A.jsx("div",{className:`font-mono leading-relaxed tracking-wide ${m} [tab-size:4]`,children:l.map(({chars:_,lineNumber:S},w)=>{const x=_.length===1&&_[0].char===`
`,N=w===l.length-1&&p&&n===t.length&&t.length>0;return A.jsxs("div",{className:"flex",children:[A.jsx("div",{className:"text-right pr-4 text-gray-500 dark:text-gray-400 select-none flex-shrink-0 w-10 sm:w-12","aria-hidden":"true",children:S}),A.jsxs("div",{className:"flex-1 min-w-0 whitespace-pre-wrap break-all",children:[_.map(v),x&&A.jsx("span",{className:"opacity-0 select-none",children:""}),N&&A.jsxs("span",{ref:o,className:"relative inline-block w-0",children:["",i?A.jsx("span",{className:"absolute top-0 left-0 w-2 h-full bg-red-500/50 animate-pulse rounded-sm"}):A.jsx("span",{className:"absolute top-0 left-0 w-0.5 h-full bg-primary-400 animate-blink rounded-full"})]})]})]},w)})})},uh=t=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[A.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}),A.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13"}),A.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17"})]}),B3=t=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[A.jsx("path",{d:"M23 4v6h-6"}),A.jsx("path",{d:"M1 20v-6h6"}),A.jsx("path",{d:"M3.5 9a9 9 0 0 1 14.8-2.6L23 10"}),A.jsx("path",{d:"M21.5 15a9 9 0 0 1-14.8 2.6L1 14"})]}),IH=()=>{const t=q.useContext(Hn);if(!t)throw new Error("AppContext not found");const{fontSize:e}=t,n={sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl"}[e],r=[{width:"75%"},{width:"90%"},{width:"80%"},{width:"60%"},{width:"95%"},{width:"70%"},{width:"85%"},{width:"50%"}];return A.jsx("div",{className:`animate-pulse font-mono leading-relaxed tracking-wide ${n}`,children:r.map((i,o)=>A.jsxs("div",{className:"flex mb-1 h-5 sm:h-6",children:[A.jsx("div",{className:"text-right pr-4 text-transparent bg-slate-300 dark:bg-slate-700 rounded-md select-none flex-shrink-0 w-10 sm:w-12","aria-hidden":"true",children:o+1}),A.jsx("div",{className:"flex-1 min-w-0 flex items-center",children:A.jsx("div",{className:"h-full bg-slate-300 dark:bg-slate-700 rounded-md",style:{width:i.width}})})]},o))})},$3=t=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[A.jsx("rect",{x:"6",y:"4",width:"4",height:"16"}),A.jsx("rect",{x:"14",y:"4",width:"4",height:"16"})]}),RH=({className:t="w-6 h-6"})=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),q3=t=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:A.jsx("polyline",{points:"20 6 9 17 4 12"})}),PH=K.forwardRef(({value:t,onValueChange:e,snippet:n,languageAlias:r,charStates:i,currentIndex:o,isError:l,isLoading:c,error:f,isPaused:h,onRetry:p,className:m=""},v)=>{const _=q.useRef(null),S=q.useRef(null),w=q.useRef(null),x=q.useRef(null),[I,N]=K.useState(!1),M=q.useContext(Hn),V=async()=>{const T=R=>{try{const P=document.createElement("textarea");P.value=R,P.style.position="fixed",P.style.left="-9999px",P.style.top="0",document.body.appendChild(P),P.focus(),P.select();const U=document.execCommand("copy");if(document.body.removeChild(P),U)N(!0),setTimeout(()=>N(!1),2e3),M==null||M.showAlert("Code copied to clipboard!","info");else throw new Error("Fallback copy failed")}catch(P){console.error("Fallback copy failed: ",P),M==null||M.showAlert("Failed to copy code.","error")}};if(navigator.clipboard&&navigator.clipboard.writeText)try{await navigator.clipboard.writeText(n),N(!0),setTimeout(()=>N(!1),2e3),M==null||M.showAlert("Code copied to clipboard!","info")}catch(R){console.warn("Clipboard API failed, trying fallback...",R),T(n)}else T(n)};K.useImperativeHandle(v,()=>({focus:()=>{var T;(T=_.current)==null||T.focus()}})),q.useEffect(()=>{var T;!c&&!f&&!h&&((T=_.current)==null||T.focus())},[c,f,h]);const O=()=>{var T;(T=_.current)==null||T.focus()},j=T=>{e(T.target.value)};return q.useEffect(()=>{const T=x.current,R=w.current;if(T&&R){const P=T.getBoundingClientRect(),U=R.getBoundingClientRect(),D=U.top-P.top;if(typeof window<"u"&&window.innerWidth<768){const L=U.height||24,J=P.height/3;if(D>J||D<0){const Q=T.scrollTop+D-L;T.scrollTo({top:Q,behavior:"smooth"})}}else{const L=T.scrollTop+D-P.height/2+U.height/2;T.scrollHeight>P.height&&T.scrollTo({top:L,behavior:"smooth"})}}},[o]),A.jsxs("div",{ref:S,className:`relative flex-grow min-h-0 w-full flex flex-col ${l?"animate-shake":""} ${m}`,onClick:O,children:[A.jsx("textarea",{ref:_,className:"absolute opacity-0 w-px h-px p-0 m-0 border-0 -z-10",value:t,onChange:j,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",tabIndex:0}),h&&A.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center rounded-lg z-20 pointer-events-none animate-fade-in-up",children:A.jsxs("div",{className:"bg-white/90 dark:bg-slate-800/90 p-6 rounded-xl shadow-2xl border border-slate-200 dark:border-slate-700 backdrop-blur-sm",children:[A.jsxs("div",{className:"flex items-center gap-3 text-2xl font-bold text-slate-800 dark:text-slate-100 mb-2",children:[A.jsx($3,{className:"w-8 h-8 text-primary-500"}),A.jsx("span",{children:"Paused"})]}),A.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-center",children:"Press any key to resume"})]})}),A.jsxs(Yr,{className:"h-full overflow-hidden flex flex-col relative w-full group",children:[!c&&!f&&A.jsx("div",{className:"absolute top-2 right-2 z-10 opacity-100 md:opacity-0 md:group-hover:opacity-100 transition-opacity duration-200",children:A.jsx(et,{variant:"secondary",size:"sm",onClick:T=>{T.stopPropagation(),V()},className:"!py-1 !px-2 text-xs shadow-sm bg-white/80 dark:bg-slate-700/80 backdrop-blur-sm",title:"Copy Code (Alt+C)",accessKeyChar:"C",children:I?A.jsxs(A.Fragment,{children:[A.jsx(q3,{className:"w-3 h-3 mr-1 text-green-500"}),"Copied!"]}):A.jsxs(A.Fragment,{children:[A.jsx(RH,{className:"w-3 h-3 mr-1"}),"Copy"]})})}),A.jsx("div",{className:"flex-grow overflow-y-auto custom-scrollbar relative",ref:x,children:A.jsx("div",{className:"p-4 md:p-6 min-h-full font-mono text-lg md:text-xl leading-relaxed",children:c?A.jsx(IH,{}):f?A.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-red-500 p-8 text-center animate-fade-in",children:[A.jsx(uh,{className:"w-12 h-12 mb-4 opacity-80"}),A.jsx("p",{className:"text-lg font-medium mb-4",children:f}),A.jsxs(et,{onClick:p,variant:"primary",children:[A.jsx(B3,{className:"w-4 h-4 mr-2"})," Try Again"]})]}):A.jsx(CH,{code:n,languageAlias:r,charStates:i,currentIndex:o,isError:l,cursorRef:w})})})]})]})}),z3=K.memo(PH);z3.displayName="CodeEditor";const ar=({label:t,value:e})=>A.jsxs("div",{className:"flex flex-col items-center",children:[A.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:t}),A.jsx("span",{className:"text-3xl font-bold text-primary-600 dark:text-primary-400",children:e})]}),NH=t=>{if(isNaN(t)||t<0)return"0:00";const e=Math.floor(t/60),n=Math.floor(t%60);return`${e}:${n.toString().padStart(2,"0")}`},MH=({wpm:t,accuracy:e,errors:n,progress:r,timer:i,duration:o})=>{const l=i!==void 0?i:o||0;return A.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-x-8 gap-y-2 md:gap-8 min-w-[200px]",children:[A.jsx(ar,{label:"WPM",value:t}),A.jsx(ar,{label:"Accuracy",value:`${e}%`}),A.jsx(ar,{label:"Errors",value:n}),A.jsx(ar,{label:"Time",value:NH(l)})]})},kH=[["`","1","2","3","4","5","6","7","8","9","0","-","=","Backspace"],["Tab","q","w","e","r","t","y","u","i","o","p","[","]","\\"],["CapsLock","a","s","d","f","g","h","j","k","l",";","'","Enter"],["Shift","z","x","c","v","b","n","m",",",".","/","Shift"],[" "]],jH=[["~","!","@","#","$","%","^","&","*","(",")","_","+","Backspace"],["Tab","Q","W","E","R","T","Y","U","I","O","P","{","}","|"],["CapsLock","A","S","D","F","G","H","J","K","L",":",'"',"Enter"],["Shift","Z","X","C","V","B","N","M","<",">","?","Shift"],[" "]],DH=new Set(["`","1","2","3","4","5","q","w","e","r","t","a","s","d","f","g","z","x","c","v","b"]),LH=new Set(["6","7","8","9","0","-","=","y","u","i","o","p","[","]","\\","h","j","k","l",";","'","n","m",",",".","/"]),hR={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=","{":"[","}":"]","|":"\\",":":";",'"':"'","<":",",">":".","?":"/"},dR={Backspace:"flex-grow-[2]",Tab:"flex-grow-[1.5]","\\":"flex-grow-[1.5]","|":"flex-grow-[1.5]",CapsLock:"flex-grow-[1.8]",Enter:"flex-grow-[2.2]",Shift:"flex-grow-[2.5]"," ":"flex-grow-[8]"},VH={"`":"left-pinky","~":"left-pinky",1:"left-pinky","!":"left-pinky",Tab:"left-pinky",q:"left-pinky",Q:"left-pinky",CapsLock:"left-pinky",a:"left-pinky",A:"left-pinky",Shift_left:"left-pinky",z:"left-pinky",Z:"left-pinky",2:"left-ring","@":"left-ring",w:"left-ring",W:"left-ring",s:"left-ring",S:"left-ring",x:"left-ring",X:"left-ring",3:"left-middle","#":"left-middle",e:"left-middle",E:"left-middle",d:"left-middle",D:"left-middle",c:"left-middle",C:"left-middle",4:"left-index",$:"left-index",r:"left-index",R:"left-index",f:"left-index",F:"left-index",v:"left-index",V:"left-index",5:"left-index","%":"left-index",t:"left-index",T:"left-index",g:"left-index",G:"left-index",b:"left-index",B:"left-index",6:"right-index","^":"right-index",y:"right-index",Y:"right-index",h:"right-index",H:"right-index",n:"right-index",N:"right-index",7:"right-index","&":"right-index",u:"right-index",U:"right-index",j:"right-index",J:"right-index",m:"right-index",M:"right-index",8:"right-middle","*":"right-middle",i:"right-middle",I:"right-middle",k:"right-middle",K:"right-middle",",":"right-middle","<":"right-middle",9:"right-ring","(":"right-ring",o:"right-ring",O:"right-ring",l:"right-ring",L:"right-ring",".":"right-ring",">":"right-ring",0:"right-pinky",")":"right-pinky","-":"right-pinky",_:"right-pinky","=":"right-pinky","+":"right-pinky",Backspace:"right-pinky",p:"right-pinky",P:"right-pinky","[":"right-pinky","{":"right-pinky","]":"right-pinky","}":"right-pinky","\\":"right-pinky","|":"right-pinky",Enter:"right-pinky",";":"right-pinky",":":"right-pinky","'":"right-pinky",'"':"right-pinky",Shift_right:"right-pinky","/":"right-pinky","?":"right-pinky"," ":"thumb"},sb={"left-pinky":"bg-blue-500 text-white","left-ring":"bg-green-500 text-white","left-middle":"bg-yellow-500 text-black","left-index":"bg-red-500 text-white",thumb:"bg-purple-500 text-white","right-index":"bg-red-500 text-white","right-middle":"bg-yellow-500 text-black","right-ring":"bg-green-500 text-white","right-pinky":"bg-blue-500 text-white",special:"bg-slate-300 dark:bg-slate-600"},UH=({nextKey:t,activeKey:e,isShiftActive:n,showHandGuide:r})=>{const i=q.useContext(Hn),o=r??(i==null?void 0:i.showHandGuide)??!0,l=e??t,c=n??(/[A-Z!@#$%^&*()_+{}|:"<>?~]/.test(l)||Object.keys(hR).includes(l)),f=c?jH:kH;let h=l;l===" "&&(h=" "),l===`
`&&(h="Enter"),l==="	"&&(h="Tab");let p="none";if(c){const v=hR[l]||l.toLowerCase();DH.has(v)?p="right":LH.has(v)&&(p="left")}const m=v=>{const _=VH[v];return _?sb[_]:sb.special};return A.jsx("div",{className:"w-full max-w-4xl mx-auto p-1 sm:p-2 bg-slate-200 dark:bg-slate-800 rounded-lg shadow-lg",children:A.jsx("div",{className:"flex flex-col gap-1",children:f.map((v,_)=>A.jsx("div",{className:"flex gap-1 w-full justify-center",children:v.map((S,w)=>{let x=h===S,I=S;if(S==="Shift"){const O=w===0;I=O?"Shift_left":"Shift_right",c&&(O&&p==="left"&&(x=!0),!O&&p==="right"&&(x=!0))}const N=S===" ",M=o?m(I):"bg-slate-50 dark:bg-slate-700 text-slate-800 dark:text-slate-200 shadow-sm",V="bg-[#3A3A3A] text-white dark:bg-[#E5E5E5] dark:text-black shadow-lg scale-105 ring-2 ring-primary-300 dark:ring-primary-700 z-10";return N?A.jsx("div",{className:`h-8 sm:h-10 md:h-12 rounded-md transition-all duration-100 flex-shrink-0 ${dR[S]} ${x?V+" animate-pulse":o?sb.thumb:M}`},`${_}-${w}`):A.jsx("div",{className:`
                                        h-8 sm:h-10 md:h-12 flex-1 flex items-center justify-center 
                                        rounded-md font-sans text-sm sm:text-base font-medium
                                        transition-all duration-100 select-none flex-shrink-0
                                        ${dR[S]||"min-w-[1.5rem] sm:min-w-[2rem] md:min-w-[2.5rem]"}
                                        ${x?V:M}
                                    `,children:S},`${_}-${w}`)})},_))})})};var F3=vL();const pR=document.getElementById("modal-root"),Rc=({isOpen:t,onClose:e,title:n,children:r})=>{const i=q.useRef(null);if(q.useEffect(()=>{const l=document.getElementById("root"),c=f=>{f.key==="Escape"&&e()};return t&&(l==null||l.classList.add("modal-open-blur"),document.addEventListener("keydown",c)),()=>{l==null||l.classList.remove("modal-open-blur"),document.removeEventListener("keydown",c)}},[t,e]),!t||!pR)return null;const o=A.jsx("div",{className:"fixed top-0 left-0 w-[100vw] h-[100vh] z-[9999] flex items-center justify-center bg-black/70",onMouseDown:l=>{l.target===l.currentTarget&&e()},children:A.jsxs(Yr,{ref:i,className:"w-full max-w-md p-6 animate-fade-in-up",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:n}),A.jsx(et,{variant:"ghost",size:"icon",onClick:e,className:"-m-2","aria-label":"Close",title:"Close (Alt+X)",accessKeyChar:"X",children:A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),A.jsx("div",{children:r})]})});return F3.createPortal(o,pR)},BH=t=>{if(isNaN(t)||t<0)return"0:00";const e=Math.floor(t/60),n=Math.floor(t%60);return`${e}:${n.toString().padStart(2,"0")}`},$H=({isOpen:t,onClose:e,onPracticeSame:n,onNewSnippet:r,onViewProgress:i,isCustomSession:o,lastPracticeAction:l,stats:c,title:f,isEarlyExit:h=!1,isMultiFileSession:p=!1,onNextSnippet:m,hasNextSnippet:v=!1,sessionErrorMap:_={},sessionAttemptMap:S={},saveStatus:w})=>{const[x,I]=q.useState(0),N=q.useRef([]),M=q.useMemo(()=>{const V={label:"New Snippet",action:r},O={label:"Practice Same Code",action:n},j={label:"View Your Progress",action:i},T={label:"Next Snippet",action:m},R={label:"Resume",action:e};let P=[];return v&&m&&P.push(T),h?P.push(R,V,O,j):(l==="practice_same"&&!p?P.push(O,V):P.push(V,O),P.push(j)),P},[h,p,l,r,n,i,m,v,e]);return q.useEffect(()=>{N.current=N.current.slice(0,M.length)},[M]),q.useEffect(()=>{t&&(I(0),setTimeout(()=>{var O;(O=N.current[0])==null||O.focus()},100))},[t]),q.useEffect(()=>{const V=O=>{var j,T;if(t&&O.key!=="Tab")if(O.key==="ArrowDown"||O.key==="ArrowUp"){O.preventDefault();const R=O.key==="ArrowDown"?1:-1,P=(x+R+M.length)%M.length;I(P),(j=N.current[P])==null||j.focus()}else O.key==="Enter"&&(O.preventDefault(),(T=N.current[x])==null||T.click())};return window.addEventListener("keydown",V),()=>{window.removeEventListener("keydown",V)}},[t,M,x]),A.jsx(Rc,{isOpen:t,onClose:e,title:f,children:A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[A.jsx(ar,{label:"WPM",value:c.wpm}),A.jsx(ar,{label:"Accuracy",value:`${c.accuracy}%`}),A.jsx(ar,{label:"Errors",value:c.errors}),A.jsx(ar,{label:"Duration",value:BH(c.duration)})]}),h&&A.jsx("div",{className:`text-center py-2 px-4 rounded-md ${w!=null&&w.saved?"bg-green-50 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-amber-50 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400"}`,children:A.jsx("p",{className:"font-medium",children:w!=null&&w.saved?"Progress Saved":(w==null?void 0:w.reason)||"Session Ended Early (Not Saved)"})}),A.jsx("div",{className:"flex flex-col gap-3",children:M.map((V,O)=>A.jsx(et,{ref:j=>{N.current[O]=j},size:"lg",className:"w-full",onClick:V.action,variant:O===x?"primary":"secondary",onMouseEnter:()=>I(O),onFocus:()=>I(O),children:V.label},V.label))})]})})},qH=t=>{switch(t){case" ":return"Space ()";case`
`:return"Enter ()";case"	":return"Tab ()";default:return t}},zH=({char:t,beforeRate:e,afterRate:n})=>{const r=qH(t);let i="text-slate-500 dark:text-slate-400";return n<e&&(i="text-green-500 font-bold"),n>e&&(i="text-red-500 font-bold"),A.jsxs("div",{className:"grid grid-cols-3 items-center text-center text-sm p-2 rounded-md bg-slate-100 dark:bg-slate-700/50",children:[A.jsx("span",{className:"font-mono font-semibold bg-slate-200 dark:bg-slate-600 px-2 py-1 rounded-md justify-self-center",children:r}),A.jsxs("span",{children:[e.toFixed(1),"%"]}),A.jsxs("span",{className:i,children:[n.toFixed(1),"%"]})]})},FH=({isOpen:t,onClose:e,onPracticeAgain:n,onReturnToDashboard:r,stats:i,sessionErrorMap:o={},sessionAttemptMap:l={}})=>{const c=q.useContext(Hn);if(!c)throw new Error("AppContext not found");const{keyErrorStats:f,keyAttemptStats:h,currentTargetedKeys:p}=c,m=q.useMemo(()=>{if(!t)return{results:[],verdict:""};try{let v=0;const _=p.map(w=>{const x=(o==null?void 0:o[w])||0,I=(l==null?void 0:l[w])||0,N=(f==null?void 0:f[w])||0,M=((h==null?void 0:h[w])||0)<N?N:(h==null?void 0:h[w])||0,V=N-x,O=M-I,j=O>0?V/O*100:0,T=I>0?x/I*100:0;return T<j&&v++,{key:w,beforeRate:j,afterRate:T}});let S=`You focused on ${p.length} keys. Keep practicing!`;return v===p.length&&p.length>0?S="Amazing focus! You reduced your error rate on all target keys.":v>p.length/2&&(S=`You successfully reduced your error rate on ${v} out of ${p.length} keys. Great work!`),{results:_,verdict:S}}catch(v){return console.error("Error calculating targeted results:",v),{results:[],verdict:"Could not calculate statistics."}}},[t,p,f,h,o,l]);return A.jsx(Rc,{isOpen:t,onClose:e,title:"Targeted Practice Results",children:A.jsxs("div",{className:"space-y-6",children:[A.jsx("p",{className:"text-center text-sm text-slate-600 dark:text-slate-300",children:"Here's how your performance on the targeted keys changed from your historical average to this session."}),A.jsxs(Yr,{className:"p-4 bg-slate-50 dark:bg-slate-900/50",children:[A.jsxs("div",{className:"grid grid-cols-3 items-center text-center font-semibold text-xs text-slate-500 dark:text-slate-400 mb-2 mr-2",children:[A.jsx("span",{children:"Key"}),A.jsx("span",{children:"Before"}),A.jsx("span",{children:"After"})]}),A.jsx("div",{className:"space-y-1 max-h-[300px] overflow-y-auto custom-scrollbar pr-1",children:m.results.map(v=>A.jsx(zH,{char:v.key,...v},v.key))})]}),A.jsx("p",{className:"text-center text-sm font-semibold text-slate-700 dark:text-slate-200",children:m.verdict}),A.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[A.jsx(et,{size:"lg",className:"w-full",onClick:n,children:"Practice Again (Same Keys)"}),A.jsx(et,{size:"lg",variant:"secondary",className:"w-full",onClick:r,children:"Return to Dashboard"})]})]})})},HH=t=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:A.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})}),GH=t=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[A.jsx("path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"}),A.jsx("path",{d:"m5 2 4 4"})]}),KH=q.forwardRef(({trigger:t,children:e},n)=>{const[r,i]=q.useState(!1),[o,l]=q.useState(-1),c=q.useRef(null),f=q.useRef(null),h=q.useRef(null),p=q.useMemo(()=>K.Children.toArray(e).filter(I=>K.isValidElement(I)&&I.type===V1),[e]),m=q.useCallback(()=>{var I;i(!1),(I=h.current)==null||I.focus()},[]);q.useImperativeHandle(n,()=>({close:m}));const v=()=>{i(I=>!I)};q.useEffect(()=>{var I;if(r){const N=p.findIndex(V=>V.props.isActive);l(N>-1?N:0),(I=f.current)==null||I.focus();const M=V=>{c.current&&!c.current.contains(V.target)&&m()};return document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}}},[r,p,m]),q.useEffect(()=>{if(r&&o>=0&&f.current){const N=Array.from(f.current.querySelectorAll('[role="menuitem"]'))[o];N&&N.scrollIntoView({block:"nearest"})}},[r,o]);const _=I=>{var N;if(p.length!==0)switch(I.key){case"ArrowDown":I.preventDefault(),l(M=>(M+1)%p.length);break;case"ArrowUp":I.preventDefault(),l(M=>(M-1+p.length)%p.length);break;case"Enter":case" ":I.preventDefault(),o>=0&&((N=p[o])==null||N.props.onClick(),i(!1));break;case"Escape":case"Tab":I.preventDefault(),m();break}};let S=-1;const w=K.Children.map(e,I=>{if(K.isValidElement(I)&&I.type===V1){S++;const N=S,M=I.props.onClick;return K.cloneElement(I,{isHighlighted:N===o,onMouseEnter:()=>l(N),onClick:()=>{M&&M(),i(!1)}})}return I}),x=K.cloneElement(t,{ref:h,onClick:I=>{v(),t.props.onClick&&t.props.onClick(I)},"aria-haspopup":"true","aria-expanded":r});return A.jsxs("div",{className:"relative inline-block text-left",ref:c,children:[x,r&&A.jsx("div",{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white dark:bg-slate-800 ring-1 ring-black ring-opacity-5 focus:outline-none border border-slate-200 dark:border-slate-700 z-10 animate-fade-in-up",children:A.jsx("div",{ref:f,onKeyDown:_,tabIndex:-1,className:"py-1 focus:outline-none",role:"menu","aria-orientation":"vertical",children:w})})]})}),V1=({onClick:t,children:e,isActive:n=!1,isHighlighted:r=!1,onMouseEnter:i})=>{const o=r?"bg-primary-500 text-white":"text-gray-700 dark:text-gray-200";return A.jsxs("a",{href:"#",onClick:l=>{l.preventDefault(),t()},onMouseEnter:i,className:`flex items-center justify-between px-4 py-2 text-sm focus:outline-none transition-colors ${o}`,role:"menuitem",tabIndex:-1,children:[A.jsx("span",{className:n?"font-semibold":"font-normal",children:e}),n&&A.jsx(q3,{className:"w-4 h-4 text-primary-500"})]})},WH=t=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[A.jsx("circle",{cx:"12",cy:"12",r:"10"}),A.jsx("line",{x1:"4.93",y1:"4.93",x2:"19.07",y2:"19.07"})]}),YH=t=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[A.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),A.jsx("polyline",{points:"14 2 14 8 20 8"}),A.jsx("path",{d:"m10 13-2 2 2 2"}),A.jsx("path",{d:"m14 17 2-2-2-2"})]}),Vf=[{label:"Off",value:0},{label:"After 1 Error",value:1},{label:"After 2 Errors",value:2},{label:"After 3 Errors",value:3}],XH=()=>{const t=q.useContext(Hn);if(!t)return null;const{practiceQueue:e,currentQueueIndex:n}=t;return A.jsxs("div",{className:"flex flex-col gap-2 h-full",children:[A.jsx("h3",{className:"font-semibold text-slate-700 dark:text-slate-300 px-2",children:"Queue"}),A.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 px-2 custom-scrollbar",children:e.map((r,i)=>A.jsxs("div",{className:`p-2 rounded text-xs border ${i===n?"bg-blue-50 dark:bg-blue-900/30 border-blue-200 dark:border-blue-700":"bg-slate-50 dark:bg-slate-800 border-transparent"}`,children:[A.jsxs("div",{className:`font-medium mb-1 ${i===n?"text-blue-600 dark:text-blue-400":"text-slate-500"}`,children:["Snippet ",i+1]}),A.jsxs("div",{className:"font-mono text-slate-600 dark:text-slate-400 truncate opacity-75",children:[r.substring(0,40).replace(/\n/g," "),"..."]})]},i))})]})},QH=()=>{var ht;const t=q.useContext(Hn);if(!t)return null;const{snippet:e,isLoadingSnippet:n,snippetError:r,selectedLanguage:i,fetchNewSnippet:o,showKeyboard:l,showHandGuide:c,toggleHandGuide:f,addPracticeResult:h,startCustomSession:p,navigateTo:m,isCustomSession:v,currentTargetedKeys:_,setCurrentTargetedKeys:S,setLastPracticeAction:w,lastPracticeAction:x,startTargetedSession:I,blockOnErrorThreshold:N,setBlockOnErrorThreshold:M,setRequestFocusOnCodeCallback:V,requestFocusOnCode:O,practiceQueue:j,currentQueueIndex:T,loadNextSnippetInQueue:R,isSetupModalOpen:P,openSetupModal:U,closeSetupModal:D,isInitialSetupComplete:B,restorePracticeSession:L,sessionResetKey:J}=t,Q=q.useRef(Date.now().toString()),[H,Y]=q.useState(!1),[te,ce]=q.useState(!1),[be,F]=q.useState({wpm:0,accuracy:0,errors:0,duration:0,errorMap:{},attemptMap:{}}),[W,se]=q.useState(!1),[ge,_e]=q.useState(!1),[Ae,je]=q.useState(!1),[We,pe]=q.useState(null),[Le,qe]=q.useState(null),re=q.useRef(null),Ge=q.useRef(null),we=q.useRef(null),Se=q.useRef(!1),Be=q.useCallback(()=>O(),[O]),Ke=q.useCallback(()=>O(),[O]),Ce=OH(e,N,{onPause:Be,onResume:Ke}),Re=q.useRef(Ce);q.useLayoutEffect(()=>{Re.current=Ce},[Ce]);const Fe=e[Ce.currentIndex]||"";q.useEffect(()=>{Re.current.reset(),Q.current=Date.now().toString(),O()},[J,O]);const rt=q.useCallback(()=>{Re.current.reset(),Q.current=Date.now().toString(),O()},[O]),Nt=q.useCallback(()=>{Re.current.togglePause(),O()},[O]),Jt=q.useCallback(()=>{U()},[U]),St=q.useCallback(()=>{console.log("handleEndSession triggered");try{je(!0);const Pe={wpm:Re.current.wpm,accuracy:Re.current.accuracy,errors:Re.current.errors,duration:Re.current.duration,errorMap:Re.current.errorMap,attemptMap:Re.current.attemptMap};F(Pe);const dt=Re.current.currentIndex,$e=e.length,nt=$e>0?dt/$e*100:0,_t=Re.current.duration,Je=dt>=20,Dn=nt>=100,On=(nt>=70||dt>=150)&&_t>=10;if(Je&&(Dn||On))h({id:Q.current,date:Date.now(),wpm:Pe.wpm,accuracy:Pe.accuracy,duration:Pe.duration,errors:Pe.errors,language:i.name,snippetLength:e.length,timestamp:Date.now(),linesTyped:Re.current.typedText.split(`
`).length,errorMap:Pe.errorMap,attemptMap:Pe.attemptMap}),pe({saved:!0});else{let Wi="Session not saved.";Je?On||(Wi="Not saved: Duration under 10s or progress too low (<70% or <150 chars)."):Wi="Not saved: Less than 20 characters typed.",pe({saved:!1,reason:Wi})}}catch(Pe){console.error("Error in handleEndSession:",Pe),pe({saved:!1,reason:"Error saving session: "+(Pe instanceof Error?Pe.message:String(Pe))})}finally{Y(!0)}},[h,i.name,e]),ct=q.useCallback(()=>{Y(!1),ce(!1),rt(),O()},[rt,O]),un=q.useCallback(()=>{Y(!1),ce(!1),R(),Q.current=Date.now().toString(),O()},[R,O]);q.useEffect(()=>{const Pe=localStorage.getItem("sessionResultToShow");if(Pe){Se.current=!0,localStorage.removeItem("sessionResultToShow");try{const $e=JSON.parse(Pe);F($e.stats),je($e.isEarlyExit),w($e.lastPracticeAction),$e.currentTargetedKeys&&$e.currentTargetedKeys.length>0?(S($e.currentTargetedKeys),ce(!0)):Y(!0)}catch($e){console.error("Failed to parse session result",$e)}return}const dt=localStorage.getItem("continuedSession");if(dt){Se.current=!0,localStorage.removeItem("continuedSession");try{const $e=JSON.parse(dt);L($e.context),qe($e)}catch($e){console.error("Failed to parse continued session",$e)}}},[L,S]),q.useEffect(()=>{if(Ce.isFinished&&!ge&&!H&&!te){_e(!0);const Pe={wpm:Ce.wpm,accuracy:Ce.accuracy,errors:Ce.errors,duration:Ce.duration,errorMap:Ce.errorMap,attemptMap:Ce.attemptMap};F(Pe),je(!1),h({id:Q.current,date:Date.now(),wpm:Ce.wpm,accuracy:Ce.accuracy,duration:Ce.duration,errors:Ce.errors,language:i.name,snippetLength:e.length,timestamp:Date.now(),linesTyped:Ce.typedText.split(`
`).length,errorMap:Ce.errorMap,attemptMap:Ce.attemptMap}),_.length>0?ce(!0):Y(!0)}else Ce.isFinished||_e(!1)},[Ce.isFinished,ge,H,te,Ce.wpm,Ce.accuracy,Ce.errors,Ce.duration,Ce.errorMap,Ce.attemptMap,h,i.name,e.length,_]);const ye=q.useCallback(Pe=>{if(!(H||te||P)&&Pe.altKey)switch(Pe.key.toLowerCase()){case"n":Pe.preventDefault(),Jt();break;case"e":Pe.preventDefault(),St();break;case"r":Pe.preventDefault(),rt();break;case"p":Pe.preventDefault(),Nt();break;case"g":Pe.preventDefault(),f();break;case"b":Pe.preventDefault();const $e=(Vf.findIndex(nt=>nt.value===N)+1)%Vf.length;M(Vf[$e].value);break}},[H,te,P,Jt,St,rt,Nt,f,N,M]);q.useEffect(()=>(window.addEventListener("keydown",ye),()=>window.removeEventListener("keydown",ye)),[ye]);const Te=()=>typeof window<"u"&&window.innerWidth<768;q.useEffect(()=>{const Pe=dt=>{const $e=Re.current;if(H||te||P||dt.altKey||dt.ctrlKey||dt.metaKey)return;const nt=dt.key;nt==="Tab"&&dt.preventDefault(),dt.getModifierState("CapsLock")?se(!0):se(!1);const _t=nt.length===1,Je=["Backspace","Enter","Tab"].includes(nt);if(_t||Je){dt.preventDefault();let Dn=nt;Te()&&nt===" "&&e[$e.currentIndex]==="	"&&(Dn="Tab"),$e.handleKeyDown(Dn),O()}};return window.addEventListener("keydown",Pe),()=>window.removeEventListener("keydown",Pe)},[H,te,P,O,e]);const ft=Pe=>{const dt=Re.current.typedText;if(Pe.length>dt.length+1){const $e=Pe.slice(dt.length);for(const nt of $e)Re.current.handleKeyDown(nt);O()}else if(Pe.length===dt.length+1){let $e=Pe.slice(-1);Te()&&$e===" "&&e[Re.current.currentIndex]==="	"&&($e="Tab"),Re.current.handleKeyDown($e),O()}else Pe.length===dt.length-1&&(Re.current.handleKeyDown("Backspace"),O())};return A.jsxs("div",{className:"flex flex-col h-[100dvh] max-w-full mx-auto w-full overflow-hidden",ref:re,children:[W&&A.jsx("div",{className:"fixed top-20 inset-x-0 z-50 flex justify-center pointer-events-none",children:A.jsxs("div",{className:"bg-yellow-400 text-yellow-900 px-4 py-2 rounded-md shadow-lg flex items-center gap-2 animate-fade-in-up pointer-events-auto",children:[A.jsx(uh,{className:"w-5 h-5"}),A.jsx("span",{className:"font-semibold",children:"Caps Lock is On"})]})}),A.jsx("div",{className:"w-full max-w-[1100px] mx-auto mb-2 pt-2 flex-shrink-0 px-4",children:A.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 p-4",children:A.jsx(MH,{wpm:Ce.wpm,accuracy:Ce.accuracy,errors:Ce.errors,progress:e.length>0?Math.round(Ce.currentIndex/e.length*100):0,timer:Ce.duration})})}),A.jsx("div",{className:"w-full max-w-[1100px] mx-auto mb-2 flex-shrink-0 px-4",children:A.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2",children:[A.jsxs(et,{onClick:Jt,variant:"primary",disabled:P,title:"New Snippet (Alt+N)",accessKey:"n",size:"sm",children:[A.jsx(YH,{className:"w-4 h-4 mr-2"}),"New"]}),A.jsxs(et,{onClick:St,variant:"outline",disabled:P||Ce.isFinished,title:"End Session (Alt+E)",accessKey:"e",size:"sm",children:[A.jsx(U3,{className:"w-4 h-4 mr-2"}),"End"]}),A.jsxs(et,{onClick:rt,variant:"outline",disabled:P,title:"Reset (Alt+R)",accessKey:"r",size:"sm",children:[A.jsx(B3,{className:"w-4 h-4 mr-2"}),"Reset"]}),A.jsxs(et,{onClick:Nt,variant:"outline",disabled:P||Ce.isFinished,title:Ce.isPaused?"Resume (Alt+P)":"Pause (Alt+P)",accessKey:"p",size:"sm",children:[Ce.isPaused?A.jsx(HH,{className:"w-4 h-4 mr-2"}):A.jsx($3,{className:"w-4 h-4 mr-2"}),Ce.isPaused?"Resume":"Pause"]}),A.jsx(KH,{ref:Ge,trigger:A.jsxs(et,{variant:"outline",title:"Block on Error Settings (Alt+B)",accessKey:"b",size:"sm",children:[A.jsx(WH,{className:"w-4 h-4 mr-2"}),A.jsxs("span",{className:"hidden sm:inline",children:["Block: ",(ht=Vf.find(Pe=>Pe.value===N))==null?void 0:ht.label]})]}),children:Vf.map(({label:Pe,value:dt})=>A.jsx(V1,{onClick:()=>{M(dt),O()},isActive:N===dt,children:Pe},dt))}),A.jsxs(et,{variant:"outline",onClick:()=>{f(),O()},title:"Toggle Hand Guide (Alt+G)",disabled:P,accessKey:"g",size:"sm",children:[A.jsx(GH,{className:"w-4 h-4 sm:mr-2"}),A.jsx("span",{className:"hidden sm:inline",children:"Hand Guide"})]})]})}),A.jsxs("div",{className:"w-full mx-auto flex-grow min-h-0 flex flex-col md:flex-row gap-4 overflow-hidden px-4",children:[A.jsx(z3,{ref:we,value:Ce.typedText,onValueChange:ft,snippet:e,languageAlias:i.prismAlias,charStates:Ce.charStates,currentIndex:Ce.currentIndex,isError:Ce.isError,isLoading:n,error:r,isPaused:Ce.isPaused,onRetry:()=>o(),className:"flex-grow h-full overflow-y-auto"}),j.length>1&&A.jsx("div",{className:"hidden md:flex flex-col gap-4 w-64 flex-shrink-0 h-full overflow-hidden",children:A.jsx(XH,{})})]}),l&&A.jsx("div",{className:"flex-shrink-0 w-full max-w-[1100px] mx-auto mt-2 mb-2 px-2",children:A.jsx(UH,{activeKey:Fe,isShiftActive:/[A-Z!@#$%^&*()_+{}|:"<>?~]/.test(Fe),showHandGuide:c})}),A.jsx($H,{isOpen:H,onClose:()=>{Ae?(Y(!1),O()):ct()},onPracticeSame:ct,onNewSnippet:Jt,onViewProgress:()=>{Y(!1),m("dashboard")},isCustomSession:v,lastPracticeAction:x,stats:be,isEarlyExit:Ae,onNextSnippet:un,hasNextSnippet:j.length>1&&T<j.length-1,sessionErrorMap:be.errorMap,sessionAttemptMap:be.attemptMap,saveStatus:We}),A.jsx(FH,{isOpen:te,onClose:()=>{ce(!1),O()},stats:be,onPracticeAgain:ct,onReturnToDashboard:()=>{ce(!1),m("dashboard")},sessionErrorMap:be.errorMap,sessionAttemptMap:be.attemptMap})]})},ZH=({isOpen:t,onClose:e,onSave:n,currentWpmGoal:r,currentAccuracyGoal:i,currentTimeGoal:o})=>{const[l,c]=q.useState(String(r)),[f,h]=q.useState(String(i)),[p,m]=q.useState(String(o));q.useEffect(()=>{t&&(c(String(r)),h(String(i)),m(String(o)))},[t,r,i,o]);const v=()=>{const _=parseInt(l,10)||0,S=parseInt(f,10)||0,w=parseInt(p,10)||0;n(_,S,w)};return A.jsx(Rc,{isOpen:t,onClose:e,title:"Edit Your Goals",children:A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{htmlFor:"time-goal",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Daily Time Goal (Minutes)"}),A.jsx("input",{id:"time-goal",type:"number",min:"0",value:p,onChange:_=>m(_.target.value),className:"w-full p-2 bg-slate-100 dark:bg-slate-600 dark:text-slate-50 dark:placeholder-slate-400 border border-slate-300 dark:border-slate-400 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"e.g., 15"})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{htmlFor:"wpm-goal",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"WPM Goal"}),A.jsx("input",{id:"wpm-goal",type:"number",value:l,onChange:_=>c(_.target.value),className:"w-full p-2 bg-slate-100 dark:bg-slate-600 dark:text-slate-50 dark:placeholder-slate-400 border border-slate-300 dark:border-slate-400 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"e.g., 80"})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{htmlFor:"accuracy-goal",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Accuracy Goal (%)"}),A.jsx("input",{id:"accuracy-goal",type:"number",min:"0",max:"100",value:f,onChange:_=>h(_.target.value),className:"w-full p-2 bg-slate-100 dark:bg-slate-600 dark:text-slate-50 dark:placeholder-slate-400 border border-slate-300 dark:border-slate-400 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"e.g., 99"})]}),A.jsxs("div",{className:"flex justify-end items-center gap-2 mt-4",children:[A.jsx(et,{variant:"ghost",onClick:e,children:"Cancel"}),A.jsx(et,{onClick:v,children:"Save Goals"})]})]})})},JH=t=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[A.jsx("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"}),A.jsx("path",{d:"m15 5 4 4"})]}),Zf=q.forwardRef(({options:t,selectedValue:e,onSelect:n,disabled:r=!1,accessKeyChars:i},o)=>{const l=q.useContext(Hn),c=f=>{if(r)return;const h=t.findIndex(p=>p.value===e);if(f.key==="ArrowRight"){f.preventDefault();const p=(h+1)%t.length;n(t[p].value)}else if(f.key==="ArrowLeft"){f.preventDefault();const p=(h-1+t.length)%t.length;n(t[p].value)}};return A.jsx("div",{ref:o,role:"group",tabIndex:r?-1:0,className:"flex justify-center items-center gap-1 bg-slate-200 dark:bg-slate-700 p-1 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-slate-900",onKeyDown:c,children:t.map(({label:f,value:h},p)=>A.jsxs(et,{variant:e===h?"primary":"ghost",size:"sm",className:`relative ${e===h?"":"text-gray-600 dark:text-gray-300"}`,onClick:()=>n(h),disabled:r,tabIndex:-1,children:[(l==null?void 0:l.isAccessKeyMenuVisible)&&(i==null?void 0:i[p])&&A.jsx(tE,{label:i[p]}),f]},h))})});function H3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=H3(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function bt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=H3(t))&&(r&&(r+=" "),r+=e);return r}var lb,mR;function Vr(){if(mR)return lb;mR=1;var t=Array.isArray;return lb=t,lb}var ub,gR;function G3(){if(gR)return ub;gR=1;var t=typeof Hp=="object"&&Hp&&Hp.Object===Object&&Hp;return ub=t,ub}var cb,yR;function xa(){if(yR)return cb;yR=1;var t=G3(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return cb=n,cb}var fb,vR;function vd(){if(vR)return fb;vR=1;var t=xa(),e=t.Symbol;return fb=e,fb}var hb,bR;function eG(){if(bR)return hb;bR=1;var t=vd(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function o(l){var c=n.call(l,i),f=l[i];try{l[i]=void 0;var h=!0}catch{}var p=r.call(l);return h&&(c?l[i]=f:delete l[i]),p}return hb=o,hb}var db,_R;function tG(){if(_R)return db;_R=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return db=n,db}var pb,xR;function fo(){if(xR)return pb;xR=1;var t=vd(),e=eG(),n=tG(),r="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function l(c){return c==null?c===void 0?i:r:o&&o in Object(c)?e(c):n(c)}return pb=l,pb}var mb,wR;function ho(){if(wR)return mb;wR=1;function t(e){return e!=null&&typeof e=="object"}return mb=t,mb}var gb,SR;function Pc(){if(SR)return gb;SR=1;var t=fo(),e=ho(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return gb=r,gb}var yb,AR;function nE(){if(AR)return yb;AR=1;var t=Vr(),e=Pc(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,l){if(t(o))return!1;var c=typeof o;return c=="number"||c=="symbol"||c=="boolean"||o==null||e(o)?!0:r.test(o)||!n.test(o)||l!=null&&o in Object(l)}return yb=i,yb}var vb,ER;function _s(){if(ER)return vb;ER=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return vb=t,vb}var bb,TR;function rE(){if(TR)return bb;TR=1;var t=fo(),e=_s(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function l(c){if(!e(c))return!1;var f=t(c);return f==r||f==i||f==n||f==o}return bb=l,bb}var _b,OR;function nG(){if(OR)return _b;OR=1;var t=xa(),e=t["__core-js_shared__"];return _b=e,_b}var xb,CR;function rG(){if(CR)return xb;CR=1;var t=nG(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return xb=n,xb}var wb,IR;function K3(){if(IR)return wb;IR=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return wb=n,wb}var Sb,RR;function iG(){if(RR)return Sb;RR=1;var t=rE(),e=rG(),n=_s(),r=K3(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,f=l.toString,h=c.hasOwnProperty,p=RegExp("^"+f.call(h).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(v){if(!n(v)||e(v))return!1;var _=t(v)?p:o;return _.test(r(v))}return Sb=m,Sb}var Ab,PR;function aG(){if(PR)return Ab;PR=1;function t(e,n){return e==null?void 0:e[n]}return Ab=t,Ab}var Eb,NR;function Pl(){if(NR)return Eb;NR=1;var t=iG(),e=aG();function n(r,i){var o=e(r,i);return t(o)?o:void 0}return Eb=n,Eb}var Tb,MR;function cy(){if(MR)return Tb;MR=1;var t=Pl(),e=t(Object,"create");return Tb=e,Tb}var Ob,kR;function oG(){if(kR)return Ob;kR=1;var t=cy();function e(){this.__data__=t?t(null):{},this.size=0}return Ob=e,Ob}var Cb,jR;function sG(){if(jR)return Cb;jR=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return Cb=t,Cb}var Ib,DR;function lG(){if(DR)return Ib;DR=1;var t=cy(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var l=this.__data__;if(t){var c=l[o];return c===e?void 0:c}return r.call(l,o)?l[o]:void 0}return Ib=i,Ib}var Rb,LR;function uG(){if(LR)return Rb;LR=1;var t=cy(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var o=this.__data__;return t?o[i]!==void 0:n.call(o,i)}return Rb=r,Rb}var Pb,VR;function cG(){if(VR)return Pb;VR=1;var t=cy(),e="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=t&&i===void 0?e:i,this}return Pb=n,Pb}var Nb,UR;function fG(){if(UR)return Nb;UR=1;var t=oG(),e=sG(),n=lG(),r=uG(),i=cG();function o(l){var c=-1,f=l==null?0:l.length;for(this.clear();++c<f;){var h=l[c];this.set(h[0],h[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Nb=o,Nb}var Mb,BR;function hG(){if(BR)return Mb;BR=1;function t(){this.__data__=[],this.size=0}return Mb=t,Mb}var kb,$R;function iE(){if($R)return kb;$R=1;function t(e,n){return e===n||e!==e&&n!==n}return kb=t,kb}var jb,qR;function fy(){if(qR)return jb;qR=1;var t=iE();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return jb=e,jb}var Db,zR;function dG(){if(zR)return Db;zR=1;var t=fy(),e=Array.prototype,n=e.splice;function r(i){var o=this.__data__,l=t(o,i);if(l<0)return!1;var c=o.length-1;return l==c?o.pop():n.call(o,l,1),--this.size,!0}return Db=r,Db}var Lb,FR;function pG(){if(FR)return Lb;FR=1;var t=fy();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return Lb=e,Lb}var Vb,HR;function mG(){if(HR)return Vb;HR=1;var t=fy();function e(n){return t(this.__data__,n)>-1}return Vb=e,Vb}var Ub,GR;function gG(){if(GR)return Ub;GR=1;var t=fy();function e(n,r){var i=this.__data__,o=t(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return Ub=e,Ub}var Bb,KR;function hy(){if(KR)return Bb;KR=1;var t=hG(),e=dG(),n=pG(),r=mG(),i=gG();function o(l){var c=-1,f=l==null?0:l.length;for(this.clear();++c<f;){var h=l[c];this.set(h[0],h[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Bb=o,Bb}var $b,WR;function aE(){if(WR)return $b;WR=1;var t=Pl(),e=xa(),n=t(e,"Map");return $b=n,$b}var qb,YR;function yG(){if(YR)return qb;YR=1;var t=fG(),e=hy(),n=aE();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return qb=r,qb}var zb,XR;function vG(){if(XR)return zb;XR=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return zb=t,zb}var Fb,QR;function dy(){if(QR)return Fb;QR=1;var t=vG();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return Fb=e,Fb}var Hb,ZR;function bG(){if(ZR)return Hb;ZR=1;var t=dy();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return Hb=e,Hb}var Gb,JR;function _G(){if(JR)return Gb;JR=1;var t=dy();function e(n){return t(this,n).get(n)}return Gb=e,Gb}var Kb,eP;function xG(){if(eP)return Kb;eP=1;var t=dy();function e(n){return t(this,n).has(n)}return Kb=e,Kb}var Wb,tP;function wG(){if(tP)return Wb;tP=1;var t=dy();function e(n,r){var i=t(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return Wb=e,Wb}var Yb,nP;function oE(){if(nP)return Yb;nP=1;var t=yG(),e=bG(),n=_G(),r=xG(),i=wG();function o(l){var c=-1,f=l==null?0:l.length;for(this.clear();++c<f;){var h=l[c];this.set(h[0],h[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,Yb=o,Yb}var Xb,rP;function W3(){if(rP)return Xb;rP=1;var t=oE(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var l=arguments,c=i?i.apply(this,l):l[0],f=o.cache;if(f.has(c))return f.get(c);var h=r.apply(this,l);return o.cache=f.set(c,h)||f,h};return o.cache=new(n.Cache||t),o}return n.Cache=t,Xb=n,Xb}var Qb,iP;function SG(){if(iP)return Qb;iP=1;var t=W3(),e=500;function n(r){var i=t(r,function(l){return o.size===e&&o.clear(),l}),o=i.cache;return i}return Qb=n,Qb}var Zb,aP;function AG(){if(aP)return Zb;aP=1;var t=SG(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(l,c,f,h){o.push(f?h.replace(n,"$1"):c||l)}),o});return Zb=r,Zb}var Jb,oP;function sE(){if(oP)return Jb;oP=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=Array(i);++r<i;)o[r]=n(e[r],r,e);return o}return Jb=t,Jb}var e_,sP;function EG(){if(sP)return e_;sP=1;var t=vd(),e=sE(),n=Vr(),r=Pc(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function l(c){if(typeof c=="string")return c;if(n(c))return e(c,l)+"";if(r(c))return o?o.call(c):"";var f=c+"";return f=="0"&&1/c==-1/0?"-0":f}return e_=l,e_}var t_,lP;function Y3(){if(lP)return t_;lP=1;var t=EG();function e(n){return n==null?"":t(n)}return t_=e,t_}var n_,uP;function X3(){if(uP)return n_;uP=1;var t=Vr(),e=nE(),n=AG(),r=Y3();function i(o,l){return t(o)?o:e(o,l)?[o]:n(r(o))}return n_=i,n_}var r_,cP;function py(){if(cP)return r_;cP=1;var t=Pc();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return r_=e,r_}var i_,fP;function lE(){if(fP)return i_;fP=1;var t=X3(),e=py();function n(r,i){i=t(i,r);for(var o=0,l=i.length;r!=null&&o<l;)r=r[e(i[o++])];return o&&o==l?r:void 0}return i_=n,i_}var a_,hP;function Q3(){if(hP)return a_;hP=1;var t=lE();function e(n,r,i){var o=n==null?void 0:t(n,r);return o===void 0?i:o}return a_=e,a_}var TG=Q3();const Jr=qt(TG);var o_,dP;function OG(){if(dP)return o_;dP=1;function t(e){return e==null}return o_=t,o_}var CG=OG();const lt=qt(CG);var s_,pP;function IG(){if(pP)return s_;pP=1;var t=fo(),e=Vr(),n=ho(),r="[object String]";function i(o){return typeof o=="string"||!e(o)&&n(o)&&t(o)==r}return s_=i,s_}var RG=IG();const Sl=qt(RG);var PG=rE();const it=qt(PG);var NG=_s();const Nc=qt(NG);var l_={exports:{}},Ut={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mP;function MG(){if(mP)return Ut;mP=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),S;S=Symbol.for("react.module.reference");function w(x){if(typeof x=="object"&&x!==null){var I=x.$$typeof;switch(I){case t:switch(x=x.type,x){case n:case i:case r:case h:case p:return x;default:switch(x=x&&x.$$typeof,x){case c:case l:case f:case v:case m:case o:return x;default:return I}}case e:return I}}}return Ut.ContextConsumer=l,Ut.ContextProvider=o,Ut.Element=t,Ut.ForwardRef=f,Ut.Fragment=n,Ut.Lazy=v,Ut.Memo=m,Ut.Portal=e,Ut.Profiler=i,Ut.StrictMode=r,Ut.Suspense=h,Ut.SuspenseList=p,Ut.isAsyncMode=function(){return!1},Ut.isConcurrentMode=function(){return!1},Ut.isContextConsumer=function(x){return w(x)===l},Ut.isContextProvider=function(x){return w(x)===o},Ut.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===t},Ut.isForwardRef=function(x){return w(x)===f},Ut.isFragment=function(x){return w(x)===n},Ut.isLazy=function(x){return w(x)===v},Ut.isMemo=function(x){return w(x)===m},Ut.isPortal=function(x){return w(x)===e},Ut.isProfiler=function(x){return w(x)===i},Ut.isStrictMode=function(x){return w(x)===r},Ut.isSuspense=function(x){return w(x)===h},Ut.isSuspenseList=function(x){return w(x)===p},Ut.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===n||x===i||x===r||x===h||x===p||x===_||typeof x=="object"&&x!==null&&(x.$$typeof===v||x.$$typeof===m||x.$$typeof===o||x.$$typeof===l||x.$$typeof===f||x.$$typeof===S||x.getModuleId!==void 0)},Ut.typeOf=w,Ut}var gP;function kG(){return gP||(gP=1,l_.exports=MG()),l_.exports}var jG=kG(),u_,yP;function Z3(){if(yP)return u_;yP=1;var t=fo(),e=ho(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return u_=r,u_}var c_,vP;function DG(){if(vP)return c_;vP=1;var t=Z3();function e(n){return t(n)&&n!=+n}return c_=e,c_}var LG=DG();const bd=qt(LG);var VG=Z3();const UG=qt(VG);var xr=function(e){return e===0?0:e>0?1:-1},ul=function(e){return Sl(e)&&e.indexOf("%")===e.length-1},Ee=function(e){return UG(e)&&!bd(e)},BG=function(e){return lt(e)},zn=function(e){return Ee(e)||Sl(e)},$G=0,Mc=function(e){var n=++$G;return"".concat(e||"").concat(n)},wr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ee(e)&&!Sl(e))return r;var o;if(ul(e)){var l=e.indexOf("%");o=n*parseFloat(e.slice(0,l))/100}else o=+e;return bd(o)&&(o=r),i&&o>n&&(o=n),o},ns=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},qG=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Xr=function(e,n){return Ee(e)&&Ee(n)?function(r){return e+r*(n-e)}:function(){return n}};function Fm(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Jr(r,e))===n})}var zG=function(e,n){return Ee(e)&&Ee(n)?e-n:Sl(e)&&Sl(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Bu(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function U1(t){"@babel/helpers - typeof";return U1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U1(t)}var FG=["viewBox","children"],HG=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],bP=["points","pathLength"],f_={svg:FG,polygon:bP,polyline:bP},uE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Hm=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(q.isValidElement(e)&&(r=e.props),!Nc(r))return null;var i={};return Object.keys(r).forEach(function(o){uE.includes(o)&&(i[o]=n||function(l){return r[o](r,l)})}),i},GG=function(e,n,r){return function(i){return e(n,r,i),null}},Al=function(e,n,r){if(!Nc(e)||U1(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var l=e[o];uE.includes(o)&&typeof l=="function"&&(i||(i={}),i[o]=GG(l,n,r))}),i},KG=["children"],WG=["children"];function _P(t,e){if(t==null)return{};var n=YG(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YG(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function B1(t){"@babel/helpers - typeof";return B1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B1(t)}var xP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},eo=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},wP=null,h_=null,cE=function t(e){if(e===wP&&Array.isArray(h_))return h_;var n=[];return q.Children.forEach(e,function(r){lt(r)||(jG.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),h_=n,wP=e,n};function ei(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return eo(i)}):r=[eo(e)],cE(t).forEach(function(i){var o=Jr(i,"type.displayName")||Jr(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Wr(t,e){var n=ei(t,e);return n&&n[0]}var SP=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Ee(r)||r<=0||!Ee(i)||i<=0)},XG=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],QG=function(e){return e&&e.type&&Sl(e.type)&&XG.indexOf(e.type)>=0},ZG=function(e){return e&&B1(e)==="object"&&"clipDot"in e},JG=function(e,n,r,i){var o,l=(o=f_==null?void 0:f_[i])!==null&&o!==void 0?o:[];return n.startsWith("data-")||!it(e)&&(i&&l.includes(n)||HG.includes(n))||r&&uE.includes(n)},Ye=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(q.isValidElement(e)&&(i=e.props),!Nc(i))return null;var o={};return Object.keys(i).forEach(function(l){var c;JG((c=i)===null||c===void 0?void 0:c[l],l,n,r)&&(o[l]=i[l])}),o},$1=function t(e,n){if(e===n)return!0;var r=q.Children.count(e);if(r!==q.Children.count(n))return!1;if(r===0)return!0;if(r===1)return AP(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],l=n[i];if(Array.isArray(o)||Array.isArray(l)){if(!t(o,l))return!1}else if(!AP(o,l))return!1}return!0},AP=function(e,n){if(lt(e)&&lt(n))return!0;if(!lt(e)&&!lt(n)){var r=e.props||{},i=r.children,o=_P(r,KG),l=n.props||{},c=l.children,f=_P(l,WG);return i&&c?Bu(o,f)&&$1(i,c):!i&&!c?Bu(o,f):!1}return!1},EP=function(e,n){var r=[],i={};return cE(e).forEach(function(o,l){if(QG(o))r.push(o);else if(o){var c=eo(o.type),f=n[c]||{},h=f.handler,p=f.once;if(h&&(!p||!i[c])){var m=h(o,c,l);r.push(m),i[c]=!0}}}),r},eK=function(e){var n=e&&e.type;return n&&xP[n]?xP[n]:null},tK=function(e,n){return cE(n).indexOf(e)},nK=["children","width","height","viewBox","className","style","title","desc"];function q1(){return q1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q1.apply(this,arguments)}function rK(t,e){if(t==null)return{};var n=iK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function z1(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,l=t.style,c=t.title,f=t.desc,h=rK(t,nK),p=i||{width:n,height:r,x:0,y:0},m=bt("recharts-surface",o);return K.createElement("svg",q1({},Ye(h,!0,"svg"),{className:m,width:n,height:r,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),K.createElement("title",null,c),K.createElement("desc",null,f),e)}var aK=["children","className"];function F1(){return F1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F1.apply(this,arguments)}function oK(t,e){if(t==null)return{};var n=sK(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function sK(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var jt=K.forwardRef(function(t,e){var n=t.children,r=t.className,i=oK(t,aK),o=bt("recharts-layer",r);return K.createElement("g",F1({className:o},Ye(i,!0),{ref:e}),n)}),Gi=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]},d_,TP;function lK(){if(TP)return d_;TP=1;function t(e,n,r){var i=-1,o=e.length;n<0&&(n=-n>o?0:o+n),r=r>o?o:r,r<0&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0;for(var l=Array(o);++i<o;)l[i]=e[i+n];return l}return d_=t,d_}var p_,OP;function uK(){if(OP)return p_;OP=1;var t=lK();function e(n,r,i){var o=n.length;return i=i===void 0?o:i,!r&&i>=o?n:t(n,r,i)}return p_=e,p_}var m_,CP;function J3(){if(CP)return m_;CP=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",l="\\u200d",c=RegExp("["+l+t+i+o+"]");function f(h){return c.test(h)}return m_=f,m_}var g_,IP;function cK(){if(IP)return g_;IP=1;function t(e){return e.split("")}return g_=t,g_}var y_,RP;function fK(){if(RP)return y_;RP=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",l="["+t+"]",c="["+i+"]",f="\\ud83c[\\udffb-\\udfff]",h="(?:"+c+"|"+f+")",p="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",_="\\u200d",S=h+"?",w="["+o+"]?",x="(?:"+_+"(?:"+[p,m,v].join("|")+")"+w+S+")*",I=w+S+x,N="(?:"+[p+c+"?",c,m,v,l].join("|")+")",M=RegExp(f+"(?="+f+")|"+N+I,"g");function V(O){return O.match(M)||[]}return y_=V,y_}var v_,PP;function hK(){if(PP)return v_;PP=1;var t=cK(),e=J3(),n=fK();function r(i){return e(i)?n(i):t(i)}return v_=r,v_}var b_,NP;function dK(){if(NP)return b_;NP=1;var t=uK(),e=J3(),n=hK(),r=Y3();function i(o){return function(l){l=r(l);var c=e(l)?n(l):void 0,f=c?c[0]:l.charAt(0),h=c?t(c,1).join(""):l.slice(1);return f[o]()+h}}return b_=i,b_}var __,MP;function pK(){if(MP)return __;MP=1;var t=dK(),e=t("toUpperCase");return __=e,__}var mK=pK();const my=qt(mK);function tn(t){return function(){return t}}const e6=Math.cos,Gm=Math.sin,Ki=Math.sqrt,Km=Math.PI,gy=2*Km,H1=Math.PI,G1=2*H1,il=1e-6,gK=G1-il;function t6(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function yK(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return t6;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class vK{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?t6:yK(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,l){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+l}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let l=this._x1,c=this._y1,f=r-e,h=i-n,p=l-e,m=c-n,v=p*p+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(v>il)if(!(Math.abs(m*f-h*p)>il)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-l,S=i-c,w=f*f+h*h,x=_*_+S*S,I=Math.sqrt(w),N=Math.sqrt(v),M=o*Math.tan((H1-Math.acos((w+v-x)/(2*I*N)))/2),V=M/N,O=M/I;Math.abs(V-1)>il&&this._append`L${e+V*p},${n+V*m}`,this._append`A${o},${o},0,0,${+(m*_>p*S)},${this._x1=e+O*f},${this._y1=n+O*h}`}}arc(e,n,r,i,o,l){if(e=+e,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),f=r*Math.sin(i),h=e+c,p=n+f,m=1^l,v=l?i-o:o-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>il||Math.abs(this._y1-p)>il)&&this._append`L${h},${p}`,r&&(v<0&&(v=v%G1+G1),v>gK?this._append`A${r},${r},0,1,${m},${e-c},${n-f}A${r},${r},0,1,${m},${this._x1=h},${this._y1=p}`:v>il&&this._append`A${r},${r},0,${+(v>=H1)},${m},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function fE(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new vK(e)}function hE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function n6(t){this._context=t}n6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function yy(t){return new n6(t)}function r6(t){return t[0]}function i6(t){return t[1]}function a6(t,e){var n=tn(!0),r=null,i=yy,o=null,l=fE(c);t=typeof t=="function"?t:t===void 0?r6:tn(t),e=typeof e=="function"?e:e===void 0?i6:tn(e);function c(f){var h,p=(f=hE(f)).length,m,v=!1,_;for(r==null&&(o=i(_=l())),h=0;h<=p;++h)!(h<p&&n(m=f[h],h,f))===v&&((v=!v)?o.lineStart():o.lineEnd()),v&&o.point(+t(m,h,f),+e(m,h,f));if(_)return o=null,_+""||null}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:tn(+f),c):t},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:tn(+f),c):e},c.defined=function(f){return arguments.length?(n=typeof f=="function"?f:tn(!!f),c):n},c.curve=function(f){return arguments.length?(i=f,r!=null&&(o=i(r)),c):i},c.context=function(f){return arguments.length?(f==null?r=o=null:o=i(r=f),c):r},c}function Zp(t,e,n){var r=null,i=tn(!0),o=null,l=yy,c=null,f=fE(h);t=typeof t=="function"?t:t===void 0?r6:tn(+t),e=typeof e=="function"?e:tn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?i6:tn(+n);function h(m){var v,_,S,w=(m=hE(m)).length,x,I=!1,N,M=new Array(w),V=new Array(w);for(o==null&&(c=l(N=f())),v=0;v<=w;++v){if(!(v<w&&i(x=m[v],v,m))===I)if(I=!I)_=v,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),S=v-1;S>=_;--S)c.point(M[S],V[S]);c.lineEnd(),c.areaEnd()}I&&(M[v]=+t(x,v,m),V[v]=+e(x,v,m),c.point(r?+r(x,v,m):M[v],n?+n(x,v,m):V[v]))}if(N)return c=null,N+""||null}function p(){return a6().defined(i).curve(l).context(o)}return h.x=function(m){return arguments.length?(t=typeof m=="function"?m:tn(+m),r=null,h):t},h.x0=function(m){return arguments.length?(t=typeof m=="function"?m:tn(+m),h):t},h.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:tn(+m),h):r},h.y=function(m){return arguments.length?(e=typeof m=="function"?m:tn(+m),n=null,h):e},h.y0=function(m){return arguments.length?(e=typeof m=="function"?m:tn(+m),h):e},h.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:tn(+m),h):n},h.lineX0=h.lineY0=function(){return p().x(t).y(e)},h.lineY1=function(){return p().x(t).y(n)},h.lineX1=function(){return p().x(r).y(e)},h.defined=function(m){return arguments.length?(i=typeof m=="function"?m:tn(!!m),h):i},h.curve=function(m){return arguments.length?(l=m,o!=null&&(c=l(o)),h):l},h.context=function(m){return arguments.length?(m==null?o=c=null:c=l(o=m),h):o},h}class o6{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function bK(t){return new o6(t,!0)}function _K(t){return new o6(t,!1)}const dE={draw(t,e){const n=Ki(e/Km);t.moveTo(n,0),t.arc(0,0,n,0,gy)}},xK={draw(t,e){const n=Ki(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},s6=Ki(1/3),wK=s6*2,SK={draw(t,e){const n=Ki(e/wK),r=n*s6;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},AK={draw(t,e){const n=Ki(e),r=-n/2;t.rect(r,r,n,n)}},EK=.8908130915292852,l6=Gm(Km/10)/Gm(7*Km/10),TK=Gm(gy/10)*l6,OK=-e6(gy/10)*l6,CK={draw(t,e){const n=Ki(e*EK),r=TK*n,i=OK*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const l=gy*o/5,c=e6(l),f=Gm(l);t.lineTo(f*n,-c*n),t.lineTo(c*r-f*i,f*r+c*i)}t.closePath()}},x_=Ki(3),IK={draw(t,e){const n=-Ki(e/(x_*3));t.moveTo(0,n*2),t.lineTo(-x_*n,-n),t.lineTo(x_*n,-n),t.closePath()}},_i=-.5,xi=Ki(3)/2,K1=1/Ki(12),RK=(K1/2+1)*3,PK={draw(t,e){const n=Ki(e/RK),r=n/2,i=n*K1,o=r,l=n*K1+n,c=-o,f=l;t.moveTo(r,i),t.lineTo(o,l),t.lineTo(c,f),t.lineTo(_i*r-xi*i,xi*r+_i*i),t.lineTo(_i*o-xi*l,xi*o+_i*l),t.lineTo(_i*c-xi*f,xi*c+_i*f),t.lineTo(_i*r+xi*i,_i*i-xi*r),t.lineTo(_i*o+xi*l,_i*l-xi*o),t.lineTo(_i*c+xi*f,_i*f-xi*c),t.closePath()}};function NK(t,e){let n=null,r=fE(i);t=typeof t=="function"?t:tn(t||dE),e=typeof e=="function"?e:tn(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:tn(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:tn(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Wm(){}function Ym(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function u6(t){this._context=t}u6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ym(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ym(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function MK(t){return new u6(t)}function c6(t){this._context=t}c6.prototype={areaStart:Wm,areaEnd:Wm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ym(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function kK(t){return new c6(t)}function f6(t){this._context=t}f6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ym(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function jK(t){return new f6(t)}function h6(t){this._context=t}h6.prototype={areaStart:Wm,areaEnd:Wm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function DK(t){return new h6(t)}function kP(t){return t<0?-1:1}function jP(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),l=(n-t._y1)/(i||r<0&&-0),c=(o*i+l*r)/(r+i);return(kP(o)+kP(l))*Math.min(Math.abs(o),Math.abs(l),.5*Math.abs(c))||0}function DP(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function w_(t,e,n){var r=t._x0,i=t._y0,o=t._x1,l=t._y1,c=(o-r)/3;t._context.bezierCurveTo(r+c,i+c*e,o-c,l-c*n,o,l)}function Xm(t){this._context=t}Xm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:w_(this,this._t0,DP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,w_(this,DP(this,n=jP(this,t,e)),n);break;default:w_(this,this._t0,n=jP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function d6(t){this._context=new p6(t)}(d6.prototype=Object.create(Xm.prototype)).point=function(t,e){Xm.prototype.point.call(this,e,t)};function p6(t){this._context=t}p6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function LK(t){return new Xm(t)}function VK(t){return new d6(t)}function m6(t){this._context=t}m6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=LP(t),i=LP(e),o=0,l=1;l<n;++o,++l)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[l],e[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function LP(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),l=new Array(n);for(i[0]=0,o[0]=2,l[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,l[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,l[e]-=r*l[e-1];for(i[n-1]=l[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(l[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function UK(t){return new m6(t)}function vy(t,e){this._context=t,this._t=e}vy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function BK(t){return new vy(t,.5)}function $K(t){return new vy(t,0)}function qK(t){return new vy(t,1)}function Qu(t,e){if((l=t.length)>1)for(var n=1,r,i,o=t[e[0]],l,c=o.length;n<l;++n)for(i=o,o=t[e[n]],r=0;r<c;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function W1(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function zK(t,e){return t[e]}function FK(t){const e=[];return e.key=t,e}function HK(){var t=tn([]),e=W1,n=Qu,r=zK;function i(o){var l=Array.from(t.apply(this,arguments),FK),c,f=l.length,h=-1,p;for(const m of o)for(c=0,++h;c<f;++c)(l[c][h]=[0,+r(m,l[c].key,h,o)]).data=m;for(c=0,p=hE(e(l));c<f;++c)l[p[c]].index=c;return n(l,p),l}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:tn(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:tn(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?W1:typeof o=="function"?o:tn(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Qu,i):n},i}function GK(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,l;i<o;++i){for(l=n=0;n<r;++n)l+=t[n][i][1]||0;if(l)for(n=0;n<r;++n)t[n][i][1]/=l}Qu(t,e)}}function KK(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var l=0,c=0;l<i;++l)c+=t[l][n][1]||0;r[n][1]+=r[n][0]=-c/2}Qu(t,e)}}function WK(t,e){if(!(!((l=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,l;r<o;++r){for(var c=0,f=0,h=0;c<l;++c){for(var p=t[e[c]],m=p[r][1]||0,v=p[r-1][1]||0,_=(m-v)/2,S=0;S<c;++S){var w=t[e[S]],x=w[r][1]||0,I=w[r-1][1]||0;_+=x-I}f+=m,h+=_*m}i[r-1][1]+=i[r-1][0]=n,f&&(n-=h/f)}i[r-1][1]+=i[r-1][0]=n,Qu(t,e)}}function Th(t){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}var YK=["type","size","sizeType"];function Y1(){return Y1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y1.apply(this,arguments)}function VP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VP(Object(n),!0).forEach(function(r){XK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XK(t,e,n){return e=QK(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QK(t){var e=ZK(t,"string");return Th(e)=="symbol"?e:e+""}function ZK(t,e){if(Th(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JK(t,e){if(t==null)return{};var n=eW(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eW(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var g6={symbolCircle:dE,symbolCross:xK,symbolDiamond:SK,symbolSquare:AK,symbolStar:CK,symbolTriangle:IK,symbolWye:PK},tW=Math.PI/180,nW=function(e){var n="symbol".concat(my(e));return g6[n]||dE},rW=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*tW;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},iW=function(e,n){g6["symbol".concat(my(e))]=n},pE=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,l=e.sizeType,c=l===void 0?"area":l,f=JK(e,YK),h=UP(UP({},f),{},{type:r,size:o,sizeType:c}),p=function(){var x=nW(r),I=NK().type(x).size(rW(o,c,r));return I()},m=h.className,v=h.cx,_=h.cy,S=Ye(h,!0);return v===+v&&_===+_&&o===+o?K.createElement("path",Y1({},S,{className:bt("recharts-symbols",m),transform:"translate(".concat(v,", ").concat(_,")"),d:p()})):null};pE.registerSymbol=iW;function Zu(t){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zu(t)}function X1(){return X1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X1.apply(this,arguments)}function BP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BP(Object(n),!0).forEach(function(r){Oh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,v6(r.key),r)}}function lW(t,e,n){return e&&sW(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uW(t,e,n){return e=Qm(e),cW(t,y6()?Reflect.construct(e,n||[],Qm(t).constructor):e.apply(t,n))}function cW(t,e){if(e&&(Zu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fW(t)}function fW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y6=function(){return!!t})()}function Qm(t){return Qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qm(t)}function hW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q1(t,e)}function Q1(t,e){return Q1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Q1(t,e)}function Oh(t,e,n){return e=v6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v6(t){var e=dW(t,"string");return Zu(e)=="symbol"?e:e+""}function dW(t,e){if(Zu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wi=32,mE=(function(t){function e(){return oW(this,e),uW(this,e,arguments)}return hW(e,t),lW(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=wi/2,l=wi/6,c=wi/3,f=r.inactive?i:r.color;if(r.type==="plainline")return K.createElement("line",{strokeWidth:4,fill:"none",stroke:f,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:wi,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return K.createElement("path",{strokeWidth:4,fill:"none",stroke:f,d:"M0,".concat(o,"h").concat(c,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*c,",").concat(o,`
            H`).concat(wi,"M").concat(2*c,",").concat(o,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(c,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return K.createElement("path",{stroke:"none",fill:f,d:"M0,".concat(wi/8,"h").concat(wi,"v").concat(wi*3/4,"h").concat(-wi,"z"),className:"recharts-legend-icon"});if(K.isValidElement(r.legendIcon)){var h=aW({},r);return delete h.legendIcon,K.cloneElement(r.legendIcon,h)}return K.createElement(pE,{fill:f,cx:o,cy:o,size:wi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,l=i.iconSize,c=i.layout,f=i.formatter,h=i.inactiveColor,p={x:0,y:0,width:wi,height:wi},m={display:c==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(_,S){var w=_.formatter||f,x=bt(Oh(Oh({"recharts-legend-item":!0},"legend-item-".concat(S),!0),"inactive",_.inactive));if(_.type==="none")return null;var I=it(_.value)?null:_.value;Gi(!it(_.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var N=_.inactive?h:_.color;return K.createElement("li",X1({className:x,style:m,key:"legend-item-".concat(S)},Al(r.props,_,S)),K.createElement(z1,{width:l,height:l,viewBox:p,style:v},r.renderIcon(_)),K.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},w?w(I,_,S):I))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,l=r.align;if(!i||!i.length)return null;var c={padding:0,margin:0,textAlign:o==="horizontal"?l:"left"};return K.createElement("ul",{className:"recharts-default-legend",style:c},this.renderItems())}}])})(q.PureComponent);Oh(mE,"displayName","Legend");Oh(mE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var S_,$P;function pW(){if($P)return S_;$P=1;var t=hy();function e(){this.__data__=new t,this.size=0}return S_=e,S_}var A_,qP;function mW(){if(qP)return A_;qP=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return A_=t,A_}var E_,zP;function gW(){if(zP)return E_;zP=1;function t(e){return this.__data__.get(e)}return E_=t,E_}var T_,FP;function yW(){if(FP)return T_;FP=1;function t(e){return this.__data__.has(e)}return T_=t,T_}var O_,HP;function vW(){if(HP)return O_;HP=1;var t=hy(),e=aE(),n=oE(),r=200;function i(o,l){var c=this.__data__;if(c instanceof t){var f=c.__data__;if(!e||f.length<r-1)return f.push([o,l]),this.size=++c.size,this;c=this.__data__=new n(f)}return c.set(o,l),this.size=c.size,this}return O_=i,O_}var C_,GP;function b6(){if(GP)return C_;GP=1;var t=hy(),e=pW(),n=mW(),r=gW(),i=yW(),o=vW();function l(c){var f=this.__data__=new t(c);this.size=f.size}return l.prototype.clear=e,l.prototype.delete=n,l.prototype.get=r,l.prototype.has=i,l.prototype.set=o,C_=l,C_}var I_,KP;function bW(){if(KP)return I_;KP=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return I_=e,I_}var R_,WP;function _W(){if(WP)return R_;WP=1;function t(e){return this.__data__.has(e)}return R_=t,R_}var P_,YP;function _6(){if(YP)return P_;YP=1;var t=oE(),e=bW(),n=_W();function r(i){var o=-1,l=i==null?0:i.length;for(this.__data__=new t;++o<l;)this.add(i[o])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,P_=r,P_}var N_,XP;function x6(){if(XP)return N_;XP=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return N_=t,N_}var M_,QP;function w6(){if(QP)return M_;QP=1;function t(e,n){return e.has(n)}return M_=t,M_}var k_,ZP;function S6(){if(ZP)return k_;ZP=1;var t=_6(),e=x6(),n=w6(),r=1,i=2;function o(l,c,f,h,p,m){var v=f&r,_=l.length,S=c.length;if(_!=S&&!(v&&S>_))return!1;var w=m.get(l),x=m.get(c);if(w&&x)return w==c&&x==l;var I=-1,N=!0,M=f&i?new t:void 0;for(m.set(l,c),m.set(c,l);++I<_;){var V=l[I],O=c[I];if(h)var j=v?h(O,V,I,c,l,m):h(V,O,I,l,c,m);if(j!==void 0){if(j)continue;N=!1;break}if(M){if(!e(c,function(T,R){if(!n(M,R)&&(V===T||p(V,T,f,h,m)))return M.push(R)})){N=!1;break}}else if(!(V===O||p(V,O,f,h,m))){N=!1;break}}return m.delete(l),m.delete(c),N}return k_=o,k_}var j_,JP;function xW(){if(JP)return j_;JP=1;var t=xa(),e=t.Uint8Array;return j_=e,j_}var D_,eN;function wW(){if(eN)return D_;eN=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,o){r[++n]=[o,i]}),r}return D_=t,D_}var L_,tN;function gE(){if(tN)return L_;tN=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return L_=t,L_}var V_,nN;function SW(){if(nN)return V_;nN=1;var t=vd(),e=xW(),n=iE(),r=S6(),i=wW(),o=gE(),l=1,c=2,f="[object Boolean]",h="[object Date]",p="[object Error]",m="[object Map]",v="[object Number]",_="[object RegExp]",S="[object Set]",w="[object String]",x="[object Symbol]",I="[object ArrayBuffer]",N="[object DataView]",M=t?t.prototype:void 0,V=M?M.valueOf:void 0;function O(j,T,R,P,U,D,B){switch(R){case N:if(j.byteLength!=T.byteLength||j.byteOffset!=T.byteOffset)return!1;j=j.buffer,T=T.buffer;case I:return!(j.byteLength!=T.byteLength||!D(new e(j),new e(T)));case f:case h:case v:return n(+j,+T);case p:return j.name==T.name&&j.message==T.message;case _:case w:return j==T+"";case m:var L=i;case S:var J=P&l;if(L||(L=o),j.size!=T.size&&!J)return!1;var Q=B.get(j);if(Q)return Q==T;P|=c,B.set(j,T);var H=r(L(j),L(T),P,U,D,B);return B.delete(j),H;case x:if(V)return V.call(j)==V.call(T)}return!1}return V_=O,V_}var U_,rN;function A6(){if(rN)return U_;rN=1;function t(e,n){for(var r=-1,i=n.length,o=e.length;++r<i;)e[o+r]=n[r];return e}return U_=t,U_}var B_,iN;function AW(){if(iN)return B_;iN=1;var t=A6(),e=Vr();function n(r,i,o){var l=i(r);return e(r)?l:t(l,o(r))}return B_=n,B_}var $_,aN;function EW(){if(aN)return $_;aN=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=0,l=[];++r<i;){var c=e[r];n(c,r,e)&&(l[o++]=c)}return l}return $_=t,$_}var q_,oN;function TW(){if(oN)return q_;oN=1;function t(){return[]}return q_=t,q_}var z_,sN;function OW(){if(sN)return z_;sN=1;var t=EW(),e=TW(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(l){return l==null?[]:(l=Object(l),t(i(l),function(c){return r.call(l,c)}))}:e;return z_=o,z_}var F_,lN;function CW(){if(lN)return F_;lN=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return F_=t,F_}var H_,uN;function IW(){if(uN)return H_;uN=1;var t=fo(),e=ho(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return H_=r,H_}var G_,cN;function yE(){if(cN)return G_;cN=1;var t=IW(),e=ho(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=t((function(){return arguments})())?t:function(l){return e(l)&&r.call(l,"callee")&&!i.call(l,"callee")};return G_=o,G_}var Jf={exports:{}},K_,fN;function RW(){if(fN)return K_;fN=1;function t(){return!1}return K_=t,K_}Jf.exports;var hN;function E6(){return hN||(hN=1,(function(t,e){var n=xa(),r=RW(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,l=o&&o.exports===i,c=l?n.Buffer:void 0,f=c?c.isBuffer:void 0,h=f||r;t.exports=h})(Jf,Jf.exports)),Jf.exports}var W_,dN;function vE(){if(dN)return W_;dN=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return W_=n,W_}var Y_,pN;function bE(){if(pN)return Y_;pN=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return Y_=e,Y_}var X_,mN;function PW(){if(mN)return X_;mN=1;var t=fo(),e=bE(),n=ho(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Function]",h="[object Map]",p="[object Number]",m="[object Object]",v="[object RegExp]",_="[object Set]",S="[object String]",w="[object WeakMap]",x="[object ArrayBuffer]",I="[object DataView]",N="[object Float32Array]",M="[object Float64Array]",V="[object Int8Array]",O="[object Int16Array]",j="[object Int32Array]",T="[object Uint8Array]",R="[object Uint8ClampedArray]",P="[object Uint16Array]",U="[object Uint32Array]",D={};D[N]=D[M]=D[V]=D[O]=D[j]=D[T]=D[R]=D[P]=D[U]=!0,D[r]=D[i]=D[x]=D[o]=D[I]=D[l]=D[c]=D[f]=D[h]=D[p]=D[m]=D[v]=D[_]=D[S]=D[w]=!1;function B(L){return n(L)&&e(L.length)&&!!D[t(L)]}return X_=B,X_}var Q_,gN;function T6(){if(gN)return Q_;gN=1;function t(e){return function(n){return e(n)}}return Q_=t,Q_}var eh={exports:{}};eh.exports;var yN;function NW(){return yN||(yN=1,(function(t,e){var n=G3(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,l=o&&n.process,c=(function(){try{var f=i&&i.require&&i.require("util").types;return f||l&&l.binding&&l.binding("util")}catch{}})();t.exports=c})(eh,eh.exports)),eh.exports}var Z_,vN;function O6(){if(vN)return Z_;vN=1;var t=PW(),e=T6(),n=NW(),r=n&&n.isTypedArray,i=r?e(r):t;return Z_=i,Z_}var J_,bN;function MW(){if(bN)return J_;bN=1;var t=CW(),e=yE(),n=Vr(),r=E6(),i=vE(),o=O6(),l=Object.prototype,c=l.hasOwnProperty;function f(h,p){var m=n(h),v=!m&&e(h),_=!m&&!v&&r(h),S=!m&&!v&&!_&&o(h),w=m||v||_||S,x=w?t(h.length,String):[],I=x.length;for(var N in h)(p||c.call(h,N))&&!(w&&(N=="length"||_&&(N=="offset"||N=="parent")||S&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||i(N,I)))&&x.push(N);return x}return J_=f,J_}var ex,_N;function kW(){if(_N)return ex;_N=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return ex=e,ex}var tx,xN;function C6(){if(xN)return tx;xN=1;function t(e,n){return function(r){return e(n(r))}}return tx=t,tx}var nx,wN;function jW(){if(wN)return nx;wN=1;var t=C6(),e=t(Object.keys,Object);return nx=e,nx}var rx,SN;function DW(){if(SN)return rx;SN=1;var t=kW(),e=jW(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!t(o))return e(o);var l=[];for(var c in Object(o))r.call(o,c)&&c!="constructor"&&l.push(c);return l}return rx=i,rx}var ix,AN;function _d(){if(AN)return ix;AN=1;var t=rE(),e=bE();function n(r){return r!=null&&e(r.length)&&!t(r)}return ix=n,ix}var ax,EN;function by(){if(EN)return ax;EN=1;var t=MW(),e=DW(),n=_d();function r(i){return n(i)?t(i):e(i)}return ax=r,ax}var ox,TN;function LW(){if(TN)return ox;TN=1;var t=AW(),e=OW(),n=by();function r(i){return t(i,n,e)}return ox=r,ox}var sx,ON;function VW(){if(ON)return sx;ON=1;var t=LW(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,l,c,f,h,p){var m=c&e,v=t(o),_=v.length,S=t(l),w=S.length;if(_!=w&&!m)return!1;for(var x=_;x--;){var I=v[x];if(!(m?I in l:r.call(l,I)))return!1}var N=p.get(o),M=p.get(l);if(N&&M)return N==l&&M==o;var V=!0;p.set(o,l),p.set(l,o);for(var O=m;++x<_;){I=v[x];var j=o[I],T=l[I];if(f)var R=m?f(T,j,I,l,o,p):f(j,T,I,o,l,p);if(!(R===void 0?j===T||h(j,T,c,f,p):R)){V=!1;break}O||(O=I=="constructor")}if(V&&!O){var P=o.constructor,U=l.constructor;P!=U&&"constructor"in o&&"constructor"in l&&!(typeof P=="function"&&P instanceof P&&typeof U=="function"&&U instanceof U)&&(V=!1)}return p.delete(o),p.delete(l),V}return sx=i,sx}var lx,CN;function UW(){if(CN)return lx;CN=1;var t=Pl(),e=xa(),n=t(e,"DataView");return lx=n,lx}var ux,IN;function BW(){if(IN)return ux;IN=1;var t=Pl(),e=xa(),n=t(e,"Promise");return ux=n,ux}var cx,RN;function I6(){if(RN)return cx;RN=1;var t=Pl(),e=xa(),n=t(e,"Set");return cx=n,cx}var fx,PN;function $W(){if(PN)return fx;PN=1;var t=Pl(),e=xa(),n=t(e,"WeakMap");return fx=n,fx}var hx,NN;function qW(){if(NN)return hx;NN=1;var t=UW(),e=aE(),n=BW(),r=I6(),i=$W(),o=fo(),l=K3(),c="[object Map]",f="[object Object]",h="[object Promise]",p="[object Set]",m="[object WeakMap]",v="[object DataView]",_=l(t),S=l(e),w=l(n),x=l(r),I=l(i),N=o;return(t&&N(new t(new ArrayBuffer(1)))!=v||e&&N(new e)!=c||n&&N(n.resolve())!=h||r&&N(new r)!=p||i&&N(new i)!=m)&&(N=function(M){var V=o(M),O=V==f?M.constructor:void 0,j=O?l(O):"";if(j)switch(j){case _:return v;case S:return c;case w:return h;case x:return p;case I:return m}return V}),hx=N,hx}var dx,MN;function zW(){if(MN)return dx;MN=1;var t=b6(),e=S6(),n=SW(),r=VW(),i=qW(),o=Vr(),l=E6(),c=O6(),f=1,h="[object Arguments]",p="[object Array]",m="[object Object]",v=Object.prototype,_=v.hasOwnProperty;function S(w,x,I,N,M,V){var O=o(w),j=o(x),T=O?p:i(w),R=j?p:i(x);T=T==h?m:T,R=R==h?m:R;var P=T==m,U=R==m,D=T==R;if(D&&l(w)){if(!l(x))return!1;O=!0,P=!1}if(D&&!P)return V||(V=new t),O||c(w)?e(w,x,I,N,M,V):n(w,x,T,I,N,M,V);if(!(I&f)){var B=P&&_.call(w,"__wrapped__"),L=U&&_.call(x,"__wrapped__");if(B||L){var J=B?w.value():w,Q=L?x.value():x;return V||(V=new t),M(J,Q,I,N,V)}}return D?(V||(V=new t),r(w,x,I,N,M,V)):!1}return dx=S,dx}var px,kN;function _E(){if(kN)return px;kN=1;var t=zW(),e=ho();function n(r,i,o,l,c){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,o,l,n,c)}return px=n,px}var mx,jN;function FW(){if(jN)return mx;jN=1;var t=b6(),e=_E(),n=1,r=2;function i(o,l,c,f){var h=c.length,p=h,m=!f;if(o==null)return!p;for(o=Object(o);h--;){var v=c[h];if(m&&v[2]?v[1]!==o[v[0]]:!(v[0]in o))return!1}for(;++h<p;){v=c[h];var _=v[0],S=o[_],w=v[1];if(m&&v[2]){if(S===void 0&&!(_ in o))return!1}else{var x=new t;if(f)var I=f(S,w,_,o,l,x);if(!(I===void 0?e(w,S,n|r,f,x):I))return!1}}return!0}return mx=i,mx}var gx,DN;function R6(){if(DN)return gx;DN=1;var t=_s();function e(n){return n===n&&!t(n)}return gx=e,gx}var yx,LN;function HW(){if(LN)return yx;LN=1;var t=R6(),e=by();function n(r){for(var i=e(r),o=i.length;o--;){var l=i[o],c=r[l];i[o]=[l,c,t(c)]}return i}return yx=n,yx}var vx,VN;function P6(){if(VN)return vx;VN=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return vx=t,vx}var bx,UN;function GW(){if(UN)return bx;UN=1;var t=FW(),e=HW(),n=P6();function r(i){var o=e(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(l){return l===i||t(l,i,o)}}return bx=r,bx}var _x,BN;function KW(){if(BN)return _x;BN=1;function t(e,n){return e!=null&&n in Object(e)}return _x=t,_x}var xx,$N;function WW(){if($N)return xx;$N=1;var t=X3(),e=yE(),n=Vr(),r=vE(),i=bE(),o=py();function l(c,f,h){f=t(f,c);for(var p=-1,m=f.length,v=!1;++p<m;){var _=o(f[p]);if(!(v=c!=null&&h(c,_)))break;c=c[_]}return v||++p!=m?v:(m=c==null?0:c.length,!!m&&i(m)&&r(_,m)&&(n(c)||e(c)))}return xx=l,xx}var wx,qN;function YW(){if(qN)return wx;qN=1;var t=KW(),e=WW();function n(r,i){return r!=null&&e(r,i,t)}return wx=n,wx}var Sx,zN;function XW(){if(zN)return Sx;zN=1;var t=_E(),e=Q3(),n=YW(),r=nE(),i=R6(),o=P6(),l=py(),c=1,f=2;function h(p,m){return r(p)&&i(m)?o(l(p),m):function(v){var _=e(v,p);return _===void 0&&_===m?n(v,p):t(m,_,c|f)}}return Sx=h,Sx}var Ax,FN;function kc(){if(FN)return Ax;FN=1;function t(e){return e}return Ax=t,Ax}var Ex,HN;function QW(){if(HN)return Ex;HN=1;function t(e){return function(n){return n==null?void 0:n[e]}}return Ex=t,Ex}var Tx,GN;function ZW(){if(GN)return Tx;GN=1;var t=lE();function e(n){return function(r){return t(r,n)}}return Tx=e,Tx}var Ox,KN;function JW(){if(KN)return Ox;KN=1;var t=QW(),e=ZW(),n=nE(),r=py();function i(o){return n(o)?t(r(o)):e(o)}return Ox=i,Ox}var Cx,WN;function wa(){if(WN)return Cx;WN=1;var t=GW(),e=XW(),n=kc(),r=Vr(),i=JW();function o(l){return typeof l=="function"?l:l==null?n:typeof l=="object"?r(l)?e(l[0],l[1]):t(l):i(l)}return Cx=o,Cx}var Ix,YN;function N6(){if(YN)return Ix;YN=1;function t(e,n,r,i){for(var o=e.length,l=r+(i?1:-1);i?l--:++l<o;)if(n(e[l],l,e))return l;return-1}return Ix=t,Ix}var Rx,XN;function eY(){if(XN)return Rx;XN=1;function t(e){return e!==e}return Rx=t,Rx}var Px,QN;function tY(){if(QN)return Px;QN=1;function t(e,n,r){for(var i=r-1,o=e.length;++i<o;)if(e[i]===n)return i;return-1}return Px=t,Px}var Nx,ZN;function nY(){if(ZN)return Nx;ZN=1;var t=N6(),e=eY(),n=tY();function r(i,o,l){return o===o?n(i,o,l):t(i,e,l)}return Nx=r,Nx}var Mx,JN;function rY(){if(JN)return Mx;JN=1;var t=nY();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return Mx=e,Mx}var kx,eM;function iY(){if(eM)return kx;eM=1;function t(e,n,r){for(var i=-1,o=e==null?0:e.length;++i<o;)if(r(n,e[i]))return!0;return!1}return kx=t,kx}var jx,tM;function aY(){if(tM)return jx;tM=1;function t(){}return jx=t,jx}var Dx,nM;function oY(){if(nM)return Dx;nM=1;var t=I6(),e=aY(),n=gE(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(o){return new t(o)}:e;return Dx=i,Dx}var Lx,rM;function sY(){if(rM)return Lx;rM=1;var t=_6(),e=rY(),n=iY(),r=w6(),i=oY(),o=gE(),l=200;function c(f,h,p){var m=-1,v=e,_=f.length,S=!0,w=[],x=w;if(p)S=!1,v=n;else if(_>=l){var I=h?null:i(f);if(I)return o(I);S=!1,v=r,x=new t}else x=h?[]:w;e:for(;++m<_;){var N=f[m],M=h?h(N):N;if(N=p||N!==0?N:0,S&&M===M){for(var V=x.length;V--;)if(x[V]===M)continue e;h&&x.push(M),w.push(N)}else v(x,M,p)||(x!==w&&x.push(M),w.push(N))}return w}return Lx=c,Lx}var Vx,iM;function lY(){if(iM)return Vx;iM=1;var t=wa(),e=sY();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return Vx=n,Vx}var uY=lY();const aM=qt(uY);function M6(t,e,n){return e===!0?aM(t,n):it(e)?aM(t,e):t}function Ju(t){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ju(t)}var cY=["ref"];function oM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ga(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oM(Object(n),!0).forEach(function(r){_y(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j6(r.key),r)}}function hY(t,e,n){return e&&sM(t.prototype,e),n&&sM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function dY(t,e,n){return e=Zm(e),pY(t,k6()?Reflect.construct(e,n||[],Zm(t).constructor):e.apply(t,n))}function pY(t,e){if(e&&(Ju(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mY(t)}function mY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k6=function(){return!!t})()}function Zm(t){return Zm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zm(t)}function gY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z1(t,e)}function Z1(t,e){return Z1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Z1(t,e)}function _y(t,e,n){return e=j6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j6(t){var e=yY(t,"string");return Ju(e)=="symbol"?e:e+""}function yY(t,e){if(Ju(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function vY(t,e){if(t==null)return{};var n=bY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _Y(t){return t.value}function xY(t,e){if(K.isValidElement(t))return K.cloneElement(t,e);if(typeof t=="function")return K.createElement(t,e);e.ref;var n=vY(e,cY);return K.createElement(mE,n)}var lM=1,cs=(function(t){function e(){var n;fY(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=dY(this,e,[].concat(i)),_y(n,"lastBoundingBox",{width:-1,height:-1}),n}return gY(e,t),hY(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>lM||Math.abs(i.height-this.lastBoundingBox.height)>lM)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ga({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,l=i.align,c=i.verticalAlign,f=i.margin,h=i.chartWidth,p=i.chartHeight,m,v;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(l==="center"&&o==="vertical"){var _=this.getBBoxSnapshot();m={left:((h||0)-_.width)/2}}else m=l==="right"?{right:f&&f.right||0}:{left:f&&f.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(c==="middle"){var S=this.getBBoxSnapshot();v={top:((p||0)-S.height)/2}}else v=c==="bottom"?{bottom:f&&f.bottom||0}:{top:f&&f.top||0};return Ga(Ga({},m),v)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,l=i.width,c=i.height,f=i.wrapperStyle,h=i.payloadUniqBy,p=i.payload,m=Ga(Ga({position:"absolute",width:l||"auto",height:c||"auto"},this.getDefaultPosition(f)),f);return K.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(_){r.wrapperNode=_}},xY(o,Ga(Ga({},this.props),{},{payload:M6(p,h,_Y)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Ga(Ga({},this.defaultProps),r.props),l=o.layout;return l==="vertical"&&Ee(r.props.height)?{height:r.props.height}:l==="horizontal"?{width:r.props.width||i}:null}}])})(q.PureComponent);_y(cs,"displayName","Legend");_y(cs,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Ux,uM;function wY(){if(uM)return Ux;uM=1;var t=vd(),e=yE(),n=Vr(),r=t?t.isConcatSpreadable:void 0;function i(o){return n(o)||e(o)||!!(r&&o&&o[r])}return Ux=i,Ux}var Bx,cM;function D6(){if(cM)return Bx;cM=1;var t=A6(),e=wY();function n(r,i,o,l,c){var f=-1,h=r.length;for(o||(o=e),c||(c=[]);++f<h;){var p=r[f];i>0&&o(p)?i>1?n(p,i-1,o,l,c):t(c,p):l||(c[c.length]=p)}return c}return Bx=n,Bx}var $x,fM;function SY(){if(fM)return $x;fM=1;function t(e){return function(n,r,i){for(var o=-1,l=Object(n),c=i(n),f=c.length;f--;){var h=c[e?f:++o];if(r(l[h],h,l)===!1)break}return n}}return $x=t,$x}var qx,hM;function AY(){if(hM)return qx;hM=1;var t=SY(),e=t();return qx=e,qx}var zx,dM;function L6(){if(dM)return zx;dM=1;var t=AY(),e=by();function n(r,i){return r&&t(r,i,e)}return zx=n,zx}var Fx,pM;function EY(){if(pM)return Fx;pM=1;var t=_d();function e(n,r){return function(i,o){if(i==null)return i;if(!t(i))return n(i,o);for(var l=i.length,c=r?l:-1,f=Object(i);(r?c--:++c<l)&&o(f[c],c,f)!==!1;);return i}}return Fx=e,Fx}var Hx,mM;function xE(){if(mM)return Hx;mM=1;var t=L6(),e=EY(),n=e(t);return Hx=n,Hx}var Gx,gM;function V6(){if(gM)return Gx;gM=1;var t=xE(),e=_d();function n(r,i){var o=-1,l=e(r)?Array(r.length):[];return t(r,function(c,f,h){l[++o]=i(c,f,h)}),l}return Gx=n,Gx}var Kx,yM;function TY(){if(yM)return Kx;yM=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return Kx=t,Kx}var Wx,vM;function OY(){if(vM)return Wx;vM=1;var t=Pc();function e(n,r){if(n!==r){var i=n!==void 0,o=n===null,l=n===n,c=t(n),f=r!==void 0,h=r===null,p=r===r,m=t(r);if(!h&&!m&&!c&&n>r||c&&f&&p&&!h&&!m||o&&f&&p||!i&&p||!l)return 1;if(!o&&!c&&!m&&n<r||m&&i&&l&&!o&&!c||h&&i&&l||!f&&l||!p)return-1}return 0}return Wx=e,Wx}var Yx,bM;function CY(){if(bM)return Yx;bM=1;var t=OY();function e(n,r,i){for(var o=-1,l=n.criteria,c=r.criteria,f=l.length,h=i.length;++o<f;){var p=t(l[o],c[o]);if(p){if(o>=h)return p;var m=i[o];return p*(m=="desc"?-1:1)}}return n.index-r.index}return Yx=e,Yx}var Xx,_M;function IY(){if(_M)return Xx;_M=1;var t=sE(),e=lE(),n=wa(),r=V6(),i=TY(),o=T6(),l=CY(),c=kc(),f=Vr();function h(p,m,v){m.length?m=t(m,function(w){return f(w)?function(x){return e(x,w.length===1?w[0]:w)}:w}):m=[c];var _=-1;m=t(m,o(n));var S=r(p,function(w,x,I){var N=t(m,function(M){return M(w)});return{criteria:N,index:++_,value:w}});return i(S,function(w,x){return l(w,x,v)})}return Xx=h,Xx}var Qx,xM;function RY(){if(xM)return Qx;xM=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return Qx=t,Qx}var Zx,wM;function PY(){if(wM)return Zx;wM=1;var t=RY(),e=Math.max;function n(r,i,o){return i=e(i===void 0?r.length-1:i,0),function(){for(var l=arguments,c=-1,f=e(l.length-i,0),h=Array(f);++c<f;)h[c]=l[i+c];c=-1;for(var p=Array(i+1);++c<i;)p[c]=l[c];return p[i]=o(h),t(r,this,p)}}return Zx=n,Zx}var Jx,SM;function NY(){if(SM)return Jx;SM=1;function t(e){return function(){return e}}return Jx=t,Jx}var ew,AM;function U6(){if(AM)return ew;AM=1;var t=Pl(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return ew=e,ew}var tw,EM;function MY(){if(EM)return tw;EM=1;var t=NY(),e=U6(),n=kc(),r=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:n;return tw=r,tw}var nw,TM;function kY(){if(TM)return nw;TM=1;var t=800,e=16,n=Date.now;function r(i){var o=0,l=0;return function(){var c=n(),f=e-(c-l);if(l=c,f>0){if(++o>=t)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return nw=r,nw}var rw,OM;function jY(){if(OM)return rw;OM=1;var t=MY(),e=kY(),n=e(t);return rw=n,rw}var iw,CM;function DY(){if(CM)return iw;CM=1;var t=kc(),e=PY(),n=jY();function r(i,o){return n(e(i,o,t),i+"")}return iw=r,iw}var aw,IM;function xy(){if(IM)return aw;IM=1;var t=iE(),e=_d(),n=vE(),r=_s();function i(o,l,c){if(!r(c))return!1;var f=typeof l;return(f=="number"?e(c)&&n(l,c.length):f=="string"&&l in c)?t(c[l],o):!1}return aw=i,aw}var ow,RM;function LY(){if(RM)return ow;RM=1;var t=D6(),e=IY(),n=DY(),r=xy(),i=n(function(o,l){if(o==null)return[];var c=l.length;return c>1&&r(o,l[0],l[1])?l=[]:c>2&&r(l[0],l[1],l[2])&&(l=[l[0]]),e(o,t(l,1),[])});return ow=i,ow}var VY=LY();const wE=qt(VY);function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function J1(){return J1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J1.apply(this,arguments)}function UY(t,e){return zY(t)||qY(t,e)||$Y(t,e)||BY()}function BY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Y(t,e){if(t){if(typeof t=="string")return PM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PM(t,e)}}function PM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qY(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,l,c=[],f=!0,h=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(f=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function zY(t){if(Array.isArray(t))return t}function NM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NM(Object(n),!0).forEach(function(r){FY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FY(t,e,n){return e=HY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HY(t){var e=GY(t,"string");return Ch(e)=="symbol"?e:e+""}function GY(t,e){if(Ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KY(t){return Array.isArray(t)&&zn(t[0])&&zn(t[1])?t.join(" ~ "):t}var WY=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,l=e.itemStyle,c=l===void 0?{}:l,f=e.labelStyle,h=f===void 0?{}:f,p=e.payload,m=e.formatter,v=e.itemSorter,_=e.wrapperClassName,S=e.labelClassName,w=e.label,x=e.labelFormatter,I=e.accessibilityLayer,N=I===void 0?!1:I,M=function(){if(p&&p.length){var B={padding:0,margin:0},L=(v?wE(p,v):p).map(function(J,Q){if(J.type==="none")return null;var H=sw({display:"block",paddingTop:4,paddingBottom:4,color:J.color||"#000"},c),Y=J.formatter||m||KY,te=J.value,ce=J.name,be=te,F=ce;if(Y&&be!=null&&F!=null){var W=Y(te,ce,J,Q,p);if(Array.isArray(W)){var se=UY(W,2);be=se[0],F=se[1]}else be=W}return K.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Q),style:H},zn(F)?K.createElement("span",{className:"recharts-tooltip-item-name"},F):null,zn(F)?K.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,K.createElement("span",{className:"recharts-tooltip-item-value"},be),K.createElement("span",{className:"recharts-tooltip-item-unit"},J.unit||""))});return K.createElement("ul",{className:"recharts-tooltip-item-list",style:B},L)}return null},V=sw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),O=sw({margin:0},h),j=!lt(w),T=j?w:"",R=bt("recharts-default-tooltip",_),P=bt("recharts-tooltip-label",S);j&&x&&p!==void 0&&p!==null&&(T=x(w,p));var U=N?{role:"status","aria-live":"assertive"}:{};return K.createElement("div",J1({className:R,style:V},U),K.createElement("p",{className:P,style:O},K.isValidElement(T)?T:"".concat(T)),M())};function Ih(t){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}function Jp(t,e,n){return e=YY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YY(t){var e=XY(t,"string");return Ih(e)=="symbol"?e:e+""}function XY(t,e){if(Ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uf="recharts-tooltip-wrapper",QY={visibility:"hidden"};function ZY(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return bt(Uf,Jp(Jp(Jp(Jp({},"".concat(Uf,"-right"),Ee(n)&&e&&Ee(e.x)&&n>=e.x),"".concat(Uf,"-left"),Ee(n)&&e&&Ee(e.x)&&n<e.x),"".concat(Uf,"-bottom"),Ee(r)&&e&&Ee(e.y)&&r>=e.y),"".concat(Uf,"-top"),Ee(r)&&e&&Ee(e.y)&&r<e.y))}function MM(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,l=t.reverseDirection,c=t.tooltipDimension,f=t.viewBox,h=t.viewBoxDimension;if(o&&Ee(o[r]))return o[r];var p=n[r]-c-i,m=n[r]+i;if(e[r])return l[r]?p:m;if(l[r]){var v=p,_=f[r];return v<_?Math.max(m,f[r]):Math.max(p,f[r])}var S=m+c,w=f[r]+h;return S>w?Math.max(p,f[r]):Math.max(m,f[r])}function JY(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function eX(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,l=t.tooltipBox,c=t.useTranslate3d,f=t.viewBox,h,p,m;return l.height>0&&l.width>0&&n?(p=MM({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:f,viewBoxDimension:f.width}),m=MM({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:f,viewBoxDimension:f.height}),h=JY({translateX:p,translateY:m,useTranslate3d:c})):h=QY,{cssProperties:h,cssClasses:ZY({translateX:p,translateY:m,coordinate:n})}}function ec(t){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(t)}function kM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kM(Object(n),!0).forEach(function(r){tS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$6(r.key),r)}}function rX(t,e,n){return e&&nX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iX(t,e,n){return e=Jm(e),aX(t,B6()?Reflect.construct(e,n||[],Jm(t).constructor):e.apply(t,n))}function aX(t,e){if(e&&(ec(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oX(t)}function oX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B6=function(){return!!t})()}function Jm(t){return Jm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jm(t)}function sX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eS(t,e)}function eS(t,e){return eS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eS(t,e)}function tS(t,e,n){return e=$6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $6(t){var e=lX(t,"string");return ec(e)=="symbol"?e:e+""}function lX(t,e){if(ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var DM=1,uX=(function(t){function e(){var n;tX(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=iX(this,e,[].concat(i)),tS(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),tS(n,"handleKeyDown",function(l){if(l.key==="Escape"){var c,f,h,p;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(c=(f=n.props.coordinate)===null||f===void 0?void 0:f.x)!==null&&c!==void 0?c:0,y:(h=(p=n.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&h!==void 0?h:0}})}}),n}return sX(e,t),rX(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>DM||Math.abs(r.height-this.state.lastBoundingBox.height)>DM)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,l=i.allowEscapeViewBox,c=i.animationDuration,f=i.animationEasing,h=i.children,p=i.coordinate,m=i.hasPayload,v=i.isAnimationActive,_=i.offset,S=i.position,w=i.reverseDirection,x=i.useTranslate3d,I=i.viewBox,N=i.wrapperStyle,M=eX({allowEscapeViewBox:l,coordinate:p,offsetTopLeft:_,position:S,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:I}),V=M.cssClasses,O=M.cssProperties,j=jM(jM({transition:v&&o?"transform ".concat(c,"ms ").concat(f):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&m?"visible":"hidden",position:"absolute",top:0,left:0},N);return K.createElement("div",{tabIndex:-1,className:V,style:j,ref:function(R){r.wrapperNode=R}},h)}}])})(q.PureComponent),cX=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Nl={isSsr:cX()};function tc(t){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tc(t)}function LM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LM(Object(n),!0).forEach(function(r){SE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hX(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,z6(r.key),r)}}function dX(t,e,n){return e&&hX(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pX(t,e,n){return e=eg(e),mX(t,q6()?Reflect.construct(e,n||[],eg(t).constructor):e.apply(t,n))}function mX(t,e){if(e&&(tc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gX(t)}function gX(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q6=function(){return!!t})()}function eg(t){return eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},eg(t)}function yX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nS(t,e)}function nS(t,e){return nS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nS(t,e)}function SE(t,e,n){return e=z6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z6(t){var e=vX(t,"string");return tc(e)=="symbol"?e:e+""}function vX(t,e){if(tc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function bX(t){return t.dataKey}function _X(t,e){return K.isValidElement(t)?K.cloneElement(t,e):typeof t=="function"?K.createElement(t,e):K.createElement(WY,e)}var Ui=(function(t){function e(){return fX(this,e),pX(this,e,arguments)}return yX(e,t),dX(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,l=i.allowEscapeViewBox,c=i.animationDuration,f=i.animationEasing,h=i.content,p=i.coordinate,m=i.filterNull,v=i.isAnimationActive,_=i.offset,S=i.payload,w=i.payloadUniqBy,x=i.position,I=i.reverseDirection,N=i.useTranslate3d,M=i.viewBox,V=i.wrapperStyle,O=S??[];m&&O.length&&(O=M6(S.filter(function(T){return T.value!=null&&(T.hide!==!0||r.props.includeHidden)}),w,bX));var j=O.length>0;return K.createElement(uX,{allowEscapeViewBox:l,animationDuration:c,animationEasing:f,isAnimationActive:v,active:o,coordinate:p,hasPayload:j,offset:_,position:x,reverseDirection:I,useTranslate3d:N,viewBox:M,wrapperStyle:V},_X(h,VM(VM({},this.props),{},{payload:O})))}}])})(q.PureComponent);SE(Ui,"displayName","Tooltip");SE(Ui,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Nl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var lw,UM;function xX(){if(UM)return lw;UM=1;var t=xa(),e=function(){return t.Date.now()};return lw=e,lw}var uw,BM;function wX(){if(BM)return uw;BM=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return uw=e,uw}var cw,$M;function SX(){if($M)return cw;$M=1;var t=wX(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return cw=n,cw}var fw,qM;function F6(){if(qM)return fw;qM=1;var t=SX(),e=_s(),n=Pc(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;function f(h){if(typeof h=="number")return h;if(n(h))return r;if(e(h)){var p=typeof h.valueOf=="function"?h.valueOf():h;h=e(p)?p+"":p}if(typeof h!="string")return h===0?h:+h;h=t(h);var m=o.test(h);return m||l.test(h)?c(h.slice(2),m?2:8):i.test(h)?r:+h}return fw=f,fw}var hw,zM;function AX(){if(zM)return hw;zM=1;var t=_s(),e=xX(),n=F6(),r="Expected a function",i=Math.max,o=Math.min;function l(c,f,h){var p,m,v,_,S,w,x=0,I=!1,N=!1,M=!0;if(typeof c!="function")throw new TypeError(r);f=n(f)||0,t(h)&&(I=!!h.leading,N="maxWait"in h,v=N?i(n(h.maxWait)||0,f):v,M="trailing"in h?!!h.trailing:M);function V(L){var J=p,Q=m;return p=m=void 0,x=L,_=c.apply(Q,J),_}function O(L){return x=L,S=setTimeout(R,f),I?V(L):_}function j(L){var J=L-w,Q=L-x,H=f-J;return N?o(H,v-Q):H}function T(L){var J=L-w,Q=L-x;return w===void 0||J>=f||J<0||N&&Q>=v}function R(){var L=e();if(T(L))return P(L);S=setTimeout(R,j(L))}function P(L){return S=void 0,M&&p?V(L):(p=m=void 0,_)}function U(){S!==void 0&&clearTimeout(S),x=0,p=w=m=S=void 0}function D(){return S===void 0?_:P(e())}function B(){var L=e(),J=T(L);if(p=arguments,m=this,w=L,J){if(S===void 0)return O(w);if(N)return clearTimeout(S),S=setTimeout(R,f),V(w)}return S===void 0&&(S=setTimeout(R,f)),_}return B.cancel=U,B.flush=D,B}return hw=l,hw}var dw,FM;function EX(){if(FM)return dw;FM=1;var t=AX(),e=_s(),n="Expected a function";function r(i,o,l){var c=!0,f=!0;if(typeof i!="function")throw new TypeError(n);return e(l)&&(c="leading"in l?!!l.leading:c,f="trailing"in l?!!l.trailing:f),t(i,o,{leading:c,maxWait:o,trailing:f})}return dw=r,dw}var TX=EX();const H6=qt(TX);function Rh(t){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}function HM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function em(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HM(Object(n),!0).forEach(function(r){OX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OX(t,e,n){return e=CX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CX(t){var e=IX(t,"string");return Rh(e)=="symbol"?e:e+""}function IX(t,e){if(Rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RX(t,e){return kX(t)||MX(t,e)||NX(t,e)||PX()}function PX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NX(t,e){if(t){if(typeof t=="string")return GM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GM(t,e)}}function GM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,l,c=[],f=!0,h=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(f=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function kX(t){if(Array.isArray(t))return t}var KM=q.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,l=o===void 0?"100%":o,c=t.height,f=c===void 0?"100%":c,h=t.minWidth,p=h===void 0?0:h,m=t.minHeight,v=t.maxHeight,_=t.children,S=t.debounce,w=S===void 0?0:S,x=t.id,I=t.className,N=t.onResize,M=t.style,V=M===void 0?{}:M,O=q.useRef(null),j=q.useRef();j.current=N,q.useImperativeHandle(e,function(){return Object.defineProperty(O.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),O.current},configurable:!0})});var T=q.useState({containerWidth:i.width,containerHeight:i.height}),R=RX(T,2),P=R[0],U=R[1],D=q.useCallback(function(L,J){U(function(Q){var H=Math.round(L),Y=Math.round(J);return Q.containerWidth===H&&Q.containerHeight===Y?Q:{containerWidth:H,containerHeight:Y}})},[]);q.useEffect(function(){var L=function(ce){var be,F=ce[0].contentRect,W=F.width,se=F.height;D(W,se),(be=j.current)===null||be===void 0||be.call(j,W,se)};w>0&&(L=H6(L,w,{trailing:!0,leading:!1}));var J=new ResizeObserver(L),Q=O.current.getBoundingClientRect(),H=Q.width,Y=Q.height;return D(H,Y),J.observe(O.current),function(){J.disconnect()}},[D,w]);var B=q.useMemo(function(){var L=P.containerWidth,J=P.containerHeight;if(L<0||J<0)return null;Gi(ul(l)||ul(f),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,f),Gi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var Q=ul(l)?L:l,H=ul(f)?J:f;n&&n>0&&(Q?H=Q/n:H&&(Q=H*n),v&&H>v&&(H=v)),Gi(Q>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Q,H,l,f,p,m,n);var Y=!Array.isArray(_)&&eo(_.type).endsWith("Chart");return K.Children.map(_,function(te){return K.isValidElement(te)?q.cloneElement(te,em({width:Q,height:H},Y?{style:em({height:"100%",width:"100%",maxHeight:H,maxWidth:Q},te.props.style)}:{})):te})},[n,_,f,v,m,p,P,l]);return K.createElement("div",{id:x?"".concat(x):void 0,className:bt("recharts-responsive-container",I),style:em(em({},V),{},{width:l,height:f,minWidth:p,minHeight:m,maxHeight:v}),ref:O},B)}),wy=function(e){return null};wy.displayName="Cell";function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function WM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WM(Object(n),!0).forEach(function(r){jX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jX(t,e,n){return e=DX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DX(t){var e=LX(t,"string");return Ph(e)=="symbol"?e:e+""}function LX(t,e){if(Ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xu={widthCache:{},cacheCount:0},VX=2e3,UX={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},YM="recharts_measurement_span";function BX(t){var e=rS({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var ch=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Nl.isSsr)return{width:0,height:0};var r=BX(n),i=JSON.stringify({text:e,copyStyle:r});if(xu.widthCache[i])return xu.widthCache[i];try{var o=document.getElementById(YM);o||(o=document.createElement("span"),o.setAttribute("id",YM),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var l=rS(rS({},UX),r);Object.assign(o.style,l),o.textContent="".concat(e);var c=o.getBoundingClientRect(),f={width:c.width,height:c.height};return xu.widthCache[i]=f,++xu.cacheCount>VX&&(xu.cacheCount=0,xu.widthCache={}),f}catch{return{width:0,height:0}}},$X=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Nh(t){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function tg(t,e){return HX(t)||FX(t,e)||zX(t,e)||qX()}function qX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zX(t,e){if(t){if(typeof t=="string")return XM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XM(t,e)}}function XM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function FX(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,l,c=[],f=!0,h=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function HX(t){if(Array.isArray(t))return t}function GX(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WX(r.key),r)}}function KX(t,e,n){return e&&QM(t.prototype,e),n&&QM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function WX(t){var e=YX(t,"string");return Nh(e)=="symbol"?e:e+""}function YX(t,e){if(Nh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ZM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,JM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,XX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,QX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,G6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ZX=Object.keys(G6),Pu="NaN";function JX(t,e){return t*G6[e]}var tm=(function(){function t(e,n){GX(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!XX.test(n)&&(this.num=NaN,this.unit=""),ZX.includes(n)&&(this.num=JX(e,n),this.unit="px")}return KX(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=QX.exec(n))!==null&&r!==void 0?r:[],o=tg(i,3),l=o[1],c=o[2];return new t(parseFloat(l),c??"")}}])})();function K6(t){if(t.includes(Pu))return Pu;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=ZM.exec(e))!==null&&n!==void 0?n:[],i=tg(r,4),o=i[1],l=i[2],c=i[3],f=tm.parse(o??""),h=tm.parse(c??""),p=l==="*"?f.multiply(h):f.divide(h);if(p.isNaN())return Pu;e=e.replace(ZM,p.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,v=(m=JM.exec(e))!==null&&m!==void 0?m:[],_=tg(v,4),S=_[1],w=_[2],x=_[3],I=tm.parse(S??""),N=tm.parse(x??""),M=w==="+"?I.add(N):I.subtract(N);if(M.isNaN())return Pu;e=e.replace(JM,M.toString())}return e}var ek=/\(([^()]*)\)/;function eQ(t){for(var e=t;e.includes("(");){var n=ek.exec(e),r=tg(n,2),i=r[1];e=e.replace(ek,K6(i))}return e}function tQ(t){var e=t.replace(/\s+/g,"");return e=eQ(e),e=K6(e),e}function nQ(t){try{return tQ(t)}catch{return Pu}}function pw(t){var e=nQ(t.slice(5,-1));return e===Pu?"":e}var rQ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],iQ=["dx","dy","angle","className","breakAll"];function iS(){return iS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iS.apply(this,arguments)}function tk(t,e){if(t==null)return{};var n=aQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nk(t,e){return uQ(t)||lQ(t,e)||sQ(t,e)||oQ()}function oQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sQ(t,e){if(t){if(typeof t=="string")return rk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rk(t,e)}}function rk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,l,c=[],f=!0,h=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function uQ(t){if(Array.isArray(t))return t}var W6=/[ \f\n\r\t\v\u2028\u2029]+/,Y6=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];lt(n)||(r?o=n.toString().split(""):o=n.toString().split(W6));var l=o.map(function(f){return{word:f,width:ch(f,i).width}}),c=r?0:ch("",i).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}},cQ=function(e,n,r,i,o){var l=e.maxLines,c=e.children,f=e.style,h=e.breakAll,p=Ee(l),m=c,v=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Q.reduce(function(H,Y){var te=Y.word,ce=Y.width,be=H[H.length-1];if(be&&(i==null||o||be.width+ce+r<Number(i)))be.words.push(te),be.width+=ce+r;else{var F={words:[te],width:ce};H.push(F)}return H},[])},_=v(n),S=function(Q){return Q.reduce(function(H,Y){return H.width>Y.width?H:Y})};if(!p)return _;for(var w="",x=function(Q){var H=m.slice(0,Q),Y=Y6({breakAll:h,style:f,children:H+w}).wordsWithComputedWidth,te=v(Y),ce=te.length>l||S(te).width>Number(i);return[ce,te]},I=0,N=m.length-1,M=0,V;I<=N&&M<=m.length-1;){var O=Math.floor((I+N)/2),j=O-1,T=x(j),R=nk(T,2),P=R[0],U=R[1],D=x(O),B=nk(D,1),L=B[0];if(!P&&!L&&(I=O+1),P&&L&&(N=O-1),!P&&L){V=U;break}M++}return V||_},ik=function(e){var n=lt(e)?[]:e.toString().split(W6);return[{words:n}]},fQ=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,l=e.breakAll,c=e.maxLines;if((n||r)&&!Nl.isSsr){var f,h,p=Y6({breakAll:l,children:i,style:o});if(p){var m=p.wordsWithComputedWidth,v=p.spaceWidth;f=m,h=v}else return ik(i);return cQ({breakAll:l,children:i,maxLines:c,style:o},f,h,n,r)}return ik(i)},ak="#808080",El=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,l=e.lineHeight,c=l===void 0?"1em":l,f=e.capHeight,h=f===void 0?"0.71em":f,p=e.scaleToFit,m=p===void 0?!1:p,v=e.textAnchor,_=v===void 0?"start":v,S=e.verticalAnchor,w=S===void 0?"end":S,x=e.fill,I=x===void 0?ak:x,N=tk(e,rQ),M=q.useMemo(function(){return fQ({breakAll:N.breakAll,children:N.children,maxLines:N.maxLines,scaleToFit:m,style:N.style,width:N.width})},[N.breakAll,N.children,N.maxLines,m,N.style,N.width]),V=N.dx,O=N.dy,j=N.angle,T=N.className,R=N.breakAll,P=tk(N,iQ);if(!zn(r)||!zn(o))return null;var U=r+(Ee(V)?V:0),D=o+(Ee(O)?O:0),B;switch(w){case"start":B=pw("calc(".concat(h,")"));break;case"middle":B=pw("calc(".concat((M.length-1)/2," * -").concat(c," + (").concat(h," / 2))"));break;default:B=pw("calc(".concat(M.length-1," * -").concat(c,")"));break}var L=[];if(m){var J=M[0].width,Q=N.width;L.push("scale(".concat((Ee(Q)?Q/J:1)/J,")"))}return j&&L.push("rotate(".concat(j,", ").concat(U,", ").concat(D,")")),L.length&&(P.transform=L.join(" ")),K.createElement("text",iS({},Ye(P,!0),{x:U,y:D,className:bt("recharts-text",T),textAnchor:_,fill:I.includes("url")?ak:I}),M.map(function(H,Y){var te=H.words.join(R?"":" ");return K.createElement("tspan",{x:U,dy:Y===0?B:c,key:"".concat(te,"-").concat(Y)},te)}))};function fs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function hQ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function AE(t){let e,n,r;t.length!==2?(e=fs,n=(c,f)=>fs(t(c),f),r=(c,f)=>t(c)-f):(e=t===fs||t===hQ?t:dQ,n=t,r=t);function i(c,f,h=0,p=c.length){if(h<p){if(e(f,f)!==0)return p;do{const m=h+p>>>1;n(c[m],f)<0?h=m+1:p=m}while(h<p)}return h}function o(c,f,h=0,p=c.length){if(h<p){if(e(f,f)!==0)return p;do{const m=h+p>>>1;n(c[m],f)<=0?h=m+1:p=m}while(h<p)}return h}function l(c,f,h=0,p=c.length){const m=i(c,f,h,p-1);return m>h&&r(c[m-1],f)>-r(c[m],f)?m-1:m}return{left:i,center:l,right:o}}function dQ(){return 0}function X6(t){return t===null?NaN:+t}function*pQ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const mQ=AE(fs),xd=mQ.right;AE(X6).center;class ok extends Map{constructor(e,n=vQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(sk(this,e))}has(e){return super.has(sk(this,e))}set(e,n){return super.set(gQ(this,e),n)}delete(e){return super.delete(yQ(this,e))}}function sk({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function gQ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function yQ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function vQ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function bQ(t=fs){if(t===fs)return Q6;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Q6(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const _Q=Math.sqrt(50),xQ=Math.sqrt(10),wQ=Math.sqrt(2);function ng(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),l=o>=_Q?10:o>=xQ?5:o>=wQ?2:1;let c,f,h;return i<0?(h=Math.pow(10,-i)/l,c=Math.round(t*h),f=Math.round(e*h),c/h<t&&++c,f/h>e&&--f,h=-h):(h=Math.pow(10,i)*l,c=Math.round(t/h),f=Math.round(e/h),c*h<t&&++c,f*h>e&&--f),f<c&&.5<=n&&n<2?ng(t,e,n*2):[c,f,h]}function aS(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,l]=r?ng(e,t,n):ng(t,e,n);if(!(o>=i))return[];const c=o-i+1,f=new Array(c);if(r)if(l<0)for(let h=0;h<c;++h)f[h]=(o-h)/-l;else for(let h=0;h<c;++h)f[h]=(o-h)*l;else if(l<0)for(let h=0;h<c;++h)f[h]=(i+h)/-l;else for(let h=0;h<c;++h)f[h]=(i+h)*l;return f}function oS(t,e,n){return e=+e,t=+t,n=+n,ng(t,e,n)[2]}function sS(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?oS(e,t,n):oS(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function lk(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function uk(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Z6(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Q6:bQ(i);r>n;){if(r-n>600){const f=r-n+1,h=e-n+1,p=Math.log(f),m=.5*Math.exp(2*p/3),v=.5*Math.sqrt(p*m*(f-m)/f)*(h-f/2<0?-1:1),_=Math.max(n,Math.floor(e-h*m/f+v)),S=Math.min(r,Math.floor(e+(f-h)*m/f+v));Z6(t,e,_,S,i)}const o=t[e];let l=n,c=r;for(Bf(t,n,e),i(t[r],o)>0&&Bf(t,n,r);l<c;){for(Bf(t,l,c),++l,--c;i(t[l],o)<0;)++l;for(;i(t[c],o)>0;)--c}i(t[n],o)===0?Bf(t,n,c):(++c,Bf(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function Bf(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function SQ(t,e,n){if(t=Float64Array.from(pQ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return uk(t);if(e>=1)return lk(t);var r,i=(r-1)*e,o=Math.floor(i),l=lk(Z6(t,o).subarray(0,o+1)),c=uk(t.subarray(o+1));return l+(c-l)*(i-o)}}function AQ(t,e,n=X6){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),l=+n(t[o],o,t),c=+n(t[o+1],o+1,t);return l+(c-l)*(i-o)}}function EQ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Oi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function po(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const lS=Symbol("implicit");function EE(){var t=new ok,e=[],n=[],r=lS;function i(o){let l=t.get(o);if(l===void 0){if(r!==lS)return r;t.set(o,l=e.push(o)-1)}return n[l%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new ok;for(const l of o)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return EE(e,n).unknown(r)},Oi.apply(i,arguments),i}function Mh(){var t=EE().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,l,c=!1,f=0,h=0,p=.5;delete t.unknown;function m(){var v=e().length,_=i<r,S=_?i:r,w=_?r:i;o=(w-S)/Math.max(1,v-f+h*2),c&&(o=Math.floor(o)),S+=(w-S-o*(v-f))*p,l=o*(1-f),c&&(S=Math.round(S),l=Math.round(l));var x=EQ(v).map(function(I){return S+o*I});return n(_?x.reverse():x)}return t.domain=function(v){return arguments.length?(e(v),m()):e()},t.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,c=!0,m()},t.bandwidth=function(){return l},t.step=function(){return o},t.round=function(v){return arguments.length?(c=!!v,m()):c},t.padding=function(v){return arguments.length?(f=Math.min(1,h=+v),m()):f},t.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),m()):f},t.paddingOuter=function(v){return arguments.length?(h=+v,m()):h},t.align=function(v){return arguments.length?(p=Math.max(0,Math.min(1,v)),m()):p},t.copy=function(){return Mh(e(),[r,i]).round(c).paddingInner(f).paddingOuter(h).align(p)},Oi.apply(m(),arguments)}function J6(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return J6(e())},t}function fh(){return J6(Mh.apply(null,arguments).paddingInner(1))}function TE(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function e5(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function wd(){}var kh=.7,rg=1/kh,$u="\\s*([+-]?\\d+)\\s*",jh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",TQ=/^#([0-9a-f]{3,8})$/,OQ=new RegExp(`^rgb\\(${$u},${$u},${$u}\\)$`),CQ=new RegExp(`^rgb\\(${pa},${pa},${pa}\\)$`),IQ=new RegExp(`^rgba\\(${$u},${$u},${$u},${jh}\\)$`),RQ=new RegExp(`^rgba\\(${pa},${pa},${pa},${jh}\\)$`),PQ=new RegExp(`^hsl\\(${jh},${pa},${pa}\\)$`),NQ=new RegExp(`^hsla\\(${jh},${pa},${pa},${jh}\\)$`),ck={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};TE(wd,Dh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:fk,formatHex:fk,formatHex8:MQ,formatHsl:kQ,formatRgb:hk,toString:hk});function fk(){return this.rgb().formatHex()}function MQ(){return this.rgb().formatHex8()}function kQ(){return t5(this).formatHsl()}function hk(){return this.rgb().formatRgb()}function Dh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=TQ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?dk(e):n===3?new Lr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?nm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?nm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=OQ.exec(t))?new Lr(e[1],e[2],e[3],1):(e=CQ.exec(t))?new Lr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=IQ.exec(t))?nm(e[1],e[2],e[3],e[4]):(e=RQ.exec(t))?nm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=PQ.exec(t))?gk(e[1],e[2]/100,e[3]/100,1):(e=NQ.exec(t))?gk(e[1],e[2]/100,e[3]/100,e[4]):ck.hasOwnProperty(t)?dk(ck[t]):t==="transparent"?new Lr(NaN,NaN,NaN,0):null}function dk(t){return new Lr(t>>16&255,t>>8&255,t&255,1)}function nm(t,e,n,r){return r<=0&&(t=e=n=NaN),new Lr(t,e,n,r)}function jQ(t){return t instanceof wd||(t=Dh(t)),t?(t=t.rgb(),new Lr(t.r,t.g,t.b,t.opacity)):new Lr}function uS(t,e,n,r){return arguments.length===1?jQ(t):new Lr(t,e,n,r??1)}function Lr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}TE(Lr,uS,e5(wd,{brighter(t){return t=t==null?rg:Math.pow(rg,t),new Lr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?kh:Math.pow(kh,t),new Lr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Lr(ml(this.r),ml(this.g),ml(this.b),ig(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:pk,formatHex:pk,formatHex8:DQ,formatRgb:mk,toString:mk}));function pk(){return`#${cl(this.r)}${cl(this.g)}${cl(this.b)}`}function DQ(){return`#${cl(this.r)}${cl(this.g)}${cl(this.b)}${cl((isNaN(this.opacity)?1:this.opacity)*255)}`}function mk(){const t=ig(this.opacity);return`${t===1?"rgb(":"rgba("}${ml(this.r)}, ${ml(this.g)}, ${ml(this.b)}${t===1?")":`, ${t})`}`}function ig(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ml(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function cl(t){return t=ml(t),(t<16?"0":"")+t.toString(16)}function gk(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new zi(t,e,n,r)}function t5(t){if(t instanceof zi)return new zi(t.h,t.s,t.l,t.opacity);if(t instanceof wd||(t=Dh(t)),!t)return new zi;if(t instanceof zi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),l=NaN,c=o-i,f=(o+i)/2;return c?(e===o?l=(n-r)/c+(n<r)*6:n===o?l=(r-e)/c+2:l=(e-n)/c+4,c/=f<.5?o+i:2-o-i,l*=60):c=f>0&&f<1?0:l,new zi(l,c,f,t.opacity)}function LQ(t,e,n,r){return arguments.length===1?t5(t):new zi(t,e,n,r??1)}function zi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}TE(zi,LQ,e5(wd,{brighter(t){return t=t==null?rg:Math.pow(rg,t),new zi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?kh:Math.pow(kh,t),new zi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Lr(mw(t>=240?t-240:t+120,i,r),mw(t,i,r),mw(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new zi(yk(this.h),rm(this.s),rm(this.l),ig(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ig(this.opacity);return`${t===1?"hsl(":"hsla("}${yk(this.h)}, ${rm(this.s)*100}%, ${rm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function yk(t){return t=(t||0)%360,t<0?t+360:t}function rm(t){return Math.max(0,Math.min(1,t||0))}function mw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const OE=t=>()=>t;function VQ(t,e){return function(n){return t+n*e}}function UQ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function BQ(t){return(t=+t)==1?n5:function(e,n){return n-e?UQ(e,n,t):OE(isNaN(e)?n:e)}}function n5(t,e){var n=e-t;return n?VQ(t,n):OE(isNaN(t)?e:t)}const vk=(function t(e){var n=BQ(e);function r(i,o){var l=n((i=uS(i)).r,(o=uS(o)).r),c=n(i.g,o.g),f=n(i.b,o.b),h=n5(i.opacity,o.opacity);return function(p){return i.r=l(p),i.g=c(p),i.b=f(p),i.opacity=h(p),i+""}}return r.gamma=t,r})(1);function $Q(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function qQ(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function zQ(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),l;for(l=0;l<r;++l)i[l]=jc(t[l],e[l]);for(;l<n;++l)o[l]=e[l];return function(c){for(l=0;l<r;++l)o[l]=i[l](c);return o}}function FQ(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ag(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function HQ(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=jc(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var cS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gw=new RegExp(cS.source,"g");function GQ(t){return function(){return t}}function KQ(t){return function(e){return t(e)+""}}function WQ(t,e){var n=cS.lastIndex=gw.lastIndex=0,r,i,o,l=-1,c=[],f=[];for(t=t+"",e=e+"";(r=cS.exec(t))&&(i=gw.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),c[l]?c[l]+=o:c[++l]=o),(r=r[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,f.push({i:l,x:ag(r,i)})),n=gw.lastIndex;return n<e.length&&(o=e.slice(n),c[l]?c[l]+=o:c[++l]=o),c.length<2?f[0]?KQ(f[0].x):GQ(e):(e=f.length,function(h){for(var p=0,m;p<e;++p)c[(m=f[p]).i]=m.x(h);return c.join("")})}function jc(t,e){var n=typeof e,r;return e==null||n==="boolean"?OE(e):(n==="number"?ag:n==="string"?(r=Dh(e))?(e=r,vk):WQ:e instanceof Dh?vk:e instanceof Date?FQ:qQ(e)?$Q:Array.isArray(e)?zQ:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?HQ:ag)(t,e)}function CE(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function YQ(t,e){e===void 0&&(e=t,t=jc);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(l){var c=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return o[c](l-c)}}function XQ(t){return function(){return t}}function og(t){return+t}var bk=[0,1];function Sr(t){return t}function fS(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:XQ(isNaN(e)?NaN:.5)}function QQ(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function ZQ(t,e,n){var r=t[0],i=t[1],o=e[0],l=e[1];return i<r?(r=fS(i,r),o=n(l,o)):(r=fS(r,i),o=n(o,l)),function(c){return o(r(c))}}function JQ(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=fS(t[l],t[l+1]),o[l]=n(e[l],e[l+1]);return function(c){var f=xd(t,c,1,r)-1;return o[f](i[f](c))}}function Sd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Sy(){var t=bk,e=bk,n=jc,r,i,o,l=Sr,c,f,h;function p(){var v=Math.min(t.length,e.length);return l!==Sr&&(l=QQ(t[0],t[v-1])),c=v>2?JQ:ZQ,f=h=null,m}function m(v){return v==null||isNaN(v=+v)?o:(f||(f=c(t.map(r),e,n)))(r(l(v)))}return m.invert=function(v){return l(i((h||(h=c(e,t.map(r),ag)))(v)))},m.domain=function(v){return arguments.length?(t=Array.from(v,og),p()):t.slice()},m.range=function(v){return arguments.length?(e=Array.from(v),p()):e.slice()},m.rangeRound=function(v){return e=Array.from(v),n=CE,p()},m.clamp=function(v){return arguments.length?(l=v?!0:Sr,p()):l!==Sr},m.interpolate=function(v){return arguments.length?(n=v,p()):n},m.unknown=function(v){return arguments.length?(o=v,m):o},function(v,_){return r=v,i=_,p()}}function IE(){return Sy()(Sr,Sr)}function eZ(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function sg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function nc(t){return t=sg(Math.abs(t)),t?t[1]:NaN}function tZ(t,e){return function(n,r){for(var i=n.length,o=[],l=0,c=t[0],f=0;i>0&&c>0&&(f+c+1>r&&(c=Math.max(1,r-f)),o.push(n.substring(i-=c,i+c)),!((f+=c+1)>r));)c=t[l=(l+1)%t.length];return o.reverse().join(e)}}function nZ(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var rZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Lh(t){if(!(e=rZ.exec(t)))throw new Error("invalid format: "+t);var e;return new RE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Lh.prototype=RE.prototype;function RE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}RE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function iZ(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var r5;function aZ(t,e){var n=sg(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(r5=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+sg(t,Math.max(0,e+o-1))[0]}function _k(t,e){var n=sg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const xk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:eZ,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>_k(t*100,e),r:_k,s:aZ,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function wk(t){return t}var Sk=Array.prototype.map,Ak=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function oZ(t){var e=t.grouping===void 0||t.thousands===void 0?wk:tZ(Sk.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?wk:nZ(Sk.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function h(m){m=Lh(m);var v=m.fill,_=m.align,S=m.sign,w=m.symbol,x=m.zero,I=m.width,N=m.comma,M=m.precision,V=m.trim,O=m.type;O==="n"?(N=!0,O="g"):xk[O]||(M===void 0&&(M=12),V=!0,O="g"),(x||v==="0"&&_==="=")&&(x=!0,v="0",_="=");var j=w==="$"?n:w==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",T=w==="$"?r:/[%p]/.test(O)?l:"",R=xk[O],P=/[defgprs%]/.test(O);M=M===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function U(D){var B=j,L=T,J,Q,H;if(O==="c")L=R(D)+L,D="";else{D=+D;var Y=D<0||1/D<0;if(D=isNaN(D)?f:R(Math.abs(D),M),V&&(D=iZ(D)),Y&&+D==0&&S!=="+"&&(Y=!1),B=(Y?S==="("?S:c:S==="-"||S==="("?"":S)+B,L=(O==="s"?Ak[8+r5/3]:"")+L+(Y&&S==="("?")":""),P){for(J=-1,Q=D.length;++J<Q;)if(H=D.charCodeAt(J),48>H||H>57){L=(H===46?i+D.slice(J+1):D.slice(J))+L,D=D.slice(0,J);break}}}N&&!x&&(D=e(D,1/0));var te=B.length+D.length+L.length,ce=te<I?new Array(I-te+1).join(v):"";switch(N&&x&&(D=e(ce+D,ce.length?I-L.length:1/0),ce=""),_){case"<":D=B+D+L+ce;break;case"=":D=B+ce+D+L;break;case"^":D=ce.slice(0,te=ce.length>>1)+B+D+L+ce.slice(te);break;default:D=ce+B+D+L;break}return o(D)}return U.toString=function(){return m+""},U}function p(m,v){var _=h((m=Lh(m),m.type="f",m)),S=Math.max(-8,Math.min(8,Math.floor(nc(v)/3)))*3,w=Math.pow(10,-S),x=Ak[8+S/3];return function(I){return _(w*I)+x}}return{format:h,formatPrefix:p}}var im,PE,i5;sZ({thousands:",",grouping:[3],currency:["$",""]});function sZ(t){return im=oZ(t),PE=im.format,i5=im.formatPrefix,im}function lZ(t){return Math.max(0,-nc(Math.abs(t)))}function uZ(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(nc(e)/3)))*3-nc(Math.abs(t)))}function cZ(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,nc(e)-nc(t))+1}function a5(t,e,n,r){var i=sS(t,e,n),o;switch(r=Lh(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=uZ(i,l))&&(r.precision=o),i5(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=cZ(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=lZ(i))&&(r.precision=o-(r.type==="%")*2);break}}return PE(r)}function xs(t){var e=t.domain;return t.ticks=function(n){var r=e();return aS(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return a5(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,l=r[i],c=r[o],f,h,p=10;for(c<l&&(h=l,l=c,c=h,h=i,i=o,o=h);p-- >0;){if(h=oS(l,c,n),h===f)return r[i]=l,r[o]=c,e(r);if(h>0)l=Math.floor(l/h)*h,c=Math.ceil(c/h)*h;else if(h<0)l=Math.ceil(l*h)/h,c=Math.floor(c*h)/h;else break;f=h}return t},t}function lg(){var t=IE();return t.copy=function(){return Sd(t,lg())},Oi.apply(t,arguments),xs(t)}function o5(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,og),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return o5(t).unknown(e)},t=arguments.length?Array.from(t,og):[0,1],xs(n)}function s5(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],l;return o<i&&(l=n,n=r,r=l,l=i,i=o,o=l),t[n]=e.floor(i),t[r]=e.ceil(o),t}function Ek(t){return Math.log(t)}function Tk(t){return Math.exp(t)}function fZ(t){return-Math.log(-t)}function hZ(t){return-Math.exp(-t)}function dZ(t){return isFinite(t)?+("1e"+t):t<0?0:t}function pZ(t){return t===10?dZ:t===Math.E?Math.exp:e=>Math.pow(t,e)}function mZ(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Ok(t){return(e,n)=>-t(-e,n)}function NE(t){const e=t(Ek,Tk),n=e.domain;let r=10,i,o;function l(){return i=mZ(r),o=pZ(r),n()[0]<0?(i=Ok(i),o=Ok(o),t(fZ,hZ)):t(Ek,Tk),e}return e.base=function(c){return arguments.length?(r=+c,l()):r},e.domain=function(c){return arguments.length?(n(c),l()):n()},e.ticks=c=>{const f=n();let h=f[0],p=f[f.length-1];const m=p<h;m&&([h,p]=[p,h]);let v=i(h),_=i(p),S,w;const x=c==null?10:+c;let I=[];if(!(r%1)&&_-v<x){if(v=Math.floor(v),_=Math.ceil(_),h>0){for(;v<=_;++v)for(S=1;S<r;++S)if(w=v<0?S/o(-v):S*o(v),!(w<h)){if(w>p)break;I.push(w)}}else for(;v<=_;++v)for(S=r-1;S>=1;--S)if(w=v>0?S/o(-v):S*o(v),!(w<h)){if(w>p)break;I.push(w)}I.length*2<x&&(I=aS(h,p,x))}else I=aS(v,_,Math.min(_-v,x)).map(o);return m?I.reverse():I},e.tickFormat=(c,f)=>{if(c==null&&(c=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Lh(f)).precision==null&&(f.trim=!0),f=PE(f)),c===1/0)return f;const h=Math.max(1,r*c/e.ticks().length);return p=>{let m=p/o(Math.round(i(p)));return m*r<r-.5&&(m*=r),m<=h?f(p):""}},e.nice=()=>n(s5(n(),{floor:c=>o(Math.floor(i(c))),ceil:c=>o(Math.ceil(i(c)))})),e}function l5(){const t=NE(Sy()).domain([1,10]);return t.copy=()=>Sd(t,l5()).base(t.base()),Oi.apply(t,arguments),t}function Ck(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Ik(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function ME(t){var e=1,n=t(Ck(e),Ik(e));return n.constant=function(r){return arguments.length?t(Ck(e=+r),Ik(e)):e},xs(n)}function u5(){var t=ME(Sy());return t.copy=function(){return Sd(t,u5()).constant(t.constant())},Oi.apply(t,arguments)}function Rk(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function gZ(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function yZ(t){return t<0?-t*t:t*t}function kE(t){var e=t(Sr,Sr),n=1;function r(){return n===1?t(Sr,Sr):n===.5?t(gZ,yZ):t(Rk(n),Rk(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},xs(e)}function jE(){var t=kE(Sy());return t.copy=function(){return Sd(t,jE()).exponent(t.exponent())},Oi.apply(t,arguments),t}function vZ(){return jE.apply(null,arguments).exponent(.5)}function Pk(t){return Math.sign(t)*t*t}function bZ(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function c5(){var t=IE(),e=[0,1],n=!1,r;function i(o){var l=bZ(t(o));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(o){return t.invert(Pk(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,og)).map(Pk)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return c5(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Oi.apply(i,arguments),xs(i)}function f5(){var t=[],e=[],n=[],r;function i(){var l=0,c=Math.max(1,e.length);for(n=new Array(c-1);++l<c;)n[l-1]=AQ(t,l/c);return o}function o(l){return l==null||isNaN(l=+l)?r:e[xd(n,l)]}return o.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},o.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(fs),i()},o.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},o.unknown=function(l){return arguments.length?(r=l,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return f5().domain(t).range(e).unknown(r)},Oi.apply(o,arguments)}function h5(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function l(f){return f!=null&&f<=f?i[xd(r,f,0,n)]:o}function c(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*e-(f-n)*t)/(n+1);return l}return l.domain=function(f){return arguments.length?([t,e]=f,t=+t,e=+e,c()):[t,e]},l.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,c()):i.slice()},l.invertExtent=function(f){var h=i.indexOf(f);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},l.unknown=function(f){return arguments.length&&(o=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return h5().domain([t,e]).range(i).unknown(o)},Oi.apply(xs(l),arguments)}function d5(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[xd(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var l=e.indexOf(o);return[t[l-1],t[l]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return d5().domain(t).range(e).unknown(n)},Oi.apply(i,arguments)}const yw=new Date,vw=new Date;function Gn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const l=i(o),c=i.ceil(o);return o-l<c-o?l:c},i.offset=(o,l)=>(e(o=new Date(+o),l==null?1:Math.floor(l)),o),i.range=(o,l,c)=>{const f=[];if(o=i.ceil(o),c=c==null?1:Math.floor(c),!(o<l)||!(c>0))return f;let h;do f.push(h=new Date(+o)),e(o,c),t(o);while(h<o&&o<l);return f},i.filter=o=>Gn(l=>{if(l>=l)for(;t(l),!o(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!o(l););else for(;--c>=0;)for(;e(l,1),!o(l););}),n&&(i.count=(o,l)=>(yw.setTime(+o),vw.setTime(+l),t(yw),t(vw),Math.floor(n(yw,vw))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?l=>r(l)%o===0:l=>i.count(0,l)%o===0):i)),i}const ug=Gn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ug.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Gn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ug);ug.range;const Qa=1e3,Ei=Qa*60,Za=Ei*60,so=Za*24,DE=so*7,Nk=so*30,bw=so*365,fl=Gn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Qa)},(t,e)=>(e-t)/Qa,t=>t.getUTCSeconds());fl.range;const LE=Gn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Qa)},(t,e)=>{t.setTime(+t+e*Ei)},(t,e)=>(e-t)/Ei,t=>t.getMinutes());LE.range;const VE=Gn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ei)},(t,e)=>(e-t)/Ei,t=>t.getUTCMinutes());VE.range;const UE=Gn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Qa-t.getMinutes()*Ei)},(t,e)=>{t.setTime(+t+e*Za)},(t,e)=>(e-t)/Za,t=>t.getHours());UE.range;const BE=Gn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Za)},(t,e)=>(e-t)/Za,t=>t.getUTCHours());BE.range;const Ad=Gn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ei)/so,t=>t.getDate()-1);Ad.range;const Ay=Gn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/so,t=>t.getUTCDate()-1);Ay.range;const p5=Gn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/so,t=>Math.floor(t/so));p5.range;function Ml(t){return Gn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ei)/DE)}const Ey=Ml(0),cg=Ml(1),_Z=Ml(2),xZ=Ml(3),rc=Ml(4),wZ=Ml(5),SZ=Ml(6);Ey.range;cg.range;_Z.range;xZ.range;rc.range;wZ.range;SZ.range;function kl(t){return Gn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/DE)}const Ty=kl(0),fg=kl(1),AZ=kl(2),EZ=kl(3),ic=kl(4),TZ=kl(5),OZ=kl(6);Ty.range;fg.range;AZ.range;EZ.range;ic.range;TZ.range;OZ.range;const $E=Gn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());$E.range;const qE=Gn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());qE.range;const lo=Gn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());lo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Gn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});lo.range;const uo=Gn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());uo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Gn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});uo.range;function m5(t,e,n,r,i,o){const l=[[fl,1,Qa],[fl,5,5*Qa],[fl,15,15*Qa],[fl,30,30*Qa],[o,1,Ei],[o,5,5*Ei],[o,15,15*Ei],[o,30,30*Ei],[i,1,Za],[i,3,3*Za],[i,6,6*Za],[i,12,12*Za],[r,1,so],[r,2,2*so],[n,1,DE],[e,1,Nk],[e,3,3*Nk],[t,1,bw]];function c(h,p,m){const v=p<h;v&&([h,p]=[p,h]);const _=m&&typeof m.range=="function"?m:f(h,p,m),S=_?_.range(h,+p+1):[];return v?S.reverse():S}function f(h,p,m){const v=Math.abs(p-h)/m,_=AE(([,,x])=>x).right(l,v);if(_===l.length)return t.every(sS(h/bw,p/bw,m));if(_===0)return ug.every(Math.max(sS(h,p,m),1));const[S,w]=l[v/l[_-1][2]<l[_][2]/v?_-1:_];return S.every(w)}return[c,f]}const[CZ,IZ]=m5(uo,qE,Ty,p5,BE,VE),[RZ,PZ]=m5(lo,$E,Ey,Ad,UE,LE);function _w(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function xw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function $f(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function NZ(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,l=t.shortDays,c=t.months,f=t.shortMonths,h=qf(i),p=zf(i),m=qf(o),v=zf(o),_=qf(l),S=zf(l),w=qf(c),x=zf(c),I=qf(f),N=zf(f),M={a:Y,A:te,b:ce,B:be,c:null,d:Vk,e:Vk,f:tJ,g:fJ,G:dJ,H:ZZ,I:JZ,j:eJ,L:g5,m:nJ,M:rJ,p:F,q:W,Q:$k,s:qk,S:iJ,u:aJ,U:oJ,V:sJ,w:lJ,W:uJ,x:null,X:null,y:cJ,Y:hJ,Z:pJ,"%":Bk},V={a:se,A:ge,b:_e,B:Ae,c:null,d:Uk,e:Uk,f:vJ,g:CJ,G:RJ,H:mJ,I:gJ,j:yJ,L:v5,m:bJ,M:_J,p:je,q:We,Q:$k,s:qk,S:xJ,u:wJ,U:SJ,V:AJ,w:EJ,W:TJ,x:null,X:null,y:OJ,Y:IJ,Z:PJ,"%":Bk},O={a:U,A:D,b:B,B:L,c:J,d:Dk,e:Dk,f:WZ,g:jk,G:kk,H:Lk,I:Lk,j:FZ,L:KZ,m:zZ,M:HZ,p:P,q:qZ,Q:XZ,s:QZ,S:GZ,u:LZ,U:VZ,V:UZ,w:DZ,W:BZ,x:Q,X:H,y:jk,Y:kk,Z:$Z,"%":YZ};M.x=j(n,M),M.X=j(r,M),M.c=j(e,M),V.x=j(n,V),V.X=j(r,V),V.c=j(e,V);function j(pe,Le){return function(qe){var re=[],Ge=-1,we=0,Se=pe.length,Be,Ke,Ce;for(qe instanceof Date||(qe=new Date(+qe));++Ge<Se;)pe.charCodeAt(Ge)===37&&(re.push(pe.slice(we,Ge)),(Ke=Mk[Be=pe.charAt(++Ge)])!=null?Be=pe.charAt(++Ge):Ke=Be==="e"?" ":"0",(Ce=Le[Be])&&(Be=Ce(qe,Ke)),re.push(Be),we=Ge+1);return re.push(pe.slice(we,Ge)),re.join("")}}function T(pe,Le){return function(qe){var re=$f(1900,void 0,1),Ge=R(re,pe,qe+="",0),we,Se;if(Ge!=qe.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(Le&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(we=xw($f(re.y,0,1)),Se=we.getUTCDay(),we=Se>4||Se===0?fg.ceil(we):fg(we),we=Ay.offset(we,(re.V-1)*7),re.y=we.getUTCFullYear(),re.m=we.getUTCMonth(),re.d=we.getUTCDate()+(re.w+6)%7):(we=_w($f(re.y,0,1)),Se=we.getDay(),we=Se>4||Se===0?cg.ceil(we):cg(we),we=Ad.offset(we,(re.V-1)*7),re.y=we.getFullYear(),re.m=we.getMonth(),re.d=we.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),Se="Z"in re?xw($f(re.y,0,1)).getUTCDay():_w($f(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(Se+5)%7:re.w+re.U*7-(Se+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,xw(re)):_w(re)}}function R(pe,Le,qe,re){for(var Ge=0,we=Le.length,Se=qe.length,Be,Ke;Ge<we;){if(re>=Se)return-1;if(Be=Le.charCodeAt(Ge++),Be===37){if(Be=Le.charAt(Ge++),Ke=O[Be in Mk?Le.charAt(Ge++):Be],!Ke||(re=Ke(pe,qe,re))<0)return-1}else if(Be!=qe.charCodeAt(re++))return-1}return re}function P(pe,Le,qe){var re=h.exec(Le.slice(qe));return re?(pe.p=p.get(re[0].toLowerCase()),qe+re[0].length):-1}function U(pe,Le,qe){var re=_.exec(Le.slice(qe));return re?(pe.w=S.get(re[0].toLowerCase()),qe+re[0].length):-1}function D(pe,Le,qe){var re=m.exec(Le.slice(qe));return re?(pe.w=v.get(re[0].toLowerCase()),qe+re[0].length):-1}function B(pe,Le,qe){var re=I.exec(Le.slice(qe));return re?(pe.m=N.get(re[0].toLowerCase()),qe+re[0].length):-1}function L(pe,Le,qe){var re=w.exec(Le.slice(qe));return re?(pe.m=x.get(re[0].toLowerCase()),qe+re[0].length):-1}function J(pe,Le,qe){return R(pe,e,Le,qe)}function Q(pe,Le,qe){return R(pe,n,Le,qe)}function H(pe,Le,qe){return R(pe,r,Le,qe)}function Y(pe){return l[pe.getDay()]}function te(pe){return o[pe.getDay()]}function ce(pe){return f[pe.getMonth()]}function be(pe){return c[pe.getMonth()]}function F(pe){return i[+(pe.getHours()>=12)]}function W(pe){return 1+~~(pe.getMonth()/3)}function se(pe){return l[pe.getUTCDay()]}function ge(pe){return o[pe.getUTCDay()]}function _e(pe){return f[pe.getUTCMonth()]}function Ae(pe){return c[pe.getUTCMonth()]}function je(pe){return i[+(pe.getUTCHours()>=12)]}function We(pe){return 1+~~(pe.getUTCMonth()/3)}return{format:function(pe){var Le=j(pe+="",M);return Le.toString=function(){return pe},Le},parse:function(pe){var Le=T(pe+="",!1);return Le.toString=function(){return pe},Le},utcFormat:function(pe){var Le=j(pe+="",V);return Le.toString=function(){return pe},Le},utcParse:function(pe){var Le=T(pe+="",!0);return Le.toString=function(){return pe},Le}}}var Mk={"-":"",_:" ",0:"0"},Qn=/^\s*\d+/,MZ=/^%/,kZ=/[\\^$*+?|[\]().{}]/g;function Dt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function jZ(t){return t.replace(kZ,"\\$&")}function qf(t){return new RegExp("^(?:"+t.map(jZ).join("|")+")","i")}function zf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function DZ(t,e,n){var r=Qn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function LZ(t,e,n){var r=Qn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function VZ(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function UZ(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function BZ(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function kk(t,e,n){var r=Qn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function jk(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function $Z(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function qZ(t,e,n){var r=Qn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function zZ(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Dk(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function FZ(t,e,n){var r=Qn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Lk(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function HZ(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function GZ(t,e,n){var r=Qn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function KZ(t,e,n){var r=Qn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function WZ(t,e,n){var r=Qn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function YZ(t,e,n){var r=MZ.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function XZ(t,e,n){var r=Qn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function QZ(t,e,n){var r=Qn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Vk(t,e){return Dt(t.getDate(),e,2)}function ZZ(t,e){return Dt(t.getHours(),e,2)}function JZ(t,e){return Dt(t.getHours()%12||12,e,2)}function eJ(t,e){return Dt(1+Ad.count(lo(t),t),e,3)}function g5(t,e){return Dt(t.getMilliseconds(),e,3)}function tJ(t,e){return g5(t,e)+"000"}function nJ(t,e){return Dt(t.getMonth()+1,e,2)}function rJ(t,e){return Dt(t.getMinutes(),e,2)}function iJ(t,e){return Dt(t.getSeconds(),e,2)}function aJ(t){var e=t.getDay();return e===0?7:e}function oJ(t,e){return Dt(Ey.count(lo(t)-1,t),e,2)}function y5(t){var e=t.getDay();return e>=4||e===0?rc(t):rc.ceil(t)}function sJ(t,e){return t=y5(t),Dt(rc.count(lo(t),t)+(lo(t).getDay()===4),e,2)}function lJ(t){return t.getDay()}function uJ(t,e){return Dt(cg.count(lo(t)-1,t),e,2)}function cJ(t,e){return Dt(t.getFullYear()%100,e,2)}function fJ(t,e){return t=y5(t),Dt(t.getFullYear()%100,e,2)}function hJ(t,e){return Dt(t.getFullYear()%1e4,e,4)}function dJ(t,e){var n=t.getDay();return t=n>=4||n===0?rc(t):rc.ceil(t),Dt(t.getFullYear()%1e4,e,4)}function pJ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Dt(e/60|0,"0",2)+Dt(e%60,"0",2)}function Uk(t,e){return Dt(t.getUTCDate(),e,2)}function mJ(t,e){return Dt(t.getUTCHours(),e,2)}function gJ(t,e){return Dt(t.getUTCHours()%12||12,e,2)}function yJ(t,e){return Dt(1+Ay.count(uo(t),t),e,3)}function v5(t,e){return Dt(t.getUTCMilliseconds(),e,3)}function vJ(t,e){return v5(t,e)+"000"}function bJ(t,e){return Dt(t.getUTCMonth()+1,e,2)}function _J(t,e){return Dt(t.getUTCMinutes(),e,2)}function xJ(t,e){return Dt(t.getUTCSeconds(),e,2)}function wJ(t){var e=t.getUTCDay();return e===0?7:e}function SJ(t,e){return Dt(Ty.count(uo(t)-1,t),e,2)}function b5(t){var e=t.getUTCDay();return e>=4||e===0?ic(t):ic.ceil(t)}function AJ(t,e){return t=b5(t),Dt(ic.count(uo(t),t)+(uo(t).getUTCDay()===4),e,2)}function EJ(t){return t.getUTCDay()}function TJ(t,e){return Dt(fg.count(uo(t)-1,t),e,2)}function OJ(t,e){return Dt(t.getUTCFullYear()%100,e,2)}function CJ(t,e){return t=b5(t),Dt(t.getUTCFullYear()%100,e,2)}function IJ(t,e){return Dt(t.getUTCFullYear()%1e4,e,4)}function RJ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ic(t):ic.ceil(t),Dt(t.getUTCFullYear()%1e4,e,4)}function PJ(){return"+0000"}function Bk(){return"%"}function $k(t){return+t}function qk(t){return Math.floor(+t/1e3)}var wu,_5,x5;NJ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function NJ(t){return wu=NZ(t),_5=wu.format,wu.parse,x5=wu.utcFormat,wu.utcParse,wu}function MJ(t){return new Date(t)}function kJ(t){return t instanceof Date?+t:+new Date(+t)}function zE(t,e,n,r,i,o,l,c,f,h){var p=IE(),m=p.invert,v=p.domain,_=h(".%L"),S=h(":%S"),w=h("%I:%M"),x=h("%I %p"),I=h("%a %d"),N=h("%b %d"),M=h("%B"),V=h("%Y");function O(j){return(f(j)<j?_:c(j)<j?S:l(j)<j?w:o(j)<j?x:r(j)<j?i(j)<j?I:N:n(j)<j?M:V)(j)}return p.invert=function(j){return new Date(m(j))},p.domain=function(j){return arguments.length?v(Array.from(j,kJ)):v().map(MJ)},p.ticks=function(j){var T=v();return t(T[0],T[T.length-1],j??10)},p.tickFormat=function(j,T){return T==null?O:h(T)},p.nice=function(j){var T=v();return(!j||typeof j.range!="function")&&(j=e(T[0],T[T.length-1],j??10)),j?v(s5(T,j)):p},p.copy=function(){return Sd(p,zE(t,e,n,r,i,o,l,c,f,h))},p}function jJ(){return Oi.apply(zE(RZ,PZ,lo,$E,Ey,Ad,UE,LE,fl,_5).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function DJ(){return Oi.apply(zE(CZ,IZ,uo,qE,Ty,Ay,BE,VE,fl,x5).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Oy(){var t=0,e=1,n,r,i,o,l=Sr,c=!1,f;function h(m){return m==null||isNaN(m=+m)?f:l(i===0?.5:(m=(o(m)-n)*i,c?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([t,e]=m,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(m){return arguments.length?(c=!!m,h):c},h.interpolator=function(m){return arguments.length?(l=m,h):l};function p(m){return function(v){var _,S;return arguments.length?([_,S]=v,l=m(_,S),h):[l(0),l(1)]}}return h.range=p(jc),h.rangeRound=p(CE),h.unknown=function(m){return arguments.length?(f=m,h):f},function(m){return o=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),h}}function ws(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function w5(){var t=xs(Oy()(Sr));return t.copy=function(){return ws(t,w5())},po.apply(t,arguments)}function S5(){var t=NE(Oy()).domain([1,10]);return t.copy=function(){return ws(t,S5()).base(t.base())},po.apply(t,arguments)}function A5(){var t=ME(Oy());return t.copy=function(){return ws(t,A5()).constant(t.constant())},po.apply(t,arguments)}function FE(){var t=kE(Oy());return t.copy=function(){return ws(t,FE()).exponent(t.exponent())},po.apply(t,arguments)}function LJ(){return FE.apply(null,arguments).exponent(.5)}function E5(){var t=[],e=Sr;function n(r){if(r!=null&&!isNaN(r=+r))return e((xd(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(fs),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>SQ(t,o/r))},n.copy=function(){return E5(e).domain(t)},po.apply(n,arguments)}function Cy(){var t=0,e=.5,n=1,r=1,i,o,l,c,f,h=Sr,p,m=!1,v;function _(w){return isNaN(w=+w)?v:(w=.5+((w=+p(w))-o)*(r*w<r*o?c:f),h(m?Math.max(0,Math.min(1,w)):w))}_.domain=function(w){return arguments.length?([t,e,n]=w,i=p(t=+t),o=p(e=+e),l=p(n=+n),c=i===o?0:.5/(o-i),f=o===l?0:.5/(l-o),r=o<i?-1:1,_):[t,e,n]},_.clamp=function(w){return arguments.length?(m=!!w,_):m},_.interpolator=function(w){return arguments.length?(h=w,_):h};function S(w){return function(x){var I,N,M;return arguments.length?([I,N,M]=x,h=YQ(w,[I,N,M]),_):[h(0),h(.5),h(1)]}}return _.range=S(jc),_.rangeRound=S(CE),_.unknown=function(w){return arguments.length?(v=w,_):v},function(w){return p=w,i=w(t),o=w(e),l=w(n),c=i===o?0:.5/(o-i),f=o===l?0:.5/(l-o),r=o<i?-1:1,_}}function T5(){var t=xs(Cy()(Sr));return t.copy=function(){return ws(t,T5())},po.apply(t,arguments)}function O5(){var t=NE(Cy()).domain([.1,1,10]);return t.copy=function(){return ws(t,O5()).base(t.base())},po.apply(t,arguments)}function C5(){var t=ME(Cy());return t.copy=function(){return ws(t,C5()).constant(t.constant())},po.apply(t,arguments)}function HE(){var t=kE(Cy());return t.copy=function(){return ws(t,HE()).exponent(t.exponent())},po.apply(t,arguments)}function VJ(){return HE.apply(null,arguments).exponent(.5)}const zk=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Mh,scaleDiverging:T5,scaleDivergingLog:O5,scaleDivergingPow:HE,scaleDivergingSqrt:VJ,scaleDivergingSymlog:C5,scaleIdentity:o5,scaleImplicit:lS,scaleLinear:lg,scaleLog:l5,scaleOrdinal:EE,scalePoint:fh,scalePow:jE,scaleQuantile:f5,scaleQuantize:h5,scaleRadial:c5,scaleSequential:w5,scaleSequentialLog:S5,scaleSequentialPow:FE,scaleSequentialQuantile:E5,scaleSequentialSqrt:LJ,scaleSequentialSymlog:A5,scaleSqrt:vZ,scaleSymlog:u5,scaleThreshold:d5,scaleTime:jJ,scaleUtc:DJ,tickFormat:a5},Symbol.toStringTag,{value:"Module"}));var ww,Fk;function Iy(){if(Fk)return ww;Fk=1;var t=Pc();function e(n,r,i){for(var o=-1,l=n.length;++o<l;){var c=n[o],f=r(c);if(f!=null&&(h===void 0?f===f&&!t(f):i(f,h)))var h=f,p=c}return p}return ww=e,ww}var Sw,Hk;function I5(){if(Hk)return Sw;Hk=1;function t(e,n){return e>n}return Sw=t,Sw}var Aw,Gk;function UJ(){if(Gk)return Aw;Gk=1;var t=Iy(),e=I5(),n=kc();function r(i){return i&&i.length?t(i,n,e):void 0}return Aw=r,Aw}var BJ=UJ();const Ry=qt(BJ);var Ew,Kk;function R5(){if(Kk)return Ew;Kk=1;function t(e,n){return e<n}return Ew=t,Ew}var Tw,Wk;function $J(){if(Wk)return Tw;Wk=1;var t=Iy(),e=R5(),n=kc();function r(i){return i&&i.length?t(i,n,e):void 0}return Tw=r,Tw}var qJ=$J();const Py=qt(qJ);var Ow,Yk;function zJ(){if(Yk)return Ow;Yk=1;var t=sE(),e=wa(),n=V6(),r=Vr();function i(o,l){var c=r(o)?t:n;return c(o,e(l,3))}return Ow=i,Ow}var Cw,Xk;function FJ(){if(Xk)return Cw;Xk=1;var t=D6(),e=zJ();function n(r,i){return t(e(r,i),1)}return Cw=n,Cw}var HJ=FJ();const GJ=qt(HJ);var Iw,Qk;function KJ(){if(Qk)return Iw;Qk=1;var t=_E();function e(n,r){return t(n,r)}return Iw=e,Iw}var WJ=KJ();const Ed=qt(WJ);var Dc=1e9,YJ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},KE,dn=!0,Ti="[DecimalError] ",gl=Ti+"Invalid argument: ",GE=Ti+"Exponent out of range: ",Lc=Math.floor,al=Math.pow,XJ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Qr,Yn=1e7,sn=7,P5=9007199254740991,hg=Lc(P5/sn),De={};De.absoluteValue=De.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};De.comparedTo=De.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};De.decimalPlaces=De.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*sn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};De.dividedBy=De.div=function(t){return to(this,new this.constructor(t))};De.dividedToIntegerBy=De.idiv=function(t){var e=this,n=e.constructor;return Zt(to(e,new n(t),0,1),n.precision)};De.equals=De.eq=function(t){return!this.cmp(t)};De.exponent=function(){return jn(this)};De.greaterThan=De.gt=function(t){return this.cmp(t)>0};De.greaterThanOrEqualTo=De.gte=function(t){return this.cmp(t)>=0};De.isInteger=De.isint=function(){return this.e>this.d.length-2};De.isNegative=De.isneg=function(){return this.s<0};De.isPositive=De.ispos=function(){return this.s>0};De.isZero=function(){return this.s===0};De.lessThan=De.lt=function(t){return this.cmp(t)<0};De.lessThanOrEqualTo=De.lte=function(t){return this.cmp(t)<1};De.logarithm=De.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Qr))throw Error(Ti+"NaN");if(n.s<1)throw Error(Ti+(n.s?"NaN":"-Infinity"));return n.eq(Qr)?new r(0):(dn=!1,e=to(Vh(n,o),Vh(t,o),o),dn=!0,Zt(e,i))};De.minus=De.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?k5(e,t):N5(e,(t.s=-t.s,t))};De.modulo=De.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ti+"NaN");return n.s?(dn=!1,e=to(n,t,0,1).times(t),dn=!0,n.minus(e)):Zt(new r(n),i)};De.naturalExponential=De.exp=function(){return M5(this)};De.naturalLogarithm=De.ln=function(){return Vh(this)};De.negated=De.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};De.plus=De.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?N5(e,t):k5(e,(t.s=-t.s,t))};De.precision=De.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(gl+t);if(e=jn(i)+1,r=i.d.length-1,n=r*sn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};De.squareRoot=De.sqrt=function(){var t,e,n,r,i,o,l,c=this,f=c.constructor;if(c.s<1){if(!c.s)return new f(0);throw Error(Ti+"NaN")}for(t=jn(c),dn=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=sa(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Lc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new f(e)):r=new f(i.toString()),n=f.precision,i=l=n+3;;)if(o=r,r=o.plus(to(c,o,l+2)).times(.5),sa(o.d).slice(0,l)===(e=sa(r.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(Zt(o,n+1,0),o.times(o).eq(c)){r=o;break}}else if(e!="9999")break;l+=4}return dn=!0,Zt(r,n)};De.times=De.mul=function(t){var e,n,r,i,o,l,c,f,h,p=this,m=p.constructor,v=p.d,_=(t=new m(t)).d;if(!p.s||!t.s)return new m(0);for(t.s*=p.s,n=p.e+t.e,f=v.length,h=_.length,f<h&&(o=v,v=_,_=o,l=f,f=h,h=l),o=[],l=f+h,r=l;r--;)o.push(0);for(r=h;--r>=0;){for(e=0,i=f+r;i>r;)c=o[i]+_[r]*v[i-r-1]+e,o[i--]=c%Yn|0,e=c/Yn|0;o[i]=(o[i]+e)%Yn|0}for(;!o[--l];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,dn?Zt(t,m.precision):t};De.toDecimalPlaces=De.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ba(t,0,Dc),e===void 0?e=r.rounding:ba(e,0,8),Zt(n,t+jn(n)+1,e))};De.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Tl(r,!0):(ba(t,0,Dc),e===void 0?e=i.rounding:ba(e,0,8),r=Zt(new i(r),t+1,e),n=Tl(r,!0,t+1)),n};De.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Tl(i):(ba(t,0,Dc),e===void 0?e=o.rounding:ba(e,0,8),r=Zt(new o(i),t+jn(i)+1,e),n=Tl(r.abs(),!1,t+jn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};De.toInteger=De.toint=function(){var t=this,e=t.constructor;return Zt(new e(t),jn(t)+1,e.rounding)};De.toNumber=function(){return+this};De.toPower=De.pow=function(t){var e,n,r,i,o,l,c=this,f=c.constructor,h=12,p=+(t=new f(t));if(!t.s)return new f(Qr);if(c=new f(c),!c.s){if(t.s<1)throw Error(Ti+"Infinity");return c}if(c.eq(Qr))return c;if(r=f.precision,t.eq(Qr))return Zt(c,r);if(e=t.e,n=t.d.length-1,l=e>=n,o=c.s,l){if((n=p<0?-p:p)<=P5){for(i=new f(Qr),e=Math.ceil(r/sn+4),dn=!1;n%2&&(i=i.times(c),Jk(i.d,e)),n=Lc(n/2),n!==0;)c=c.times(c),Jk(c.d,e);return dn=!0,t.s<0?new f(Qr).div(i):Zt(i,r)}}else if(o<0)throw Error(Ti+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,dn=!1,i=t.times(Vh(c,r+h)),dn=!0,i=M5(i),i.s=o,i};De.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=jn(i),r=Tl(i,n<=o.toExpNeg||n>=o.toExpPos)):(ba(t,1,Dc),e===void 0?e=o.rounding:ba(e,0,8),i=Zt(new o(i),t,e),n=jn(i),r=Tl(i,t<=n||n<=o.toExpNeg,t)),r};De.toSignificantDigits=De.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ba(t,1,Dc),e===void 0?e=r.rounding:ba(e,0,8)),Zt(new r(n),t,e)};De.toString=De.valueOf=De.val=De.toJSON=De[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=jn(t),n=t.constructor;return Tl(t,e<=n.toExpNeg||e>=n.toExpPos)};function N5(t,e){var n,r,i,o,l,c,f,h,p=t.constructor,m=p.precision;if(!t.s||!e.s)return e.s||(e=new p(t)),dn?Zt(e,m):e;if(f=t.d,h=e.d,l=t.e,i=e.e,f=f.slice(),o=l-i,o){for(o<0?(r=f,o=-o,c=h.length):(r=h,i=l,c=f.length),l=Math.ceil(m/sn),c=l>c?l+1:c+1,o>c&&(o=c,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(c=f.length,o=h.length,c-o<0&&(o=c,r=h,h=f,f=r),n=0;o;)n=(f[--o]=f[o]+h[o]+n)/Yn|0,f[o]%=Yn;for(n&&(f.unshift(n),++i),c=f.length;f[--c]==0;)f.pop();return e.d=f,e.e=i,dn?Zt(e,m):e}function ba(t,e,n){if(t!==~~t||t<e||t>n)throw Error(gl+t)}function sa(t){var e,n,r,i=t.length-1,o="",l=t[0];if(i>0){for(o+=l,e=1;e<i;e++)r=t[e]+"",n=sn-r.length,n&&(o+=Zo(n)),o+=r;l=t[e],r=l+"",n=sn-r.length,n&&(o+=Zo(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return o+l}var to=(function(){function t(r,i){var o,l=0,c=r.length;for(r=r.slice();c--;)o=r[c]*i+l,r[c]=o%Yn|0,l=o/Yn|0;return l&&r.unshift(l),r}function e(r,i,o,l){var c,f;if(o!=l)f=o>l?1:-1;else for(c=f=0;c<o;c++)if(r[c]!=i[c]){f=r[c]>i[c]?1:-1;break}return f}function n(r,i,o){for(var l=0;o--;)r[o]-=l,l=r[o]<i[o]?1:0,r[o]=l*Yn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,l){var c,f,h,p,m,v,_,S,w,x,I,N,M,V,O,j,T,R,P=r.constructor,U=r.s==i.s?1:-1,D=r.d,B=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(Ti+"Division by zero");for(f=r.e-i.e,T=B.length,O=D.length,_=new P(U),S=_.d=[],h=0;B[h]==(D[h]||0);)++h;if(B[h]>(D[h]||0)&&--f,o==null?N=o=P.precision:l?N=o+(jn(r)-jn(i))+1:N=o,N<0)return new P(0);if(N=N/sn+2|0,h=0,T==1)for(p=0,B=B[0],N++;(h<O||p)&&N--;h++)M=p*Yn+(D[h]||0),S[h]=M/B|0,p=M%B|0;else{for(p=Yn/(B[0]+1)|0,p>1&&(B=t(B,p),D=t(D,p),T=B.length,O=D.length),V=T,w=D.slice(0,T),x=w.length;x<T;)w[x++]=0;R=B.slice(),R.unshift(0),j=B[0],B[1]>=Yn/2&&++j;do p=0,c=e(B,w,T,x),c<0?(I=w[0],T!=x&&(I=I*Yn+(w[1]||0)),p=I/j|0,p>1?(p>=Yn&&(p=Yn-1),m=t(B,p),v=m.length,x=w.length,c=e(m,w,v,x),c==1&&(p--,n(m,T<v?R:B,v))):(p==0&&(c=p=1),m=B.slice()),v=m.length,v<x&&m.unshift(0),n(w,m,x),c==-1&&(x=w.length,c=e(B,w,T,x),c<1&&(p++,n(w,T<x?R:B,x))),x=w.length):c===0&&(p++,w=[0]),S[h++]=p,c&&w[0]?w[x++]=D[V]||0:(w=[D[V]],x=1);while((V++<O||w[0]!==void 0)&&N--)}return S[0]||S.shift(),_.e=f,Zt(_,l?o+jn(_)+1:o)}})();function M5(t,e){var n,r,i,o,l,c,f=0,h=0,p=t.constructor,m=p.precision;if(jn(t)>16)throw Error(GE+jn(t));if(!t.s)return new p(Qr);for(dn=!1,c=m,l=new p(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(r=Math.log(al(2,h))/Math.LN10*2+5|0,c+=r,n=i=o=new p(Qr),p.precision=c;;){if(i=Zt(i.times(t),c),n=n.times(++f),l=o.plus(to(i,n,c)),sa(l.d).slice(0,c)===sa(o.d).slice(0,c)){for(;h--;)o=Zt(o.times(o),c);return p.precision=m,e==null?(dn=!0,Zt(o,m)):o}o=l}}function jn(t){for(var e=t.e*sn,n=t.d[0];n>=10;n/=10)e++;return e}function Rw(t,e,n){if(e>t.LN10.sd())throw dn=!0,n&&(t.precision=n),Error(Ti+"LN10 precision limit exceeded");return Zt(new t(t.LN10),e)}function Zo(t){for(var e="";t--;)e+="0";return e}function Vh(t,e){var n,r,i,o,l,c,f,h,p,m=1,v=10,_=t,S=_.d,w=_.constructor,x=w.precision;if(_.s<1)throw Error(Ti+(_.s?"NaN":"-Infinity"));if(_.eq(Qr))return new w(0);if(e==null?(dn=!1,h=x):h=e,_.eq(10))return e==null&&(dn=!0),Rw(w,h);if(h+=v,w.precision=h,n=sa(S),r=n.charAt(0),o=jn(_),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=sa(_.d),r=n.charAt(0),m++;o=jn(_),r>1?(_=new w("0."+n),o++):_=new w(r+"."+n.slice(1))}else return f=Rw(w,h+2,x).times(o+""),_=Vh(new w(r+"."+n.slice(1)),h-v).plus(f),w.precision=x,e==null?(dn=!0,Zt(_,x)):_;for(c=l=_=to(_.minus(Qr),_.plus(Qr),h),p=Zt(_.times(_),h),i=3;;){if(l=Zt(l.times(p),h),f=c.plus(to(l,new w(i),h)),sa(f.d).slice(0,h)===sa(c.d).slice(0,h))return c=c.times(2),o!==0&&(c=c.plus(Rw(w,h+2,x).times(o+""))),c=to(c,new w(m),h),w.precision=x,e==null?(dn=!0,Zt(c,x)):c;c=f,i+=2}}function Zk(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Lc(n/sn),t.d=[],r=(n+1)%sn,n<0&&(r+=sn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=sn;r<i;)t.d.push(+e.slice(r,r+=sn));e=e.slice(r),r=sn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),dn&&(t.e>hg||t.e<-hg))throw Error(GE+n)}else t.s=0,t.e=0,t.d=[0];return t}function Zt(t,e,n){var r,i,o,l,c,f,h,p,m=t.d;for(l=1,o=m[0];o>=10;o/=10)l++;if(r=e-l,r<0)r+=sn,i=e,h=m[p=0];else{if(p=Math.ceil((r+1)/sn),o=m.length,p>=o)return t;for(h=o=m[p],l=1;o>=10;o/=10)l++;r%=sn,i=r-sn+l}if(n!==void 0&&(o=al(10,l-i-1),c=h/o%10|0,f=e<0||m[p+1]!==void 0||h%o,f=n<4?(c||f)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||f||n==6&&(r>0?i>0?h/al(10,l-i):0:m[p-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return f?(o=jn(t),m.length=1,e=e-o-1,m[0]=al(10,(sn-e%sn)%sn),t.e=Lc(-e/sn)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=p,o=1,p--):(m.length=p+1,o=al(10,sn-r),m[p]=i>0?(h/al(10,l-i)%al(10,i)|0)*o:0),f)for(;;)if(p==0){(m[0]+=o)==Yn&&(m[0]=1,++t.e);break}else{if(m[p]+=o,m[p]!=Yn)break;m[p--]=0,o=1}for(r=m.length;m[--r]===0;)m.pop();if(dn&&(t.e>hg||t.e<-hg))throw Error(GE+jn(t));return t}function k5(t,e){var n,r,i,o,l,c,f,h,p,m,v=t.constructor,_=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),dn?Zt(e,_):e;if(f=t.d,m=e.d,r=e.e,h=t.e,f=f.slice(),l=h-r,l){for(p=l<0,p?(n=f,l=-l,c=m.length):(n=m,r=h,c=f.length),i=Math.max(Math.ceil(_/sn),c)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=f.length,c=m.length,p=i<c,p&&(c=i),i=0;i<c;i++)if(f[i]!=m[i]){p=f[i]<m[i];break}l=0}for(p&&(n=f,f=m,m=n,e.s=-e.s),c=f.length,i=m.length-c;i>0;--i)f[c++]=0;for(i=m.length;i>l;){if(f[--i]<m[i]){for(o=i;o&&f[--o]===0;)f[o]=Yn-1;--f[o],f[i]+=Yn}f[i]-=m[i]}for(;f[--c]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(e.d=f,e.e=r,dn?Zt(e,_):e):new v(0)}function Tl(t,e,n){var r,i=jn(t),o=sa(t.d),l=o.length;return e?(n&&(r=n-l)>0?o=o.charAt(0)+"."+o.slice(1)+Zo(r):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Zo(-i-1)+o,n&&(r=n-l)>0&&(o+=Zo(r))):i>=l?(o+=Zo(i+1-l),n&&(r=n-i-1)>0&&(o=o+"."+Zo(r))):((r=i+1)<l&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(o+="."),o+=Zo(r))),t.s<0?"-"+o:o}function Jk(t,e){if(t.length>e)return t.length=e,!0}function j5(t){var e,n,r;function i(o){var l=this;if(!(l instanceof i))return new i(o);if(l.constructor=i,o instanceof i){l.s=o.s,l.e=o.e,l.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(gl+o);if(o>0)l.s=1;else if(o<0)o=-o,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(o===~~o&&o<1e7){l.e=0,l.d=[o];return}return Zk(l,o.toString())}else if(typeof o!="string")throw Error(gl+o);if(o.charCodeAt(0)===45?(o=o.slice(1),l.s=-1):l.s=1,XJ.test(o))Zk(l,o);else throw Error(gl+o)}if(i.prototype=De,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=j5,i.config=i.set=QJ,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function QJ(t){if(!t||typeof t!="object")throw Error(Ti+"Object expected");var e,n,r,i=["precision",1,Dc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Lc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(gl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(gl+n+": "+r);return this}var KE=j5(YJ);Qr=new KE(1);const Yt=KE;function ZJ(t){return nee(t)||tee(t)||eee(t)||JJ()}function JJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eee(t,e){if(t){if(typeof t=="string")return hS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hS(t,e)}}function tee(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function nee(t){if(Array.isArray(t))return hS(t)}function hS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ree=function(e){return e},D5={},L5=function(e){return e===D5},ej=function(e){return function n(){return arguments.length===0||arguments.length===1&&L5(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},iee=function t(e,n){return e===1?n:ej(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var l=i.filter(function(c){return c!==D5}).length;return l>=e?n.apply(void 0,i):t(e-l,ej(function(){for(var c=arguments.length,f=new Array(c),h=0;h<c;h++)f[h]=arguments[h];var p=i.map(function(m){return L5(m)?f.shift():m});return n.apply(void 0,ZJ(p).concat(f))}))})},Ny=function(e){return iee(e.length,e)},dS=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},aee=Ny(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),oee=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return ree;var i=n.reverse(),o=i[0],l=i.slice(1);return function(){return l.reduce(function(c,f){return f(c)},o.apply(void 0,arguments))}},pS=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},V5=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return n&&o.every(function(c,f){return c===n[f]})||(n=o,r=e.apply(void 0,o)),r}};function see(t){var e;return t===0?e=1:e=Math.floor(new Yt(t).abs().log(10).toNumber())+1,e}function lee(t,e,n){for(var r=new Yt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var uee=Ny(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),cee=Ny(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),fee=Ny(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const My={rangeStep:lee,getDigitCount:see,interpolateNumber:uee,uninterpolateNumber:cee,uninterpolateTruncation:fee};function mS(t){return pee(t)||dee(t)||U5(t)||hee()}function hee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dee(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function pee(t){if(Array.isArray(t))return gS(t)}function Uh(t,e){return yee(t)||gee(t,e)||U5(t,e)||mee()}function mee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U5(t,e){if(t){if(typeof t=="string")return gS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gS(t,e)}}function gS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gee(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var l=t[Symbol.iterator](),c;!(r=(c=l.next()).done)&&(n.push(c.value),!(e&&n.length===e));r=!0);}catch(f){i=!0,o=f}finally{try{!r&&l.return!=null&&l.return()}finally{if(i)throw o}}return n}}function yee(t){if(Array.isArray(t))return t}function B5(t){var e=Uh(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function $5(t,e,n){if(t.lte(0))return new Yt(0);var r=My.getDigitCount(t.toNumber()),i=new Yt(10).pow(r),o=t.div(i),l=r!==1?.05:.1,c=new Yt(Math.ceil(o.div(l).toNumber())).add(n).mul(l),f=c.mul(i);return e?f:new Yt(Math.ceil(f))}function vee(t,e,n){var r=1,i=new Yt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Yt(10).pow(My.getDigitCount(t)-1),i=new Yt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Yt(Math.floor(t)))}else t===0?i=new Yt(Math.floor((e-1)/2)):n||(i=new Yt(Math.floor(t)));var l=Math.floor((e-1)/2),c=oee(aee(function(f){return i.add(new Yt(f-l).mul(r)).toNumber()}),dS);return c(0,e)}function q5(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Yt(0),tickMin:new Yt(0),tickMax:new Yt(0)};var o=$5(new Yt(e).sub(t).div(n-1),r,i),l;t<=0&&e>=0?l=new Yt(0):(l=new Yt(t).add(e).div(2),l=l.sub(new Yt(l).mod(o)));var c=Math.ceil(l.sub(t).div(o).toNumber()),f=Math.ceil(new Yt(e).sub(l).div(o).toNumber()),h=c+f+1;return h>n?q5(t,e,n,r,i+1):(h<n&&(f=e>0?f+(n-h):f,c=e>0?c:c+(n-h)),{step:o,tickMin:l.sub(new Yt(c).mul(o)),tickMax:l.add(new Yt(f).mul(o))})}function bee(t){var e=Uh(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),c=B5([n,r]),f=Uh(c,2),h=f[0],p=f[1];if(h===-1/0||p===1/0){var m=p===1/0?[h].concat(mS(dS(0,i-1).map(function(){return 1/0}))):[].concat(mS(dS(0,i-1).map(function(){return-1/0})),[p]);return n>r?pS(m):m}if(h===p)return vee(h,i,o);var v=q5(h,p,l,o),_=v.step,S=v.tickMin,w=v.tickMax,x=My.rangeStep(S,w.add(new Yt(.1).mul(_)),_);return n>r?pS(x):x}function _ee(t,e){var n=Uh(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=B5([r,i]),c=Uh(l,2),f=c[0],h=c[1];if(f===-1/0||h===1/0)return[r,i];if(f===h)return[f];var p=Math.max(e,2),m=$5(new Yt(h).sub(f).div(p-1),o,0),v=[].concat(mS(My.rangeStep(new Yt(f),new Yt(h).sub(new Yt(.99).mul(m)),m)),[h]);return r>i?pS(v):v}var xee=V5(bee),wee=V5(_ee),See="Invariant failed";function Ol(t,e){throw new Error(See)}var Aee=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ac(t){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ac(t)}function dg(){return dg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dg.apply(this,arguments)}function Eee(t,e){return Iee(t)||Cee(t,e)||Oee(t,e)||Tee()}function Tee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oee(t,e){if(t){if(typeof t=="string")return tj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tj(t,e)}}function tj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cee(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,l,c=[],f=!0,h=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(f=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function Iee(t){if(Array.isArray(t))return t}function Ree(t,e){if(t==null)return{};var n=Pee(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Nee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H5(r.key),r)}}function kee(t,e,n){return e&&Mee(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jee(t,e,n){return e=pg(e),Dee(t,z5()?Reflect.construct(e,n||[],pg(t).constructor):e.apply(t,n))}function Dee(t,e){if(e&&(ac(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lee(t)}function Lee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z5=function(){return!!t})()}function pg(t){return pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pg(t)}function Vee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yS(t,e)}function yS(t,e){return yS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yS(t,e)}function F5(t,e,n){return e=H5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H5(t){var e=Uee(t,"string");return ac(e)=="symbol"?e:e+""}function Uee(t,e){if(ac(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ac(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Td=(function(t){function e(){return Nee(this,e),jee(this,e,arguments)}return Vee(e,t),kee(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,l=r.width,c=r.dataKey,f=r.data,h=r.dataPointFormatter,p=r.xAxis,m=r.yAxis,v=Ree(r,Aee),_=Ye(v,!1);this.props.direction==="x"&&p.type!=="number"&&Ol();var S=f.map(function(w){var x=h(w,c),I=x.x,N=x.y,M=x.value,V=x.errorVal;if(!V)return null;var O=[],j,T;if(Array.isArray(V)){var R=Eee(V,2);j=R[0],T=R[1]}else j=T=V;if(o==="vertical"){var P=p.scale,U=N+i,D=U+l,B=U-l,L=P(M-j),J=P(M+T);O.push({x1:J,y1:D,x2:J,y2:B}),O.push({x1:L,y1:U,x2:J,y2:U}),O.push({x1:L,y1:D,x2:L,y2:B})}else if(o==="horizontal"){var Q=m.scale,H=I+i,Y=H-l,te=H+l,ce=Q(M-j),be=Q(M+T);O.push({x1:Y,y1:be,x2:te,y2:be}),O.push({x1:H,y1:ce,x2:H,y2:be}),O.push({x1:Y,y1:ce,x2:te,y2:ce})}return K.createElement(jt,dg({className:"recharts-errorBar",key:"bar-".concat(O.map(function(F){return"".concat(F.x1,"-").concat(F.x2,"-").concat(F.y1,"-").concat(F.y2)}))},_),O.map(function(F){return K.createElement("line",dg({},F,{key:"line-".concat(F.x1,"-").concat(F.x2,"-").concat(F.y1,"-").concat(F.y2)}))}))});return K.createElement(jt,{className:"recharts-errorBars"},S)}}])})(K.Component);F5(Td,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});F5(Td,"displayName","ErrorBar");function Bh(t){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}function nj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function el(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nj(Object(n),!0).forEach(function(r){Bee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bee(t,e,n){return e=$ee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ee(t){var e=qee(t,"string");return Bh(e)=="symbol"?e:e+""}function qee(t,e){if(Bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var G5=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,l=Wr(n,cs);if(!l)return null;var c=cs.defaultProps,f=c!==void 0?el(el({},c),l.props):{},h;return l.props&&l.props.payload?h=l.props&&l.props.payload:o==="children"?h=(r||[]).reduce(function(p,m){var v=m.item,_=m.props,S=_.sectors||_.data||[];return p.concat(S.map(function(w){return{type:l.props.iconType||v.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):h=(r||[]).map(function(p){var m=p.item,v=m.type.defaultProps,_=v!==void 0?el(el({},v),m.props):{},S=_.dataKey,w=_.name,x=_.legendType,I=_.hide;return{inactive:I,dataKey:S,type:f.iconType||x||"square",color:WE(m),value:w||S,payload:_}}),el(el(el({},f),cs.getWithHeight(l,i)),{},{payload:h,item:l})};function $h(t){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$h(t)}function rj(t){return Gee(t)||Hee(t)||Fee(t)||zee()}function zee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fee(t,e){if(t){if(typeof t=="string")return vS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vS(t,e)}}function Hee(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gee(t){if(Array.isArray(t))return vS(t)}function vS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ij(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ij(Object(n),!0).forEach(function(r){qu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ij(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qu(t,e,n){return e=Kee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kee(t){var e=Wee(t,"string");return $h(e)=="symbol"?e:e+""}function Wee(t,e){if($h(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($h(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $n(t,e,n){return lt(t)||lt(e)?n:zn(e)?Jr(t,e,n):it(e)?e(t):n}function hh(t,e,n,r){var i=GJ(t,function(c){return $n(c,e)});if(n==="number"){var o=i.filter(function(c){return Ee(c)||parseFloat(c)});return o.length?[Py(o),Ry(o)]:[1/0,-1/0]}var l=r?i.filter(function(c){return!lt(c)}):i;return l.map(function(c){return zn(c)||c instanceof Date?c:""})}var Yee=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,l=-1,c=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(c<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var f=o.range,h=0;h<c;h++){var p=h>0?i[h-1].coordinate:i[c-1].coordinate,m=i[h].coordinate,v=h>=c-1?i[0].coordinate:i[h+1].coordinate,_=void 0;if(xr(m-p)!==xr(v-m)){var S=[];if(xr(v-m)===xr(f[1]-f[0])){_=v;var w=m+f[1]-f[0];S[0]=Math.min(w,(w+p)/2),S[1]=Math.max(w,(w+p)/2)}else{_=p;var x=v+f[1]-f[0];S[0]=Math.min(m,(x+m)/2),S[1]=Math.max(m,(x+m)/2)}var I=[Math.min(m,(_+m)/2),Math.max(m,(_+m)/2)];if(e>I[0]&&e<=I[1]||e>=S[0]&&e<=S[1]){l=i[h].index;break}}else{var N=Math.min(p,v),M=Math.max(p,v);if(e>(N+m)/2&&e<=(M+m)/2){l=i[h].index;break}}}else for(var V=0;V<c;V++)if(V===0&&e<=(r[V].coordinate+r[V+1].coordinate)/2||V>0&&V<c-1&&e>(r[V].coordinate+r[V-1].coordinate)/2&&e<=(r[V].coordinate+r[V+1].coordinate)/2||V===c-1&&e>(r[V].coordinate+r[V-1].coordinate)/2){l=r[V].index;break}return l},WE=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?wn(wn({},e.type.defaultProps),e.props):e.props,l=o.stroke,c=o.fill,f;switch(i){case"Line":f=l;break;case"Area":case"Radar":f=l&&l!=="none"?l:c;break;default:f=c;break}return f},Xee=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var l={},c=Object.keys(o),f=0,h=c.length;f<h;f++)for(var p=o[c[f]].stackGroups,m=Object.keys(p),v=0,_=m.length;v<_;v++){var S=p[m[v]],w=S.items,x=S.cateAxisId,I=w.filter(function(T){return eo(T.type).indexOf("Bar")>=0});if(I&&I.length){var N=I[0].type.defaultProps,M=N!==void 0?wn(wn({},N),I[0].props):I[0].props,V=M.barSize,O=M[x];l[O]||(l[O]=[]);var j=lt(V)?n:V;l[O].push({item:I[0],stackList:I.slice(1),barSize:lt(j)?void 0:wr(j,r,0)})}}return l},Qee=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,l=o===void 0?[]:o,c=e.maxBarSize,f=l.length;if(f<1)return null;var h=wr(n,i,0,!0),p,m=[];if(l[0].barSize===+l[0].barSize){var v=!1,_=i/f,S=l.reduce(function(V,O){return V+O.barSize||0},0);S+=(f-1)*h,S>=i&&(S-=(f-1)*h,h=0),S>=i&&_>0&&(v=!0,_*=.9,S=f*_);var w=(i-S)/2>>0,x={offset:w-h,size:0};p=l.reduce(function(V,O){var j={item:O.item,position:{offset:x.offset+x.size+h,size:v?_:O.barSize}},T=[].concat(rj(V),[j]);return x=T[T.length-1].position,O.stackList&&O.stackList.length&&O.stackList.forEach(function(R){T.push({item:R,position:x})}),T},m)}else{var I=wr(r,i,0,!0);i-2*I-(f-1)*h<=0&&(h=0);var N=(i-2*I-(f-1)*h)/f;N>1&&(N>>=0);var M=c===+c?Math.min(N,c):N;p=l.reduce(function(V,O,j){var T=[].concat(rj(V),[{item:O.item,position:{offset:I+(N+h)*j+(N-M)/2,size:M}}]);return O.stackList&&O.stackList.length&&O.stackList.forEach(function(R){T.push({item:R,position:T[T.length-1].position})}),T},m)}return p},Zee=function(e,n,r,i){var o=r.children,l=r.width,c=r.margin,f=l-(c.left||0)-(c.right||0),h=G5({children:o,legendWidth:f});if(h){var p=i||{},m=p.width,v=p.height,_=h.align,S=h.verticalAlign,w=h.layout;if((w==="vertical"||w==="horizontal"&&S==="middle")&&_!=="center"&&Ee(e[_]))return wn(wn({},e),{},qu({},_,e[_]+(m||0)));if((w==="horizontal"||w==="vertical"&&_==="center")&&S!=="middle"&&Ee(e[S]))return wn(wn({},e),{},qu({},S,e[S]+(v||0)))}return e},Jee=function(e,n,r){return lt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},K5=function(e,n,r,i,o){var l=n.props.children,c=ei(l,Td).filter(function(h){return Jee(i,o,h.props.direction)});if(c&&c.length){var f=c.map(function(h){return h.props.dataKey});return e.reduce(function(h,p){var m=$n(p,r);if(lt(m))return h;var v=Array.isArray(m)?[Py(m),Ry(m)]:[m,m],_=f.reduce(function(S,w){var x=$n(p,w,0),I=v[0]-Math.abs(Array.isArray(x)?x[0]:x),N=v[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(I,S[0]),Math.max(N,S[1])]},[1/0,-1/0]);return[Math.min(_[0],h[0]),Math.max(_[1],h[1])]},[1/0,-1/0])}return null},ete=function(e,n,r,i,o){var l=n.map(function(c){return K5(e,c,r,o,i)}).filter(function(c){return!lt(c)});return l&&l.length?l.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]):null},W5=function(e,n,r,i,o){var l=n.map(function(f){var h=f.props.dataKey;return r==="number"&&h&&K5(e,f,h,i)||hh(e,h,r,o)});if(r==="number")return l.reduce(function(f,h){return[Math.min(f[0],h[0]),Math.max(f[1],h[1])]},[1/0,-1/0]);var c={};return l.reduce(function(f,h){for(var p=0,m=h.length;p<m;p++)c[h[p]]||(c[h[p]]=!0,f.push(h[p]));return f},[])},Y5=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},X5=function(e,n,r,i){if(i)return e.map(function(f){return f.coordinate});var o,l,c=e.map(function(f){return f.coordinate===n&&(o=!0),f.coordinate===r&&(l=!0),f.coordinate});return o||c.push(n),l||c.push(r),c},Ja=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,l=e.type,c=e.range,f=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,h=(n||r)&&l==="category"&&i.bandwidth?i.bandwidth()/f:0;if(h=e.axisType==="angleAxis"&&(c==null?void 0:c.length)>=2?xr(c[0]-c[1])*2*h:h,n&&(e.ticks||e.niceTicks)){var p=(e.ticks||e.niceTicks).map(function(m){var v=o?o.indexOf(m):m;return{coordinate:i(v)+h,value:m,offset:h}});return p.filter(function(m){return!bd(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,v){return{coordinate:i(m)+h,value:m,index:v,offset:h}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(m){return{coordinate:i(m)+h,value:m,offset:h}}):i.domain().map(function(m,v){return{coordinate:i(m)+h,value:o?o[m]:m,index:v,offset:h}})},Pw=new WeakMap,am=function(e,n){if(typeof n!="function")return e;Pw.has(e)||Pw.set(e,new WeakMap);var r=Pw.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Q5=function(e,n,r){var i=e.scale,o=e.type,l=e.layout,c=e.axisType;if(i==="auto")return l==="radial"&&c==="radiusAxis"?{scale:Mh(),realScaleType:"band"}:l==="radial"&&c==="angleAxis"?{scale:lg(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:fh(),realScaleType:"point"}:o==="category"?{scale:Mh(),realScaleType:"band"}:{scale:lg(),realScaleType:"linear"};if(Sl(i)){var f="scale".concat(my(i));return{scale:(zk[f]||fh)(),realScaleType:zk[f]?f:"point"}}return it(i)?{scale:i}:{scale:fh(),realScaleType:"point"}},aj=1e-4,Z5=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-aj,l=Math.max(i[0],i[1])+aj,c=e(n[0]),f=e(n[r-1]);(c<o||c>l||f<o||f>l)&&e.domain([n[0],n[r-1]])}},tte=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},nte=function(e,n){if(!n||n.length!==2||!Ee(n[0])||!Ee(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!Ee(e[0])||e[0]<r)&&(o[0]=r),(!Ee(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},rte=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,l=0,c=0;c<n;++c){var f=bd(e[c][r][1])?e[c][r][0]:e[c][r][1];f>=0?(e[c][r][0]=o,e[c][r][1]=o+f,o=e[c][r][1]):(e[c][r][0]=l,e[c][r][1]=l+f,l=e[c][r][1])}},ite=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,l=0;l<n;++l){var c=bd(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=o,e[l][r][1]=o+c,o=e[l][r][1]):(e[l][r][0]=0,e[l][r][1]=0)}},ate={sign:rte,expand:GK,none:Qu,silhouette:KK,wiggle:WK,positive:ite},ote=function(e,n,r){var i=n.map(function(c){return c.props.dataKey}),o=ate[r],l=HK().keys(i).value(function(c,f){return+$n(c,f,0)}).order(W1).offset(o);return l(e)},ste=function(e,n,r,i,o,l){if(!e)return null;var c=l?n.reverse():n,f={},h=c.reduce(function(m,v){var _,S=(_=v.type)!==null&&_!==void 0&&_.defaultProps?wn(wn({},v.type.defaultProps),v.props):v.props,w=S.stackId,x=S.hide;if(x)return m;var I=S[r],N=m[I]||{hasStack:!1,stackGroups:{}};if(zn(w)){var M=N.stackGroups[w]||{numericAxisId:r,cateAxisId:i,items:[]};M.items.push(v),N.hasStack=!0,N.stackGroups[w]=M}else N.stackGroups[Mc("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[v]};return wn(wn({},m),{},qu({},I,N))},f),p={};return Object.keys(h).reduce(function(m,v){var _=h[v];if(_.hasStack){var S={};_.stackGroups=Object.keys(_.stackGroups).reduce(function(w,x){var I=_.stackGroups[x];return wn(wn({},w),{},qu({},x,{numericAxisId:r,cateAxisId:i,items:I.items,stackedData:ote(e,I.items,o)}))},S)}return wn(wn({},m),{},qu({},v,_))},p)},J5=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,l=n.originalDomain,c=n.allowDecimals,f=r||n.scale;if(f!=="auto"&&f!=="linear")return null;if(o&&i==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var h=e.domain();if(!h.length)return null;var p=xee(h,o,c);return e.domain([Py(p),Ry(p)]),{niceTicks:p}}if(o&&i==="number"){var m=e.domain(),v=wee(m,o,c);return{niceTicks:v}}return null};function oj(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,l=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!lt(i[e.dataKey])){var c=Fm(n,"value",i[e.dataKey]);if(c)return c.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var f=$n(i,lt(l)?e.dataKey:l);return lt(f)?null:e.scale(f)}var sj=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,l=e.entry,c=e.index;if(n.type==="category")return r[c]?r[c].coordinate+i:null;var f=$n(l,n.dataKey,n.domain[c]);return lt(f)?null:n.scale(f)-o/2+i},lte=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},ute=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?wn(wn({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(zn(o)){var l=n[o];if(l){var c=l.items.indexOf(e);return c>=0?l.stackedData[c]:null}}return null},cte=function(e){return e.reduce(function(n,r){return[Py(r.concat([n[0]]).filter(Ee)),Ry(r.concat([n[1]]).filter(Ee))]},[1/0,-1/0])},eV=function(e,n,r){return Object.keys(e).reduce(function(i,o){var l=e[o],c=l.stackedData,f=c.reduce(function(h,p){var m=cte(p.slice(n,r+1));return[Math.min(h[0],m[0]),Math.max(h[1],m[1])]},[1/0,-1/0]);return[Math.min(f[0],i[0]),Math.max(f[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},lj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bS=function(e,n,r){if(it(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Ee(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(lj.test(e[0])){var o=+lj.exec(e[0])[1];i[0]=n[0]-o}else it(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Ee(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(uj.test(e[1])){var l=+uj.exec(e[1])[1];i[1]=n[1]+l}else it(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},mg=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=wE(n,function(m){return m.coordinate}),l=1/0,c=1,f=o.length;c<f;c++){var h=o[c],p=o[c-1];l=Math.min((h.coordinate||0)-(p.coordinate||0),l)}return l===1/0?0:l}return r?void 0:0},cj=function(e,n,r){return!e||!e.length||Ed(e,Jr(r,"type.defaultProps.domain"))?n:e},tV=function(e,n){var r=e.type.defaultProps?wn(wn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,l=r.unit,c=r.formatter,f=r.tooltipType,h=r.chartType,p=r.hide;return wn(wn({},Ye(e,!1)),{},{dataKey:i,unit:l,formatter:c,name:o||i,color:WE(e),value:$n(n,i),type:f,payload:n,chartType:h,hide:p})};function qh(t){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qh(t)}function fj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ka(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fj(Object(n),!0).forEach(function(r){nV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nV(t,e,n){return e=fte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fte(t){var e=hte(t,"string");return qh(e)=="symbol"?e:e+""}function hte(t,e){if(qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dte(t,e){return yte(t)||gte(t,e)||mte(t,e)||pte()}function pte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mte(t,e){if(t){if(typeof t=="string")return hj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hj(t,e)}}function hj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,l,c=[],f=!0,h=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(f=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function yte(t){if(Array.isArray(t))return t}var gg=Math.PI/180,vte=function(e){return e*180/Math.PI},nn=function(e,n,r,i){return{x:e+Math.cos(-gg*i)*r,y:n+Math.sin(-gg*i)*r}},rV=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},bte=function(e,n,r,i,o){var l=e.width,c=e.height,f=e.startAngle,h=e.endAngle,p=wr(e.cx,l,l/2),m=wr(e.cy,c,c/2),v=rV(l,c,r),_=wr(e.innerRadius,v,0),S=wr(e.outerRadius,v,v*.8),w=Object.keys(n);return w.reduce(function(x,I){var N=n[I],M=N.domain,V=N.reversed,O;if(lt(N.range))i==="angleAxis"?O=[f,h]:i==="radiusAxis"&&(O=[_,S]),V&&(O=[O[1],O[0]]);else{O=N.range;var j=O,T=dte(j,2);f=T[0],h=T[1]}var R=Q5(N,o),P=R.realScaleType,U=R.scale;U.domain(M).range(O),Z5(U);var D=J5(U,Ka(Ka({},N),{},{realScaleType:P})),B=Ka(Ka(Ka({},N),D),{},{range:O,radius:S,realScaleType:P,scale:U,cx:p,cy:m,innerRadius:_,outerRadius:S,startAngle:f,endAngle:h});return Ka(Ka({},x),{},nV({},I,B))},{})},_te=function(e,n){var r=e.x,i=e.y,o=n.x,l=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-l,2))},xte=function(e,n){var r=e.x,i=e.y,o=n.cx,l=n.cy,c=_te({x:r,y:i},{x:o,y:l});if(c<=0)return{radius:c};var f=(r-o)/c,h=Math.acos(f);return i>l&&(h=2*Math.PI-h),{radius:c,angle:vte(h),angleInRadian:h}},wte=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),l=Math.min(i,o);return{startAngle:n-l*360,endAngle:r-l*360}},Ste=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),l=Math.floor(i/360),c=Math.min(o,l);return e+c*360},dj=function(e,n){var r=e.x,i=e.y,o=xte({x:r,y:i},n),l=o.radius,c=o.angle,f=n.innerRadius,h=n.outerRadius;if(l<f||l>h)return!1;if(l===0)return!0;var p=wte(n),m=p.startAngle,v=p.endAngle,_=c,S;if(m<=v){for(;_>v;)_-=360;for(;_<m;)_+=360;S=_>=m&&_<=v}else{for(;_>m;)_-=360;for(;_<v;)_+=360;S=_>=v&&_<=m}return S?Ka(Ka({},n),{},{radius:l,angle:Ste(_,n)}):null},iV=function(e){return!q.isValidElement(e)&&!it(e)&&typeof e!="boolean"?e.className:""};function zh(t){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zh(t)}var Ate=["offset"];function Ete(t){return Ite(t)||Cte(t)||Ote(t)||Tte()}function Tte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ote(t,e){if(t){if(typeof t=="string")return _S(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _S(t,e)}}function Cte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ite(t){if(Array.isArray(t))return _S(t)}function _S(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rte(t,e){if(t==null)return{};var n=Pte(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Pte(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Un(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pj(Object(n),!0).forEach(function(r){Nte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nte(t,e,n){return e=Mte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mte(t){var e=kte(t,"string");return zh(e)=="symbol"?e:e+""}function kte(t,e){if(zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fh(){return Fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fh.apply(this,arguments)}var jte=function(e){var n=e.value,r=e.formatter,i=lt(e.children)?n:e.children;return it(r)?r(i):i},Dte=function(e,n){var r=xr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Lte=function(e,n,r){var i=e.position,o=e.viewBox,l=e.offset,c=e.className,f=o,h=f.cx,p=f.cy,m=f.innerRadius,v=f.outerRadius,_=f.startAngle,S=f.endAngle,w=f.clockWise,x=(m+v)/2,I=Dte(_,S),N=I>=0?1:-1,M,V;i==="insideStart"?(M=_+N*l,V=w):i==="insideEnd"?(M=S-N*l,V=!w):i==="end"&&(M=S+N*l,V=w),V=I<=0?V:!V;var O=nn(h,p,x,M),j=nn(h,p,x,M+(V?1:-1)*359),T="M".concat(O.x,",").concat(O.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(V?0:1,`,
    `).concat(j.x,",").concat(j.y),R=lt(e.id)?Mc("recharts-radial-line-"):e.id;return K.createElement("text",Fh({},r,{dominantBaseline:"central",className:bt("recharts-radial-bar-label",c)}),K.createElement("defs",null,K.createElement("path",{id:R,d:T})),K.createElement("textPath",{xlinkHref:"#".concat(R)},n))},Vte=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,l=o.cx,c=o.cy,f=o.innerRadius,h=o.outerRadius,p=o.startAngle,m=o.endAngle,v=(p+m)/2;if(i==="outside"){var _=nn(l,c,h+r,v),S=_.x,w=_.y;return{x:S,y:w,textAnchor:S>=l?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:l,y:c,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:l,y:c,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:l,y:c,textAnchor:"middle",verticalAnchor:"end"};var x=(f+h)/2,I=nn(l,c,x,v),N=I.x,M=I.y;return{x:N,y:M,textAnchor:"middle",verticalAnchor:"middle"}},Ute=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,l=n,c=l.x,f=l.y,h=l.width,p=l.height,m=p>=0?1:-1,v=m*i,_=m>0?"end":"start",S=m>0?"start":"end",w=h>=0?1:-1,x=w*i,I=w>0?"end":"start",N=w>0?"start":"end";if(o==="top"){var M={x:c+h/2,y:f-m*i,textAnchor:"middle",verticalAnchor:_};return Un(Un({},M),r?{height:Math.max(f-r.y,0),width:h}:{})}if(o==="bottom"){var V={x:c+h/2,y:f+p+v,textAnchor:"middle",verticalAnchor:S};return Un(Un({},V),r?{height:Math.max(r.y+r.height-(f+p),0),width:h}:{})}if(o==="left"){var O={x:c-x,y:f+p/2,textAnchor:I,verticalAnchor:"middle"};return Un(Un({},O),r?{width:Math.max(O.x-r.x,0),height:p}:{})}if(o==="right"){var j={x:c+h+x,y:f+p/2,textAnchor:N,verticalAnchor:"middle"};return Un(Un({},j),r?{width:Math.max(r.x+r.width-j.x,0),height:p}:{})}var T=r?{width:h,height:p}:{};return o==="insideLeft"?Un({x:c+x,y:f+p/2,textAnchor:N,verticalAnchor:"middle"},T):o==="insideRight"?Un({x:c+h-x,y:f+p/2,textAnchor:I,verticalAnchor:"middle"},T):o==="insideTop"?Un({x:c+h/2,y:f+v,textAnchor:"middle",verticalAnchor:S},T):o==="insideBottom"?Un({x:c+h/2,y:f+p-v,textAnchor:"middle",verticalAnchor:_},T):o==="insideTopLeft"?Un({x:c+x,y:f+v,textAnchor:N,verticalAnchor:S},T):o==="insideTopRight"?Un({x:c+h-x,y:f+v,textAnchor:I,verticalAnchor:S},T):o==="insideBottomLeft"?Un({x:c+x,y:f+p-v,textAnchor:N,verticalAnchor:_},T):o==="insideBottomRight"?Un({x:c+h-x,y:f+p-v,textAnchor:I,verticalAnchor:_},T):Nc(o)&&(Ee(o.x)||ul(o.x))&&(Ee(o.y)||ul(o.y))?Un({x:c+wr(o.x,h),y:f+wr(o.y,p),textAnchor:"end",verticalAnchor:"end"},T):Un({x:c+h/2,y:f+p/2,textAnchor:"middle",verticalAnchor:"middle"},T)},Bte=function(e){return"cx"in e&&Ee(e.cx)};function Xn(t){var e=t.offset,n=e===void 0?5:e,r=Rte(t,Ate),i=Un({offset:n},r),o=i.viewBox,l=i.position,c=i.value,f=i.children,h=i.content,p=i.className,m=p===void 0?"":p,v=i.textBreakAll;if(!o||lt(c)&&lt(f)&&!q.isValidElement(h)&&!it(h))return null;if(q.isValidElement(h))return q.cloneElement(h,i);var _;if(it(h)){if(_=q.createElement(h,i),q.isValidElement(_))return _}else _=jte(i);var S=Bte(o),w=Ye(i,!0);if(S&&(l==="insideStart"||l==="insideEnd"||l==="end"))return Lte(i,_,w);var x=S?Vte(i):Ute(i);return K.createElement(El,Fh({className:bt("recharts-label",m)},w,x,{breakAll:v}),_)}Xn.displayName="Label";var aV=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,l=e.endAngle,c=e.r,f=e.radius,h=e.innerRadius,p=e.outerRadius,m=e.x,v=e.y,_=e.top,S=e.left,w=e.width,x=e.height,I=e.clockWise,N=e.labelViewBox;if(N)return N;if(Ee(w)&&Ee(x)){if(Ee(m)&&Ee(v))return{x:m,y:v,width:w,height:x};if(Ee(_)&&Ee(S))return{x:_,y:S,width:w,height:x}}return Ee(m)&&Ee(v)?{x:m,y:v,width:0,height:0}:Ee(n)&&Ee(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:l||i||0,innerRadius:h||0,outerRadius:p||f||c||0,clockWise:I}:e.viewBox?e.viewBox:{}},$te=function(e,n){return e?e===!0?K.createElement(Xn,{key:"label-implicit",viewBox:n}):zn(e)?K.createElement(Xn,{key:"label-implicit",viewBox:n,value:e}):q.isValidElement(e)?e.type===Xn?q.cloneElement(e,{key:"label-implicit",viewBox:n}):K.createElement(Xn,{key:"label-implicit",content:e,viewBox:n}):it(e)?K.createElement(Xn,{key:"label-implicit",content:e,viewBox:n}):Nc(e)?K.createElement(Xn,Fh({viewBox:n},e,{key:"label-implicit"})):null:null},qte=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=aV(e),l=ei(i,Xn).map(function(f,h){return q.cloneElement(f,{viewBox:n||o,key:"label-".concat(h)})});if(!r)return l;var c=$te(e.label,n||o);return[c].concat(Ete(l))};Xn.parseViewBox=aV;Xn.renderCallByParent=qte;var Nw,mj;function zte(){if(mj)return Nw;mj=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return Nw=t,Nw}var Fte=zte();const Hte=qt(Fte);function Hh(t){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hh(t)}var Gte=["valueAccessor"],Kte=["data","dataKey","clockWise","id","textBreakAll"];function Wte(t){return Zte(t)||Qte(t)||Xte(t)||Yte()}function Yte(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xte(t,e){if(t){if(typeof t=="string")return xS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xS(t,e)}}function Qte(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zte(t){if(Array.isArray(t))return xS(t)}function xS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yg(){return yg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yg.apply(this,arguments)}function gj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gj(Object(n),!0).forEach(function(r){Jte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jte(t,e,n){return e=ene(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ene(t){var e=tne(t,"string");return Hh(e)=="symbol"?e:e+""}function tne(t,e){if(Hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vj(t,e){if(t==null)return{};var n=nne(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nne(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var rne=function(e){return Array.isArray(e.value)?Hte(e.value):e.value};function no(t){var e=t.valueAccessor,n=e===void 0?rne:e,r=vj(t,Gte),i=r.data,o=r.dataKey,l=r.clockWise,c=r.id,f=r.textBreakAll,h=vj(r,Kte);return!i||!i.length?null:K.createElement(jt,{className:"recharts-label-list"},i.map(function(p,m){var v=lt(o)?n(p,m):$n(p&&p.payload,o),_=lt(c)?{}:{id:"".concat(c,"-").concat(m)};return K.createElement(Xn,yg({},Ye(p,!0),h,_,{parentViewBox:p.parentViewBox,value:v,textBreakAll:f,viewBox:Xn.parseViewBox(lt(l)?p:yj(yj({},p),{},{clockWise:l})),key:"label-".concat(m),index:m}))}))}no.displayName="LabelList";function ine(t,e){return t?t===!0?K.createElement(no,{key:"labelList-implicit",data:e}):K.isValidElement(t)||it(t)?K.createElement(no,{key:"labelList-implicit",data:e,content:t}):Nc(t)?K.createElement(no,yg({data:e},t,{key:"labelList-implicit"})):null:null}function ane(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=ei(r,no).map(function(l,c){return q.cloneElement(l,{data:e,key:"labelList-".concat(c)})});if(!n)return i;var o=ine(t.label,e);return[o].concat(Wte(i))}no.renderCallByParent=ane;function Gh(t){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gh(t)}function wS(){return wS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wS.apply(this,arguments)}function bj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _j(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bj(Object(n),!0).forEach(function(r){one(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function one(t,e,n){return e=sne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sne(t){var e=lne(t,"string");return Gh(e)=="symbol"?e:e+""}function lne(t,e){if(Gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var une=function(e,n){var r=xr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},om=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,l=e.sign,c=e.isExternal,f=e.cornerRadius,h=e.cornerIsExternal,p=f*(c?1:-1)+i,m=Math.asin(f/p)/gg,v=h?o:o+l*m,_=nn(n,r,p,v),S=nn(n,r,i,v),w=h?o-l*m:o,x=nn(n,r,p*Math.cos(m*gg),w);return{center:_,circleTangency:S,lineTangency:x,theta:m}},oV=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,l=e.startAngle,c=e.endAngle,f=une(l,c),h=l+f,p=nn(n,r,o,l),m=nn(n,r,o,h),v="M ".concat(p.x,",").concat(p.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(f)>180),",").concat(+(l>h),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var _=nn(n,r,i,l),S=nn(n,r,i,h);v+="L ".concat(S.x,",").concat(S.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(f)>180),",").concat(+(l<=h),`,
            `).concat(_.x,",").concat(_.y," Z")}else v+="L ".concat(n,",").concat(r," Z");return v},cne=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,l=e.cornerRadius,c=e.forceCornerRadius,f=e.cornerIsExternal,h=e.startAngle,p=e.endAngle,m=xr(p-h),v=om({cx:n,cy:r,radius:o,angle:h,sign:m,cornerRadius:l,cornerIsExternal:f}),_=v.circleTangency,S=v.lineTangency,w=v.theta,x=om({cx:n,cy:r,radius:o,angle:p,sign:-m,cornerRadius:l,cornerIsExternal:f}),I=x.circleTangency,N=x.lineTangency,M=x.theta,V=f?Math.abs(h-p):Math.abs(h-p)-w-M;if(V<0)return c?"M ".concat(S.x,",").concat(S.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):oV({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:h,endAngle:p});var O="M ".concat(S.x,",").concat(S.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(V>180),",").concat(+(m<0),",").concat(I.x,",").concat(I.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(N.x,",").concat(N.y,`
  `);if(i>0){var j=om({cx:n,cy:r,radius:i,angle:h,sign:m,isExternal:!0,cornerRadius:l,cornerIsExternal:f}),T=j.circleTangency,R=j.lineTangency,P=j.theta,U=om({cx:n,cy:r,radius:i,angle:p,sign:-m,isExternal:!0,cornerRadius:l,cornerIsExternal:f}),D=U.circleTangency,B=U.lineTangency,L=U.theta,J=f?Math.abs(h-p):Math.abs(h-p)-P-L;if(J<0&&l===0)return"".concat(O,"L").concat(n,",").concat(r,"Z");O+="L".concat(B.x,",").concat(B.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(J>180),",").concat(+(m>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(R.x,",").concat(R.y,"Z")}else O+="L".concat(n,",").concat(r,"Z");return O},fne={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},sV=function(e){var n=_j(_j({},fne),e),r=n.cx,i=n.cy,o=n.innerRadius,l=n.outerRadius,c=n.cornerRadius,f=n.forceCornerRadius,h=n.cornerIsExternal,p=n.startAngle,m=n.endAngle,v=n.className;if(l<o||p===m)return null;var _=bt("recharts-sector",v),S=l-o,w=wr(c,S,0,!0),x;return w>0&&Math.abs(p-m)<360?x=cne({cx:r,cy:i,innerRadius:o,outerRadius:l,cornerRadius:Math.min(w,S/2),forceCornerRadius:f,cornerIsExternal:h,startAngle:p,endAngle:m}):x=oV({cx:r,cy:i,innerRadius:o,outerRadius:l,startAngle:p,endAngle:m}),K.createElement("path",wS({},Ye(n,!0),{className:_,d:x,role:"img"}))};function Kh(t){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kh(t)}function SS(){return SS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SS.apply(this,arguments)}function xj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xj(Object(n),!0).forEach(function(r){hne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hne(t,e,n){return e=dne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dne(t){var e=pne(t,"string");return Kh(e)=="symbol"?e:e+""}function pne(t,e){if(Kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sj={curveBasisClosed:kK,curveBasisOpen:jK,curveBasis:MK,curveBumpX:bK,curveBumpY:_K,curveLinearClosed:DK,curveLinear:yy,curveMonotoneX:LK,curveMonotoneY:VK,curveNatural:UK,curveStep:BK,curveStepAfter:qK,curveStepBefore:$K},sm=function(e){return e.x===+e.x&&e.y===+e.y},Ff=function(e){return e.x},Hf=function(e){return e.y},mne=function(e,n){if(it(e))return e;var r="curve".concat(my(e));return(r==="curveMonotone"||r==="curveBump")&&n?Sj["".concat(r).concat(n==="vertical"?"Y":"X")]:Sj[r]||yy},gne=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,l=e.baseLine,c=e.layout,f=e.connectNulls,h=f===void 0?!1:f,p=mne(r,c),m=h?o.filter(function(w){return sm(w)}):o,v;if(Array.isArray(l)){var _=h?l.filter(function(w){return sm(w)}):l,S=m.map(function(w,x){return wj(wj({},w),{},{base:_[x]})});return c==="vertical"?v=Zp().y(Hf).x1(Ff).x0(function(w){return w.base.x}):v=Zp().x(Ff).y1(Hf).y0(function(w){return w.base.y}),v.defined(sm).curve(p),v(S)}return c==="vertical"&&Ee(l)?v=Zp().y(Hf).x1(Ff).x0(l):Ee(l)?v=Zp().x(Ff).y1(Hf).y0(l):v=a6().x(Ff).y(Hf),v.defined(sm).curve(p),v(m)},vg=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var l=r&&r.length?gne(e):i;return q.createElement("path",SS({},Ye(e,!1),Hm(e),{className:bt("recharts-curve",n),d:l,ref:o}))},Mw={exports:{}},kw,Aj;function yne(){if(Aj)return kw;Aj=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return kw=t,kw}var jw,Ej;function vne(){if(Ej)return jw;Ej=1;var t=yne();function e(){}function n(){}return n.resetWarningCache=e,jw=function(){function r(l,c,f,h,p,m){if(m!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},jw}var Tj;function bne(){return Tj||(Tj=1,Mw.exports=vne()()),Mw.exports}var _ne=bne();const Bt=qt(_ne);var xne=Object.getOwnPropertyNames,wne=Object.getOwnPropertySymbols,Sne=Object.prototype.hasOwnProperty;function Oj(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function lm(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,l=o.get(n),c=o.get(r);if(l&&c)return l===r&&c===n;o.set(n,r),o.set(r,n);var f=t(n,r,i);return o.delete(n),o.delete(r),f}}function Ane(t){return t!=null?t[Symbol.toStringTag]:void 0}function Cj(t){return xne(t).concat(wne(t))}var Ene=Object.hasOwn||(function(t,e){return Sne.call(t,e)});function jl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Tne="__v",One="__o",Cne="_owner",Ij=Object.getOwnPropertyDescriptor,Rj=Object.keys;function Ine(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Rne(t,e){return jl(t.getTime(),e.getTime())}function Pne(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Nne(t,e){return t===e}function Pj(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.entries(),l,c,f=0;(l=o.next())&&!l.done;){for(var h=e.entries(),p=!1,m=0;(c=h.next())&&!c.done;){if(i[m]){m++;continue}var v=l.value,_=c.value;if(n.equals(v[0],_[0],f,m,t,e,n)&&n.equals(v[1],_[1],v[0],_[0],t,e,n)){p=i[m]=!0;break}m++}if(!p)return!1;f++}return!0}var Mne=jl;function kne(t,e,n){var r=Rj(t),i=r.length;if(Rj(e).length!==i)return!1;for(;i-- >0;)if(!lV(t,e,n,r[i]))return!1;return!0}function Gf(t,e,n){var r=Cj(t),i=r.length;if(Cj(e).length!==i)return!1;for(var o,l,c;i-- >0;)if(o=r[i],!lV(t,e,n,o)||(l=Ij(t,o),c=Ij(e,o),(l||c)&&(!l||!c||l.configurable!==c.configurable||l.enumerable!==c.enumerable||l.writable!==c.writable)))return!1;return!0}function jne(t,e){return jl(t.valueOf(),e.valueOf())}function Dne(t,e){return t.source===e.source&&t.flags===e.flags}function Nj(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),o=t.values(),l,c;(l=o.next())&&!l.done;){for(var f=e.values(),h=!1,p=0;(c=f.next())&&!c.done;){if(!i[p]&&n.equals(l.value,c.value,l.value,c.value,t,e,n)){h=i[p]=!0;break}p++}if(!h)return!1}return!0}function Lne(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function Vne(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function lV(t,e,n,r){return(r===Cne||r===One||r===Tne)&&(t.$$typeof||e.$$typeof)?!0:Ene(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var Une="[object Arguments]",Bne="[object Boolean]",$ne="[object Date]",qne="[object Error]",zne="[object Map]",Fne="[object Number]",Hne="[object Object]",Gne="[object RegExp]",Kne="[object Set]",Wne="[object String]",Yne="[object URL]",Xne=Array.isArray,Mj=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,kj=Object.assign,Qne=Object.prototype.toString.call.bind(Object.prototype.toString);function Zne(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,o=t.areMapsEqual,l=t.areNumbersEqual,c=t.areObjectsEqual,f=t.arePrimitiveWrappersEqual,h=t.areRegExpsEqual,p=t.areSetsEqual,m=t.areTypedArraysEqual,v=t.areUrlsEqual,_=t.unknownTagComparators;return function(w,x,I){if(w===x)return!0;if(w==null||x==null)return!1;var N=typeof w;if(N!==typeof x)return!1;if(N!=="object")return N==="number"?l(w,x,I):N==="function"?i(w,x,I):!1;var M=w.constructor;if(M!==x.constructor)return!1;if(M===Object)return c(w,x,I);if(Xne(w))return e(w,x,I);if(Mj!=null&&Mj(w))return m(w,x,I);if(M===Date)return n(w,x,I);if(M===RegExp)return h(w,x,I);if(M===Map)return o(w,x,I);if(M===Set)return p(w,x,I);var V=Qne(w);if(V===$ne)return n(w,x,I);if(V===Gne)return h(w,x,I);if(V===zne)return o(w,x,I);if(V===Kne)return p(w,x,I);if(V===Hne)return typeof w.then!="function"&&typeof x.then!="function"&&c(w,x,I);if(V===Yne)return v(w,x,I);if(V===qne)return r(w,x,I);if(V===Une)return c(w,x,I);if(V===Bne||V===Fne||V===Wne)return f(w,x,I);if(_){var O=_[V];if(!O){var j=Ane(w);j&&(O=_[j])}if(O)return O(w,x,I)}return!1}}function Jne(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Gf:Ine,areDatesEqual:Rne,areErrorsEqual:Pne,areFunctionsEqual:Nne,areMapsEqual:r?Oj(Pj,Gf):Pj,areNumbersEqual:Mne,areObjectsEqual:r?Gf:kne,arePrimitiveWrappersEqual:jne,areRegExpsEqual:Dne,areSetsEqual:r?Oj(Nj,Gf):Nj,areTypedArraysEqual:r?Gf:Lne,areUrlsEqual:Vne,unknownTagComparators:void 0};if(n&&(i=kj({},i,n(i))),e){var o=lm(i.areArraysEqual),l=lm(i.areMapsEqual),c=lm(i.areObjectsEqual),f=lm(i.areSetsEqual);i=kj({},i,{areArraysEqual:o,areMapsEqual:l,areObjectsEqual:c,areSetsEqual:f})}return i}function ere(t){return function(e,n,r,i,o,l,c){return t(e,n,c)}}function tre(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(f,h){var p=r(),m=p.cache,v=m===void 0?e?new WeakMap:void 0:m,_=p.meta;return n(f,h,{cache:v,equals:i,meta:_,strict:o})};if(e)return function(f,h){return n(f,h,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var l={cache:void 0,equals:i,meta:void 0,strict:o};return function(f,h){return n(f,h,l)}}var nre=Ss();Ss({strict:!0});Ss({circular:!0});Ss({circular:!0,strict:!0});Ss({createInternalComparator:function(){return jl}});Ss({strict:!0,createInternalComparator:function(){return jl}});Ss({circular:!0,createInternalComparator:function(){return jl}});Ss({circular:!0,createInternalComparator:function(){return jl},strict:!0});function Ss(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,l=o===void 0?!1:o,c=Jne(t),f=Zne(c),h=r?r(f):ere(f);return tre({circular:n,comparator:f,createState:i,equals:h,strict:l})}function rre(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function jj(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):rre(i)};requestAnimationFrame(r)}function AS(t){"@babel/helpers - typeof";return AS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AS(t)}function ire(t){return lre(t)||sre(t)||ore(t)||are()}function are(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ore(t,e){if(t){if(typeof t=="string")return Dj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dj(t,e)}}function Dj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lre(t){if(Array.isArray(t))return t}function ure(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,c=ire(l),f=c[0],h=c.slice(1);if(typeof f=="number"){jj(i.bind(null,h),f);return}i(f),jj(i.bind(null,h));return}AS(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Wh(t){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wh(t)}function Lj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lj(Object(n),!0).forEach(function(r){uV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uV(t,e,n){return e=cre(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cre(t){var e=fre(t,"string");return Wh(e)==="symbol"?e:String(e)}function fre(t,e){if(Wh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hre=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},dre=function(e){return e},pre=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},dh=function(e,n){return Object.keys(n).reduce(function(r,i){return Vj(Vj({},r),{},uV({},i,e(i,n[i])))},{})},Uj=function(e,n,r){return e.map(function(i){return"".concat(pre(i)," ").concat(n,"ms ").concat(r)}).join(",")};function mre(t,e){return vre(t)||yre(t,e)||cV(t,e)||gre()}function gre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,l,c=[],f=!0,h=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(f=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function vre(t){if(Array.isArray(t))return t}function bre(t){return wre(t)||xre(t)||cV(t)||_re()}function _re(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cV(t,e){if(t){if(typeof t=="string")return ES(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ES(t,e)}}function xre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wre(t){if(Array.isArray(t))return ES(t)}function ES(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var bg=1e-4,fV=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},hV=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},Bj=function(e,n){return function(r){var i=fV(e,n);return hV(i,r)}},Sre=function(e,n){return function(r){var i=fV(e,n),o=[].concat(bre(i.map(function(l,c){return l*c}).slice(1)),[0]);return hV(o,r)}},$j=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],l=n[2],c=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,l=1,c=1;break;case"ease":i=.25,o=.1,l=.25,c=1;break;case"ease-in":i=.42,o=0,l=1,c=1;break;case"ease-out":i=.42,o=0,l=.58,c=1;break;case"ease-in-out":i=0,o=0,l=.58,c=1;break;default:{var f=n[0].split("(");if(f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4){var h=f[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),p=mre(h,4);i=p[0],o=p[1],l=p[2],c=p[3]}}}var m=Bj(i,l),v=Bj(o,c),_=Sre(i,l),S=function(I){return I>1?1:I<0?0:I},w=function(I){for(var N=I>1?1:I,M=N,V=0;V<8;++V){var O=m(M)-N,j=_(M);if(Math.abs(O-N)<bg||j<bg)return v(M);M=S(M-O/j)}return v(M)};return w.isStepper=!1,w},Are=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,l=e.dt,c=l===void 0?17:l,f=function(p,m,v){var _=-(p-m)*r,S=v*o,w=v+(_-S)*c/1e3,x=v*c/1e3+p;return Math.abs(x-m)<bg&&Math.abs(w)<bg?[m,0]:[x,w]};return f.isStepper=!0,f.dt=c,f},Ere=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $j(i);case"spring":return Are();default:if(i.split("(")[0]==="cubic-bezier")return $j(i)}return typeof i=="function"?i:null};function Yh(t){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yh(t)}function qj(t){return Cre(t)||Ore(t)||dV(t)||Tre()}function Tre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ore(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cre(t){if(Array.isArray(t))return OS(t)}function zj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zj(Object(n),!0).forEach(function(r){TS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TS(t,e,n){return e=Ire(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ire(t){var e=Rre(t,"string");return Yh(e)==="symbol"?e:String(e)}function Rre(t,e){if(Yh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pre(t,e){return kre(t)||Mre(t,e)||dV(t,e)||Nre()}function Nre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dV(t,e){if(t){if(typeof t=="string")return OS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OS(t,e)}}function OS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,l,c=[],f=!0,h=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(f=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function kre(t){if(Array.isArray(t))return t}var _g=function(e,n,r){return e+(n-e)*r},CS=function(e){var n=e.from,r=e.to;return n!==r},jre=function t(e,n,r){var i=dh(function(o,l){if(CS(l)){var c=e(l.from,l.to,l.velocity),f=Pre(c,2),h=f[0],p=f[1];return rr(rr({},l),{},{from:h,velocity:p})}return l},n);return r<1?dh(function(o,l){return CS(l)?rr(rr({},l),{},{velocity:_g(l.velocity,i[o].velocity,r),from:_g(l.from,i[o].from,r)}):l},n):t(e,i,r-1)};const Dre=(function(t,e,n,r,i){var o=hre(t,e),l=o.reduce(function(x,I){return rr(rr({},x),{},TS({},I,[t[I],e[I]]))},{}),c=o.reduce(function(x,I){return rr(rr({},x),{},TS({},I,{from:t[I],velocity:0,to:e[I]}))},{}),f=-1,h,p,m=function(){return null},v=function(){return dh(function(I,N){return N.from},c)},_=function(){return!Object.values(c).filter(CS).length},S=function(I){h||(h=I);var N=I-h,M=N/n.dt;c=jre(n,c,M),i(rr(rr(rr({},t),e),v())),h=I,_()||(f=requestAnimationFrame(m))},w=function(I){p||(p=I);var N=(I-p)/r,M=dh(function(O,j){return _g.apply(void 0,qj(j).concat([n(N)]))},l);if(i(rr(rr(rr({},t),e),M)),N<1)f=requestAnimationFrame(m);else{var V=dh(function(O,j){return _g.apply(void 0,qj(j).concat([n(1)]))},l);i(rr(rr(rr({},t),e),V))}};return m=n.isStepper?S:w,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(f)}}});function oc(t){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oc(t)}var Lre=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Vre(t,e){if(t==null)return{};var n=Ure(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ure(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Dw(t){return zre(t)||qre(t)||$re(t)||Bre()}function Bre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $re(t,e){if(t){if(typeof t=="string")return IS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IS(t,e)}}function qre(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zre(t){if(Array.isArray(t))return IS(t)}function IS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fj(Object(n),!0).forEach(function(r){th(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function th(t,e,n){return e=pV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hre(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pV(r.key),r)}}function Gre(t,e,n){return e&&Hre(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pV(t){var e=Kre(t,"string");return oc(e)==="symbol"?e:String(e)}function Kre(t,e){if(oc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RS(t,e)}function RS(t,e){return RS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RS(t,e)}function Yre(t){var e=Xre();return function(){var r=xg(t),i;if(e){var o=xg(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return PS(this,i)}}function PS(t,e){if(e&&(oc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NS(t)}function NS(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xre(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function xg(t){return xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xg(t)}var _a=(function(t){Wre(n,t);var e=Yre(n);function n(r,i){var o;Fre(this,n),o=e.call(this,r,i);var l=o.props,c=l.isActive,f=l.attributeName,h=l.from,p=l.to,m=l.steps,v=l.children,_=l.duration;if(o.handleStyleChange=o.handleStyleChange.bind(NS(o)),o.changeStyle=o.changeStyle.bind(NS(o)),!c||_<=0)return o.state={style:{}},typeof v=="function"&&(o.state={style:p}),PS(o);if(m&&m.length)o.state={style:m[0].style};else if(h){if(typeof v=="function")return o.state={style:h},PS(o);o.state={style:f?th({},f,h):h}}else o.state={style:{}};return o}return Gre(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,l=i.canBegin;this.mounted=!0,!(!o||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,l=o.isActive,c=o.canBegin,f=o.attributeName,h=o.shouldReAnimate,p=o.to,m=o.from,v=this.state.style;if(c){if(!l){var _={style:f?th({},f,p):p};this.state&&v&&(f&&v[f]!==p||!f&&v!==p)&&this.setState(_);return}if(!(nre(i.to,p)&&i.canBegin&&i.isActive)){var S=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=S||h?m:i.to;if(this.state&&v){var x={style:f?th({},f,w):w};(f&&v[f]!==w||!f&&v!==w)&&this.setState(x)}this.runAnimation(Vi(Vi({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,l=i.from,c=i.to,f=i.duration,h=i.easing,p=i.begin,m=i.onAnimationEnd,v=i.onAnimationStart,_=Dre(l,c,Ere(h),f,this.changeStyle),S=function(){o.stopJSAnimation=_()};this.manager.start([v,p,S,f,m])}},{key:"runStepAnimation",value:function(i){var o=this,l=i.steps,c=i.begin,f=i.onAnimationStart,h=l[0],p=h.style,m=h.duration,v=m===void 0?0:m,_=function(w,x,I){if(I===0)return w;var N=x.duration,M=x.easing,V=M===void 0?"ease":M,O=x.style,j=x.properties,T=x.onAnimationEnd,R=I>0?l[I-1]:x,P=j||Object.keys(O);if(typeof V=="function"||V==="spring")return[].concat(Dw(w),[o.runJSAnimation.bind(o,{from:R.style,to:O,duration:N,easing:V}),N]);var U=Uj(P,N,V),D=Vi(Vi(Vi({},R.style),O),{},{transition:U});return[].concat(Dw(w),[D,N,T]).filter(dre)};return this.manager.start([f].concat(Dw(l.reduce(_,[p,Math.max(v,c)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=ure());var o=i.begin,l=i.duration,c=i.attributeName,f=i.to,h=i.easing,p=i.onAnimationStart,m=i.onAnimationEnd,v=i.steps,_=i.children,S=this.manager;if(this.unSubscribe=S.subscribe(this.handleStyleChange),typeof h=="function"||typeof _=="function"||h==="spring"){this.runJSAnimation(i);return}if(v.length>1){this.runStepAnimation(i);return}var w=c?th({},c,f):f,x=Uj(Object.keys(w),l,h);S.start([p,o,Vi(Vi({},w),{},{transition:x}),l,m])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var l=i.duration;i.attributeName,i.easing;var c=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var f=Vre(i,Lre),h=q.Children.count(o),p=this.state.style;if(typeof o=="function")return o(p);if(!c||h===0||l<=0)return o;var m=function(_){var S=_.props,w=S.style,x=w===void 0?{}:w,I=S.className,N=q.cloneElement(_,Vi(Vi({},f),{},{style:Vi(Vi({},x),p),className:I}));return N};return h===1?m(q.Children.only(o)):K.createElement("div",null,q.Children.map(o,function(v){return m(v)}))}}]),n})(q.PureComponent);_a.displayName="Animate";_a.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};_a.propTypes={from:Bt.oneOfType([Bt.object,Bt.string]),to:Bt.oneOfType([Bt.object,Bt.string]),attributeName:Bt.string,duration:Bt.number,begin:Bt.number,easing:Bt.oneOfType([Bt.string,Bt.func]),steps:Bt.arrayOf(Bt.shape({duration:Bt.number.isRequired,style:Bt.object.isRequired,easing:Bt.oneOfType([Bt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Bt.func]),properties:Bt.arrayOf("string"),onAnimationEnd:Bt.func})),children:Bt.oneOfType([Bt.node,Bt.func]),isActive:Bt.bool,canBegin:Bt.bool,onAnimationEnd:Bt.func,shouldReAnimate:Bt.bool,onAnimationStart:Bt.func,onAnimationReStart:Bt.func};function Xh(t){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(t)}function wg(){return wg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wg.apply(this,arguments)}function Qre(t,e){return tie(t)||eie(t,e)||Jre(t,e)||Zre()}function Zre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jre(t,e){if(t){if(typeof t=="string")return Hj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hj(t,e)}}function Hj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,l,c=[],f=!0,h=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(f=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function tie(t){if(Array.isArray(t))return t}function Gj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gj(Object(n),!0).forEach(function(r){nie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nie(t,e,n){return e=rie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rie(t){var e=iie(t,"string");return Xh(e)=="symbol"?e:e+""}function iie(t,e){if(Xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wj=function(e,n,r,i,o){var l=Math.min(Math.abs(r)/2,Math.abs(i)/2),c=i>=0?1:-1,f=r>=0?1:-1,h=i>=0&&r>=0||i<0&&r<0?1:0,p;if(l>0&&o instanceof Array){for(var m=[0,0,0,0],v=0,_=4;v<_;v++)m[v]=o[v]>l?l:o[v];p="M".concat(e,",").concat(n+c*m[0]),m[0]>0&&(p+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(h,",").concat(e+f*m[0],",").concat(n)),p+="L ".concat(e+r-f*m[1],",").concat(n),m[1]>0&&(p+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(h,`,
        `).concat(e+r,",").concat(n+c*m[1])),p+="L ".concat(e+r,",").concat(n+i-c*m[2]),m[2]>0&&(p+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(h,`,
        `).concat(e+r-f*m[2],",").concat(n+i)),p+="L ".concat(e+f*m[3],",").concat(n+i),m[3]>0&&(p+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(h,`,
        `).concat(e,",").concat(n+i-c*m[3])),p+="Z"}else if(l>0&&o===+o&&o>0){var S=Math.min(l,o);p="M ".concat(e,",").concat(n+c*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(h,",").concat(e+f*S,",").concat(n,`
            L `).concat(e+r-f*S,",").concat(n,`
            A `).concat(S,",").concat(S,",0,0,").concat(h,",").concat(e+r,",").concat(n+c*S,`
            L `).concat(e+r,",").concat(n+i-c*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(h,",").concat(e+r-f*S,",").concat(n+i,`
            L `).concat(e+f*S,",").concat(n+i,`
            A `).concat(S,",").concat(S,",0,0,").concat(h,",").concat(e,",").concat(n+i-c*S," Z")}else p="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return p},aie=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,l=n.y,c=n.width,f=n.height;if(Math.abs(c)>0&&Math.abs(f)>0){var h=Math.min(o,o+c),p=Math.max(o,o+c),m=Math.min(l,l+f),v=Math.max(l,l+f);return r>=h&&r<=p&&i>=m&&i<=v}return!1},oie={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},YE=function(e){var n=Kj(Kj({},oie),e),r=q.useRef(),i=q.useState(-1),o=Qre(i,2),l=o[0],c=o[1];q.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var V=r.current.getTotalLength();V&&c(V)}catch{}},[]);var f=n.x,h=n.y,p=n.width,m=n.height,v=n.radius,_=n.className,S=n.animationEasing,w=n.animationDuration,x=n.animationBegin,I=n.isAnimationActive,N=n.isUpdateAnimationActive;if(f!==+f||h!==+h||p!==+p||m!==+m||p===0||m===0)return null;var M=bt("recharts-rectangle",_);return N?K.createElement(_a,{canBegin:l>0,from:{width:p,height:m,x:f,y:h},to:{width:p,height:m,x:f,y:h},duration:w,animationEasing:S,isActive:N},function(V){var O=V.width,j=V.height,T=V.x,R=V.y;return K.createElement(_a,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:w,isActive:I,easing:S},K.createElement("path",wg({},Ye(n,!0),{className:M,d:Wj(T,R,O,j,v),ref:r})))}):K.createElement("path",wg({},Ye(n,!0),{className:M,d:Wj(f,h,p,m,v)}))},sie=["points","className","baseLinePoints","connectNulls"];function Nu(){return Nu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nu.apply(this,arguments)}function lie(t,e){if(t==null)return{};var n=uie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Yj(t){return die(t)||hie(t)||fie(t)||cie()}function cie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fie(t,e){if(t){if(typeof t=="string")return MS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MS(t,e)}}function hie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function die(t){if(Array.isArray(t))return MS(t)}function MS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Xj=function(e){return e&&e.x===+e.x&&e.y===+e.y},pie=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){Xj(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),Xj(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},ph=function(e,n){var r=pie(e);n&&(r=[r.reduce(function(o,l){return[].concat(Yj(o),Yj(l))},[])]);var i=r.map(function(o){return o.reduce(function(l,c,f){return"".concat(l).concat(f===0?"M":"L").concat(c.x,",").concat(c.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},mie=function(e,n,r){var i=ph(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(ph(n.reverse(),r).slice(1))},gie=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,l=lie(e,sie);if(!n||!n.length)return null;var c=bt("recharts-polygon",r);if(i&&i.length){var f=l.stroke&&l.stroke!=="none",h=mie(n,i,o);return K.createElement("g",{className:c},K.createElement("path",Nu({},Ye(l,!0),{fill:h.slice(-1)==="Z"?l.fill:"none",stroke:"none",d:h})),f?K.createElement("path",Nu({},Ye(l,!0),{fill:"none",d:ph(n,o)})):null,f?K.createElement("path",Nu({},Ye(l,!0),{fill:"none",d:ph(i,o)})):null)}var p=ph(n,o);return K.createElement("path",Nu({},Ye(l,!0),{fill:p.slice(-1)==="Z"?l.fill:"none",className:c,d:p}))};function kS(){return kS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kS.apply(this,arguments)}var ky=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,l=bt("recharts-dot",o);return n===+n&&r===+r&&i===+i?q.createElement("circle",kS({},Ye(e,!1),Hm(e),{className:l,cx:n,cy:r,r:i})):null};function Qh(t){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qh(t)}var yie=["x","y","top","left","width","height","className"];function jS(){return jS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jS.apply(this,arguments)}function Qj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qj(Object(n),!0).forEach(function(r){bie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qj(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bie(t,e,n){return e=_ie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ie(t){var e=xie(t,"string");return Qh(e)=="symbol"?e:e+""}function xie(t,e){if(Qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wie(t,e){if(t==null)return{};var n=Sie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Aie=function(e,n,r,i,o,l){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(l,",").concat(n,"h").concat(r)},Eie=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,l=e.top,c=l===void 0?0:l,f=e.left,h=f===void 0?0:f,p=e.width,m=p===void 0?0:p,v=e.height,_=v===void 0?0:v,S=e.className,w=wie(e,yie),x=vie({x:r,y:o,top:c,left:h,width:m,height:_},w);return!Ee(r)||!Ee(o)||!Ee(m)||!Ee(_)||!Ee(c)||!Ee(h)?null:K.createElement("path",jS({},Ye(x,!0),{className:bt("recharts-cross",S),d:Aie(r,o,m,_,c,h)}))},Lw,Zj;function Tie(){if(Zj)return Lw;Zj=1;var t=Iy(),e=I5(),n=wa();function r(i,o){return i&&i.length?t(i,n(o,2),e):void 0}return Lw=r,Lw}var Oie=Tie();const Cie=qt(Oie);var Vw,Jj;function Iie(){if(Jj)return Vw;Jj=1;var t=Iy(),e=wa(),n=R5();function r(i,o){return i&&i.length?t(i,e(o,2),n):void 0}return Vw=r,Vw}var Rie=Iie();const Pie=qt(Rie);var Nie=["cx","cy","angle","ticks","axisLine"],Mie=["ticks","tick","angle","tickFormatter","stroke"];function sc(t){"@babel/helpers - typeof";return sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sc(t)}function mh(){return mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mh.apply(this,arguments)}function eD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eD(Object(n),!0).forEach(function(r){jy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tD(t,e){if(t==null)return{};var n=kie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gV(r.key),r)}}function Die(t,e,n){return e&&nD(t.prototype,e),n&&nD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Lie(t,e,n){return e=Sg(e),Vie(t,mV()?Reflect.construct(e,n||[],Sg(t).constructor):e.apply(t,n))}function Vie(t,e){if(e&&(sc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uie(t)}function Uie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mV=function(){return!!t})()}function Sg(t){return Sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sg(t)}function Bie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DS(t,e)}function DS(t,e){return DS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DS(t,e)}function jy(t,e,n){return e=gV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gV(t){var e=$ie(t,"string");return sc(e)=="symbol"?e:e+""}function $ie(t,e){if(sc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Dy=(function(t){function e(){return jie(this,e),Lie(this,e,arguments)}return Bie(e,t),Die(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,l=o.angle,c=o.cx,f=o.cy;return nn(c,f,i,l)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,l=r.angle,c=r.ticks,f=Cie(c,function(p){return p.coordinate||0}),h=Pie(c,function(p){return p.coordinate||0});return{cx:i,cy:o,startAngle:l,endAngle:l,innerRadius:h.coordinate||0,outerRadius:f.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,l=r.angle,c=r.ticks,f=r.axisLine,h=tD(r,Nie),p=c.reduce(function(S,w){return[Math.min(S[0],w.coordinate),Math.max(S[1],w.coordinate)]},[1/0,-1/0]),m=nn(i,o,p[0],l),v=nn(i,o,p[1],l),_=tl(tl(tl({},Ye(h,!1)),{},{fill:"none"},Ye(f,!1)),{},{x1:m.x,y1:m.y,x2:v.x,y2:v.y});return K.createElement("line",mh({className:"recharts-polar-radius-axis-line"},_))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,l=i.tick,c=i.angle,f=i.tickFormatter,h=i.stroke,p=tD(i,Mie),m=this.getTickTextAnchor(),v=Ye(p,!1),_=Ye(l,!1),S=o.map(function(w,x){var I=r.getTickValueCoord(w),N=tl(tl(tl(tl({textAnchor:m,transform:"rotate(".concat(90-c,", ").concat(I.x,", ").concat(I.y,")")},v),{},{stroke:"none",fill:h},_),{},{index:x},I),{},{payload:w});return K.createElement(jt,mh({className:bt("recharts-polar-radius-axis-tick",iV(l)),key:"tick-".concat(w.coordinate)},Al(r.props,w,x)),e.renderTickItem(l,N,f?f(w.value,x):w.value))});return K.createElement(jt,{className:"recharts-polar-radius-axis-ticks"},S)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,l=r.tick;return!i||!i.length?null:K.createElement(jt,{className:bt("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),l&&this.renderTicks(),Xn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var l;return K.isValidElement(r)?l=K.cloneElement(r,i):it(r)?l=r(i):l=K.createElement(El,mh({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),l}}])})(q.PureComponent);jy(Dy,"displayName","PolarRadiusAxis");jy(Dy,"axisType","radiusAxis");jy(Dy,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function lc(t){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lc(t)}function ol(){return ol=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ol.apply(this,arguments)}function rD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rD(Object(n),!0).forEach(function(r){Ly(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vV(r.key),r)}}function zie(t,e,n){return e&&iD(t.prototype,e),n&&iD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fie(t,e,n){return e=Ag(e),Hie(t,yV()?Reflect.construct(e,n||[],Ag(t).constructor):e.apply(t,n))}function Hie(t,e){if(e&&(lc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gie(t)}function Gie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yV=function(){return!!t})()}function Ag(t){return Ag=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ag(t)}function Kie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LS(t,e)}function LS(t,e){return LS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},LS(t,e)}function Ly(t,e,n){return e=vV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vV(t){var e=Wie(t,"string");return lc(e)=="symbol"?e:e+""}function Wie(t,e){if(lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Yie=Math.PI/180,aD=1e-5,Vy=(function(t){function e(){return qie(this,e),Fie(this,e,arguments)}return Kie(e,t),zie(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,l=i.cy,c=i.radius,f=i.orientation,h=i.tickSize,p=h||8,m=nn(o,l,c,r.coordinate),v=nn(o,l,c+(f==="inner"?-1:1)*p,r.coordinate);return{x1:m.x,y1:m.y,x2:v.x,y2:v.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*Yie),l;return o>aD?l=i==="outer"?"start":"end":o<-aD?l=i==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,l=r.radius,c=r.axisLine,f=r.axisLineType,h=nl(nl({},Ye(this.props,!1)),{},{fill:"none"},Ye(c,!1));if(f==="circle")return K.createElement(ky,ol({className:"recharts-polar-angle-axis-line"},h,{cx:i,cy:o,r:l}));var p=this.props.ticks,m=p.map(function(v){return nn(i,o,l,v.coordinate)});return K.createElement(gie,ol({className:"recharts-polar-angle-axis-line"},h,{points:m}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,l=i.tick,c=i.tickLine,f=i.tickFormatter,h=i.stroke,p=Ye(this.props,!1),m=Ye(l,!1),v=nl(nl({},p),{},{fill:"none"},Ye(c,!1)),_=o.map(function(S,w){var x=r.getTickLineCoord(S),I=r.getTickTextAnchor(S),N=nl(nl(nl({textAnchor:I},p),{},{stroke:"none",fill:h},m),{},{index:w,payload:S,x:x.x2,y:x.y2});return K.createElement(jt,ol({className:bt("recharts-polar-angle-axis-tick",iV(l)),key:"tick-".concat(S.coordinate)},Al(r.props,S,w)),c&&K.createElement("line",ol({className:"recharts-polar-angle-axis-tick-line"},v,x)),l&&e.renderTickItem(l,N,f?f(S.value,w):S.value))});return K.createElement(jt,{className:"recharts-polar-angle-axis-ticks"},_)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,l=r.axisLine;return o<=0||!i||!i.length?null:K.createElement(jt,{className:bt("recharts-polar-angle-axis",this.props.className)},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var l;return K.isValidElement(r)?l=K.cloneElement(r,i):it(r)?l=r(i):l=K.createElement(El,ol({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),l}}])})(q.PureComponent);Ly(Vy,"displayName","PolarAngleAxis");Ly(Vy,"axisType","angleAxis");Ly(Vy,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Uw,oD;function Xie(){if(oD)return Uw;oD=1;var t=C6(),e=t(Object.getPrototypeOf,Object);return Uw=e,Uw}var Bw,sD;function Qie(){if(sD)return Bw;sD=1;var t=fo(),e=Xie(),n=ho(),r="[object Object]",i=Function.prototype,o=Object.prototype,l=i.toString,c=o.hasOwnProperty,f=l.call(Object);function h(p){if(!n(p)||t(p)!=r)return!1;var m=e(p);if(m===null)return!0;var v=c.call(m,"constructor")&&m.constructor;return typeof v=="function"&&v instanceof v&&l.call(v)==f}return Bw=h,Bw}var Zie=Qie();const Jie=qt(Zie);var $w,lD;function eae(){if(lD)return $w;lD=1;var t=fo(),e=ho(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return $w=r,$w}var tae=eae();const nae=qt(tae);function Zh(t){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zh(t)}function Eg(){return Eg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eg.apply(this,arguments)}function rae(t,e){return sae(t)||oae(t,e)||aae(t,e)||iae()}function iae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aae(t,e){if(t){if(typeof t=="string")return uD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uD(t,e)}}function uD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,l,c=[],f=!0,h=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(f=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function sae(t){if(Array.isArray(t))return t}function cD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cD(Object(n),!0).forEach(function(r){lae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lae(t,e,n){return e=uae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uae(t){var e=cae(t,"string");return Zh(e)=="symbol"?e:e+""}function cae(t,e){if(Zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hD=function(e,n,r,i,o){var l=r-i,c;return c="M ".concat(e,",").concat(n),c+="L ".concat(e+r,",").concat(n),c+="L ".concat(e+r-l/2,",").concat(n+o),c+="L ".concat(e+r-l/2-i,",").concat(n+o),c+="L ".concat(e,",").concat(n," Z"),c},fae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hae=function(e){var n=fD(fD({},fae),e),r=q.useRef(),i=q.useState(-1),o=rae(i,2),l=o[0],c=o[1];q.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var M=r.current.getTotalLength();M&&c(M)}catch{}},[]);var f=n.x,h=n.y,p=n.upperWidth,m=n.lowerWidth,v=n.height,_=n.className,S=n.animationEasing,w=n.animationDuration,x=n.animationBegin,I=n.isUpdateAnimationActive;if(f!==+f||h!==+h||p!==+p||m!==+m||v!==+v||p===0&&m===0||v===0)return null;var N=bt("recharts-trapezoid",_);return I?K.createElement(_a,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:v,x:f,y:h},to:{upperWidth:p,lowerWidth:m,height:v,x:f,y:h},duration:w,animationEasing:S,isActive:I},function(M){var V=M.upperWidth,O=M.lowerWidth,j=M.height,T=M.x,R=M.y;return K.createElement(_a,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:w,easing:S},K.createElement("path",Eg({},Ye(n,!0),{className:N,d:hD(T,R,V,O,j),ref:r})))}):K.createElement("g",null,K.createElement("path",Eg({},Ye(n,!0),{className:N,d:hD(f,h,p,m,v)})))},dae=["option","shapeType","propTransformer","activeClassName","isActive"];function Jh(t){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jh(t)}function pae(t,e){if(t==null)return{};var n=mae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dD(Object(n),!0).forEach(function(r){gae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gae(t,e,n){return e=yae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yae(t){var e=vae(t,"string");return Jh(e)=="symbol"?e:e+""}function vae(t,e){if(Jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bae(t,e){return Tg(Tg({},e),t)}function _ae(t,e){return t==="symbols"}function pD(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return K.createElement(YE,n);case"trapezoid":return K.createElement(hae,n);case"sector":return K.createElement(sV,n);case"symbols":if(_ae(e))return K.createElement(pE,n);break;default:return null}}function xae(t){return q.isValidElement(t)?t.props:t}function bV(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?bae:r,o=t.activeClassName,l=o===void 0?"recharts-active-shape":o,c=t.isActive,f=pae(t,dae),h;if(q.isValidElement(e))h=q.cloneElement(e,Tg(Tg({},f),xae(e)));else if(it(e))h=e(f);else if(Jie(e)&&!nae(e)){var p=i(e,f);h=K.createElement(pD,{shapeType:n,elementProps:p})}else{var m=f;h=K.createElement(pD,{shapeType:n,elementProps:m})}return c?K.createElement(jt,{className:l},h):h}function Uy(t,e){return e!=null&&"trapezoids"in t.props}function By(t,e){return e!=null&&"sectors"in t.props}function ed(t,e){return e!=null&&"points"in t.props}function wae(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Sae(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Aae(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Eae(t,e){var n;return Uy(t,e)?n=wae:By(t,e)?n=Sae:ed(t,e)&&(n=Aae),n}function Tae(t,e){var n;return Uy(t,e)?n="trapezoids":By(t,e)?n="sectors":ed(t,e)&&(n="points"),n}function Oae(t,e){if(Uy(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(By(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return ed(t,e)?e.payload:{}}function Cae(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Tae(n,e),o=Oae(n,e),l=r.filter(function(f,h){var p=Ed(o,f),m=n.props[i].filter(function(S){var w=Eae(n,e);return w(S,e)}),v=n.props[i].indexOf(m[m.length-1]),_=h===v;return p&&_}),c=r.indexOf(l[l.length-1]);return c}var Sm;function uc(t){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uc(t)}function Mu(){return Mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mu.apply(this,arguments)}function mD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function en(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mD(Object(n),!0).forEach(function(r){Ai(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xV(r.key),r)}}function Rae(t,e,n){return e&&gD(t.prototype,e),n&&gD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pae(t,e,n){return e=Og(e),Nae(t,_V()?Reflect.construct(e,n||[],Og(t).constructor):e.apply(t,n))}function Nae(t,e){if(e&&(uc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mae(t)}function Mae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _V(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_V=function(){return!!t})()}function Og(t){return Og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Og(t)}function kae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VS(t,e)}function VS(t,e){return VS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VS(t,e)}function Ai(t,e,n){return e=xV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xV(t){var e=jae(t,"string");return uc(e)=="symbol"?e:e+""}function jae(t,e){if(uc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mo=(function(t){function e(n){var r;return Iae(this,e),r=Pae(this,e,[n]),Ai(r,"pieRef",null),Ai(r,"sectorRefs",[]),Ai(r,"id",Mc("recharts-pie-")),Ai(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),it(i)&&i()}),Ai(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),it(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return kae(e,t),Rae(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.label,c=o.labelLine,f=o.dataKey,h=o.valueKey,p=Ye(this.props,!1),m=Ye(l,!1),v=Ye(c,!1),_=l&&l.offsetRadius||20,S=r.map(function(w,x){var I=(w.startAngle+w.endAngle)/2,N=nn(w.cx,w.cy,w.outerRadius+_,I),M=en(en(en(en({},p),w),{},{stroke:"none"},m),{},{index:x,textAnchor:e.getTextAnchor(N.x,w.cx)},N),V=en(en(en(en({},p),w),{},{fill:"none",stroke:w.fill},v),{},{index:x,points:[nn(w.cx,w.cy,w.outerRadius,I),N]}),O=f;return lt(f)&&lt(h)?O="value":lt(f)&&(O=h),K.createElement(jt,{key:"label-".concat(w.startAngle,"-").concat(w.endAngle,"-").concat(w.midAngle,"-").concat(x)},c&&e.renderLabelLineItem(c,V,"line"),e.renderLabelItem(l,M,$n(w,O)))});return K.createElement(jt,{className:"recharts-pie-labels"},S)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,l=o.activeShape,c=o.blendStroke,f=o.inactiveShape;return r.map(function(h,p){if((h==null?void 0:h.startAngle)===0&&(h==null?void 0:h.endAngle)===0&&r.length!==1)return null;var m=i.isActiveIndex(p),v=f&&i.hasActiveIndex()?f:null,_=m?l:v,S=en(en({},h),{},{stroke:c?h.fill:h.stroke,tabIndex:-1});return K.createElement(jt,Mu({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Al(i.props,h,p),{key:"sector-".concat(h==null?void 0:h.startAngle,"-").concat(h==null?void 0:h.endAngle,"-").concat(h.midAngle,"-").concat(p)}),K.createElement(bV,Mu({option:_,isActive:m,shapeType:"sector"},S)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,l=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,m=this.state,v=m.prevSectors,_=m.prevIsAnimationActive;return K.createElement(_a,{begin:c,duration:f,isActive:l,easing:h,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(_),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(S){var w=S.t,x=[],I=o&&o[0],N=I.startAngle;return o.forEach(function(M,V){var O=v&&v[V],j=V>0?Jr(M,"paddingAngle",0):0;if(O){var T=Xr(O.endAngle-O.startAngle,M.endAngle-M.startAngle),R=en(en({},M),{},{startAngle:N+j,endAngle:N+T(w)+j});x.push(R),N=R.endAngle}else{var P=M.endAngle,U=M.startAngle,D=Xr(0,P-U),B=D(w),L=en(en({},M),{},{startAngle:N+j,endAngle:N+B+j});x.push(L),N=L.endAngle}}),K.createElement(jt,null,r.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var l=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"ArrowRight":{var c=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[c].focus(),i.setState({sectorToFocus:c});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,l=this.state.prevSectors;return o&&i&&i.length&&(!l||!Ed(l,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,l=i.sectors,c=i.className,f=i.label,h=i.cx,p=i.cy,m=i.innerRadius,v=i.outerRadius,_=i.isAnimationActive,S=this.state.isAnimationFinished;if(o||!l||!l.length||!Ee(h)||!Ee(p)||!Ee(m)||!Ee(v))return null;var w=bt("recharts-pie",c);return K.createElement(jt,{tabIndex:this.props.rootTabIndex,className:w,ref:function(I){r.pieRef=I}},this.renderSectors(),f&&this.renderLabels(l),Xn.renderCallByParent(this.props,null,!1),(!_||S)&&no.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(K.isValidElement(r))return K.cloneElement(r,i);if(it(r))return r(i);var l=bt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return K.createElement(vg,Mu({},i,{key:o,type:"linear",className:l}))}},{key:"renderLabelItem",value:function(r,i,o){if(K.isValidElement(r))return K.cloneElement(r,i);var l=o;if(it(r)&&(l=r(i),K.isValidElement(l)))return l;var c=bt("recharts-pie-label-text",typeof r!="boolean"&&!it(r)?r.className:"");return K.createElement(El,Mu({},i,{alignmentBaseline:"middle",className:c}),l)}}])})(q.PureComponent);Sm=mo;Ai(mo,"displayName","Pie");Ai(mo,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Nl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ai(mo,"parseDeltaAngle",function(t,e){var n=xr(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Ai(mo,"getRealPieData",function(t){var e=t.data,n=t.children,r=Ye(t,!1),i=ei(n,wy);return e&&e.length?e.map(function(o,l){return en(en(en({payload:o},r),o),i&&i[l]&&i[l].props)}):i&&i.length?i.map(function(o){return en(en({},r),o.props)}):[]});Ai(mo,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,l=rV(i,o),c=r+wr(t.cx,i,i/2),f=n+wr(t.cy,o,o/2),h=wr(t.innerRadius,l,0),p=wr(t.outerRadius,l,l*.8),m=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:c,cy:f,innerRadius:h,outerRadius:p,maxRadius:m}});Ai(mo,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?en(en({},e.type.defaultProps),e.props):e.props,i=Sm.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,l=r.startAngle,c=r.endAngle,f=r.paddingAngle,h=r.dataKey,p=r.nameKey,m=r.valueKey,v=r.tooltipType,_=Math.abs(r.minAngle),S=Sm.parseCoordinateOfPie(r,n),w=Sm.parseDeltaAngle(l,c),x=Math.abs(w),I=h;lt(h)&&lt(m)?(Gi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),I="value"):lt(h)&&(Gi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),I=m);var N=i.filter(function(R){return $n(R,I,0)!==0}).length,M=(x>=360?N:N-1)*f,V=x-N*_-M,O=i.reduce(function(R,P){var U=$n(P,I,0);return R+(Ee(U)?U:0)},0),j;if(O>0){var T;j=i.map(function(R,P){var U=$n(R,I,0),D=$n(R,p,P),B=(Ee(U)?U:0)/O,L;P?L=T.endAngle+xr(w)*f*(U!==0?1:0):L=l;var J=L+xr(w)*((U!==0?_:0)+B*V),Q=(L+J)/2,H=(S.innerRadius+S.outerRadius)/2,Y=[{name:D,value:U,payload:R,dataKey:I,type:v}],te=nn(S.cx,S.cy,H,Q);return T=en(en(en({percent:B,cornerRadius:o,name:D,tooltipPayload:Y,midAngle:Q,middleRadius:H,tooltipPosition:te},R),S),{},{value:$n(R,I),startAngle:L,endAngle:J,payload:R,paddingAngle:xr(w)*f}),T})}return en(en({},S),{},{sectors:j,data:i})});var qw,yD;function Dae(){if(yD)return qw;yD=1;var t=Math.ceil,e=Math.max;function n(r,i,o,l){for(var c=-1,f=e(t((i-r)/(o||1)),0),h=Array(f);f--;)h[l?f:++c]=r,r+=o;return h}return qw=n,qw}var zw,vD;function wV(){if(vD)return zw;vD=1;var t=F6(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var o=i<0?-1:1;return o*n}return i===i?i:0}return zw=r,zw}var Fw,bD;function Lae(){if(bD)return Fw;bD=1;var t=Dae(),e=xy(),n=wV();function r(i){return function(o,l,c){return c&&typeof c!="number"&&e(o,l,c)&&(l=c=void 0),o=n(o),l===void 0?(l=o,o=0):l=n(l),c=c===void 0?o<l?1:-1:n(c),t(o,l,c,i)}}return Fw=r,Fw}var Hw,_D;function Vae(){if(_D)return Hw;_D=1;var t=Lae(),e=t();return Hw=e,Hw}var Uae=Vae();const Cg=qt(Uae);function td(t){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(t)}function xD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xD(Object(n),!0).forEach(function(r){SV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SV(t,e,n){return e=Bae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bae(t){var e=$ae(t,"string");return td(e)=="symbol"?e:e+""}function $ae(t,e){if(td(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qae=["Webkit","Moz","O","ms"],zae=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=qae.reduce(function(o,l){return wD(wD({},o),{},SV({},l+r,n))},{});return i[e]=n,i};function cc(t){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cc(t)}function Ig(){return Ig=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ig.apply(this,arguments)}function SD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SD(Object(n),!0).forEach(function(r){Kr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EV(r.key),r)}}function Hae(t,e,n){return e&&AD(t.prototype,e),n&&AD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gae(t,e,n){return e=Rg(e),Kae(t,AV()?Reflect.construct(e,n||[],Rg(t).constructor):e.apply(t,n))}function Kae(t,e){if(e&&(cc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wae(t)}function Wae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AV=function(){return!!t})()}function Rg(t){return Rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rg(t)}function Yae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&US(t,e)}function US(t,e){return US=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},US(t,e)}function Kr(t,e,n){return e=EV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EV(t){var e=Xae(t,"string");return cc(e)=="symbol"?e:e+""}function Xae(t,e){if(cc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qae=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,l=e.width,c=e.travellerWidth;if(!n||!n.length)return{};var f=n.length,h=fh().domain(Cg(0,f)).range([o,o+l-c]),p=h.domain().map(function(m){return h(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:h(r),endX:h(i),scale:h,scaleValues:p}},ED=function(e){return e.changedTouches&&!!e.changedTouches.length},fc=(function(t){function e(n){var r;return Fae(this,e),r=Gae(this,e,[n]),Kr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Kr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Kr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,l=i.onDragEnd,c=i.startIndex;l==null||l({endIndex:o,startIndex:c})}),r.detachDragEndListener()}),Kr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Kr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Kr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Kr(r,"handleSlideDragStart",function(i){var o=ED(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Yae(e,t),Hae(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,l=this.state.scaleValues,c=this.props,f=c.gap,h=c.data,p=h.length-1,m=Math.min(i,o),v=Math.max(i,o),_=e.getIndexInRange(l,m),S=e.getIndexInRange(l,v);return{startIndex:_-_%f,endIndex:S===p?p:S-S%f}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,l=i.tickFormatter,c=i.dataKey,f=$n(o[r],c,r);return it(l)?l(f,r):f}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,l=i.startX,c=i.endX,f=this.props,h=f.x,p=f.width,m=f.travellerWidth,v=f.startIndex,_=f.endIndex,S=f.onChange,w=r.pageX-o;w>0?w=Math.min(w,h+p-m-c,h+p-m-l):w<0&&(w=Math.max(w,h-l,h-c));var x=this.getIndex({startX:l+w,endX:c+w});(x.startIndex!==v||x.endIndex!==_)&&S&&S(x),this.setState({startX:l+w,endX:c+w,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=ED(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,l=i.movingTravellerId,c=i.endX,f=i.startX,h=this.state[l],p=this.props,m=p.x,v=p.width,_=p.travellerWidth,S=p.onChange,w=p.gap,x=p.data,I={startX:this.state.startX,endX:this.state.endX},N=r.pageX-o;N>0?N=Math.min(N,m+v-_-h):N<0&&(N=Math.max(N,m-h)),I[l]=h+N;var M=this.getIndex(I),V=M.startIndex,O=M.endIndex,j=function(){var R=x.length-1;return l==="startX"&&(c>f?V%w===0:O%w===0)||c<f&&O===R||l==="endX"&&(c>f?O%w===0:V%w===0)||c>f&&O===R};this.setState(Kr(Kr({},l,h+N),"brushMoveStartX",r.pageX),function(){S&&j()&&S(M)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,l=this.state,c=l.scaleValues,f=l.startX,h=l.endX,p=this.state[i],m=c.indexOf(p);if(m!==-1){var v=m+r;if(!(v===-1||v>=c.length)){var _=c[v];i==="startX"&&_>=h||i==="endX"&&_<=f||this.setState(Kr({},i,_),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,l=r.width,c=r.height,f=r.fill,h=r.stroke;return K.createElement("rect",{stroke:h,fill:f,x:i,y:o,width:l,height:c})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,l=r.width,c=r.height,f=r.data,h=r.children,p=r.padding,m=q.Children.only(h);return m?K.cloneElement(m,{x:i,y:o,width:l,height:c,margin:p,compact:!0,data:f}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,l,c=this,f=this.props,h=f.y,p=f.travellerWidth,m=f.height,v=f.traveller,_=f.ariaLabel,S=f.data,w=f.startIndex,x=f.endIndex,I=Math.max(r,this.props.x),N=Gw(Gw({},Ye(this.props,!1)),{},{x:I,y:h,width:p,height:m}),M=_||"Min value: ".concat((o=S[w])===null||o===void 0?void 0:o.name,", Max value: ").concat((l=S[x])===null||l===void 0?void 0:l.name);return K.createElement(jt,{tabIndex:0,role:"slider","aria-label":M,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(O){["ArrowLeft","ArrowRight"].includes(O.key)&&(O.preventDefault(),O.stopPropagation(),c.handleTravellerMoveKeyboard(O.key==="ArrowRight"?1:-1,i))},onFocus:function(){c.setState({isTravellerFocused:!0})},onBlur:function(){c.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(v,N))}},{key:"renderSlide",value:function(r,i){var o=this.props,l=o.y,c=o.height,f=o.stroke,h=o.travellerWidth,p=Math.min(r,i)+h,m=Math.max(Math.abs(i-r)-h,0);return K.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:f,fillOpacity:.2,x:p,y:l,width:m,height:c})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,l=r.y,c=r.height,f=r.travellerWidth,h=r.stroke,p=this.state,m=p.startX,v=p.endX,_=5,S={pointerEvents:"none",fill:h};return K.createElement(jt,{className:"recharts-brush-texts"},K.createElement(El,Ig({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,v)-_,y:l+c/2},S),this.getTextOfTick(i)),K.createElement(El,Ig({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,v)+f+_,y:l+c/2},S),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,l=r.children,c=r.x,f=r.y,h=r.width,p=r.height,m=r.alwaysShowText,v=this.state,_=v.startX,S=v.endX,w=v.isTextActive,x=v.isSlideMoving,I=v.isTravellerMoving,N=v.isTravellerFocused;if(!i||!i.length||!Ee(c)||!Ee(f)||!Ee(h)||!Ee(p)||h<=0||p<=0)return null;var M=bt("recharts-brush",o),V=K.Children.count(l)===1,O=zae("userSelect","none");return K.createElement(jt,{className:M,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:O},this.renderBackground(),V&&this.renderPanorama(),this.renderSlide(_,S),this.renderTravellerLayer(_,"startX"),this.renderTravellerLayer(S,"endX"),(w||x||I||N||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,l=r.width,c=r.height,f=r.stroke,h=Math.floor(o+c/2)-1;return K.createElement(K.Fragment,null,K.createElement("rect",{x:i,y:o,width:l,height:c,fill:f,stroke:"none"}),K.createElement("line",{x1:i+1,y1:h,x2:i+l-1,y2:h,fill:"none",stroke:"#fff"}),K.createElement("line",{x1:i+1,y1:h+2,x2:i+l-1,y2:h+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return K.isValidElement(r)?o=K.cloneElement(r,i):it(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,l=r.width,c=r.x,f=r.travellerWidth,h=r.updateId,p=r.startIndex,m=r.endIndex;if(o!==i.prevData||h!==i.prevUpdateId)return Gw({prevData:o,prevTravellerWidth:f,prevUpdateId:h,prevX:c,prevWidth:l},o&&o.length?Qae({data:o,width:l,x:c,travellerWidth:f,startIndex:p,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(l!==i.prevWidth||c!==i.prevX||f!==i.prevTravellerWidth)){i.scale.range([c,c+l-f]);var v=i.scale.domain().map(function(_){return i.scale(_)});return{prevData:o,prevTravellerWidth:f,prevUpdateId:h,prevX:c,prevWidth:l,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,l=0,c=o-1;c-l>1;){var f=Math.floor((l+c)/2);r[f]>i?c=f:l=f}return i>=r[c]?c:l}}])})(q.PureComponent);Kr(fc,"displayName","Brush");Kr(fc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Kw,TD;function Zae(){if(TD)return Kw;TD=1;var t=xE();function e(n,r){var i;return t(n,function(o,l,c){return i=r(o,l,c),!i}),!!i}return Kw=e,Kw}var Ww,OD;function Jae(){if(OD)return Ww;OD=1;var t=x6(),e=wa(),n=Zae(),r=Vr(),i=xy();function o(l,c,f){var h=r(l)?t:n;return f&&i(l,c,f)&&(c=void 0),h(l,e(c,3))}return Ww=o,Ww}var eoe=Jae();const toe=qt(eoe);var ma=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},Yw,CD;function noe(){if(CD)return Yw;CD=1;var t=U6();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return Yw=e,Yw}var Xw,ID;function roe(){if(ID)return Xw;ID=1;var t=noe(),e=L6(),n=wa();function r(i,o){var l={};return o=n(o,3),e(i,function(c,f,h){t(l,f,o(c,f,h))}),l}return Xw=r,Xw}var ioe=roe();const aoe=qt(ioe);var Qw,RD;function ooe(){if(RD)return Qw;RD=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return Qw=t,Qw}var Zw,PD;function soe(){if(PD)return Zw;PD=1;var t=xE();function e(n,r){var i=!0;return t(n,function(o,l,c){return i=!!r(o,l,c),i}),i}return Zw=e,Zw}var Jw,ND;function loe(){if(ND)return Jw;ND=1;var t=ooe(),e=soe(),n=wa(),r=Vr(),i=xy();function o(l,c,f){var h=r(l)?t:e;return f&&i(l,c,f)&&(c=void 0),h(l,n(c,3))}return Jw=o,Jw}var uoe=loe();const TV=qt(uoe);var coe=["x","y"];function nd(t){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(t)}function BS(){return BS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BS.apply(this,arguments)}function MD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MD(Object(n),!0).forEach(function(r){foe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function foe(t,e,n){return e=hoe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hoe(t){var e=doe(t,"string");return nd(e)=="symbol"?e:e+""}function doe(t,e){if(nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function poe(t,e){if(t==null)return{};var n=moe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function moe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function goe(t,e){var n=t.x,r=t.y,i=poe(t,coe),o="".concat(n),l=parseInt(o,10),c="".concat(r),f=parseInt(c,10),h="".concat(e.height||i.height),p=parseInt(h,10),m="".concat(e.width||i.width),v=parseInt(m,10);return Kf(Kf(Kf(Kf(Kf({},e),i),l?{x:l}:{}),f?{y:f}:{}),{},{height:p,width:v,name:e.name,radius:e.radius})}function kD(t){return K.createElement(bV,BS({shapeType:"rectangle",propTransformer:goe,activeClassName:"recharts-active-bar"},t))}var yoe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=Ee(r)||BG(r);return o?e(r,i):(o||Ol(),n)}},voe=["value","background"],OV;function hc(t){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hc(t)}function boe(t,e){if(t==null)return{};var n=_oe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _oe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Pg(){return Pg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pg.apply(this,arguments)}function jD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jD(Object(n),!0).forEach(function(r){is(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IV(r.key),r)}}function woe(t,e,n){return e&&DD(t.prototype,e),n&&DD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Soe(t,e,n){return e=Ng(e),Aoe(t,CV()?Reflect.construct(e,n||[],Ng(t).constructor):e.apply(t,n))}function Aoe(t,e){if(e&&(hc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Eoe(t)}function Eoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CV=function(){return!!t})()}function Ng(t){return Ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ng(t)}function Toe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$S(t,e)}function $S(t,e){return $S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$S(t,e)}function is(t,e,n){return e=IV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IV(t){var e=Ooe(t,"string");return hc(e)=="symbol"?e:e+""}function Ooe(t,e){if(hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Od=(function(t){function e(){var n;xoe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Soe(this,e,[].concat(i)),is(n,"state",{isAnimationFinished:!1}),is(n,"id",Mc("recharts-bar-")),is(n,"handleAnimationEnd",function(){var l=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),l&&l()}),is(n,"handleAnimationStart",function(){var l=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),l&&l()}),n}return Toe(e,t),woe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,l=o.shape,c=o.dataKey,f=o.activeIndex,h=o.activeBar,p=Ye(this.props,!1);return r&&r.map(function(m,v){var _=v===f,S=_?h:l,w=Mn(Mn(Mn({},p),m),{},{isActive:_,option:S,index:v,dataKey:c,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return K.createElement(jt,Pg({className:"recharts-bar-rectangle"},Al(i.props,m,v),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(v)}),K.createElement(kD,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,l=i.layout,c=i.isAnimationActive,f=i.animationBegin,h=i.animationDuration,p=i.animationEasing,m=i.animationId,v=this.state.prevData;return K.createElement(_a,{begin:f,duration:h,isActive:c,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var S=_.t,w=o.map(function(x,I){var N=v&&v[I];if(N){var M=Xr(N.x,x.x),V=Xr(N.y,x.y),O=Xr(N.width,x.width),j=Xr(N.height,x.height);return Mn(Mn({},x),{},{x:M(S),y:V(S),width:O(S),height:j(S)})}if(l==="horizontal"){var T=Xr(0,x.height),R=T(S);return Mn(Mn({},x),{},{y:x.y+x.height-R,height:R})}var P=Xr(0,x.width),U=P(S);return Mn(Mn({},x),{},{width:U})});return K.createElement(jt,null,r.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,l=this.state.prevData;return o&&i&&i.length&&(!l||!Ed(l,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,l=i.dataKey,c=i.activeIndex,f=Ye(this.props.background,!1);return o.map(function(h,p){h.value;var m=h.background,v=boe(h,voe);if(!m)return null;var _=Mn(Mn(Mn(Mn(Mn({},v),{},{fill:"#eee"},m),f),Al(r.props,h,p)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:l,index:p,className:"recharts-bar-background-rectangle"});return K.createElement(kD,Pg({key:"background-bar-".concat(p),option:r.props.background,isActive:p===c},_))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.data,c=o.xAxis,f=o.yAxis,h=o.layout,p=o.children,m=ei(p,Td);if(!m)return null;var v=h==="vertical"?l[0].height/2:l[0].width/2,_=function(x,I){var N=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:N,errorVal:$n(x,I)}},S={clipPath:r?"url(#clipPath-".concat(i,")"):null};return K.createElement(jt,S,m.map(function(w){return K.cloneElement(w,{key:"error-bar-".concat(i,"-").concat(w.props.dataKey),data:l,xAxis:c,yAxis:f,layout:h,offset:v,dataPointFormatter:_})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,l=r.className,c=r.xAxis,f=r.yAxis,h=r.left,p=r.top,m=r.width,v=r.height,_=r.isAnimationActive,S=r.background,w=r.id;if(i||!o||!o.length)return null;var x=this.state.isAnimationFinished,I=bt("recharts-bar",l),N=c&&c.allowDataOverflow,M=f&&f.allowDataOverflow,V=N||M,O=lt(w)?this.id:w;return K.createElement(jt,{className:I},N||M?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(O)},K.createElement("rect",{x:N?h:h-m/2,y:M?p:p-v/2,width:N?m:m*2,height:M?v:v*2}))):null,K.createElement(jt,{className:"recharts-bar-rectangles",clipPath:V?"url(#clipPath-".concat(O,")"):null},S?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(V,O),(!_||x)&&no.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(q.PureComponent);OV=Od;is(Od,"displayName","Bar");is(Od,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Nl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});is(Od,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,l=t.yAxis,c=t.xAxisTicks,f=t.yAxisTicks,h=t.stackedData,p=t.dataStartIndex,m=t.displayedData,v=t.offset,_=tte(r,n);if(!_)return null;var S=e.layout,w=n.type.defaultProps,x=w!==void 0?Mn(Mn({},w),n.props):n.props,I=x.dataKey,N=x.children,M=x.minPointSize,V=S==="horizontal"?l:o,O=h?V.scale.domain():null,j=lte({numericAxis:V}),T=ei(N,wy),R=m.map(function(P,U){var D,B,L,J,Q,H;h?D=nte(h[p+U],O):(D=$n(P,I),Array.isArray(D)||(D=[j,D]));var Y=yoe(M,OV.defaultProps.minPointSize)(D[1],U);if(S==="horizontal"){var te,ce=[l.scale(D[0]),l.scale(D[1])],be=ce[0],F=ce[1];B=sj({axis:o,ticks:c,bandSize:i,offset:_.offset,entry:P,index:U}),L=(te=F??be)!==null&&te!==void 0?te:void 0,J=_.size;var W=be-F;if(Q=Number.isNaN(W)?0:W,H={x:B,y:l.y,width:J,height:l.height},Math.abs(Y)>0&&Math.abs(Q)<Math.abs(Y)){var se=xr(Q||Y)*(Math.abs(Y)-Math.abs(Q));L-=se,Q+=se}}else{var ge=[o.scale(D[0]),o.scale(D[1])],_e=ge[0],Ae=ge[1];if(B=_e,L=sj({axis:l,ticks:f,bandSize:i,offset:_.offset,entry:P,index:U}),J=Ae-_e,Q=_.size,H={x:o.x,y:L,width:o.width,height:Q},Math.abs(Y)>0&&Math.abs(J)<Math.abs(Y)){var je=xr(J||Y)*(Math.abs(Y)-Math.abs(J));J+=je}}return Mn(Mn(Mn({},P),{},{x:B,y:L,width:J,height:Q,value:h?D:D[1],payload:P,background:H},T&&T[U]&&T[U].props),{},{tooltipPayload:[tV(n,P)],tooltipPosition:{x:B+J/2,y:L+Q/2}})});return Mn({data:R,layout:S},v)});function rd(t){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(t)}function Coe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RV(r.key),r)}}function Ioe(t,e,n){return e&&LD(t.prototype,e),n&&LD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function VD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VD(Object(n),!0).forEach(function(r){$y(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $y(t,e,n){return e=RV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RV(t){var e=Roe(t,"string");return rd(e)=="symbol"?e:e+""}function Roe(t,e){if(rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Poe=function(e,n,r,i,o){var l=e.width,c=e.height,f=e.layout,h=e.children,p=Object.keys(n),m={left:r.left,leftMirror:r.left,right:l-r.right,rightMirror:l-r.right,top:r.top,topMirror:r.top,bottom:c-r.bottom,bottomMirror:c-r.bottom},v=!!Wr(h,Od);return p.reduce(function(_,S){var w=n[S],x=w.orientation,I=w.domain,N=w.padding,M=N===void 0?{}:N,V=w.mirror,O=w.reversed,j="".concat(x).concat(V?"Mirror":""),T,R,P,U,D;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var B=I[1]-I[0],L=1/0,J=w.categoricalDomain.sort(zG);if(J.forEach(function(ge,_e){_e>0&&(L=Math.min((ge||0)-(J[_e-1]||0),L))}),Number.isFinite(L)){var Q=L/B,H=w.layout==="vertical"?r.height:r.width;if(w.padding==="gap"&&(T=Q*H/2),w.padding==="no-gap"){var Y=wr(e.barCategoryGap,Q*H),te=Q*H/2;T=te-Y-(te-Y)/H*Y}}}i==="xAxis"?R=[r.left+(M.left||0)+(T||0),r.left+r.width-(M.right||0)-(T||0)]:i==="yAxis"?R=f==="horizontal"?[r.top+r.height-(M.bottom||0),r.top+(M.top||0)]:[r.top+(M.top||0)+(T||0),r.top+r.height-(M.bottom||0)-(T||0)]:R=w.range,O&&(R=[R[1],R[0]]);var ce=Q5(w,o,v),be=ce.scale,F=ce.realScaleType;be.domain(I).range(R),Z5(be);var W=J5(be,Bi(Bi({},w),{},{realScaleType:F}));i==="xAxis"?(D=x==="top"&&!V||x==="bottom"&&V,P=r.left,U=m[j]-D*w.height):i==="yAxis"&&(D=x==="left"&&!V||x==="right"&&V,P=m[j]-D*w.width,U=r.top);var se=Bi(Bi(Bi({},w),W),{},{realScaleType:F,x:P,y:U,scale:be,width:i==="xAxis"?r.width:w.width,height:i==="yAxis"?r.height:w.height});return se.bandSize=mg(se,W),!w.hide&&i==="xAxis"?m[j]+=(D?-1:1)*se.height:w.hide||(m[j]+=(D?-1:1)*se.width),Bi(Bi({},_),{},$y({},S,se))},{})},PV=function(e,n){var r=e.x,i=e.y,o=n.x,l=n.y;return{x:Math.min(r,o),y:Math.min(i,l),width:Math.abs(o-r),height:Math.abs(l-i)}},Noe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return PV({x:n,y:r},{x:i,y:o})},NV=(function(){function t(e){Coe(this,t),this.scale=e}return Ioe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}case"end":{var c=this.bandwidth?this.bandwidth():0;return this.scale(n)+c}default:return this.scale(n)}if(i){var f=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+f}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();$y(NV,"EPS",1e-4);var XE=function(e){var n=Object.keys(e).reduce(function(r,i){return Bi(Bi({},r),{},$y({},i,NV.create(e[i])))},{});return Bi(Bi({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=o.bandAware,c=o.position;return aoe(i,function(f,h){return n[h].apply(f,{bandAware:l,position:c})})},isInRange:function(i){return TV(i,function(o,l){return n[l].isInRange(o)})}})};function Moe(t){return(t%180+180)%180}var koe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=Moe(i),l=o*Math.PI/180,c=Math.atan(r/n),f=l>c&&l<Math.PI-c?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},e1,UD;function joe(){if(UD)return e1;UD=1;var t=wa(),e=_d(),n=by();function r(i){return function(o,l,c){var f=Object(o);if(!e(o)){var h=t(l,3);o=n(o),l=function(m){return h(f[m],m,f)}}var p=i(o,l,c);return p>-1?f[h?o[p]:p]:void 0}}return e1=r,e1}var t1,BD;function Doe(){if(BD)return t1;BD=1;var t=wV();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return t1=e,t1}var n1,$D;function Loe(){if($D)return n1;$D=1;var t=N6(),e=wa(),n=Doe(),r=Math.max;function i(o,l,c){var f=o==null?0:o.length;if(!f)return-1;var h=c==null?0:n(c);return h<0&&(h=r(f+h,0)),t(o,e(l,3),h)}return n1=i,n1}var r1,qD;function Voe(){if(qD)return r1;qD=1;var t=joe(),e=Loe(),n=t(e);return r1=n,r1}var Uoe=Voe();const Boe=qt(Uoe);var $oe=W3();const qoe=qt($oe);var zoe=qoe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),QE=q.createContext(void 0),ZE=q.createContext(void 0),MV=q.createContext(void 0),kV=q.createContext({}),jV=q.createContext(void 0),DV=q.createContext(0),LV=q.createContext(0),zD=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,l=e.clipPathId,c=e.children,f=e.width,h=e.height,p=zoe(o);return K.createElement(QE.Provider,{value:r},K.createElement(ZE.Provider,{value:i},K.createElement(kV.Provider,{value:o},K.createElement(MV.Provider,{value:p},K.createElement(jV.Provider,{value:l},K.createElement(DV.Provider,{value:h},K.createElement(LV.Provider,{value:f},c)))))))},Foe=function(){return q.useContext(jV)},VV=function(e){var n=q.useContext(QE);n==null&&Ol();var r=n[e];return r==null&&Ol(),r},Hoe=function(){var e=q.useContext(QE);return ns(e)},Goe=function(){var e=q.useContext(ZE),n=Boe(e,function(r){return TV(r.domain,Number.isFinite)});return n||ns(e)},UV=function(e){var n=q.useContext(ZE);n==null&&Ol();var r=n[e];return r==null&&Ol(),r},Koe=function(){var e=q.useContext(MV);return e},Woe=function(){return q.useContext(kV)},JE=function(){return q.useContext(LV)},eT=function(){return q.useContext(DV)};function dc(t){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dc(t)}function Yoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xoe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$V(r.key),r)}}function Qoe(t,e,n){return e&&Xoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zoe(t,e,n){return e=Mg(e),Joe(t,BV()?Reflect.construct(e,n||[],Mg(t).constructor):e.apply(t,n))}function Joe(t,e){if(e&&(dc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ese(t)}function ese(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BV=function(){return!!t})()}function Mg(t){return Mg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mg(t)}function tse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qS(t,e)}function qS(t,e){return qS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qS(t,e)}function FD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FD(Object(n),!0).forEach(function(r){tT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tT(t,e,n){return e=$V(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $V(t){var e=nse(t,"string");return dc(e)=="symbol"?e:e+""}function nse(t,e){if(dc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function rse(t,e){return sse(t)||ose(t,e)||ase(t,e)||ise()}function ise(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ase(t,e){if(t){if(typeof t=="string")return GD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GD(t,e)}}function GD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ose(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,l,c=[],f=!0,h=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(f=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function sse(t){if(Array.isArray(t))return t}function zS(){return zS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zS.apply(this,arguments)}var lse=function(e,n){var r;return K.isValidElement(e)?r=K.cloneElement(e,n):it(e)?r=e(n):r=K.createElement("line",zS({},n,{className:"recharts-reference-line-line"})),r},use=function(e,n,r,i,o,l,c,f,h){var p=o.x,m=o.y,v=o.width,_=o.height;if(r){var S=h.y,w=e.y.apply(S,{position:l});if(ma(h,"discard")&&!e.y.isInRange(w))return null;var x=[{x:p+v,y:w},{x:p,y:w}];return f==="left"?x.reverse():x}if(n){var I=h.x,N=e.x.apply(I,{position:l});if(ma(h,"discard")&&!e.x.isInRange(N))return null;var M=[{x:N,y:m+_},{x:N,y:m}];return c==="top"?M.reverse():M}if(i){var V=h.segment,O=V.map(function(j){return e.apply(j,{position:l})});return ma(h,"discard")&&toe(O,function(j){return!e.isInRange(j)})?null:O}return null};function cse(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,l=t.shape,c=t.className,f=t.alwaysShow,h=Foe(),p=VV(i),m=UV(o),v=Koe();if(!h||!v)return null;Gi(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var _=XE({x:p.scale,y:m.scale}),S=zn(e),w=zn(n),x=r&&r.length===2,I=use(_,S,w,x,v,t.position,p.orientation,m.orientation,t);if(!I)return null;var N=rse(I,2),M=N[0],V=M.x,O=M.y,j=N[1],T=j.x,R=j.y,P=ma(t,"hidden")?"url(#".concat(h,")"):void 0,U=HD(HD({clipPath:P},Ye(t,!0)),{},{x1:V,y1:O,x2:T,y2:R});return K.createElement(jt,{className:bt("recharts-reference-line",c)},lse(l,U),Xn.renderCallByParent(t,Noe({x1:V,y1:O,x2:T,y2:R})))}var nT=(function(t){function e(){return Yoe(this,e),Zoe(this,e,arguments)}return tse(e,t),Qoe(e,[{key:"render",value:function(){return K.createElement(cse,this.props)}}])})(K.Component);tT(nT,"displayName","ReferenceLine");tT(nT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function FS(){return FS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FS.apply(this,arguments)}function pc(t){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pc(t)}function KD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KD(Object(n),!0).forEach(function(r){qy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zV(r.key),r)}}function dse(t,e,n){return e&&hse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pse(t,e,n){return e=kg(e),mse(t,qV()?Reflect.construct(e,n||[],kg(t).constructor):e.apply(t,n))}function mse(t,e){if(e&&(pc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gse(t)}function gse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qV=function(){return!!t})()}function kg(t){return kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kg(t)}function yse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HS(t,e)}function HS(t,e){return HS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HS(t,e)}function qy(t,e,n){return e=zV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zV(t){var e=vse(t,"string");return pc(e)=="symbol"?e:e+""}function vse(t,e){if(pc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bse=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,l=XE({x:i.scale,y:o.scale}),c=l.apply({x:n,y:r},{bandAware:!0});return ma(e,"discard")&&!l.isInRange(c)?null:c},zy=(function(t){function e(){return fse(this,e),pse(this,e,arguments)}return yse(e,t),dse(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,l=r.r,c=r.alwaysShow,f=r.clipPathId,h=zn(i),p=zn(o);if(Gi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!h||!p)return null;var m=bse(this.props);if(!m)return null;var v=m.x,_=m.y,S=this.props,w=S.shape,x=S.className,I=ma(this.props,"hidden")?"url(#".concat(f,")"):void 0,N=WD(WD({clipPath:I},Ye(this.props,!0)),{},{cx:v,cy:_});return K.createElement(jt,{className:bt("recharts-reference-dot",x)},e.renderDot(w,N),Xn.renderCallByParent(this.props,{x:v-l,y:_-l,width:2*l,height:2*l}))}}])})(K.Component);qy(zy,"displayName","ReferenceDot");qy(zy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});qy(zy,"renderDot",function(t,e){var n;return K.isValidElement(t)?n=K.cloneElement(t,e):it(t)?n=t(e):n=K.createElement(ky,FS({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function GS(){return GS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GS.apply(this,arguments)}function mc(t){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mc(t)}function YD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YD(Object(n),!0).forEach(function(r){Fy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _se(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HV(r.key),r)}}function wse(t,e,n){return e&&xse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sse(t,e,n){return e=jg(e),Ase(t,FV()?Reflect.construct(e,n||[],jg(t).constructor):e.apply(t,n))}function Ase(t,e){if(e&&(mc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ese(t)}function Ese(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FV=function(){return!!t})()}function jg(t){return jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jg(t)}function Tse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KS(t,e)}function KS(t,e){return KS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KS(t,e)}function Fy(t,e,n){return e=HV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HV(t){var e=Ose(t,"string");return mc(e)=="symbol"?e:e+""}function Ose(t,e){if(mc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cse=function(e,n,r,i,o){var l=o.x1,c=o.x2,f=o.y1,h=o.y2,p=o.xAxis,m=o.yAxis;if(!p||!m)return null;var v=XE({x:p.scale,y:m.scale}),_={x:e?v.x.apply(l,{position:"start"}):v.x.rangeMin,y:r?v.y.apply(f,{position:"start"}):v.y.rangeMin},S={x:n?v.x.apply(c,{position:"end"}):v.x.rangeMax,y:i?v.y.apply(h,{position:"end"}):v.y.rangeMax};return ma(o,"discard")&&(!v.isInRange(_)||!v.isInRange(S))?null:PV(_,S)},Hy=(function(t){function e(){return _se(this,e),Sse(this,e,arguments)}return Tse(e,t),wse(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,l=r.y1,c=r.y2,f=r.className,h=r.alwaysShow,p=r.clipPathId;Gi(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=zn(i),v=zn(o),_=zn(l),S=zn(c),w=this.props.shape;if(!m&&!v&&!_&&!S&&!w)return null;var x=Cse(m,v,_,S,this.props);if(!x&&!w)return null;var I=ma(this.props,"hidden")?"url(#".concat(p,")"):void 0;return K.createElement(jt,{className:bt("recharts-reference-area",f)},e.renderRect(w,XD(XD({clipPath:I},Ye(this.props,!0)),x)),Xn.renderCallByParent(this.props,x))}}])})(K.Component);Fy(Hy,"displayName","ReferenceArea");Fy(Hy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Fy(Hy,"renderRect",function(t,e){var n;return K.isValidElement(t)?n=K.cloneElement(t,e):it(t)?n=t(e):n=K.createElement(YE,GS({},e,{className:"recharts-reference-area-rect"})),n});function GV(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Ise(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return koe(r,n)}function Rse(t,e,n){var r=n==="width",i=t.x,o=t.y,l=t.width,c=t.height;return e===1?{start:r?i:o,end:r?i+l:o+c}:{start:r?i+l:o+c,end:r?i:o}}function Dg(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Pse(t,e){return GV(t,e+1)}function Nse(t,e,n,r,i){for(var o=(r||[]).slice(),l=e.start,c=e.end,f=0,h=1,p=l,m=function(){var S=r==null?void 0:r[f];if(S===void 0)return{v:GV(r,h)};var w=f,x,I=function(){return x===void 0&&(x=n(S,w)),x},N=S.coordinate,M=f===0||Dg(t,N,I,p,c);M||(f=0,p=l,h+=1),M&&(p=N+t*(I()/2+i),f+=h)},v;h<=o.length;)if(v=m(),v)return v.v;return[]}function id(t){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},id(t)}function QD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QD(Object(n),!0).forEach(function(r){Mse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mse(t,e,n){return e=kse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kse(t){var e=jse(t,"string");return id(e)=="symbol"?e:e+""}function jse(t,e){if(id(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dse(t,e,n,r,i){for(var o=(r||[]).slice(),l=o.length,c=e.start,f=e.end,h=function(v){var _=o[v],S,w=function(){return S===void 0&&(S=n(_,v)),S};if(v===l-1){var x=t*(_.coordinate+t*w()/2-f);o[v]=_=cr(cr({},_),{},{tickCoord:x>0?_.coordinate-x*t:_.coordinate})}else o[v]=_=cr(cr({},_),{},{tickCoord:_.coordinate});var I=Dg(t,_.tickCoord,w,c,f);I&&(f=_.tickCoord-t*(w()/2+i),o[v]=cr(cr({},_),{},{isShow:!0}))},p=l-1;p>=0;p--)h(p);return o}function Lse(t,e,n,r,i,o){var l=(r||[]).slice(),c=l.length,f=e.start,h=e.end;if(o){var p=r[c-1],m=n(p,c-1),v=t*(p.coordinate+t*m/2-h);l[c-1]=p=cr(cr({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate});var _=Dg(t,p.tickCoord,function(){return m},f,h);_&&(h=p.tickCoord-t*(m/2+i),l[c-1]=cr(cr({},p),{},{isShow:!0}))}for(var S=o?c-1:c,w=function(N){var M=l[N],V,O=function(){return V===void 0&&(V=n(M,N)),V};if(N===0){var j=t*(M.coordinate-t*O()/2-f);l[N]=M=cr(cr({},M),{},{tickCoord:j<0?M.coordinate-j*t:M.coordinate})}else l[N]=M=cr(cr({},M),{},{tickCoord:M.coordinate});var T=Dg(t,M.tickCoord,O,f,h);T&&(f=M.tickCoord+t*(O()/2+i),l[N]=cr(cr({},M),{},{isShow:!0}))},x=0;x<S;x++)w(x);return l}function rT(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,l=t.minTickGap,c=t.orientation,f=t.interval,h=t.tickFormatter,p=t.unit,m=t.angle;if(!i||!i.length||!r)return[];if(Ee(f)||Nl.isSsr)return Pse(i,typeof f=="number"&&Ee(f)?f:0);var v=[],_=c==="top"||c==="bottom"?"width":"height",S=p&&_==="width"?ch(p,{fontSize:e,letterSpacing:n}):{width:0,height:0},w=function(M,V){var O=it(h)?h(M.value,V):M.value;return _==="width"?Ise(ch(O,{fontSize:e,letterSpacing:n}),S,m):ch(O,{fontSize:e,letterSpacing:n})[_]},x=i.length>=2?xr(i[1].coordinate-i[0].coordinate):1,I=Rse(o,x,_);return f==="equidistantPreserveStart"?Nse(x,I,w,i,l):(f==="preserveStart"||f==="preserveStartEnd"?v=Lse(x,I,w,i,l,f==="preserveStartEnd"):v=Dse(x,I,w,i,l),v.filter(function(N){return N.isShow}))}var Vse=["viewBox"],Use=["viewBox"],Bse=["ticks"];function gc(t){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gc(t)}function ku(){return ku=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ku.apply(this,arguments)}function ZD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZD(Object(n),!0).forEach(function(r){iT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i1(t,e){if(t==null)return{};var n=$se(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $se(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WV(r.key),r)}}function zse(t,e,n){return e&&JD(t.prototype,e),n&&JD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fse(t,e,n){return e=Lg(e),Hse(t,KV()?Reflect.construct(e,n||[],Lg(t).constructor):e.apply(t,n))}function Hse(t,e){if(e&&(gc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gse(t)}function Gse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KV=function(){return!!t})()}function Lg(t){return Lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lg(t)}function Kse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WS(t,e)}function WS(t,e){return WS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WS(t,e)}function iT(t,e,n){return e=WV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WV(t){var e=Wse(t,"string");return gc(e)=="symbol"?e:e+""}function Wse(t,e){if(gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vc=(function(t){function e(n){var r;return qse(this,e),r=Fse(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Kse(e,t),zse(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,l=i1(r,Vse),c=this.props,f=c.viewBox,h=i1(c,Use);return!Bu(o,f)||!Bu(l,h)||!Bu(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,l=i.y,c=i.width,f=i.height,h=i.orientation,p=i.tickSize,m=i.mirror,v=i.tickMargin,_,S,w,x,I,N,M=m?-1:1,V=r.tickSize||p,O=Ee(r.tickCoord)?r.tickCoord:r.coordinate;switch(h){case"top":_=S=r.coordinate,x=l+ +!m*f,w=x-M*V,N=w-M*v,I=O;break;case"left":w=x=r.coordinate,S=o+ +!m*c,_=S-M*V,I=_-M*v,N=O;break;case"right":w=x=r.coordinate,S=o+ +m*c,_=S+M*V,I=_+M*v,N=O;break;default:_=S=r.coordinate,x=l+ +m*f,w=x+M*V,N=w+M*v,I=O;break}return{line:{x1:_,y1:w,x2:S,y2:x},tick:{x:I,y:N}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,l;switch(i){case"left":l=o?"start":"end";break;case"right":l=o?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,l="end";switch(i){case"left":case"right":l="middle";break;case"top":l=o?"start":"end";break;default:l=o?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,l=r.width,c=r.height,f=r.orientation,h=r.mirror,p=r.axisLine,m=Vn(Vn(Vn({},Ye(this.props,!1)),Ye(p,!1)),{},{fill:"none"});if(f==="top"||f==="bottom"){var v=+(f==="top"&&!h||f==="bottom"&&h);m=Vn(Vn({},m),{},{x1:i,y1:o+v*c,x2:i+l,y2:o+v*c})}else{var _=+(f==="left"&&!h||f==="right"&&h);m=Vn(Vn({},m),{},{x1:i+_*l,y1:o,x2:i+_*l,y2:o+c})}return K.createElement("line",ku({},m,{className:bt("recharts-cartesian-axis-line",Jr(p,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var l=this,c=this.props,f=c.tickLine,h=c.stroke,p=c.tick,m=c.tickFormatter,v=c.unit,_=rT(Vn(Vn({},this.props),{},{ticks:r}),i,o),S=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),x=Ye(this.props,!1),I=Ye(p,!1),N=Vn(Vn({},x),{},{fill:"none"},Ye(f,!1)),M=_.map(function(V,O){var j=l.getTickLineCoord(V),T=j.line,R=j.tick,P=Vn(Vn(Vn(Vn({textAnchor:S,verticalAnchor:w},x),{},{stroke:"none",fill:h},I),R),{},{index:O,payload:V,visibleTicksCount:_.length,tickFormatter:m});return K.createElement(jt,ku({className:"recharts-cartesian-axis-tick",key:"tick-".concat(V.value,"-").concat(V.coordinate,"-").concat(V.tickCoord)},Al(l.props,V,O)),f&&K.createElement("line",ku({},N,T,{className:bt("recharts-cartesian-axis-tick-line",Jr(f,"className"))})),p&&e.renderTickItem(p,P,"".concat(it(m)?m(V.value,O):V.value).concat(v||"")))});return K.createElement("g",{className:"recharts-cartesian-axis-ticks"},M)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,l=i.width,c=i.height,f=i.ticksGenerator,h=i.className,p=i.hide;if(p)return null;var m=this.props,v=m.ticks,_=i1(m,Bse),S=v;return it(f)&&(S=v&&v.length>0?f(this.props):f(_)),l<=0||c<=0||!S||!S.length?null:K.createElement(jt,{className:bt("recharts-cartesian-axis",h),ref:function(x){r.layerReference=x}},o&&this.renderAxisLine(),this.renderTicks(S,this.state.fontSize,this.state.letterSpacing),Xn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var l,c=bt(i.className,"recharts-cartesian-axis-tick-value");return K.isValidElement(r)?l=K.cloneElement(r,Vn(Vn({},i),{},{className:c})):it(r)?l=r(Vn(Vn({},i),{},{className:c})):l=K.createElement(El,ku({},i,{className:"recharts-cartesian-axis-tick-value"}),o),l}}])})(q.Component);iT(Vc,"displayName","CartesianAxis");iT(Vc,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Yse=["x1","y1","x2","y2","key"],Xse=["offset"];function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}function eL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eL(Object(n),!0).forEach(function(r){Qse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qse(t,e,n){return e=Zse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zse(t){var e=Jse(t,"string");return Cl(e)=="symbol"?e:e+""}function Jse(t,e){if(Cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hl(){return hl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hl.apply(this,arguments)}function tL(t,e){if(t==null)return{};var n=ele(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ele(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var tle=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,f=e.ry;return K.createElement("rect",{x:i,y:o,ry:f,width:l,height:c,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function YV(t,e){var n;if(K.isValidElement(t))n=K.cloneElement(t,e);else if(it(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,l=e.y2,c=e.key,f=tL(e,Yse),h=Ye(f,!1);h.offset;var p=tL(h,Xse);n=K.createElement("line",hl({},p,{x1:r,y1:i,x2:o,y2:l,fill:"none",key:c}))}return n}function nle(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var l=o.map(function(c,f){var h=dr(dr({},t),{},{x1:e,y1:c,x2:e+n,y2:c,key:"line-".concat(f),index:f});return YV(i,h)});return K.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function rle(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var l=o.map(function(c,f){var h=dr(dr({},t),{},{x1:c,y1:e,x2:c,y2:e+n,key:"line-".concat(f),index:f});return YV(i,h)});return K.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function ile(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,l=t.height,c=t.horizontalPoints,f=t.horizontal,h=f===void 0?!0:f;if(!h||!e||!e.length)return null;var p=c.map(function(v){return Math.round(v+i-i)}).sort(function(v,_){return v-_});i!==p[0]&&p.unshift(0);var m=p.map(function(v,_){var S=!p[_+1],w=S?i+l-v:p[_+1]-v;if(w<=0)return null;var x=_%e.length;return K.createElement("rect",{key:"react-".concat(_),y:v,x:r,height:w,width:o,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function ale(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,l=t.y,c=t.width,f=t.height,h=t.verticalPoints;if(!n||!r||!r.length)return null;var p=h.map(function(v){return Math.round(v+o-o)}).sort(function(v,_){return v-_});o!==p[0]&&p.unshift(0);var m=p.map(function(v,_){var S=!p[_+1],w=S?o+c-v:p[_+1]-v;if(w<=0)return null;var x=_%r.length;return K.createElement("rect",{key:"react-".concat(_),x:v,y:l,width:w,height:f,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return K.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var ole=function(e,n){var r=e.xAxis,i=e.width,o=e.height,l=e.offset;return X5(rT(dr(dr(dr({},Vc.defaultProps),r),{},{ticks:Ja(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),l.left,l.left+l.width,n)},sle=function(e,n){var r=e.yAxis,i=e.width,o=e.height,l=e.offset;return X5(rT(dr(dr(dr({},Vc.defaultProps),r),{},{ticks:Ja(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),l.top,l.top+l.height,n)},Su={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function XV(t){var e,n,r,i,o,l,c=JE(),f=eT(),h=Woe(),p=dr(dr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Su.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Su.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Su.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Su.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Su.vertical,verticalFill:(l=t.verticalFill)!==null&&l!==void 0?l:Su.verticalFill,x:Ee(t.x)?t.x:h.left,y:Ee(t.y)?t.y:h.top,width:Ee(t.width)?t.width:h.width,height:Ee(t.height)?t.height:h.height}),m=p.x,v=p.y,_=p.width,S=p.height,w=p.syncWithTicks,x=p.horizontalValues,I=p.verticalValues,N=Hoe(),M=Goe();if(!Ee(_)||_<=0||!Ee(S)||S<=0||!Ee(m)||m!==+m||!Ee(v)||v!==+v)return null;var V=p.verticalCoordinatesGenerator||ole,O=p.horizontalCoordinatesGenerator||sle,j=p.horizontalPoints,T=p.verticalPoints;if((!j||!j.length)&&it(O)){var R=x&&x.length,P=O({yAxis:M?dr(dr({},M),{},{ticks:R?x:M.ticks}):void 0,width:c,height:f,offset:h},R?!0:w);Gi(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Cl(P),"]")),Array.isArray(P)&&(j=P)}if((!T||!T.length)&&it(V)){var U=I&&I.length,D=V({xAxis:N?dr(dr({},N),{},{ticks:U?I:N.ticks}):void 0,width:c,height:f,offset:h},U?!0:w);Gi(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Cl(D),"]")),Array.isArray(D)&&(T=D)}return K.createElement("g",{className:"recharts-cartesian-grid"},K.createElement(tle,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),K.createElement(nle,hl({},p,{offset:h,horizontalPoints:j,xAxis:N,yAxis:M})),K.createElement(rle,hl({},p,{offset:h,verticalPoints:T,xAxis:N,yAxis:M})),K.createElement(ile,hl({},p,{horizontalPoints:j})),K.createElement(ale,hl({},p,{verticalPoints:T})))}XV.displayName="CartesianGrid";var lle=["type","layout","connectNulls","ref"],ule=["key"];function yc(t){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yc(t)}function nL(t,e){if(t==null)return{};var n=cle(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gh(){return gh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gh.apply(this,arguments)}function rL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rL(Object(n),!0).forEach(function(r){$i(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Au(t){return ple(t)||dle(t)||hle(t)||fle()}function fle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hle(t,e){if(t){if(typeof t=="string")return YS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YS(t,e)}}function dle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ple(t){if(Array.isArray(t))return YS(t)}function YS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZV(r.key),r)}}function gle(t,e,n){return e&&iL(t.prototype,e),n&&iL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yle(t,e,n){return e=Vg(e),vle(t,QV()?Reflect.construct(e,n||[],Vg(t).constructor):e.apply(t,n))}function vle(t,e){if(e&&(yc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ble(t)}function ble(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QV=function(){return!!t})()}function Vg(t){return Vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vg(t)}function _le(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XS(t,e)}function XS(t,e){return XS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XS(t,e)}function $i(t,e,n){return e=ZV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZV(t){var e=xle(t,"string");return yc(e)=="symbol"?e:e+""}function xle(t,e){if(yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vc=(function(t){function e(){var n;mle(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=yle(this,e,[].concat(i)),$i(n,"state",{isAnimationFinished:!0,totalLength:0}),$i(n,"generateSimpleStrokeDasharray",function(l,c){return"".concat(c,"px ").concat(l-c,"px")}),$i(n,"getStrokeDasharray",function(l,c,f){var h=f.reduce(function(I,N){return I+N});if(!h)return n.generateSimpleStrokeDasharray(c,l);for(var p=Math.floor(l/h),m=l%h,v=c-l,_=[],S=0,w=0;S<f.length;w+=f[S],++S)if(w+f[S]>m){_=[].concat(Au(f.slice(0,S)),[m-w]);break}var x=_.length%2===0?[0,v]:[v];return[].concat(Au(e.repeat(f,p)),Au(_),x).map(function(I){return"".concat(I,"px")}).join(", ")}),$i(n,"id",Mc("recharts-line-")),$i(n,"pathRef",function(l){n.mainCurve=l}),$i(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),$i(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return _le(e,t),gle(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.points,c=o.xAxis,f=o.yAxis,h=o.layout,p=o.children,m=ei(p,Td);if(!m)return null;var v=function(w,x){return{x:w.x,y:w.y,value:w.value,errorVal:$n(w.payload,x)}},_={clipPath:r?"url(#clipPath-".concat(i,")"):null};return K.createElement(jt,_,m.map(function(S){return K.cloneElement(S,{key:"bar-".concat(S.props.dataKey),data:l,xAxis:c,yAxis:f,layout:h,dataPointFormatter:v})}))}},{key:"renderDots",value:function(r,i,o){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var c=this.props,f=c.dot,h=c.points,p=c.dataKey,m=Ye(this.props,!1),v=Ye(f,!0),_=h.map(function(w,x){var I=Gr(Gr(Gr({key:"dot-".concat(x),r:3},m),v),{},{index:x,cx:w.x,cy:w.y,value:w.value,dataKey:p,payload:w.payload,points:h});return e.renderDotItem(f,I)}),S={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return K.createElement(jt,gh({className:"recharts-line-dots",key:"dots"},S),_)}},{key:"renderCurveStatically",value:function(r,i,o,l){var c=this.props,f=c.type,h=c.layout,p=c.connectNulls;c.ref;var m=nL(c,lle),v=Gr(Gr(Gr({},Ye(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},l),{},{type:f,layout:h,connectNulls:p});return K.createElement(vg,gh({},v,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,l=this.props,c=l.points,f=l.strokeDasharray,h=l.isAnimationActive,p=l.animationBegin,m=l.animationDuration,v=l.animationEasing,_=l.animationId,S=l.animateNewValues,w=l.width,x=l.height,I=this.state,N=I.prevPoints,M=I.totalLength;return K.createElement(_a,{begin:p,duration:m,isActive:h,easing:v,from:{t:0},to:{t:1},key:"line-".concat(_),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(V){var O=V.t;if(N){var j=N.length/c.length,T=c.map(function(B,L){var J=Math.floor(L*j);if(N[J]){var Q=N[J],H=Xr(Q.x,B.x),Y=Xr(Q.y,B.y);return Gr(Gr({},B),{},{x:H(O),y:Y(O)})}if(S){var te=Xr(w*2,B.x),ce=Xr(x/2,B.y);return Gr(Gr({},B),{},{x:te(O),y:ce(O)})}return Gr(Gr({},B),{},{x:B.x,y:B.y})});return o.renderCurveStatically(T,r,i)}var R=Xr(0,M),P=R(O),U;if(f){var D="".concat(f).split(/[,\s]+/gim).map(function(B){return parseFloat(B)});U=o.getStrokeDasharray(P,M,D)}else U=o.generateSimpleStrokeDasharray(M,P);return o.renderCurveStatically(c,r,i,{strokeDasharray:U})})}},{key:"renderCurve",value:function(r,i){var o=this.props,l=o.points,c=o.isAnimationActive,f=this.state,h=f.prevPoints,p=f.totalLength;return c&&l&&l.length&&(!h&&p>0||!Ed(h,l))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(l,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,l=i.dot,c=i.points,f=i.className,h=i.xAxis,p=i.yAxis,m=i.top,v=i.left,_=i.width,S=i.height,w=i.isAnimationActive,x=i.id;if(o||!c||!c.length)return null;var I=this.state.isAnimationFinished,N=c.length===1,M=bt("recharts-line",f),V=h&&h.allowDataOverflow,O=p&&p.allowDataOverflow,j=V||O,T=lt(x)?this.id:x,R=(r=Ye(l,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=R.r,U=P===void 0?3:P,D=R.strokeWidth,B=D===void 0?2:D,L=ZG(l)?l:{},J=L.clipDot,Q=J===void 0?!0:J,H=U*2+B;return K.createElement(jt,{className:M},V||O?K.createElement("defs",null,K.createElement("clipPath",{id:"clipPath-".concat(T)},K.createElement("rect",{x:V?v:v-_/2,y:O?m:m-S/2,width:V?_:_*2,height:O?S:S*2})),!Q&&K.createElement("clipPath",{id:"clipPath-dots-".concat(T)},K.createElement("rect",{x:v-H/2,y:m-H/2,width:_+H,height:S+H}))):null,!N&&this.renderCurve(j,T),this.renderErrorBar(j,T),(N||l)&&this.renderDots(j,Q,T),(!w||I)&&no.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Au(r),[0]):r,l=[],c=0;c<i;++c)l=[].concat(Au(l),Au(o));return l}},{key:"renderDotItem",value:function(r,i){var o;if(K.isValidElement(r))o=K.cloneElement(r,i);else if(it(r))o=r(i);else{var l=i.key,c=nL(i,ule),f=bt("recharts-line-dot",typeof r!="boolean"?r.className:"");o=K.createElement(ky,gh({key:l},c,{className:f}))}return o}}])})(q.PureComponent);$i(vc,"displayName","Line");$i(vc,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Nl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});$i(vc,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,l=t.dataKey,c=t.bandSize,f=t.displayedData,h=t.offset,p=e.layout,m=f.map(function(v,_){var S=$n(v,l);return p==="horizontal"?{x:oj({axis:n,ticks:i,bandSize:c,entry:v,index:_}),y:lt(S)?null:r.scale(S),value:S,payload:v}:{x:lt(S)?null:n.scale(S),y:oj({axis:r,ticks:o,bandSize:c,entry:v,index:_}),value:S,payload:v}});return Gr({points:m,layout:p},h)});function bc(t){"@babel/helpers - typeof";return bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bc(t)}function wle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tU(r.key),r)}}function Ale(t,e,n){return e&&Sle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ele(t,e,n){return e=Ug(e),Tle(t,JV()?Reflect.construct(e,n||[],Ug(t).constructor):e.apply(t,n))}function Tle(t,e){if(e&&(bc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ole(t)}function Ole(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JV=function(){return!!t})()}function Ug(t){return Ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ug(t)}function Cle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QS(t,e)}function QS(t,e){return QS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QS(t,e)}function eU(t,e,n){return e=tU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tU(t){var e=Ile(t,"string");return bc(e)=="symbol"?e:e+""}function Ile(t,e){if(bc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ZS(){return ZS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZS.apply(this,arguments)}function Rle(t){var e=t.xAxisId,n=JE(),r=eT(),i=VV(e);return i==null?null:q.createElement(Vc,ZS({},i,{className:bt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(l){return Ja(l,!0)}}))}var Gy=(function(t){function e(){return wle(this,e),Ele(this,e,arguments)}return Cle(e,t),Ale(e,[{key:"render",value:function(){return q.createElement(Rle,this.props)}}])})(q.Component);eU(Gy,"displayName","XAxis");eU(Gy,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function _c(t){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_c(t)}function Ple(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iU(r.key),r)}}function Mle(t,e,n){return e&&Nle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kle(t,e,n){return e=Bg(e),jle(t,nU()?Reflect.construct(e,n||[],Bg(t).constructor):e.apply(t,n))}function jle(t,e){if(e&&(_c(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dle(t)}function Dle(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nU=function(){return!!t})()}function Bg(t){return Bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bg(t)}function Lle(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JS(t,e)}function JS(t,e){return JS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JS(t,e)}function rU(t,e,n){return e=iU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iU(t){var e=Vle(t,"string");return _c(e)=="symbol"?e:e+""}function Vle(t,e){if(_c(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_c(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function eA(){return eA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eA.apply(this,arguments)}var Ule=function(e){var n=e.yAxisId,r=JE(),i=eT(),o=UV(n);return o==null?null:q.createElement(Vc,eA({},o,{className:bt("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(c){return Ja(c,!0)}}))},ad=(function(t){function e(){return Ple(this,e),kle(this,e,arguments)}return Lle(e,t),Mle(e,[{key:"render",value:function(){return q.createElement(Ule,this.props)}}])})(q.Component);rU(ad,"displayName","YAxis");rU(ad,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function aL(t){return zle(t)||qle(t)||$le(t)||Ble()}function Ble(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $le(t,e){if(t){if(typeof t=="string")return tA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tA(t,e)}}function qle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zle(t){if(Array.isArray(t))return tA(t)}function tA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var nA=function(e,n,r,i,o){var l=ei(e,nT),c=ei(e,zy),f=[].concat(aL(l),aL(c)),h=ei(e,Hy),p="".concat(i,"Id"),m=i[0],v=n;if(f.length&&(v=f.reduce(function(w,x){if(x.props[p]===r&&ma(x.props,"extendDomain")&&Ee(x.props[m])){var I=x.props[m];return[Math.min(w[0],I),Math.max(w[1],I)]}return w},v)),h.length){var _="".concat(m,"1"),S="".concat(m,"2");v=h.reduce(function(w,x){if(x.props[p]===r&&ma(x.props,"extendDomain")&&Ee(x.props[_])&&Ee(x.props[S])){var I=x.props[_],N=x.props[S];return[Math.min(w[0],I,N),Math.max(w[1],I,N)]}return w},v)}return o&&o.length&&(v=o.reduce(function(w,x){return Ee(x)?[Math.min(w[0],x),Math.max(w[1],x)]:w},v)),v},a1={exports:{}},oL;function Fle(){return oL||(oL=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,h,p){this.fn=f,this.context=h,this.once=p||!1}function o(f,h,p,m,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var _=new i(p,m||f,v),S=n?n+h:h;return f._events[S]?f._events[S].fn?f._events[S]=[f._events[S],_]:f._events[S].push(_):(f._events[S]=_,f._eventsCount++),f}function l(f,h){--f._eventsCount===0?f._events=new r:delete f._events[h]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],p,m;if(this._eventsCount===0)return h;for(m in p=this._events)e.call(p,m)&&h.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},c.prototype.listeners=function(h){var p=n?n+h:h,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,_=m.length,S=new Array(_);v<_;v++)S[v]=m[v].fn;return S},c.prototype.listenerCount=function(h){var p=n?n+h:h,m=this._events[p];return m?m.fn?1:m.length:0},c.prototype.emit=function(h,p,m,v,_,S){var w=n?n+h:h;if(!this._events[w])return!1;var x=this._events[w],I=arguments.length,N,M;if(x.fn){switch(x.once&&this.removeListener(h,x.fn,void 0,!0),I){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,p),!0;case 3:return x.fn.call(x.context,p,m),!0;case 4:return x.fn.call(x.context,p,m,v),!0;case 5:return x.fn.call(x.context,p,m,v,_),!0;case 6:return x.fn.call(x.context,p,m,v,_,S),!0}for(M=1,N=new Array(I-1);M<I;M++)N[M-1]=arguments[M];x.fn.apply(x.context,N)}else{var V=x.length,O;for(M=0;M<V;M++)switch(x[M].once&&this.removeListener(h,x[M].fn,void 0,!0),I){case 1:x[M].fn.call(x[M].context);break;case 2:x[M].fn.call(x[M].context,p);break;case 3:x[M].fn.call(x[M].context,p,m);break;case 4:x[M].fn.call(x[M].context,p,m,v);break;default:if(!N)for(O=1,N=new Array(I-1);O<I;O++)N[O-1]=arguments[O];x[M].fn.apply(x[M].context,N)}}return!0},c.prototype.on=function(h,p,m){return o(this,h,p,m,!1)},c.prototype.once=function(h,p,m){return o(this,h,p,m,!0)},c.prototype.removeListener=function(h,p,m,v){var _=n?n+h:h;if(!this._events[_])return this;if(!p)return l(this,_),this;var S=this._events[_];if(S.fn)S.fn===p&&(!v||S.once)&&(!m||S.context===m)&&l(this,_);else{for(var w=0,x=[],I=S.length;w<I;w++)(S[w].fn!==p||v&&!S[w].once||m&&S[w].context!==m)&&x.push(S[w]);x.length?this._events[_]=x.length===1?x[0]:x:l(this,_)}return this},c.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(a1)),a1.exports}var Hle=Fle();const Gle=qt(Hle);var o1=new Gle,s1="recharts.syncMouseEvents";function od(t){"@babel/helpers - typeof";return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(t)}function Kle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wle(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aU(r.key),r)}}function Yle(t,e,n){return e&&Wle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function l1(t,e,n){return e=aU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aU(t){var e=Xle(t,"string");return od(e)=="symbol"?e:e+""}function Xle(t,e){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qle=(function(){function t(){Kle(this,t),l1(this,"activeIndex",0),l1(this,"coordinateList",[]),l1(this,"layout","horizontal")}return Yle(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,l=n.container,c=l===void 0?null:l,f=n.layout,h=f===void 0?null:f,p=n.offset,m=p===void 0?null:p,v=n.mouseHandlerCallback,_=v===void 0?null:v;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=c??this.container,this.layout=h??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=_??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,l=i.y,c=i.height,f=this.coordinateList[this.activeIndex].coordinate,h=((n=window)===null||n===void 0?void 0:n.scrollX)||0,p=((r=window)===null||r===void 0?void 0:r.scrollY)||0,m=o+f+h,v=l+this.offset.top+c/2+p;this.mouseHandlerCallback({pageX:m,pageY:v})}}}])})();function Zle(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Ee(r)&&Ee(i))return!0}return!1}function Jle(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function oU(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,l=nn(e,n,r,i),c=nn(e,n,r,o);return{points:[l,c],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function eue(t,e,n){var r,i,o,l;if(t==="horizontal")r=e.x,o=r,i=n.top,l=n.top+n.height;else if(t==="vertical")i=e.y,l=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var c=e.cx,f=e.cy,h=e.innerRadius,p=e.outerRadius,m=e.angle,v=nn(c,f,h,m),_=nn(c,f,p,m);r=v.x,i=v.y,o=_.x,l=_.y}else return oU(e);return[{x:r,y:i},{x:o,y:l}]}function sd(t){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sd(t)}function sL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function um(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sL(Object(n),!0).forEach(function(r){tue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tue(t,e,n){return e=nue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nue(t){var e=rue(t,"string");return sd(e)=="symbol"?e:e+""}function rue(t,e){if(sd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iue(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,l=t.activeCoordinate,c=t.activePayload,f=t.offset,h=t.activeTooltipIndex,p=t.tooltipAxisBandSize,m=t.layout,v=t.chartName,_=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!_||!o||!l||v!=="ScatterChart"&&i!=="axis")return null;var S,w=vg;if(v==="ScatterChart")S=l,w=Eie;else if(v==="BarChart")S=Jle(m,l,f,p),w=YE;else if(m==="radial"){var x=oU(l),I=x.cx,N=x.cy,M=x.radius,V=x.startAngle,O=x.endAngle;S={cx:I,cy:N,startAngle:V,endAngle:O,innerRadius:M,outerRadius:M},w=sV}else S={points:eue(m,l,f)},w=vg;var j=um(um(um(um({stroke:"#ccc",pointerEvents:"none"},f),S),Ye(_,!1)),{},{payload:c,payloadIndex:h,className:bt("recharts-tooltip-cursor",_.className)});return q.isValidElement(_)?q.cloneElement(_,j):q.createElement(w,j)}var aue=["item"],oue=["children","className","width","height","style","compact","title","desc"];function xc(t){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xc(t)}function ju(){return ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ju.apply(this,arguments)}function lL(t,e){return uue(t)||lue(t,e)||lU(t,e)||sue()}function sue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,l,c=[],f=!0,h=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(f=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(p){h=!0,i=p}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function uue(t){if(Array.isArray(t))return t}function uL(t,e){if(t==null)return{};var n=cue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cue(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uU(r.key),r)}}function due(t,e,n){return e&&hue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pue(t,e,n){return e=$g(e),mue(t,sU()?Reflect.construct(e,n||[],$g(t).constructor):e.apply(t,n))}function mue(t,e){if(e&&(xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gue(t)}function gue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sU=function(){return!!t})()}function $g(t){return $g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$g(t)}function yue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rA(t,e)}function rA(t,e){return rA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rA(t,e)}function wc(t){return _ue(t)||bue(t)||lU(t)||vue()}function vue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lU(t,e){if(t){if(typeof t=="string")return iA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iA(t,e)}}function bue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _ue(t){if(Array.isArray(t))return iA(t)}function iA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function he(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cL(Object(n),!0).forEach(function(r){Ze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ze(t,e,n){return e=uU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uU(t){var e=xue(t,"string");return xc(e)=="symbol"?e:e+""}function xue(t,e){if(xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wue={xAxis:["bottom","top"],yAxis:["left","right"]},Sue={width:"100%",height:"100%"},cU={x:0,y:0};function cm(t){return t}var Aue=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Eue=function(e,n,r,i){var o=n.find(function(p){return p&&p.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var l=o.coordinate,c=i.radius;return he(he(he({},i),nn(i.cx,i.cy,c,l)),{},{angle:l,radius:c})}var f=o.coordinate,h=i.angle;return he(he(he({},i),nn(i.cx,i.cy,f,h)),{},{angle:h,radius:f})}return cU},Ky=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,l=(r??[]).reduce(function(c,f){var h=f.props.data;return h&&h.length?[].concat(wc(c),wc(h)):c},[]);return l.length>0?l:e&&e.length&&Ee(i)&&Ee(o)?e.slice(i,o+1):[]};function fU(t){return t==="number"?[0,"auto"]:void 0}var aA=function(e,n,r,i){var o=e.graphicalItems,l=e.tooltipAxis,c=Ky(n,e);return r<0||!o||!o.length||r>=c.length?null:o.reduce(function(f,h){var p,m=(p=h.props.data)!==null&&p!==void 0?p:n;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var v;if(l.dataKey&&!l.allowDuplicatedCategory){var _=m===void 0?c:m;v=Fm(_,l.dataKey,i)}else v=m&&m[r]||c[r];return v?[].concat(wc(f),[tV(h,v)]):f},[])},fL=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},l=Aue(o,r),c=e.orderedTooltipTicks,f=e.tooltipAxis,h=e.tooltipTicks,p=Yee(l,c,h,f);if(p>=0&&h){var m=h[p]&&h[p].value,v=aA(e,n,p,m),_=Eue(r,c,p,o);return{activeTooltipIndex:p,activeLabel:m,activePayload:v,activeCoordinate:_}}return null},Tue=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,l=n.axisIdKey,c=n.stackGroups,f=n.dataStartIndex,h=n.dataEndIndex,p=e.layout,m=e.children,v=e.stackOffset,_=Y5(p,o);return r.reduce(function(S,w){var x,I=w.type.defaultProps!==void 0?he(he({},w.type.defaultProps),w.props):w.props,N=I.type,M=I.dataKey,V=I.allowDataOverflow,O=I.allowDuplicatedCategory,j=I.scale,T=I.ticks,R=I.includeHidden,P=I[l];if(S[P])return S;var U=Ky(e.data,{graphicalItems:i.filter(function(W){var se,ge=l in W.props?W.props[l]:(se=W.type.defaultProps)===null||se===void 0?void 0:se[l];return ge===P}),dataStartIndex:f,dataEndIndex:h}),D=U.length,B,L,J;Zle(I.domain,V,N)&&(B=bS(I.domain,null,V),_&&(N==="number"||j!=="auto")&&(J=hh(U,M,"category")));var Q=fU(N);if(!B||B.length===0){var H,Y=(H=I.domain)!==null&&H!==void 0?H:Q;if(M){if(B=hh(U,M,N),N==="category"&&_){var te=qG(B);O&&te?(L=B,B=Cg(0,D)):O||(B=cj(Y,B,w).reduce(function(W,se){return W.indexOf(se)>=0?W:[].concat(wc(W),[se])},[]))}else if(N==="category")O?B=B.filter(function(W){return W!==""&&!lt(W)}):B=cj(Y,B,w).reduce(function(W,se){return W.indexOf(se)>=0||se===""||lt(se)?W:[].concat(wc(W),[se])},[]);else if(N==="number"){var ce=ete(U,i.filter(function(W){var se,ge,_e=l in W.props?W.props[l]:(se=W.type.defaultProps)===null||se===void 0?void 0:se[l],Ae="hide"in W.props?W.props.hide:(ge=W.type.defaultProps)===null||ge===void 0?void 0:ge.hide;return _e===P&&(R||!Ae)}),M,o,p);ce&&(B=ce)}_&&(N==="number"||j!=="auto")&&(J=hh(U,M,"category"))}else _?B=Cg(0,D):c&&c[P]&&c[P].hasStack&&N==="number"?B=v==="expand"?[0,1]:eV(c[P].stackGroups,f,h):B=W5(U,i.filter(function(W){var se=l in W.props?W.props[l]:W.type.defaultProps[l],ge="hide"in W.props?W.props.hide:W.type.defaultProps.hide;return se===P&&(R||!ge)}),N,p,!0);if(N==="number")B=nA(m,B,P,o,T),Y&&(B=bS(Y,B,V));else if(N==="category"&&Y){var be=Y,F=B.every(function(W){return be.indexOf(W)>=0});F&&(B=be)}}return he(he({},S),{},Ze({},P,he(he({},I),{},{axisType:o,domain:B,categoricalDomain:J,duplicateDomain:L,originalDomain:(x=I.domain)!==null&&x!==void 0?x:Q,isCategorical:_,layout:p})))},{})},Oue=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,l=n.axisIdKey,c=n.stackGroups,f=n.dataStartIndex,h=n.dataEndIndex,p=e.layout,m=e.children,v=Ky(e.data,{graphicalItems:r,dataStartIndex:f,dataEndIndex:h}),_=v.length,S=Y5(p,o),w=-1;return r.reduce(function(x,I){var N=I.type.defaultProps!==void 0?he(he({},I.type.defaultProps),I.props):I.props,M=N[l],V=fU("number");if(!x[M]){w++;var O;return S?O=Cg(0,_):c&&c[M]&&c[M].hasStack?(O=eV(c[M].stackGroups,f,h),O=nA(m,O,M,o)):(O=bS(V,W5(v,r.filter(function(j){var T,R,P=l in j.props?j.props[l]:(T=j.type.defaultProps)===null||T===void 0?void 0:T[l],U="hide"in j.props?j.props.hide:(R=j.type.defaultProps)===null||R===void 0?void 0:R.hide;return P===M&&!U}),"number",p),i.defaultProps.allowDataOverflow),O=nA(m,O,M,o)),he(he({},x),{},Ze({},M,he(he({axisType:o},i.defaultProps),{},{hide:!0,orientation:Jr(wue,"".concat(o,".").concat(w%2),null),domain:O,originalDomain:V,isCategorical:S,layout:p})))}return x},{})},Cue=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,l=n.graphicalItems,c=n.stackGroups,f=n.dataStartIndex,h=n.dataEndIndex,p=e.children,m="".concat(i,"Id"),v=ei(p,o),_={};return v&&v.length?_=Tue(e,{axes:v,graphicalItems:l,axisType:i,axisIdKey:m,stackGroups:c,dataStartIndex:f,dataEndIndex:h}):l&&l.length&&(_=Oue(e,{Axis:o,graphicalItems:l,axisType:i,axisIdKey:m,stackGroups:c,dataStartIndex:f,dataEndIndex:h})),_},Iue=function(e){var n=ns(e),r=Ja(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:wE(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:mg(n,r)}},hL=function(e){var n=e.children,r=e.defaultShowTooltip,i=Wr(n,fc),o=0,l=0;return e.data&&e.data.length!==0&&(l=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(l=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!r}},Rue=function(e){return!e||!e.length?!1:e.some(function(n){var r=eo(n&&n.type);return r&&r.indexOf("Bar")>=0})},dL=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Pue=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,l=o===void 0?{}:o,c=e.yAxisMap,f=c===void 0?{}:c,h=r.width,p=r.height,m=r.children,v=r.margin||{},_=Wr(m,fc),S=Wr(m,cs),w=Object.keys(f).reduce(function(O,j){var T=f[j],R=T.orientation;return!T.mirror&&!T.hide?he(he({},O),{},Ze({},R,O[R]+T.width)):O},{left:v.left||0,right:v.right||0}),x=Object.keys(l).reduce(function(O,j){var T=l[j],R=T.orientation;return!T.mirror&&!T.hide?he(he({},O),{},Ze({},R,Jr(O,"".concat(R))+T.height)):O},{top:v.top||0,bottom:v.bottom||0}),I=he(he({},x),w),N=I.bottom;_&&(I.bottom+=_.props.height||fc.defaultProps.height),S&&n&&(I=Zee(I,i,r,n));var M=h-I.left-I.right,V=p-I.top-I.bottom;return he(he({brushBottom:N},I),{},{width:Math.max(M,0),height:Math.max(V,0)})},Nue=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},hU=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,l=e.validateTooltipEventTypes,c=l===void 0?["axis"]:l,f=e.axisComponents,h=e.legendContent,p=e.formatAxisMap,m=e.defaultProps,v=function(I,N){var M=N.graphicalItems,V=N.stackGroups,O=N.offset,j=N.updateId,T=N.dataStartIndex,R=N.dataEndIndex,P=I.barSize,U=I.layout,D=I.barGap,B=I.barCategoryGap,L=I.maxBarSize,J=dL(U),Q=J.numericAxisName,H=J.cateAxisName,Y=Rue(M),te=[];return M.forEach(function(ce,be){var F=Ky(I.data,{graphicalItems:[ce],dataStartIndex:T,dataEndIndex:R}),W=ce.type.defaultProps!==void 0?he(he({},ce.type.defaultProps),ce.props):ce.props,se=W.dataKey,ge=W.maxBarSize,_e=W["".concat(Q,"Id")],Ae=W["".concat(H,"Id")],je={},We=f.reduce(function(rt,Nt){var Jt=N["".concat(Nt.axisType,"Map")],St=W["".concat(Nt.axisType,"Id")];Jt&&Jt[St]||Nt.axisType==="zAxis"||Ol();var ct=Jt[St];return he(he({},rt),{},Ze(Ze({},Nt.axisType,ct),"".concat(Nt.axisType,"Ticks"),Ja(ct)))},je),pe=We[H],Le=We["".concat(H,"Ticks")],qe=V&&V[_e]&&V[_e].hasStack&&ute(ce,V[_e].stackGroups),re=eo(ce.type).indexOf("Bar")>=0,Ge=mg(pe,Le),we=[],Se=Y&&Xee({barSize:P,stackGroups:V,totalSize:Nue(We,H)});if(re){var Be,Ke,Ce=lt(ge)?L:ge,Re=(Be=(Ke=mg(pe,Le,!0))!==null&&Ke!==void 0?Ke:Ce)!==null&&Be!==void 0?Be:0;we=Qee({barGap:D,barCategoryGap:B,bandSize:Re!==Ge?Re:Ge,sizeList:Se[Ae],maxBarSize:Ce}),Re!==Ge&&(we=we.map(function(rt){return he(he({},rt),{},{position:he(he({},rt.position),{},{offset:rt.position.offset-Re/2})})}))}var Fe=ce&&ce.type&&ce.type.getComposedData;Fe&&te.push({props:he(he({},Fe(he(he({},We),{},{displayedData:F,props:I,dataKey:se,item:ce,bandSize:Ge,barPosition:we,offset:O,stackedData:qe,layout:U,dataStartIndex:T,dataEndIndex:R}))),{},Ze(Ze(Ze({key:ce.key||"item-".concat(be)},Q,We[Q]),H,We[H]),"animationId",j)),childIndex:tK(ce,I.children),item:ce})}),te},_=function(I,N){var M=I.props,V=I.dataStartIndex,O=I.dataEndIndex,j=I.updateId;if(!SP({props:M}))return null;var T=M.children,R=M.layout,P=M.stackOffset,U=M.data,D=M.reverseStackOrder,B=dL(R),L=B.numericAxisName,J=B.cateAxisName,Q=ei(T,r),H=ste(U,Q,"".concat(L,"Id"),"".concat(J,"Id"),P,D),Y=f.reduce(function(W,se){var ge="".concat(se.axisType,"Map");return he(he({},W),{},Ze({},ge,Cue(M,he(he({},se),{},{graphicalItems:Q,stackGroups:se.axisType===L&&H,dataStartIndex:V,dataEndIndex:O}))))},{}),te=Pue(he(he({},Y),{},{props:M,graphicalItems:Q}),N==null?void 0:N.legendBBox);Object.keys(Y).forEach(function(W){Y[W]=p(M,Y[W],te,W.replace("Map",""),n)});var ce=Y["".concat(J,"Map")],be=Iue(ce),F=v(M,he(he({},Y),{},{dataStartIndex:V,dataEndIndex:O,updateId:j,graphicalItems:Q,stackGroups:H,offset:te}));return he(he({formattedGraphicalItems:F,graphicalItems:Q,offset:te,stackGroups:H},be),Y)},S=(function(x){function I(N){var M,V,O;return fue(this,I),O=pue(this,I,[N]),Ze(O,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ze(O,"accessibilityManager",new Qle),Ze(O,"handleLegendBBoxUpdate",function(j){if(j){var T=O.state,R=T.dataStartIndex,P=T.dataEndIndex,U=T.updateId;O.setState(he({legendBBox:j},_({props:O.props,dataStartIndex:R,dataEndIndex:P,updateId:U},he(he({},O.state),{},{legendBBox:j}))))}}),Ze(O,"handleReceiveSyncEvent",function(j,T,R){if(O.props.syncId===j){if(R===O.eventEmitterSymbol&&typeof O.props.syncMethod!="function")return;O.applySyncEvent(T)}}),Ze(O,"handleBrushChange",function(j){var T=j.startIndex,R=j.endIndex;if(T!==O.state.dataStartIndex||R!==O.state.dataEndIndex){var P=O.state.updateId;O.setState(function(){return he({dataStartIndex:T,dataEndIndex:R},_({props:O.props,dataStartIndex:T,dataEndIndex:R,updateId:P},O.state))}),O.triggerSyncEvent({dataStartIndex:T,dataEndIndex:R})}}),Ze(O,"handleMouseEnter",function(j){var T=O.getMouseInfo(j);if(T){var R=he(he({},T),{},{isTooltipActive:!0});O.setState(R),O.triggerSyncEvent(R);var P=O.props.onMouseEnter;it(P)&&P(R,j)}}),Ze(O,"triggeredAfterMouseMove",function(j){var T=O.getMouseInfo(j),R=T?he(he({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};O.setState(R),O.triggerSyncEvent(R);var P=O.props.onMouseMove;it(P)&&P(R,j)}),Ze(O,"handleItemMouseEnter",function(j){O.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),Ze(O,"handleItemMouseLeave",function(){O.setState(function(){return{isTooltipActive:!1}})}),Ze(O,"handleMouseMove",function(j){j.persist(),O.throttleTriggeredAfterMouseMove(j)}),Ze(O,"handleMouseLeave",function(j){O.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};O.setState(T),O.triggerSyncEvent(T);var R=O.props.onMouseLeave;it(R)&&R(T,j)}),Ze(O,"handleOuterEvent",function(j){var T=eK(j),R=Jr(O.props,"".concat(T));if(T&&it(R)){var P,U;/.*touch.*/i.test(T)?U=O.getMouseInfo(j.changedTouches[0]):U=O.getMouseInfo(j),R((P=U)!==null&&P!==void 0?P:{},j)}}),Ze(O,"handleClick",function(j){var T=O.getMouseInfo(j);if(T){var R=he(he({},T),{},{isTooltipActive:!0});O.setState(R),O.triggerSyncEvent(R);var P=O.props.onClick;it(P)&&P(R,j)}}),Ze(O,"handleMouseDown",function(j){var T=O.props.onMouseDown;if(it(T)){var R=O.getMouseInfo(j);T(R,j)}}),Ze(O,"handleMouseUp",function(j){var T=O.props.onMouseUp;if(it(T)){var R=O.getMouseInfo(j);T(R,j)}}),Ze(O,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&O.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),Ze(O,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&O.handleMouseDown(j.changedTouches[0])}),Ze(O,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&O.handleMouseUp(j.changedTouches[0])}),Ze(O,"handleDoubleClick",function(j){var T=O.props.onDoubleClick;if(it(T)){var R=O.getMouseInfo(j);T(R,j)}}),Ze(O,"handleContextMenu",function(j){var T=O.props.onContextMenu;if(it(T)){var R=O.getMouseInfo(j);T(R,j)}}),Ze(O,"triggerSyncEvent",function(j){O.props.syncId!==void 0&&o1.emit(s1,O.props.syncId,j,O.eventEmitterSymbol)}),Ze(O,"applySyncEvent",function(j){var T=O.props,R=T.layout,P=T.syncMethod,U=O.state.updateId,D=j.dataStartIndex,B=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)O.setState(he({dataStartIndex:D,dataEndIndex:B},_({props:O.props,dataStartIndex:D,dataEndIndex:B,updateId:U},O.state)));else if(j.activeTooltipIndex!==void 0){var L=j.chartX,J=j.chartY,Q=j.activeTooltipIndex,H=O.state,Y=H.offset,te=H.tooltipTicks;if(!Y)return;if(typeof P=="function")Q=P(te,j);else if(P==="value"){Q=-1;for(var ce=0;ce<te.length;ce++)if(te[ce].value===j.activeLabel){Q=ce;break}}var be=he(he({},Y),{},{x:Y.left,y:Y.top}),F=Math.min(L,be.x+be.width),W=Math.min(J,be.y+be.height),se=te[Q]&&te[Q].value,ge=aA(O.state,O.props.data,Q),_e=te[Q]?{x:R==="horizontal"?te[Q].coordinate:F,y:R==="horizontal"?W:te[Q].coordinate}:cU;O.setState(he(he({},j),{},{activeLabel:se,activeCoordinate:_e,activePayload:ge,activeTooltipIndex:Q}))}else O.setState(j)}),Ze(O,"renderCursor",function(j){var T,R=O.state,P=R.isTooltipActive,U=R.activeCoordinate,D=R.activePayload,B=R.offset,L=R.activeTooltipIndex,J=R.tooltipAxisBandSize,Q=O.getTooltipEventType(),H=(T=j.props.active)!==null&&T!==void 0?T:P,Y=O.props.layout,te=j.key||"_recharts-cursor";return K.createElement(iue,{key:te,activeCoordinate:U,activePayload:D,activeTooltipIndex:L,chartName:n,element:j,isActive:H,layout:Y,offset:B,tooltipAxisBandSize:J,tooltipEventType:Q})}),Ze(O,"renderPolarAxis",function(j,T,R){var P=Jr(j,"type.axisType"),U=Jr(O.state,"".concat(P,"Map")),D=j.type.defaultProps,B=D!==void 0?he(he({},D),j.props):j.props,L=U&&U[B["".concat(P,"Id")]];return q.cloneElement(j,he(he({},L),{},{className:bt(P,L.className),key:j.key||"".concat(T,"-").concat(R),ticks:Ja(L,!0)}))}),Ze(O,"renderPolarGrid",function(j){var T=j.props,R=T.radialLines,P=T.polarAngles,U=T.polarRadius,D=O.state,B=D.radiusAxisMap,L=D.angleAxisMap,J=ns(B),Q=ns(L),H=Q.cx,Y=Q.cy,te=Q.innerRadius,ce=Q.outerRadius;return q.cloneElement(j,{polarAngles:Array.isArray(P)?P:Ja(Q,!0).map(function(be){return be.coordinate}),polarRadius:Array.isArray(U)?U:Ja(J,!0).map(function(be){return be.coordinate}),cx:H,cy:Y,innerRadius:te,outerRadius:ce,key:j.key||"polar-grid",radialLines:R})}),Ze(O,"renderLegend",function(){var j=O.state.formattedGraphicalItems,T=O.props,R=T.children,P=T.width,U=T.height,D=O.props.margin||{},B=P-(D.left||0)-(D.right||0),L=G5({children:R,formattedGraphicalItems:j,legendWidth:B,legendContent:h});if(!L)return null;var J=L.item,Q=uL(L,aue);return q.cloneElement(J,he(he({},Q),{},{chartWidth:P,chartHeight:U,margin:D,onBBoxUpdate:O.handleLegendBBoxUpdate}))}),Ze(O,"renderTooltip",function(){var j,T=O.props,R=T.children,P=T.accessibilityLayer,U=Wr(R,Ui);if(!U)return null;var D=O.state,B=D.isTooltipActive,L=D.activeCoordinate,J=D.activePayload,Q=D.activeLabel,H=D.offset,Y=(j=U.props.active)!==null&&j!==void 0?j:B;return q.cloneElement(U,{viewBox:he(he({},H),{},{x:H.left,y:H.top}),active:Y,label:Q,payload:Y?J:[],coordinate:L,accessibilityLayer:P})}),Ze(O,"renderBrush",function(j){var T=O.props,R=T.margin,P=T.data,U=O.state,D=U.offset,B=U.dataStartIndex,L=U.dataEndIndex,J=U.updateId;return q.cloneElement(j,{key:j.key||"_recharts-brush",onChange:am(O.handleBrushChange,j.props.onChange),data:P,x:Ee(j.props.x)?j.props.x:D.left,y:Ee(j.props.y)?j.props.y:D.top+D.height+D.brushBottom-(R.bottom||0),width:Ee(j.props.width)?j.props.width:D.width,startIndex:B,endIndex:L,updateId:"brush-".concat(J)})}),Ze(O,"renderReferenceElement",function(j,T,R){if(!j)return null;var P=O,U=P.clipPathId,D=O.state,B=D.xAxisMap,L=D.yAxisMap,J=D.offset,Q=j.type.defaultProps||{},H=j.props,Y=H.xAxisId,te=Y===void 0?Q.xAxisId:Y,ce=H.yAxisId,be=ce===void 0?Q.yAxisId:ce;return q.cloneElement(j,{key:j.key||"".concat(T,"-").concat(R),xAxis:B[te],yAxis:L[be],viewBox:{x:J.left,y:J.top,width:J.width,height:J.height},clipPathId:U})}),Ze(O,"renderActivePoints",function(j){var T=j.item,R=j.activePoint,P=j.basePoint,U=j.childIndex,D=j.isRange,B=[],L=T.props.key,J=T.item.type.defaultProps!==void 0?he(he({},T.item.type.defaultProps),T.item.props):T.item.props,Q=J.activeDot,H=J.dataKey,Y=he(he({index:U,dataKey:H,cx:R.x,cy:R.y,r:4,fill:WE(T.item),strokeWidth:2,stroke:"#fff",payload:R.payload,value:R.value},Ye(Q,!1)),Hm(Q));return B.push(I.renderActiveDot(Q,Y,"".concat(L,"-activePoint-").concat(U))),P?B.push(I.renderActiveDot(Q,he(he({},Y),{},{cx:P.x,cy:P.y}),"".concat(L,"-basePoint-").concat(U))):D&&B.push(null),B}),Ze(O,"renderGraphicChild",function(j,T,R){var P=O.filterFormatItem(j,T,R);if(!P)return null;var U=O.getTooltipEventType(),D=O.state,B=D.isTooltipActive,L=D.tooltipAxis,J=D.activeTooltipIndex,Q=D.activeLabel,H=O.props.children,Y=Wr(H,Ui),te=P.props,ce=te.points,be=te.isRange,F=te.baseLine,W=P.item.type.defaultProps!==void 0?he(he({},P.item.type.defaultProps),P.item.props):P.item.props,se=W.activeDot,ge=W.hide,_e=W.activeBar,Ae=W.activeShape,je=!!(!ge&&B&&Y&&(se||_e||Ae)),We={};U!=="axis"&&Y&&Y.props.trigger==="click"?We={onClick:am(O.handleItemMouseEnter,j.props.onClick)}:U!=="axis"&&(We={onMouseLeave:am(O.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:am(O.handleItemMouseEnter,j.props.onMouseEnter)});var pe=q.cloneElement(j,he(he({},P.props),We));function Le(Nt){return typeof L.dataKey=="function"?L.dataKey(Nt.payload):null}if(je)if(J>=0){var qe,re;if(L.dataKey&&!L.allowDuplicatedCategory){var Ge=typeof L.dataKey=="function"?Le:"payload.".concat(L.dataKey.toString());qe=Fm(ce,Ge,Q),re=be&&F&&Fm(F,Ge,Q)}else qe=ce==null?void 0:ce[J],re=be&&F&&F[J];if(Ae||_e){var we=j.props.activeIndex!==void 0?j.props.activeIndex:J;return[q.cloneElement(j,he(he(he({},P.props),We),{},{activeIndex:we})),null,null]}if(!lt(qe))return[pe].concat(wc(O.renderActivePoints({item:P,activePoint:qe,basePoint:re,childIndex:J,isRange:be})))}else{var Se,Be=(Se=O.getItemByXY(O.state.activeCoordinate))!==null&&Se!==void 0?Se:{graphicalItem:pe},Ke=Be.graphicalItem,Ce=Ke.item,Re=Ce===void 0?j:Ce,Fe=Ke.childIndex,rt=he(he(he({},P.props),We),{},{activeIndex:Fe});return[q.cloneElement(Re,rt),null,null]}return be?[pe,null,null]:[pe,null]}),Ze(O,"renderCustomized",function(j,T,R){return q.cloneElement(j,he(he({key:"recharts-customized-".concat(R)},O.props),O.state))}),Ze(O,"renderMap",{CartesianGrid:{handler:cm,once:!0},ReferenceArea:{handler:O.renderReferenceElement},ReferenceLine:{handler:cm},ReferenceDot:{handler:O.renderReferenceElement},XAxis:{handler:cm},YAxis:{handler:cm},Brush:{handler:O.renderBrush,once:!0},Bar:{handler:O.renderGraphicChild},Line:{handler:O.renderGraphicChild},Area:{handler:O.renderGraphicChild},Radar:{handler:O.renderGraphicChild},RadialBar:{handler:O.renderGraphicChild},Scatter:{handler:O.renderGraphicChild},Pie:{handler:O.renderGraphicChild},Funnel:{handler:O.renderGraphicChild},Tooltip:{handler:O.renderCursor,once:!0},PolarGrid:{handler:O.renderPolarGrid,once:!0},PolarAngleAxis:{handler:O.renderPolarAxis},PolarRadiusAxis:{handler:O.renderPolarAxis},Customized:{handler:O.renderCustomized}}),O.clipPathId="".concat((M=N.id)!==null&&M!==void 0?M:Mc("recharts"),"-clip"),O.throttleTriggeredAfterMouseMove=H6(O.triggeredAfterMouseMove,(V=N.throttleDelay)!==null&&V!==void 0?V:1e3/60),O.state={},O}return yue(I,x),due(I,[{key:"componentDidMount",value:function(){var M,V;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(M=this.props.margin.left)!==null&&M!==void 0?M:0,top:(V=this.props.margin.top)!==null&&V!==void 0?V:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var M=this.props,V=M.children,O=M.data,j=M.height,T=M.layout,R=Wr(V,Ui);if(R){var P=R.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var U=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,D=aA(this.state,O,P,U),B=this.state.tooltipTicks[P].coordinate,L=(this.state.offset.top+j)/2,J=T==="horizontal",Q=J?{x:B,y:L}:{y:B,x:L},H=this.state.formattedGraphicalItems.find(function(te){var ce=te.item;return ce.type.name==="Scatter"});H&&(Q=he(he({},Q),H.props.points[P].tooltipPosition),D=H.props.points[P].tooltipPayload);var Y={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:U,activePayload:D,activeCoordinate:Q};this.setState(Y),this.renderCursor(R),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(M,V){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==V.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==M.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==M.margin){var O,j;this.accessibilityManager.setDetails({offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(M){$1([Wr(M.children,Ui)],[Wr(this.props.children,Ui)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var M=Wr(this.props.children,Ui);if(M&&typeof M.props.shared=="boolean"){var V=M.props.shared?"axis":"item";return c.indexOf(V)>=0?V:o}return o}},{key:"getMouseInfo",value:function(M){if(!this.container)return null;var V=this.container,O=V.getBoundingClientRect(),j=$X(O),T={chartX:Math.round(M.pageX-j.left),chartY:Math.round(M.pageY-j.top)},R=O.width/V.offsetWidth||1,P=this.inRange(T.chartX,T.chartY,R);if(!P)return null;var U=this.state,D=U.xAxisMap,B=U.yAxisMap,L=this.getTooltipEventType(),J=fL(this.state,this.props.data,this.props.layout,P);if(L!=="axis"&&D&&B){var Q=ns(D).scale,H=ns(B).scale,Y=Q&&Q.invert?Q.invert(T.chartX):null,te=H&&H.invert?H.invert(T.chartY):null;return he(he({},T),{},{xValue:Y,yValue:te},J)}return J?he(he({},T),J):null}},{key:"inRange",value:function(M,V){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,T=M/O,R=V/O;if(j==="horizontal"||j==="vertical"){var P=this.state.offset,U=T>=P.left&&T<=P.left+P.width&&R>=P.top&&R<=P.top+P.height;return U?{x:T,y:R}:null}var D=this.state,B=D.angleAxisMap,L=D.radiusAxisMap;if(B&&L){var J=ns(B);return dj({x:T,y:R},J)}return null}},{key:"parseEventsOfWrapper",value:function(){var M=this.props.children,V=this.getTooltipEventType(),O=Wr(M,Ui),j={};O&&V==="axis"&&(O.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=Hm(this.props,this.handleOuterEvent);return he(he({},T),j)}},{key:"addListener",value:function(){o1.on(s1,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){o1.removeListener(s1,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(M,V,O){for(var j=this.state.formattedGraphicalItems,T=0,R=j.length;T<R;T++){var P=j[T];if(P.item===M||P.props.key===M.key||V===eo(P.item.type)&&O===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var M=this.clipPathId,V=this.state.offset,O=V.left,j=V.top,T=V.height,R=V.width;return K.createElement("defs",null,K.createElement("clipPath",{id:M},K.createElement("rect",{x:O,y:j,height:T,width:R})))}},{key:"getXScales",value:function(){var M=this.state.xAxisMap;return M?Object.entries(M).reduce(function(V,O){var j=lL(O,2),T=j[0],R=j[1];return he(he({},V),{},Ze({},T,R.scale))},{}):null}},{key:"getYScales",value:function(){var M=this.state.yAxisMap;return M?Object.entries(M).reduce(function(V,O){var j=lL(O,2),T=j[0],R=j[1];return he(he({},V),{},Ze({},T,R.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(M){var V;return(V=this.state.xAxisMap)===null||V===void 0||(V=V[M])===null||V===void 0?void 0:V.scale}},{key:"getYScaleByAxisId",value:function(M){var V;return(V=this.state.yAxisMap)===null||V===void 0||(V=V[M])===null||V===void 0?void 0:V.scale}},{key:"getItemByXY",value:function(M){var V=this.state,O=V.formattedGraphicalItems,j=V.activeItem;if(O&&O.length)for(var T=0,R=O.length;T<R;T++){var P=O[T],U=P.props,D=P.item,B=D.type.defaultProps!==void 0?he(he({},D.type.defaultProps),D.props):D.props,L=eo(D.type);if(L==="Bar"){var J=(U.data||[]).find(function(te){return aie(M,te)});if(J)return{graphicalItem:P,payload:J}}else if(L==="RadialBar"){var Q=(U.data||[]).find(function(te){return dj(M,te)});if(Q)return{graphicalItem:P,payload:Q}}else if(Uy(P,j)||By(P,j)||ed(P,j)){var H=Cae({graphicalItem:P,activeTooltipItem:j,itemData:B.data}),Y=B.activeIndex===void 0?H:B.activeIndex;return{graphicalItem:he(he({},P),{},{childIndex:Y}),payload:ed(P,j)?B.data[H]:P.props.data[H]}}}return null}},{key:"render",value:function(){var M=this;if(!SP(this))return null;var V=this.props,O=V.children,j=V.className,T=V.width,R=V.height,P=V.style,U=V.compact,D=V.title,B=V.desc,L=uL(V,oue),J=Ye(L,!1);if(U)return K.createElement(zD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement(z1,ju({},J,{width:T,height:R,title:D,desc:B}),this.renderClipPath(),EP(O,this.renderMap)));if(this.props.accessibilityLayer){var Q,H;J.tabIndex=(Q=this.props.tabIndex)!==null&&Q!==void 0?Q:0,J.role=(H=this.props.role)!==null&&H!==void 0?H:"application",J.onKeyDown=function(te){M.accessibilityManager.keyboardEvent(te)},J.onFocus=function(){M.accessibilityManager.focus()}}var Y=this.parseEventsOfWrapper();return K.createElement(zD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},K.createElement("div",ju({className:bt("recharts-wrapper",j),style:he({position:"relative",cursor:"default",width:T,height:R},P)},Y,{ref:function(ce){M.container=ce}}),K.createElement(z1,ju({},J,{width:T,height:R,title:D,desc:B,style:Sue}),this.renderClipPath(),EP(O,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(q.Component);Ze(S,"displayName",n),Ze(S,"defaultProps",he({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Ze(S,"getDerivedStateFromProps",function(x,I){var N=x.dataKey,M=x.data,V=x.children,O=x.width,j=x.height,T=x.layout,R=x.stackOffset,P=x.margin,U=I.dataStartIndex,D=I.dataEndIndex;if(I.updateId===void 0){var B=hL(x);return he(he(he({},B),{},{updateId:0},_(he(he({props:x},B),{},{updateId:0}),I)),{},{prevDataKey:N,prevData:M,prevWidth:O,prevHeight:j,prevLayout:T,prevStackOffset:R,prevMargin:P,prevChildren:V})}if(N!==I.prevDataKey||M!==I.prevData||O!==I.prevWidth||j!==I.prevHeight||T!==I.prevLayout||R!==I.prevStackOffset||!Bu(P,I.prevMargin)){var L=hL(x),J={chartX:I.chartX,chartY:I.chartY,isTooltipActive:I.isTooltipActive},Q=he(he({},fL(I,M,T)),{},{updateId:I.updateId+1}),H=he(he(he({},L),J),Q);return he(he(he({},H),_(he({props:x},H),I)),{},{prevDataKey:N,prevData:M,prevWidth:O,prevHeight:j,prevLayout:T,prevStackOffset:R,prevMargin:P,prevChildren:V})}if(!$1(V,I.prevChildren)){var Y,te,ce,be,F=Wr(V,fc),W=F&&(Y=(te=F.props)===null||te===void 0?void 0:te.startIndex)!==null&&Y!==void 0?Y:U,se=F&&(ce=(be=F.props)===null||be===void 0?void 0:be.endIndex)!==null&&ce!==void 0?ce:D,ge=W!==U||se!==D,_e=!lt(M),Ae=_e&&!ge?I.updateId:I.updateId+1;return he(he({updateId:Ae},_(he(he({props:x},I),{},{updateId:Ae,dataStartIndex:W,dataEndIndex:se}),I)),{},{prevChildren:V,dataStartIndex:W,dataEndIndex:se})}return null}),Ze(S,"renderActiveDot",function(x,I,N){var M;return q.isValidElement(x)?M=q.cloneElement(x,I):it(x)?M=x(I):M=K.createElement(ky,I),K.createElement(jt,{className:"recharts-active-dot",key:N},M)});var w=q.forwardRef(function(I,N){return K.createElement(S,ju({},I,{ref:N}))});return w.displayName=S.displayName,w},Mue=hU({chartName:"LineChart",GraphicalChild:vc,axisComponents:[{axisType:"xAxis",AxisComp:Gy},{axisType:"yAxis",AxisComp:ad}],formatAxisMap:Poe}),kue=hU({chartName:"PieChart",GraphicalChild:mo,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Vy},{axisType:"radiusAxis",AxisComp:Dy}],formatAxisMap:bte,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const oA=({isOpen:t,onClose:e,title:n,message:r,buttons:i})=>{const o=q.useRef([]),[l,c]=q.useState(0);return q.useEffect(()=>{o.current=o.current.slice(0,i.length)},[i]),q.useEffect(()=>{if(t){const f=setTimeout(()=>{var p;(p=o.current[0])==null||p.focus(),c(0)},100),h=p=>{var S;if(!t||p.key==="Tab")return;p.preventDefault();const m=o.current.filter(Boolean);if(m.length===0)return;const v=m.findIndex(w=>w===document.activeElement);if(p.key==="Enter"){v!==-1&&m[v].click();return}let _=v===-1?0:v;p.key==="ArrowRight"?_=(v+1)%m.length:p.key==="ArrowLeft"&&(_=(v-1+m.length)%m.length),(S=m[_])==null||S.focus()};return document.addEventListener("keydown",h),()=>{clearTimeout(f),document.removeEventListener("keydown",h)}}},[t,i]),A.jsxs(Rc,{isOpen:t,onClose:e,title:n,children:[A.jsx("div",{className:"text-slate-600 dark:text-slate-300 mb-6",children:r}),A.jsx("div",{className:"flex justify-center items-center gap-3",children:i.map((f,h)=>A.jsx(et,{ref:p=>{o.current[h]=p},onClick:f.onClick,variant:h===l?"primary":"secondary",onFocus:()=>c(h),onMouseEnter:()=>{var p;return(p=o.current[h])==null?void 0:p.focus()},children:f.label},f.label))})]})},dU=({className:t})=>A.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t,children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),Ru=t=>{if(!t)return"";const e=new Date(t);return isNaN(e.getTime())?"":e.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})},pU=t=>{if(!t)return"";const e=new Date(t);if(isNaN(e.getTime()))return"";const n=Ru(e),r=e.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0});return`${n}, ${r}`},pL=["#10b981","#3b82f6","#ef4444","#f97316","#8b5cf6","#ec4899"],sA=t=>{if(isNaN(t)||t<0)return"0m 00s";const e=Math.floor(t/60),n=Math.floor(t%60);return`${e}m ${n.toString().padStart(2,"0")}s`},jue=({active:t,payload:e,label:n})=>{if(t&&e&&e.length){const r=e[0].payload,i=pU(r.timestamp);return A.jsxs("div",{className:"p-2 bg-slate-200 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-md shadow-md text-sm",children:[A.jsx("p",{className:"label font-semibold",children:`${i}`}),A.jsx("p",{className:"text-primary-500",children:`WPM: ${r.wpm}`}),A.jsx("p",{className:"text-blue-500",children:`Accuracy: ${r.accuracy.toFixed(2)}%`}),A.jsx("p",{className:"text-red-500",children:`Errors: ${r.errors}`}),A.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:`Duration: ${sA(r.duration)}`})]})}return null},mL=Math.PI/180,Due=({cx:t,cy:e,midAngle:n,outerRadius:r,fill:i,percent:o,name:l})=>{const c=Math.sin(-mL*n),f=Math.cos(-mL*n),h=t+(r+5)*f,p=e+(r+5)*c,m=t+(r+15)*f,v=e+(r+15)*c,_=m+(f>=0?1:-1)*12,S=v,w=f>=0?"start":"end";return o<.02?null:A.jsxs("g",{children:[A.jsx("path",{d:`M${h},${p}L${m},${v}L${_},${S}`,stroke:i,fill:"none"}),A.jsx("circle",{cx:_,cy:S,r:2,fill:i,stroke:"none"}),A.jsx("text",{x:_+(f>=0?1:-1)*8,y:S,textAnchor:w,fill:"#64748b",className:"dark:fill-slate-400 text-xs",dy:-6,children:l}),A.jsx("text",{x:_+(f>=0?1:-1)*8,y:S,dy:10,textAnchor:w,fill:"#1e293b",className:"dark:fill-slate-200 font-bold text-sm",children:`${(o*100).toFixed(2)}%`})]})},gL=t=>{switch(t){case" ":return"Space ()";case`
`:return"Enter ()";case"	":return"Tab ()";default:return t}},Lue=()=>{const t=q.useContext(Hn);if(!t)throw new Error("AppContext not found");const{practiceHistory:e,keyErrorStats:n,keyAttemptStats:r,wpmGoal:i,accuracyGoal:o,timeGoal:l,dailyPracticeTime:c,setGoals:f,navigateTo:h,startTargetedSession:p,showAlert:m,reloadDataFromStorage:v,deletePracticeSession:_,clearPracticeHistory:S,openSetupModal:w,fetchNewSnippet:x,startCustomSession:I,closeSetupModal:N,isSetupModalOpen:M}=t,[V,O]=q.useState(!1),[j,T]=q.useState(!1),[R,P]=q.useState("all"),U=q.useRef(null),[D,B]=q.useState(null),[L,J]=q.useState(null),[Q,H]=q.useState(0),Y=q.useRef(null),te=q.useRef(null);q.useEffect(()=>{var ye;e.length===0&&((ye=Y.current)==null||ye.focus())},[e.length]),q.useEffect(()=>{if(e.length>0)return;const ye=Te=>{(Te.key==="ArrowRight"||Te.key==="ArrowLeft")&&(Te.preventDefault(),H(ft=>ft===0?1:0))};return window.addEventListener("keydown",ye),()=>window.removeEventListener("keydown",ye)},[e.length]),q.useEffect(()=>{var ye,Te;e.length>0||(Q===0?(ye=Y.current)==null||ye.focus():(Te=te.current)==null||Te.focus())},[Q,e.length]),Qo("2",()=>P("24h"),{disabled:V}),Qo("7",()=>P("7d"),{disabled:V}),Qo("3",()=>P("30d"),{disabled:V}),Qo("a",()=>P("all"),{disabled:V});const ce=q.useCallback(()=>{try{V3(),m("Data exported successfully!","info")}catch(ye){m("Failed to export data.","error"),console.error(ye)}},[m]),be=q.useCallback(()=>{var ye;(ye=U.current)==null||ye.click()},[]);Qo("E",ce,{disabled:V}),Qo("I",be,{disabled:V});const F=(ye,Te)=>{try{mH(ye,Te),v(),m("Data imported successfully. Please refresh the page to see changes.","info",8e3)}catch(ft){const ht=ft instanceof Error?ft.message:"An unknown error occurred.";m(`Import failed: ${ht}`,"error"),console.error(ft)}},W=ye=>{var ht;const Te=(ht=ye.target.files)==null?void 0:ht[0];if(!Te)return;const ft=new FileReader;ft.onload=Pe=>{var _t;const dt=(_t=Pe.target)==null?void 0:_t.result;if(!dt){m("File is empty or could not be read.","error");return}const $e=localStorage.getItem("practiceHistory");$e&&JSON.parse($e).length>0?B({fileContent:dt}):F(dt,"replace"),ye.target&&(ye.target.value="")},ft.onerror=()=>{m("Error reading the selected file.","error"),ye.target&&(ye.target.value="")},ft.readAsText(Te)},se=ye=>{D&&F(D.fileContent,ye),B(null)},ge=()=>{(L==null?void 0:L.type)==="single"&&L.timestamp?(_(L.timestamp),m("Session deleted.","info"),J(null)):(L==null?void 0:L.type)==="all"&&(localStorage.clear(),window.location.reload())},_e=q.useMemo(()=>{const ye=Date.now();return R==="24h"?e.filter(Te=>ye-Te.timestamp<1440*60*1e3):R==="7d"?e.filter(Te=>ye-Te.timestamp<10080*60*1e3):R==="30d"?e.filter(Te=>ye-Te.timestamp<720*60*60*1e3):e},[e,R]),Ae=q.useMemo(()=>{if(_e.length===0)return{avgWpm:0,avgAccuracy:0,totalDuration:0,sessions:0,bestWpm:0,totalLines:0,totalErrors:0};const ye=_e.reduce(($e,nt)=>$e+nt.wpm,0),Te=_e.reduce(($e,nt)=>$e+nt.accuracy,0),ft=_e.reduce(($e,nt)=>$e+nt.duration,0),ht=Math.max(0,..._e.map($e=>$e.wpm)),Pe=_e.reduce(($e,nt)=>$e+(nt.linesTyped||0),0),dt=_e.reduce(($e,nt)=>$e+nt.errors,0);return{avgWpm:Math.round(ye/_e.length),avgAccuracy:parseFloat((Te/_e.length).toFixed(2)),totalDuration:ft,sessions:_e.length,bestWpm:ht,totalLines:Pe,totalErrors:dt}},[_e]),je=q.useMemo(()=>e.length===0?[]:Object.entries(n).map(([ye,Te])=>{const ft=r[ye]||Te,ht=Number(Te),Pe=Number(ft),dt=Pe>0?ht/Pe*100:0;return{key:ye,errors:ht,attempts:Pe,errorRate:dt}}).filter(ye=>ye.errors>0).sort((ye,Te)=>Te.errorRate-ye.errorRate),[n,r,e]),We=q.useMemo(()=>je.slice(0,5),[je]),pe=q.useMemo(()=>{if(_e.length===0)return[];const ye={};return _e.forEach(Te=>{ye[Te.language]=(ye[Te.language]||0)+Te.duration}),Object.entries(ye).map(([Te,ft])=>({name:Te,value:ft}))},[_e]),Le=ye=>{const Te=Math.floor(ye/3600),ft=Math.floor(ye%3600/60);return`${Te}h ${ft}m`},qe=()=>{const ye=We.map(Te=>Te.key);ye.length>0&&(h("practice"),p(ye,{length:"medium",level:"medium"}))},re=q.useMemo(()=>{const ye=new Date,Te=_e.slice().sort((_t,Je)=>_t.timestamp-Je.timestamp);let ft=[ye.getTime()-1440*60*1e3,ye.getTime()],ht=_t=>Ru(_t),Pe,dt="number",$e="timestamp",nt=Te;switch(R){case"24h":{ft=[ye.getTime()-1440*60*1e3,ye.getTime()],ht=_t=>new Date(_t).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"}),Pe=Array.from({length:7},(_t,Je)=>ye.getTime()-Je*4*60*60*1e3).reverse();break}case"7d":{const _t=new Date(ye);_t.setDate(ye.getDate()-6),_t.setHours(0,0,0,0),ft=[_t.getTime(),ye.getTime()],ht=Je=>Ru(Je),Pe=Array.from({length:7},(Je,Dn)=>{const On=new Date(_t);return On.setDate(On.getDate()+Dn),On.getTime()});break}case"30d":{const _t=new Date(ye);_t.setDate(ye.getDate()-29),_t.setHours(0,0,0,0),ft=[_t.getTime(),ye.getTime()],ht=Je=>Ru(Je),Pe=Array.from({length:7},(Je,Dn)=>{const On=new Date(_t);return On.setDate(On.getDate()+Dn*5),On.getTime()});break}case"all":{ft=["auto","auto"],ht=_t=>Ru(_t),dt="category";break}}return{data:nt,xAxisType:dt,xDataKey:$e,domain:ft,ticks:Pe,tickFormatter:ht}},[_e,R]),Ge=i>0?Math.min(100,Ae.avgWpm/i*100):0,we=o>0?Math.min(100,Ae.avgAccuracy/o*100):0,Se=l*60,Be=Se>0?Math.min(100,c/Se*100):0,Ke=Ae.avgWpm>i,Ce=Ae.avgAccuracy>=o,Re=c>Se;let Fe=0,rt=0;Ke&&(rt=Math.floor(Ae.avgWpm/10)*10+10,Fe=rt-i);let Nt=0,Jt=0;if(Re){const ye=c/60;Jt=Math.floor(ye/5)*5+5,Nt=Jt-l}const St=Math.min(5,100-o);if(e.length===0)return A.jsxs("div",{className:"text-center p-8 h-full flex flex-col justify-center items-center",children:[A.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Your Dashboard"}),A.jsx("p",{className:"text-slate-500 mb-6",children:"You haven't completed any practice sessions yet. Start a new session or import your previous data."}),A.jsxs("div",{className:"flex gap-4",children:[A.jsx(et,{ref:Y,variant:Q===0?"primary":"secondary",onClick:()=>{w()},onFocus:()=>H(0),onMouseEnter:()=>H(0),accessKeyChar:"Enter",accessKeyLabel:"",children:"Start Practicing"}),A.jsx(et,{ref:te,variant:Q===1?"primary":"secondary",onClick:be,onFocus:()=>H(1),onMouseEnter:()=>H(1),accessKeyChar:"I",title:"Import Data (Alt+I)",children:"Import Data"})]}),A.jsx("input",{type:"file",ref:U,className:"hidden",accept:".json,application/json",onChange:W})]});const ct=[{label:"Last 24 Hrs",value:"24h"},{label:"Last 7 Days",value:"7d"},{label:"Last 30 Days",value:"30d"},{label:"All Time",value:"all"}],un=["2","7","3","A"];return A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"space-y-8 h-full overflow-y-auto custom-scrollbar p-4",children:[A.jsxs("div",{className:"flex flex-col xl:flex-row justify-between xl:items-center gap-4",children:[A.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[A.jsx("h1",{className:"text-3xl font-bold",children:"Your Progress Dashboard"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx(et,{variant:"outline",size:"sm",onClick:be,title:"Import Data (Alt+I)",accessKeyChar:"I",children:"Import"}),A.jsx(et,{variant:"outline",size:"sm",onClick:ce,title:"Export Data (Alt+E)",accessKeyChar:"E",children:"Export"})]})]}),A.jsx(Zf,{options:ct,selectedValue:R,onSelect:ye=>P(ye),accessKeyChars:un})]}),_e.length===0?A.jsx(Yr,{className:"p-8 text-center text-slate-500",children:"No practice sessions found for the selected time period."}):A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[A.jsx(ar,{label:"Average WPM",value:Ae.avgWpm}),A.jsx(ar,{label:"Average Accuracy",value:`${Ae.avgAccuracy}%`}),A.jsx(ar,{label:"Best WPM",value:Ae.bestWpm}),A.jsx(ar,{label:"Total Practice Time",value:Le(Ae.totalDuration)}),A.jsx(ar,{label:"Total Lines Typed",value:Ae.totalLines}),A.jsx(ar,{label:"Total Errors",value:Ae.totalErrors})]}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[A.jsxs(Yr,{className:"lg:col-span-2 p-6 flex flex-col justify-center min-h-[450px]",children:[A.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Historical Performance"}),A.jsx("div",{className:"flex-grow flex items-center justify-center w-full",children:A.jsx(KM,{width:"100%",height:350,children:A.jsxs(Mue,{data:re.data,margin:{top:5,right:20,left:10,bottom:5},children:[A.jsx(XV,{strokeDasharray:"3 3",strokeOpacity:.2}),A.jsx(Gy,{type:re.xAxisType,dataKey:re.xDataKey,domain:re.domain,ticks:re.ticks,tickFormatter:re.tickFormatter,padding:{left:20,right:20}}),A.jsx(ad,{yAxisId:"left",label:{value:"WPM",angle:-90,position:"insideLeft",style:{textAnchor:"middle"}}}),A.jsx(ad,{yAxisId:"right",orientation:"right",label:{value:"Accuracy (%)",angle:-90,position:"insideRight",style:{textAnchor:"middle"}}}),A.jsx(Ui,{content:A.jsx(jue,{})}),A.jsx(cs,{}),A.jsx(vc,{yAxisId:"left",type:"monotone",dataKey:"wpm",stroke:"#10b981",name:"WPM",dot:!0}),A.jsx(vc,{yAxisId:"right",type:"monotone",dataKey:"accuracy",stroke:"#3b82f6",name:"Accuracy",dot:!0})]})})})]}),A.jsxs("div",{className:"space-y-8",children:[A.jsxs(Yr,{className:"p-6",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h2",{className:"text-xl font-semibold",children:"Your Goals"}),A.jsx(et,{variant:"ghost",size:"icon",onClick:()=>O(!0),children:A.jsx(JH,{className:"w-5 h-5"})})]}),A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[A.jsxs("span",{className:"text-sm font-medium",children:["Daily Time: ",sA(c)," / ",l,"m"]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:`text-sm font-bold ${c>=Se?"text-amber-500":""}`,children:c>=Se?"Goal Achieved!":`${Be.toFixed(0)}%`}),Re&&Nt>0&&A.jsxs(et,{variant:"ghost",size:"sm",className:"!py-0 !px-2 !h-auto",onClick:()=>f(i,o,Jt),title:`Increase daily time goal to ${Jt} minutes`,children:["+",Nt," min"]})]})]}),A.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2.5",children:A.jsx("div",{className:`h-2.5 rounded-full ${c>=Se?"bg-amber-400":"bg-primary-500"}`,style:{width:`${Be}%`}})})]}),A.jsxs("div",{children:[A.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[A.jsxs("span",{className:"text-sm font-medium",children:["WPM: ",Ae.avgWpm," / ",i]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:`text-sm font-bold ${Ae.avgWpm>=i?"text-amber-500":""}`,children:Ae.avgWpm>=i?"Goal Achieved!":`${Ge.toFixed(0)}%`}),Ke&&Fe>0&&A.jsxs(et,{variant:"ghost",size:"sm",className:"!py-0 !px-2 !h-auto",onClick:()=>f(rt,o,l),title:`Increase WPM goal to ${rt}`,children:["+",Fe," WPM"]})]})]}),A.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2.5",children:A.jsx("div",{className:`h-2.5 rounded-full ${Ae.avgWpm>=i?"bg-amber-400":"bg-primary-500"}`,style:{width:`${Ge}%`}})})]}),A.jsxs("div",{children:[A.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[A.jsxs("span",{className:"text-sm font-medium",children:["Accuracy: ",Ae.avgAccuracy,"% / ",o,"%"]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:`text-sm font-bold ${Ae.avgAccuracy>=o?"text-amber-500":""}`,children:Ae.avgAccuracy>=o?"Goal Achieved!":`${we.toFixed(0)}%`}),Ce&&St>0&&A.jsxs(et,{variant:"ghost",size:"sm",className:"!py-0 !px-2 !h-auto",onClick:()=>f(i,o+St,l),title:`Increase Accuracy goal to ${o+St}%`,children:["+",St,"%"]})]})]}),A.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-2.5",children:A.jsx("div",{className:`h-2.5 rounded-full ${Ae.avgAccuracy>=o?"bg-amber-400":"bg-primary-500"}`,style:{width:`${we}%`}})})]})]})]}),A.jsxs(Yr,{className:"p-6",children:[A.jsx("div",{className:"flex justify-between items-center mb-4",children:A.jsx("h2",{className:"text-xl font-semibold",children:"Language Focus"})}),pe.length>0?A.jsx("div",{className:"flex justify-center w-full",children:A.jsx(KM,{width:"100%",height:300,children:A.jsxs(kue,{children:[A.jsx(mo,{data:pe,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",nameKey:"name",label:Due,children:pe.map((ye,Te)=>A.jsx(wy,{fill:pL[Te%pL.length]},`cell-${Te}`))}),A.jsx(Ui,{formatter:ye=>Le(ye)}),A.jsx(cs,{wrapperStyle:{paddingTop:"20px"}})]})})}):A.jsx("p",{className:"text-center text-slate-500",children:"No language data available for this period."})]})]})]}),A.jsxs(Yr,{className:"p-6",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h2",{className:"text-xl font-semibold",children:"Error Analysis"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx(et,{variant:"ghost",size:"sm",onClick:()=>T(!0),children:"View All"}),A.jsx(et,{variant:"secondary",size:"sm",onClick:qe,disabled:We.length===0,title:"Practice your weakest keys immediately",children:"Practice Errors"})]})]}),We.length>0?A.jsxs("div",{className:"space-y-4",children:[We.map((ye,Te)=>A.jsxs("div",{className:"space-y-1",children:[A.jsxs("div",{className:"flex justify-between items-center text-sm",children:[A.jsx("span",{className:"font-mono bg-slate-100 dark:bg-slate-700 px-1.5 py-0.5 rounded text-slate-700 dark:text-slate-300",children:gL(ye.key)}),A.jsxs("span",{className:"text-slate-500 dark:text-slate-400 text-xs",children:[ye.errors," Errors / ",ye.attempts," Attempts (",ye.errorRate.toFixed(1),"%)"]})]}),A.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-1.5",children:A.jsx("div",{className:"bg-red-500 h-1.5 rounded-full",style:{width:`${Math.min(100,ye.errorRate)}%`}})})]},Te)),je.length>5&&A.jsxs("p",{className:"text-xs text-center text-slate-500 mt-2",children:["+ ",je.length-5," other keys needing practice"]})]}):A.jsx("p",{className:"text-center text-slate-500",children:"No significant errors found for this period."})]}),A.jsxs(Yr,{className:"p-6",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h2",{className:"text-xl font-semibold",children:"Recent Sessions"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx(et,{variant:"secondary",size:"sm",onClick:()=>h("history"),children:"View All"}),A.jsx(et,{variant:"destructive",size:"sm",onClick:()=>J({type:"all"}),children:"Clear All History"})]})]}),_e.length>0?A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[A.jsx("thead",{children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Date"}),A.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"WPM"}),A.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Accuracy"}),A.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Duration"}),A.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Language"}),A.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Errors"}),A.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase tracking-wider"})]})}),A.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:_e.sort((ye,Te)=>Te.timestamp-ye.timestamp).slice(0,5).map((ye,Te)=>A.jsxs("tr",{className:Te%2===0?"bg-slate-50 dark:bg-slate-800":"",children:[A.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:Ru(ye.date)}),A.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:ye.wpm.toFixed(0)}),A.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:[ye.accuracy.toFixed(1),"%"]}),A.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:sA(ye.duration)}),A.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:ye.language}),A.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:ye.errors}),A.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-right text-sm font-medium",children:A.jsx(et,{variant:"ghost",size:"icon",onClick:()=>J({type:"single",timestamp:ye.timestamp}),children:A.jsx(dU,{className:"w-4 h-4 text-red-500"})})})]},ye.id))})]})}):A.jsx("p",{className:"text-center text-slate-500",children:"No recent sessions for this period."})]})]})]}),A.jsx(ZH,{isOpen:V,onClose:()=>O(!1),onSave:(ye,Te,ft)=>{f(ye,Te,ft),O(!1)},currentWpmGoal:i,currentAccuracyGoal:o,currentTimeGoal:l}),A.jsxs(Rc,{isOpen:j,onClose:()=>T(!1),title:"All Error Stats",children:[A.jsx("div",{className:"max-h-[60vh] overflow-y-auto custom-scrollbar pr-2",children:je.length>0?A.jsx("div",{className:"space-y-4",children:je.map((ye,Te)=>A.jsxs("div",{className:"space-y-1",children:[A.jsxs("div",{className:"flex justify-between items-center text-sm",children:[A.jsx("span",{className:"font-mono bg-slate-100 dark:bg-slate-700 px-1.5 py-0.5 rounded text-slate-700 dark:text-slate-300",children:gL(ye.key)}),A.jsxs("span",{className:"text-slate-500 dark:text-slate-400 text-xs",children:[ye.errors," Errors / ",ye.attempts," Attempts (",ye.errorRate.toFixed(1),"%)"]})]}),A.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 rounded-full h-1.5",children:A.jsx("div",{className:"bg-red-500 h-1.5 rounded-full",style:{width:`${Math.min(100,ye.errorRate)}%`}})})]},Te))}):A.jsx("p",{className:"text-center text-slate-500",children:"No error data available."})}),A.jsx("div",{className:"mt-6 flex justify-center",children:A.jsx(et,{variant:"secondary",onClick:()=>T(!1),autoFocus:!0,children:"Close"})})]}),A.jsx(oA,{isOpen:!!D,onClose:()=>B(null),title:"Import Data",message:"You have existing practice history. How would you like to import the new data?",buttons:[{label:"Merge",onClick:()=>se("merge"),variant:"primary"},{label:"Replace",onClick:()=>se("replace"),variant:"secondary"}]}),A.jsx(oA,{isOpen:!!L,onClose:()=>J(null),title:(L==null?void 0:L.type)==="all"?"Delete All History":"Delete Session",message:(L==null?void 0:L.type)==="all"?A.jsxs("span",{children:["Are you sure you want to delete ALL practice history? This action cannot be undone and will reset the website to a fresh state.",A.jsx("br",{}),A.jsx("br",{}),"To prevent data loss, we recommend you ",A.jsx("span",{className:"text-blue-600 dark:text-blue-400 cursor-pointer hover:underline font-medium",onClick:ce,children:"Export"})," your data first."]}):"Are you sure you want to delete this practice session?",buttons:[{label:"Cancel",onClick:()=>J(null),variant:"secondary"},{label:"Delete",onClick:ge,variant:"primary",className:"bg-red-600 hover:bg-red-700 text-white"}]}),A.jsx("input",{type:"file",ref:U,className:"hidden",accept:".json,application/json",onChange:W})]})},Vue=()=>{const t=q.useContext(Hn);if(!t)return null;const{practiceHistory:e,deletePracticeSession:n,clearPracticeHistory:r,navigateTo:i,showAlert:o}=t,[l,c]=q.useState(null),f=()=>{(l==null?void 0:l.type)==="single"&&l.timestamp?n(l.timestamp):(l==null?void 0:l.type)==="all"&&r(),c(null)},h=()=>{try{V3(),o("Data exported successfully!","info")}catch(v){o("Failed to export data.","error"),console.error(v)}},p=v=>{const _=Math.floor(v/60),S=Math.floor(v%60);return`${_}m ${S.toString().padStart(2,"0")}s`},m=q.useMemo(()=>[...e].sort((v,_)=>_.timestamp-v.timestamp),[e]);return A.jsxs("div",{className:"space-y-6 h-full overflow-y-auto custom-scrollbar p-4",children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx(et,{variant:"outline",onClick:()=>i("dashboard"),title:"Back to Dashboard",accessKeyChar:"ArrowLeft",accessKeyLabel:"",children:" Back to Dashboard"}),A.jsx("h1",{className:"text-3xl font-bold",children:"Practice History"})]}),m.length>0&&A.jsx(et,{variant:"destructive",onClick:()=>c({type:"all"}),children:"Clear All History"})]}),A.jsx(Yr,{className:"p-6",children:m.length>0?A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"min-w-full divide-y divide-slate-200 dark:divide-slate-700",children:[A.jsx("thead",{children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Date"}),A.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"WPM"}),A.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Accuracy"}),A.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Duration"}),A.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Language"}),A.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Lines"}),A.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Errors"}),A.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),A.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:m.map((v,_)=>A.jsxs("tr",{className:_%2===0?"bg-slate-50 dark:bg-slate-800":"",children:[A.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:pU(v.timestamp)}),A.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100 font-medium",children:v.wpm.toFixed(0)}),A.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:A.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v.accuracy>=95?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":v.accuracy>=90?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:[v.accuracy.toFixed(1),"%"]})}),A.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:p(v.duration)}),A.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:v.language}),A.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:v.linesTyped||0}),A.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-900 dark:text-slate-100",children:v.errors}),A.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium",children:A.jsx(et,{variant:"ghost",size:"icon",onClick:()=>c({type:"single",timestamp:v.timestamp}),title:"Delete Session",children:A.jsx(dU,{className:"w-4 h-4 text-red-500"})})})]},v.timestamp))})]})}):A.jsxs("div",{className:"text-center py-12 text-slate-500",children:[A.jsx("p",{className:"text-lg mb-2",children:"No practice history found."}),A.jsx("p",{className:"text-sm",children:"Complete some practice sessions to see them listed here."}),A.jsx(et,{className:"mt-4",onClick:()=>i("practice"),children:"Start Practicing"})]})}),A.jsx(oA,{isOpen:!!l,onClose:()=>c(null),title:(l==null?void 0:l.type)==="all"?"Delete All History":"Delete Session",message:(l==null?void 0:l.type)==="all"?A.jsxs("span",{children:["Are you sure you want to delete ALL practice history? This action cannot be undone.",A.jsx("br",{}),A.jsx("br",{}),"To prevent data loss, we recommend you ",A.jsx("span",{className:"text-blue-600 dark:text-blue-400 cursor-pointer hover:underline font-medium",onClick:h,children:"Export"})," your data first."]}):"Are you sure you want to delete this practice session?",buttons:[{label:"Cancel",onClick:()=>c(null),variant:"secondary"},{label:"Delete",onClick:f,variant:"primary",className:"bg-red-600 hover:bg-red-700 text-white"}]})]})},Uue=()=>{const{user:t,logout:e,syncStatus:n}=eE(),r=q.useContext(Hn);if(!r)throw new Error("AppContext not found");const{practiceHistory:i}=r,o=q.useMemo(()=>{if(i.length===0)return{bestWpm:0,avgAccuracy:0,totalSessions:0};const c=Math.max(0,...i.map(p=>p.wpm)),f=i.reduce((p,m)=>p+m.accuracy,0),h=parseFloat((f/i.length).toFixed(2));return{bestWpm:c,avgAccuracy:h,totalSessions:i.length}},[i]),l=async()=>{await e(),window.location.reload()};return t?A.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-8 animate-fade-in-up",children:[A.jsxs(Yr,{className:"p-8 flex flex-col items-center sm:flex-row sm:items-start gap-6 border-b-4 border-primary-500",children:[A.jsxs("div",{className:"relative",children:[A.jsx("img",{src:t.photoURL||`https://ui-avatars.com/api/?name=${t.displayName}`,alt:t.displayName||"User",className:"w-24 h-24 rounded-full border-4 border-slate-100 dark:border-slate-700 shadow-lg"}),A.jsx("div",{className:"absolute bottom-0 right-0 bg-green-500 text-white text-xs px-2 py-0.5 rounded-full border border-white dark:border-slate-800 shadow-sm",children:"Pro"})]}),A.jsxs("div",{className:"flex-grow text-center sm:text-left space-y-2",children:[A.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary-600 to-blue-600 dark:from-primary-400 dark:to-blue-400",children:t.displayName}),A.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:t.email}),A.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 pt-2",children:[A.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-semibold flex items-center gap-1.5 transition-colors
                            ${n==="synced"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":n==="syncing"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-400"}`,children:[n==="synced"&&A.jsxs(A.Fragment,{children:[A.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),"Cloud Synced"]}),n==="syncing"&&A.jsxs(A.Fragment,{children:[A.jsx("span",{className:"animate-spin w-3 h-3 border-2 border-blue-500 border-t-transparent rounded-full"}),"Syncing..."]}),n==="idle"&&A.jsxs(A.Fragment,{children:[A.jsx("span",{className:"w-2 h-2 rounded-full bg-slate-400"}),"Sync Idle"]}),n==="error"&&A.jsxs(A.Fragment,{children:[A.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500"}),"Sync Error"]})]}),A.jsxs("span",{className:"text-xs text-slate-400",children:["Member since ",t.metadata.creationTime?new Date(t.metadata.creationTime).toLocaleDateString():"Unknown"]})]})]})]}),A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[A.jsx(ar,{label:"Best WPM",value:o.bestWpm,className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20"}),A.jsx(ar,{label:"Avg Accuracy",value:`${o.avgAccuracy}%`,className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20"}),A.jsx(ar,{label:"Total Sessions",value:o.totalSessions,className:"bg-gradient-to-br from-purple-50 to-fuchsia-50 dark:from-purple-900/20 dark:to-fuchsia-900/20"})]}),A.jsx("div",{className:"flex justify-center pt-8",children:A.jsx(et,{variant:"destructive",size:"lg",onClick:l,className:"w-full sm:w-auto min-w-[200px] shadow-md hover:shadow-xl transition-all",children:"Sign Out"})})]}):A.jsx("div",{className:"flex flex-col items-center justify-center h-full p-4 text-center",children:A.jsxs(Yr,{className:"p-8 max-w-md w-full",children:[A.jsx("h2",{className:"text-2xl font-bold mb-4",children:"You are not signed in"}),A.jsx("p",{className:"text-slate-500 mb-6",children:"Sign in to sync your progress across devices."})]})})},Bue=()=>{const t=q.useContext(Hn),[e,n]=q.useState(!1);if(q.useEffect(()=>n(!0),[]),!t)return null;const{alertMessage:r}=t,i={warning:A.jsx(uh,{className:"w-5 h-5"}),info:A.jsx(uh,{className:"w-5 h-5"}),error:A.jsx(uh,{className:"w-5 h-5"})},o={warning:"bg-yellow-400 text-yellow-900",info:"bg-blue-500 text-white",error:"bg-red-500 text-white"};if(!e||!r)return null;const l=document.getElementById("alert-root");return l?F3.createPortal(A.jsx("div",{className:"fixed top-6 inset-x-0 z-[10000] flex justify-center pointer-events-none",role:"alert",children:A.jsxs("div",{className:`pointer-events-auto px-4 py-3 rounded-md shadow-lg flex items-center gap-2 animate-fade-in-up ${o[r.type]}`,children:[i[r.type],A.jsx("span",{className:"font-semibold",children:r.message})]})}),l):null},$ue=t=>A.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[A.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),A.jsx("polyline",{points:"17 8 12 3 7 8"}),A.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),que=[{label:"Short",value:"short"},{label:"Medium",value:"medium"},{label:"Long",value:"long"}],zue=[{label:"Easy",value:"easy"},{label:"Medium",value:"medium"},{label:"Hard",value:"hard"}],Fue=[{label:"Generate with AI",value:"generate"},{label:"Upload Text",value:"upload"}],Hue=[{label:"Code Practice",value:"code"},{label:"General Typing",value:"general"}],Gue={id:"custom",name:"Custom",prismAlias:"clike"},yL={id:"general",name:"General Text",prismAlias:"text"},Kue=xn,u1=[...xn,Gue],Wue=({isOpen:t,onClose:e,onStart:n,variant:r})=>{const i=q.useContext(Hn);if(!i)throw new Error("AppContext not found");const{selectedLanguage:o,setSelectedLanguage:l,isLoadingSnippet:c,setLastPracticeAction:f,setupTab:h,setSetupTab:p,snippetLength:m,setSnippetLength:v,snippetLevel:_,setSnippetLevel:S,practiceMode:w,setPracticeMode:x,startMultiFileSession:I,showAlert:N,navigateTo:M,generalContentTypes:V,setGeneralContentTypes:O}=i,[j,T]=q.useState(m),[R,P]=q.useState(_),[U,D]=q.useState(w),[B,L]=q.useState(""),[J,Q]=q.useState(V),H=q.useRef(null),Y=q.useRef(null),te=q.useRef(null),ce=q.useRef(null),be=q.useRef(null),F=q.useRef(null),W=q.useRef(null),se=q.useRef(null),ge=q.useRef(null),_e=q.useRef(null),Ae=q.useRef(null),je=q.useRef(null),We=q.useRef(null);q.useEffect(()=>{t&&(T(m),P(_),D(w),Q(V),setTimeout(()=>{var we;return(we=ge.current)==null?void 0:we.focus()},50))},[t,m,_,w,V]),q.useEffect(()=>{t&&h==="upload"&&setTimeout(()=>{var we;return(we=Y.current)==null?void 0:we.focus()},50)},[t,h]);const pe=()=>{f("generate"),x(U),v(j),S(R),O(J),n(j,R,null,U,J)},Le=we=>{if(we.trim().length<2){N("Code must be at least 2 characters long.","error");return}f("upload"),U==="general"&&l(yL),n(null,null,we,U)},qe=async we=>{if(we.target.files&&we.target.files.length>0){const Se=Array.from(we.target.files);if(Se.length===1){const Be=Se[0],Ke=new FileReader;Ke.onload=Ce=>{var Fe;const Re=(Fe=Ce.target)==null?void 0:Fe.result;Le(Re)},Ke.readAsText(Be)}else{const Be=Ke=>new Promise(Ce=>{const Re=new FileReader;Re.onload=Fe=>{var Nt;const rt=(Nt=Fe.target)==null?void 0:Nt.result;Ce({file:Ke,isValid:rt.trim().length>=2})},Re.readAsText(Ke)});try{const Ke=await Promise.all(Se.map(Be)),Ce=Ke.filter(Fe=>Fe.isValid).map(Fe=>Fe.file),Re=Ke.filter(Fe=>!Fe.isValid).map(Fe=>Fe.file);if(Ce.length===0)N("All selected files are invalid. Code must be at least 2 characters long.","error");else{if(Re.length>0){const Fe=Re.map(rt=>rt.name).join(", ");N(`Skipped ${Re.length} invalid file(s) (<2 chars): ${Fe}`,"warning",6e3)}U==="general"&&l(yL),await I(Ce),e(),M("practice")}}catch(Ke){console.error("Multi-file session start failed:",Ke),N("An unexpected error occurred while processing files.","error")}}}},re=we=>{Q(Se=>Se.includes(we)?Se.length===1?Se:Se.filter(Be=>Be!==we):[...Se,we])};q.useEffect(()=>{const we=Se=>{var Ce,Re,Fe,rt,Nt,Jt,St;if(!t||Se.defaultPrevented)return;const Be=Se.target,Ke=Be.tagName==="TEXTAREA"||Be.tagName==="INPUT"&&Be.type==="text";if((Se.ctrlKey||Se.shiftKey||Se.altKey)&&Se.key==="Enter"){Se.preventDefault(),h==="generate"?c||pe():B.trim()&&Le(B);return}if(!(Ke&&Se.key.startsWith("Arrow"))){if(Se.key==="ArrowLeft"||Se.key==="ArrowRight"){const ct=document.activeElement,un=h==="generate"?ge.current:Ae.current;if(ct===un||ct===je.current){Se.preventDefault(),ct===un?(Ce=je.current)==null||Ce.focus():un==null||un.focus();return}if((Re=W.current)!=null&&Re.contains(ct)){Se.preventDefault();const ye=Array.from(W.current.querySelectorAll("button")),Te=ye.indexOf(ct);if(Te!==-1){const ft=Se.key==="ArrowRight"?1:-1,ht=(Te+ft+ye.length)%ye.length;ye[ht].focus()}return}}if(Se.key==="Enter"&&((Fe=W.current)!=null&&Fe.contains(document.activeElement))){Se.preventDefault(),document.activeElement.click();return}if(Se.key==="ArrowDown"||Se.key==="ArrowUp"){const ct=[];ct.push({ref:te,type:"segmented"}),ct.push({ref:ce,type:"segmented"}),h==="generate"?(U==="code"&&ct.push({ref:se,type:"select"}),ct.push({ref:be,type:"segmented"}),U==="code"?ct.push({ref:F,type:"segmented"}):ct.push({ref:W,type:"container"}),ct.push({ref:We,type:"container"})):(U==="code"&&ct.push({ref:se,type:"select"}),ct.push({ref:Y,type:"input"}),ct.push({ref:_e,type:"button"}),ct.push({ref:We,type:"container"}));const un=document.activeElement,ye=ct.findIndex(Te=>{var ft,ht,Pe;return Te.type==="select"?((ht=(ft=Te.ref.current)==null?void 0:ft.getTriggerElement)==null?void 0:ht.call(ft))===un:Te.type==="container"||Te.type==="segmented"?(Pe=Te.ref.current)==null?void 0:Pe.contains(un):Te.ref.current===un});if(ye!==-1){Se.preventDefault();const Te=Se.key==="ArrowDown"?1:-1,ft=(ye+Te+ct.length)%ct.length,ht=ct[ft];if(ht.type==="select")(rt=ht.ref.current)==null||rt.focus();else if(ht.type==="container")if(ht.ref===We){const Pe=h==="generate"?ge.current:Ae.current;Pe==null||Pe.focus()}else if(ht.ref===W){const Pe=(Nt=ht.ref.current)==null?void 0:Nt.querySelector("button");Pe==null||Pe.focus()}else{const Pe=(Jt=ht.ref.current)==null?void 0:Jt.querySelector("input");Pe==null||Pe.focus()}else(St=ht.ref.current)==null||St.focus()}return}if(Se.altKey)switch(Se.key.toLowerCase()){case"a":p("generate");break;case"u":p("upload");break;case"c":D("code");break;case"g":D("general");break;case"s":h==="generate"&&T("short");break;case"m":h==="generate"&&T("medium");break;case"l":h==="generate"&&T("long");break;case"i":h==="generate"&&U==="code"&&P("medium");break;case"h":h==="generate"&&(U==="code"?P("hard"):re("characters"));break;case"y":h==="generate"&&(U==="code"?P("easy"):re("symbols"));break;case"n":h==="generate"&&U==="general"&&re("numbers");break}}};return window.addEventListener("keydown",we),()=>window.removeEventListener("keydown",we)},[t,c,U,h,j,R,J,B,pe,Le]);const Ge=we=>{const Se=we,Be=u1.find(Ke=>Ke.id===Se)||u1[0];l(Be)};return A.jsx(Rc,{isOpen:t,onClose:e,title:"Practice Setup",size:"md",children:A.jsxs("div",{className:"space-y-6",children:[A.jsx(Zf,{ref:te,options:Fue,selectedValue:h,onSelect:we=>{var Se;p(we),(Se=te.current)==null||Se.focus()},className:"mb-4",accessKeyChars:["A","U"]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Mode"}),A.jsx(Zf,{ref:ce,options:Hue,selectedValue:U,onSelect:we=>{var Se;D(we),(Se=ce.current)==null||Se.focus()},accessKeyChars:["C","G"]})]}),h==="generate"&&A.jsxs("div",{className:"space-y-4 animate-fade-in-up",children:[U==="code"&&A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Language"}),A.jsx(L1,{ref:se,options:Kue.map(we=>({label:we.name,value:we.id})),value:o.id,onChange:Ge,searchable:!0})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Length"}),A.jsx(Zf,{ref:be,options:que,selectedValue:j,onSelect:we=>{var Se;T(we),(Se=be.current)==null||Se.focus()},accessKeyChars:["S","M","L"]})]}),U==="code"?A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Difficulty Level"}),A.jsx(Zf,{ref:F,options:zue,selectedValue:R,onSelect:we=>{var Se;P(we),(Se=F.current)==null||Se.focus()},accessKeyChars:["Y","I","H"]})]}):A.jsxs("div",{className:"space-y-2",ref:W,children:[A.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Content Type"}),A.jsxs("div",{className:"flex p-1 gap-1 bg-slate-100 dark:bg-slate-700/50 rounded-lg w-full",children:[A.jsx("button",{onClick:()=>re("characters"),className:`flex-1 px-3 py-1.5 text-sm font-medium rounded-md transition-all duration-200 ${J.includes("characters")?"bg-white dark:bg-slate-600 text-primary-600 dark:text-primary-400 shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300 bg-transparent"}`,children:"Characters (a-z)"}),A.jsx("button",{onClick:()=>re("numbers"),className:`flex-1 px-3 py-1.5 text-sm font-medium rounded-md transition-all duration-200 ${J.includes("numbers")?"bg-white dark:bg-slate-600 text-primary-600 dark:text-primary-400 shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300 bg-transparent"}`,children:"Numbers (0-9)"}),A.jsx("button",{onClick:()=>re("symbols"),className:`flex-1 px-3 py-1.5 text-sm font-medium rounded-md transition-all duration-200 ${J.includes("symbols")?"bg-white dark:bg-slate-600 text-primary-600 dark:text-primary-400 shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-300 bg-transparent"}`,children:"Symbols (!@#)"})]})]})]}),h==="upload"&&A.jsxs("div",{className:"space-y-4 animate-fade-in-up",children:[U==="code"&&A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Language"}),A.jsx(L1,{ref:se,options:u1.map(we=>({label:we.name,value:we.id})),value:o.id,onChange:Ge,searchable:!0})]}),A.jsxs("div",{className:"space-y-2",children:[A.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Paste Code"}),A.jsx("textarea",{ref:Y,className:"w-full h-32 p-3 border rounded-md dark:bg-slate-800 dark:border-slate-600 dark:text-white font-mono text-sm focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none resize-none",placeholder:"Paste your code here...",value:B,onChange:we=>L(we.target.value)})]}),A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute inset-0 flex items-center",children:A.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),A.jsx("div",{className:"relative flex justify-center text-sm",children:A.jsx("span",{className:"px-2 bg-white dark:bg-slate-900 text-gray-500",children:"Or upload file"})})]}),A.jsxs("div",{className:"flex justify-center",children:[A.jsx("input",{type:"file",ref:H,className:"hidden",accept:".txt,.js,.jsx,.ts,.tsx,.py,.java,.cpp,.c,.h,.hpp,.cs,.go,.rs,.php,.rb,.html,.css,.json,.md",onChange:qe,multiple:!0}),A.jsxs(et,{ref:_e,variant:"secondary",onClick:()=>{var we;return(we=H.current)==null?void 0:we.click()},className:"w-full",children:[A.jsx($ue,{className:"w-4 h-4 mr-2"}),"Select File(s)"]})]})]}),A.jsxs("div",{className:"flex justify-center gap-3 pt-4 border-t dark:border-slate-700",ref:We,children:[A.jsx(et,{ref:je,variant:"ghost",onClick:e,className:"hover:bg-slate-200 dark:hover:bg-slate-700 focus:ring-2 focus:ring-primary-500 focus:bg-slate-100 dark:focus:bg-slate-800 transition-colors",children:"Cancel"}),h==="generate"?A.jsx(et,{ref:ge,variant:"primary",onClick:pe,isLoading:c,accessKeyChar:"Enter",accessKeyLabel:"",children:"Start Practice"}):A.jsx(et,{ref:Ae,variant:"primary",onClick:()=>Le(B),disabled:!B.trim(),children:"Use This Text"})]})]})})},Yue=()=>{const t=q.useContext(Hn);if(!t)throw new Error("AppContext not found. Make sure AppContent is a child of AppProvider.");const{page:e,navigateTo:n,sessionResetKey:r,isSetupModalOpen:i,closeSetupModal:o,handleStartFromSetup:l}=t,c=()=>{switch(e){case"practice":return A.jsx(QH,{},r);case"dashboard":return A.jsx(Lue,{});case"history":return A.jsx(Vue,{});case"profile":return A.jsx(Uue,{});case"home":default:return A.jsx(TH,{onStartPractice:()=>n("practice")})}};return A.jsxs("div",{className:"h-screen bg-slate-50 dark:bg-slate-900 text-gray-900 dark:text-gray-100 font-sans transition-colors duration-300 flex flex-col",children:[A.jsx(Bue,{}),A.jsx(EH,{}),A.jsx("main",{className:"container mx-auto px-4 py-4 flex-grow flex flex-col min-h-0",children:c()}),A.jsx(Wue,{isOpen:i,onClose:o,onStart:l})]})},Xue=()=>A.jsx(uH,{children:A.jsx(yH,{children:A.jsx(Yue,{})})}),mU=document.getElementById("root");if(!mU)throw new Error("Could not find root element to mount to");const Que=t9.createRoot(mU);Que.render(A.jsx(Xue,{}));
